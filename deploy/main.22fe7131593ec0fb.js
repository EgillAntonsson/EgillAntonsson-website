(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{9461:(ci,Tn,yt)=>{"use strict";function qt(n){return"function"==typeof n}let Si=!1;const Tt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Si&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Si=n},get useDeprecatedSynchronousErrorHandling(){return Si}};function K(n){setTimeout(()=>{throw n},0)}const Zt={closed:!0,next(n){},error(n){if(Tt.useDeprecatedSynchronousErrorHandling)throw n;K(n)},complete(){}},tn=Array.isArray||(n=>n&&"number"==typeof n.length);function di(n){return null!==n&&"object"==typeof n}const ue=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Re{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:s,_subscriptions:r}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Re)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(qt(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(o){t=o instanceof ue?un(o.errors):[o]}}if(tn(r)){let o=-1,a=r.length;for(;++o<a;){const u=r[o];if(di(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof ue?t=t.concat(un(h.errors)):t.push(h)}}}if(t)throw new ue(t)}add(t){let e=t;if(!t)return Re.EMPTY;switch(typeof t){case"function":e=new Re(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Re)){const r=e;e=new Re,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Re){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function un(n){return n.reduce((t,e)=>t.concat(e instanceof ue?e.errors:e),[])}Re.EMPTY=((n=new Re).closed=!0,n);const Wn="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ke extends Re{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Zt;break;case 1:if(!t){this.destination=Zt;break}if("object"==typeof t){t instanceof ke?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Wi(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Wi(this,t,e,i)}}[Wn](){return this}static create(t,e,i){const s=new ke(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Wi extends ke{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;qt(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Zt&&(o=Object.create(e),qt(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Tt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=Tt;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):K(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;K(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Tt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),Tt.useDeprecatedSynchronousErrorHandling)throw i;K(i)}}__tryOrSetError(t,e,i){if(!Tt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return Tt.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(K(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const zn="function"==typeof Symbol&&Symbol.observable||"@@observable";function L(n){return n}let F=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function zi(n,t,e){if(n){if(n instanceof ke)return n;if(n[Wn])return n[Wn]()}return n||t||e?new ke(n,t,e):new ke(Zt)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||Tt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Tt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){Tt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function _r(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof ke?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=X(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(u){r(u),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[zn](){return this}pipe(...e){return 0===e.length?this:function H(n){return 0===n.length?L:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=X(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function X(n){if(n||(n=Tt.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const v=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class w extends Re{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class P extends ke{constructor(t){super(t),this.destination=t}}let V=(()=>{class n extends F{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Wn](){return new P(this)}lift(e){const i=new Q(this,this);return i.operator=e,i}next(e){if(this.closed)throw new v;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new v;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new v;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new v;return this.hasError?(e.error(this.thrownError),Re.EMPTY):this.isStopped?(e.complete(),Re.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new F;return e.source=this,e}}return n.create=(t,e)=>new Q(t,e),n})();class Q extends V{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Re.EMPTY}}function fe(n){return n&&"function"==typeof n.schedule}function B(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Rt(n,t))}}class Rt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new nt(t,this.project,this.thisArg))}}class nt extends ke{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const J=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Lt=function ce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),rt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Nt(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const _t=n=>{if(n&&"function"==typeof n[zn])return(n=>t=>{const e=n[zn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(rt(n))return J(n);if(Nt(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,K),t))(n);if(n&&"function"==typeof n[Lt])return(n=>t=>{const e=n[Lt]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${di(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function se(n,t){return new F(e=>{const i=new Re;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function ee(n,t){return t?function Le(n,t){if(null!=n){if(function We(n){return n&&"function"==typeof n[zn]}(n))return function Mt(n,t){return new F(e=>{const i=new Re;return i.add(t.schedule(()=>{const s=n[zn]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Nt(n))return function St(n,t){return new F(e=>{const i=new Re;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(rt(n))return se(n,t);if(function Je(n){return n&&"function"==typeof n[Lt]}(n)||"string"==typeof n)return function Fe(n,t){if(!n)throw new Error("Iterable cannot be null");return new F(e=>{const i=new Re;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Lt](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof F?n:new F(_t(n))}class Xe extends ke{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class vt extends ke{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Wt(n,t){if(t.closed)return;if(n instanceof F)return n.subscribe(t);let e;try{e=_t(n)(t)}catch(i){t.error(i)}return e}function ze(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(ze((s,r)=>ee(n(s,r)).pipe(B((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Qn(n,e)))}class Qn{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new bn(t,this.project,this.concurrent))}}class bn extends vt{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Xe(this),i=this.destination;i.add(e);const s=Wt(t,e);s!==e&&i.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function wn(n=Number.POSITIVE_INFINITY){return ze(L,n)}function At(n,t){return t?se(n,t):new F(J(n))}function Mn(){return function(t){return t.lift(new cl(t))}}class cl{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new Us(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class Us extends ke{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class js extends F{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Re,t.add(this.source.subscribe(new U0(this.getSubject(),this))),t.closed&&(this._connection=null,t=Re.EMPTY)),t}refCount(){return Mn()(this)}}const $s=(()=>{const n=js.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class U0 extends P{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class G0{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,s=this.subjectFactory(),r=i(s).subscribe(t);return r.add(e.subscribe(s)),r}}function q0(){return new V}function je(n){for(let t in n)if(n[t]===je)return t;throw Error("Could not find renamed property on target object.")}function Vc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Oe(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Oe).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Bc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const z0=je({__forward_ref__:je});function He(n){return n.__forward_ref__=He,n.toString=function(){return Oe(this())},n}function be(n){return vg(n)?n():n}function vg(n){return"function"==typeof n&&n.hasOwnProperty(z0)&&n.__forward_ref__===He}class Sn extends Error{constructor(t,e){super(function Hc(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function ge(n){return"string"==typeof n?n:null==n?"":String(n)}function cn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ge(n)}function dl(n,t){const e=t?` in ${t}`:"";throw new Sn("201",`No provider for ${cn(n)} found${e}`)}function In(n,t){null==n&&function et(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ft(n){return{providers:n.providers||[],imports:n.imports||[]}}function Uc(n){return bg(n,hl)||bg(n,Eg)}function bg(n,t){return n.hasOwnProperty(t)?n[t]:null}function wg(n){return n&&(n.hasOwnProperty(jc)||n.hasOwnProperty(e1))?n[jc]:null}const hl=je({\u0275prov:je}),jc=je({\u0275inj:je}),Eg=je({ngInjectableDef:je}),e1=je({ngInjectorDef:je});var _e=(()=>((_e=_e||{})[_e.Default=0]="Default",_e[_e.Host=1]="Host",_e[_e.Self=2]="Self",_e[_e.SkipSelf=4]="SkipSelf",_e[_e.Optional=8]="Optional",_e))();let $c;function ms(n){const t=$c;return $c=n,t}function Cg(n,t,e){const i=Uc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&_e.Optional?null:void 0!==t?t:void dl(Oe(n),"Injector")}function ys(n){return{toString:n}.toString()}var hi=(()=>((hi=hi||{})[hi.OnPush=0]="OnPush",hi[hi.Default=1]="Default",hi))(),fi=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(fi||(fi={})),fi))();const n1="undefined"!=typeof globalThis&&globalThis,s1="undefined"!=typeof window&&window,r1="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ue=n1||"undefined"!=typeof global&&global||s1||r1,vr={},$e=[],fl=je({\u0275cmp:je}),Gc=je({\u0275dir:je}),qc=je({\u0275pipe:je}),Dg=je({\u0275mod:je}),Qi=je({\u0275fac:je}),Lo=je({__NG_ELEMENT_ID__:je});let o1=0;function bt(n){return ys(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===hi.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||$e,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||fi.Emulated,id:"c",styles:n.styles||$e,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=o1++,i.inputs=Ag(n.inputs,e),i.outputs=Ag(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Tg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Mg):null,i})}function Tg(n){return nn(n)||function _s(n){return n[Gc]||null}(n)}function Mg(n){return function Gs(n){return n[qc]||null}(n)}const Sg={};function zt(n){return ys(()=>{const t={type:n.type,bootstrap:n.bootstrap||$e,declarations:n.declarations||$e,imports:n.imports||$e,exports:n.exports||$e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Sg[n.id]=n.type),t})}function Ag(n,t){if(null==n)return vr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const te=bt;function dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function nn(n){return n[fl]||null}function Yn(n,t){const e=n[Dg]||null;if(!e&&!0===t)throw new Error(`Type ${Oe(n)} does not have '\u0275mod' property.`);return e}function Ai(n){return Array.isArray(n)&&"object"==typeof n[1]}function gi(n){return Array.isArray(n)&&!0===n[1]}function Kc(n){return 0!=(8&n.flags)}function yl(n){return 2==(2&n.flags)}function _l(n){return 1==(1&n.flags)}function mi(n){return null!==n.template}function h1(n){return 0!=(512&n[2])}function Ks(n,t){return n.hasOwnProperty(Qi)?n[Qi]:null}class g1{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function hn(){return kg}function kg(n){return n.type.prototype.ngOnChanges&&(n.setInput=y1),m1}function m1(){const n=Pg(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===vr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function y1(n,t,e,i){const s=Pg(n)||function _1(n,t){return n[Og]=t}(n,{previous:vr,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],u=o[a];r[a]=new g1(u&&u.currentValue,t,o===vr),n[i]=t}hn.ngInherit=!0;const Og="__ngSimpleChanges__";function Pg(n){return n[Og]||null}let Zc;function Jc(){return void 0!==Zc?Zc:"undefined"!=typeof document?document:void 0}function pt(n){return!!n.listen}const Lg={createRenderer:(n,t)=>Jc()};function It(n){for(;Array.isArray(n);)n=n[0];return n}function vl(n,t){return It(t[n])}function Xn(n,t){return It(t[n.index])}function Xc(n,t){return n.data[t]}function Dr(n,t){return n[t]}function On(n,t){const e=t[n];return Ai(e)?e:e[0]}function Ng(n){return 4==(4&n[2])}function ed(n){return 128==(128&n[2])}function vs(n,t){return null==t?null:n[t]}function Fg(n){n[18]=0}function td(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const he={lFrame:qg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vg(){return he.bindingsEnabled}function k(){return he.lFrame.lView}function Pe(){return he.lFrame.tView}function bs(n){return he.lFrame.contextLView=n,n[8]}function Vt(){let n=Bg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Bg(){return he.lFrame.currentTNode}function Ii(n,t){const e=he.lFrame;e.currentTNode=n,e.isParent=t}function nd(){return he.lFrame.isParent}function id(){he.lFrame.isParent=!1}function bl(){return he.isInCheckNoChangesMode}function wl(n){he.isInCheckNoChangesMode=n}function fn(){const n=he.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Tr(){return he.lFrame.bindingIndex++}function Zi(n){const t=he.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function P1(n,t){const e=he.lFrame;e.bindingIndex=e.bindingRootIndex=n,sd(t)}function sd(n){he.lFrame.currentDirectiveIndex=n}function jg(){return he.lFrame.currentQueryIndex}function od(n){he.lFrame.currentQueryIndex=n}function R1(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function $g(n,t,e){if(e&_e.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&_e.Host||(s=R1(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=he.lFrame=Gg();return i.currentTNode=t,i.lView=n,!0}function El(n){const t=Gg(),e=n[1];he.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Gg(){const n=he.lFrame,t=null===n?null:n.child;return null===t?qg(n):t}function qg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Wg(){const n=he.lFrame;return he.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const zg=Wg;function Cl(){const n=Wg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pn(){return he.lFrame.selectedIndex}function ws(n){he.lFrame.selectedIndex=n}function gt(){const n=he.lFrame;return Xc(n.tView,n.selectedIndex)}function Dl(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Tl(n,t,e){Kg(n,t,3,e)}function Ml(n,t,e,i){(3&n[2])===e&&Kg(n,t,e,i)}function ad(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Kg(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=i&&a>=i)break}else t[u]<0&&(n[18]+=65536),(a<r||-1==r)&&($1(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function $1(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Ho{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Sl(n,t,e){const i=pt(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],u=e[s++];i?n.setAttribute(t,a,u,o):t.setAttributeNS(o,a,u)}else{const o=r,a=e[++s];ud(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Qg(n){return 3===n||4===n||6===n}function ud(n){return 64===n.charCodeAt(0)}function Al(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||Yg(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function Yg(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function Zg(n){return-1!==n}function Mr(n){return 32767&n}function Sr(n,t){let e=function K1(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let cd=!0;function Il(n){const t=cd;return cd=n,t}let Q1=0;function jo(n,t){const e=hd(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,dd(i.data,n),dd(t,null),dd(i.blueprint,null));const s=kl(n,t),r=n.injectorIndex;if(Zg(s)){const o=Mr(s),a=Sr(s,t),u=a[1].data;for(let h=0;h<8;h++)t[r+h]=a[o+h]|u[o+h]}return t[r+8]=s,r}function dd(n,t){n.push(0,0,0,0,0,0,0,0,t)}function hd(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function kl(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ol(n,t,e){!function Y1(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Lo)&&(i=e[Lo]),null==i&&(i=e[Lo]=Q1++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function em(n,t,e){if(e&_e.Optional)return n;dl(t,"NodeInjector")}function tm(n,t,e,i){if(e&_e.Optional&&void 0===i&&(i=null),0==(e&(_e.Self|_e.Host))){const s=n[9],r=ms(void 0);try{return s?s.get(t,i,e&_e.Optional):Cg(t,i,e&_e.Optional)}finally{ms(r)}}return em(i,t,e)}function nm(n,t,e,i=_e.Default,s){if(null!==n){const r=function eT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Lo)?n[Lo]:void 0;return"number"==typeof t?t>=0?255&t:J1:t}(e);if("function"==typeof r){if(!$g(t,n,i))return i&_e.Host?em(s,e,i):tm(t,e,i,s);try{const o=r(i);if(null!=o||i&_e.Optional)return o;dl(e)}finally{zg()}}else if("number"==typeof r){let o=null,a=hd(n,t),u=-1,h=i&_e.Host?t[16][6]:null;for((-1===a||i&_e.SkipSelf)&&(u=-1===a?kl(n,t):t[a+8],-1!==u&&rm(i,!1)?(o=t[1],a=Mr(u),t=Sr(u,t)):a=-1);-1!==a;){const f=t[1];if(sm(r,a,f.data)){const g=X1(a,t,e,o,i,h);if(g!==im)return g}u=t[a+8],-1!==u&&rm(i,t[1].data[a+8]===h)&&sm(r,a,t)?(o=f,a=Mr(u),t=Sr(u,t)):a=-1}}}return tm(t,e,i,s)}const im={};function J1(){return new Ar(Vt(),k())}function X1(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],f=Pl(a,o,e,null==i?yl(a)&&cd:i!=o&&0!=(3&a.type),s&_e.Host&&r===a);return null!==f?$o(t,o,f,a):im}function Pl(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,u=n.directiveStart,f=r>>20,m=s?a+f:n.directiveEnd;for(let y=i?a:a+f;y<m;y++){const _=o[y];if(y<u&&e===_||y>=u&&_.type===e)return y}if(s){const y=o[u];if(y&&mi(y)&&y.type===e)return u}return null}function $o(n,t,e,i){let s=n[e];const r=t.data;if(function G1(n){return n instanceof Ho}(s)){const o=s;o.resolving&&function K0(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new Sn("200",`Circular dependency in DI detected for ${n}${e}`)}(cn(r[e]));const a=Il(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ms(o.injectImpl):null;$g(n,i,_e.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function j1(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=kg(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==u&&ms(u),Il(a),o.resolving=!1,zg()}}return s}function sm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function rm(n,t){return!(n&_e.Self||n&_e.Host&&t)}class Ar{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return nm(this._tNode,this._lView,t,i,e)}}function kt(n){return ys(()=>{const t=n.prototype.constructor,e=t[Qi]||fd(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Qi]||fd(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function fd(n){return vg(n)?()=>{const t=fd(be(n));return t&&t()}:Ks(n)}function Ir(n){return function Z1(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const r=e[s];if(Qg(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(Vt(),n)}const Or="__parameters__";function xr(n,t,e){return ys(()=>{const i=function pd(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(u,h,f){const g=u.hasOwnProperty(Or)?u[Or]:Object.defineProperty(u,Or,{value:[]})[Or];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class Y{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const nT=new Y("AnalyzeForEntryComponents");function ei(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),ei(i,t)):t!==n&&t.push(i)}return t}function ki(n,t){n.forEach(e=>Array.isArray(e)?ki(e,t):t(e))}function am(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function xl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Pn(n,t,e){let i=Rr(n,t);return i>=0?n[1|i]=e:(i=~i,function rT(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function md(n,t){const e=Rr(n,t);if(e>=0)return n[1|e]}function Rr(n,t){return function cm(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const zo={},_d="__NG_DI_FLAG__",Ll="ngTempTokenPath",hT=/\n/gm,hm="__source",pT=je({provide:String,useValue:je});let Ko;function fm(n){const t=Ko;return Ko=n,t}function gT(n,t=_e.Default){if(void 0===Ko)throw new Error("inject() must be called from an injection context");return null===Ko?Cg(n,void 0,t):Ko.get(n,t&_e.Optional?null:void 0,t)}function O(n,t=_e.Default){return(function t1(){return $c}()||gT)(be(n),t)}function vd(n){const t=[];for(let e=0;e<n.length;e++){const i=be(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=_e.Default;for(let o=0;o<i.length;o++){const a=i[o],u=mT(a);"number"==typeof u?-1===u?s=a.token:r|=u:s=a}t.push(O(s,r))}else t.push(O(i))}return t}function Qo(n,t){return n[_d]=t,n.prototype[_d]=t,n}function mT(n){return n[_d]}const Yo=Qo(xr("Inject",n=>({token:n})),-1),Oi=Qo(xr("Optional"),8),Lr=Qo(xr("SkipSelf"),4);let Fl,Vl;function Fr(n){var t;return(null===(t=function wd(){if(void 0===Fl&&(Fl=null,Ue.trustedTypes))try{Fl=Ue.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Fl}())||void 0===t?void 0:t.createHTML(n))||n}function bm(n){var t;return(null===(t=function Ed(){if(void 0===Vl&&(Vl=null,Ue.trustedTypes))try{Vl=Ue.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Vl}())||void 0===t?void 0:t.createHTML(n))||n}class Qs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class IT extends Qs{getTypeName(){return"HTML"}}class kT extends Qs{getTypeName(){return"Style"}}class OT extends Qs{getTypeName(){return"Script"}}class PT extends Qs{getTypeName(){return"URL"}}class xT extends Qs{getTypeName(){return"ResourceURL"}}function xn(n){return n instanceof Qs?n.changingThisBreaksApplicationSecurity:n}function Pi(n,t){const e=Cm(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function Cm(n){return n instanceof Qs&&n.getTypeName()||null}class BT{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Fr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class HT{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Fr(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Fr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const o=e.item(s).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const jT=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$T=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jo(n){return(n=String(n)).match(jT)||n.match($T)?n:"unsafe:"+n}function Tm(n){return(n=String(n)).split(",").map(t=>Jo(t.trim())).join(", ")}function xi(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Xo(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Mm=xi("area,br,col,hr,img,wbr"),Sm=xi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Am=xi("rp,rt"),Cd=Xo(Mm,Xo(Sm,xi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xo(Am,xi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xo(Am,Sm)),Dd=xi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Td=xi("srcset"),Im=Xo(Dd,Td,xi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),xi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),GT=xi("script,style,template");class qT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Cd.hasOwnProperty(e))return this.sanitizedSomething=!0,!GT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!Im.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=r.value;Dd[a]&&(u=Jo(u)),Td[a]&&(u=Tm(u)),this.buf.push(" ",o,'="',km(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Cd.hasOwnProperty(e)&&!Mm.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(km(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const WT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zT=/([^\#-~ |!])/g;function km(n){return n.replace(/&/g,"&amp;").replace(WT,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(zT,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bl;function Om(n,t){let e=null;try{Bl=Bl||function Dm(n){const t=new HT(n);return function UT(){try{return!!(new window.DOMParser).parseFromString(Fr(""),"text/html")}catch(n){return!1}}()?new BT(t):t}(n);let i=t?String(t):"";e=Bl.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=e.innerHTML,e=Bl.getInertBodyElement(i)}while(i!==r);return Fr((new qT).sanitizeChildren(Md(e)||e))}finally{if(e){const i=Md(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Md(n){return"content"in n&&function KT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ge=(()=>((Ge=Ge||{})[Ge.NONE=0]="NONE",Ge[Ge.HTML=1]="HTML",Ge[Ge.STYLE=2]="STYLE",Ge[Ge.SCRIPT=3]="SCRIPT",Ge[Ge.URL=4]="URL",Ge[Ge.RESOURCE_URL=5]="RESOURCE_URL",Ge))();function ti(n){const t=ea();return t?bm(t.sanitize(Ge.HTML,n)||""):Pi(n,"HTML")?bm(xn(n)):Om(Jc(),ge(n))}function Ji(n){const t=ea();return t?t.sanitize(Ge.URL,n)||"":Pi(n,"URL")?xn(n):Jo(ge(n))}function ea(){const n=k();return n&&n[12]}const Rm="__ngContext__";function rn(n,t){n[Rm]=t}function Ad(n){const t=function ta(n){return n[Rm]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function kd(n){return n.ngOriginalError}function dM(n,...t){n.error(...t)}class Vr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function cM(n){return n&&n.ngErrorLogger||dM}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&kd(t);for(;e&&kd(e);)e=kd(e);return e||null}}const Bm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Ue))();function Hm(n){return n.ownerDocument.defaultView}function Ri(n){return n instanceof Function?n():n}var Rn=(()=>((Rn=Rn||{})[Rn.Important=1]="Important",Rn[Rn.DashCase=2]="DashCase",Rn))();function Pd(n,t){return undefined(n,t)}function na(n){const t=n[3];return gi(t)?t[3]:t}function xd(n){return qm(n[13])}function Rd(n){return qm(n[4])}function qm(n){for(;null!==n&&!gi(n);)n=n[4];return n}function Hr(n,t,e,i,s){if(null!=i){let r,o=!1;gi(i)?r=i:Ai(i)&&(o=!0,i=i[0]);const a=It(i);0===n&&null!==e?null==s?Zm(t,e,a):Ys(t,e,a,s||null,!0):1===n&&null!==e?Ys(t,e,a,s||null,!0):2===n?function sy(n,t,e){const i=Hl(n,t);i&&function xM(n,t,e,i){pt(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function NM(n,t,e,i,s){const r=e[7];r!==It(e)&&Hr(t,n,i,r,s);for(let a=10;a<e.length;a++){const u=e[a];ia(u[1],u,n,t,i,r)}}(t,n,r,e,s)}}function Nd(n,t,e){return pt(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function zm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,td(s,-1)),e.splice(i,1)}function Fd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&zm(s,i),t>0&&(n[e-1][4]=i[4]);const r=xl(n,10+t);!function TM(n,t){ia(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Km(n,t){if(!(256&t[2])){const e=t[11];pt(e)&&e.destroyNode&&ia(n,t,e,3,null,null),function AM(n){let t=n[13];if(!t)return Vd(n[1],n);for(;t;){let e=null;if(Ai(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ai(t)&&Vd(t[1],t),t=t[3];null===t&&(t=n),Ai(t)&&Vd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Vd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function PM(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Ho)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],u=r[o+1];try{u.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function OM(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):It(t[o]),u=i[s=e[r+2]],h=e[r+3];"boolean"==typeof h?a.removeEventListener(e[r],u,h):h>=0?i[s=h]():i[s=-h].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&pt(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&gi(t[3])){e!==t[3]&&zm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Qm(n,t,e){return function Ym(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===fi.None||s===fi.Emulated)return null}return Xn(i,e)}(n,t.parent,e)}function Ys(n,t,e,i,s){pt(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function Zm(n,t,e){pt(n)?n.appendChild(t,e):t.appendChild(e)}function Jm(n,t,e,i,s){null!==i?Ys(n,t,e,i,s):Zm(n,t,e)}function Hl(n,t){return pt(n)?n.parentNode(t):t.parentNode}let ty=function ey(n,t,e){return 40&n.type?Xn(n,e):null};function Ul(n,t,e,i){const s=Qm(n,i,t),r=t[11],a=function Xm(n,t,e){return ty(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let u=0;u<e.length;u++)Jm(r,s,e[u],a,!1);else Jm(r,s,e,a,!1)}function jl(n,t){if(null!==t){const e=t.type;if(3&e)return Xn(t,n);if(4&e)return Hd(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return jl(n,i);{const s=n[t.index];return gi(s)?Hd(-1,s):It(s)}}if(32&e)return Pd(t,n)()||It(n[t.index]);{const i=iy(n,t);return null!==i?Array.isArray(i)?i[0]:jl(na(n[16]),i):jl(n,t.next)}}return null}function iy(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Hd(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return jl(i,s)}return t[7]}function Ud(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],u=e.type;if(o&&0===t&&(a&&rn(It(a),i),e.flags|=4),64!=(64&e.flags))if(8&u)Ud(n,t,e.child,i,s,r,!1),Hr(t,n,s,a,r);else if(32&u){const h=Pd(e,i);let f;for(;f=h();)Hr(t,n,s,f,r);Hr(t,n,s,a,r)}else 16&u?ry(n,t,i,e,s,r):Hr(t,n,s,a,r);e=o?e.projectionNext:e.next}}function ia(n,t,e,i,s,r){Ud(e,i,n.firstChild,t,s,r,!1)}function ry(n,t,e,i,s,r){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)Hr(t,n,s,u[h],r);else Ud(n,t,u,o[3],s,r,!0)}function oy(n,t,e){pt(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function jd(n,t,e){pt(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function ay(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const ly="ng-template";function VM(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==ay(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function uy(n){return 4===n.type&&n.value!==ly}function BM(n,t,e){return t===(4!==n.type||e?n.value:ly)}function HM(n,t,e){let i=4;const s=n.attrs||[],r=function $M(n){for(let t=0;t<n.length;t++)if(Qg(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!BM(n,u,e)||""===u&&1===t.length){if(yi(i))return!1;o=!0}}else{const h=8&i?u:t[++a];if(8&i&&null!==n.attrs){if(!VM(n.attrs,h,e)){if(yi(i))return!1;o=!0}continue}const g=UM(8&i?"class":u,s,uy(n),e);if(-1===g){if(yi(i))return!1;o=!0;continue}if(""!==h){let m;m=g>r?"":s[g+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==ay(y,h,0)||2&i&&h!==m){if(yi(i))return!1;o=!0}}}}else{if(!o&&!yi(i)&&!yi(u))return!1;if(o&&yi(u))continue;o=!1,i=u|1&i}}return yi(i)||o}function yi(n){return 0==(1&n)}function UM(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function GM(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function cy(n,t,e=!1){for(let i=0;i<t.length;i++)if(HM(n,t[i],e))return!0;return!1}function dy(n,t){return n?":not("+t.trim()+")":t}function WM(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!yi(o)&&(t+=dy(r,s),s=""),i=o,r=r||!yi(i);e++}return""!==s&&(t+=dy(r,s)),t}const me={};function b(n){hy(Pe(),k(),pn()+n,bl())}function hy(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&Tl(t,r,e)}else{const r=n.preOrderHooks;null!==r&&Ml(t,r,0,e)}ws(e)}function $l(n,t){return n<<17|t<<2}function _i(n){return n>>17&32767}function $d(n){return 2|n}function Xi(n){return(131068&n)>>2}function Gd(n,t){return-131069&n|t<<2}function qd(n){return 1|n}function Cy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];od(s),o.contentQueries(2,t[r],r)}}}function sa(n,t,e,i,s,r,o,a,u,h){const f=t.blueprint.slice();return f[0]=s,f[2]=140|i,Fg(f),f[3]=f[15]=n,f[8]=e,f[10]=o||n&&n[10],f[11]=a||n&&n[11],f[12]=u||n&&n[12]||null,f[9]=h||n&&n[9]||null,f[6]=r,f[16]=2==t.type?n[16]:f,f}function Ur(n,t,e,i,s){let r=n.data[t];if(null===r)r=function eh(n,t,e,i,s){const r=Bg(),o=nd(),u=n.data[t]=function cS(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=u),null!==r&&(o?null==r.child&&null!==u.parent&&(r.child=u):null===r.next&&(r.next=u)),u}(n,t,e,i,s),function O1(){return he.lFrame.inI18n}()&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function Bo(){const n=he.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Ii(r,!0),r}function jr(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function ra(n,t,e){El(t);try{const i=n.viewQuery;null!==i&&uh(1,i,e);const s=n.template;null!==s&&Dy(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cy(n,t),n.staticViewQueries&&uh(2,n.viewQuery,e);const r=n.components;null!==r&&function aS(n,t){for(let e=0;e<t.length;e++)AS(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Cl()}}function $r(n,t,e,i){const s=t[2];if(256==(256&s))return;El(t);const r=bl();try{Fg(t),function Hg(n){return he.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Dy(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const h=n.preOrderCheckHooks;null!==h&&Tl(t,h,null)}else{const h=n.preOrderHooks;null!==h&&Ml(t,h,0,null),ad(t,0)}if(function MS(n){for(let t=xd(n);null!==t;t=Rd(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&td(r,1),s[2]|=1024}}}(t),function TS(n){for(let t=xd(n);null!==t;t=Rd(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];ed(i)&&$r(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&Cy(n,t),!r)if(o){const h=n.contentCheckHooks;null!==h&&Tl(t,h)}else{const h=n.contentHooks;null!==h&&Ml(t,h,1),ad(t,1)}!function rS(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)ws(~s);else{const r=s,o=e[++i],a=e[++i];P1(o,r),a(2,t[r])}}}finally{ws(-1)}}(n,t);const a=n.components;null!==a&&function oS(n,t){for(let e=0;e<t.length;e++)SS(n,t[e])}(t,a);const u=n.viewQuery;if(null!==u&&uh(2,u,i),!r)if(o){const h=n.viewCheckHooks;null!==h&&Tl(t,h)}else{const h=n.viewHooks;null!==h&&Ml(t,h,2),ad(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,td(t[3],-1))}finally{Cl()}}function lS(n,t,e,i){const s=t[10],r=!bl(),o=Ng(t);try{r&&!o&&s.begin&&s.begin(),o&&ra(n,t,i),$r(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function Dy(n,t,e,i,s){const r=pn(),o=2&i;try{ws(-1),o&&t.length>20&&hy(n,t,20,bl()),e(i,s)}finally{ws(r)}}function Ty(n,t,e){if(Kc(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}function th(n,t,e){!Vg()||(function yS(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||jo(e,t),rn(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const u=n.data[a],h=mi(u);h&&ES(t,e,u);const f=$o(t,n,a,e);rn(f,t),null!==o&&CS(0,a-s,f,u,0,o),h&&(On(e.index,t)[8]=f)}}(n,t,e,Xn(e,t)),128==(128&e.flags)&&function _S(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=function x1(){return he.lFrame.currentDirectiveIndex}();try{ws(o);for(let u=i;u<s;u++){const h=n.data[u],f=t[u];sd(u),(null!==h.hostBindings||0!==h.hostVars||null!==h.hostAttrs)&&xy(h,f)}}finally{ws(-1),sd(a)}}(n,t,e))}function nh(n,t,e=Xn){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function My(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Wl(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Wl(n,t,e,i,s,r,o,a,u,h){const f=20+i,g=f+s,m=function uS(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:me);return e}(f,g),y="function"==typeof h?h():h;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function Iy(n,t,e,i){const s=By(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Hy(n).push(i,s.length-1))}function ky(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function Ln(n,t,e,i,s,r,o,a){const u=Xn(t,e);let f,h=t.inputs;!a&&null!=h&&(f=h[i])?($y(n,e,f,i,s),yl(t)&&function fS(n,t){const e=On(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function hS(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,pt(r)?r.setProperty(u,i,s):ud(i)||(u.setProperty?u.setProperty(i,s):u[i]=s))}function ih(n,t,e,i){let s=!1;if(Vg()){const r=function vS(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];cy(e,o.selectors,!1)&&(s||(s=[]),Ol(jo(e,t),n,o.type),mi(o)?(Ry(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,Ly(e,n.data.length,r.length);for(let f=0;f<r.length;f++){const g=r[f];g.providersResolver&&g.providersResolver(g)}let a=!1,u=!1,h=jr(n,t,r.length,null);for(let f=0;f<r.length;f++){const g=r[f];e.mergedAttrs=Al(e.mergedAttrs,g.hostAttrs),Ny(n,e,t,h,g),wS(h,g,o),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const m=g.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),h++}!function dS(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,u=null;for(let h=t.directiveStart;h<i;h++){const f=s[h],g=f.inputs,m=null===r||uy(t)?null:DS(g,r);o.push(m),a=ky(g,h,a),u=ky(f.outputs,h,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}(n,e)}o&&function bS(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new Sn("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=Al(e.mergedAttrs,e.attrs),s}function Py(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~t.index;(function mS(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(i,s,o)}}function xy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Ry(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function wS(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;mi(t)&&(e[""]=n)}}function Ly(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Ny(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=Ks(s.type)),o=new Ho(r,mi(s),null);n.blueprint[i]=o,e[i]=o,Py(n,t,0,i,jr(n,e,s.hostVars,me),s)}function ES(n,t,e){const i=Xn(t,n),s=My(e),r=n[10],o=zl(n,sa(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function Li(n,t,e,i,s,r){const o=Xn(n,t);!function sh(n,t,e,i,s,r,o){if(null==r)pt(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?ge(r):o(r,i||"",s);pt(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function CS(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let u=0;u<o.length;){const h=o[u++],f=o[u++],g=o[u++];null!==a?i.setInput(e,g,h,f):e[f]=g}}}function DS(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Fy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function SS(n,t){const e=On(t,n);if(ed(e)){const i=e[1];80&e[2]?$r(i,e,i.template,e[8]):e[5]>0&&rh(e)}}function rh(n){for(let i=xd(n);null!==i;i=Rd(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];$r(o,r,o.template,r[8])}else r[5]>0&&rh(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=On(e[i],n);ed(s)&&s[5]>0&&rh(s)}}function AS(n,t){const e=On(t,n),i=e[1];(function IS(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),ra(i,e,e[8])}function zl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function oh(n){for(;n;){n[2]|=64;const t=na(n);if(h1(n)&&!t)return n;n=t}return null}function lh(n,t,e){const i=t[10];i.begin&&i.begin();try{$r(n,t,n.template,e)}catch(s){throw jy(t,s),s}finally{i.end&&i.end()}}function Vy(n){!function ah(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Ad(e),s=i[1];lS(s,i,s.template,e)}}(n[8])}function uh(n,t,e){od(0),t(n,e)}const xS=(()=>Promise.resolve(null))();function By(n){return n[7]||(n[7]=[])}function Hy(n){return n.cleanup||(n.cleanup=[])}function jy(n,t){const e=n[9],i=e?e.get(Vr,null):null;i&&i.handleError(t)}function $y(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],u=t[o],h=n.data[o];null!==h.setInput?h.setInput(u,s,i,a):u[a]=s}}function es(n,t,e){const i=vl(t,n);!function Wm(n,t,e){pt(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function Kl(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=Bc(s,a):2==r&&(i=Bc(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const ch=new Y("INJECTOR",-1);class Gy{get(t,e=zo){if(e===zo){const i=new Error(`NullInjectorError: No provider for ${Oe(t)}!`);throw i.name="NullInjectorError",i}return e}}const dh=new Y("Set Injector scope."),oa={},NS={};let hh;function qy(){return void 0===hh&&(hh=new Gy),hh}function Wy(n,t=null,e=null,i){const s=zy(n,t,e,i);return s._resolveInjectorDefTypes(),s}function zy(n,t=null,e=null,i){return new FS(n,e,t||qy(),i)}class FS{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&ki(e,a=>this.processProvider(a,t,e)),ki([t],a=>this.processInjectorType(a,[],r)),this.records.set(ch,Gr(void 0,this));const o=this.records.get(dh);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:Oe(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=zo,i=_e.Default){this.assertNotDestroyed();const s=fm(this),r=ms(void 0);try{if(!(i&_e.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function qS(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(t)&&Uc(t);a=u&&this.injectableDefInScope(u)?Gr(fh(t),oa):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&_e.Self?qy():this.parent).get(t,e=i&_e.Optional&&e===zo?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[Ll]=o[Ll]||[]).unshift(Oe(t)),s)throw o;return function yT(n,t,e,i){const s=n[Ll];throw t[hm]&&s.unshift(t[hm]),n.message=function _T(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Oe(t);if(Array.isArray(t))s=t.map(Oe).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Oe(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(hT,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[Ll]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{ms(r),fm(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Oe(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=be(t)))return!1;let s=wg(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=wg(r)),null==s)return!1;if(null!=s.imports&&!a){let f;i.push(o);try{ki(s.imports,g=>{this.processInjectorType(g,e,i)&&(void 0===f&&(f=[]),f.push(g))})}finally{}if(void 0!==f)for(let g=0;g<f.length;g++){const{ngModule:m,providers:y}=f[g];ki(y,_=>this.processProvider(_,m,y||$e))}}this.injectorDefTypes.add(o);const u=Ks(o)||(()=>new o);this.records.set(o,Gr(u,oa));const h=s.providers;if(null!=h&&!a){const f=t;ki(h,g=>this.processProvider(g,f,h))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=qr(t=be(t))?t:be(t&&t.provide);const r=function BS(n,t,e){return Qy(n)?Gr(void 0,n.useValue):Gr(Ky(n),oa)}(t);if(qr(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Gr(void 0,oa,!0),o.factory=()=>vd(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===oa&&(e.value=NS,e.value=e.factory()),"object"==typeof e.value&&e.value&&function GS(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=be(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function fh(n){const t=Uc(n),e=null!==t?t.factory:Ks(n);if(null!==e)return e;if(n instanceof Y)throw new Error(`Token ${Oe(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function VS(n){const t=n.length;if(t>0){const i=function Wo(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Oe(n)}: (${i.join(", ")}).`)}const e=function J0(n){const t=n&&(n[hl]||n[Eg]);if(t){const e=function X0(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Ky(n,t,e){let i;if(qr(n)){const s=be(n);return Ks(s)||fh(s)}if(Qy(n))i=()=>be(n.useValue);else if(function US(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...vd(n.deps||[]));else if(function HS(n){return!(!n||!n.useExisting)}(n))i=()=>O(be(n.useExisting));else{const s=be(n&&(n.useClass||n.provide));if(!function $S(n){return!!n.deps}(n))return Ks(s)||fh(s);i=()=>new s(...vd(n.deps))}return i}function Gr(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function Qy(n){return null!==n&&"object"==typeof n&&pT in n}function qr(n){return"function"==typeof n}let Qt=(()=>{class n{static create(e,i){var s;if(Array.isArray(e))return Wy({name:""},i,e,"");{const r=null!==(s=e.name)&&void 0!==s?s:"";return Wy({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=zo,n.NULL=new Gy,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>O(ch)}),n.__NG_ELEMENT_ID__=-1,n})();function XS(n,t){Dl(Ad(n)[1],Vt())}function Ae(n){let t=function a_(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(mi(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=mh(n.inputs),o.declaredInputs=mh(n.declaredInputs),o.outputs=mh(n.outputs);const a=s.hostBindings;a&&iA(n,a);const u=s.viewQuery,h=s.contentQueries;if(u&&tA(n,u),h&&nA(n,h),Vc(n.inputs,s.inputs),Vc(n.declaredInputs,s.declaredInputs),Vc(n.outputs,s.outputs),mi(s)&&s.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Ae&&(e=!1)}}t=Object.getPrototypeOf(t)}!function eA(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Al(s.hostAttrs,e=Al(e,s.hostAttrs))}}(i)}function mh(n){return n===vr?{}:n===$e?[]:n}function tA(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function nA(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function iA(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Ql=null;function Wr(){if(!Ql){const n=Ue.Symbol;if(n&&n.iterator)Ql=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ql=i)}}}return Ql}function aa(n){return!!yh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Wr()in n)}function yh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ni(n,t,e){return n[t]=e}function on(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Zs(n,t,e,i){const s=on(n,t,e);return on(n,t+1,i)||s}function an(n,t,e,i){const s=k();return on(s,Tr(),t)&&(Pe(),Li(gt(),s,n,t,e,i)),an}function Kr(n,t,e,i){return on(n,Tr(),e)?t+ge(e)+i:me}function Qr(n,t,e,i,s,r){const a=Zs(n,function Yi(){return he.lFrame.bindingIndex}(),e,s);return Zi(2),a?t+ge(e)+i+ge(s)+r:me}function Ce(n,t,e,i,s,r,o,a){const u=k(),h=Pe(),f=n+20,g=h.firstCreatePass?function cA(n,t,e,i,s,r,o,a,u){const h=t.consts,f=Ur(t,n,4,o||null,vs(h,a));ih(t,e,f,vs(h,u)),Dl(t,f);const g=f.tViews=Wl(2,f,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,h,u,t,e,i,s,r,o):h.data[f];Ii(g,!1);const m=u[11].createComment("");Ul(h,u,m,g),rn(m,u),zl(u,u[f]=Fy(m,u,m,g)),_l(g)&&th(h,u,g),null!=o&&nh(u,g,a)}function D(n,t=_e.Default){const e=k();return null===e?O(n,t):nm(Vt(),e,be(n),t)}function Eh(){throw new Error("invalid")}function S(n,t,e){const i=k();return on(i,Tr(),t)&&Ln(Pe(),gt(),i,n,t,i[11],e,!1),S}function Ch(n,t,e,i,s){const o=s?"class":"style";$y(n,e,t.inputs[o],o,i)}function c(n,t,e,i){const s=k(),r=Pe(),o=20+n,a=s[11],u=s[o]=Nd(a,t,function U1(){return he.lFrame.currentNamespace}()),h=r.firstCreatePass?function OA(n,t,e,i,s,r,o){const a=t.consts,h=Ur(t,n,2,s,vs(a,r));return ih(t,e,h,vs(a,o)),null!==h.attrs&&Kl(h,h.attrs,!1),null!==h.mergedAttrs&&Kl(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,r,s,0,t,e,i):r.data[o];Ii(h,!0);const f=h.mergedAttrs;null!==f&&Sl(a,u,f);const g=h.classes;null!==g&&jd(a,u,g);const m=h.styles;null!==m&&oy(a,u,m),64!=(64&h.flags)&&Ul(r,s,u,h),0===function T1(){return he.lFrame.elementDepthCount}()&&rn(u,s),function M1(){he.lFrame.elementDepthCount++}(),_l(h)&&(th(r,s,h),Ty(r,h,s)),null!==i&&nh(s,h)}function d(){let n=Vt();nd()?id():(n=n.parent,Ii(n,!1));const t=n;!function S1(){he.lFrame.elementDepthCount--}();const e=Pe();e.firstCreatePass&&(Dl(e,n),Kc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function W1(n){return 0!=(16&n.flags)}(t)&&Ch(e,t,k(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function z1(n){return 0!=(32&n.flags)}(t)&&Ch(e,t,k(),t.stylesWithoutHost,!1)}function p(n,t,e,i){c(n,t,e,i),d()}function Jl(n,t,e){const i=k(),s=Pe(),r=n+20,o=s.firstCreatePass?function PA(n,t,e,i,s){const r=t.consts,o=vs(r,i),a=Ur(t,n,8,"ng-container",o);return null!==o&&Kl(a,o,!0),ih(t,e,a,vs(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,i,t,e):s.data[r];Ii(o,!0);const a=i[r]=i[11].createComment("");Ul(s,i,a,o),rn(a,i),_l(o)&&(th(s,i,o),Ty(s,o,i)),null!=e&&nh(i,o)}function Xl(){let n=Vt();const t=Pe();nd()?id():(n=n.parent,Ii(n,!1)),t.firstCreatePass&&(Dl(t,n),Kc(n)&&t.queries.elementEnd(n))}function Ts(){return k()}function ua(n){return!!n&&"function"==typeof n.then}const Dh=function A_(n){return!!n&&"function"==typeof n.subscribe};function Ve(n,t,e,i){const s=k(),r=Pe(),o=Vt();return function k_(n,t,e,i,s,r,o,a){const u=_l(i),f=n.firstCreatePass&&Hy(n),g=t[8],m=By(t);let y=!0;if(3&i.type||a){const T=Xn(i,t),M=a?a(T):T,C=m.length,R=a?G=>a(It(G[i.index])):i.index;if(pt(e)){let G=null;if(!a&&u&&(G=function RA(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],u=s[r+2];return a.length>u?a[u]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==G)(G.__ngLastListenerFn__||G).__ngNextListenerFn__=r,G.__ngLastListenerFn__=r,y=!1;else{r=Th(i,t,g,r,!1);const ve=e.listen(M,s,r);m.push(r,ve),f&&f.push(s,R,C,C+1)}}else r=Th(i,t,g,r,!0),M.addEventListener(s,r,o),m.push(r),f&&f.push(s,R,C,o)}else r=Th(i,t,g,r,!1);const _=i.outputs;let E;if(y&&null!==_&&(E=_[s])){const T=E.length;if(T)for(let M=0;M<T;M+=2){const st=t[E[M]][E[M+1]].subscribe(r),dt=m.length;m.push(r,st),f&&f.push(s,i.index,dt,-(dt+1))}}}(r,s,s[11],o,n,t,!!e,i),Ve}function O_(n,t,e,i){try{return!1!==e(i)}catch(s){return jy(n,s),!1}}function Th(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?On(n.index,t):t;0==(32&t[2])&&oh(a);let u=O_(t,0,i,o),h=r.__ngNextListenerFn__;for(;h;)u=O_(t,0,h,o)&&u,h=h.__ngNextListenerFn__;return s&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function De(n=1){return function L1(n){return(he.lFrame.contextLView=function N1(n,t){for(;n>0;)t=t[15],n--;return t}(n,he.lFrame.contextLView))[8]}(n)}function Ht(n,t,e){return Js(n,"",t,"",e),Ht}function Js(n,t,e,i,s){const r=k(),o=Kr(r,t,e,i);return o!==me&&Ln(Pe(),gt(),r,n,o,r[11],s,!1),Js}function eu(n,t,e,i,s,r,o){const a=k(),u=Qr(a,t,e,i,s,r);return u!==me&&Ln(Pe(),gt(),a,n,u,a[11],o,!1),eu}function U_(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?_i(r):Xi(r),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];VA(n[a],t)&&(u=!0,n[a+1]=i?qd(f):$d(f)),a=i?_i(f):Xi(f)}u&&(n[e+1]=i?$d(r):qd(r))}function VA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Rr(n,t)>=0}function tu(n,t,e){return bi(n,t,e,!1),tu}function Nn(n,t){return bi(n,t,null,!0),Nn}function bi(n,t,e,i){const s=k(),r=Pe(),o=Zi(2);r.firstUpdatePass&&function Q_(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[pn()],o=function K_(n,t){return t>=n.expandoStartIndex}(n,e);(function X_(n,t){return 0!=(n.flags&(t?16:32))})(r,i)&&null===t&&!o&&(t=!1),t=function zA(n,t,e,i){const s=function rd(n){const t=he.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=ca(e=Mh(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=Mh(s,n,t,e,i),null===r){let u=function KA(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Xi(i))return n[_i(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=Mh(null,n,t,u[1],i),u=ca(u,t.attrs,i),function QA(n,t,e,i){n[_i(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else r=function YA(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=ca(i,n[r].hostAttrs,e);return ca(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function NA(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=_i(o),u=Xi(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||Rr(g,f)>0)&&(h=!0)}else f=e;if(s)if(0!==u){const m=_i(n[a+1]);n[i+1]=$l(m,a),0!==m&&(n[m+1]=Gd(n[m+1],i)),n[a+1]=function QM(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=$l(a,0),0!==a&&(n[a+1]=Gd(n[a+1],i)),a=i;else n[i+1]=$l(u,0),0===a?a=i:n[u+1]=Gd(n[u+1],i),u=i;h&&(n[i+1]=$d(n[i+1])),U_(n,f,i,!0),U_(n,f,i,!1),function FA(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Rr(r,t)>=0&&(e[i+1]=qd(e[i+1]))}(t,f,n,i,r),o=$l(a,u),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}(r,n,o,i),t!==me&&on(s,o,t)&&function Z_(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const u=n.data,h=u[a+1];nu(function gy(n){return 1==(1&n)}(h)?J_(u,t,e,s,Xi(h),o):void 0)||(nu(r)||function py(n){return 2==(2&n)}(h)&&(r=J_(u,null,e,s,a,o)),function FM(n,t,e,i,s){const r=pt(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Rn.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=Rn.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,vl(pn(),e),s,r))}(r,r.data[pn()],s,s[11],n,s[o+1]=function XA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Oe(xn(n)))),n}(t,e),i,o)}function Mh(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=ca(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function ca(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Pn(n,o,!!e||t[++r]))}return void 0===n?null:n}function J_(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const u=n[s],h=Array.isArray(u),f=h?u[1]:u,g=null===f;let m=e[s+1];m===me&&(m=g?$e:void 0);let y=g?md(m,i):f===i?m:void 0;if(h&&!nu(y)&&(y=md(u,i)),nu(y)&&(a=y,o))return a;const _=n[s+1];s=o?_i(_):Xi(_)}if(null!==t){let u=r?t.residualClasses:t.residualStyles;null!=u&&(a=md(u,i))}return a}function nu(n){return void 0!==n}function l(n,t=""){const e=k(),i=Pe(),s=n+20,r=i.firstCreatePass?Ur(i,s,1,t,null):i.data[s],o=e[s]=function Ld(n,t){return pt(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Ul(i,e,o,r),Ii(r,!1)}function Qe(n){return Be("",n,""),Qe}function Be(n,t,e){const i=k(),s=Kr(i,n,t,e);return s!==me&&es(i,pn(),s),Be}function da(n,t,e,i,s){const r=k(),o=Qr(r,n,t,e,i,s);return o!==me&&es(r,pn(),o),da}const Xs=void 0;var vI=["en",[["a","p"],["AM","PM"],Xs],[["AM","PM"],Xs,Xs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xs,"{1} 'at' {0}",Xs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _I(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let so={};function mn(n){const t=function bI(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=vv(t);if(e)return e;const i=t.split("-")[0];if(e=vv(i),e)return e;if("en"===i)return vI;throw new Error(`Missing locale data for the locale "${n}".`)}function vv(n){return n in so||(so[n]=Ue.ng&&Ue.ng.common&&Ue.ng.common.locales&&Ue.ng.common.locales[n]),so[n]}var j=(()=>((j=j||{})[j.LocaleId=0]="LocaleId",j[j.DayPeriodsFormat=1]="DayPeriodsFormat",j[j.DayPeriodsStandalone=2]="DayPeriodsStandalone",j[j.DaysFormat=3]="DaysFormat",j[j.DaysStandalone=4]="DaysStandalone",j[j.MonthsFormat=5]="MonthsFormat",j[j.MonthsStandalone=6]="MonthsStandalone",j[j.Eras=7]="Eras",j[j.FirstDayOfWeek=8]="FirstDayOfWeek",j[j.WeekendRange=9]="WeekendRange",j[j.DateFormat=10]="DateFormat",j[j.TimeFormat=11]="TimeFormat",j[j.DateTimeFormat=12]="DateTimeFormat",j[j.NumberSymbols=13]="NumberSymbols",j[j.NumberFormats=14]="NumberFormats",j[j.CurrencyCode=15]="CurrencyCode",j[j.CurrencySymbol=16]="CurrencySymbol",j[j.CurrencyName=17]="CurrencyName",j[j.Currencies=18]="Currencies",j[j.Directionality=19]="Directionality",j[j.PluralCase=20]="PluralCase",j[j.ExtraData=21]="ExtraData",j))();const iu="en-US";let bv=iu;function Ih(n,t,e,i,s){if(n=be(n),Array.isArray(n))for(let r=0;r<n.length;r++)Ih(n[r],t,e,i,s);else{const r=Pe(),o=k();let a=qr(n)?n:be(n.provide),u=Ky(n);const h=Vt(),f=1048575&h.providerIndexes,g=h.directiveStart,m=h.providerIndexes>>20;if(qr(n)||!n.multi){const y=new Ho(u,s,D),_=Oh(a,t,s?f:f+m,g);-1===_?(Ol(jo(h,o),r,a),kh(r,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(y),o.push(y)):(e[_]=y,o[_]=y)}else{const y=Oh(a,t,f+m,g),_=Oh(a,t,f,f+m),E=y>=0&&e[y],T=_>=0&&e[_];if(s&&!T||!s&&!E){Ol(jo(h,o),r,a);const M=function _k(n,t,e,i,s){const r=new Ho(n,e,D);return r.multi=[],r.index=t,r.componentProviders=0,Gv(r,s,i&&!e),r}(s?yk:mk,e.length,s,i,u);!s&&T&&(e[_].providerFactory=M),kh(r,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,s&&(h.providerIndexes+=1048576),e.push(M),o.push(M)}else kh(r,n,y>-1?y:_,Gv(e[s?_:y],u,!s&&i));!s&&i&&T&&e[_].componentProviders++}}}function kh(n,t,e,i){const s=qr(t),r=function jS(n){return!!n.useClass}(t);if(s||r){const u=(r?be(t.useClass):t).prototype.ngOnDestroy;if(u){const h=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const f=h.indexOf(e);-1===f?h.push(e,[i,u]):h[f+1].push(i,u)}else h.push(e,u)}}}function Gv(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Oh(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function mk(n,t,e,i){return Ph(this.multi,[])}function yk(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=$o(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),Ph(s,r);for(let u=o;u<a.length;u++)r.push(a[u])}else r=[],Ph(s,r);return r}function Ph(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function qe(n,t=[]){return e=>{e.providersResolver=(i,s)=>function gk(n,t,e){const i=Pe();if(i.firstCreatePass){const s=mi(n);Ih(e,i.data,i.blueprint,s,!0),Ih(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class qv{}class wk{resolveComponentFactory(t){throw function bk(n){const t=Error(`No component factory found for ${Oe(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let oo=(()=>{class n{}return n.NULL=new wk,n})();function Ek(){return ao(Vt(),k())}function ao(n,t){return new Et(Xn(n,t))}let Et=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=Ek,n})();function Ck(n){return n instanceof Et?n.nativeElement:n}class ma{}let Fn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function Tk(){const n=k(),e=On(Vt().index,n);return function Dk(n){return n[11]}(Ai(e)?e:n)}(),n})(),Mk=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class er{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Sk=new er("13.1.1"),xh={};function lu(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(It(r)),gi(r))for(let a=10;a<r.length;a++){const u=r[a],h=u[1].firstChild;null!==h&&lu(u[1],u,h,i)}const o=e.type;if(8&o)lu(n,t,e.child,i);else if(32&o){const a=Pd(e,t);let u;for(;u=a();)i.push(u)}else if(16&o){const a=iy(t,e);if(Array.isArray(a))i.push(...a);else{const u=na(t[16]);lu(u[1],u,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class ya{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return lu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(gi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Fd(t,i),xl(e,i))}this._attachedToViewContainer=!1}Km(this._lView[1],this._lView)}onDestroy(t){Iy(this._lView[1],this._lView,null,t)}markForCheck(){oh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function OS(n,t,e){wl(!0);try{lh(n,t,e)}finally{wl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function SM(n,t){ia(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Ak extends ya{constructor(t){super(t),this._view=t}detectChanges(){Vy(this._view)}checkNoChanges(){!function PS(n){wl(!0);try{Vy(n)}finally{wl(!1)}}(this._view)}get context(){return null}}class zv extends oo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=nn(t);return new Rh(e,this.ngModule)}}function Kv(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const kk=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Bm});class Rh extends qv{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function zM(n){return n.map(WM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Kv(this.componentDef.inputs)}get outputs(){return Kv(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function Ok(n,t){return{get:(e,i,s)=>{const r=n.get(e,xh,s);return r!==xh||i===xh?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(ma,Lg),a=r.get(Mk,null),u=o.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=i?function Ay(n,t,e){if(pt(n))return n.selectRootElement(t,e===fi.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(u,i,this.componentDef.encapsulation):Nd(o.createRenderer(null,this.componentDef),h,function Ik(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(h)),g=this.componentDef.onPush?576:528,m=function o_(n,t){return{components:[],scheduler:n||Bm,clean:xS,playerHandler:t||null,flags:0}}(),y=Wl(0,null,null,1,0,null,null,null,null,null),_=sa(null,y,m,g,null,null,o,u,a,r);let E,T;El(_);try{const M=function s_(n,t,e,i,s,r){const o=e[1];e[20]=n;const u=Ur(o,20,2,"#host",null),h=u.mergedAttrs=t.hostAttrs;null!==h&&(Kl(u,h,!0),null!==n&&(Sl(s,n,h),null!==u.classes&&jd(s,n,u.classes),null!==u.styles&&oy(s,n,u.styles)));const f=i.createRenderer(n,t),g=sa(e,My(t),null,t.onPush?64:16,e[20],u,i,f,r||null,null);return o.firstCreatePass&&(Ol(jo(u,e),o,t.type),Ry(o,u),Ly(u,e.length,1)),zl(e,g),e[20]=g}(f,this.componentDef,_,o,u);if(f)if(i)Sl(u,f,["ng-version",Sk.full]);else{const{attrs:C,classes:R}=function KM(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!yi(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);C&&Sl(u,f,C),R&&R.length>0&&jd(u,f,R.join(" "))}if(T=Xc(y,20),void 0!==e){const C=T.projection=[];for(let R=0;R<this.ngContentSelectors.length;R++){const G=e[R];C.push(null!=G?Array.from(G):null)}}E=function r_(n,t,e,i,s){const r=e[1],o=function gS(n,t,e){const i=Vt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ny(n,i,t,jr(n,t,1,null),e));const s=$o(t,n,i.directiveStart,i);rn(s,t);const r=Xn(i,t);return r&&rn(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(u=>u(o,t)),t.contentQueries){const u=Vt();t.contentQueries(1,o,u.directiveStart)}const a=Vt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(ws(a.index),Py(e[1],a,0,a.directiveStart,a.directiveEnd,t),xy(t,o)),o}(M,this.componentDef,_,m,[XS]),ra(y,_,null)}finally{Cl()}return new xk(this.componentType,E,ao(T,_),_,T)}}class xk extends class vk{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Ak(s),this.componentType=t}get injector(){return new Ar(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class ts{}class Qv{}const lo=new Map;class Jv extends ts{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zv(this);const i=Yn(t);this._bootstrapComponents=Ri(i.bootstrap),this._r3Injector=zy(t,e,[{provide:ts,useValue:this},{provide:oo,useValue:this.componentFactoryResolver}],Oe(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Qt.THROW_IF_NOT_FOUND,i=_e.Default){return t===Qt||t===ts||t===ch?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Lh extends Qv{constructor(t){super(),this.moduleType=t,null!==Yn(t)&&function Lk(n){const t=new Set;!function e(i){const s=Yn(i,!0),r=s.id;null!==r&&(function Yv(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Oe(t)} vs ${Oe(t.name)}`)}(r,lo.get(r),i),lo.set(r,i));const o=Ri(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Jv(this.moduleType,t)}}function uo(n,t,e,i){return function eb(n,t,e,i,s,r){const o=t+e;return on(n,o,s)?Ni(n,o+1,r?i.call(r,s):i(s)):va(n,o+1)}(k(),fn(),n,t,e,i)}function _a(n,t,e,i,s){return tb(k(),fn(),n,t,e,i,s)}function Nh(n,t,e,i,s,r){return function nb(n,t,e,i,s,r,o,a){const u=t+e;return function Yl(n,t,e,i,s){const r=Zs(n,t,e,i);return on(n,t+2,s)||r}(n,u,s,r,o)?Ni(n,u+3,a?i.call(a,s,r,o):i(s,r,o)):va(n,u+3)}(k(),fn(),n,t,e,i,s,r)}function va(n,t){const e=n[t];return e===me?void 0:e}function tb(n,t,e,i,s,r,o){const a=t+e;return Zs(n,a,s,r)?Ni(n,a+2,o?i.call(o,s,r):i(s,r)):va(n,a+2)}function ib(n,t,e,i,s,r,o,a,u){const h=t+e;return function ni(n,t,e,i,s,r){const o=Zs(n,t,e,i);return Zs(n,t+2,s,r)||o}(n,h,s,r,o,a)?Ni(n,h+4,u?i.call(u,s,r,o,a):i(s,r,o,a)):va(n,h+4)}function co(n,t){const e=Pe();let i;const s=n+20;e.firstCreatePass?(i=function jk(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=Ks(i.type)),o=ms(D);try{const a=Il(!1),u=r();return Il(a),function dA(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,k(),s,u),u}finally{ms(o)}}function ba(n,t,e,i){const s=n+20,r=k(),o=Dr(r,s);return wa(r,s)?tb(r,fn(),t,o.transform,e,i,o):o.transform(e,i)}function wa(n,t){return n[1].data[t].pure}function Fh(n){return t=>{setTimeout(n,void 0,t)}}const Ne=class Wk extends V{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,u=e||(()=>null),h=i;if(t&&"object"==typeof t){const g=t;a=null===(s=g.next)||void 0===s?void 0:s.bind(g),u=null===(r=g.error)||void 0===r?void 0:r.bind(g),h=null===(o=g.complete)||void 0===o?void 0:o.bind(g)}this.__isAsync&&(u=Fh(u),a&&(a=Fh(a)),h&&(h=Fh(h)));const f=super.subscribe({next:a,error:u,complete:h});return t instanceof Re&&t.add(f),f}};function zk(){return this._results[Wr()]()}class Vh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Wr(),i=Vh.prototype;i[e]||(i[e]=zk)}get changes(){return this._changes||(this._changes=new Ne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=ei(t);(this._changesDetected=!function iT(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ns=(()=>{class n{}return n.__NG_ELEMENT_ID__=Yk,n})();const Kk=ns,Qk=class extends Kk{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=sa(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),ra(e,i,t),new ya(i)}};function Yk(){return uu(Vt(),k())}function uu(n,t){return 4&n.type?new Qk(t,n,ao(n,t)):null}let Ei=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zk,n})();function Zk(){return lb(Vt(),k())}const Jk=Ei,ob=class extends Jk{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new Ar(this._hostTNode,this._hostLView)}get parentInjector(){const t=kl(this._hostTNode,this._hostLView);if(Zg(t)){const e=Sr(t,this._hostLView),i=Mr(t);return new Ar(e[1].data[i+8],e)}return new Ar(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=ab(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=t&&!function qo(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const g=e||{};a=g.index,i=g.injector,s=g.projectableNodes,r=g.ngModuleRef}const u=o?t:new Rh(nn(t)),h=i||this.parentInjector;if(!r&&null==u.ngModule&&h){const g=h.get(ts,null);g&&(r=g)}const f=u.create(h,s,void 0,r);return this.insert(f.hostView,a),f}insert(t,e){const i=t._lView,s=i[1];if(function D1(n){return gi(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=i[3],m=new ob(g,g[6],g[3]);m.detach(m.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function IM(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],am(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function kM(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=Hd(r,o),u=i[11],h=Hl(u,o[7]);return null!==h&&function MM(n,t,e,i,s,r){i[0]=s,i[6]=t,ia(n,i,e,1,s,r)}(s,o[6],u,i,h,a),t.attachToViewContainerRef(),am(Bh(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=ab(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Fd(this._lContainer,e);i&&(xl(Bh(this._lContainer),e),Km(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Fd(this._lContainer,e);return i&&null!=xl(Bh(this._lContainer),e)?new ya(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function ab(n){return n[8]}function Bh(n){return n[8]||(n[8]=[])}function lb(n,t){let e;const i=t[n.index];if(gi(i))e=i;else{let s;if(8&n.type)s=It(i);else{const r=t[11];s=r.createComment("");const o=Xn(n,t);Ys(r,Hl(r,o),s,function RM(n,t){return pt(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=Fy(i,t,s,n),zl(t,e)}return new ob(e,n,t)}class Hh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Hh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Uh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new Uh(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==fb(t,e).matches&&this.queries[e].setDirty()}}class ub{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class jh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new jh(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class $h{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new $h(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,tO(e,r)),this.matchTNodeWithReadOption(t,e,Pl(e,t,r,!1,!1))}else i===ns?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Pl(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Et||s===Ei||s===ns&&4&e.type)this.addMatch(e.index,-2);else{const r=Pl(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function tO(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function iO(n,t,e,i){return-1===e?function nO(n,t){return 11&n.type?ao(n,t):4&n.type?uu(n,t):null}(t,n):-2===e?function sO(n,t,e){return e===Et?ao(t,n):e===ns?uu(t,n):e===Ei?lb(t,n):void 0}(n,t,i):$o(n,n[1],e,t)}function cb(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let u=0;u<o.length;u+=2){const h=o[u];a.push(h<0?null:iO(t,r[h],o[u+1],e.metadata.read))}s.matches=a}return s.matches}function Gh(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=cb(n,t,s,e);for(let a=0;a<r.length;a+=2){const u=r[a];if(u>0)i.push(o[a/2]);else{const h=r[a+1],f=t[-u];for(let g=10;g<f.length;g++){const m=f[g];m[17]===m[3]&&Gh(m[1],m,h,i)}if(null!==f[9]){const g=f[9];for(let m=0;m<g.length;m++){const y=g[m];Gh(y[1],y,h,i)}}}}}return i}function ot(n){const t=k(),e=Pe(),i=jg();od(i+1);const s=fb(e,i);if(n.dirty&&Ng(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Gh(e,t,i,[]):cb(e,t,s,i);n.reset(r,Ck),n.notifyOnChanges()}return!0}return!1}function jt(n,t,e){const i=Pe();i.firstCreatePass&&(hb(i,new ub(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),db(i,k(),t)}function Ea(n,t,e,i){const s=Pe();if(s.firstCreatePass){const r=Vt();hb(s,new ub(t,e,i),r.index),function oO(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}db(s,k(),e)}function at(){return function rO(n,t){return n[19].queries[t].queryList}(k(),jg())}function db(n,t,e){const i=new Vh(4==(4&e));Iy(n,t,i,i.destroy),null===t[19]&&(t[19]=new Uh),t[19].queries.push(new Hh(i))}function hb(n,t,e){null===n.queries&&(n.queries=new jh),n.queries.track(new $h(t,e))}function fb(n,t){return n.queries.getByIndex(t)}function hu(...n){}const fu=new Y("Application Initializer");let fo=(()=>{class n{constructor(e){this.appInits=e,this.resolve=hu,this.reject=hu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(ua(r))e.push(r);else if(Dh(r)){const o=new Promise((a,u)=>{r.subscribe({complete:a,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(O(fu,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Da=new Y("AppId"),TO={provide:Da,useFactory:function DO(){return`${Yh()}${Yh()}${Yh()}`},deps:[]};function Yh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const kb=new Y("Platform Initializer"),po=new Y("Platform ID"),Ob=new Y("appBootstrapListener");let Pb=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const is=new Y("LocaleId"),xb=new Y("DefaultCurrencyCode");class MO{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let pu=(()=>{class n{compileModuleSync(e){return new Lh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=Ri(Yn(e).declarations).reduce((o,a)=>{const u=nn(a);return u&&o.push(new Rh(u)),o},[]);return new MO(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const AO=(()=>Promise.resolve(0))();function Zh(n){"undefined"==typeof Zone?AO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class tt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function IO(){let n=Ue.requestAnimationFrame,t=Ue.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function PO(n){const t=()=>{!function OO(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ue,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Xh(n),n.isCheckStableRunning=!0,Jh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Xh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return Rb(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),Lb(n)}},onInvoke:(e,i,s,r,o,a,u)=>{try{return Rb(n),e.invoke(s,r,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),Lb(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Xh(n),Jh(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,kO,hu,hu);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const kO={};function Jh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Xh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Rb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Lb(n){n._nesting--,Jh(n)}class xO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let ef=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),Zh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(O(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Nb=(()=>{class n{constructor(){this._applications=new Map,tf.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return tf.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class RO{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let Ci,tf=new RO;const Fb=new Y("AllowMultipleToken");class Vb{constructor(t,e){this.name=t,this.token=e}}function Bb(n,t,e=[]){const i=`Platform: ${t}`,s=new Y(i);return(r=[])=>{let o=Hb();if(!o||o.injector.get(Fb,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:dh,useValue:"platform"});!function VO(n){if(Ci&&!Ci.destroyed&&!Ci.injector.get(Fb,!1))throw new Sn("400","");Ci=n.get(Ub);const t=n.get(kb,null);t&&t.forEach(e=>e())}(Qt.create({providers:a,name:i}))}return function BO(n){const t=Hb();if(!t)throw new Sn("401","");return t}()}}function Hb(){return Ci&&!Ci.destroyed?Ci:null}let Ub=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function HO(n,t){let e;return e="noop"===n?new xO:("zone.js"===n?void 0:n)||new tt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),u=[{provide:tt,useValue:a}];return a.run(()=>{const h=Qt.create({providers:u,parent:this.injector,name:e.moduleType.name}),f=e.create(h),g=f.injector.get(Vr,null);if(!g)throw new Sn("402","");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:y=>{g.handleError(y)}});f.onDestroy(()=>{nf(this._modules,f),m.unsubscribe()})}),function UO(n,t,e){try{const i=e();return ua(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(g,a,()=>{const m=f.injector.get(fo);return m.runInitializers(),m.donePromise.then(()=>(function DI(n){In(n,"Expected localeId to be defined"),"string"==typeof n&&(bv=n.toLowerCase().replace(/_/g,"-"))}(f.injector.get(is,iu)||iu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(e,i=[]){const s=jb({},i);return function NO(n,t,e){const i=new Lh(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(Ta);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new Sn("403","");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Sn("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(O(Qt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function jb(n,t){return Array.isArray(t)?t.reduce(jb,n):Object.assign(Object.assign({},n),t)}let Ta=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new F(h=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{h.next(this._stable),h.complete()})}),u=new F(h=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),Zh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,h.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}});this.isStable=function gs(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return fe(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof F?n[0]:wn(t)(At(n,e))}(a,u.pipe(function W0(){return n=>Mn()(function $0(n,t){return function(i){let s;if(s="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new G0(s,t));const r=Object.create(i,$s);return r.source=i,r.subjectFactory=s,r}}(q0)(n))}()))}bootstrap(e,i){if(!this._initStatus.done)throw new Sn("405","");let s;s=e instanceof qv?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function FO(n){return n.isBoundToModule}(s)?void 0:this._injector.get(ts),a=s.create(Qt.NULL,[],i||s.selector,r),u=a.location.nativeElement,h=a.injector.get(ef,null),f=h&&a.injector.get(Nb);return h&&f&&f.registerApplication(u,h),a.onDestroy(()=>{this.detachView(a.hostView),nf(this.components,a),f&&f.unregisterApplication(u)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Sn("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;nf(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ob,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(O(tt),O(Qt),O(Vr),O(oo),O(fo))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function nf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let Gb=!0,Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=GO,n})();function GO(n){return function qO(n,t,e){if(yl(n)&&!e){const i=On(n.index,t);return new ya(i,i)}return 47&n.type?new ya(t[16],t):null}(Vt(),k(),16==(16&n))}class Zb{constructor(){}supports(t){return aa(t)}create(t){return new ZO(t)}}const YO=(n,t)=>t;class ZO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||YO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<Xb(i,s,r)?e:i,a=Xb(o,s,r),u=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const h=a-s,f=u-s;if(h!=f){for(let m=0;m<h;m++){const y=m<r.length?r[m]:r[m]=0,_=y+m;f<=_&&_<h&&(r[m]=y+1)}r[o.previousIndex]=f-h}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!aa(t))throw new Error(`Error trying to diff '${Oe(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function uA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Wr()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new JO(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Jb),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class JO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Jb{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new XO,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xb(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class ew{constructor(){}supports(t){return t instanceof Map||yh(t)}create(){return new eP}}class eP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||yh(t)))throw new Error(`Error trying to diff '${Oe(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new tP(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class tP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tw(){return new Ma([new Zb])}let Ma=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||tw()),deps:[[n,new Lr,new Oi]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function nP(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:tw}),n})();function nw(){return new go([new ew])}let go=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||nw()),deps:[[n,new Lr,new Oi]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:nw}),n})();const iP=[new ew],rP=new Ma([new Zb]),oP=new go(iP),aP=Bb(null,"core",[{provide:po,useValue:"unknown"},{provide:Ub,deps:[Qt]},{provide:Nb,deps:[]},{provide:Pb,deps:[]}]),hP=[{provide:Ta,useClass:Ta,deps:[tt,Qt,Vr,oo,fo]},{provide:kk,deps:[tt],useFactory:function fP(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:fo,useClass:fo,deps:[[new Oi,fu]]},{provide:pu,useClass:pu,deps:[]},TO,{provide:Ma,useFactory:function lP(){return rP},deps:[]},{provide:go,useFactory:function uP(){return oP},deps:[]},{provide:is,useFactory:function cP(n){return n||function dP(){return"undefined"!=typeof $localize&&$localize.locale||iu}()},deps:[[new Yo(is),new Oi,new Lr]]},{provide:xb,useValue:"USD"}];let pP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(O(Ta))},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({providers:hP}),n})(),mu=null;function Hi(){return mu}const lt=new Y("DocumentToken");let nr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return function _P(){return O(iw)}()},providedIn:"platform"}),n})();const vP=new Y("Location Initialized");let iw=(()=>{class n extends nr{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Hi().getBaseHref(this._doc)}onPopState(e){const i=Hi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Hi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){sw()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){sw()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(O(lt))},n.\u0275prov=z({token:n,factory:function(){return function bP(){return new iw(O(lt))}()},providedIn:"platform"}),n})();function sw(){return!!window.history.pushState}function uf(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function rw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ss(n){return n&&"?"!==n[0]?"?"+n:n}let ir=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return function wP(n){const t=O(lt).location;return new df(O(nr),t&&t.origin||"")}()},providedIn:"root"}),n})();const cf=new Y("appBaseHref");let df=(()=>{class n extends ir{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return uf(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ss(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,r){const o=this.prepareExternalUrl(s+ss(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){const o=this.prepareExternalUrl(s+ss(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(O(nr),O(cf,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),EP=(()=>{class n extends ir{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=uf(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,r){let o=this.prepareExternalUrl(s+ss(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){let o=this.prepareExternalUrl(s+ss(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(O(nr),O(cf,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Sa=(()=>{class n{constructor(e,i){this._subject=new Ne,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=rw(ow(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ss(i))}normalize(e){return n.stripTrailingSlash(function DP(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ow(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ss(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ss(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=ss,n.joinWithSlash=uf,n.stripTrailingSlash=rw,n.\u0275fac=function(e){return new(e||n)(O(ir),O(nr))},n.\u0275prov=z({token:n,factory:function(){return function CP(){return new Sa(O(ir),O(nr))}()},providedIn:"root"}),n})();function ow(n){return n.replace(/\/index.html$/,"")}var Ot=(()=>((Ot=Ot||{})[Ot.Zero=0]="Zero",Ot[Ot.One=1]="One",Ot[Ot.Two=2]="Two",Ot[Ot.Few=3]="Few",Ot[Ot.Many=4]="Many",Ot[Ot.Other=5]="Other",Ot))(),Ct=(()=>((Ct=Ct||{})[Ct.Format=0]="Format",Ct[Ct.Standalone=1]="Standalone",Ct))(),Se=(()=>((Se=Se||{})[Se.Narrow=0]="Narrow",Se[Se.Abbreviated=1]="Abbreviated",Se[Se.Wide=2]="Wide",Se[Se.Short=3]="Short",Se))(),ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.Medium=1]="Medium",ut[ut.Long=2]="Long",ut[ut.Full=3]="Full",ut))(),re=(()=>((re=re||{})[re.Decimal=0]="Decimal",re[re.Group=1]="Group",re[re.List=2]="List",re[re.PercentSign=3]="PercentSign",re[re.PlusSign=4]="PlusSign",re[re.MinusSign=5]="MinusSign",re[re.Exponential=6]="Exponential",re[re.SuperscriptingExponent=7]="SuperscriptingExponent",re[re.PerMille=8]="PerMille",re[re.Infinity=9]="Infinity",re[re.NaN=10]="NaN",re[re.TimeSeparator=11]="TimeSeparator",re[re.CurrencyDecimal=12]="CurrencyDecimal",re[re.CurrencyGroup=13]="CurrencyGroup",re))();function yu(n,t){return si(mn(n)[j.DateFormat],t)}function _u(n,t){return si(mn(n)[j.TimeFormat],t)}function vu(n,t){return si(mn(n)[j.DateTimeFormat],t)}function ii(n,t){const e=mn(n),i=e[j.NumberSymbols][t];if(void 0===i){if(t===re.CurrencyDecimal)return e[j.NumberSymbols][re.Decimal];if(t===re.CurrencyGroup)return e[j.NumberSymbols][re.Group]}return i}const OP=function _v(n){return mn(n)[j.PluralCase]};function lw(n){if(!n[j.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[j.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function si(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function ff(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const FP=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Aa={},VP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $t=(()=>(($t=$t||{})[$t.Short=0]="Short",$t[$t.ShortGMT=1]="ShortGMT",$t[$t.Long=2]="Long",$t[$t.Extended=3]="Extended",$t))(),ae=(()=>((ae=ae||{})[ae.FullYear=0]="FullYear",ae[ae.Month=1]="Month",ae[ae.Date=2]="Date",ae[ae.Hours=3]="Hours",ae[ae.Minutes=4]="Minutes",ae[ae.Seconds=5]="Seconds",ae[ae.FractionalSeconds=6]="FractionalSeconds",ae[ae.Day=7]="Day",ae))(),Ee=(()=>((Ee=Ee||{})[Ee.DayPeriods=0]="DayPeriods",Ee[Ee.Days=1]="Days",Ee[Ee.Months=2]="Months",Ee[Ee.Eras=3]="Eras",Ee))();function BP(n,t,e,i){let s=function KP(n){if(dw(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,r=1,o=1]=n.split("-").map(a=>+a);return bu(s,r-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(FP))return function QP(n){const t=new Date(0);let e=0,i=0;const s=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),s.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,u=Number(n[6]||0),h=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return r.call(t,o,a,u,h),t}(i)}const t=new Date(n);if(!dw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=rs(e,t)||t;let a,o=[];for(;t;){if(a=VP.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const f=o.pop();if(!f)break;t=f}}let u=s.getTimezoneOffset();i&&(u=cw(i,u),s=function zP(n,t,e){const i=e?-1:1,s=n.getTimezoneOffset();return function WP(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(cw(t,s)-s))}(s,i,!0));let h="";return o.forEach(f=>{const g=function qP(n){if(gf[n])return gf[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ye(Ee.Eras,Se.Abbreviated);break;case"GGGG":t=Ye(Ee.Eras,Se.Wide);break;case"GGGGG":t=Ye(Ee.Eras,Se.Narrow);break;case"y":t=Pt(ae.FullYear,1,0,!1,!0);break;case"yy":t=Pt(ae.FullYear,2,0,!0,!0);break;case"yyy":t=Pt(ae.FullYear,3,0,!1,!0);break;case"yyyy":t=Pt(ae.FullYear,4,0,!1,!0);break;case"Y":t=Du(1);break;case"YY":t=Du(2,!0);break;case"YYY":t=Du(3);break;case"YYYY":t=Du(4);break;case"M":case"L":t=Pt(ae.Month,1,1);break;case"MM":case"LL":t=Pt(ae.Month,2,1);break;case"MMM":t=Ye(Ee.Months,Se.Abbreviated);break;case"MMMM":t=Ye(Ee.Months,Se.Wide);break;case"MMMMM":t=Ye(Ee.Months,Se.Narrow);break;case"LLL":t=Ye(Ee.Months,Se.Abbreviated,Ct.Standalone);break;case"LLLL":t=Ye(Ee.Months,Se.Wide,Ct.Standalone);break;case"LLLLL":t=Ye(Ee.Months,Se.Narrow,Ct.Standalone);break;case"w":t=pf(1);break;case"ww":t=pf(2);break;case"W":t=pf(1,!0);break;case"d":t=Pt(ae.Date,1);break;case"dd":t=Pt(ae.Date,2);break;case"c":case"cc":t=Pt(ae.Day,1);break;case"ccc":t=Ye(Ee.Days,Se.Abbreviated,Ct.Standalone);break;case"cccc":t=Ye(Ee.Days,Se.Wide,Ct.Standalone);break;case"ccccc":t=Ye(Ee.Days,Se.Narrow,Ct.Standalone);break;case"cccccc":t=Ye(Ee.Days,Se.Short,Ct.Standalone);break;case"E":case"EE":case"EEE":t=Ye(Ee.Days,Se.Abbreviated);break;case"EEEE":t=Ye(Ee.Days,Se.Wide);break;case"EEEEE":t=Ye(Ee.Days,Se.Narrow);break;case"EEEEEE":t=Ye(Ee.Days,Se.Short);break;case"a":case"aa":case"aaa":t=Ye(Ee.DayPeriods,Se.Abbreviated);break;case"aaaa":t=Ye(Ee.DayPeriods,Se.Wide);break;case"aaaaa":t=Ye(Ee.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":t=Ye(Ee.DayPeriods,Se.Abbreviated,Ct.Standalone,!0);break;case"bbbb":t=Ye(Ee.DayPeriods,Se.Wide,Ct.Standalone,!0);break;case"bbbbb":t=Ye(Ee.DayPeriods,Se.Narrow,Ct.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ye(Ee.DayPeriods,Se.Abbreviated,Ct.Format,!0);break;case"BBBB":t=Ye(Ee.DayPeriods,Se.Wide,Ct.Format,!0);break;case"BBBBB":t=Ye(Ee.DayPeriods,Se.Narrow,Ct.Format,!0);break;case"h":t=Pt(ae.Hours,1,-12);break;case"hh":t=Pt(ae.Hours,2,-12);break;case"H":t=Pt(ae.Hours,1);break;case"HH":t=Pt(ae.Hours,2);break;case"m":t=Pt(ae.Minutes,1);break;case"mm":t=Pt(ae.Minutes,2);break;case"s":t=Pt(ae.Seconds,1);break;case"ss":t=Pt(ae.Seconds,2);break;case"S":t=Pt(ae.FractionalSeconds,1);break;case"SS":t=Pt(ae.FractionalSeconds,2);break;case"SSS":t=Pt(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Eu($t.Short);break;case"ZZZZZ":t=Eu($t.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Eu($t.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Eu($t.Long);break;default:return null}return gf[n]=t,t}(f);h+=g?g(s,e,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function bu(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function rs(n,t){const e=function TP(n){return mn(n)[j.LocaleId]}(n);if(Aa[e]=Aa[e]||{},Aa[e][t])return Aa[e][t];let i="";switch(t){case"shortDate":i=yu(n,ut.Short);break;case"mediumDate":i=yu(n,ut.Medium);break;case"longDate":i=yu(n,ut.Long);break;case"fullDate":i=yu(n,ut.Full);break;case"shortTime":i=_u(n,ut.Short);break;case"mediumTime":i=_u(n,ut.Medium);break;case"longTime":i=_u(n,ut.Long);break;case"fullTime":i=_u(n,ut.Full);break;case"short":const s=rs(n,"shortTime"),r=rs(n,"shortDate");i=wu(vu(n,ut.Short),[s,r]);break;case"medium":const o=rs(n,"mediumTime"),a=rs(n,"mediumDate");i=wu(vu(n,ut.Medium),[o,a]);break;case"long":const u=rs(n,"longTime"),h=rs(n,"longDate");i=wu(vu(n,ut.Long),[u,h]);break;case"full":const f=rs(n,"fullTime"),g=rs(n,"fullDate");i=wu(vu(n,ut.Full),[f,g])}return i&&(Aa[e][t]=i),i}function wu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Di(n,t,e="-",i,s){let r="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,r=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),r+o}function Pt(n,t,e=0,i=!1,s=!1){return function(r,o){let a=function UP(n,t){switch(n){case ae.FullYear:return t.getFullYear();case ae.Month:return t.getMonth();case ae.Date:return t.getDate();case ae.Hours:return t.getHours();case ae.Minutes:return t.getMinutes();case ae.Seconds:return t.getSeconds();case ae.FractionalSeconds:return t.getMilliseconds();case ae.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,r);if((e>0||a>-e)&&(a+=e),n===ae.Hours)0===a&&-12===e&&(a=12);else if(n===ae.FractionalSeconds)return function HP(n,t){return Di(n,3).substr(0,t)}(a,t);const u=ii(o,re.MinusSign);return Di(a,t,u,i,s)}}function Ye(n,t,e=Ct.Format,i=!1){return function(s,r){return function jP(n,t,e,i,s,r){switch(e){case Ee.Months:return function AP(n,t,e){const i=mn(n),r=si([i[j.MonthsFormat],i[j.MonthsStandalone]],t);return si(r,e)}(t,s,i)[n.getMonth()];case Ee.Days:return function SP(n,t,e){const i=mn(n),r=si([i[j.DaysFormat],i[j.DaysStandalone]],t);return si(r,e)}(t,s,i)[n.getDay()];case Ee.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(r){const h=function PP(n){const t=mn(n);return lw(t),(t[j.ExtraData][2]||[]).map(i=>"string"==typeof i?ff(i):[ff(i[0]),ff(i[1])])}(t),f=function xP(n,t,e){const i=mn(n);lw(i);const r=si([i[j.ExtraData][0],i[j.ExtraData][1]],t)||[];return si(r,e)||[]}(t,s,i),g=h.findIndex(m=>{if(Array.isArray(m)){const[y,_]=m,E=o>=y.hours&&a>=y.minutes,T=o<_.hours||o===_.hours&&a<_.minutes;if(y.hours<_.hours){if(E&&T)return!0}else if(E||T)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(-1!==g)return f[g]}return function MP(n,t,e){const i=mn(n),r=si([i[j.DayPeriodsFormat],i[j.DayPeriodsStandalone]],t);return si(r,e)}(t,s,i)[o<12?0:1];case Ee.Eras:return function IP(n,t){return si(mn(n)[j.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,r,n,t,e,i)}}function Eu(n){return function(t,e,i){const s=-1*i,r=ii(e,re.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case $t.Short:return(s>=0?"+":"")+Di(o,2,r)+Di(Math.abs(s%60),2,r);case $t.ShortGMT:return"GMT"+(s>=0?"+":"")+Di(o,1,r);case $t.Long:return"GMT"+(s>=0?"+":"")+Di(o,2,r)+":"+Di(Math.abs(s%60),2,r);case $t.Extended:return 0===i?"Z":(s>=0?"+":"")+Di(o,2,r)+":"+Di(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${n}"`)}}}function uw(n){return bu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function pf(n,t=!1){return function(e,i){let s;if(t){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();s=1+Math.floor((o+r)/7)}else{const r=uw(e),o=function GP(n){const t=bu(n,0,1).getDay();return bu(n,0,1+(t<=4?4:11)-t)}(r.getFullYear()),a=r.getTime()-o.getTime();s=1+Math.round(a/6048e5)}return Di(s,n,ii(i,re.MinusSign))}}function Du(n,t=!1){return function(e,i){return Di(uw(e).getFullYear(),n,ii(i,re.MinusSign),t)}}const gf={};function cw(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function dw(n){return n instanceof Date&&!isNaN(n.valueOf())}class Mu{}let ox=(()=>{class n extends Mu{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(OP(i||this.locale)(e)){case Ot.Zero:return"zero";case Ot.One:return"one";case Ot.Two:return"two";case Ot.Few:return"few";case Ot.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(O(is))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function gw(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let ka=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(aa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Oe(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(D(Ma),D(go),D(Et),D(Fn))},n.\u0275dir=te({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class lx{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oa=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new lx(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),mw(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{mw(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(D(Ei),D(ns),D(Ma))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function mw(n,t){n.context.$implicit=t.item}let Dn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ux,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(D(Ei),D(ns))},n.\u0275dir=te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ux{constructor(){this.$implicit=null,this.ngIf=null}}function yw(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Oe(t)}'.`)}let vw=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,r]=e.split(".");null!=(i=null!=i&&r?`${i}${r}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(D(Et),D(go),D(Fn))},n.\u0275dir=te({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),bw=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(D(Ei))},n.\u0275dir=te({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[hn]}),n})();const Ex=new Y("DATE_PIPE_DEFAULT_TIMEZONE");let Ef=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",s,r){var o;if(null==e||""===e||e!=e)return null;try{return BP(e,i,r||this.locale,null!==(o=null!=s?s:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw function Ti(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Oe(n)}'`)}(n,a.message)}}}return n.\u0275fac=function(e){return new(e||n)(D(is,16),D(Ex,24))},n.\u0275pipe=dn({name:"date",type:n,pure:!0}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({providers:[{provide:Mu,useClass:ox}]}),n})();const Cw="browser";function Dw(n){return n===Cw}let Nx=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new Fx(O(lt),window)}),n})();class Fx{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Vx(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Tw(this.window.history)||Tw(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Tw(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mw{}class Tf extends class Bx extends class yP{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function mP(n){mu||(mu=n)}(new Tf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Hx(){return Pa=Pa||document.querySelector("base"),Pa?Pa.getAttribute("href"):null}();return null==e?null:function Ux(n){Su=Su||document.createElement("a"),Su.setAttribute("href",n);const t=Su.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Pa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gw(document.cookie,t)}}let Su,Pa=null;const Sw=new Y("TRANSITION_ID"),$x=[{provide:fu,useFactory:function jx(n,t,e){return()=>{e.get(fo).donePromise.then(()=>{const i=Hi(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[Sw,lt,Qt],multi:!0}];class Mf{static init(){!function LO(n){tf=n}(new Mf)}addToWindow(t){Ue.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},Ue.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ue.getAllAngularRootElements=()=>t.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(i=>{const s=Ue.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(u){o=o||u,r--,0==r&&i(o)};s.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?Hi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Gx=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Au=new Y("EventManagerPlugins");let Iu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(O(Au),O(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Aw{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=Hi().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Iw=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),xa=(()=>{class n extends Iw{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(kw),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(kw))}}return n.\u0275fac=function(e){return new(e||n)(O(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function kw(n){Hi().remove(n)}const Sf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Af=/%COMP%/g;function ku(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?ku(n,s,e):(s=s.replace(Af,n),e.push(s))}return e}function xw(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ou=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new If(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case fi.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new Yx(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case fi.ShadowDom:return new Zx(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=ku(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(O(Iu),O(xa),O(Da))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class If{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Sf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=Sf[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Sf[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(Rn.DashCase|Rn.Important)?t.style.setProperty(e,i,s&Rn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Rn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,xw(i)):this.eventManager.addEventListener(t,e,xw(i))}}class Yx extends If{constructor(t,e,i,s){super(t),this.component=i;const r=ku(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function zx(n){return"_ngcontent-%COMP%".replace(Af,n)}(s+"-"+i.id),this.hostAttr=function Kx(n){return"_nghost-%COMP%".replace(Af,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Zx extends If{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=ku(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Jx=(()=>{class n extends Aw{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(O(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Lw=["alt","control","meta","shift"],eR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Nw={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},tR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nR=(()=>{class n extends Aw{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Hi().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(Lw.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function iR(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Nw.hasOwnProperty(t)&&(t=Nw[t]))}return eR[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Lw.forEach(r=>{r!=s&&tR[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(O(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const aR=Bb(aP,"browser",[{provide:po,useValue:Cw},{provide:kb,useValue:function sR(){Tf.makeCurrent(),Mf.init()},multi:!0},{provide:lt,useFactory:function oR(){return function b1(n){Zc=n}(document),document},deps:[]}]),lR=[{provide:dh,useValue:"root"},{provide:Vr,useFactory:function rR(){return new Vr},deps:[]},{provide:Au,useClass:Jx,multi:!0,deps:[lt,tt,po]},{provide:Au,useClass:nR,multi:!0,deps:[lt]},{provide:Ou,useClass:Ou,deps:[Iu,xa,Da]},{provide:ma,useExisting:Ou},{provide:Iw,useExisting:xa},{provide:xa,useClass:xa,deps:[lt]},{provide:ef,useClass:ef,deps:[tt]},{provide:Iu,useClass:Iu,deps:[Au,tt]},{provide:Mw,useClass:Gx,deps:[]}];let uR=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Da,useValue:e.appId},{provide:Sw,useExisting:Da},$x]}}}return n.\u0275fac=function(e){return new(e||n)(O(n,12))},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({providers:lR,imports:[Ew,pP]}),n})();"undefined"!=typeof window&&window;let Bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new(e||n):O(Hw),i},providedIn:"root"}),n})(),Hw=(()=>{class n extends Bw{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ge.NONE:return i;case Ge.HTML:return Pi(i,"HTML")?xn(i):Om(this._doc,String(i)).toString();case Ge.STYLE:return Pi(i,"Style")?xn(i):i;case Ge.SCRIPT:if(Pi(i,"Script"))return xn(i);throw new Error("unsafe value used in a script context");case Ge.URL:return Cm(i),Pi(i,"URL")?xn(i):Jo(String(i));case Ge.RESOURCE_URL:if(Pi(i,"ResourceURL"))return xn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function RT(n){return new IT(n)}(e)}bypassSecurityTrustStyle(e){return function LT(n){return new kT(n)}(e)}bypassSecurityTrustScript(e){return function NT(n){return new OT(n)}(e)}bypassSecurityTrustUrl(e){return function FT(n){return new PT(n)}(e)}bypassSecurityTrustResourceUrl(e){return function VT(n){return new xT(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(O(lt))},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new e:function vR(n){return new Hw(n.get(lt))}(O(Qt)),i},providedIn:"root"}),n})();function ye(...n){let t=n[n.length-1];return fe(t)?(n.pop(),se(n,t)):At(n)}class Vn extends V{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v;return this._value}next(t){super.next(this._value=t)}}class bR extends ke{notifyNext(t,e,i,s,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class wR extends ke{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function ER(n,t,e,i,s=new wR(n,e,i)){if(!s.closed)return t instanceof F?t.subscribe(s):_t(t)(s)}const Uw={};class DR{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new TR(t,this.resultSelector))}}class TR extends bR{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Uw),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(ER(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const s=this.values,o=this.toRespond?s[i]===Uw?--this.toRespond:this.toRespond:0;s[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Pu=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Of(...n){return function MR(){return wn(1)}()(ye(...n))}const Ss=new F(n=>n.complete());function Pf(n){return n?function SR(n){return new F(t=>n.schedule(()=>t.complete()))}(n):Ss}function jw(n){return new F(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?ee(e):Pf()).subscribe(t)})}function Ui(n,t){return"function"==typeof t?e=>e.pipe(Ui((i,s)=>ee(n(i,s)).pipe(B((r,o)=>t(i,r,s,o))))):e=>e.lift(new AR(n))}class AR{constructor(t){this.project=t}call(t,e){return e.subscribe(new IR(t,this.project))}}class IR extends vt{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Xe(this),s=this.destination;s.add(i),this.innerSubscription=Wt(t,i),this.innerSubscription!==i&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $w=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function xu(n){return t=>0===n?Pf():t.lift(new kR(n))}class kR{constructor(t){if(this.total=t,this.total<0)throw new $w}call(t,e){return e.subscribe(new OR(t,this.total))}}class OR extends ke{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Gw(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new xR(n,t,e))}}class xR{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new RR(t,this.accumulator,this.seed,this.hasSeed))}}class RR extends ke{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function Bn(n,t){return function(i){return i.lift(new LR(n,t))}}class LR{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new NR(t,this.predicate,this.thisArg))}}class NR extends ke{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function As(n){return function(e){const i=new FR(n),s=e.lift(i);return i.caught=s}}class FR{constructor(t){this.selector=t}call(t,e){return e.subscribe(new VR(t,this.selector,this.caught))}}class VR extends vt{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(r){return void super.error(r)}this._unsubscribeAndRecycle();const i=new Xe(this);this.add(i);const s=Wt(e,i);s!==i&&this.add(s)}}}function mo(n,t){return ze(n,t,1)}function xf(n){return function(e){return 0===n?Pf():e.lift(new BR(n))}}class BR{constructor(t){if(this.total=t,this.total<0)throw new $w}call(t,e){return e.subscribe(new HR(t,this.total))}}class HR extends ke{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let r=0;r<i;r++){const o=e++%i;t.next(s[o])}}t.complete()}}function qw(n=$R){return t=>t.lift(new UR(n))}class UR{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new jR(t,this.errorFactory))}}class jR extends ke{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function $R(){return new Pu}function Ww(n=null){return t=>t.lift(new GR(n))}class GR{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new qR(t,this.defaultValue))}}class qR extends ke{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function yo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bn((s,r)=>n(s,r,i)):L,xu(1),e?Ww(t):qw(()=>new Pu))}function Is(){}function ct(n,t,e){return function(s){return s.lift(new zR(n,t,e))}}class zR{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new KR(t,this.nextOrObserver,this.error,this.complete))}}class KR extends ke{constructor(t,e,i,s){super(t),this._tapNext=Is,this._tapError=Is,this._tapComplete=Is,this._tapError=i||Is,this._tapComplete=s||Is,qt(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Is,this._tapError=e.error||Is,this._tapComplete=e.complete||Is)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class YR{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ZR(t,this.callback))}}class ZR extends ke{constructor(t,e){super(t),this.add(new Re(e))}}class os{constructor(t,e){this.id=t,this.url=e}}class Rf extends os{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class sr extends os{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zw extends os{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class JR extends os{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class XR extends os{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eL extends os{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tL extends os{constructor(t,e,i,s,r){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nL extends os{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iL extends os{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sL{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rL{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oL{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aL{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yw{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Me="primary";class lL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function _o(n){return new lL(n)}const Zw="ngNavigationCancelingError";function Lf(n){const t=Error("NavigationCancelingError: "+n);return t[Zw]=!0,t}function cL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function ji(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!Jw(n[s],t[s]))return!1;return!0}function Jw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,r)=>i[r]===s)}return n===t}function Xw(n){return Array.prototype.concat.apply([],n)}function eE(n){return n.length>0?n[n.length-1]:null}function en(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function $i(n){return Dh(n)?n:ua(n)?ee(Promise.resolve(n)):ye(n)}const fL={exact:function iE(n,t,e){if(!or(n.segments,t.segments)||!Ru(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!iE(n.children[i],t.children[i],e))return!1;return!0},subset:sE},tE={exact:function pL(n,t){return ji(n,t)},subset:function gL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Jw(n[e],t[e]))},ignored:()=>!0};function nE(n,t,e){return fL[e.paths](n.root,t.root,e.matrixParams)&&tE[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function sE(n,t,e){return rE(n,t,t.segments,e)}function rE(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!or(s,e)||t.hasChildren()||!Ru(s,e,i))}if(n.segments.length===e.length){if(!or(n.segments,e)||!Ru(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!sE(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!!(or(n.segments,s)&&Ru(n.segments,s,i)&&n.children[Me])&&rE(n.children[Me],t,r,i)}}function Ru(n,t,e){return t.every((i,s)=>tE[e](n[s].parameters,i.parameters))}class rr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return _L.serialize(this)}}class Ie{constructor(t,e){this.segments=t,this.children=e,this.parent=null,en(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lu(this)}}class Ra{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=_o(this.parameters)),this._parameterMap}toString(){return cE(this)}}function or(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class oE{}class aE{parse(t){const e=new SL(t);return new rr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${La(t.root,!0)}`,i=function wL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${Nu(e)}=${Nu(s)}`).join("&"):`${Nu(e)}=${Nu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),s="string"==typeof t.fragment?`#${function vL(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${s}`}}const _L=new aE;function Lu(n){return n.segments.map(t=>cE(t)).join("/")}function La(n,t){if(!n.hasChildren())return Lu(n);if(t){const e=n.children[Me]?La(n.children[Me],!1):"",i=[];return en(n.children,(s,r)=>{r!==Me&&i.push(`${r}:${La(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function yL(n,t){let e=[];return en(n.children,(i,s)=>{s===Me&&(e=e.concat(t(i,s)))}),en(n.children,(i,s)=>{s!==Me&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Me?[La(n.children[Me],!1)]:[`${s}:${La(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Me]?`${Lu(n)}/${e[0]}`:`${Lu(n)}/(${e.join("//")})`}}function lE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Nu(n){return lE(n).replace(/%3B/gi,";")}function Nf(n){return lE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Fu(n){return decodeURIComponent(n)}function uE(n){return Fu(n.replace(/\+/g,"%20"))}function cE(n){return`${Nf(n.path)}${function bL(n){return Object.keys(n).map(t=>`;${Nf(t)}=${Nf(n[t])}`).join("")}(n.parameters)}`}const EL=/^[^\/()?;=#]+/;function Vu(n){const t=n.match(EL);return t?t[0]:""}const CL=/^[^=?&#]+/,TL=/^[^&#]+/;class SL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Me]=new Ie(t,e)),i}parseSegment(){const t=Vu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ra(Fu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Vu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=Vu(this.remaining);s&&(i=s,this.capture(i))}t[Fu(e)]=Fu(i)}parseQueryParam(t){const e=function DL(n){const t=n.match(CL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function ML(n){const t=n.match(TL);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=uE(e),r=uE(i);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Vu(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Me);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Me]:new Ie([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ff(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Ff(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Vf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Vf(t,this._root).map(e=>e.value)}}function Ff(n,t){if(n===t.value)return t;for(const e of t.children){const i=Ff(n,e);if(i)return i}return null}function Vf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Vf(n,e);if(i.length)return i.unshift(t),i}return[]}class as{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class hE extends dE{constructor(t,e){super(t),this.snapshot=e,Bf(this,t)}toString(){return this.snapshot.toString()}}function fE(n,t){const e=function AL(n,t){const o=new Bu([],{},{},"",{},Me,t,null,n.root,-1,{});return new gE("",new as(o,[]))}(n,t),i=new Vn([new Ra("",{})]),s=new Vn({}),r=new Vn({}),o=new Vn({}),a=new Vn(""),u=new ks(i,s,o,a,r,Me,t,e.root);return u.snapshot=e.root,new hE(new as(u,[]),e)}class ks{constructor(t,e,i,s,r,o,a,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(B(t=>_o(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B(t=>_o(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pE(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],r=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function IL(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Bu{constructor(t,e,i,s,r,o,a,u,h,f,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=f,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=_o(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=_o(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gE extends dE{constructor(t,e){super(e),this.url=t,Bf(this,e)}toString(){return mE(this._root)}}function Bf(n,t){t.value._routerState=n,t.children.forEach(e=>Bf(n,e))}function mE(n){const t=n.children.length>0?` { ${n.children.map(mE).join(", ")} } `:"";return`${n.value}${t}`}function Hf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ji(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),ji(t.params,e.params)||n.params.next(e.params),function dL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!ji(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),ji(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Uf(n,t){const e=ji(n.params,t.params)&&function mL(n,t){return or(n,t)&&n.every((e,i)=>ji(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Uf(n.parent,t.parent))}function Na(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function OL(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Na(n,i,s);return Na(n,i)})}(n,t,e);return new as(i,s)}{if(n.shouldAttach(t.value)){const r=n.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Na(n,a)),o}}const i=function PL(n){return new ks(new Vn(n.url),new Vn(n.params),new Vn(n.queryParams),new Vn(n.fragment),new Vn(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(r=>Na(n,r));return new as(i,s)}}function Hu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fa(n){return"object"==typeof n&&null!=n&&n.outlets}function jf(n,t,e,i,s){let r={};return i&&en(i,(o,a)=>{r[a]=Array.isArray(o)?o.map(u=>`${u}`):`${o}`}),new rr(e.root===n?t:yE(e.root,n,t),r,s)}function yE(n,t,e){const i={};return en(n.children,(s,r)=>{i[r]=s===t?e:yE(s,t,e)}),new Ie(n.segments,i)}class _E{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Hu(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Fa);if(s&&s!==eE(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $f{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function vE(n,t,e){if(n||(n=new Ie([],{})),0===n.segments.length&&n.hasChildren())return Uu(n,t,e);const i=function VL(n,t,e){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return r;const o=n.segments[s],a=e[i];if(Fa(a))break;const u=`${a}`,h=i<e.length-1?e[i+1]:null;if(s>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!wE(u,h,o))return r;i+=2}else{if(!wE(u,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Ie(n.segments.slice(0,i.pathIndex),{});return r.children[Me]=new Ie(n.segments.slice(i.pathIndex),n.children),Uu(r,0,s)}return i.match&&0===s.length?new Ie(n.segments,{}):i.match&&!n.hasChildren()?Gf(n,t,e):i.match?Uu(n,0,s):Gf(n,t,e)}function Uu(n,t,e){if(0===e.length)return new Ie(n.segments,{});{const i=function FL(n){return Fa(n[0])?n[0].outlets:{[Me]:n}}(e),s={};return en(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=vE(n.children[o],t,r))}),en(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new Ie(n.segments,s)}}function Gf(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(Fa(r)){const u=BL(r.outlets);return new Ie(i,u)}if(0===s&&Hu(e[0])){i.push(new Ra(n.segments[t].path,bE(e[0]))),s++;continue}const o=Fa(r)?r.outlets[Me]:`${r}`,a=s<e.length-1?e[s+1]:null;o&&a&&Hu(a)?(i.push(new Ra(o,bE(a))),s+=2):(i.push(new Ra(o,{})),s++)}return new Ie(i,{})}function BL(n){const t={};return en(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Gf(new Ie([],{}),0,e))}),t}function bE(n){const t={};return en(n,(e,i)=>t[i]=`${e}`),t}function wE(n,t,e){return n==e.path&&ji(t,e.parameters)}class UL{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Hf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=vo(e);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),en(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=vo(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=vo(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=vo(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new aL(r.value.snapshot))}),t.children.length&&this.forwardEvent(new rL(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(Hf(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Hf(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function jL(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),u=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=s,o.resolver=u,o.outlet&&o.outlet.activateWith(s,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class qf{constructor(t,e){this.routes=t,this.module=e}}function Os(n){return"function"==typeof n}function ar(n){return n instanceof rr}const Va=Symbol("INITIAL_VALUE");function Ba(){return Ui(n=>function CR(...n){let t,e;return fe(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&tn(n[0])&&(n=n[0]),At(n,e).lift(new DR(t))}(n.map(t=>t.pipe(xu(1),function PR(...n){const t=n[n.length-1];return fe(t)?(n.pop(),e=>Of(n,e,t)):e=>Of(n,e)}(Va)))).pipe(Gw((t,e)=>{let i=!1;return e.reduce((s,r,o)=>s!==Va?s:(r===Va&&(i=!0),i||!1!==r&&o!==e.length-1&&!ar(r)?s:r),t)},Va),Bn(t=>t!==Va),B(t=>ar(t)?t:!0===t),xu(1)))}class KL{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ha,this.attachRef=null}}class Ha{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new KL,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let ju=(()=>{class n{constructor(e,i,s,r,o){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.name=r||Me,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,u=new QL(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,u),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(D(Ha),D(Ei),D(oo),Ir("name"),D(Bi))},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class QL{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ks?this.route:t===Ha?this.childContexts:this.parent.get(t,e)}}let EE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=bt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&p(0,"router-outlet")},directives:[ju],encapsulation:2}),n})();function CE(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];YL(i,ZL(t,i))}}function YL(n,t){n.children&&CE(n.children,t)}function ZL(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function Wf(n){const t=n.children&&n.children.map(Wf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Me&&(e.component=EE),e}function ri(n){return n.outlet||Me}function DE(n,t){const e=n.filter(i=>ri(i)===t);return e.push(...n.filter(i=>ri(i)!==t)),e}const TE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $u(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},TE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||cL)(e,n,t);if(!r)return Object.assign({},TE);const o={};en(r.posParams,(u,h)=>{o[h]=u.path});const a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Gu(n,t,e,i,s="corrected"){if(e.length>0&&function eN(n,t,e){return e.some(i=>qu(n,t,i)&&ri(i)!==Me)}(n,e,i)){const o=new Ie(t,function XL(n,t,e,i){const s={};s[Me]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&ri(r)!==Me){const o=new Ie([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,s[ri(r)]=o}return s}(n,t,i,new Ie(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function tN(n,t,e){return e.some(i=>qu(n,t,i))}(n,e,i)){const o=new Ie(n.segments,function JL(n,t,e,i,s,r){const o={};for(const a of i)if(qu(n,e,a)&&!s[ri(a)]){const u=new Ie([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===r?n.segments.length:t.length,o[ri(a)]=u}return Object.assign(Object.assign({},s),o)}(n,t,e,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Ie(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function qu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ME(n,t,e,i){return!!(ri(n)===i||i!==Me&&qu(t,e,n))&&("**"===n.path||$u(t,n,e).matched)}function SE(n,t,e){return 0===t.length&&!n.children[e]}class Ua{constructor(t){this.segmentGroup=t||null}}class AE{constructor(t){this.urlTree=t}}function Wu(n){return new F(t=>t.error(new Ua(n)))}function IE(n){return new F(t=>t.error(new AE(n)))}function nN(n){return new F(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class rN{constructor(t,e,i,s,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(ts)}apply(){const t=Gu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ie(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Me).pipe(B(r=>this.createUrlTree(zf(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(As(r=>{if(r instanceof AE)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Ua?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Me).pipe(B(s=>this.createUrlTree(zf(s),t.queryParams,t.fragment))).pipe(As(s=>{throw s instanceof Ua?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Ie([],{[Me]:t}):t;return new rr(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(B(r=>new Ie([],r))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return ee(s).pipe(mo(r=>{const o=i.children[r],a=DE(e,r);return this.expandSegmentGroup(t,a,o,r).pipe(B(u=>({segment:u,outlet:r})))}),Gw((r,o)=>(r[o.outlet]=o.segment,r),{}),function WR(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Bn((s,r)=>n(s,r,i)):L,xf(1),e?Ww(t):qw(()=>new Pu))}())}expandSegment(t,e,i,s,r,o){return ee(i).pipe(mo(a=>this.expandSegmentAgainstRoute(t,e,i,a,s,r,o).pipe(As(h=>{if(h instanceof Ua)return ye(null);throw h}))),yo(a=>!!a),As((a,u)=>{if(a instanceof Pu||"EmptyError"===a.name){if(SE(e,s,r))return ye(new Ie([],{}));throw new Ua(e)}throw a}))}expandSegmentAgainstRoute(t,e,i,s,r,o,a){return ME(s,e,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o):Wu(e):Wu(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?IE(r):this.lineralizeSegments(i,r).pipe(ze(o=>{const a=new Ie(o,{});return this.expandSegment(t,a,e,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){const{matched:a,consumedSegments:u,lastChild:h,positionalParamSegments:f}=$u(e,s,r);if(!a)return Wu(e);const g=this.applyRedirectCommands(u,s.redirectTo,f);return s.redirectTo.startsWith("/")?IE(g):this.lineralizeSegments(s,g).pipe(ze(m=>this.expandSegment(t,e,i,m.concat(r.slice(h)),o,!1)))}matchSegmentAgainstRoute(t,e,i,s,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?ye(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(B(m=>(i._loadedConfig=m,new Ie(s,{})))):ye(new Ie(s,{}));const{matched:o,consumedSegments:a,lastChild:u}=$u(e,i,s);if(!o)return Wu(e);const h=s.slice(u);return this.getChildConfig(t,i,s).pipe(ze(g=>{const m=g.module,y=g.routes,{segmentGroup:_,slicedSegments:E}=Gu(e,a,h,y),T=new Ie(_.segments,_.children);if(0===E.length&&T.hasChildren())return this.expandChildren(m,y,T).pipe(B(G=>new Ie(a,G)));if(0===y.length&&0===E.length)return ye(new Ie(a,{}));const M=ri(i)===r;return this.expandSegment(m,T,y,E,M?Me:r,!0).pipe(B(R=>new Ie(a.concat(R.segments),R.children)))}))}getChildConfig(t,e,i){return e.children?ye(new qf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?ye(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(ze(s=>s?this.configLoader.load(t.injector,e).pipe(B(r=>(e._loadedConfig=r,r))):function iN(n){return new F(t=>t.error(Lf(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):ye(new qf([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;if(!s||0===s.length)return ye(!0);const r=s.map(o=>{const a=t.get(o);let u;if(function GL(n){return n&&Os(n.canLoad)}(a))u=a.canLoad(e,i);else{if(!Os(a))throw new Error("Invalid CanLoad guard");u=a(e,i)}return $i(u)});return ye(r).pipe(Ba(),ct(o=>{if(!ar(o))return;const a=Lf(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),B(o=>!0===o))}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return ye(i);if(s.numberOfChildren>1||!s.children[Me])return nN(t.redirectTo);s=s.children[Me]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const r=this.createSegmentGroup(t,e.root,i,s);return new rr(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return en(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,s){const r=this.createSegments(t,e.segments,i,s);let o={};return en(e.children,(a,u)=>{o[u]=this.createSegmentGroup(t,a,i,s)}),new Ie(r,o)}createSegments(t,e,i,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function zf(n){const t={};for(const i of Object.keys(n.children)){const r=zf(n.children[i]);(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function oN(n){if(1===n.numberOfChildren&&n.children[Me]){const t=n.children[Me];return new Ie(n.segments.concat(t.segments),t.children)}return n}(new Ie(n.segments,t))}class kE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zu{constructor(t,e){this.component=t,this.route=e}}function lN(n,t,e){const i=n._root;return ja(i,t?t._root:null,e,[i.value])}function Ku(n,t,e){const i=function cN(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function ja(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=vo(t);return n.children.forEach(o=>{(function dN(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const u=function hN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!or(n.url,t.url);case"pathParamsOrQueryParamsChange":return!or(n.url,t.url)||!ji(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uf(n,t)||!ji(n.queryParams,t.queryParams);default:return!Uf(n,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);u?s.canActivateChecks.push(new kE(i)):(r.data=o.data,r._resolvedData=o._resolvedData),ja(n,t,r.component?a?a.children:null:e,i,s),u&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new zu(a.outlet.component,o))}else o&&$a(t,a,s),s.canActivateChecks.push(new kE(i)),ja(n,null,r.component?a?a.children:null:e,i,s)})(o,r[o.value.outlet],e,i.concat([o.value]),s),delete r[o.value.outlet]}),en(r,(o,a)=>$a(o,e.getContext(a),s)),s}function $a(n,t,e){const i=vo(n),s=n.value;en(i,(r,o)=>{$a(r,s.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new zu(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class wN{}function OE(n){return new F(t=>t.error(n))}class CN{constructor(t,e,i,s,r,o){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=Gu(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Me);if(null===e)return null;const i=new Bu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Me,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new as(i,e),r=new gE(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,i=pE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const r of Object.keys(e.children)){const o=e.children[r],a=DE(t,r),u=this.processSegmentGroup(a,o,r);if(null===u)return null;i.push(...u)}const s=PE(i);return function DN(n){n.sort((t,e)=>t.value.outlet===Me?-1:e.value.outlet===Me?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const r of t){const o=this.processSegmentAgainstRoute(r,e,i,s);if(null!==o)return o}return SE(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!ME(t,e,i,s))return null;let r,o=[],a=[];if("**"===t.path){const y=i.length>0?eE(i).parameters:{};r=new Bu(i,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,LE(t),ri(t),t.component,t,xE(e),RE(e)+i.length,NE(t))}else{const y=$u(e,t,i);if(!y.matched)return null;o=y.consumedSegments,a=i.slice(y.lastChild),r=new Bu(o,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,LE(t),ri(t),t.component,t,xE(e),RE(e)+o.length,NE(t))}const u=function TN(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:h,slicedSegments:f}=Gu(e,o,a,u.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===f.length&&h.hasChildren()){const y=this.processChildren(u,h);return null===y?null:[new as(r,y)]}if(0===u.length&&0===f.length)return[new as(r,[])];const g=ri(t)===s,m=this.processSegment(u,h,f,g?Me:s);return null===m?null:[new as(r,m)]}}function MN(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function PE(n){const t=[],e=new Set;for(const i of n){if(!MN(i)){t.push(i);continue}const s=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=PE(i.children);t.push(new as(i.value,s))}return t.filter(i=>!e.has(i))}function xE(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function RE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function LE(n){return n.data||{}}function NE(n){return n.resolve||{}}function Kf(n){return Ui(t=>{const e=n(t);return e?ee(e).pipe(B(()=>t)):ye(t)})}class RN extends class xN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Qf=new Y("ROUTES");class FE{constructor(t,e,i,s){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(B(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=r.create(t);return new qf(Xw(o.injector.get(Qf,void 0,_e.Self|_e.Optional)).map(Wf),o)}),As(r=>{throw e._loader$=void 0,r}));return e._loader$=new js(s,()=>new V).pipe(Mn()),e._loader$}loadModuleFactory(t){return $i(t()).pipe(ze(e=>e instanceof Qv?ye(e):ee(this.compiler.compileModuleAsync(e))))}}class NN{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function FN(n){throw n}function VN(n,t,e){return t.parse("/")}function VE(n,t){return ye(null)}const BN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},HN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _n=(()=>{class n{constructor(e,i,s,r,o,a,u){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new V,this.errorHandler=FN,this.malformedUriErrorHandler=VN,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VE,afterPreactivation:VE},this.urlHandlingStrategy=new NN,this.routeReuseStrategy=new RN,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(ts),this.console=o.get(Pb);const g=o.get(tt);this.isNgZoneEnabled=g instanceof tt&&tt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function hL(){return new rr(new Ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new FE(o,a,m=>this.triggerEvent(new Kw(m)),m=>this.triggerEvent(new Qw(m))),this.routerState=fE(this.currentUrlTree,this.rootComponentType),this.transitions=new Vn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Bn(s=>0!==s.id),B(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ui(s=>{let r=!1,o=!1;return ye(s).pipe(ct(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ui(a=>{const u=this.browserUrlTree.toString(),h=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return Qu(a.source)&&(this.browserUrlTree=a.extractedUrl),ye(a).pipe(Ui(g=>{const m=this.transitions.getValue();return i.next(new Rf(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions.getValue()?Ss:Promise.resolve(g)}),function aN(n,t,e,i){return Ui(s=>function sN(n,t,e,i,s){return new rN(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(B(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ct(g=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:g.urlAfterRedirects})}),function SN(n,t,e,i,s){return ze(r=>function EN(n,t,e,i,s="emptyOnly",r="legacy"){try{const o=new CN(n,t,e,i,s,r).recognize();return null===o?OE(new wN):ye(o)}catch(o){return OE(o)}}(n,t,r.urlAfterRedirects,e(r.urlAfterRedirects),i,s).pipe(B(o=>Object.assign(Object.assign({},r),{targetSnapshot:o}))))}(this.rootComponentType,this.config,g=>this.serializeUrl(g),this.paramsInheritanceStrategy,this.relativeLinkResolution),ct(g=>{if("eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(y,g)}this.browserUrlTree=g.urlAfterRedirects}const m=new XR(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);i.next(m)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:y,source:_,restoredState:E,extras:T}=a,M=new Rf(m,this.serializeUrl(y),_,E);i.next(M);const C=fE(y,this.rootComponentType).snapshot;return ye(Object.assign(Object.assign({},a),{targetSnapshot:C,urlAfterRedirects:y,extras:Object.assign(Object.assign({},T),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ss}),Kf(a=>{const{targetSnapshot:u,id:h,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:m,replaceUrl:y}}=a;return this.hooks.beforePreactivation(u,{navigationId:h,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!m,replaceUrl:!!y})}),ct(a=>{const u=new eL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),B(a=>Object.assign(Object.assign({},a),{guards:lN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function fN(n,t){return ze(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return 0===o.length&&0===r.length?ye(Object.assign(Object.assign({},e),{guardsResult:!0})):function pN(n,t,e,i){return ee(n).pipe(ze(s=>function bN(n,t,e,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?ye(r.map(a=>{const u=Ku(a,t,s);let h;if(function zL(n){return n&&Os(n.canDeactivate)}(u))h=$i(u.canDeactivate(n,t,e,i));else{if(!Os(u))throw new Error("Invalid CanDeactivate guard");h=$i(u(n,t,e,i))}return h.pipe(yo())})).pipe(Ba()):ye(!0)}(s.component,s.route,e,t,i)),yo(s=>!0!==s,!0))}(o,i,s,n).pipe(ze(a=>a&&function $L(n){return"boolean"==typeof n}(a)?function gN(n,t,e,i){return ee(t).pipe(mo(s=>Of(function yN(n,t){return null!==n&&t&&t(new sL(n)),ye(!0)}(s.route.parent,i),function mN(n,t){return null!==n&&t&&t(new oL(n)),ye(!0)}(s.route,i),function vN(n,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function uN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>jw(()=>ye(o.guards.map(u=>{const h=Ku(u,o.node,e);let f;if(function WL(n){return n&&Os(n.canActivateChild)}(h))f=$i(h.canActivateChild(i,n));else{if(!Os(h))throw new Error("Invalid CanActivateChild guard");f=$i(h(i,n))}return f.pipe(yo())})).pipe(Ba())));return ye(r).pipe(Ba())}(n,s.path,e),function _N(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ye(!0);const s=i.map(r=>jw(()=>{const o=Ku(r,t,e);let a;if(function qL(n){return n&&Os(n.canActivate)}(o))a=$i(o.canActivate(t,n));else{if(!Os(o))throw new Error("Invalid CanActivate guard");a=$i(o(t,n))}return a.pipe(yo())}));return ye(s).pipe(Ba())}(n,s.route,e))),yo(s=>!0!==s,!0))}(i,r,n,t):ye(a)),B(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ct(a=>{if(ar(a.guardsResult)){const h=Lf(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw h.url=a.guardsResult,h}const u=new tL(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),Bn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Kf(a=>{if(a.guards.canActivateChecks.length)return ye(a).pipe(ct(u=>{const h=new nL(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),Ui(u=>{let h=!1;return ye(u).pipe(function AN(n,t){return ze(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return ye(e);let r=0;return ee(s).pipe(mo(o=>function IN(n,t,e,i){return function kN(n,t,e,i){const s=Object.keys(n);if(0===s.length)return ye({});const r={};return ee(s).pipe(ze(o=>function ON(n,t,e,i){const s=Ku(n,t,i);return $i(s.resolve?s.resolve(t,e):s(t,e))}(n[o],t,e,i).pipe(ct(a=>{r[o]=a}))),xf(1),ze(()=>Object.keys(r).length===s.length?ye(r):Ss))}(n._resolve,n,t,i).pipe(B(r=>(n._resolvedData=r,n.data=Object.assign(Object.assign({},n.data),pE(n,e).resolve),null)))}(o.route,i,n,t)),ct(()=>r++),xf(1),ze(o=>r===s.length?ye(e):Ss))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ct({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(u),this.cancelNavigationTransition(u,"At least one route resolver didn't emit any value."))}}))}),ct(u=>{const h=new iL(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}))}),Kf(a=>{const{targetSnapshot:u,id:h,extractedUrl:f,rawUrl:g,extras:{skipLocationChange:m,replaceUrl:y}}=a;return this.hooks.afterPreactivation(u,{navigationId:h,appliedUrlTree:f,rawUrlTree:g,skipLocationChange:!!m,replaceUrl:!!y})}),B(a=>{const u=function kL(n,t,e){const i=Na(n,t._root,e?e._root:void 0);return new hE(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:u})}),ct(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>B(i=>(new UL(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ct({next(){r=!0},complete(){r=!0}}),function QR(n){return t=>t.lift(new YR(n))}(()=>{var a;r||o||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===s.id&&(this.currentNavigation=null)}),As(a=>{if(o=!0,function uL(n){return n&&n[Zw]}(a)){const u=ar(a.url);u||(this.navigated=!0,this.restoreHistory(s,!0));const h=new zw(s.id,this.serializeUrl(s.extractedUrl),a.message);i.next(h),u?setTimeout(()=>{const f=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),g={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Qu(s.source)};this.scheduleNavigation(f,"imperative",null,g,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const u=new JR(s.id,this.serializeUrl(s.extractedUrl),a);i.next(u);try{s.resolve(this.errorHandler(a))}catch(h){s.reject(h)}}return Ss}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var s;const r={replaceUrl:!0},o=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(o){const u=Object.assign({},o);delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(r.state=u)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){CE(e),this.config=e.map(Wf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:u}=i,h=s||this.routerState.root,f=u?this.currentUrlTree.fragment:o;let g=null;switch(a){case"merge":g=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=r||null}return null!==g&&(g=this.removeEmptyProps(g)),function xL(n,t,e,i,s){if(0===e.length)return jf(t.root,t.root,t,i,s);const r=function RL(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _E(!0,0,n);let t=0,e=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return en(r.outlets,(u,h)=>{a[h]="string"==typeof u?u.split("/"):u}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?e=!0:".."===a?t++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new _E(e,t,i)}(e);if(r.toRoot())return jf(t.root,new Ie([],{}),t,i,s);const o=function LL(n,t,e){if(n.isAbsolute)return new $f(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new $f(r,r===t.root,0)}const i=Hu(n.commands[0])?0:1;return function NL(n,t,e){let i=n,s=t,r=e;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new $f(i,!1,s-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(r,t,n),a=o.processChildren?Uu(o.segmentGroup,o.index,r.commands):vE(o.segmentGroup,o.index,r.commands);return jf(o.segmentGroup,a,t,i,s)}(h,this.currentUrlTree,e,g,null!=f?f:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=ar(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function UN(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},BN):!1===i?Object.assign({},HN):i,ar(e))return nE(this.currentUrlTree,e,s);const r=this.parseUrl(e);return nE(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const r=e[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new sr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,r,o){var a,u,h;if(this.disposed)return Promise.resolve(!1);const f=this.transitions.value,g=Qu(i)&&f&&!Qu(f.source),m=f.rawUrl.toString()===e.toString(),y=f.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(g&&m&&y)return Promise.resolve(!0);let E,T,M;o?(E=o.resolve,T=o.reject,M=o.promise):M=new Promise((G,ve)=>{E=G,T=ve});const C=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),R=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(u=this.browserPageId)&&void 0!==u?u:0:(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1):R=0,this.setTransition({id:C,targetPageId:R,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:E,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(G=>Promise.reject(G))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,i=!1){var s,r;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===o?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new zw(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Eh()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function Qu(n){return"imperative"!==n}let Yf=(()=>{class n{constructor(e,i,s,r,o){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=r,this.el=o,this.commands=null,this.onChanges=new V,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,s=this.el.nativeElement;null!==e?i.setAttribute(s,"tabindex",e):i.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:bo(this.skipLocationChange),replaceUrl:bo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bo(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(D(_n),D(ks),Ir("tabindex"),D(Fn),D(Et))},n.\u0275dir=te({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&Ve("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[hn]}),n})(),Yu=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new V,this.subscription=e.events.subscribe(r=>{r instanceof sr&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,r,o){if(0!==e||i||s||r||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:bo(this.skipLocationChange),replaceUrl:bo(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bo(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(D(_n),D(ks),D(ir))},n.\u0275dir=te({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&Ve("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&an("target",i.target)("href",i.href,Ji)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[hn]}),n})();function bo(n){return""===n||!!n}let BE=(()=>{class n{constructor(e,i,s,r,o,a){this.router=e,this.element=i,this.renderer=s,this.cdr=r,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=e.events.subscribe(u=>{u instanceof sr&&this.update()})}ngAfterContentInit(){ye(this.links.changes,this.linksWithHrefs.changes,ye(null)).pipe(wn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=ee(i).pipe(wn()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function jN(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(D(_n),D(Et),D(Fn),D(Bi),D(Yf,8),D(Yu,8))},n.\u0275dir=te({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,s){if(1&e&&(Ea(s,Yf,5),Ea(s,Yu,5)),2&e){let r;ot(r=at())&&(i.links=r),ot(r=at())&&(i.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[hn]}),n})();class HE{}class UE{preload(t,e){return ye(null)}}let jE=(()=>{class n{constructor(e,i,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new FE(s,i,u=>e.triggerEvent(new Kw(u)),u=>e.triggerEvent(new Qw(u)))}setUpPreloading(){this.subscription=this.router.events.pipe(Bn(e=>e instanceof sr),mo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(ts);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const o=r._loadedConfig;s.push(this.processRoutes(o.module,o.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(e,r)):r.children&&s.push(this.processRoutes(e,r.children));return ee(s).pipe(wn(),B(r=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?ye(i._loadedConfig):this.loader.load(e.injector,i)).pipe(ze(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(O(_n),O(pu),O(Qt),O(HE))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Zf=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof sr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Yw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Yw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Eh()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const lr=new Y("ROUTER_CONFIGURATION"),$E=new Y("ROUTER_FORROOT_GUARD"),GN=[Sa,{provide:oE,useClass:aE},{provide:_n,useFactory:function QN(n,t,e,i,s,r,o={},a,u){const h=new _n(null,n,t,e,i,s,Xw(r));return a&&(h.urlHandlingStrategy=a),u&&(h.routeReuseStrategy=u),function YN(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,h),o.enableTracing&&h.events.subscribe(f=>{var g,m;null===(g=console.group)||void 0===g||g.call(console,`Router Event: ${f.constructor.name}`),console.log(f.toString()),console.log(f),null===(m=console.groupEnd)||void 0===m||m.call(console)}),h},deps:[oE,Ha,Sa,Qt,pu,Qf,lr,[class LN{},new Oi],[class PN{},new Oi]]},Ha,{provide:ks,useFactory:function ZN(n){return n.routerState.root},deps:[_n]},jE,UE,class $N{preload(t,e){return e().pipe(As(()=>ye(null)))}},{provide:lr,useValue:{enableTracing:!1}}];function qN(){return new Vb("Router",_n)}let GE=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[GN,qE(e),{provide:$E,useFactory:KN,deps:[[_n,new Oi,new Lr]]},{provide:lr,useValue:i||{}},{provide:ir,useFactory:zN,deps:[nr,[new Yo(cf),new Oi],lr]},{provide:Zf,useFactory:WN,deps:[_n,Nx,lr]},{provide:HE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:UE},{provide:Vb,multi:!0,useFactory:qN},[Jf,{provide:fu,multi:!0,useFactory:JN,deps:[Jf]},{provide:WE,useFactory:XN,deps:[Jf]},{provide:Ob,multi:!0,useExisting:WE}]]}}static forChild(e){return{ngModule:n,providers:[qE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(O($E,8),O(_n,8))},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({}),n})();function WN(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Zf(n,t,e)}function zN(n,t,e={}){return e.useHash?new EP(n,t):new df(n,t)}function KN(n){return"guarded"}function qE(n){return[{provide:nT,multi:!0,useValue:n},{provide:Qf,multi:!0,useValue:n}]}let Jf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new V}appInitializer(){return this.injector.get(vP,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(a=>i=a),r=this.injector.get(_n),o=this.injector.get(lr);return"disabled"===o.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?ye(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(lr),s=this.injector.get(jE),r=this.injector.get(Zf),o=this.injector.get(_n),a=this.injector.get(Ta);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),s.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(O(Qt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function JN(n){return n.appInitializer.bind(n)}function XN(n){return n.bootstrapListener.bind(n)}const WE=new Y("Router Initializer");let t2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=bt({type:n,selectors:[["app-home"]],decls:67,vars:0,consts:[["href","/blog"],["href","/music"],["href","/lifting"],["href","https://github.com/EgillAntonsson"],["href","https://www.maginteractive.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson",1,"image"],["href","https://rawfury.com"],["href","/music;by=4;track=0"]],template:function(e,i){1&e&&(c(0,"h1"),l(1,"Egill Antonsson"),d(),c(2,"h2"),l(3,"Software developer, music artist, weightlifter, earthling, stardust"),d(),c(4,"p"),l(5," Welcome to my website, where I share my passions:"),p(6,"br"),l(7," Software development and "),c(8,"a",0),l(9,"blogging about it"),d(),l(10,", "),c(11,"a",1),l(12,"music"),d(),l(13,", and "),c(14,"a",2),l(15,"weight lifting"),d(),l(16,"."),p(17,"br"),l(18," My code projects are on "),c(19,"a",3),l(20,"GitHub"),d(),l(21,"."),p(22,"br"),l(23," I'm a developer at "),c(24,"a",4),l(25,"MAG Interactive"),d(),l(26," where I develop front-end shared tech for the mobile games."),p(27,"br"),l(28," My "),c(29,"a",5),l(30,"LinkedIn profile"),d(),l(31," sums up my work experience.\n"),d(),c(32,"h2"),l(33,"Background & Family"),d(),c(34,"figure"),p(35,"img",6),c(36,"figcaption"),l(37," The Family, from left to right:"),p(38,"br"),l(39," Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson "),d(),d(),c(40,"p"),l(41," I was born in 1982 and raised in Reykjavik, Iceland."),p(42,"br"),l(43," Since 2014 I live in Stockholm, Sweden with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."),p(44,"br"),l(45," I'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."),p(46,"br"),d(),c(47,"p"),l(48," I'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir and they live in Iceland."),p(49,"br"),l(50," I have a brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's (un)publishing games like a Boss at "),c(51,"a",7),l(52,"Raw Fury"),d(),l(53,"."),p(54,"br"),d(),c(55,"p"),l(56," Our two older brothers J\xf3nas Bj\xf6rgvin Antonsson and Egill Antonsson passed away before I was born."),p(57,"br"),l(58," They played music and painted pictures and according to family and friends were brilliant boys."),p(59,"br"),l(60," I've digitalized their music that they recorded on a cassette in the early 1970s, you can listen to it under the "),c(61,"a",8),l(62,"J\xf3nas & Egill seniors"),d(),l(63," section in my "),c(64,"a",1),l(65,"music player."),d(),p(66,"br"),d())},encapsulation:2}),n})(),zE=(()=>{class n{constructor(){const e="TDD-ing Avatar Health in Unity (C# .NET)";this.series=[{title:e,posts:[new ur("Part 1 - TDD: What, Why, When ?","tdd-health/part1",e,new Date(2021,11,30),new Date(2022,4,14)),new ur("Part 2 - The assignment: The Avatar Health","tdd-health/part2",e,new Date(2021,11,30),new Date(2022,4,14)),new ur("Part 3 - The implementation begins","tdd-health/part3",e,new Date(2021,11,30),new Date(2022,4,14)),new ur("Part 4 - Taking Damage","tdd-health/part4",e,new Date(2022,0,4),new Date(2022,4,14)),new ur("Part 5 - The Dying part","tdd-health/part5",e,new Date(2022,1,1),new Date(2022,4,14)),new ur("Part 6 - The Replenishing part","tdd-health/part6",e,new Date(2022,4,9),new Date(2022,4,14)),new ur("Part 7 - The Increasing part","tdd-health/part7",e,new Date(2022,4,14))]}],this.selectedPost=this.series[0].posts[0],this.posts=[];for(let i=0;i<this.series.length;i++)for(let s=0;s<this.series[i].posts.length;s++){const r=this.series[i].posts[s];r.index=s,this.posts.push(r)}}getPostWith(e){let i=null;return this.posts.filter(s=>{s.routePath===e&&(i=s)}),i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ur{constructor(t,e,i,s,r){this.title=t,this.routePath=e,this.seriesTitle=i,this.publishedDate=s,this.updatedDate=r}}const KE=function(n){return{nodeSelected:n}};function n2(n,t){if(1&n){const e=Ts();c(0,"div",9),Ve("click",function(){const r=bs(e).$implicit;return De(3).onPostClick(r)}),l(1),d()}if(2&n){const e=t.$implicit,i=De(3);S("ngClass",uo(2,KE,e===i.selectedPost)),b(1),Be(" ",e.title," ")}}function i2(n,t){if(1&n&&(c(0,"div",7),Ce(1,n2,2,4,"div",8),d()),2&n){const e=De().$implicit;b(1),S("ngForOf",e.posts)}}const QE=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function s2(n,t){if(1&n){const e=Ts();c(0,"div"),c(1,"div",3),Ve("click",function(){const r=bs(e).index;return De().onSeriesClick(r)}),c(2,"div",4),p(3,"div",5),d(),c(4,"span"),l(5),d(),d(),Ce(6,i2,2,1,"div",6),d()}if(2&n){const e=t.$implicit,i=t.index,s=De();b(3),S("ngClass",_a(3,QE,s.openedUiSeriesIndex!=i,s.openedUiSeriesIndex===i)),b(2),Qe(e.title),b(1),S("ngIf",s.openedUiSeriesIndex===i)}}function r2(n,t){if(1&n){const e=Ts();c(0,"div",9),Ve("click",function(){const r=bs(e).$implicit;return De(3).onPostClick(r)}),l(1),d()}if(2&n){const e=t.$implicit,i=De(3);S("ngClass",uo(2,KE,e===i.selectedPost)),b(1),Be(" ",e.title," ")}}function o2(n,t){if(1&n&&(c(0,"div",7),Ce(1,r2,2,4,"div",8),d()),2&n){const e=De().$implicit;b(1),S("ngForOf",e.posts)}}function a2(n,t){if(1&n){const e=Ts();c(0,"div"),c(1,"div",3),Ve("click",function(){const r=bs(e).index;return De().onSeriesClick(r)}),c(2,"div",4),p(3,"div",5),d(),c(4,"span"),l(5),d(),d(),Ce(6,o2,2,1,"div",6),d()}if(2&n){const e=t.$implicit,i=t.index,s=De();b(3),S("ngClass",_a(3,QE,s.openedUiSeriesIndex!=i,s.openedUiSeriesIndex===i)),b(2),Qe(e.title),b(1),S("ngIf",s.openedUiSeriesIndex===i)}}let l2=(()=>{class n{constructor(e,i,s){this.blogService=e,this.router=i,this.route=s,this.openedUiSeriesIndex=0,this.selectedSeriesIndex=0,this.router.events.pipe(Bn(r=>r instanceof sr)).subscribe(r=>{const o=r.urlAfterRedirects;if("/blog"===o)this.blogService.selectedPost=this.blogService.posts[0],this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route});else{const a=o.substring(o.length-1,o.length);this.blogService.selectedPost=this.blogService.posts[parseInt(a,10)-1]}})}get blogSeries(){return this.blogService.series}get selectedPost(){return this.blogService.selectedPost}onSeriesClick(e){this.openedUiSeriesIndex=e}onPostClick(e){this.selectedSeriesIndex=this.openedUiSeriesIndex,this.blogService.selectedPost=e,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),window.scroll(0,0)}}return n.\u0275fac=function(e){return new(e||n)(D(zE),D(_n),D(ks))},n.\u0275cmp=bt({type:n,selectors:[["app-blog"]],decls:6,vars:2,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"treeContainer"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(c(0,"div",0),Ce(1,s2,7,6,"div",1),d(),p(2,"router-outlet"),p(3,"br"),c(4,"div",2),Ce(5,a2,7,6,"div",1),d()),2&e&&(b(1),S("ngForOf",i.blogSeries),b(4),S("ngForOf",i.blogSeries))},directives:[Oa,ju,ka,Dn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function Zu(n,t){return new F(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const u=ee(n[a]);let h=!1;e.add(u.subscribe({next:f=>{h||(h=!0,o++),s[a]=f},error:f=>e.error(f),complete:()=>{r++,(r===i||!h)&&(o===i&&e.next(t?t.reduce((f,g,m)=>(f[g]=s[m],f),{}):s),e.complete())}}))}})}let YE=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(D(Fn),D(Et))},n.\u0275dir=te({type:n}),n})(),cr=(()=>{class n extends YE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275dir=te({type:n,features:[Ae]}),n})();const oi=new Y("NgValueAccessor"),d2={provide:oi,useExisting:He(()=>Ga),multi:!0},f2=new Y("CompositionEventMode");let Ga=(()=>{class n extends YE{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function h2(){const n=Hi()?Hi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(D(Fn),D(Et),D(f2,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Ve("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[qe([d2]),Ae]}),n})();function Ps(n){return null==n||0===n.length}function JE(n){return null!=n&&"number"==typeof n.length}const ln=new Y("NgValidators"),xs=new Y("NgAsyncValidators"),p2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Rs{static min(t){return function XE(n){return t=>{if(Ps(t.value)||Ps(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function eC(n){return t=>{if(Ps(t.value)||Ps(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function tC(n){return Ps(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function nC(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function iC(n){return Ps(n.value)||p2.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function sC(n){return t=>Ps(t.value)||!JE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return rC(t)}static pattern(t){return function oC(n){if(!n)return qa;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ps(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return hC(t)}static composeAsync(t){return fC(t)}}function rC(n){return t=>JE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function qa(n){return null}function aC(n){return null!=n}function lC(n){const t=ua(n)?ee(n):n;return Dh(t),t}function uC(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function cC(n,t){return t.map(e=>e(n))}function dC(n){return n.map(t=>function g2(n){return!n.validate}(t)?t:e=>t.validate(e))}function hC(n){if(!n)return null;const t=n.filter(aC);return 0==t.length?null:function(e){return uC(cC(e,t))}}function Xf(n){return null!=n?hC(dC(n)):null}function fC(n){if(!n)return null;const t=n.filter(aC);return 0==t.length?null:function(e){return function u2(...n){if(1===n.length){const t=n[0];if(tn(t))return Zu(t,null);if(di(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Zu(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Zu(n=1===n.length&&tn(n[0])?n[0]:n,null).pipe(B(e=>t(...e)))}return Zu(n,null)}(cC(e,t).map(lC)).pipe(B(uC))}}function ep(n){return null!=n?fC(dC(n)):null}function pC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function gC(n){return n._rawValidators}function mC(n){return n._rawAsyncValidators}function tp(n){return n?Array.isArray(n)?n:[n]:[]}function Ju(n,t){return Array.isArray(n)?n.includes(t):n===t}function yC(n,t){const e=tp(t);return tp(n).forEach(s=>{Ju(e,s)||e.push(s)}),e}function _C(n,t){return tp(t).filter(e=>!Ju(n,e))}class vC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ep(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ls extends vC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class vn extends vC{get formDirective(){return null}get path(){return null}}class bC{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let np=(()=>{class n extends bC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(D(Ls,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Nn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Ae]}),n})(),ip=(()=>{class n extends bC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(D(vn,10))},n.\u0275dir=te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Nn("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Ae]}),n})();function Wa(n,t){op(n,t),t.valueAccessor.writeValue(n.value),function b2(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&wC(n,t)})}(n,t),function E2(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function w2(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&wC(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function v2(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function tc(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),ic(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function nc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function op(n,t){const e=gC(n);null!==t.validator?n.setValidators(pC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=mC(n);null!==t.asyncValidator?n.setAsyncValidators(pC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();nc(t._rawValidators,s),nc(t._rawAsyncValidators,s)}function ic(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=gC(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=mC(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return nc(t._rawValidators,i),nc(t._rawAsyncValidators,i),e}function wC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const za="VALID",rc="INVALID",wo="PENDING",Ka="DISABLED";function up(n){return(dp(n)?n.validators:n)||null}function DC(n){return Array.isArray(n)?Xf(n):n||null}function cp(n,t){return(dp(t)?t.asyncValidators:n)||null}function TC(n){return Array.isArray(n)?ep(n):n||null}function dp(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class hp{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=DC(this._rawValidators),this._composedAsyncValidatorFn=TC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===za}get invalid(){return this.status===rc}get pending(){return this.status==wo}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=DC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=TC(t)}addValidators(t){this.setValidators(yC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(yC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(_C(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(_C(t,this._rawAsyncValidators))}hasValidator(t){return Ju(this._rawValidators,t)}hasAsyncValidator(t){return Ju(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=za,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===za||this.status===wo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:za}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wo,this._hasOwnPendingAsyncValidator=!0;const e=lC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function M2(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Qa?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof fp&&i.at(s)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?rc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wo)?wo:this._anyControlsHaveStatus(rc)?rc:za}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){dp(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Eo extends hp{constructor(t=null,e,i){super(up(e),cp(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Qa extends hp{constructor(t,e,i){super(up(e),cp(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof Eo?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class fp extends hp{constructor(t,e,i){super(up(e),cp(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Eo?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let gp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const k2={provide:oi,useExisting:He(()=>mp),multi:!0};let mp=(()=>{class n extends cr{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275dir=te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Ve("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[qe([k2]),Ae]}),n})(),kC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({}),n})();const yp=new Y("NgModelWithFormControlWarning"),L2={provide:vn,useExisting:He(()=>Za)};let Za=(()=>{class n extends vn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ic(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Wa(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){tc(e.control||null,e,!1),sc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function CC(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(tc(i||null,e),s instanceof Eo&&(Wa(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function EC(n,t){op(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function C2(n,t){return ic(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){op(this.form,this),this._oldForm&&ic(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(D(ln,10),D(xs,10))},n.\u0275dir=te({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Ve("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([L2]),Ae,hn]}),n})();const V2={provide:Ls,useExisting:He(()=>oc)};let oc=(()=>{class n extends Ls{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function lp(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===Ga?e=r:function T2(n){return Object.getPrototypeOf(n.constructor)===cr}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function ap(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function ec(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(D(vn,13),D(ln,10),D(xs,10),D(oi,10),D(yp,8))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([V2]),Ae,hn]}),n})();let ac=(()=>{class n{constructor(){this._validator=qa}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(i):qa,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=te({type:n,features:[hn]}),n})();const Z2={provide:ln,useExisting:He(()=>lc),multi:!0};let lc=(()=>{class n extends ac{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function FC(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>rC(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275dir=te({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&an("maxlength",i.enabled()?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([Z2]),Ae]}),n})(),X2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[[kC]]}),n})(),qC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:yp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[X2]}),n})(),WC=(()=>{class n{group(e,i=null){const s=this._reduceControls(e);let a,r=null,o=null;return null!=i&&(function eF(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(r=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(r=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new Qa(s,{asyncValidators:o,updateOn:a,validators:r})}control(e,i,s){return new Eo(e,i,s)}array(e,i,s){const r=e.map(o=>this._createControl(o));return new fp(r,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof Eo||e instanceof Qa||e instanceof fp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:qC}),n})();var tF=yt(3028);class zC{}class KC{}class ls{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ls?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ls;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ls?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class nF{encodeKey(t){return QC(t)}encodeValue(t){return QC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const sF=/%(\d[a-f0-9])/gi,rF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function QC(n){return encodeURIComponent(n).replace(sF,(t,e)=>{var i;return null!==(i=rF[e])&&void 0!==i?i:t})}function YC(n){return`${n}`}class us{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new nF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function iF(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],u=e.get(o)||[];u.push(a),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new us({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(YC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(YC(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class oF{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ZC(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function JC(n){return"undefined"!=typeof Blob&&n instanceof Blob}function XC(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Ja{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function aF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new ls),this.context||(this.context=new oF),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new us,this.urlWithParams=e}serializeBody(){return null===this.body?null:ZC(this.body)||JC(this.body)||XC(this.body)||function lF(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof us?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||XC(this.body)?null:JC(this.body)?this.body.type||null:ZC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof us?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let h=t.headers||this.headers,f=t.params||this.params;const g=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(h=Object.keys(t.setHeaders).reduce((m,y)=>m.set(y,t.setHeaders[y]),h)),t.setParams&&(f=Object.keys(t.setParams).reduce((m,y)=>m.set(y,t.setParams[y]),f)),new Ja(i,s,o,{params:f,headers:h,context:g,reportProgress:u,responseType:r,withCredentials:a})}}var xt=(()=>((xt=xt||{})[xt.Sent=0]="Sent",xt[xt.UploadProgress=1]="UploadProgress",xt[xt.ResponseHeader=2]="ResponseHeader",xt[xt.DownloadProgress=3]="DownloadProgress",xt[xt.Response=4]="Response",xt[xt.User=5]="User",xt))();class Cp{constructor(t,e=200,i="OK"){this.headers=t.headers||new ls,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Dp extends Cp{constructor(t={}){super(t),this.type=xt.ResponseHeader}clone(t={}){return new Dp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class uc extends Cp{constructor(t={}){super(t),this.type=xt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new uc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eD extends Cp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Tp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Mp=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof Ja)r=e;else{let u,h;u=s.headers instanceof ls?s.headers:new ls(s.headers),s.params&&(h=s.params instanceof us?s.params:new us({fromObject:s.params})),r=new Ja(e,i,void 0!==s.body?s.body:null,{headers:u,context:s.context,params:h,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=ye(r).pipe(mo(u=>this.handler.handle(u)));if(e instanceof Ja||"events"===s.observe)return o;const a=o.pipe(Bn(u=>u instanceof uc));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(B(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(B(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(B(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(B(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new us).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,Tp(s,i))}post(e,i,s={}){return this.request("POST",e,Tp(s,i))}put(e,i,s={}){return this.request("PUT",e,Tp(s,i))}}return n.\u0275fac=function(e){return new(e||n)(O(zC))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class tD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const nD=new Y("HTTP_INTERCEPTORS");let uF=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const cF=/^\)\]\}',?\n/;let iD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((y,_)=>s.setRequestHeader(y,_.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&s.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();s.responseType="json"!==y?y:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=1223===s.status?204:s.status,_=s.statusText||"OK",E=new ls(s.getAllResponseHeaders()),T=function dF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new Dp({headers:E,status:y,statusText:_,url:T}),o},u=()=>{let{headers:y,status:_,statusText:E,url:T}=a(),M=null;204!==_&&(M=void 0===s.response?s.responseText:s.response),0===_&&(_=M?200:0);let C=_>=200&&_<300;if("json"===e.responseType&&"string"==typeof M){const R=M;M=M.replace(cF,"");try{M=""!==M?JSON.parse(M):null}catch(G){M=R,C&&(C=!1,M={error:G,text:M})}}C?(i.next(new uc({body:M,headers:y,status:_,statusText:E,url:T||void 0})),i.complete()):i.error(new eD({error:M,headers:y,status:_,statusText:E,url:T||void 0}))},h=y=>{const{url:_}=a(),E=new eD({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});i.error(E)};let f=!1;const g=y=>{f||(i.next(a()),f=!0);let _={type:xt.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),"text"===e.responseType&&!!s.responseText&&(_.partialText=s.responseText),i.next(_)},m=y=>{let _={type:xt.UploadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),i.next(_)};return s.addEventListener("load",u),s.addEventListener("error",h),s.addEventListener("timeout",h),s.addEventListener("abort",h),e.reportProgress&&(s.addEventListener("progress",g),null!==r&&s.upload&&s.upload.addEventListener("progress",m)),s.send(r),i.next({type:xt.Sent}),()=>{s.removeEventListener("error",h),s.removeEventListener("abort",h),s.removeEventListener("load",u),s.removeEventListener("timeout",h),e.reportProgress&&(s.removeEventListener("progress",g),null!==r&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(O(Mw))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Sp=new Y("XSRF_COOKIE_NAME"),Ap=new Y("XSRF_HEADER_NAME");class sD{}let hF=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gw(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(O(lt),O(po),O(Sp))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Ip=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(O(sD),O(Ap))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),fF=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(nD,[]);this.chain=i.reduceRight((s,r)=>new tD(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(O(KC),O(Qt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),pF=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ip,useClass:uF}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Sp,useValue:e.cookieName}:[],e.headerName?{provide:Ap,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({providers:[Ip,{provide:nD,useExisting:Ip,multi:!0},{provide:sD,useClass:hF},{provide:Sp,useValue:"XSRF-TOKEN"},{provide:Ap,useValue:"X-XSRF-TOKEN"}]}),n})(),gF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({providers:[Mp,{provide:zC,useClass:fF},iD,{provide:KC,useExisting:iD}],imports:[[pF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Xa=(()=>{class n{log(e,i,...s){if(n.IS_ENABLED)switch(e){case"Error":console.error(i,s.join(" "));break;case"Warn":console.warn(i,s.join(" "));break;case"Info":console.log(i,s.join(" "))}}}return n.IS_ENABLED=!1,n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mF=(()=>{class n{constructor(e,i){this.http=e,this.logService=i,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=yt(305),this.creatureList.sort((s,r)=>s.kg>r.kg?-1:1)}loadAndCalculateMyLog(e){this.hasCalculatedMyStats&&e(this.myLiftingStats);let i=0;this.http.get("../../assets/data/FitNotes_Export.csv",{responseType:"text"}).subscribe(r=>{const a=tF.parse(r,{header:!0,skipEmptyLines:!0}),u=a.data,h=a.errors;let f;for(let _=h.length-1;_>=0;_--)f=h[_],this.logService.log("Warn",'Removing row "'+f.row+'". '+f.type+". "+f.code+". "+f.message),u.splice(f.row,1);u.forEach(_=>{const E=_["Weight (kgs)"],T=_.Reps;""!==E&&""!==T&&(i+=parseFloat(E)*parseFloat(T))});const g=this.weightInCreatures(i),m=new Date(u[0].Date),y=new Date(u[u.length-1].Date);this.myLiftingStats={totalKgLifted:i,totalCreaturesLifted:g,firstDate:m,lastDate:y},this.hasCalculatedMyStats=!0,e(this.myLiftingStats)})}weightInCreatures(e){let i=e;const s=[];return this.creatureList.forEach(r=>{let o=0;for(;r.kg<=i;)i-=r.kg,o++;o>0&&s.push({count:o,creature:{name:r.name,kg:r.kg,url:r.url}})}),s}}return n.\u0275fac=function(e){return new(e||n)(O(Mp),O(Xa))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yF=(()=>{class n{transform(e,i=0,s="*",r=1){let o;switch(s){case"/":o=e/r;break;case"*":o=e*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let a=i;e===Math.trunc(e)&&(a=0);const u=o.toFixed(a),h=[];let f=u.includes(".")?u.indexOf("."):u.length;if(f<3)return u;let m=!0;for(;f>0;)f-=3,f<=0?h.unshift(u.substr(0,3+f)):m?(h.unshift(u.substr(f)),m=!1):h.unshift(u.substr(f,3));return h.join("'")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=dn({name:"mynumber",type:n,pure:!0}),n})();function _F(n,t){if(1&n&&(c(0,"li"),l(1),c(2,"a",15),l(3),d(),l(4),co(5,"mynumber"),d()),2&n){const e=t.$implicit;b(1),Be(" ",e.count,"x "),b(1),Ht("href",e.creature.url,Ji),b(1),Qe(e.creature.name),b(1),da(" (",ba(5,5,e.creature.kg,1)," kg",e.count>1?" each":"",") ")}}function vF(n,t){1&n&&(c(0,"div"),l(1," Only numbers are allowed (and ' . ' for fraction) "),d())}function bF(n,t){1&n&&(c(0,"div"),l(1," number is too big, reduce it "),d())}function wF(n,t){1&n&&(c(0,"div"),l(1," number is to small, increase it "),d())}function EF(n,t){if(1&n&&(c(0,"div",16),Ce(1,vF,2,0,"div",7),Ce(2,bF,2,0,"div",7),Ce(3,wF,2,0,"div",7),d()),2&n){const e=De();b(1),S("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.pattern),b(1),S("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.max),b(1),S("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.min)}}function CF(n,t){if(1&n&&(c(0,"li"),l(1),c(2,"a",15),l(3),d(),l(4),co(5,"mynumber"),d()),2&n){const e=t.$implicit;b(1),Be(" ",e.count,"x "),b(1),Ht("href",e.creature.url,Ji),b(1),Qe(e.creature.name),b(1),da(" (",ba(5,5,e.creature.kg,1)," kg ",e.count>1?" each":"",") ")}}function DF(n,t){if(1&n&&(c(0,"table"),c(1,"tr"),c(2,"th"),l(3,"KGs"),d(),c(4,"th"),l(5,"Creatures"),d(),d(),c(6,"tr"),c(7,"td",0),l(8),d(),c(9,"td"),c(10,"ul"),Ce(11,CF,6,8,"li",1),d(),d(),d(),d()),2&n){const e=De();b(8),Qe(e.convertLastInputSubmit),b(3),S("ngForOf",e.convertResult)}}let TF=(()=>{class n{constructor(e,i){this.liftingService=e,this.fb=i,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,e.loadAndCalculateMyLog(r=>{this.totalKgLifted=r.totalKgLifted,this.totalCreaturesLifted=r.totalCreaturesLifted,this.firstDate=r.firstDate,this.lastDate=r.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[Rs.pattern(/^\d+\.*\d*$/),Rs.max(this.maximumInputAllowed),Rs.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const e=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||e===this.convertLastInputSubmit||(this.convertLastInputSubmit=e,this.convert(e))}convert(e){this.convertResult=this.liftingService.weightInCreatures(e)}}return n.\u0275fac=function(e){return new(e||n)(D(mF),D(WC))},n.\u0275cmp=bt({type:n,selectors:[["app-lift"]],decls:103,vars:19,consts:[[1,"center"],[4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],[4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["href","https://vimeo.com/57172348"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],[3,"href"],[1,"alert"]],template:function(e,i){1&e&&(c(0,"div"),c(1,"h2"),l(2,"Progressing on my path to lift the Platinum Dragon!"),d(),c(3,"p"),l(4),co(5,"date"),co(6,"date"),d(),c(7,"table"),c(8,"tr"),c(9,"th"),l(10,"Tons lifted"),d(),c(11,"th"),l(12,"Creatures lifted"),d(),d(),c(13,"tr"),c(14,"td",0),l(15),co(16,"mynumber"),d(),c(17,"td"),c(18,"ul"),Ce(19,_F,6,8,"li",1),d(),d(),d(),d(),c(20,"p"),l(21," I use "),c(22,"a",2),l(23,"FitNotes"),d(),l(24," app to log my lifting,"),p(25,"br"),l(26," and export the log from it and use it for the above calculation."),p(27,"br"),l(28," No creatures were hurt during the lifting :)\n"),d(),d(),c(29,"div"),c(30,"h1"),l(31,"Kg to Creatures converter"),d(),c(32,"div",3),c(33,"form",4),c(34,"div"),c(35,"input",5),Ve("input",function(){return i.inputEvent()}),d(),d(),c(36,"sub"),l(37,"kg number in text field is converts to below:"),d(),p(38,"br"),Ce(39,EF,4,3,"div",6),d(),d(),Ce(40,DF,12,2,"table",7),c(41,"p"),l(42," The sources for the creature weight list:"),p(43,"br"),c(44,"a",8),l(45,"Metallic dragons of the Forgotten Realms"),d(),p(46,"br"),c(47,"a",9),l(48,"Dinosaur size"),d(),p(49,"br"),c(50,"a",10),l(51,"Adult mammals weight"),d(),d(),d(),c(52,"div"),c(53,"figure"),p(54,"img",11),c(55,"figcaption"),l(56,"Egill Antonsson dealing with the the dragon's breath"),d(),d(),d(),c(57,"div"),c(58,"h2"),l(59,"The beginning of my strength & hyperthropy journey"),d(),c(60,"h3"),l(61,"The first workout"),d(),c(62,"p"),l(63," I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."),p(64,"br"),l(65," My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."),p(66,"br"),l(67," I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."),p(68,"br"),l(69,' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'),p(70,"br"),l(71," Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"),p(72,"br"),l(73," This was a lesson learned for both me and Mummi in how not to begin your training.\n"),d(),c(74,"h3"),l(75,"The first years"),d(),c(76,"p"),l(77," Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."),p(78,"br"),l(79," I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."),p(80,"br"),d(),c(81,"p"),l(82," Gym 80 was founded by "),c(83,"a",12),l(84,"J\xf3n P\xe1ll Sigmarsson"),d(),l(85," who was the first man in history to win the World Strongest Man four times."),p(86,"br"),l(87," He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."),p(88,"br"),l(89," My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "),c(90,"a",13),l(91,'"There is no reason to be alive if you can\'t do deadlift!"'),d(),l(92,","),p(93,"br"),l(94,"\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."),p(95,"br"),l(96,"\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."),p(97,"br"),d(),d(),c(98,"div"),c(99,"figure"),p(100,"img",14),c(101,"figcaption"),l(102,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),d(),d(),d()),2&e&&(b(4),da("\nDuring the period ",ba(5,8,i.firstDate,"d. MMMM yyyy")," - ",ba(6,11,i.lastDate,"d. MMMM yyyy"),":\n"),b(11),Qe(function rb(n,t,e,i,s,r){const o=n+20,a=k(),u=Dr(a,o);return wa(a,o)?ib(a,fn(),t,u.transform,e,i,s,r,u):u.transform(e,i,s,r)}(16,14,i.totalKgLifted,3,"/",1e3)),b(4),S("ngForOf",i.totalCreaturesLifted),b(14),S("formGroup",i.convertForm),b(2),S("maxlength",16),b(4),S("ngIf",i.inputKgControl.invalid),b(1),S("ngIf",i.convertResult.length>0))},directives:[Oa,gp,ip,Za,mp,Ga,np,oc,lc,Dn],pipes:[Ef,yF],styles:["ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]}),n})();class cs{static validateNumberForRange(t,e,i){if(e>=i)throw new Co(Co.msgLowerLimitMustBeLowerThanUpperLimit);if(t>i)throw new Co(Co.msgNumberMustNotBeHigherThenUpperLimit);if(t<e)throw new Co(Co.msgNumberMustNotBeLowerThenLowerLimit);return t}}let Co=(()=>{class n{constructor(e){this.name="SoundUtilError",this.message=e}}return n.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit",n.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit",n.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit",n})(),le=(()=>{class n{constructor(e,i,s,r="",o="",a="",u="",h="",f=""){this.defaultArtworkFilename="Egill_Antonsson.png",this.name=e,this.soundDatas=i,this.play=s,this.artworkPath=o,""===o&&(this.artworkPath=n.dir+this.defaultArtworkFilename),this.about=a,this.rootUrl=r,this.soundcloudUrl=u,this.spotifyUrl=h,this.buyUrl=f}}return n.dir="../../assets/tracks/",n})();class el extends le{constructor(t,e,i,s){super(t,e,i),this.layeredMusicController=s}}function rD(n,t,e,i,s,r,o){try{var a=n[r](o),u=a.value}catch(h){return void e(h)}a.done?t(u):Promise.resolve(u).then(i,s)}function oe(n){return function(){var t=this,e=arguments;return new Promise(function(i,s){var r=n.apply(t,e);function o(u){rD(r,i,s,o,a,"next",u)}function a(u){rD(r,i,s,o,a,"throw",u)}o(void 0)})}}class MF{constructor(t,e,i,s,r,o,a){this._instanceMuted=!1,this.log=a,this._gainNode=t,this.maxGain=e,this.soundTypeGain=i,this.masterGain=s,this.dynamicRange=r,this.soundType=o,this.value=this.defaultValue,[i,s].forEach(u=>{u.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),u.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(t){this._gainNode.gain.value=this.muted?0:this.calculateGain(cs.validateNumberForRange(t,0,1))}get gainNode(){return this._gainNode}calculateGain(t){const e=t*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===e)return 0;if("SFX"===this.soundType){const s=this.dynamicRange.getRangeCenter()+(e-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${s}`),s}return e}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(t=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=t,this}setValueAtTime(t,e){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(t),e),this}exponentialRampToValueAtTime(t,e){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(t),e),this}linearRampToValueAtTime(t,e){var i;return this.muted?null===(i=this._gainNode)||void 0===i?void 0:i.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(t),e),this)}setTargetAtTime(t,e,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(t),e,i),this)}setValueCurveAtTime(t,e,i){if(this.muted)return this._gainNode.gain;for(let s=0;s<t.length;s++)t[s]=this.calculateGain(t[s]);return this._gainNode.gain.setValueCurveAtTime(t,e,i),this}cancelScheduledValues(t){return this._gainNode.gain.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._gainNode.gain.cancelAndHoldAtTime(t),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(t=>{t.removeAllListeners("GainChange"),t.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class SF{constructor(t,e,i,s,r){this.audioContext=t,this.sourceNode=e,this.analyzerNode=i,this.gainWrapper=s,this.id=r}}class AF{constructor(t,e,i,s,r,o,a){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=t,this.log=a,this.configMaxNrPlayingAtOnce=e,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?cs.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,e):this.soundData.loop?1:e,this.maxGainValidated=cs.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=s,this.dynamicRange=r,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(t=!0){var e=this;return oe(function*(){let i;e.reachedMaxNumberOfPlayingAtOnce&&e.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${e.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),e.firstInstancePromise?(e.log("Info",`[${e.label}]`,"play(): awaiting first instance promise"),i=yield e.firstInstancePromise,e.firstInstancePromise=void 0):(e.log("Info",`[${e.label}]`,"play(): createSoundInstance"),i=yield e.createSoundInstance(t)),e.instances.set(e.id,i),e.log("Info",`Added soundInstance with id '${e.id}' to the instances list which now has the size '${e.instances.size}'`);const s=e.createEndedPromise(i);return e.playSoundInstance(i),{instance:i,endedPromise:s}})()}createEndedPromise(t){return new Promise(e=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(t),e(t),this.instances.delete(t.id)||this.log("Warn",`deleting map with instance id '${t.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${t.id}, list with new size ${this.instances.size}`)},t.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(t){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t.sourceNode.start()}createSoundInstance(t){var e=this;return oe(function*(){const i=e.audioCtx.createBufferSource();i.buffer=e.sourceNodeBuffer?e.sourceNodeBuffer:e.sourceNodeBuffer=yield e.loadSound(),i.loop=e.soundData.loop;const s=e.audioCtx.createGain(),r=new MF(s,e.maxGainValidated,e.soundTypeGain,e.masterGain,e.dynamicRange,e.soundData.soundType,e.log),o=e.audioCtx.createAnalyser();return t&&i.connect(r.gainNode).connect(o).connect(e.audioCtx.destination),++e.id,e.log("Info",`Creating sound instance for key '${e.soundData.key}' with id '${e.id}'`),new SF(e.audioCtx,i,o,r,e.id)})()}loadSound(){var t=this;return oe(function*(){t.log("Info",`Loading sound with key '${t.soundData.key}'`);const i=yield(yield fetch(t.soundData.url)).arrayBuffer();return yield t.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.id=-1)}disposeInstance(t){return t.sourceNode.removeEventListener("ended",this.endedListener),t.sourceNode.stop(),t.gainWrapper.dispose(),t.sourceNode.disconnect(),t.analyzerNode.disconnect(),t}dispose(){this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var kp=yt(9069);class IF extends kp.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}class Op extends IF{constructor(t,e){super(t),this._muted=e}get muted(){return this._muted}set muted(t){this._muted=t}}class kF extends kp.EventEmitter{constructor(t,e){super(),this._lowValue=0,this._highValue=1,this.lowValue=t,this.highValue=e}get lowValue(){return this._lowValue}set lowValue(t){this._lowValue=t}get highValue(){return this._highValue}set highValue(t){this._highValue=t}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class OF{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new kF(0,1),this._musicGain=new Op(1,!1),this._sfxGain=new Op(1,!1),this._masterGain=new Op(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(t){this._musicGain.value=cs.validateNumberForRange(t,0,1),this._musicGain.emit("GainChange")}set musicMuted(t){this._musicGain.muted=t,this._musicGain.emit("MuteChange")}set sfxGain(t){this._sfxGain.value=cs.validateNumberForRange(t,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(t){this._sfxGain.muted=t,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(t){this._masterGain.value=cs.validateNumberForRange(t,0,1),this._masterGain.emit("GainChange")}set masterMuted(t){this._masterGain.muted=t,this._masterGain.emit("MuteChange")}set maxNrPlayingAtOncePerSound(t){this._maxNrPlayingAtOncePerSound=cs.validateNumberForRange(t,1,24),this.sounds.forEach(e=>{e.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(t,e){this.log=e,this.audioContext=new(t.AudioContext||t.webkitAudioContext)}setDynamicRange(t,e){t>e&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${t}' must be lower than highValue '${e}', not setting new Dynamic Range`),this.dynamicRange.lowValue=cs.validateNumberForRange(t,0,1),this.dynamicRange.highValue=cs.validateNumberForRange(e,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(t){const e="Music"===t.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new AF(t,this._maxNrPlayingAtOncePerSound,e,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(t.key,i),i}updateEmitterMaxListeners(t){const e=2*t*24;this._masterGain.setMaxListeners(e),this._musicGain.setMaxListeners(e),this._sfxGain.setMaxListeners(e),this.dynamicRange.setMaxListeners(e)}addToList(t,e){this.sounds.has(t)?this.log("Warn",`Sound with the key '${t}' is already in to SoundManager, not adding it again`):this.sounds.set(t,e)}playSound(t){const e=this.sounds.get(t);return e?e.play():(this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${t}', not in SoundManager`),null)}getSound(t){const e=this.sounds.get(t);if(!e)throw new oD(oD.msgSoundNotInManager);return e}hasSound(t){return this.sounds.has(t)}stopSound(t){const e=this.sounds.get(t);e?e.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}stopMusic(){this.sounds.forEach(t=>{"Music"===t.soundData.soundType&&t.stop()})}stopAllSounds(){this.sounds.forEach(t=>{t.stop()})}purge(){this.sounds.forEach(t=>{t.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}let oD=(()=>{class n{constructor(e){this.name="SoundManagerError",this.message=e}}return n.msgSoundNotInManager="Sound Not In Manager",n})(),Pp=(()=>{class n{constructor(){this._instance=new OF}get instance(){return this._instance}injectMocksForTests(e){this._instance=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xF=(()=>{class n{get nativeWindow(){return function PF(){return window}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class N{constructor(t,e,i,s,r,o=1){this.key=t,this.url=e,this.maxGain=i,this.soundType=s,this.loop=r,this.maxNrPlayingAtOnce=o}static music(t,e,i=1){return new N(t,e,i,"Music",!1,1)}static musicLoop(t,e,i=1){return new N(t,e,i,"Music",!0,1)}static sfx(t,e,i){return new N(t,e,i,"SFX",!1,1)}static sfxLoop(t,e,i){return new N(t,e,i,"SFX",!0,1)}}class aD{constructor(t,e,i=3,s=30,r=20,o=!0,a=0,u=0){this.instanceEndedListeners=t,this.log=e,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=s,this.fadeDurationSec=r,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=a,this.maxLayerValue=u,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=a}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(t){this._gainsDisabled=t}start(t){this._layerSoundInstances=t,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let e=this.layerIndexToBeDecremented+1;e<this._layerSoundInstances.length;e++)this._layerSoundInstances[e].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,t),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(t){t&&!this._gainsDisabled.value&&(this._gainsDisabled.value=t,this._gainsDisabled.emit("Change",t))}setFadeTimeout(t,e,i){t.set(e,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),t.delete(e),0===t.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===e&&this.instanceEndedListeners.forEach(s=>s(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const t=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);t&&clearTimeout(t),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.unmuteInstance(e.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeInTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}let RF=(()=>{class n{constructor(e,i){this.soundManager=e,this.logService=i,this.pathRoot="../../assets/audio",this.pathGame=`${this.pathRoot}/game`,this.pathKuai=`${this.pathRoot}/kuai`,this.pathBrothers=`${this.pathRoot}/braedraminning`,this._isInitialized=!1,this._instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}getTrackByRootUrl(e){return this._tracksByRootUrl.get(e)}get instancePlayedListeners(){return this._instancePlayedListeners}get timeout(){return this._timeout}set timeout(e){this._timeout=e}init(){this._isInitialized||(this._byTracks=[{name:"Egill Antonsson",tracks:[this.harmoniesOfShadeAndLight(),this.weWillMeetAgain(),this.magmaMerryGoRound(),this.votThemeSong(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace(),this.lecube()],about:this.aboutEgillAntonsson},{name:"TribeOfOranges",tracks:[this.introduction(),this.routine(),this.hhiCommercial()],about:this.aboutTribeOfOranges},{name:"KUAI",tracks:[this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()],about:this.aboutKuai},{name:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()],about:""},{name:"Game Music",tracks:[this.cakePopParty(),this.symbol6(),this.softFreakFiesta(),this.habitarium(),this.tinyPlaces(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.godsrule(),this.vot(),this.crisisGame()],about:""},{name:"Egill & J\xf3nas seniors",tracks:[this.rubber(),this.mouse(),this.chase(),this.guitarSolos(),this.withoutThem(),this.story(),this.worldIsNothing(),this.tapDance(),this.beLikeYou(),this.takeCare()],about:""}],this.flattenTracks(),this._isInitialized=!0)}get aboutEgillAntonsson(){return"I started playing the piano around the age of 7.<br>\nIn my teenage years I added guitar (inspired by <a href=\"https://www.slashonline.com/\">Slash</a> and others),<br>\nelectric bass (because all in the band can't be guitarists), and singing.<br>\nThrough the years I've been in various bands, projects and collaborations,<br>\nand the tracks that I drove (often including collaborations with others) are published under my name.\n"}get pathToDirEgillAntonsson(){return le.dir+"egillantonsson/"}get aboutTribeOfOranges(){return"A partnership with my friend <b>Sindri Bergmann Thorarinsson</b>.<br>\nWe coined the name when we needed to, which can be shortened to <b>TOO</b>.<br>\nMe and <b>Sindri</b> have done a lot together, although not always under this name."}get pathToDirTribeOfOranges(){return le.dir+"too/"}get aboutKuai(){return""}get pathToDirKuai(){return le.dir+"kuai/"}flattenTracks(){this._tracksByRootUrl=new Map,this._flatTracks=[];let e=0;for(let i=0;i<this._byTracks.length;i++)for(let s=0;s<this._byTracks[i].tracks.length;s++){const r=this._byTracks[i].tracks[s];r.index=e++;const o=this._byTracks[i];r.artistName=o.name,r.artistAbout=o.about,this._flatTracks.push(r),this._tracksByRootUrl.set(r.rootUrl,r)}}rubber(){var e=this;const i=new le("Rubber",[N.music("rubber",`${this.pathBrothers}/Rubber.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}mouse(){var e=this;const i=new le("Mouse",[N.music("mouse",`${this.pathBrothers}/Mouse.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}chase(){var e=this;const i=new le("The Chase",[N.music("chase",`${this.pathBrothers}/The_Chase.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}guitarSolos(){var e=this;const i=new le("The Guitar Solos",[N.music("guitarSolos",`${this.pathBrothers}/The_Guitar_Solos.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}withoutThem(){var e=this;const i=new le("Without Them",[N.music("withoutThem",`${this.pathBrothers}/Without_Them.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}story(){var e=this;const i=new le("The Story",[N.music("story",`${this.pathBrothers}/The_Story.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}worldIsNothing(){var e=this;const i=new le("The World is Nothing",[N.music("worldIsNothing",`${this.pathBrothers}/The_World_is_Nothing.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}tapDance(){var e=this;const i=new le("Tap Dance",[N.music("tapDance",`${this.pathBrothers}/Tap_Dance.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}beLikeYou(){var e=this;const i=new le("Be Like You",[N.music("beLikeYou",`${this.pathBrothers}/Be_Like_You.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}takeCare(){var e=this;const i=new le("Take Care",[N.music("takeCare",`${this.pathBrothers}/Take_Care.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}votThemeSong(){var e=this;const i=new le("Vikings of Thule Theme Song",[N.music("votThemeSong",`${this.pathRoot}/Vikings_of_Thule__Theme_Song.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}simpleTrack(e,i,s,r,o,a){var u=this;const h=new le(e.split("-").join(" "),[N.music(e,`${i}${e}.ogg`)],()=>oe(function*(){const f=u.soundManager.instance.getSound(h.soundDatas[0].key),{instance:g,endedPromise:m}=yield f.play();u.instancePlayedListeners.forEach(y=>y(g)),yield m,u.instanceEndedListeners.forEach(y=>y(!0))}),e.toLowerCase(),`${i}${e}.jpg`,a,s,r,o);return h}harmoniesOfShadeAndLight(){return this.simpleTrack("Harmonies-of-Shade-and-Light",`${this.pathToDirEgillAntonsson}`,"https://soundcloud.com/egill-antonsson/harmonies-of-shade-and-light","https://open.spotify.com/track/1xHXUKERh3a6elM9VdPIUW?si=6055aa68ab4740f6","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc",'I got the idea of this song when I was with the family in Thailand at the beginning of 2017.<br>\nI borrowed a guitar with missing strings and created a harmony pattern and sung a melody over it.<br>\nIn circa 2019 I recorded the guitars and arranged the percussions from <a href="https://www.thelooploft.com/collections/drum-loops" target="_blank">The Loop Loft</a>.<br>\nIn the spring of 2021 my friend and music partner <b>Sindri Bergmann Thorarinsson</b><br>\nhelped me structure the song and write the lyrics,<br>\nand he recorded my vocals in his studio in Reykjavik.<br>\nIn April 2022 I recorded the rest of the instruments, processed and mixed the song.\n')}weWillMeetAgain(){return this.simpleTrack("We-Will-Meet-Again",`${this.pathToDirEgillAntonsson}`,"https://soundcloud.com/egill-antonsson/we-will-meet-again","https://open.spotify.com/track/27t1JaFQlOX6hhkVC6d59Z?si=ea6c40e7c5c34080","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib","In the spring of 2021 my friend and music partner <b>Sindri Bergmann Thorarinsson</b><br> asked me to collaborate with him to make a pop song.<br>\nAlthough we've played some pop over the years, we have not focused on creating one per se.<br>\nSo our goal now was to focus on the 'formula of what makes a good (modern) pop song',<br>\nand also speed up our workflow to complete the song in couple of days (from start to finish).<br>\nWe created the song and lyrics together, I sang in the lyrics and <b>Sindri</b> mixed, processed and polished the whole song.<br>\nWe put the song under artist Egill Antonsson (for convenience) although it's truly a collaboration.\n")}magmaMerryGoRound(){return this.simpleTrack("Magma-MerryGoRound",`${this.pathToDirEgillAntonsson}`,"https://soundcloud.com/egill-antonsson/magma-merrygoround","https://open.spotify.com/track/06bQmD7bI6N1qGDeIVsGYR?si=418ee63136664f30","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja",'Released at the <a href="https://edisonparty.com">Edison demo-party</a> in 2021 under my new handle/pseudonym <b>Vulkanoman</b>.<br>\nMy original title for the tune was \'Tivoli Chase Cop 27/16\' but I renamed<br>\nas I got more and more inspired by my recent trip to the then ongoing volcano eruption in <a href="https://en.wikipedia.org/wiki/Fagradalsfjall">Fagradallsfjall in Iceland</a>\n\n')}justInTime(){var e=this;const i=new le("Just in Time",[{url:`${this.pathRoot}/Just_in_Time.ogg`,key:"justInTime",soundType:"Music",maxGain:1,loop:!1,maxNrPlayingAtOnce:1}],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key);let r=2;do{const{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(1===r)),r--}while(r>0)}));return i}icelandSocksIntro(){var e=this;const i=new le("Iceland Socks: Intro",[N.music("icelandSocksIntro",`${this.pathRoot}/Iceland_Socks__Intro.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}fortidin(){var e=this;const i=new le("Fort\xed\xf0in",[N.music("fortidin",`${this.pathRoot}/Fortidin.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}toddlerTune(){var e=this;const i=new le("Toddler Tune",[N.music("toddlerTune",`${this.pathRoot}/Toddler_Tune.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}oddTimesInSpace(){var e=this;const i=new le("Odd Times in Space",[N.music("oddTimesInSpace",`${this.pathRoot}/Odd_Times_in_Space.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}lecube(){var e=this;const i=new le("Lecube",[N.music("lecube",`${this.pathRoot}/Lecube.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}introduction(){var e=this;const i="Introduction",s=new le(i,[N.music(i,`${this.pathToDirTribeOfOranges}${i}.aac`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),`${this.pathToDirTribeOfOranges}${i}.jpg`,this.aboutIntroduction);return s}get aboutIntroduction(){return"<b>Sindri Bergmann Thorarinsson</b> and me made this for a theatre play,<br>\nand it was played at the start of it, and thus it's named <b>Introduction</b>.<br>\nFor the artwork I chose the 'the indian head', which is a valuable family artifact.\n"}routine(){var e=this;const i=new le("Routine",[N.music("routine",`${this.pathRoot}/Routine.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}hhiCommercial(){var e=this;const i=new le("Song for HHI commercial",[N.music("hhiCommercial",`${this.pathRoot}/Song_for_HHI_commercial.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}pirringur(){var e=this;const i="Pirringur",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai,this.aboutPirringur);return s}get artworkKuai(){return`${this.pathToDirKuai}KUAI.jpg`}get aboutPirringur(){return""}apollo(){var e=this;const i="Apollo",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}andsetinn(){var e=this;const i="Andsetinn",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}hamskipti(){var e=this;const i="Hamskipti",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}rover(){var e=this;const i="Rover",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}andefni(){var e=this;const i="Andefni",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}agndofa(){var e=this;const i="Agndofa",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}ofurte(){var e=this;const i="Ofurte",s=new le(i,[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}lesblindaI(){var e=this;const i="Lesblinda-I",s=new le(i.split("-").join(" "),[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}lesblindaII(){var e=this;const i="Lesblinda-II",s=new le(i.split("-").join(" "),[N.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>oe(function*(){const r=e.soundManager.instance.getSound(s.soundDatas[0].key),{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return s}godsruleLayered(){var e=this;const i=new el("Godsrule: Village",[N.musicLoop("godsruleEnvironmentLayer",`${this.pathGame}/loton_MusicVillageEnvironmentLayer.ogg`,.075),N.musicLoop("godsruleStringLayer",`${this.pathGame}/loton_MusicVillageStringLayer.ogg`,.55),N.musicLoop("godsruleHarpLayer",`${this.pathGame}/loton_MusicVillageHarpLayer.ogg`,.4),N.musicLoop("godsrulePianoLayer",`${this.pathGame}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>oe(function*(){const s=[e.soundManager.instance.getSound(i.soundDatas[0].key),e.soundManager.instance.getSound(i.soundDatas[1].key),e.soundManager.instance.getSound(i.soundDatas[2].key),e.soundManager.instance.getSound(i.soundDatas[3].key)],r=[];for(let o=0;o<s.length;o++){const a=s[o],{instance:u}=yield a.play();r.push(u),e.instancePlayedListeners.forEach(h=>h(u))}i.layeredMusicController.start(r)}),new aD(this.instanceEndedListeners,this.logService.log));return i}votLayered(){var e=this;const i=new el("Vikings of Thule: Map",[N.musicLoop("votWindLayer",`${this.pathGame}/VOT_InterfaceMusic_0.mp3`),N.musicLoop("votChoirLayer",`${this.pathGame}/VOT_InterfaceMusic_3.ogg`),N.musicLoop("votHarpLayer",`${this.pathGame}/VOT_InterfaceMusic_2.ogg`),N.musicLoop("votMelodyLayer",`${this.pathGame}/VOT_InterfaceMusic_1.ogg`)],()=>oe(function*(){const s=[e.soundManager.instance.getSound(i.soundDatas[0].key),e.soundManager.instance.getSound(i.soundDatas[1].key),e.soundManager.instance.getSound(i.soundDatas[2].key),e.soundManager.instance.getSound(i.soundDatas[3].key)],r=[];for(let o=0;o<s.length;o++){const a=s[o],{instance:u}=yield a.play();r.push(u),e.instancePlayedListeners.forEach(h=>h(u))}i.layeredMusicController.start(r)}),new aD(this.instanceEndedListeners,this.logService.log));return i}cakePopParty(){var e=this;const i=new le("Cake Pop Party",[N.music("cppMusicIntro",`${this.pathGame}/CPP_workMusicIntroScreen.ogg`,.7),N.music("cppMusicScaleBeat",`${this.pathGame}/CPP_musicTransitionBeatFade.ogg`,.6),N.music("cppMusicMakePop",`${this.pathGame}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield o.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}));return i}symbol6(){var e=this;const i=new le("Symbol 6",[N.music("ssixMenu",`${this.pathGame}/SSIX_menu.ogg`),N.music("ssixGame",`${this.pathGame}/SSIX_game.ogg`),N.music("ssixHexago",`${this.pathGame}/SSIX_HexagoTune.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield o.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}));return i}softFreakFiesta(){var e=this;const i=new le("Soft Freak Fiesta",[N.music("sffIntroMenuMusic",`${this.pathGame}/SFF_IntroMenuMusic.ogg`,.9),N.music("sffMenuMusic",`${this.pathGame}/SFF_MenuMusic.ogg`,.9),N.music("sffLevelMusicNoEnv",`${this.pathGame}/SFF_LevelMusic_noEnv.ogg`),N.music("sffLevelMusicBubbling",`${this.pathGame}/SFF_LevelMusic_bubbling.ogg`),N.music("sffLoseJingle",`${this.pathGame}/SFF_LoseJingle.ogg`,.9),N.music("sffWinJingle",`${this.pathGame}/SFF_WinJingle.ogg`,.9)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key),a=e.soundManager.instance.getSound(i.soundDatas[3].key),u=e.soundManager.instance.getSound(i.soundDatas[4].key),h=e.soundManager.instance.getSound(i.soundDatas[5].key);let g,f=!0;g=yield s.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y());let m=2;do{g=yield r.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y()),g=yield o.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y()),g=yield a.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y()),g=f?yield u.play():yield h.play(),f=!f,e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y(1===m)),--m}while(m>0)}));return i}habitarium(){var e=this;const i=new le("Habitarium",[N.music("habitariumMainTheme",`${this.pathGame}/Habitarium_main_theme.ogg`,.9),N.music("habitariumInGameLoop",`${this.pathGame}/Habitarium_InGameLoop.ogg`,.8)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o,a=2;do{o=yield s.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u()),o=yield r.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u(1===a)),a--}while(a>0)}));return i}tinyPlaces(){var e=this;const i=new le("Tiny Places",[N.music("tpMainThemeIntro",`${this.pathGame}/TP_mainThemeIntro.ogg`,.8),N.music("tpMainThemeBridge",`${this.pathGame}/TP_mainThemeBridge.ogg`,.8),N.music("tpSpaceWorld",`${this.pathGame}/TP_spaceWorld.ogg`,.8),N.music("tpTomb",`${this.pathGame}/TP_tomb.ogg`,.8),N.music("tpLazyStyle",`${this.pathGame}/TP_lazyStyle.ogg`,.8),N.music("tpCutScene",`${this.pathGame}/TP_cutScene.ogg`,.8),N.music("tpInGame",`${this.pathGame}/TP_inGame.ogg`,.8),N.music("tpOutOfTime",`${this.pathGame}/TP_outoftime.ogg`,.8)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key),a=e.soundManager.instance.getSound(i.soundDatas[3].key),u=e.soundManager.instance.getSound(i.soundDatas[4].key),h=e.soundManager.instance.getSound(i.soundDatas[5].key),f=e.soundManager.instance.getSound(i.soundDatas[6].key),g=e.soundManager.instance.getSound(i.soundDatas[7].key);let m;m=yield s.play(),e.instancePlayedListeners.forEach(_=>_(m.instance));const y=s.audioCtx.currentTime;m.instance.gainWrapper.setValueAtTime(.4,y).exponentialRampToValueAtTime(.8,y+.3),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield r.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield o.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield o.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield a.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield a.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield u.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield u.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield h.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield f.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield g.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_(!0))}));return i}jol2008(){var e=this;const i=new le("Christmas Game 2008",[N.music("jol2008mainMusic",`${this.pathGame}/jolagogo2008_main_music.ogg`),N.music("jol2008gameOver",`${this.pathGame}/jolagogo2008_game_over.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}jol2009(){var e=this;const i=new le("Christmas Game 2009",[N.music("jol2009bridge",`${this.pathGame}/jolagogo2009_Bridge.ogg`),N.music("jol2009chorus",`${this.pathGame}/jolagogo2009_Chorus.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o,a=2;do{if(o=yield s.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),2===a){const u=s.audioCtx.currentTime;o.instance.gainWrapper.setValueAtTime(.1,u).exponentialRampToValueAtTime(1,u+.25)}yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u()),o=yield r.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u(1===a)),a--}while(a>0)}));return i}whosYourFriend(){var e=this;const i=new le("Who's Your Friend",[N.music("wyf",`${this.pathGame}/WYF_ThemeSong.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}knowYourFriend(){var e=this;const i=new le("Know Your Friend",[N.music("kyfIntroMusic",`${this.pathGame}/KYF_IntroMusic_WithAudience.ogg`),N.music("kyf90secMusic",`${this.pathGame}/KYF_90secondsMusic.ogg`)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}stackem(){var e=this;const i=new le("Stack'em",[N.music("stackem",`${this.pathGame}/Stackem_Tune_loop.ogg`,.9)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key);let r=2;do{const{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u()),r--}while(r>0)}));return i}glowbulleville(){var e=this;const i=new le("Glowbulleville",[N.music("glowMainMusic",`${this.pathGame}/GLOB_main_music.mp3`,.8),N.music("glowVillageMusic",`${this.pathGame}/GLOB_village_music.mp3`),N.music("glowWack",`${this.pathGame}/GLOB_wack_a_mole.mp3`,.8)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield o.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}));return i}godsrule(){var e=this;const i=new le("Godsrule: Battle",[N.music("godsruleBattle",`${this.pathGame}/LOTON_BattleBaseLayer.ogg`),N.music("godsruleDefeat",`${this.pathGame}/LOTON_CombatDefeatMusic.ogg`),N.music("godsruleVictory",`${this.pathGame}/LOTON_CombatVictory.ogg`)],()=>oe(function*(){var s;const r=e.soundManager.instance.getSound(i.soundDatas[0].key),o=e.soundManager.instance.getSound(i.soundDatas[1].key),a=e.soundManager.instance.getSound(i.soundDatas[2].key);let u,h=2;do{u=yield r.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),u=yield o.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),u=yield a.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),h--}while(h>0);u=yield r.play(),e.instancePlayedListeners.forEach(m=>m(u.instance));const g=(null===(s=u.instance.sourceNode.buffer)||void 0===s?void 0:s.duration)||10;u.instance.gainWrapper.setTargetAtTime(0,r.audioCtx.currentTime+g/2,g/6),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m(!0))}));return i}vot(){var e=this;const i=new le("Vikings of Thule: Feud",[N.music("votFeudDrums",`${this.pathGame}/VOT_FeudMusic_drums.ogg`),N.music("votFeud",`${this.pathGame}/VOT_FeudMusic.ogg`),N.music("votFeudEnding",`${this.pathGame}/VOT_FeudEnding.ogg`)],()=>oe(function*(){var s,r;const o=e.soundManager.instance.getSound(i.soundDatas[0].key),a=e.soundManager.instance.getSound(i.soundDatas[1].key),u=e.soundManager.instance.getSound(i.soundDatas[2].key);let h;h=yield o.play(),e.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,e.instanceEndedListeners.forEach(y=>y()),h=yield a.play(),e.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,e.instanceEndedListeners.forEach(y=>y()),h=yield a.play(),e.instancePlayedListeners.forEach(y=>y(h.instance));const g=(null===(s=h.instance.sourceNode.buffer)||void 0===s?void 0:s.duration)||10;h.instance.gainWrapper.setTargetAtTime(0,a.audioCtx.currentTime+g-.799,1);const m=function(){var y=oe(function*(){e.instanceEndedListeners.forEach(_=>_()),h=yield u.play(),e.instancePlayedListeners.forEach(_=>_(h.instance)),yield h.endedPromise,e.instanceEndedListeners.forEach(_=>_(!0))});return function(){return y.apply(this,arguments)}}();e.timeout=setTimeout(()=>{m()},1e3*((null===(r=h.instance.sourceNode.buffer)||void 0===r?void 0:r.duration)||10)-799)}));return i}crisisGame(){var e=this;const i=new le("The Crisis Game",[N.music("crisisBegin",`${this.pathGame}/Krepp_Byrjun.ogg`,.9),N.music("crisisEnd",`${this.pathGame}/Krepp_Endir.ogg`,.9)],()=>oe(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a())}));return i}}return n.\u0275fac=function(e){return new(e||n)(O(Pp),O(Xa))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class lD{}let LF=(()=>{class n{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(e){return Math.floor(e*Math.random())}startUniqueNumberTracking(e){if(e<=0)throw new uD(uD.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=e,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let e=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let i=0;i<=this.uniqueNumbers.size;i++)if(!this.uniqueNumbers.has(i)){e=i;break}}else do{e=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(e));return this.uniqueNumbers.set(e,!0),e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uD=(()=>{class n{constructor(e){this.name="RandomNumberError",this.message=e}}return n.msgNumberMustBeHigherThanZero="Number must be > 0",n})(),cD=(()=>{class n{constructor(e,i,s,r,o){this.soundManager=e,this.windowRef=i,this.myTracks=s,this.randomNumber=r,this.logService=o,this.label="MusicService",this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!0,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,o.log),this.myTracks.init(),this._byTracks=s.byTracks,this.tracks=s.flatTracks,this._isShuffle?(r.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[r.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}setSelectTrackByRootUrl(e){let i=this.myTracks.getTrackByRootUrl(e);void 0===i&&(this.logService.log("Error",`could not get track by rootUrl ${e}, returning first track`),i=this.tracks[0]),this._selectedTrack=this.nextSelectedTrack=i}get playState(){return this._playState}get isShuffle(){return this._isShuffle}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}play(e){if("Loading"===this._playState)return;this.stop();const i=this.nextSelectedTrack;if(!this.soundManager.instance.hasSound(i.soundDatas[0].key))for(let s=0;s<i.soundDatas.length;s++)this.soundManager.instance.addSound(i.soundDatas[s]),this.logService.log("Info",`[${this.label}]`,"adding sounds");this._playState="Loading",i.play()(),i instanceof el&&(i.layeredMusicController.gainsDisabled=e),this._selectedTrack=i}stop(){this.soundManager.instance.stopMusic();const e=this._selectedTrack;e instanceof el&&e.layeredMusicController&&e.layeredMusicController.stop(),this.myTracks.instanceEndedListeners.forEach(i=>i(!0,!0))}nextTrack(){let e;e=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index+1,this.logService.log("Info","nextIndex",e),this.nextSelectedTrack=this.tracks[e]}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,e=>{this._playState="Playing",this._playStateChangeListener()}),this.addInstanceEndedListener(`${this.label} endedListener`,(e,i)=>{this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0),e&&(this._playState="Stopped")})}addInstancePlayedListener(e,i){this.myTracks.instancePlayedListeners.set(e,i)}addInstanceEndedListener(e,i){this.myTracks.instanceEndedListeners.set(e,i)}addPlayStateChangeListener(e){this._playStateChangeListener=e}removeInstancePlayedListener(e){this.myTracks.instancePlayedListeners.delete(e)}removeInstanceEndedListener(e){this.myTracks.instanceEndedListeners.delete(e)}}return n.\u0275fac=function(e){return new(e||n)(O(Pp),O(xF),O(RF),O(lD),O(Xa))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dD=(()=>{class n{constructor(){this.subject=new V}sendMessage(e){this.subject.next(e)}onMessage(){return this.subject.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const NF=["canvas0"],FF=["canvas1"],VF=["canvas2"],BF=["canvas3"],HF=["topLine"],hD=function(n){return{nodeSelected:n}};function UF(n,t){if(1&n){const e=Ts();c(0,"div",24),Ve("click",function(){const r=bs(e).$implicit;return De(3).onTrackClick(r)}),l(1),d()}if(2&n){const e=t.$implicit,i=De(3);S("ngClass",uo(2,hD,e.name===i.selectedTrack.name)),b(1),Be(" ",e.name," ")}}function jF(n,t){if(1&n&&(c(0,"div",22),Ce(1,UF,2,4,"div",23),d()),2&n){const e=De().$implicit;b(1),S("ngForOf",e.tracks)}}const $F=function(n,t){return{branchAnimateClose:n,branchAnimateOpen:t}};function GF(n,t){if(1&n){const e=Ts();c(0,"div"),c(1,"div",17),Ve("click",function(){const r=bs(e).index;return De().onByClick(r)}),c(2,"div",18),p(3,"div",19),d(),c(4,"span",20),l(5),d(),d(),Ce(6,jF,2,1,"div",21),d()}if(2&n){const e=t.$implicit,i=t.index,s=De();b(3),S("ngClass",_a(4,$F,s.openedUiByIndex!=i,s.openedUiByIndex===i)),b(1),S("ngClass",uo(7,hD,s.selectedTrack.artistName===e.name)),b(1),Qe(e.name),b(1),S("ngIf",s.openedUiByIndex===i)}}function qF(n,t){if(1&n&&(c(0,"span",25),c(1,"a",26),p(2,"img",27),d(),d()),2&n){const e=De();b(1),Ht("href",e.selectedTrack.soundcloudUrl,Ji),b(1),Js("alt","play track ",e.selectedTrack.name," on SoundCloud"),Js("title","play track ",e.selectedTrack.name," on SoundCloud")}}function WF(n,t){if(1&n&&(c(0,"span",25),c(1,"a",26),p(2,"img",28),d(),d()),2&n){const e=De();b(1),Ht("href",e.selectedTrack.spotifyUrl,Ji),b(1),Js("alt","play track ",e.selectedTrack.name," on Spotify"),Js("title","play track ",e.selectedTrack.name," on Spotify")}}function zF(n,t){if(1&n&&(c(0,"span",25),c(1,"a",29),l(2,"Buy"),d(),d()),2&n){const e=De();b(1),Ht("href",e.selectedTrack.buyUrl,Ji)}}function KF(n,t){if(1&n&&(c(0,"div"),c(1,"h4"),l(2),d(),p(3,"p",30),d()),2&n){const e=De();b(2),Be("About ",e.selectedTrack.name,""),b(1),S("innerHTML",e.selectedTrack.about,ti)}}function QF(n,t){if(1&n&&(c(0,"div"),c(1,"h4"),l(2),d(),p(3,"p",30),d()),2&n){const e=De();b(2),Be("About ",e.selectedTrack.artistName,""),b(1),S("innerHTML",e.selectedTrack.artistAbout,ti)}}let fD=(()=>{class n{constructor(e,i,s,r,o){this.musicService=e,this.messageService=i,this.logService=s,this.route=r,this.location=o,this.label="MusicPage",this.drawVisuals=[],this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=-1,this.currentCanvasNr=0,this.canvasNrAscending=!1,this.urlPathRoot="music/"}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}ngOnInit(){this.musicService.addInstancePlayedListener(this.playedListenerName,e=>{const i=this.getNextCanvas(),s=this.tryGetCanvasContext(i);s&&(this.topLine.nativeElement.classList.add("hide"),this.visualize(e,i,s,this.drawVisuals)),this.replaceUrlState()}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.topLine.nativeElement.classList.remove("hide"),this.clearVisuals()}),this.route.paramMap.subscribe(e=>{const i=e.get("trackName");null!==i?this.musicService.setSelectTrackByRootUrl(i):this.replaceUrlState()}),this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}replaceUrlState(){this.location.replaceState(`${this.urlPathRoot}${this.selectedTrack.rootUrl}`)}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}onTrackClick(e){"Loading"!==this.musicService.playState?(this.musicService.nextSelectedTrack=e,this.messageService.sendMessage({type:"Play"})):this.logService.log("Info","onTrackClick: is loading, returning without processing")}onByClick(e){this.openedUiByIndex=this.openedUiByIndex===e?-1:e}get layerText(){if(this.musicService.selectedTrack instanceof el&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const e=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(e[e.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}tryGetCanvasContext(e){const i=e.nativeElement.getContext("2d");return i||this.logService.log("Error",'"canvasContext" was "null"'),i}visualize(e,i,s,r){const o=e.analyzerNode;o.fftSize=2048;const a=o.fftSize,u=new Uint8Array(a),h=i.nativeElement.width,f=i.nativeElement.height;s.clearRect(0,0,h,f),i.nativeElement.classList.remove("hide");const g=()=>{r.push(requestAnimationFrame(g)),o.getByteTimeDomainData(u),s.fillStyle="#111",s.fillRect(0,0,h,f),s.lineWidth=3,s.strokeStyle="#B9CA4A",s.beginPath();const m=1*h/a;let y=0;for(let _=0;_<a;_++){const T=u[_]/128*f/2;0===_?s.moveTo(y,T):s.lineTo(y,T),y+=m}s.lineTo(h,f/2),s.stroke()};g()}clearVisuals(){this.drawVisuals.forEach(e=>{window.cancelAnimationFrame(e)}),this.drawVisuals=[],this.canvases.forEach(e=>{const i=this.tryGetCanvasContext(e);null==i||i.clearRect(0,0,e.nativeElement.width,e.nativeElement.height),e.nativeElement.classList.add("hide")}),this.currentCanvasNr=1,this.canvasNrAscending=!1}onSoundCloudClick(){}}return n.\u0275fac=function(e){return new(e||n)(D(cD),D(dD),D(Xa),D(ks),D(Sa))},n.\u0275cmp=bt({type:n,selectors:[["app-music-page"]],viewQuery:function(e,i){if(1&e&&(jt(NF,7),jt(FF,7),jt(VF,7),jt(BF,7),jt(HF,7)),2&e){let s;ot(s=at())&&(i.canvas0=s.first),ot(s=at())&&(i.canvas1=s.first),ot(s=at())&&(i.canvas2=s.first),ot(s=at())&&(i.canvas3=s.first),ot(s=at())&&(i.topLine=s.first)}},features:[qe([Sa,{provide:ir,useClass:df}])],decls:25,vars:11,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"horizontalLine"],["topLine",""],[1,"canvas","hide"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],[1,"trackLeftContainer"],[1,"trackLeftInner"],[1,"artworkImage",3,"src","alt","title"],[1,"buttonContainer"],["class","iconButton",4,"ngIf"],[1,"trackRightContainer"],[1,"trackRightInner"],[4,"ngIf"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[1,"branchIcon",3,"ngClass"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"iconButton"],["target","\u201d_blank\u201d",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Soundcloud_logo.svg",1,"soundcloudIcon",3,"alt","title"],["src","https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg ",1,"spotifyIcon",3,"alt","title"],["target","\u201d_blank\u201d",1,"IconLink",3,"href"],[3,"innerHTML"]],template:function(e,i){1&e&&(c(0,"div",0),Ce(1,GF,7,9,"div",1),d(),p(2,"div",2,3),c(4,"div"),p(5,"canvas",4,5),p(7,"canvas",4,6),p(9,"canvas",4,7),p(11,"canvas",4,8),d(),c(13,"div",9),c(14,"div",10),c(15,"figure"),p(16,"img",11),d(),c(17,"div",12),Ce(18,qF,3,3,"span",13),Ce(19,WF,3,3,"span",13),Ce(20,zF,3,1,"span",13),d(),d(),d(),c(21,"div",14),c(22,"div",15),Ce(23,KF,4,2,"div",16),Ce(24,QF,4,2,"div",16),d(),d()),2&e&&(b(1),S("ngForOf",i.byTracks),b(15),Ht("src",i.selectedTrack.artworkPath,Ji),eu("alt","Artwork for ",i.selectedTrack.name," by ",i.selectedTrack.artistName,""),eu("title","Artwork for ",i.selectedTrack.name," by ",i.selectedTrack.artistName,""),b(2),S("ngIf",""!==i.selectedTrack.soundcloudUrl),b(1),S("ngIf",""!==i.selectedTrack.spotifyUrl),b(1),S("ngIf",""!==i.selectedTrack.buyUrl),b(3),S("ngIf",""!==i.selectedTrack.about),b(1),S("ngIf",""!==i.selectedTrack.artistAbout))},directives:[Oa,Dn,ka],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid var(--colorGrayLight);border-radius:.3em}.trackLeftContainer[_ngcontent-%COMP%]{float:left;width:50%}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.artworkImage[_ngcontent-%COMP%]{width:100%;max-width:400px;border-radius:5%;display:block;margin:0 auto}.trackRightContainer[_ngcontent-%COMP%]{float:right;width:50%}.trackRightInner[_ngcontent-%COMP%]{float:left;margin-left:2%}.iconButton[_ngcontent-%COMP%]{width:100px;height:30px;border:1px solid var(--colorGrayLight);border-radius:1em;text-align:center;padding-top:3px;margin-left:1em;margin-right:1em}.spotifyIcon[_ngcontent-%COMP%]{height:90%;width:80%}.soundcloudIcon[_ngcontent-%COMP%]{height:90%;width:96%}.IconLink[_ngcontent-%COMP%]{vertical-align:middle}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}@media screen and (max-width: 451px){.trackLeftContainer[_ngcontent-%COMP%]{width:100%}.trackLeftInner[_ngcontent-%COMP%]{float:none;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}}@media screen and (min-width: 452px) and (max-width: 703px){.canvas[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;width:96%}.trackLeftContainer[_ngcontent-%COMP%]{width:100%}.trackLeftInner[_ngcontent-%COMP%]{float:none;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}}@media screen and (min-width: 704px) and (max-width: 1053px){.canvas[_ngcontent-%COMP%]{margin-left:4%;margin-right:4%;width:92%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}.trackLeftInner[_ngcontent-%COMP%]{margin-right:10px}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.canvas[_ngcontent-%COMP%]{margin-left:6%;margin-right:6%;width:88%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.canvas[_ngcontent-%COMP%]{margin-left:8%;margin-right:8%;width:84%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 2001px){.canvas[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}"]}),n})(),YF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=bt({type:n,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,i){1&e&&(c(0,"h1"),l(1,"Page not found for this url"),d())},encapsulation:2}),n})(),dr=(()=>{class n{constructor(e){this.blogService=e}get post(){return this.blogService.selectedPost}get publishedDateToString(){return this.dateToString(this.post.publishedDate)}get hasUpdatedDate(){return void 0!==this.post.updatedDate}get updatedDateToString(){return void 0===this.post.updatedDate?"":this.dateToString(this.post.updatedDate)}dateToString(e){const s=new Ef("en-US").transform(e,"YYYY MMM dd");return null===s?"":s}get aboutCodeHtml(){return'<h2>The code</h2>\n<p>\n\tThe displayed code is focused on the current cycle step,<br>\n\tthus likely shows only relevant part/s of said class.<br>\n\tThe complete code and the Unity project is on <a href="https://github.com/EgillAntonsson/tdd-avatar-health-in-unity">GitHub</a>.\n</p>'}get completeRequirementListHtml(){return'<sup>The complete requirement list, from the user perspective is in <a href="./blog/tdd-health/part2">Part 2</a></sup>'}get rewordRequirement(){return"Let's reword this focusing on the domain model and using its terminology:"}}return n.\u0275fac=function(e){return new(e||n)(D(zE))},n.\u0275cmp=bt({type:n,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,i){1&e&&(c(0,"h1"),l(1,"base class template not used"),d())},encapsulation:2}),n})();function ZF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}let JF=(()=>{class n extends dr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-1"]],features:[Ae],decls:374,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","http://www.jamesshore.com/v2/blog/2005/red-green-refactor"],[1,"list"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/25"],[1,"list","inline"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/193"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://www.linkedin.com/in/egillantonsson"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/what-is-domain-logic/"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","http://xunitpatterns.com/Mocks,%20Fakes,%20Stubs%20and%20Dummies.html"],["href","https://medium.com/aia-sg-techblog/why-singleton-pattern-is-considered-as-anti-design-pattern-c81dd8b7e757"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],[1,"horizontalLine"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,ZF,2,1,"small",1),d(),c(11,"h2"),l(12,"What is TDD ?"),d(),c(13,"p"),l(14," TDD is an acronym for "),c(15,"i"),l(16,"Test Driven Development"),d(),p(17,"br"),l(18," and is a workflow discipline / approach for developers, focused on "),c(19,"b"),l(20,"when"),d(),l(21," to write unit tests,"),p(22,"br"),l(23," and the heart of it is the "),c(24,"a",2),l(25,"RED / GREEN / REFACTOR cycle:"),d(),d(),c(26,"ol",3),c(27,"li"),c(28,"span",4),l(29,"RED:"),d(),l(30," Write a test that fails"),d(),c(31,"li"),c(32,"span",5),l(33,"GREEN:"),d(),l(34," Get the test to pass, with minimal effort"),d(),c(35,"li"),c(36,"span",6),l(37,"REFACTOR:"),d(),l(38," Evaluate if refactoring is needed, e.g. remove a "),c(39,"a",7),l(40,"code smell"),d(),d(),d(),c(41,"p"),l(42,"The cycle should focus is on fulfilling a requirement on the SUT (Subject/Unit Under Test)"),p(43,"br"),l(44," repeating it until you are confident that the SUT has become generic enough to handle all meaningful cases"),p(45,"br"),l(46," (as the tests become more specific)."),p(47,"br"),l(48," At some interval you should stop and evaluate if the design of the overall system is sound, if not then refactor it."),p(49,"br"),l(50," (all tests run and passing as frequently as needed)."),p(51,"br"),l(52," This is my summarization of Uncle Bob's post "),c(53,"a",8),l(54,"The Cycles of TDD"),d(),l(55,"."),p(56,"br"),l(57," (Bob terms additional cycles within and around RED / GREEN / REFACTOR).\n"),d(),c(58,"h2"),l(59,"What is a good Unit Test ?"),d(),c(60,"p"),l(61," A good unit test is focused on a specific SUT requirement,"),p(62,"br"),l(63," of meaningful logic (e.g. don't test simple getter properties on their own)."),p(64,"br"),l(65," The test code should be kept as clean as the production code ("),c(66,"span",6),l(67,"REFACTOR"),d(),l(68," step in TDD applies to both)."),p(69,"br"),l(70," Here are definitions from "),c(71,"b"),l(72,"Roy Osherove"),d(),l(73," in "),c(74,"i"),l(75,"The Art of Unit testing, 3rd edition"),d(),p(76,"br"),l(77," (for him the word 'unit' in unit testing stands for 'unit of work'):\n"),d(),c(78,"h3"),c(79,"a",9),l(80,"Unit of Work definition"),d(),d(),c(81,"p"),l(82,"\nA "),c(83,"i"),l(84,"unit of work"),d(),l(85," is the sum of actions that take place between the invocation of an "),c(86,"i"),l(87,"entry point"),d(),p(88,"br"),l(89,"\nup until a noticeable end result through one or more "),c(90,"i"),l(91,"exit points"),d(),l(92,"."),p(93,"br"),l(94,"\nThe "),c(95,"i"),l(96,"entry point"),d(),l(97," is the thing we trigger."),p(98,"br"),l(99,"\nGiven a publicly visible function, for example:\n"),d(),c(100,"ul",10),c(101,"li"),l(102,"The function's body is all or part of the "),c(103,"i"),l(104,"unit of work"),d(),l(105,"."),d(),c(106,"li"),l(107,"The function's declaration and signature are the "),c(108,"i"),l(109,"entry point"),d(),l(110," into the body."),d(),c(111,"li"),l(112,"The resulting outputs or behaviors of the function are its "),c(113,"i"),l(114,"exit points"),d(),l(115,"."),d(),d(),c(116,"h3"),c(117,"a",11),l(118,"Good Unit Test definition"),d(),d(),c(119,"p"),l(120,"\nA "),c(121,"i"),l(122,"unit test"),d(),l(123," is an automated piece of code that invokes the "),c(124,"i"),l(125,"unit of work"),d(),p(126,"br"),l(127,"\nthrough an "),c(128,"i"),l(129,"entry point"),d(),l(130,", and then checks one of its "),c(131,"i"),l(132,"exit points"),d(),l(133,"."),p(134,"br"),l(135,"\nIt can be written easily and runs quickly."),p(136,"br"),c(137,"b"),l(138,"It's trustworthy, readable & maintainable."),p(139,"br"),l(140,"\nIt is consistent as long as the production code we control has not changed."),d(),d(),c(141,"h2"),l(142,"Why do TDD ?"),d(),c(143,"p"),l(144,"Here is a my non-exhaustive list of the benefits of TDD in order of priority:"),d(),c(145,"ol",10),c(146,"li"),l(147,"Ensures you'll have passing test suite with high production code coverage"),p(148,"br"),l(149," that runs fast (each case less than 0.1 sec) so you get feedback early,"),p(150,"br"),l(151," thus you can clean the code fast and continuously without fear of breaking it,"),p(152,"br"),l(153," thus have high confidence in the shipped product quality."),p(154,"br"),d(),c(155,"li"),l(156,"It pushes for good production code design and maintainability:"),d(),c(157,"ul"),c(158,"li"),c(159,"a",12),l(160,"Separation of Concerns (SoC)"),d(),d(),c(161,"li"),l(162,"code to be low "),c(163,"a",13),l(164,"coupled"),d(),l(165," / have few dependencies"),d(),c(166,"li"),l(167,"each unit / object has readable and requirement-focused interface"),p(168,"br"),l(169," (internals should be "),c(170,"a",14),l(171,"encapsulated"),d(),l(172,")"),d(),d(),c(173,"li"),l(174,"The tests are accurate and up-to-date (developer focused) documentation"),p(175,"br"),l(176," of the behavior of the tested units."),d(),c(177,"li"),l(178,"Less time spent in the debugger"),d(),d(),c(179,"p"),l(180," There are also criticisms on TDD, e.g. the post "),c(181,"a",15),l(182,"TDD is dead. Long live testing"),d(),l(183,","),p(184,"br"),l(185," and discussion about it, e.g. the YouTube series "),c(186,"a",16),l(187,"Is TDD dead ?"),d(),p(188,"br"),l(189," and responses to it, e.g the post "),c(190,"a",17),l(191,"Monogamous TDD"),d(),l(192,".\n"),d(),c(193,"h2"),l(194,"Is TDD suitable for all areas / situations ?"),d(),c(195,"p"),l(196," I have over a decade long "),c(197,"a",18),l(198,"developer work experience"),d(),p(199,"br"),l(200," mainly as front-end game developer, and shared game systems developer."),p(201,"br"),l(202," I've gained some experience in writing good unit tests (being 'not so good' at the start of the journey)."),p(203,"br"),l(204," but I've used TDD to a lesser degree, thus I'm currently not very seasoned in using TDD."),p(205,"br"),l(206," The reason why I haven't used TDD more is mainly two-fold:\n"),d(),c(207,"ul",10),c(208,"li"),l(209,"Sometimes when facing many 'hard to influence' deadlines,"),p(210,"br"),l(211," I've chosen the (not ideal) 'get it done in time' approach (Thus writing unit tests later)."),d(),c(212,"li"),l(213,"I'm working in areas / situations where it is not so suited or easy to use TDD."),d(),d(),c(214,"p"),l(215," Below are areas / situations where it is not so suited or easy to use TDD"),p(216,"br"),l(217," (and some tips how to work TDD more into them).\n"),d(),c(218,"h3"),l(219,"Boundary layers"),d(),c(220,"p"),l(221," A big part of a game is the graphic user interface (GUI) and visual effects, user input and sound,"),p(222,"br"),l(223," should these parts be unit tested ?"),p(224,"br"),p(225,"br"),l(226," These parts can be described as layers close to the physical output/input boundaries (e.g. screen, speaker)"),p(227,"br"),l(228," The design can be driven to make these boundary layers thin and "),c(229,"a",19),l(230,"humble"),d(),l(231,","),p(232,"br"),l(233," focusing on the responsibility of the boundary (e.g. disable/enable button), and extracting other logic into other modules that can be easily tested."),p(234,"br"),p(235,"br"),l(236," It's likely that the logic to extract is in fact the "),c(237,"a",20),l(238,"domain logic"),d(),l(239," (a.k.a business logic),"),p(240,"br"),l(241," the code that makes (non-visual) game decisions (business)"),p(242,"br"),l(243," and thus belongs to the "),c(244,"a",21),l(245,"domain model"),d(),l(246," and then should be moved there"),p(247,"br"),l(248," (the domain model should not depend on any boundaries, thus be easily unit testable)."),p(249,"br"),p(250,"br"),l(251," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen."),p(252,"br"),l(253," If boundary bugs begin slipping into the production as the project grows,"),p(254,"br"),l(255," then it's time to replace some of the manual testing effort with automated tests (e.g integration and/or UI tests)."),p(256,"br"),l(257," The "),c(258,"a",22),l(259,"Test Pyramid"),d(),l(260," could be a guide for that process.\n"),d(),c(261,"h3"),l(262,"Legacy Code"),d(),c(263,"p"),l(264," Legacy code in a sentence is "),c(265,"a",23),l(266,"valuable code you are afraid to change"),d(),p(267,"br"),l(268," It typically:\n"),d(),c(269,"ul",10),c(270,"li"),l(271,"has been developed for some time"),d(),c(272,"li"),l(273,"is already 'working' (for most common scenarios / most of the time)"),d(),c(274,"li"),l(275,"has some bad code design that has crept in with time"),p(276,"br"),l(277," (e.g. high coupling / high dependency)"),d(),c(278,"li"),l(279,"is hard to read and understand and reason about"),d(),c(280,"li"),l(281,"has no or few good unit tests / very low test coverage"),p(282,"br"),l(283," (or many very bad and fragile tests that are hard to read and understand"),d(),d(),c(284,"p"),l(285," When you need to fix or change legacy code"),p(286,"br"),l(287," it is hard to do and have the confidence that the change did not break something else."),p(288,"br"),l(289," A breakage is discovered late (QA manual testing or live production) which can be very costly"),p(290,"br"),l(291," (and it always takes effort to get again into the context to fix the bug)."),p(292,"br"),p(293,"br"),l(294," It's possible to prevent bad code design to creep up"),p(295,"br"),l(296," by strictly upholding great design principles, without writing unit tests."),p(297,"br"),l(298," But using TDD complements this prevention very well (see "),c(299,"i"),l(300,"Why do TDD ?"),d(),l(301," section above)"),p(302,"br"),p(303,"br"),l(304," One of the negative consequence of legacy code is that it's very hard to write unit tests"),p(305,"br"),l(306," They likely need a lot of "),c(307,"a",24),l(308,"Test Doubles"),d(),l(309," to mute dependency interference"),p(310,"br"),l(311," (where static objects and "),c(312,"a",25),l(313,"Singletons"),d(),l(314," become very tricky)."),p(315,"br"),p(316,"br"),l(317," Legacy code needs to be carefully refactored (ideally first covered with tests) into a better state"),p(318,"br"),l(319," before TDD can be used effortlessly and to it's full potential."),p(320,"br"),l(321," Improving legacy code is a big topic thus I'll leave it here by"),p(322,"br"),l(323," referencing one book: "),c(324,"a",26),l(325,"Working Effectively with Legacy Code"),d(),l(326,","),p(327,"br"),l(328," and one post: "),c(329,"a",27),l(330,"Starting TDD with legacy code"),d(),l(331,".\n"),d(),c(332,"h3"),l(333,"Prototype code"),d(),c(334,"p"),l(335," The focus of prototyping is to get out an idea as fast as possible to get feedback on it."),p(336,"br"),l(337," It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not,"),p(338,"br"),l(339," and there should be a "),c(340,"b"),l(341,"clear agreement that the prototype code will be thrown away"),d(),l(342,"."),p(343,"br"),l(344," It is fine to not (or sparsely) use TDD in the prototyping phase, if the consensus is it slows things down,"),p(345,"br"),l(346," but TDD should be used when the production project codebase is started from scratch."),p(347,"br"),d(),p(348,"div",28),c(349,"h2"),l(350,"Comments"),d(),c(351,"h4"),l(352,"Fabio Paes Pedro"),d(),c(353,"p"),l(354," I'm no expert but the value TDD provides became clear to me quite fast."),p(355,"br"),l(356," I believe this requires a mindset/process change though,"),p(357,"br"),l(358," a different way of thinking things through that might extend outside of our team, into a company level."),p(359,"br"),l(360," I can't wait to read the rest of this series!\n"),d(),c(361,"h4"),l(362,"My response"),d(),c(363,"p"),l(364," Thank you for your comment Fabio."),p(365,"br"),l(366," I agree that TDD requires a mindset/process change,"),p(367,"br"),l(368," where ideally the whole team and the company are aligned on using TDD to reap its benefits,"),p(369,"br"),l(370," (synced on an approach that recognizes that in some areas / situations the value of TDD can be limited (as the sections above go through)."),p(371,"br"),l(372," I aim to continue writing blog post and complete this series, so stay tuned :)\n"),d(),p(373,"div",28)),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate))},directives:[Dn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function XF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}let eV=(()=>{class n extends dr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-2"]],features:[Ae],decls:296,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://www.maginteractive.com"],["href","https://www.youtube.com/watch?v=R1aO4Tmw3zA&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","https://egill.rocks/blog/tdd-health/part1"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","https://www.youtube.com/watch?v=_vd2JyX6C1Y&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=8"],["href","https://www.youtube.com/watch?v=LPlH87XaWC8&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=9"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"list"],[1,"noBulletinPoint"],[1,"center"],["href","./blog/tdd-health/part1"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,XF,2,1,"small",1),d(),c(11,"h2"),l(12,"Preparing the assignment"),d(),c(13,"h3"),l(14,"My workshop"),d(),c(15,"p"),l(16," I recently to do a short workshop about TDD at "),c(17,"a",2),l(18,"work"),d(),p(19,"br"),l(20," and for preparation I browsed the internet looking for a fitting assignment,"),p(21,"br"),l(22," and I came across "),c(23,"a",3),l(24,"TDD in Unity - Part 1"),d(),l(25," by Charles Amat, where he sets up his assignment:"),p(26,"br"),l(27," implementing the "),c(28,"i"),l(29,"Life Gauge"),d(),l(30," from "),c(31,"i"),l(32,"Zelda: Breath of the Wild"),d(),l(33," game."),p(34,"br"),p(35,"br"),l(36," I thought this assignment was fitting for the workshop,"),p(37,"br"),l(38," thus I read the "),c(39,"a",4),l(40,"Life Gauge page on the Zelda wiki"),d(),l(41," (which was linked in the 'Part 1' post),"),p(42,"br"),l(43," and also played the game a bit, focusing on the "),c(44,"i"),l(45,"Life Gauge"),d(),l(46," behavior."),p(47,"br"),l(48," But I did not go through the 'TDD in Unity' series, as I was running out of preparation time."),p(49,"br"),p(50,"br"),l(51," My focus and task order in both my preparations and workshop walk-through:"),p(52,"br"),d(),c(53,"ol",5),c(54,"li"),l(55,"Write down the "),c(56,"i"),l(57,"Life Gauge"),d(),l(58," behavior from the user perspective"),p(59,"br"),l(60," (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),c(61,"i"),l(62,"Zelda: Breath of the Wild"),d(),l(63,")"),d(),p(64,"br"),c(65,"li"),l(66,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill,"),p(67,"br"),l(68," as TDD is fully effective and effortless in the domain model"),d(),p(69,"br"),c(70,"li"),l(71,"Afterwards the focus would shift to the visual GUI,"),p(72,"br"),l(73," where the value of TDD likely would dwindle the closer I got to the physical boundary of the screen,"),p(74,"br"),l(75," ending with just manually testing with my eyes."),p(76,"br"),l(77," (Boundary layers section in "),c(78,"a",6),l(79,"Part 1"),d(),l(80," elaborates on 2. and 3.)"),d(),d(),c(81,"p"),l(82," I only had time prepare the first couple of domain logic requirements,"),p(83,"br"),l(84," and during the workshop we collaboratively completed those together"),p(85,"br"),l(86," (before the time was up)."),p(87,"br"),d(),c(88,"h3"),l(89,"Comparing approaches on the assignment"),d(),c(90,"p"),l(91," After the workshop I was curious how Charles Amat solved it,"),p(92,"br"),l(93," thus I watched on YouTube the whole "),c(94,"a",3),l(95,"TDD in Unity"),d(),l(96," series."),p(97,"br"),l(98," I both enjoyed and learned from watching Charles Amat "),c(99,"a",7),l(100,"live coding"),d(),l(101," and implementing the "),c(102,"i"),l(103,"Life Gauge"),d(),p(104,"br"),l(105," and his end result solution is good and sound, and I thank Charles for his contribution."),p(106,"br"),l(107," but I noticed that his focus and task order quite differed from mine, as he:"),p(108,"br"),d(),c(109,"ol",5),c(110,"li"),l(111,"Starts planning how to create the heart container in Unity,"),p(112,"br"),l(113," from a GUI perspective"),d(),p(114,"br"),c(115,"li"),l(116,"Starts TDD-ing logic close to the GUI"),d(),p(117,"br"),c(118,"li"),l(119,"Ends with TDD-ing the domain logic ("),c(120,"a",8),l(121,"Part 7"),d(),l(122," and "),c(123,"a",9),l(124,"Part 8"),d(),l(125,")."),p(126,"br"),l(127," He simplifies the domain requirements from the "),c(128,"i"),l(129,"Breath of the Wild"),d(),p(130,"br"),l(131," as he states in the beginning"),p(132,"br"),c(133,"q"),l(134,"The Heart container depletes when the player takes damage"),p(135,"br"),l(136," and is replenished when the player consumes an item with a health effect. "),d(),d(),d(),c(137,"h3"),l(138,"Same assignment, but with a different focus"),d(),c(139,"p"),l(140," This is why I think it's worth doing another series with the same assignment,"),p(141,"br"),l(142," but with my focus, task order, and format."),p(143,"br"),p(144,"br"),l(145," My format will be blog posts focused on the TDD cycles"),p(146,"br"),l(147," displaying the appropriate code for each step."),p(148,"br"),l(149," I'll demonstrate how the requirements and the cycles"),p(150,"br"),l(151," guide and shape the code and my reasoning,"),p(152,"br"),l(153," that will read like poetry of rhythmic "),c(154,"span",10),l(155,"RED "),d(),c(156,"span",11),l(157,"GREEN "),d(),c(158,"span",12),l(159,"REFACTOR "),d(),l(160," loops,"),p(161,"br"),l(162," at least that's my ambition :)"),p(163,"br"),d(),c(164,"h2"),l(165,"The Life Gauge behavior"),d(),c(166,"p"),l(167," The below list is user perspective behaviour summary from"),p(168,"br"),l(169," the "),c(170,"a",4),l(171,"Life Gauge page on the Zelda Wiki"),d(),l(172," for the "),c(173,"i"),l(174,"Breath of the Wild"),d(),l(175," game."),p(176,"br"),l(177," I've simplified some requirements to keep the scope within a sensible limit. "),d(),c(178,"ul",13),c(179,"li",14),c(180,"b"),l(181,"Definition and Start State"),d(),d(),c(182,"li"),l(183,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(184,"li"),l(185,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(186,"li"),l(187,"The Life Gauge starts with 3 Hearts"),d(),p(188,"br"),c(189,"li",14),c(190,"b"),l(191,"Taking Damage and Dying"),d(),d(),c(192,"li"),l(193,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),p(194,"br"),l(195," equal to the damage points taken (always losing at least 1 fraction)"),d(),c(196,"li"),l(197,"When Link loses all of his Hearts the game ends"),d(),c(198,"li"),l(199,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),p(200,"br"),l(201," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(202,"ul"),c(203,"li"),l(204,"However, if the damage is more than five Hearts above his full Life Gauge, he will still die"),d(),d(),p(205,"br"),c(206,"li",14),c(207,"b"),l(208,"Replenish and Increase"),d(),d(),c(209,"li"),l(210,"Link's Life Gauge can be replenished by consuming certain food"),d(),c(211,"li"),l(212,"The Life Gauge can be increased by 1 full Heart at a time,"),p(213,"br"),l(214," up to a maximum of 30 Hearts"),d(),c(215,"li"),l(216,"It can also be temporarily increased (lost when Link takes damage)"),p(217,"br"),l(218," by consuming certain food"),d(),c(219,"ul"),c(220,"li"),l(221,"These are visually represented as yellow Hearts"),d(),d(),d(),c(222,"h3"),l(223,"Domain / Visual "),c(224,"i"),l(225,"SoC"),d(),l(226," mapping of "),c(227,"i"),l(228,"Life Gauge"),d(),d(),c(229,"table"),c(230,"tr"),c(231,"th"),l(232,"Domain Model"),d(),c(233,"th"),l(234,"GUI / View"),d(),d(),c(235,"tr"),c(236,"td",15),l(237," (Avatar) Health "),d(),c(238,"td",15),l(239," Life Gauge "),d(),d(),c(240,"tr"),c(241,"td",15),l(242," - "),d(),c(243,"td",15),l(244," Heart (holds 4 Fractions) "),d(),d(),c(245,"tr"),c(246,"td",15),l(247," Points "),d(),c(248,"td",15),l(249," Heart Fractions "),d(),d(),d(),c(250,"p"),l(251," This "),c(252,"i"),l(253,"Separation of Concerns (SoC)"),d(),l(254," mapping is good to establish early:"),p(255,"br"),l(256," Heart Container (with its Hearts and fractions)"),p(257,"br"),l(258," is a specific GUI representation of the Avatar Health, the domain model."),p(259,"br"),p(260,"br"),l(261," I'll apply the approach noted in the "),c(262,"i"),l(263,"Boundary layers"),d(),l(264," section in "),c(265,"a",16),l(266,"Part 1"),d(),l(267,","),p(268,"br"),l(269," Making sure that the code dependency is minimal and one-way:"),p(270,"br"),l(271," The view can depend in some way on the model, but not vice-versa."),p(272,"br"),l(273," All the domain logic should be in the model"),p(274,"br"),l(275," and the view should be thin and humble."),p(276,"br"),p(277,"br"),l(278," When future change requests on the GUI arrive"),p(279,"br"),l(280," (which is quite likely, in a real-life scenario),"),p(281,"br"),l(282," it will be effortless to handle as:\n"),d(),c(283,"ul",5),c(284,"li"),l(285,"The domain and its logic will be unaffected"),p(286,"br"),l(287," (as it does not depend on the view)"),d(),c(288,"li"),l(289,"The model naming and terms will be unaffected"),p(290,"br"),l(291," (as it does not depend on the view)"),d(),d(),c(292,"p"),l(293," This also makes it effortless to have simultaneously more than one"),p(294,"br"),l(295," GUI representations of the same model (quite common in game UI).\n"),d()),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate))},directives:[Dn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function tl(n,t){return new F(t?e=>t.schedule(tV,0,{error:n,subscriber:e}):e=>e.error(n))}function tV({error:n,subscriber:t}){t.error(n)}class iV{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new sV(t,this.resultSelector))}}class sV extends ke{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;tn(t)?e.push(new oV(t)):e.push("function"==typeof t[Lt]?new rV(t[Lt]()):new aV(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let a=t[o];if("function"==typeof a.hasValue&&!a.hasValue())return}let s=!1;const r=[];for(let o=0;o<e;o++){let a=t[o],u=a.next();if(a.hasCompleted()&&(s=!0),u.done)return void i.complete();r.push(u.value)}this.resultSelector?this._tryresultSelector(r):i.next(r),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class rV{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class oV{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Lt](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class aV extends vt{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Lt](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Wt(this.observable,new Xe(this))}}class lV extends Re{constructor(t,e){super()}schedule(t,e=0){return this}}class pD extends lV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let gD=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class ds extends gD{constructor(t,e=gD.now){super(t,()=>ds.delegate&&ds.delegate!==this?ds.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return ds.delegate&&ds.delegate!==this?ds.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const xp=new class cV extends ds{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class uV extends pD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),dc=new Y("HIGHLIGHT_OPTIONS");let dV=(()=>{class n{constructor(e,i,s){this.doc=e,this._options=s,this._ready=new Vn(null),this.ready=this._ready.asObservable().pipe(Bn(r=>!!r),B(r=>r),xu(1)),Dw(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(Ui(r=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=r,this.loadLineNumbers().pipe(ct(()=>this._ready.next(r)))):(this._ready.next(r),Ss)),As(r=>(console.error("[HLJS] ",r),Ss))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return tl("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return tl("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return tl("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return tl("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(Ui(e=>this._loadLanguages(e)))}return tl("Highlight.js library was not imported!")}_loadLanguages(e){return function nV(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),At(n,void 0).lift(new iV(t))}(...Object.entries(this._options.languages).map(([s,r])=>hc(r()).pipe(ct(o=>e.registerLanguage(s,o))))).pipe(B(()=>e))}loadCoreLibrary(){return hc(this._options.coreLibraryLoader())}loadFullLibrary(){return hc(this._options.fullLibraryLoader())}loadLineNumbers(){return hc(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(O(lt),O(po),O(dc,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hc=n=>ee(n).pipe(Bn(t=>!!t&&!!t.default),B(t=>t.default));let hV=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(s=>{this._hljs=s,i&&i.config&&(s.configure(i.config),s.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:s}){return this._loader.ready.pipe(B(r=>r.highlight(e,{language:i,ignoreIllegals:s})))}highlightAuto(e,i){return this._loader.ready.pipe(B(s=>s.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(B(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(B(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(B(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(ct(s=>s.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(ct(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(ct(s=>s.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(B(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(B(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(B(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(B(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(Bn(i=>!!i.lineNumbersBlock),ct(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(O(dV),O(dc,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nl=(()=>{class n{constructor(e,i,s,r){this._hljs=i,this._sanitizer=s,this._options=r,this.highlighted=new Ne,this._nativeElement=e.nativeElement}ngOnChanges(e){var i;this.code&&(null===(i=null==e?void 0:e.code)||void 0===i?void 0:i.currentValue)&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(s=>{this.setInnerHTML(s.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(s)})}addLineNumbers(){this.destroyLineNumbersObserver(),xp.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){xp.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){xp.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(Ge.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(D(Et),D(hV),D(Bw),D(dc,8))},n.\u0275dir=te({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&Nn("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[hn]}),n})(),fV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({}),n})();function pV(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}let gV=(()=>{class n extends dr{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void Points_HasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.Points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n",this.test_1_Red2="// Health.cs\npublic class Health\n{\n\tpublic int Points;\n}\n",this.impl_1_Green="// Health.cs\npublic class Health\n{\n\tpublic int Points = 12;\n}\n",this.test_1_refactor="// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void CurrentPoints_HasStartingValue()\n{\n\tint startingPoints = 12;\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_1_refactor="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic Health(int startingPoints)\n{\n\tCurrentPoints = startingPoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(0);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='//Health.cs\npublic int CurrentPoints { get;  private set; }\n\npublic Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), "Invalid value");\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.impl_2_Refactor='//Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.test_3_Green='// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(startingPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-3"]],features:[Ae],decls:458,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://nunit.org"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html"],[1,"list","inline"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html"],[1,"redFail"],[3,"highlight"],["href","./blog/tdd-health/part1"],["href","https://daedtech.com/tdd-and-modeling-a-chess-game/"],["href","https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/"],["href","https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models"],["src","../assets/images/blog/tdd/TestRunner_first-test-fails.PNG","alt","Unity Test Runner: first test fail (the nested class displays nicely)","title","Unity Test Runner: first test fail (the nested class displays nicely)",1,"imageSmallText"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"code"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html"],["href","https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html"],["src","../assets/images/blog/tdd/TestRunner_tests-using-TestCase.PNG","alt","Unity Test Runner: tests using TestCase attribute","title","Unity Test Runner: tests using TestCase attribute",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,pV,2,1,"small",1),d(),c(11,"h2"),l(12,"Setting up Unity"),d(),c(13,"p"),l(14," I create a new Unity (3D) project and keep the default config,"),p(15,"br"),l(16," except that I update "),c(17,"i"),l(18,"Test Framework"),d(),l(19," package to latest version (currently 1.1.31),"),p(20,"br"),l(21," it uses a Unity integration of "),c(22,"a",2),l(23,"NUnit"),d(),l(24," library."),p(25,"br"),l(26," The "),c(27,"i"),l(28,"Test Framework "),d(),c(29,"a",3),l(30,"docs"),d(),l(31," details how to setup tests for a project."),p(32,"br"),p(33,"br"),l(34," My project structure starts very simple:\n"),d(),c(35,"ul",4),c(36,"li"),l(37,"The test code is in: "),c(38,"i"),l(39,"Scripts/Tests/EditMode/[ClassName]Test.cs"),d(),d(),c(40,"li"),l(41,"The production code is in: "),c(42,"i"),l(43,"Scripts/Runtime/[ClassName].cs"),d(),d(),d(),c(44,"p"),l(45," As the folder structure implies,"),p(46,"br"),l(47," I'm doing "),c(48,"i"),l(49,"EditMode"),d(),l(50," tests for the production "),c(51,"i"),l(52,"Runtime"),d(),l(53," code."),p(54,"br"),c(55,"i"),l(56,"EditMode"),d(),l(57," test have access to both: "),d(),c(58,"ul",4),c(59,"li"),l(60,"the "),c(61,"i"),l(62,"Editor"),d(),l(63," code (only about extending the Unity editor)"),d(),c(64,"li"),l(65,"the "),c(66,"i"),l(67,"Runtime"),d(),l(68," code (of the targeted platform, e.g iOS)."),d(),d(),c(69,"p"),l(70," My main reason to prefer "),c(71,"i"),l(72,"EditMode"),d(),l(73," tests for "),c(74,"i"),l(75,"Runtime"),d(),l(76," code"),p(77,"br"),l(78," is that they run faster (Player startup and run in editor not done)."),p(79,"br"),l(80," Also the domain logic should not need the "),c(81,"i"),l(82,"PlayMode"),d(),l(83," tests features"),p(84,"br"),l(85," (tests don't need to run as Unity "),c(86,"i"),l(87,"Coroutine"),d(),l(88," to 'step' through the code)."),p(89,"br"),l(90," The doc page "),c(91,"a",5),l(92,"EditMode vs. PlayMode tests"),d(),l(93," explains the difference further. "),d(),c(94,"h2"),l(95,"The requirements for "),c(96,"i"),l(97,"definition and start state"),d(),d(),c(98,"p"),l(99," Let's recap these requirements from the user perspective:\n"),d(),c(100,"ul",4),c(101,"li"),l(102,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(103,"li"),l(104,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(105,"li"),l(106,"The Life Gauge starts with 3 Hearts"),d(),d(),c(107,"p"),l(108," Let's filter and transform this into a requirement that's focused only on the domain"),p(109,"br"),l(110," (as GUI will be done later):\n"),d(),c(111,"ul",4),c(112,"li"),l(113,"Avatar Health starts with 12 Health Points"),p(114,"br"),l(115," (equals to visual representation of 3 Hearts * 4 Fractions)"),d(),d(),c(116,"h2"),l(117,"Health Points starting value"),d(),c(118,"h3"),c(119,"span",6),l(120,"RED (does not compile)"),d(),d(),c(121,"p"),l(122," The domain model focus will be the "),c(123,"code"),l(124,"Health"),d(),l(125," class (not created yet),"),p(126,"br"),l(127," Thus I create test file "),c(128,"code"),l(129,"HealthTest.cs"),d(),l(130," and write the first test,"),p(131,"br"),l(132," that fails as the code does not compile.\n"),d(),c(133,"pre"),p(134,"code",7),d(),c(135,"h3"),l(136,"Test code naming / structure convention"),d(),c(137,"p"),l(138," I use and name nested class after the "),c(139,"i"),l(140,"entry point"),d(),l(141," of the test"),p(142,"br"),l(143," ("),c(144,"i"),l(145,"entry point"),d(),l(146," is defined in "),c(147,"i"),l(148,"What is a good Unit Test section"),d(),l(149," in "),c(150,"a",8),l(151,"Part 1"),d(),l(152,"),"),p(153,"br"),l(154," which in this particular case is named "),c(155,"code"),l(156,"Constructor"),d(),l(157,"."),p(158,"br"),l(159," I got the idea from Erik Dietrich via "),c(160,"a",9),l(161,"TDD and modeling a chess game"),d(),p(162,"br"),l(163," that references Phil Haack via "),c(164,"a",10),l(165,"Structuring Unit Tests"),d(),p(166,"br"),p(167,"br"),l(168," I'm using the "),c(169,"a",11),l(170,"Constraint Model of Assertions."),d(),l(171,".\n"),d(),c(172,"h3"),c(173,"span",6),l(174,"RED (test fails)"),d(),d(),c(175,"p"),l(176," I want to run the test and see it fail."),p(177,"br"),l(178," This is done to verify that the test is not passing when it should not"),p(179,"br"),l(180," (provides more value for more complex scenario)."),p(181,"br"),l(182," Thus I write the needed production code for the compiler to compile successfully,"),p(183,"br"),l(184," then run the tests via Unity Test Runner (menu item "),c(185,"i"),l(186,"Window > General > Test Runner"),d(),l(187,")."),p(188,"br"),d(),c(189,"pre"),p(190,"code",7),d(),c(191,"figure"),p(192,"img",12),c(193,"figcaption"),l(194," Unity Test Runner: first test fail (the nested class displays nicely) "),d(),d(),c(195,"p"),l(196," Going forward I will skip demonstrating both steps"),p(197,"br"),l(198," 'does not compile' and 'test fails' (although I do them both when coding),"),p(199,"br"),l(200," thus demonstrating only one "),c(201,"span",6),l(202,"RED"),d(),l(203," step.\n"),d(),c(204,"h3"),c(205,"span",13),l(206,"GREEN"),d(),d(),c(207,"p"),l(208,"Let's make the test pass with a very simple implementation.\n"),d(),c(209,"pre"),p(210,"code",7),d(),c(211,"h3"),c(212,"span",14),l(213,"REFACTOR"),d(),d(),c(214,"p"),l(215,"Now it comes to mind that from a game design perspective"),p(216,"br"),l(217," it's good to be able to tweak the starting points for game balancing,"),p(218,"br"),l(219," thus I refactor the value to be passed as parameter into the constructor."),p(220,"br"),c(221,"span",15),l(222,"An advanced system would have an accessible"),p(223,"br"),l(224," game balancing config that the code would read the values"),p(225,"br"),l(226," and then pass them into the "),c(227,"span",16),l(228,"Health"),d(),l(229," constructor."),d(),p(230,"br"),p(231,"br"),l(232," I name the passed in parameter "),c(233,"span",16),l(234,"startingPoints"),d(),l(235,"."),p(236,"br"),l(237," I also rename the property to "),c(238,"span",16),l(239,"CurrentPoints"),d(),l(240," (and thus the test case) to further clarify the logic:"),p(241,"br"),c(242,"i"),l(243,"starting points is passed into the constructor which sets the current points."),d(),p(244,"br"),d(),c(245,"pre"),p(246,"code",7),d(),c(247,"p"),l(248," I also encapsulate "),c(249,"span",16),l(250,"CurrentPoints"),d(),l(251," into a 'getter, private setter'."),p(252,"br"),l(253," In general I want to "),c(254,"a",17),l(255,"encapsulate"),d(),l(256," the production code as much as possible."),p(257,"br"),l(258," The only exposed interface should come from"),p(259,"br"),l(260," the requirements that the TDD cycles will drive,"),p(261,"br"),l(262," and if the tests need additional exposure no top of that"),p(263,"br"),l(264," (should be kept to a minimum).\n"),d(),c(265,"pre"),p(266,"code",7),d(),c(267,"p"),l(268," From now on the code will mostly be presented as a part of the class,"),p(269,"br"),l(270," focused on the current TDD cycle."),p(271,"br"),l(272," The code in its entirety and the Unity project is on "),c(273,"a",18),l(274,"GitHub"),d(),l(275,".\n"),d(),c(276,"h2"),l(277,"Handle invalid "),c(278,"span",16),l(279,"StartingPoints"),d(),l(280," values"),d(),c(281,"p"),l(282," Now it comes to mind that invalid values can be passed in,"),p(283,"br"),l(284," as our avatar should never start with less than 1 points"),p(285,"br"),l(286," (because otherwise Link would start up being dead :P )."),p(287,"br"),l(288," Thus I'll throw an exception when the value is invalid."),p(289,"br"),c(290,"span",15),l(291,"Invalid values should also be handled where they are defined,"),p(292,"br"),l(293," in the previously mentioned game balancing config."),d(),d(),c(294,"h3"),c(295,"span",6),l(296,"RED"),d(),d(),c(297,"pre"),p(298,"code",7),d(),c(299,"p"),l(300," I deem I can use existing "),c(301,"span",16),l(302,"ArgumentOutOfRangeException"),d(),l(303," from "),c(304,"span",16),l(305,"System"),d(),p(306,"br"),l(307," if I include an informative message for my case."),p(308,"br"),l(309,' I assert that the message contains "invalid",'),p(310,"br"),l(311," intentionally not being more specific"),p(312,"br"),l(313," so the assert does not fail later because of potential rewording."),p(314,"br"),p(315,"br"),l(316," I chose the value "),c(317,"code"),l(318,"0"),d(),l(319," as it's on the edge of invalidation (as "),c(320,"code"),l(321,"1"),d(),l(322," is valid)."),p(323,"br"),d(),c(324,"h3"),l(325,"Test code naming / structure convention"),d(),c(326,"p"),l(327," Elaborating further, I use my template:"),p(328,"br"),p(329,"br"),l(330," ["),c(331,"i"),l(332,"exit point"),d(),l(333,"]_[will be in state]"),p(334,"br"),l(335," or"),p(336,"br"),l(337," ["),c(338,"i"),l(339,"exit point"),d(),l(340,"]_When[Scenario]"),p(341,"br"),l(342," or"),p(343,"br"),l(344," [expected behavior of "),c(345,"i"),l(346,"Unit of Work"),d(),l(347,"]_When[Scenario]"),p(348,"br"),p(349,"br"),l(350," _When is used for other scenarios than the 'happy path' / basic one."),p(351,"br"),l(352," ("),c(353,"i"),l(354,"exit point"),d(),l(355," is defined in "),c(356,"i"),l(357,"What is a good Unit Test section"),d(),l(358," in "),c(359,"a",8),l(360,"Part 1"),d(),l(361,"),"),p(362,"br"),p(363,"br"),l(364," Thus these two test cases are named accordingly:"),p(365,"br"),c(366,"code"),l(367,"CurrentPoints_HasStartingValue"),d(),p(368,"br"),c(369,"code"),l(370,"ThrowsError_WhenStartingPointsIsInvalid"),d(),d(),c(371,"h3"),c(372,"span",13),l(373,"GREEN"),d(),d(),c(374,"pre"),p(375,"code",7),d(),c(376,"p"),l(377," I'm confident that the implementation of the conditional"),p(378,"br"),l(379," is the proper generic solution for this requirement."),p(380,"br"),l(381," However I just did the bare minimum for the exception message,"),p(382,"br"),l(383," and I will refactor it in the next step."),p(384,"br"),d(),c(385,"h3"),c(386,"span",14),l(387,"REFACTOR"),d(),d(),c(388,"pre"),p(389,"code",7),d(),c(390,"p"),l(391," I define "),c(392,"code"),l(393,"lowestValidValue"),d(),l(394," and use it both in the condition and the message."),p(395,"br"),l(396," This both makes the exception message more readable"),p(397,"br"),l(398," and makes sure the conditional and message will always be in-sync."),p(399,"br"),l(400," I get the name of the sent in parameter with "),c(401,"code"),l(402,"nameof(startingPoints)"),d(),l(403,"."),p(404,"br"),p(405,"br"),l(406," I check the message in TestRunner by temporarily commenting out"),p(407,"br"),l(408," all lines in the test except the constructor invocation."),p(409,"br"),l(410," The message displays when value "),c(411,"code"),l(412,"0"),d(),l(413," was passed in:"),p(414,"br"),c(415,"code"),l(416,"System.ArgumentOutOfRangeException : Value '0' is invalid, it should be equal or higher than '1'"),p(417,"br"),l(418," Parameter name: startingPoints"),d(),p(419,"br"),p(420,"br"),l(421," That's reads pretty clear to me.\n"),d(),c(422,"h2"),l(423,"Let's test a few more values"),d(),c(424,"p"),l(425,"I'm confident that the implementation of the requirement"),p(426,"br"),l(427," will work for any passed-in parameter value."),p(428,"br"),l(429," But I'll test a few more values to verify it,"),p(430,"br"),l(431," and to demonstrate how to do it in a clean and maintainable way.\n"),d(),c(432,"h3"),c(433,"span",14),l(434,"REFACTOR"),d(),d(),c(435,"p"),l(436,"Refactoring the tests to add test cases"),p(437,"br"),l(438," where the value is close to the valid or invalid edge,"),p(439,"br"),l(440," using "),c(441,"a",19),l(442,"Parameterized Tests"),d(),l(443," with inline "),c(444,"a",20),l(445,"TestCase"),d(),l(446," attribute.\n"),d(),c(447,"pre"),p(448,"code",7),d(),c(449,"p"),l(450," This runs in total 4 test cases and Unity Test Runner looks like this:\n"),d(),c(451,"figure"),p(452,"img",21),c(453,"figcaption"),l(454," Unity Test Runner: tests using "),c(455,"i"),l(456,"TestCase"),d(),l(457," attribute "),d(),d()),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate),b(124),S("highlight",i.test_1_Red),b(56),S("highlight",i.test_1_Red2),b(20),S("highlight",i.impl_1_Green),b(36),S("highlight",i.test_1_refactor),b(20),S("highlight",i.impl_1_refactor),b(32),S("highlight",i.test_2_Red),b(77),S("highlight",i.impl_2_Green),b(14),S("highlight",i.impl_2_Refactor),b(59),S("highlight",i.test_3_Green))},directives:[Dn,nl],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function mV(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}let yV=(()=>{class n extends dr{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void CurrentPoints_Decrease()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.impl_1_Green="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic void TakeDamage(int damagePoints)\n{\n\tCurrentPoints -= damagePoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.TakeDamage(damagePoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='// Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (damagePoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {damagePoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(damagePoints), message);\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n',this.impl_2_Refactor='// Health.cs\npublic Health(int startingPoints)\n{\n\tValidatePoints(startingPoints, 1);\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1);\n\tCurrentPoints -= damagePoints;\n}\n\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\tif (points < lowestValidValue)\n\t{\n\t\tvar message = $"Value {points} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), message);\n\t}\n}\n'}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-4"]],features:[Ae],decls:232,vars:12,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","https://www.jetbrains.com/resharper/"],["href","https://www.jetbrains.com/help/resharper/2022.1/MemberCanBeMadeStatic.Local.html"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,mV,2,1,"small",1),d(),c(11,"h2"),l(12,"The first Taking Damage requirement"),d(),c(13,"p"),l(14," Let's recap the first requirement under "),c(15,"i"),l(16,"Taking Damage and Dying"),d(),l(17," from the user perspective:\n"),d(),c(18,"ul",2),c(19,"li"),l(20,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),p(21,"br"),l(22," equal to the damage points taken (always losing at least 1 fraction)"),d(),d(),p(23,"div",3),c(24,"p"),l(25),d(),c(26,"ul",2),c(27,"li"),l(28,"Avatar will lose Health "),c(29,"code"),l(30,"CurrentPoints"),d(),l(31," equal to Damage Points taken (always losing at last 1 Health Point)"),d(),d(),p(32,"div",3),c(33,"h2"),l(34,"Take Damage cycling"),d(),c(35,"h3"),c(36,"span",4),l(37,"RED"),d(),d(),c(38,"p"),l(39," I start by writing the test."),p(40,"br"),l(41," The entry point will be a new method named "),c(42,"code"),l(43,"TakeDamage"),d(),l(44,","),p(45,"br"),l(46," thus I write a nested class with same name,"),p(47,"br"),l(48," and within it I write the test case "),c(49,"code"),l(50,"CurrentPointsDecrease"),d(),p(51,"br"),l(52," (according to my naming convention, explained in "),c(53,"a",5),l(54,"Part 3"),d(),l(55,")."),p(56,"br"),d(),c(57,"pre"),p(58,"code",6),d(),c(59,"p"),l(60," The test fails as the "),c(61,"code"),l(62,"TakeDamage"),d(),l(63," method is not defined.\n"),d(),c(64,"h3"),c(65,"span",7),l(66,"GREEN"),d(),d(),c(67,"pre"),p(68,"code",6),d(),c(69,"p"),l(70," I'm confident that this effortless implementation"),p(71,"br"),l(72," fulfills the requirement for all valid inputs."),p(73,"br"),l(74," It's clean and thus does not need a "),c(75,"span",8),l(76,"REFACTOR"),d(),l(77," step."),p(78,"br"),l(79," But invalid values can be passed in, so I'll do a cycle for handling those.\n"),d(),c(80,"h2"),l(81,"Handle invalid input values"),d(),c(82,"h3"),c(83,"span",4),l(84,"RED"),d(),d(),c(85,"p"),l(86," A minus value for "),c(87,"code"),l(88,"damagePoints"),d(),l(89," is clearly invalid but what about "),c(90,"code"),l(91,"0"),d(),l(92," ?"),p(93,"br"),l(94," I conclude that "),c(95,"code"),l(96,"0"),d(),l(97," is also invalid,"),p(98,"br"),l(99," as an outside 'damage calculator' logic should take care of this earlier"),p(100,"br"),l(101," (thus "),c(102,"code"),l(103,"TakeDamage won't be invoked)"),d(),l(104,"."),p(105,"br"),l(106," This also makes the design streamlined as it ensures that"),p(107,"br"),c(108,"code"),l(109,"CurrentPoints"),d(),l(110," will always decrease on "),c(111,"code"),l(112,"TakeDamage"),d(),l(113," call."),p(114,"br"),p(115,"br"),l(116," This will be a similar test as the existing "),c(117,"code"),l(118,"ThrowsError_WhenStartingPointsIsInvalid"),d(),p(119,"br"),l(120," but now the "),c(121,"i"),l(122,"entry point"),d(),l(123," is method "),c(124,"code"),l(125,"TakeDamage"),d(),l(126,","),p(127,"br"),l(128," and thus it will be inside the nested class "),c(129,"code"),l(130,"TakeDamage."),d(),d(),c(131,"pre"),p(132,"code",6),d(),c(133,"p"),l(134," The value I pass into the constructor has no significance to this test,"),p(135,"br"),l(136," and thus is not a "),c(137,"i"),l(138,"TestCase"),d(),l(139," parameter.\n"),d(),c(140,"h3"),c(141,"span",7),l(142,"GREEN"),d(),d(),c(143,"p"),l(144,"I make the test pass by"),p(145,"br"),l(146," duplicating the exception throwing code from the constructor,"),p(147,"br"),l(148," and then renaming the parameter to "),c(149,"code"),l(150,"damagePoints"),d(),p(151,"br"),l(152," (knowing that I'll refactor this code smell right away in the next step).\n"),d(),c(153,"pre"),p(154,"code",6),d(),p(155,"br"),c(156,"h3"),c(157,"span",8),l(158,"REFACTOR"),d(),d(),c(159,"p"),l(160," I refactor the duplicated code smell away."),p(161,"br"),d(),c(162,"pre"),p(163,"code",6),d(),c(164,"p"),l(165," When exception is thrown,"),p(166,"br"),l(167," the message is followed by the stack trace in the console,"),p(168,"br"),l(169," and therefore it is sufficient that the param name will simply be "),c(170,"i"),l(171,"points"),d(),p(172,"br"),l(173," as you can follow the trace to see which method called "),c(174,"code"),l(175,"ValidatePoints"),d(),l(176,"."),p(177,"br"),p(178,"br"),l(179," Having "),c(180,"code"),l(181,"lowestValidValue"),d(),l(182," as sent in parameter for method "),c(183,"code"),l(184,"ValidatePoints"),d(),p(185,"br"),l(186," makes the method easy to reuse,"),p(187,"br"),l(188," if another case comes later with different "),c(189,"code"),l(190,"lowestValidValue"),d(),l(191,"."),p(192,"br"),p(193,"br"),c(194,"a",9),l(195,"ReSharper"),d(),l(196," hints that "),c(197,"code"),l(198,"ValidatePoints"),d(),l(199," method can be made "),c(200,"code"),l(201,"static"),d(),l(202,","),p(203,"br"),l(204," and I agree, as it doesn't hinder testability nor design (it's "),c(205,"code"),l(206,"private"),d(),l(207,")."),p(208,"br"),l(209," Making it "),c(210,"code"),l(211,"static "),d(),c(212,"a",10),l(213,"can yield a small performance benefit"),d(),l(214,"."),p(215,"br"),p(216,"br"),l(217," I ignore ReSharper's hint to 'invert "),c(218,"code"),l(219,"if"),d(),l(220," statement' as the current format"),p(221,"br"),l(222," is more readable IMO and the nested braces are only one-level deep."),p(223,"br"),p(224,"br"),l(225," I run all the tests (and also did as needed while refactoring) to verify everything works."),p(226,"br"),l(227," Now the Test Runner looks like this:\n"),d(),c(228,"figure"),p(229,"img",11),c(230,"figcaption"),l(231," Unity Test Runner: after refactoring 'ThrowsError' implementation "),d(),d()),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate),b(13),S("innerHTML",i.completeRequirementListHtml,ti),b(2),Be(" ",i.rewordRequirement,"\n"),b(7),S("innerHTML",i.aboutCodeHtml,ti),b(26),S("highlight",i.test_1_Red),b(10),S("highlight",i.impl_1_Green),b(64),S("highlight",i.test_2_Red),b(22),S("highlight",i.impl_2_Green),b(9),S("highlight",i.impl_2_Refactor))},directives:[Dn,nl],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function _V(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}let vV=(()=>{class n extends dr{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Constructor\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = new Health(12);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.impl_1_green="// Health.cs\npublic bool IsDead => false;\n",this.test_2_red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void IsDead_AfterTwoInvocations()\n{\n\tvar health = new Health(10);\n\thealth.TakeDamage(9);\n\tAssert.That(health.IsDead, Is.False);\n\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="// Health.cs\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="// Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1); // method not shown\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n}\n",this.test_4_red="// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(1, 2, 2)]\n[TestCase(1, 2, 3)]\n[TestCase(1, 2, 22)]\n[TestCase(-21, 2, 23)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.impl_4_green="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints < FullPoints\n\t\t|| CurrentPoints > damagePoints\n\t\t|| damagePoints > CurrentPoints + 20)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n\telse\n\t{\n\t\tCurrentPoints = 1;\n\t}\n}\n",this.impl_4_refactor="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints + 20)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n",this.impl_4_refactor_2="// Health.cs\npublic const int MaxNegativePointsForInstantKillProtection = -20;\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints - MaxNegativePointsForInstantKillProtection)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-5"]],features:[Ae],decls:341,vars:17,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["href","./blog/tdd-health/part1"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity/blob/3e9aeea7a9285a5b67e7900bd8471ec932b758de/Assets/Scripts/Tests/EditMode/HealthTest.cs"],["href","\thttps://github.com/EgillAntonsson/tdd-avatar-health-in-unity/blob/3e9aeea7a9285a5b67e7900bd8471ec932b758de/Assets/Scripts/Runtime/Health.cs"],["src","../assets/images/blog/tdd/TestRunner_tests-protected-from-instant-kill.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"],[1,"greenRefactor"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,_V,2,1,"small",1),d(),c(11,"h2"),l(12,"The Dying requirements"),d(),c(13,"p"),l(14," Let's recap the rest of the "),c(15,"i"),l(16,"Taking Damage and Dying"),d(),l(17," requirements from the user perspective:\n"),d(),c(18,"ul",2),c(19,"li"),l(20,"When Link loses all of his Hearts the game ends"),d(),c(21,"li"),l(22,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),p(23,"br"),l(24," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(25,"ul"),c(26,"li"),l(27,"However, if the damage is more than five Hearts above his full Life Gauge, he will still die"),d(),d(),d(),p(28,"div",3),c(29,"p"),l(30),d(),c(31,"ul",2),c(32,"li"),l(33,"When Avatar loses all of his Health Points he dies (and game ends)"),d(),c(34,"li"),l(35,"The Avatar is protected from any damage that would instantly kill him as long as his Health Points are full"),p(36,"br"),l(37," and will instead be left alive with 1 Health Points remaining"),d(),c(38,"ul"),c(39,"li"),l(40,"However, if the damage is more than 20 points above his full Health Points, he will still die"),d(),d(),d(),p(41,"div",3),c(42,"h2"),l(43,"Death cycling"),d(),c(44,"p"),l(45," I start cycling the first dying requirement."),p(46,"br"),l(47," The domain model focus will be a new property named "),c(48,"code"),l(49,"IsDead"),d(),l(50,".\n"),d(),c(51,"h3"),c(52,"span",4),l(53,"RED"),d(),d(),c(54,"p"),l(55," I write a new test case and it fails as "),c(56,"code"),l(57,"IsDead"),d(),l(58," is not defined.\n"),d(),c(59,"pre"),p(60,"code",5),d(),c(61,"h3"),c(62,"span",6),l(63,"GREEN"),d(),d(),c(64,"p"),l(65," I make "),c(66,"code"),l(67,"IsDead"),d(),l(68," simply return "),c(69,"code"),l(70,"false"),d(),l(71," to pass the test.\n"),d(),c(72,"pre"),p(73,"code",5),d(),c(74,"p"),l(75," I encapsulated the property into a 'getter' via "),c(76,"a",7),l(77,"Expression-Bodied Members syntax"),d(),l(78,"."),p(79,"br"),p(80,"br"),l(81," I know that simply returning "),c(82,"code"),l(83,"false"),d(),l(84," for "),c(85,"code"),l(86,"IsDead"),d(),l(87," will not hold as the generic solution that satisfies all cases,"),p(88,"br"),l(89," thus I'll now do a new cycle to achieve that."),p(90,"br"),d(),c(91,"h3"),c(92,"span",4),l(93,"RED"),d(),d(),c(94,"p"),l(95," Still Focusing on the first dying requirement, but also having the 'protected from instant kill' case in mind,"),p(96,"br"),l(97," I write a new test case that reduces the "),c(98,"code"),l(99,"CurrentPoints"),d(),l(100," to "),c(101,"code"),l(102,"0"),d(),l(103," after two "),c(104,"code"),l(105,"TakeDamage"),d(),l(106," invocations,"),p(107,"br"),l(108," as I know that that case should always kill the Avatar."),p(109,"br"),d(),c(110,"pre"),p(111,"code",5),d(),c(112,"p"),l(113," The "),c(114,"code"),l(115,"_After"),d(),l(116," in the name suits well for this scenario (better than "),c(117,"code"),l(118,"_When"),d(),l(119,")."),p(120,"br"),l(121," The test still checks only one exit point, although it asserts it twice."),p(122,"br"),l(123," As the test is readable, focused and meaningful,"),p(124,"br"),l(125," I'm still in line IMO with "),c(126,"i"),l(127,"What is a good Unit Test"),d(),l(128," section in "),c(129,"a",8),l(130,"Part 1"),d(),l(131,")."),p(132,"br"),p(133,"br"),l(134," The test fails as currently the Avatar is immortal!"),p(135,"br"),l(136," Of course that's no good, so let's fix that and make the test pass.\n"),d(),c(137,"h3"),c(138,"span",6),l(139,"GREEN"),d(),d(),c(140,"p"),l(141," I change the implementation of the "),c(142,"code"),l(143,"IsDead"),d(),l(144," property that makes the test (and the previous test) pass."),p(145,"br"),d(),c(146,"pre"),p(147,"code",5),d(),c(148,"p"),l(149," I'm confident that now I have the generic solution for this property,"),p(150,"br"),l(151," Thus I'll start a new cycle for the next requirement.\n"),d(),c(152,"h2"),l(153,"Protected from instant kill"),d(),c(154,"p"),l(155," Now focusing on the latter requirement (listed at start of this post),"),p(156,"br"),l(157," I now take further note of the concept 'full Health Points' in the requirement,"),p(158,"br"),l(159," and realize that it's part of the requirement, so I start cycling it.\n"),d(),c(160,"h2"),l(161,"Full Health Points cycle"),d(),c(162,"p"),l(163," The domain model focus will be a new property named "),c(164,"code"),l(165,"FullPoints"),d(),l(166,".\n"),d(),c(167,"h3"),c(168,"span",4),l(169,"RED"),d(),d(),c(170,"pre"),p(171,"code",5),d(),c(172,"p"),l(173," The test is very similar to the existing test for "),c(174,"i"),l(175,"exit point"),d(),c(176,"code"),l(177," CurrentPoints"),d(),p(178,"br"),l(179," but the key difference is that it's testing a different "),c(180,"i"),l(181,"exit point"),d(),l(182," (see "),c(183,"i"),l(184,"Good Unit Test definition"),d(),l(185," in "),c(186,"a",8),l(187,"part 1"),d(),l(188,").\n"),d(),c(189,"h3"),c(190,"span",6),l(191,"GREEN"),d(),d(),c(192,"pre"),p(193,"code",5),d(),c(194,"p"),l(195," I set "),c(196,"code"),l(197,"FullPoints"),d(),l(198," to the "),c(199,"code"),l(200,"startingPoints"),d(),l(201," parameter value (same as "),c(202,"code"),l(203,"CurrentPoints"),d(),l(204,")."),p(205,"br"),p(206,"br"),l(207," I also encapsulate "),c(208,"code"),l(209,"CurrentPoints"),d(),l(210," into a 'getter, private setter'."),p(211,"br"),p(212,"br"),l(213," This "),c(214,"code"),l(215,"FullPoints"),d(),l(216," implementation satisfies the current requirements,"),p(217,"br"),l(218," but likely will be extended on later with the Replenishing requirements."),p(219,"br"),l(220," Thus now I'll start a new cycle to fulfill the 'Protected from instant kill' requirement."),p(221,"br"),d(),c(222,"h2"),l(223,"Protected from instant kill cycling"),d(),c(224,"h3"),c(225,"span",4),l(226,"RED"),d(),d(),c(227,"pre"),p(228,"code",5),d(),c(229,"p"),l(230," I assert on the output "),c(231,"code"),l(232,"CurrentPoints"),d(),l(233," as the 'protected from instant kill' case should leave the value at "),c(234,"code"),l(235,"1"),d(),l(236,"."),p(237,"br"),l(238," The last "),c(239,"code"),l(240,"TestCase"),d(),l(241," tests the 'exception' case:"),p(242,"br"),l(243," when the damage is so much that it kills the Avatar regardless."),p(244,"br"),d(),c(245,"h3"),l(246,"Test code naming / structure convention"),d(),c(247,"p"),l(248," Elaborating further, the scenario starting with "),c(249,"code"),l(250,"_When"),d(),p(251,"br"),l(252," can continue with "),c(253,"code"),l(254,"_Then"),d(),l(255," as needed."),p(256,"br"),l(257," The whole scenario 'plays out' before the assertion / "),c(258,"i"),l(259,"exit point"),d(),l(260," check."),p(261,"br"),l(262," ("),c(263,"code"),l(264,"_Then"),d(),l(265," indicates occurring later in the internal scenario order).\n"),d(),c(266,"h2"),l(267,"Experience the value of TDD"),d(),c(268,"p"),l(269," Now the value of TDD starts to shine"),p(270,"br"),l(271," as my first attempts to make test pass failed and/or failed existing ones."),p(272,"br"),l(273," I suggest you try it out yourself before reading my "),c(274,"span",6),l(275,"GREEN"),d(),l(276," solution below."),p(277,"br"),l(278," You can get the current state of the code here: "),c(279,"a",9),l(280,"HealthTest.cs"),d(),l(281,", "),c(282,"a",10),l(283,"Health.cs"),d(),p(284,"br"),l(285," At this moment the Unity Test Runner looks like this: "),c(286,"figure"),p(287,"img",11),c(288,"figcaption"),l(289," Unity Test Runner: test cases for 'protected from instant kill' "),d(),d(),d(),c(290,"p"),l(291," Have you tried it out ?"),p(292,"br"),l(293," Great !"),p(294,"br"),l(295," Then you can compare with my solution below :)\n"),d(),c(296,"h3"),c(297,"span",6),l(298,"GREEN"),d(),d(),c(299,"pre"),p(300,"code",5),d(),c(301,"p"),l(302," I got all tests passing with this solution, but it could be cleaned up,"),p(303,"br"),l(304," thus onward to the refactoring step.\n"),d(),c(305,"h3"),c(306,"span",12),l(307,"REFACTOR"),d(),d(),c(308,"pre"),p(309,"code",5),d(),c(310,"p"),l(311," I 'flipped' the "),c(312,"code"),l(313,"if"),d(),l(314," check, which then checks for the 'protection' case,"),p(315,"br"),l(316," and returns early (instead of having "),c(317,"code"),l(318,"else"),d(),l(319,")."),p(320,"br"),l(321," This makes the code more readable and streamlined, IMO."),p(322,"br"),p(323,"br"),l(324," I don't like that the number "),c(325,"code"),l(326,"20"),d(),l(327," has no explanation to it ('magic' number),"),p(328,"br"),l(329," so I'll do an iteration on it.\n"),d(),c(330,"h3"),c(331,"span",12),l(332,"REFACTOR (2nd iteration)"),d(),d(),c(333,"pre"),p(334,"code",5),d(),c(335,"p"),l(336," I replaced the 'magic' number with a constant member"),p(337,"br"),l(338," and gave it a meaningful name that explains the number."),p(339,"br"),l(340," A negative value aligns with the naming of the const, so I 'flip' the value.\n"),d()),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate),b(18),S("innerHTML",i.completeRequirementListHtml,ti),b(2),Be(" ",i.rewordRequirement,"\n"),b(11),S("innerHTML",i.aboutCodeHtml,ti),b(19),S("highlight",i.test_1_red),b(13),S("highlight",i.impl_1_green),b(38),S("highlight",i.test_2_red),b(36),S("highlight",i.impl_2_green),b(24),S("highlight",i.test_3_red),b(22),S("highlight",i.impl_3_green),b(35),S("highlight",i.test_4_red),b(72),S("highlight",i.impl_4_green),b(9),S("highlight",i.impl_4_refactor),b(25),S("highlight",i.impl_4_refactor_2))},directives:[Dn,nl],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function bV(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}let wV=(()=>{class n extends dr{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(12));\n}\n",this.impl_1_green="// Health.cs\npublic void Replenish(int replenishPoints) { }\n",this.test_2_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenNotFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(2);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.test_2_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n",this.test_invalid_input_red='// HealthTest.cs\n// inside nested class Replenish\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenReplenishPointsIsInvalid(int replenishPoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.Replenish(replenishPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.test_invalid_input_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tValidatePoints(replenishPoints, 1); // method not shown\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-6"]],features:[Ae],decls:164,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["src","../assets/images/blog/tdd/TestRunner_after-replenish-tests.PNG","alt","Unity Test Runner: after adding Replenish tests","title","Unity Test Runner: after adding Replenish tests",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,bV,2,1,"small",1),d(),c(11,"h2"),l(12,"The requirement"),d(),c(13,"p"),l(14," Let's recap it from the user perspective:\n"),d(),c(15,"ul",2),c(16,"li"),l(17,"Link's Life Gauge can be replenished by consuming certain food"),d(),d(),p(18,"div",3),c(19,"p"),l(20),d(),c(21,"ul",2),c(22,"li"),l(23,"Avatar Health / "),c(24,"code"),l(25,"CurrentPoints"),d(),l(26," can be replenished by consuming food"),d(),d(),p(27,"div",3),c(28,"h2"),l(29,"Replenish cycling"),d(),c(30,"p"),l(31," The domain model focus will be a new method named "),c(32,"code"),l(33,"Replenish"),d(),l(34,"."),p(35,"br"),d(),c(36,"h3"),c(37,"span",4),l(38,"RED"),d(),d(),c(39,"p"),l(40," One case is if the player decides to make the Avatar"),p(41,"br"),l(42," use an item that replenishes when Health is full,"),p(43,"br"),l(44," a complete waste of an item as "),c(45,"code"),l(46,"CurrentPoints"),d(),l(47," don't increase,"),p(48,"br"),l(49," but a valid case regardless.\n"),d(),c(50,"pre"),p(51,"code",5),d(),c(52,"h3"),c(53,"span",6),l(54,"GREEN"),d(),d(),c(55,"p"),l(56," I effortlessly pass the test by adding an empty "),c(57,"code"),l(58,"Replenish"),d(),l(59," method.\n"),d(),c(60,"pre"),p(61,"code",5),d(),c(62,"p"),l(63," Of course this will not hold for other cases,"),p(64,"br"),l(65," so I'll cycle in more test cases to drive the implementation.\n"),d(),c(66,"h3"),c(67,"span",4),l(68,"RED"),d(),d(),c(69,"p"),l(70," Let's do a test for a more sensible valid case,"),p(71,"br"),l(72," when replenish will actually increase the "),c(73,"code"),l(74,"CurrentPoints"),d(),l(75,".\n"),d(),c(76,"pre"),p(77,"code",5),d(),c(78,"p"),l(79," I use the existing method "),c(80,"code"),l(81,"TakeDamage"),d(),l(82," to decrease the "),c(83,"code"),l(84,"CurrentPoints"),d(),p(85,"br"),l(86," before the method "),c(87,"code"),l(88,"Replenish"),d(),l(89," is invoked (the "),c(90,"i"),l(91,"entry point"),d(),l(92," of this test)."),p(93,"br"),l(94," ("),c(95,"code"),l(96,"TakeDamage"),d(),l(97," has already been tested and thus will work as expected).\n"),d(),c(98,"h3"),c(99,"span",6),l(100,"GREEN"),d(),d(),c(101,"pre"),p(102,"code",5),d(),c(103,"p"),l(104," I'm confident that this is the generic solution for any valid input"),p(105,"br"),l(106," so don't add more tests cases."),p(107,"br"),p(108,"br"),l(109," But I have to handle invalid input, so let's do a cycle for those.\n"),d(),c(110,"h2"),l(111,"Handle invalid input values"),d(),c(112,"h3"),c(113,"span",4),l(114,"RED"),d(),d(),c(115,"p"),l(116," As this will be similar to the 'take damage' handling,"),p(117,"br"),l(118," I copy the existing 'take damage throws error' test"),p(119,"br"),l(120," and paste it under the nested "),c(121,"code"),l(122,"Replenish"),d(),l(123," class"),p(124,"br"),l(125," and change to 'replenish' appropriately.\n"),d(),c(126,"pre"),p(127,"code",5),d(),c(128,"p"),l(129," This test case 'copy / paste' is valid"),p(130,"br"),l(131," as it's tests the same handling for a different "),c(132,"i"),l(133,"entry point"),d(),l(134," and "),c(135,"i"),l(136,"input"),d(),l(137,".\n"),d(),c(138,"h3"),c(139,"span",6),l(140,"GREEN"),d(),d(),c(141,"p"),l(142," I invoke the existing "),c(143,"code"),l(144,"ValidatePoints"),d(),l(145," method"),p(146,"br"),l(147," passing in "),c(148,"code"),l(149,"replenishPoints"),d(),l(150," and "),c(151,"code"),l(152,"1"),d(),l(153," for "),c(154,"code"),l(155,"lowestValidValue"),d(),d(),c(156,"pre"),p(157,"code",5),d(),c(158,"p"),l(159," Now the Unity Test Runner looks like this:\n"),d(),c(160,"figure"),p(161,"img",7),c(162,"figcaption"),l(163," Unity Test Runner: after adding Replenish tests "),d(),d()),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate),b(8),S("innerHTML",i.completeRequirementListHtml,ti),b(2),Be(" ",i.rewordRequirement,"\n"),b(7),S("innerHTML",i.aboutCodeHtml,ti),b(24),S("highlight",i.test_1_red),b(10),S("highlight",i.impl_1_green),b(16),S("highlight",i.test_2_red),b(25),S("highlight",i.test_2_green),b(25),S("highlight",i.test_invalid_input_red),b(30),S("highlight",i.test_invalid_input_green))},directives:[Dn,nl],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function EV(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=De();b(1),Be(" updated on ",e.updatedDateToString," ")}}const CV=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:t2},{path:"blog",component:l2,children:[{path:"tdd-health/part1",component:JF},{path:"tdd-health/part2",component:eV},{path:"tdd-health/part3",component:gV},{path:"tdd-health/part4",component:yV},{path:"tdd-health/part5",component:vV},{path:"tdd-health/part6",component:wV},{path:"tdd-health/part7",component:(()=>{class n extends dr{constructor(){super(...arguments),this.red_increaseByUnit_fullPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void FullPoints_Increase()\n{\n\tvar health = new Health(12);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.FullPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_fullPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += 4;\n}\n",this.refactor_increaseByUnit_fullPointsIncrease="// Health.cs\npublic const int PointsPerUnit = 4;\n\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n}\n",this.red_increaseByUnit_currentPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void CurrentPoints_Increase()\n{\n\tvar health = new Health(12);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_currentPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n",this.red_increaseByUnit_currentPoints_moreCases="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[TestCase(7, 4, 1)]\n[TestCase(6, 4, 2)]\n[TestCase(5, 4, 3)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.green_increaseByUnit_currentPoints_moreCases="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints += PointsPerUnit;\n}\n",this.red_IsMaxFullPointsReached="// HealthTest.cs\n// inside nested class IsMaxFullPointsReached\n[Test]\npublic void ReturnsFalse()\n{\n\tvar health = new Health(Health.MaxFullPoints / 2);\n\tAssert.That(health.IsMaxFullPointsReached, Is.False);\n}\n\n[Test]\npublic void ReturnsTrue()\n{\n\tvar health = new Health(Health.MaxFullPoints);\n\tAssert.That(health.IsMaxFullPointsReached, Is.True);\n}\n",this.green_IsMaxFullPointsReached="// Health.cs\npublic const int MaxFullPoints = 120;\n\npublic bool IsMaxFullPointsReached => FullPoints == MaxFullPoints;\n",this.red_IncreaseByUnit_ThrowsError='// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void ThrowsError_WhenMaxFullPointsReached()\n{\n\tvar health = new Health(Health.MaxFullPoints);\n\tvar exception = Assert.Throws(Is.TypeOf<InvalidOperationException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.IncreaseByUnit();\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}',this.green_IncreaseByUnit_ThrowsError='// Health.cs\npublic void IncreaseByUnit()\n{\n\tif (IsMaxFullPointsReached)\n\t{\n\t\tvar message = $"Method invocation is invalid as {nameof(IsMaxFullPointsReached)} is true";\n\t\tthrow new InvalidOperationException(message);\n\t}\n\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints += PointsPerUnit;\n}\n'}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=kt(n)))(i||n)}}(),n.\u0275cmp=bt({type:n,selectors:[["app-post-tdd-7"]],features:[Ae],decls:398,vars:18,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[1,"list","inline"],[3,"innerHTML"],[1,"center"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","./blog/tdd-health/part1"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["src","../assets/images/blog/tdd/TestRunner_after-increase-tests.PNG","alt","Unity Test Runner: after adding Increase tests","title","Unity Test Runner: after adding Increase tests",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0),c(5,"small"),l(6,"by Egill Antonsson"),p(7,"br"),l(8),p(9,"br"),d(),Ce(10,EV,2,1,"small",1),d(),c(11,"h2"),l(12,"The requirement"),d(),c(13,"p"),l(14," Let's recap this requirement from the user perspective:\n"),d(),c(15,"ul",2),c(16,"li"),l(17,"The Life Gauge can be increased by 1 full Heart at a time,"),p(18,"br"),l(19," up to a maximum of 30 Hearts"),d(),d(),c(20,"p"),l(21," Example of case when Life Gauge is not full when the increase is executed:"),p(22,"br"),d(),c(23,"ul",3),c(24,"li"),l(25,"Before increase: 1 Fraction filled of total 3 Hearts"),d(),c(26,"li"),l(27,"After increase: 1 Hearth + 1 Fraction filled of total 4 Hearts"),d(),d(),c(28,"p"),l(29," In "),c(30,"i"),l(31,"Zelda: Breath of the Wild"),d(),l(32," this is a big gameplay event"),p(33,"br"),l(34," and thus the increase is always 1 full Heart each time and no more.\n"),d(),p(35,"div",4),c(36,"p"),l(37),d(),c(38,"ul",2),c(39,"li"),c(40,"code"),l(41,"FullPoints"),d(),l(42," and "),c(43,"code"),l(44,"CurrentPoints"),d(),l(45," can be increased simultaneously"),p(46,"br"),l(47," by 4 "),c(48,"code"),l(49,"Points"),d(),l(50," at a time,"),p(51,"br"),l(52," up to a maximum of 120 "),c(53,"code"),l(54,"Points"),d(),p(55,"br"),d(),d(),c(56,"p"),l(57," Now it makes sense to define a new unit in "),c(58,"code"),l(59,"Health"),d(),l(60," that equals 4 "),c(61,"code"),l(62,"Points,"),d(),p(63,"br"),l(64," (that is visually represented as a Heart or something else),"),p(65,"br"),l(66," as the increase should always be in that unit."),p(67,"br"),d(),c(68,"h3"),l(69,"Domain / Visual SoC mapping, revisited"),d(),c(70,"table"),c(71,"tr"),c(72,"th"),l(73,"Domain Model"),d(),c(74,"th"),l(75,"GUI / View"),d(),d(),c(76,"tr"),c(77,"td",5),l(78," (Avatar) Health "),d(),c(79,"td",5),l(80," Life Gauge "),d(),d(),c(81,"tr"),c(82,"td",5),c(83,"b"),c(84,"i"),l(85,"Unit"),d(),d(),d(),c(86,"td",5),l(87," Heart (holds 4 Fractions) "),d(),d(),c(88,"tr"),c(89,"td",5),l(90," Points "),d(),c(91,"td",5),l(92," Heart Fractions "),d(),d(),d(),c(93,"p"),l(94," I add a new domain definition "),c(95,"i"),l(96,"Unit"),d(),l(97," that maps to the visualized "),c(98,"i"),l(99,"Heart"),d(),p(100,"br"),l(101," now let's reword the requirement again:"),p(102,"br"),d(),c(103,"ul",2),c(104,"li"),c(105,"code"),l(106,"FullPoints"),d(),l(107," and "),c(108,"code"),l(109,"CurrentPoints"),d(),l(110," can be increased simultaneously"),p(111,"br"),l(112," by 1 "),c(113,"code"),l(114,"Unit"),d(),l(115," at a time,"),p(116,"br"),l(117," up to a maximum of 30 "),c(118,"code"),l(119,"Units"),d(),p(120,"br"),d(),d(),c(121,"p"),l(122," It's also nice that using "),c(123,"code"),l(124,"Units"),d(),l(125," makes the numbers smaller (e.g 120 -> 30)\n"),d(),p(126,"div",4),c(127,"h2"),l(128,"Entry point "),c(129,"code"),l(130,"IncreaseByUnit"),d(),d(),c(131,"p"),l(132," The domain model focus will be a new method named "),c(133,"code"),l(134,"IncreaseByUnit"),d(),l(135,"."),p(136,"br"),d(),c(137,"h2"),l(138,"Exit point "),c(139,"code"),l(140,"FullPoints"),d(),d(),c(141,"p"),l(142," Focusing first on the existing "),c(143,"code"),l(144,"FullPoints"),d(),l(145," property.\n"),d(),c(146,"h3"),c(147,"span",6),l(148,"RED"),d(),d(),c(149,"pre"),p(150,"code",7),d(),c(151,"h3"),c(152,"span",8),l(153,"GREEN"),d(),d(),c(154,"p"),l(155," I make the test pass with an effortless implementation.\n"),d(),c(156,"pre"),p(157,"code",7),d(),c(158,"p"),l(159," I don't like that the 'magic' number "),c(160,"code"),l(161,"4"),d(),l(162," does not explain"),p(163,"br"),l(164," the relationship between "),c(165,"code"),l(166,"Points"),d(),l(167," and "),c(168,"code"),l(169,"Unit"),d(),l(170,"."),p(171,"br"),l(172," Thus I refactor it.\n"),d(),c(173,"h3"),c(174,"span",9),l(175,"REFACTOR"),d(),d(),c(176,"pre"),p(177,"code",7),d(),c(178,"p"),l(179," Now it's replaced with a meaningfully named constant member"),p(180,"br"),l(181," that defines and documents well this relationship (in the code itself)."),p(182,"br"),d(),c(183,"h2"),l(184,"Exit point "),c(185,"code"),l(186,"CurrentPoints"),d(),d(),c(187,"p"),l(188," Now I focus on the other "),c(189,"i"),l(190,"exit point"),d(),l(191,", the existing "),c(192,"code"),l(193,"CurrentPoints"),d(),l(194," property."),p(195,"br"),l(196," It should have new tests as it's about a different "),c(197,"i"),l(198,"exit point"),d(),p(199,"br"),l(200," (see Good Unit Test definition in "),c(201,"a",10),l(202,"part 1"),d(),l(203,").\n"),d(),c(204,"h3"),c(205,"span",6),l(206,"RED"),d(),d(),c(207,"pre"),p(208,"code",7),d(),c(209,"h3"),c(210,"span",8),l(211,"GREEN"),d(),d(),c(212,"pre"),p(213,"code",7),d(),c(214,"p"),l(215," I effortlessly add the line "),c(216,"code"),l(217,"CurrentPoints = FullPoints"),d(),l(218,","),p(219,"br"),l(220," which is enough to make the test pass,"),p(221,"br"),l(222," but I know that it only holds for this particular case, and not for others."),p(223,"br"),l(224," Thus I'll cycle the other cases.\n"),d(),c(225,"h3"),c(226,"span",6),l(227,"RED"),d(),d(),c(228,"pre"),p(229,"code",7),d(),c(230,"p"),l(231," For readability, I select "),c(232,"code"),l(233,"4"),d(),l(234," for the "),c(235,"code"),l(236,"startingPoints"),d(),l(237," parameter value,"),p(238,"br"),l(239," which also keeps the other numbers low.\n"),d(),c(240,"h3"),c(241,"span",8),l(242,"GREEN"),d(),d(),c(243,"pre"),p(244,"code",7),d(),c(245,"p"),l(246," I could have taken a bigger step in the previous "),c(247,"span",8),l(248,"GREEN"),d(),l(249," step"),p(250,"br"),l(251," and come straight away with this generic solution,"),p(252,"br"),l(253," but both paths should lead to the same result (both solution and tests),"),p(254,"br"),l(255," the path presented here makes the tests drive the implementation.\n"),d(),c(256,"h2"),l(257,"The maximum"),d(),c(258,"p"),l(259," All that is left of the requirement is the maximum part."),p(260,"br"),l(261," The game will only give the user the option to spend resources"),p(262,"br"),l(263," to increase the health if the maximum "),c(264,"code"),l(265,"FullPoints"),d(),l(266," has not been reached. Thus the outside code should query "),c(267,"code"),l(268,"Health"),d(),l(269," if maximum has been reached"),p(270,"br"),l(271," and only invoke "),c(272,"code"),l(273,"IncreaseByUnit"),d(),l(274," if not.\n"),d(),c(275,"h3"),c(276,"span",6),l(277,"RED"),d(),d(),c(278,"p"),l(279," The "),c(280,"i"),l(281,"entry point"),d(),l(282," will be a new property named "),c(283,"code"),l(284,"IsMaxFullPointsReached"),d(),l(285,"."),p(286,"br"),d(),c(287,"pre"),p(288,"code",7),d(),c(289,"p"),l(290," I'm presenting a bigger step, adding 2 test at the same time,"),p(291,"br"),l(292," (thus skipping the smaller cycles I did within it)."),p(293,"br"),p(294,"br"),l(295," Here I can concise the test names"),p(296,"br"),l(297," as the "),c(298,"i"),l(299,"exit point"),d(),l(300," is the same as the "),c(301,"i"),l(302,"entry point"),d(),l(303,","),p(304,"br"),l(305," thus I skip the "),c(306,"i"),l(307,"exit point"),d(),l(308," in the name (nested class already names it)."),p(309,"br"),p(310,"br"),l(311," The tests use a new constant "),c(312,"code"),l(313,"MaxFullPoints"),d(),l(314,","),p(315,"br"),l(316," and there are two compile errors as both"),p(317,"br"),c(318,"code"),l(319,"MaxFullPoints"),d(),l(320," and "),c(321,"code"),l(322,"IsMaxFullPointsReached"),d(),l(323," are not defined.\n"),d(),c(324,"h3"),c(325,"span",8),l(326,"GREEN"),d(),d(),c(327,"pre"),p(328,"code",7),d(),c(329,"p"),l(330," I define the constant "),c(331,"code"),l(332,"MaxFullPoints"),d(),l(333," and give it the proper value."),p(334,"br"),l(335," I implement the read-only property as an "),c(336,"a",11),l(337,"Expression-Bodied Member"),d(),l(338,"."),p(339,"br"),p(340,"br"),l(341," I need to protect the state of "),c(342,"code"),l(343,"Health"),d(),l(344," from improper usage,"),p(345,"br"),l(346," i.e. if the outside code invokes "),c(347,"code"),l(348,"IncreaseByUnit"),d(),l(349," when"),p(350,"br"),c(351,"code"),l(352,"IsMaxFullPointsReached"),d(),l(353," is "),c(354,"code"),l(355,"true"),d(),l(356,".\n"),d(),c(357,"h2"),l(358,"Handle improper usage of "),c(359,"code"),l(360,"IncreaseByUnit"),d(),d(),c(361,"h3"),c(362,"span",6),l(363,"RED"),d(),d(),c(364,"pre"),p(365,"code",7),d(),c(366,"p"),l(367," I deem I can use existing "),c(368,"code"),l(369,"InvalidOperationException"),d(),l(370," from "),c(371,"code"),l(372,"System"),d(),p(373,"br"),l(374," if I include an informative message for my case."),p(375,"br"),l(376,' I assert that the message contains "invalid",'),p(377,"br"),l(378," intentionally not being more specific"),p(379,"br"),l(380," so the assert does not fail later because of potential rewording.\n"),d(),c(381,"h3"),c(382,"span",8),l(383,"GREEN"),d(),d(),c(384,"pre"),p(385,"code",7),d(),c(386,"p"),l(387," I pass the test by adding the "),c(388,"i"),l(389,"if"),d(),l(390," condition at the start of the method."),p(391,"br"),p(392,"br"),l(393," Now the requirement has been fulfilled and the Unity Test Runner looks like this:\n"),d(),c(394,"figure"),p(395,"img",12),c(396,"figcaption"),l(397," Unity Test Runner: after adding Increase tests "),d(),d()),2&e&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),Be(" published on ",i.publishedDateToString,""),b(2),S("ngIf",i.hasUpdatedDate),b(25),S("innerHTML",i.completeRequirementListHtml,ti),b(2),Be(" ",i.rewordRequirement,"\n"),b(89),S("innerHTML",i.aboutCodeHtml,ti),b(24),S("highlight",i.red_increaseByUnit_fullPointsIncrease),b(7),S("highlight",i.green_increaseByUnit_fullPointsIncrease),b(20),S("highlight",i.refactor_increaseByUnit_fullPointsIncrease),b(31),S("highlight",i.red_increaseByUnit_currentPointsIncrease),b(5),S("highlight",i.green_increaseByUnit_currentPointsIncrease),b(16),S("highlight",i.red_increaseByUnit_currentPoints_moreCases),b(15),S("highlight",i.green_increaseByUnit_currentPoints_moreCases),b(44),S("highlight",i.red_IsMaxFullPointsReached),b(40),S("highlight",i.green_IsMaxFullPointsReached),b(37),S("highlight",i.red_IncreaseByUnit_ThrowsError),b(20),S("highlight",i.green_IncreaseByUnit_ThrowsError))},directives:[Dn,nl],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})()}]},{path:"music",component:fD},{path:"music/:trackName",component:fD},{path:"lifting",component:TF},{path:"**",component:YF}];let Rp,DV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[[GE.forRoot(CV,{enableTracing:!1,relativeLinkResolution:"legacy"})],GE]}),n})(),mD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({}),n})();try{Rp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Rp=!1}let fc=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Dw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Rp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(O(po))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fp(n,t){return e=>e.lift(new UV(n,t))}class UV{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new jV(t,this.compare,this.keySelector))}}class jV extends ke{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}const TD="cdk-high-contrast-black-on-white",MD="cdk-high-contrast-white-on-black",Vp="cdk-high-contrast-active";let o3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Vp),e.remove(TD),e.remove(MD),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Vp),e.add(TD)):2===i&&(e.add(Vp),e.add(MD))}}}return n.\u0275fac=function(e){return new(e||n)(O(fc),O(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PD(){return"undefined"!=typeof window&&void 0!==window.document}function Hp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let Gp=(n,t)=>!1,LD=(n,t,e)=>[];(Hp()||"undefined"!=typeof Element)&&(Gp=PD()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),LD=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});const xB=new Y("mat-sanity-checks",{providedIn:"root",factory:function PB(){return!0}});let xc=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function PV(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(O(o3),O(xB,8),O(lt))},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[[mD],mD]}),n})(),A0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[[xc],xc]}),n})(),QB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[[xc,A0],xc]}),n})();const YB=new ds(pD),x0={leading:!0,trailing:!1};function Rc(n,t=YB,e=x0){return i=>i.lift(new XB(n,t,e.leading,e.trailing))}class XB{constructor(t,e,i,s){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=s}call(t,e){return e.subscribe(new eH(t,this.duration,this.scheduler,this.leading,this.trailing))}}class eH extends ke{constructor(t,e,i,s,r){super(t),this.duration=e,this.scheduler=i,this.leading=s,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(tH,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function tH(n){const{subscriber:t}=n;t.clearThrottle()}var R0=yt(8089);const nH=["tooltipTemplate"],iH=["leftOuterSelectionBar"],sH=["rightOuterSelectionBar"],rH=["fullBar"],oH=["selectionBar"],aH=["minHandle"],lH=["maxHandle"],uH=["floorLabel"],cH=["ceilLabel"],dH=["minHandleLabel"],hH=["maxHandleLabel"],fH=["combinedLabel"],pH=["ticksElement"];function gH(n,t){if(1&n&&p(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=De().$implicit;S("template",De().tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function mH(n,t){1&n&&p(0,"span",32),2&n&&S("innerHTML",De().$implicit.legend,ti)}const yH=function(n){return{"ngx-slider-selected":n}};function _H(n,t){if(1&n&&(c(0,"span",27),p(1,"ngx-slider-tooltip-wrapper",28),Ce(2,gH,1,4,"ngx-slider-tooltip-wrapper",29),Ce(3,mH,1,1,"span",30),d()),2&n){const e=t.$implicit,i=De();S("ngClass",uo(7,yH,e.selected))("ngStyle",e.style),b(1),S("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),b(1),S("ngIf",null!=e.value),b(1),S("ngIf",null!=e.legend)}}function vH(n,t){}function bH(n,t){1&n&&Ce(0,vH,0,0,"ng-template")}const wH=function(n,t,e){return{tooltip:n,placement:t,content:e}};function EH(n,t){if(1&n&&(Jl(0),Ce(1,bH,1,0,void 0,1),Xl()),2&n){const e=De();b(1),S("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Nh(2,wH,e.tooltip,e.placement,e.content))}}function CH(n,t){if(1&n&&(Jl(0),c(1,"div",2),l(2),d(),Xl()),2&n){const e=De();b(1),an("title",e.tooltip)("data-tooltip-placement",e.placement),b(1),Be(" ",e.content," ")}}const Gt={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Gt[Gt.Low]="Low",Gt[Gt.High]="High",Gt[Gt.Floor]="Floor",Gt[Gt.Ceil]="Ceil",Gt[Gt.TickValue]="TickValue";class Lc{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const $={Min:0,Max:1};$[$.Min]="Min",$[$.Max]="Max";class DH{}class I{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(r=>Math.abs(t-r.value));let s=0;for(let r=0;r<e.length;r++)i[r]!==i[s]&&i[r]<i[s]&&(s=r);return s}}class Vs{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Dt{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const s=Math.pow(10,-i);return Math.abs(t%e)<=s||Math.abs(Math.abs(t%e)-e)<=s}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class L0{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class N0{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,s){if(!0!==R0.Z.hasSupport)return this.attachEventListener(t,e,i,s);const r=new L0;r.eventName=e,r.events=new V;const o=a=>{r.events.next(a)};return t.addEventListener(e,o,{passive:!0,capture:!1}),r.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},r.eventsSubscription=r.events.pipe(I.isNullOrUndefined(s)?ct(()=>{}):Rc(s,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),r}detachEventListener(t){I.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),I.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),I.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,s){const r=new L0;return r.eventName=e,r.events=new V,r.teardownCallback=this.renderer.listen(t,e,a=>{r.events.next(a)}),r.eventsSubscription=r.events.pipe(I.isNullOrUndefined(s)?ct(()=>{}):Rc(s,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),r}}let Bs=(()=>{class n{constructor(e,i,s){this.elemRef=e,this.renderer=i,this.changeDetectionRef=s,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new N0(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,s){const r=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,s);this.eventListeners.push(r)}onPassive(e,i,s){const r=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,s);this.eventListeners.push(r)}off(e){let i,s;I.isNullOrUndefined(e)?(i=[],s=this.eventListeners):(i=this.eventListeners.filter(r=>r.eventName!==e),s=this.eventListeners.filter(r=>r.eventName===e));for(const r of s)this.eventListenerHelper.detachEventListener(r);this.eventListeners=i}isRefDestroyed(){return I.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(D(Et),D(Fn),D(Bi))},n.\u0275dir=te({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(e,i){2&e&&tu("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),yg=(()=>{class n extends Bs{constructor(e,i,s){super(e,i,s),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(D(Et),D(Fn),D(Bi))},n.\u0275dir=te({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(an("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),Nn("ngx-slider-active",i.active))},features:[Ae]}),n})(),ko=(()=>{class n extends Bs{constructor(e,i,s){super(e,i,s),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(I.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(D(Et),D(Fn),D(Bi))},n.\u0275dir=te({type:n,selectors:[["","ngxSliderLabel",""]],features:[Ae]}),n})();class TH{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class F0{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Nc{static compare(t,e){return!(I.isNullOrUndefined(t)&&I.isNullOrUndefined(e)||I.isNullOrUndefined(t)!==I.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class V0 extends Nc{static compare(t,e){return!(I.isNullOrUndefined(t)&&I.isNullOrUndefined(e)||I.isNullOrUndefined(t)!==I.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const MH={provide:oi,useExisting:He(()=>B0),multi:!0};let B0=(()=>{class n{constructor(e,i,s,r){this.renderer=e,this.elementRef=i,this.changeDetectionRef=s,this.zone=r,this.value=null,this.valueChange=new Ne,this.highValue=null,this.highValueChange=new Ne,this.options=new Lc,this.userChangeStart=new Ne,this.userChange=new Ne,this.userChangeEnd=new Ne,this.initHasRun=!1,this.inputModelChangeSubject=new V,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new V,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Lc,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new F0,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new N0(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!I.isNullOrUndefined(this.value)&&!I.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Lc,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){I.isNullOrUndefined(e.options)||this.onChangeOptions(),(!I.isNullOrUndefined(e.value)||!I.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(e){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Fp(V0.compare),Bn(i=>!i.forceChange&&!i.internalChange),I.isNullOrUndefined(e)?ct(()=>{}):Rc(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(e){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Fp(V0.compare),I.isNullOrUndefined(e)?ct(()=>{}):Rc(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Vs.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Vs.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){I.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){I.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){I.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){I.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){I.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){I.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===$.Min?this.minHandleElement:e===$.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===$.Min?this.viewLowValue:this.currentTrackingPointer===$.Max?this.viewHighValue:null}modelValueToViewValue(e){return I.isNullOrUndefined(e)?NaN:I.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:I.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return I.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return I.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),s=!Nc.compare(e,i);s&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:s,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),I.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),I.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new Nc;if(i.value=e.value,i.highValue=e.highValue,!I.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const s=I.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[s].value,this.range){const r=I.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[r].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Dt.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Dt.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const s=e.value;i.value=e.highValue,i.highValue=s}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);Nc.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,s=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const r=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!I.areArraysEqual(s,r);e!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new Lc,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!I.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!I.isNullOrUndefined(this.viewOptions.tickStep)||!I.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!I.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),I.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),I.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,I.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(I.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),I.isNullOrUndefined(this.viewOptions.ceil)||I.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,I.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==$.Min&&e!==$.Max&&(e=$.Min),e===$.Min?this.minHandleElement.focus():this.range&&e===$.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){I.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())I.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",I.isNullOrUndefined(this.viewOptions.ariaLabel)?I.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",I.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?I.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Gt.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Gt.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){I.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,I.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=I.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const s=I.isNullOrUndefined(this.viewOptions.tickValueStep)?I.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let r=!1;const o=e.map(a=>{let u=this.valueToPosition(a);this.viewOptions.vertical&&(u=this.maxHandlePosition-u);const h=i+"("+Math.round(u)+"px)",f=new TH;f.selected=this.isTickSelected(a),f.style={"-webkit-transform":h,"-moz-transform":h,"-o-transform":h,"-ms-transform":h,transform:h},f.selected&&!I.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(f.style["background-color"]=this.getSelectionBarColor()),!f.selected&&!I.isNullOrUndefined(this.viewOptions.getTickColor)&&(f.style["background-color"]=this.getTickColor(a)),I.isNullOrUndefined(this.viewOptions.ticksTooltip)||(f.tooltip=this.viewOptions.ticksTooltip(a),f.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!I.isNullOrUndefined(s)&&Dt.isModuloWithinPrecisionLimit(a,s,this.viewOptions.precisionLimit)&&(f.value=this.getDisplayValue(a,Gt.TickValue),I.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(f.valueTooltip=this.viewOptions.ticksValuesTooltip(a),f.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let g=null;if(I.isNullOrUndefined(this.viewOptions.stepsArray))I.isNullOrUndefined(this.viewOptions.getLegend)||(g=this.viewOptions.getLegend(a));else{const m=this.viewOptions.stepsArray[a];I.isNullOrUndefined(m)||(g=m.legend)}return I.isNullOrUndefined(g)||(f.legend=g,r=!0),f});if(setTimeout(()=>{this.sliderElementWithLegendClass=r}),I.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let a=0;a<o.length;++a)Object.assign(this.ticks[a],o[a]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=I.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],s=1+Math.floor(Dt.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let r=0;r<s;++r)i.push(Dt.roundToPrecisionLimit(this.viewOptions.floor+e*r,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(I.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Gt.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Gt.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===$.Min?this.updateLowHandle(i):e===$.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const s=e===$.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,r=i-s/2+this.handleHalfDimension,o=this.fullBarElement.dimension-s;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===$.Min||!this.viewOptions.rightToLeft&&e===$.Max?Math.min(r,o):Math.min(Math.max(r,0),o):r}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Gt.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos($.Min,e)),I.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor($.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Gt.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos($.Max,e)),I.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor($.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const s=this.isLabelBelowFloorLabel(this.minHandleLabelElement),r=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),u=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(s?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),r?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const h=this.combinedLabelElement.isVisible()?u:o,f=this.combinedLabelElement.isVisible()?a:s;h?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),f?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,r=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=r-2:i<=r+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,r=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=r+this.ceilLabelElement.dimension+2:i+e.dimension>=r-2}updateSelectionBar(){let e=0,i=0;const s=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,r=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=r;else if(I.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))s?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-a,e=a+this.handleHalfDimension):(i=a-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),I.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!I.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=I.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=o-e>0&&!s||o-e<=0&&s;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?a?"bottom":"top":a?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===$.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,Gt.Low),s=this.getDisplayValue(this.viewHighValue,Gt.High),r=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(s,i):this.viewOptions.combineLabels(i,s);this.combinedLabelElement.setValue(r);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!I.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const s=I.isNullOrUndefined(i)?this.viewOptions.step:i;let r=Dt.roundToPrecisionLimit((e-this.viewOptions.floor)/s,this.viewOptions.precisionLimit);return r=Math.round(r)*s,Dt.roundToPrecisionLimit(this.viewOptions.floor+r,this.viewOptions.precisionLimit)}valueToPosition(e){let i=I.linearValueToPosition;I.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=I.logValueToPosition):i=this.viewOptions.customValueToPosition;let s=i(e=Dt.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return I.isNullOrUndefined(s)&&(s=0),this.viewOptions.rightToLeft&&(s=1-s),s*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let s=I.linearPositionToValue;I.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(s=I.logPositionToValue):s=this.viewOptions.customPositionToValue;const r=s(i,this.viewOptions.floor,this.viewOptions.ceil);return I.isNullOrUndefined(r)?0:r}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical?e.clientY:e.clientX;let s=0;const r=e.touches;if(!I.isNullOrUndefined(i))for(let o=0;o<r.length;o++)if(r[o].identifier===i){s=o;break}return this.viewOptions.vertical?r[s].clientY:r[s].clientX}getEventPosition(e,i){const s=this.elementRef.nativeElement.getBoundingClientRect(),r=this.viewOptions.vertical?s.bottom:s.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(e,i)+r:this.getEventXY(e,i)-r,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return $.Min;const i=this.getEventPosition(e),s=Math.abs(i-this.minHandleElement.position),r=Math.abs(i-this.maxHandleElement.position);return s<r?$.Min:s>r?$.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?$.Min:$.Max:i<this.minHandleElement.position?$.Min:$.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart($.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart($.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart($.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart($.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart($.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart($.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart($.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart($.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus($.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus($.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())I.isNullOrUndefined(e)||e.off()}onBarStart(e,i,s,r,o,a,u){i?this.onDragStart(e,s,r,o):this.onStart(e,s,r,o,a,u)}onStart(e,i,s,r,o,a){i.stopPropagation(),(!Vs.isTouchEvent(i)||!R0.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),I.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const u=this.getPointerElement(e);if(u.active=!0,this.viewOptions.keyboardSupport&&u.focus(),s){this.unsubscribeOnMove();const h=f=>this.dragging.active?this.onDragMove(f):this.onMove(f);this.onMoveEventListener=Vs.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",h,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",h,this.viewOptions.mouseEventsInterval)}if(r){this.unsubscribeOnEnd();const h=f=>this.onEnd(f);this.onEndEventListener=Vs.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",h):this.eventListenerHelper.attachEventListener(document,"mouseup",h)}this.userChangeStart.emit(this.getChangeContext()),Vs.isTouchEvent(i)&&!I.isNullOrUndefined(i.changedTouches)&&I.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),a&&this.onEnd(i)}onMove(e,i){let s=null;if(Vs.isTouchEvent(e)){const h=e.changedTouches;for(let f=0;f<h.length;f++)if(h[f].identifier===this.touchId){s=h[f];break}if(I.isNullOrUndefined(s))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const r=I.isNullOrUndefined(s)?this.getEventPosition(e):this.getEventPosition(e,s.identifier);let o;r<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:r>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(r),o=i&&!I.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){Vs.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",s=>this.onKeyboardEvent(s)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,I.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let s=e+this.viewOptions.step,r=e-this.viewOptions.step,o=e+i/10,a=e-i/10;this.viewOptions.reversedControls&&(s=e-this.viewOptions.step,r=e+this.viewOptions.step,o=e-i/10,a=e+i/10);const u={UP:s,DOWN:r,LEFT:r,RIGHT:s,PAGEUP:o,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(u.LEFT=s,u.RIGHT=r,this.viewOptions.vertical&&(u.UP=r,u.DOWN=s)),u}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),s=I.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,u=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[s]];if(I.isNullOrUndefined(u)||I.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const h=Dt.clampToRange(u,this.viewOptions.floor,this.viewOptions.ceil),f=this.roundStep(h);if(this.viewOptions.draggableRangeOnly){const g=this.viewHighValue-this.viewLowValue;let m,y;this.currentTrackingPointer===$.Min?(m=f,y=f+g,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,m=y-g)):this.currentTrackingPointer===$.Max&&(y=f,m=f-g,m<this.viewOptions.floor&&(m=this.viewOptions.floor,y=m+g)),this.positionTrackingBar(m,y)}else this.positionTrackingHandle(f)}onDragStart(e,i,s,r){const o=this.getEventPosition(i);this.dragging=new F0,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,s,r)}getMinValue(e,i,s){const r=this.viewOptions.rightToLeft;let o=null;return o=i?s?r?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:r?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(r?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,s){const r=this.viewOptions.rightToLeft;let o=null;return o=i?s?r?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:r?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:r?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let s,r,o,a;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(s=this.dragging.lowLimit,r=this.dragging.highLimit,o=this.maxHandleElement,a=this.minHandleElement):(s=this.dragging.highLimit,r=this.dragging.lowLimit,o=this.minHandleElement,a=this.maxHandleElement);const h=i>=this.maxHandlePosition-s;let f,g;if(i<=r){if(0===o.position)return;f=this.getMinValue(i,!0,!1),g=this.getMaxValue(i,!0,!1)}else if(h){if(a.position===this.maxHandlePosition)return;g=this.getMaxValue(i,!0,!0),f=this.getMinValue(i,!0,!0)}else f=this.getMinValue(i,!1,!1),g=this.getMaxValue(i,!1,!1);this.positionTrackingBar(f,g)}positionTrackingBar(e,i){!I.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=Dt.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!I.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=Dt.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles($.Min,this.valueToPosition(e)),this.updateHandles($.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===$.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===$.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===$.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles($.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=$.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===$.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles($.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=$.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===$.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===$.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!I.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!I.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const s=Math.abs(e-(this.currentTrackingPointer===$.Min?this.viewHighValue:this.viewLowValue));if(!I.isNullOrUndefined(this.viewOptions.minRange)&&s<this.viewOptions.minRange){if(this.currentTrackingPointer===$.Min)return Dt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===$.Max)return Dt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!I.isNullOrUndefined(this.viewOptions.maxRange)&&s>this.viewOptions.maxRange){if(this.currentTrackingPointer===$.Min)return Dt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===$.Max)return Dt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===$.Min?this.viewHighValue-e:e-this.viewLowValue,s=I.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,r=this.viewOptions.maxRange;return i<s?(this.currentTrackingPointer===$.Min?(this.viewHighValue=Dt.roundToPrecisionLimit(Math.min(e+s,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=Dt.roundToPrecisionLimit(this.viewHighValue-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===$.Max&&(this.viewLowValue=Dt.roundToPrecisionLimit(Math.max(e-s,this.viewOptions.floor),this.viewOptions.precisionLimit),e=Dt.roundToPrecisionLimit(this.viewLowValue+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!I.isNullOrUndefined(r)&&i>r&&(this.currentTrackingPointer===$.Min?(this.viewHighValue=Dt.roundToPrecisionLimit(e+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===$.Max&&(this.viewLowValue=Dt.roundToPrecisionLimit(e-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles($.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new DH;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(D(Fn),D(Et),D(Bi),D(tt))},n.\u0275cmp=bt({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,s){if(1&e&&Ea(s,nH,5),2&e){let r;ot(r=at())&&(i.tooltipTemplate=r.first)}},viewQuery:function(e,i){if(1&e&&(jt(iH,5,Bs),jt(sH,5,Bs),jt(rH,5,Bs),jt(oH,5,Bs),jt(aH,5,yg),jt(lH,5,yg),jt(uH,5,ko),jt(cH,5,ko),jt(dH,5,ko),jt(hH,5,ko),jt(fH,5,ko),jt(pH,5,Bs)),2&e){let s;ot(s=at())&&(i.leftOuterSelectionBarElement=s.first),ot(s=at())&&(i.rightOuterSelectionBarElement=s.first),ot(s=at())&&(i.fullBarElement=s.first),ot(s=at())&&(i.selectionBarElement=s.first),ot(s=at())&&(i.minHandleElement=s.first),ot(s=at())&&(i.maxHandleElement=s.first),ot(s=at())&&(i.floorLabelElement=s.first),ot(s=at())&&(i.ceilLabelElement=s.first),ot(s=at())&&(i.minHandleLabelElement=s.first),ot(s=at())&&(i.maxHandleLabelElement=s.first),ot(s=at())&&(i.combinedLabelElement=s.first),ot(s=at())&&(i.ticksElement=s.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(e,i){1&e&&Ve("resize",function(r){return i.onResize(r)},!1,Hm),2&e&&(an("disabled",i.sliderElementDisabledAttr),Nn("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[qe([MH]),hn],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(c(0,"span",0,1),p(2,"span",2),d(),c(3,"span",3,4),p(5,"span",2),d(),c(6,"span",5,6),p(8,"span",2),d(),c(9,"span",7,8),p(11,"span",9),d(),p(12,"span",10,11),p(14,"span",12,13),p(16,"span",14,15),p(18,"span",16,17),p(20,"span",18,19),p(22,"span",20,21),p(24,"span",22,23),c(26,"span",24,25),Ce(28,_H,4,9,"span",26),d()),2&e&&(b(6),Nn("ngx-slider-transparent",i.fullBarTransparentClass),b(3),Nn("ngx-slider-draggable",i.selectionBarDraggableClass),b(2),S("ngStyle",i.barStyle),b(1),S("ngStyle",i.minPointerStyle),b(2),tu("display",i.range?"inherit":"none"),S("ngStyle",i.maxPointerStyle),b(12),Nn("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),S("hidden",!i.showTicks),b(2),S("ngForOf",i.ticks))},directives:function(){return[Bs,vw,yg,ko,Oa,ka,SH,Dn]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),SH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=bt({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&(Ce(0,EH,2,6,"ng-container",0),Ce(1,CH,3,3,"ng-container",0)),2&e&&(S("ngIf",i.template),b(1),S("ngIf",!i.template))},directives:[Dn,bw],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),AH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n}),n.\u0275inj=Ft({imports:[[Ew]]}),n})();class IH extends kp.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}const kH=function(n,t,e){return{playing:n,loading:t,stopped:e}},OH=function(n,t){return{shuffleOn:n,shuffleOff:t}},PH=function(n,t,e,i){return{mute:n,unmute:t,muteDisabled:e,unmuteDisabled:i}};let xH=(()=>{class n{constructor(e,i,s,r){this.musicService=e,this.soundManager=i,this.messageService=s,this.changeDetectorRef=r,this.label="MusicPlayer",this.masterMuted=!1,this._gainsDisabled=new IH(!1),this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=o=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,o?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.subscription=this.messageService.onMessage().subscribe(o=>{"Play"===o.type&&this.play()}),this.musicService.addInstanceEndedListener(`${this.label} endedListener`,(o,a)=>{o&&!a&&this.onNext()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(e){this.soundManager.instance.masterGain=e}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(e){return e<=.2?"#394A00":e<=.4?"#596A06":e<=.6?"#798A0A":e<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(e){return e<=.2?"#5D0800":e<=.4?"#7D2800":e<=.6?"#9D4800":e<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(e){return"#8B91A2"}onPlayStop(){"Loading"!==this.musicService.playState&&("Playing"===this.musicService.playState?this.musicService.stop():this.play())}onNext(){this.musicService.nextTrack(),this.play()}onShuffle(){this.musicService.toggleShuffle()}play(){this.musicService.play(this._gainsDisabled)}onMasterMuteChange(){this._gainsDisabled.value||(this.soundManager.instance.masterMuted=this.masterMuted=!this.masterMuted,this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors}))}}return n.\u0275fac=function(e){return new(e||n)(D(cD),D(Pp),D(dD),D(Bi))},n.\u0275cmp=bt({type:n,selectors:[["app-music-player"]],decls:17,vars:18,consts:[[1,"playerContainer","noSelect"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"]],template:function(e,i){1&e&&(c(0,"div",0),c(1,"span",1),Ve("click",function(){return i.onPlayStop()}),p(2,"div",2),d(),c(3,"span",3),Ve("click",function(){return i.onNext()}),p(4,"div",4),p(5,"div",5),d(),c(6,"span",6),c(7,"span"),l(8),d(),d(),c(9,"span",7),c(10,"span",8),Ve("click",function(){return i.onShuffle()}),p(11,"div",9),d(),c(12,"span",10),Ve("click",function(){return i.onMasterMuteChange()}),p(13,"div",2),d(),c(14,"span",11),c(15,"span",12),c(16,"ngx-slider",13),Ve("valueChange",function(r){return i.masterGain=r}),d(),d(),d(),d(),d()),2&e&&(b(2),S("ngClass",Nh(6,kH,"Playing"===i.playState,"Loading"===i.playState,"Stopped"===i.playState)),b(6),Qe(i.selectedTrack.name),b(3),S("ngClass",_a(10,OH,i.isShuffle,!i.isShuffle)),b(2),S("ngClass",function Xv(n,t,e,i,s,r,o){return ib(k(),fn(),n,t,e,i,s,r,o)}(13,PH,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),b(3),S("value",i.masterGain)("options",i.optionsMasterGain))},directives:[ka,B0],styles:['.playerContainer[_ngcontent-%COMP%]{position:fixed;cursor:pointer;border:1px solid var(--colorGrayLightMed);border-radius:1em;padding-top:9px;padding-bottom:7px;z-index:2;transform:translateY(40px);width:90%}.trackName[_ngcontent-%COMP%]{position:fixed;margin-top:1.25px}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:6%;height:23px}.stopped[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:rotationFastReverse .5s infinite linear}@keyframes rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);animation:rotation 3s infinite linear;transition:all .2s}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(-359deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:42%;height:24px;float:right}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\d\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.playIconContainer[_ngcontent-%COMP%]{width:7%}.nextContainer[_ngcontent-%COMP%]{padding-right:2%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 452px) and (max-width: 703px){.playerContainer[_ngcontent-%COMP%]{margin:5px 0%}.playIconContainer[_ngcontent-%COMP%]{width:6%}.nextContainer[_ngcontent-%COMP%]{padding-right:3%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 704px) and (max-width: 1053px){.playerContainer[_ngcontent-%COMP%]{margin:10px 5%;width:80%}.playIconContainer[_ngcontent-%COMP%]{width:5%}.nextContainer[_ngcontent-%COMP%]{padding-right:4%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.playerContainer[_ngcontent-%COMP%]{margin:15px 10%;width:70%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.playerContainer[_ngcontent-%COMP%]{margin:20px 15%;width:60%}}@media screen and (min-width: 2001px){.playerContainer[_ngcontent-%COMP%]{margin:25px 20%;width:50%}}']}),n})();function RH(n,t){1&n&&(c(0,"div"),c(1,"label"),l(2,"Has to be a valid email address"),d(),d())}function LH(n,t){if(1&n&&(c(0,"div",21),Ce(1,RH,3,0,"div",18),d()),2&n){const e=De(3);b(1),S("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.pattern)}}function NH(n,t){if(1&n&&(c(0,"div"),c(1,"label"),l(2,"* Your Email:"),d(),p(3,"br"),p(4,"input",17),Ce(5,LH,2,1,"div",20),p(6,"br"),p(7,"br"),d()),2&n){const e=De(2);b(4),Ht("placeholder",e.placeholderEmail),Ht("formControlName",e.emailName),Ht("name",e.emailName),b(1),S("ngIf",e.emailControl.invalid)}}function FH(n,t){if(1&n){const e=Ts();c(0,"div",13),c(1,"form",14),p(2,"input",15),c(3,"label"),l(4),d(),p(5,"br"),p(6,"textarea",16),p(7,"br"),p(8,"br"),c(9,"label"),l(10,"* Your Name / Handle:"),d(),p(11,"br"),p(12,"input",17),p(13,"br"),p(14,"br"),Ce(15,NH,8,4,"div",18),c(16,"button",19),Ve("click",function(){return bs(e),De().onSendClick()}),l(17,"Send"),d(),d(),d()}if(2&n){const e=De();b(1),Ht("name",e.formName),S("formGroup",e.messageForm),b(1),Ht("value",e.formName),b(2),Qe(e.messageLabel),b(2),Ht("placeholder",e.placeholderText),Ht("formControlName",e.messageName),Ht("name",e.messageName),S("maxlength",300),b(6),Ht("placeholder",e.placeholderHandle),Ht("formControlName",e.handleName),Ht("name",e.handleName),b(3),S("ngIf","/home"===e.urlEnd),b(1),S("disabled",e.messageForm.invalid)}}let VH=(()=>{class n{constructor(e,i,s,r){this.fb=e,this.http=i,this.router=s,this.logService=r,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* your comment will pend for moderation\n* this Comment-form will become hidden\nAfter approval I will publish your comment,\nI might also include a short response.",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(Bn(o=>o instanceof sr)).subscribe(o=>{this.showCommentForm=!0,this.urlEnd=o.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(Rs.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(Rs.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[Rs.required]],[this.handleName]:["",[Rs.required]],[this.emailName]:["",[Rs.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}onSendClick(){let e=(new us).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);e=e.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",e),this.http.post("/",e.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(i=>{this.logService.log("Info","result handler:",i),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},i=>{this.showCommentForm=!1,i instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",i.error),this.headerText="Something went wrong with sending"):200===i.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",i.status),this.logService.log("Error","Error body:",i.error))}),this.messageForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(D(WC),D(Mp),D(_n),D(Xa))},n.\u0275cmp=bt({type:n,selectors:[["app-root"]],decls:29,vars:2,consts:[[1,"headerContainer"],[1,"headerBackground"],[1,"noSelect"],["routerLink","/home","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],["routerLink","/lifting","routerLinkActive","active"],[1,"footer"],[1,"horizontalLine"],["class","messageForm",4,"ngIf"],[1,"tribute"],["href","https://icons8.com/icon/102034/mute"],["href","https://icons8.com/icon/108731/sound"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(e,i){1&e&&(c(0,"div",0),p(1,"div",1),c(2,"nav",2),c(3,"li"),c(4,"a",3),l(5,"Home"),d(),d(),c(6,"li"),c(7,"a",4),l(8,"Music"),d(),d(),c(9,"li"),c(10,"a",5),l(11,"Blog"),d(),d(),c(12,"li"),c(13,"a",6),l(14,"Lifting"),d(),d(),d(),p(15,"app-music-player"),d(),p(16,"router-outlet"),c(17,"div",7),p(18,"div",8),c(19,"h2"),l(20),d(),Ce(21,FH,18,13,"div",9),c(22,"div",10),c(23,"small"),c(24,"a",11),l(25,"Mute icon by Icons8"),d(),p(26,"br"),c(27,"a",12),l(28,"Sound icon by Icons8"),d(),d(),d(),d()),2&e&&(b(20),Qe(i.headerText),b(1),S("ngIf",i.showCommentForm))},directives:[Yu,BE,xH,ju,Dn,gp,ip,Za,Ga,np,oc,lc],encapsulation:2}),n})(),BH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=zt({type:n,bootstrap:[VH]}),n.\u0275inj=Ft({providers:[{provide:lD,useExisting:LF},{provide:dc,useValue:{coreLibraryLoader:()=>yt.e(112).then(yt.bind(yt,9112)),languages:{typescript:()=>yt.e(852).then(yt.bind(yt,9852))}}}],imports:[[DV,uR,gF,A0,AH,QB,qC,fV]]}),n})();(function $O(){Gb=!1})(),aR().bootstrapModule(BH)},8089:(ci,Tn)=>{"use strict";var qt={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var Tt=!1,K=Object.defineProperty({},"passive",{get:function(){Tt=!0}}),Zt=function(){};window.addEventListener("testPassiveEventSupport",Zt,K),window.removeEventListener("testPassiveEventSupport",Zt,K),qt.hasSupport=Tt}}};qt.update(),Tn.Z=qt},9069:ci=>{"use strict";var qt,Tn="object"==typeof Reflect?Reflect:null,yt=Tn&&"function"==typeof Tn.apply?Tn.apply:function(x,H,F){return Function.prototype.apply.call(x,H,F)};qt=Tn&&"function"==typeof Tn.ownKeys?Tn.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var Tt=Number.isNaN||function(x){return x!=x};function K(){K.init.call(this)}ci.exports=K,ci.exports.once=function _r(L,x){return new Promise(function(H,F){function X(v){L.removeListener(x,ne),F(v)}function ne(){"function"==typeof L.removeListener&&L.removeListener("error",X),H([].slice.call(arguments))}zn(L,x,ne,{once:!0}),"error"!==x&&function zi(L,x,H){"function"==typeof L.on&&zn(L,"error",x,H)}(L,X,{once:!0})})},K.EventEmitter=K,K.prototype._events=void 0,K.prototype._eventsCount=0,K.prototype._maxListeners=void 0;var Zt=10;function tn(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function di(L){return void 0===L._maxListeners?K.defaultMaxListeners:L._maxListeners}function Ro(L,x,H,F){var X,ne,v;if(tn(H),void 0===(ne=L._events)?(ne=L._events=Object.create(null),L._eventsCount=0):(void 0!==ne.newListener&&(L.emit("newListener",x,H.listener?H.listener:H),ne=L._events),v=ne[x]),void 0===v)v=ne[x]=H,++L._eventsCount;else if("function"==typeof v?v=ne[x]=F?[H,v]:[v,H]:F?v.unshift(H):v.push(H),(X=di(L))>0&&v.length>X&&!v.warned){v.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=L,w.type=x,w.count=v.length,function Si(L){console&&console.warn&&console.warn(L)}(w)}return L}function ue(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Re(L,x,H){var F={fired:!1,wrapFn:void 0,target:L,type:x,listener:H},X=ue.bind(F);return X.listener=H,F.wrapFn=X,X}function un(L,x,H){var F=L._events;if(void 0===F)return[];var X=F[x];return void 0===X?[]:"function"==typeof X?H?[X.listener||X]:[X]:H?function Wi(L){for(var x=new Array(L.length),H=0;H<x.length;++H)x[H]=L[H].listener||L[H];return x}(X):ps(X,X.length)}function Wn(L){var x=this._events;if(void 0!==x){var H=x[L];if("function"==typeof H)return 1;if(void 0!==H)return H.length}return 0}function ps(L,x){for(var H=new Array(x),F=0;F<x;++F)H[F]=L[F];return H}function zn(L,x,H,F){if("function"==typeof L.on)F.once?L.once(x,H):L.on(x,H);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(x,function X(ne){F.once&&L.removeEventListener(x,X),H(ne)})}}Object.defineProperty(K,"defaultMaxListeners",{enumerable:!0,get:function(){return Zt},set:function(L){if("number"!=typeof L||L<0||Tt(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");Zt=L}}),K.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},K.prototype.setMaxListeners=function(x){if("number"!=typeof x||x<0||Tt(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},K.prototype.getMaxListeners=function(){return di(this)},K.prototype.emit=function(x){for(var H=[],F=1;F<arguments.length;F++)H.push(arguments[F]);var X="error"===x,ne=this._events;if(void 0!==ne)X=X&&void 0===ne.error;else if(!X)return!1;if(X){var v;if(H.length>0&&(v=H[0]),v instanceof Error)throw v;var w=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw w.context=v,w}var P=ne[x];if(void 0===P)return!1;if("function"==typeof P)yt(P,this,H);else{var V=P.length,Q=ps(P,V);for(F=0;F<V;++F)yt(Q[F],this,H)}return!0},K.prototype.on=K.prototype.addListener=function(x,H){return Ro(this,x,H,!1)},K.prototype.prependListener=function(x,H){return Ro(this,x,H,!0)},K.prototype.once=function(x,H){return tn(H),this.on(x,Re(this,x,H)),this},K.prototype.prependOnceListener=function(x,H){return tn(H),this.prependListener(x,Re(this,x,H)),this},K.prototype.off=K.prototype.removeListener=function(x,H){var F,X,ne,v,w;if(tn(H),void 0===(X=this._events))return this;if(void 0===(F=X[x]))return this;if(F===H||F.listener===H)0==--this._eventsCount?this._events=Object.create(null):(delete X[x],X.removeListener&&this.emit("removeListener",x,F.listener||H));else if("function"!=typeof F){for(ne=-1,v=F.length-1;v>=0;v--)if(F[v]===H||F[v].listener===H){w=F[v].listener,ne=v;break}if(ne<0)return this;0===ne?F.shift():function ke(L,x){for(;x+1<L.length;x++)L[x]=L[x+1];L.pop()}(F,ne),1===F.length&&(X[x]=F[0]),void 0!==X.removeListener&&this.emit("removeListener",x,w||H)}return this},K.prototype.removeAllListeners=function(x){var H,F,X;if(void 0===(F=this._events))return this;if(void 0===F.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==F[x]&&(0==--this._eventsCount?this._events=Object.create(null):delete F[x]),this;if(0===arguments.length){var v,ne=Object.keys(F);for(X=0;X<ne.length;++X)"removeListener"!==(v=ne[X])&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(H=F[x]))this.removeListener(x,H);else if(void 0!==H)for(X=H.length-1;X>=0;X--)this.removeListener(x,H[X]);return this},K.prototype.listeners=function(x){return un(this,x,!0)},K.prototype.rawListeners=function(x){return un(this,x,!1)},K.listenerCount=function(L,x){return"function"==typeof L.listenerCount?L.listenerCount(x):Wn.call(L,x)},K.prototype.listenerCount=Wn,K.prototype.eventNames=function(){return this._eventsCount>0?qt(this._events):[]}},3028:function(ci,Tn){var yt,Si;yt=function Tt(){"use strict";var K="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==K?K:{},Zt=!K.document&&!!K.postMessage,tn=Zt&&/blob:/i.test((K.location||{}).protocol),di={},Ro=0,ue={parse:function(v,w){var P=(w=w||{}).dynamicTyping||!1;if(ne(P)&&(w.dynamicTypingFunction=P,P={}),w.dynamicTyping=P,w.transform=!!ne(w.transform)&&w.transform,w.worker&&ue.WORKERS_SUPPORTED){var V=function(){if(!ue.WORKERS_SUPPORTED)return!1;var Rt,nt,fe=(Rt=K.URL||K.webkitURL||null,nt=Tt.toString(),ue.BLOB_URL||(ue.BLOB_URL=Rt.createObjectURL(new Blob(["(",nt,")();"],{type:"text/javascript"})))),B=new K.Worker(fe);return B.onmessage=L,B.id=Ro++,di[B.id]=B}();return V.userStep=w.step,V.userChunk=w.chunk,V.userComplete=w.complete,V.userError=w.error,w.step=ne(w.step),w.chunk=ne(w.chunk),w.complete=ne(w.complete),w.error=ne(w.error),delete w.worker,void V.postMessage({input:v,config:w,workerId:V.id})}var Q=null;return"string"==typeof v?Q=w.download?new Wn(w):new ke(w):!0===v.readable&&ne(v.read)&&ne(v.on)?Q=new Wi(w):(K.File&&v instanceof File||v instanceof Object)&&(Q=new ps(w)),Q.stream(v)},unparse:function(v,w){var P=!1,V=!0,Q=",",fe="\r\n",B='"',Rt=B+B,nt=!1,J=null,ft=!1;!function(){if("object"==typeof w){if("string"!=typeof w.delimiter||ue.BAD_DELIMITERS.filter(function(W){return-1!==w.delimiter.indexOf(W)}).length||(Q=w.delimiter),("boolean"==typeof w.quotes||"function"==typeof w.quotes||Array.isArray(w.quotes))&&(P=w.quotes),"boolean"!=typeof w.skipEmptyLines&&"string"!=typeof w.skipEmptyLines||(nt=w.skipEmptyLines),"string"==typeof w.newline&&(fe=w.newline),"string"==typeof w.quoteChar&&(B=w.quoteChar),"boolean"==typeof w.header&&(V=w.header),Array.isArray(w.columns)){if(0===w.columns.length)throw new Error("Option columns is empty");J=w.columns}void 0!==w.escapeChar&&(Rt=w.escapeChar+B),"boolean"==typeof w.escapeFormulae&&(ft=w.escapeFormulae)}}();var ce=new RegExp(zi(B),"g");if("string"==typeof v&&(v=JSON.parse(v)),Array.isArray(v)){if(!v.length||Array.isArray(v[0]))return Lt(null,v,nt);if("object"==typeof v[0])return Lt(J||Object.keys(v[0]),v,nt)}else if("object"==typeof v)return"string"==typeof v.data&&(v.data=JSON.parse(v.data)),Array.isArray(v.data)&&(v.fields||(v.fields=v.meta&&v.meta.fields),v.fields||(v.fields=Array.isArray(v.data[0])?v.fields:"object"==typeof v.data[0]?Object.keys(v.data[0]):[]),Array.isArray(v.data[0])||"object"==typeof v.data[0]||(v.data=[v.data])),Lt(v.fields||[],v.data||[],nt);throw new Error("Unable to serialize unrecognized input");function Lt(W,Ze,rt){var Nt="";"string"==typeof W&&(W=JSON.parse(W)),"string"==typeof Ze&&(Ze=JSON.parse(Ze));var _t=Array.isArray(W)&&0<W.length,Mt=!Array.isArray(Ze[0]);if(_t&&V){for(var St=0;St<W.length;St++)0<St&&(Nt+=Q),Nt+=Jt(W[St],St);0<Ze.length&&(Nt+=fe)}for(var se=0;se<Ze.length;se++){var Fe=_t?W.length:Ze[se].length,We=!1,Je=_t?0===Object.keys(Ze[se]).length:0===Ze[se].length;if(rt&&!_t&&(We="greedy"===rt?""===Ze[se].join("").trim():1===Ze[se].length&&0===Ze[se][0].length),"greedy"===rt&&_t){for(var Le=[],ee=0;ee<Fe;ee++)Le.push(Ze[se][Mt?W[ee]:ee]);We=""===Le.join("").trim()}if(!We){for(var de=0;de<Fe;de++)0<de&&!Je&&(Nt+=Q),Nt+=Jt(Ze[se][_t&&Mt?W[de]:de],de);se<Ze.length-1&&(!rt||0<Fe&&!Je)&&(Nt+=fe)}}return Nt}function Jt(W,Ze){if(null==W)return"";if(W.constructor===Date)return JSON.stringify(W).slice(1,25);!0===ft&&"string"==typeof W&&null!==W.match(/^[=+\-@].*$/)&&(W="'"+W);var rt=W.toString().replace(ce,Rt);return"boolean"==typeof P&&P||"function"==typeof P&&P(W,Ze)||Array.isArray(P)&&P[Ze]||function(_t,Mt){for(var St=0;St<Mt.length;St++)if(-1<_t.indexOf(Mt[St]))return!0;return!1}(rt,ue.BAD_DELIMITERS)||-1<rt.indexOf(Q)||" "===rt.charAt(0)||" "===rt.charAt(rt.length-1)?B+rt+B:rt}}};if(ue.RECORD_SEP=String.fromCharCode(30),ue.UNIT_SEP=String.fromCharCode(31),ue.BYTE_ORDER_MARK="\ufeff",ue.BAD_DELIMITERS=["\r","\n",'"',ue.BYTE_ORDER_MARK],ue.WORKERS_SUPPORTED=!Zt&&!!K.Worker,ue.NODE_STREAM_INPUT=1,ue.LocalChunkSize=10485760,ue.RemoteChunkSize=5242880,ue.DefaultDelimiter=",",ue.Parser=zn,ue.ParserHandle=_r,ue.NetworkStreamer=Wn,ue.FileStreamer=ps,ue.StringStreamer=ke,ue.ReadableStreamStreamer=Wi,K.jQuery){var Re=K.jQuery;Re.fn.parse=function(v){var w=v.config||{},P=[];return this.each(function(fe){if("INPUT"!==Re(this).prop("tagName").toUpperCase()||"file"!==Re(this).attr("type").toLowerCase()||!K.FileReader||!this.files||0===this.files.length)return!0;for(var B=0;B<this.files.length;B++)P.push({file:this.files[B],inputElem:this,instanceConfig:Re.extend({},w)})}),V(),this;function V(){if(0!==P.length){var B,Rt,nt,J=P[0];if(ne(v.before)){var ft=v.before(J.file,J.inputElem);if("object"==typeof ft){if("abort"===ft.action)return"AbortError",B=J.file,Rt=J.inputElem,nt=ft.reason,void(ne(v.error)&&v.error({name:"AbortError"},B,Rt,nt));if("skip"===ft.action)return void Q();"object"==typeof ft.config&&(J.instanceConfig=Re.extend(J.instanceConfig,ft.config))}else if("skip"===ft)return void Q()}var ce=J.instanceConfig.complete;J.instanceConfig.complete=function(Lt){ne(ce)&&ce(Lt,J.file,J.inputElem),Q()},ue.parse(J.file,J.instanceConfig)}else ne(v.complete)&&v.complete()}function Q(){P.splice(0,1),V()}}}function un(v){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(w){var P=F(w);P.chunkSize=parseInt(P.chunkSize),w.step||w.chunk||(P.chunkSize=null),this._handle=new _r(P),(this._handle.streamer=this)._config=P}.call(this,v),this.parseChunk=function(w,P){if(this.isFirstChunk&&ne(this._config.beforeFirstChunk)){var V=this._config.beforeFirstChunk(w);void 0!==V&&(w=V)}this.isFirstChunk=!1,this._halted=!1;var Q=this._partialLine+w;this._partialLine="";var fe=this._handle.parse(Q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var B=fe.meta.cursor;this._finished||(this._partialLine=Q.substring(B-this._baseIndex),this._baseIndex=B),fe&&fe.data&&(this._rowCount+=fe.data.length);var Rt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(tn)K.postMessage({results:fe,workerId:ue.WORKER_ID,finished:Rt});else if(ne(this._config.chunk)&&!P){if(this._config.chunk(fe,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);fe=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(fe.data),this._completeResults.errors=this._completeResults.errors.concat(fe.errors),this._completeResults.meta=fe.meta),this._completed||!Rt||!ne(this._config.complete)||fe&&fe.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Rt||fe&&fe.meta.paused||this._nextChunk(),fe}this._halted=!0},this._sendError=function(w){ne(this._config.error)?this._config.error(w):tn&&this._config.error&&K.postMessage({workerId:ue.WORKER_ID,error:w,finished:!1})}}function Wn(v){var w;(v=v||{}).chunkSize||(v.chunkSize=ue.RemoteChunkSize),un.call(this,v),this._nextChunk=Zt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(w=new XMLHttpRequest,this._config.withCredentials&&(w.withCredentials=this._config.withCredentials),Zt||(w.onload=X(this._chunkLoaded,this),w.onerror=X(this._chunkError,this)),w.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Zt),this._config.downloadRequestHeaders){var P=this._config.downloadRequestHeaders;for(var V in P)w.setRequestHeader(V,P[V])}this._config.chunkSize&&w.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{w.send(this._config.downloadRequestBody)}catch(fe){this._chunkError(fe.message)}Zt&&0===w.status&&this._chunkError()}},this._chunkLoaded=function(){var V;4===w.readyState&&(w.status<200||400<=w.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:w.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(V=w.getResponseHeader("Content-Range"))?-1:parseInt(V.substring(V.lastIndexOf("/")+1))),this.parseChunk(w.responseText)))},this._chunkError=function(P){this._sendError(new Error(w.statusText||P))}}function ps(v){var w,P;(v=v||{}).chunkSize||(v.chunkSize=ue.LocalChunkSize),un.call(this,v);var V="undefined"!=typeof FileReader;this.stream=function(Q){this._input=Q,P=Q.slice||Q.webkitSlice||Q.mozSlice,V?((w=new FileReader).onload=X(this._chunkLoaded,this),w.onerror=X(this._chunkError,this)):w=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Q=this._input;if(this._config.chunkSize){var fe=Math.min(this._start+this._config.chunkSize,this._input.size);Q=P.call(Q,this._start,fe)}var B=w.readAsText(Q,this._config.encoding);V||this._chunkLoaded({target:{result:B}})},this._chunkLoaded=function(Q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Q.target.result)},this._chunkError=function(){this._sendError(w.error)}}function ke(v){var w;un.call(this,v=v||{}),this.stream=function(P){return w=P,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var P,V=this._config.chunkSize;return V?(P=w.substring(0,V),w=w.substring(V)):(P=w,w=""),this._finished=!w,this.parseChunk(P)}}}function Wi(v){un.call(this,v=v||{});var w=[],P=!0,V=!1;this.pause=function(){un.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){un.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Q){this._input=Q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&1===w.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),w.length?this.parseChunk(w.shift()):P=!0},this._streamData=X(function(Q){try{w.push("string"==typeof Q?Q:Q.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(w.shift()))}catch(fe){this._streamError(fe)}},this),this._streamError=X(function(Q){this._streamCleanUp(),this._sendError(Q)},this),this._streamEnd=X(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function _r(v){var w,P,V,Q=Math.pow(2,53),fe=-Q,B=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Rt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,nt=this,J=0,ft=0,ce=!1,Lt=!1,Jt=[],W={data:[],errors:[],meta:{}};if(ne(v.step)){var Ze=v.step;v.step=function(se){if(W=se,_t())Nt();else{if(Nt(),0===W.data.length)return;J+=se.data.length,v.preview&&J>v.preview?P.abort():(W.data=W.data[0],Ze(W,nt))}}}function rt(se){return"greedy"===v.skipEmptyLines?""===se.join("").trim():1===se.length&&0===se[0].length}function Nt(){if(W&&V&&(St("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ue.DefaultDelimiter+"'"),V=!1),v.skipEmptyLines)for(var se=0;se<W.data.length;se++)rt(W.data[se])&&W.data.splice(se--,1);return _t()&&function(){if(W)if(Array.isArray(W.data[0])){for(var We=0;_t()&&We<W.data.length;We++)W.data[We].forEach(Fe);W.data.splice(0,1)}else W.data.forEach(Fe);function Fe(Je,Le){ne(v.transformHeader)&&(Je=v.transformHeader(Je,Le)),Jt.push(Je)}}(),function(){if(!W||!v.header&&!v.dynamicTyping&&!v.transform)return W;function Fe(Je,Le){var ee,Xe=v.header?{}:[];for(ee=0;ee<Je.length;ee++){var de=ee,vt=Je[ee];v.header&&(de=ee>=Jt.length?"__parsed_extra":Jt[ee]),v.transform&&(vt=v.transform(vt,de)),vt=Mt(de,vt),"__parsed_extra"===de?(Xe[de]=Xe[de]||[],Xe[de].push(vt)):Xe[de]=vt}return v.header&&(ee>Jt.length?St("FieldMismatch","TooManyFields","Too many fields: expected "+Jt.length+" fields but parsed "+ee,ft+Le):ee<Jt.length&&St("FieldMismatch","TooFewFields","Too few fields: expected "+Jt.length+" fields but parsed "+ee,ft+Le)),Xe}var We=1;return!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(Fe),We=W.data.length):W.data=Fe(W.data,0),v.header&&W.meta&&(W.meta.fields=Jt),ft+=We,W}()}function _t(){return v.header&&0===Jt.length}function Mt(se,Fe){return We=se,v.dynamicTypingFunction&&void 0===v.dynamicTyping[We]&&(v.dynamicTyping[We]=v.dynamicTypingFunction(We)),!0===(v.dynamicTyping[We]||v.dynamicTyping)?"true"===Fe||"TRUE"===Fe||"false"!==Fe&&"FALSE"!==Fe&&(function(Je){if(B.test(Je)){var Le=parseFloat(Je);if(fe<Le&&Le<Q)return!0}return!1}(Fe)?parseFloat(Fe):Rt.test(Fe)?new Date(Fe):""===Fe?null:Fe):Fe;var We}function St(se,Fe,We,Je){var Le={type:se,code:Fe,message:We};void 0!==Je&&(Le.row=Je),W.errors.push(Le)}this.parse=function(se,Fe,We){if(v.newline||(v.newline=function(Xe,de){Xe=Xe.substring(0,1048576);var vt=new RegExp(zi(de)+"([^]*?)"+zi(de),"gm"),Kn=(Xe=Xe.replace(vt,"")).split("\r"),Wt=Xe.split("\n");if(1===Kn.length||1<Wt.length&&Wt[0].length<Kn[0].length)return"\n";for(var Qn=0,bn=0;bn<Kn.length;bn++)"\n"===Kn[bn][0]&&Qn++;return Qn>=Kn.length/2?"\r\n":"\r"}(se,v.quoteChar||'"')),V=!1,v.delimiter)ne(v.delimiter)&&(v.delimiter=v.delimiter(se),W.meta.delimiter=v.delimiter);else{var Le=function(Xe,de,vt,Kn,Wt){var ze,Qn,bn,Xt;Wt=Wt||[",","\t","|",";",ue.RECORD_SEP,ue.UNIT_SEP];for(var wn=0;wn<Wt.length;wn++){var At=Wt[wn],gs=0,Mn=0,cl=0;bn=void 0;for(var Us=new zn({comments:Kn,delimiter:At,newline:de,preview:10}).parse(Xe),js=0;js<Us.data.length;js++)if(vt&&rt(Us.data[js]))cl++;else{var $s=Us.data[js].length;Mn+=$s,void 0!==bn?0<$s&&(gs+=Math.abs($s-bn),bn=$s):bn=$s}0<Us.data.length&&(Mn/=Us.data.length-cl),(void 0===Qn||gs<=Qn)&&(void 0===Xt||Xt<Mn)&&1.99<Mn&&(Qn=gs,ze=At,Xt=Mn)}return{successful:!!(v.delimiter=ze),bestDelimiter:ze}}(se,v.newline,v.skipEmptyLines,v.comments,v.delimitersToGuess);Le.successful?v.delimiter=Le.bestDelimiter:(V=!0,v.delimiter=ue.DefaultDelimiter),W.meta.delimiter=v.delimiter}var ee=F(v);return v.preview&&v.header&&ee.preview++,w=se,P=new zn(ee),W=P.parse(w,Fe,We),Nt(),ce?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return ce},this.pause=function(){ce=!0,P.abort(),w=ne(v.chunk)?"":w.substring(P.getCharIndex())},this.resume=function(){nt.streamer._halted?(ce=!1,nt.streamer.parseChunk(w,!0)):setTimeout(nt.resume,3)},this.aborted=function(){return Lt},this.abort=function(){Lt=!0,P.abort(),W.meta.aborted=!0,ne(v.complete)&&v.complete(W),w=""}}function zi(v){return v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function zn(v){var w,P=(v=v||{}).delimiter,V=v.newline,Q=v.comments,fe=v.step,B=v.preview,Rt=v.fastMode,nt=w=void 0===v.quoteChar?'"':v.quoteChar;if(void 0!==v.escapeChar&&(nt=v.escapeChar),("string"!=typeof P||-1<ue.BAD_DELIMITERS.indexOf(P))&&(P=","),Q===P)throw new Error("Comment character same as delimiter");!0===Q?Q="#":("string"!=typeof Q||-1<ue.BAD_DELIMITERS.indexOf(Q))&&(Q=!1),"\n"!==V&&"\r"!==V&&"\r\n"!==V&&(V="\n");var J=0,ft=!1;this.parse=function(ce,Lt,Jt){if("string"!=typeof ce)throw new Error("Input must be a string");var W=ce.length,Ze=P.length,rt=V.length,Nt=Q.length,_t=ne(fe),Mt=[],St=[],se=[],Fe=J=0;if(!ce)return Xt();if(Rt||!1!==Rt&&-1===ce.indexOf(w)){for(var We=ce.split(V),Je=0;Je<We.length;Je++){if(J+=(se=We[Je]).length,Je!==We.length-1)J+=V.length;else if(Jt)return Xt();if(!Q||se.substring(0,Nt)!==Q){if(_t){if(Mt=[],Wt(se.split(P)),wn(),ft)return Xt()}else Wt(se.split(P));if(B&&B<=Je)return Mt=Mt.slice(0,B),Xt(!0)}}return Xt()}for(var Le=ce.indexOf(P,J),ee=ce.indexOf(V,J),Xe=new RegExp(zi(nt)+zi(w),"g"),de=ce.indexOf(w,J);;)if(ce[J]!==w)if(Q&&0===se.length&&ce.substring(J,J+Nt)===Q){if(-1===ee)return Xt();ee=ce.indexOf(V,J=ee+rt),Le=ce.indexOf(P,J)}else if(-1!==Le&&(Le<ee||-1===ee))se.push(ce.substring(J,Le)),Le=ce.indexOf(P,J=Le+Ze);else{if(-1===ee)break;if(se.push(ce.substring(J,ee)),bn(ee+rt),_t&&(wn(),ft))return Xt();if(B&&Mt.length>=B)return Xt(!0)}else for(de=J,J++;;){if(-1===(de=ce.indexOf(w,de+1)))return Jt||St.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Mt.length,index:J}),Qn();if(de===W-1)return Qn(ce.substring(J,de).replace(Xe,w));if(w!==nt||ce[de+1]!==nt){if(w===nt||0===de||ce[de-1]!==nt){-1!==Le&&Le<de+1&&(Le=ce.indexOf(P,de+1)),-1!==ee&&ee<de+1&&(ee=ce.indexOf(V,de+1));var vt=ze(-1===ee?Le:Math.min(Le,ee));if(ce[de+1+vt]===P){se.push(ce.substring(J,de).replace(Xe,w)),ce[J=de+1+vt+Ze]!==w&&(de=ce.indexOf(w,J)),Le=ce.indexOf(P,J),ee=ce.indexOf(V,J);break}var Kn=ze(ee);if(ce.substring(de+1+Kn,de+1+Kn+rt)===V){if(se.push(ce.substring(J,de).replace(Xe,w)),bn(de+1+Kn+rt),Le=ce.indexOf(P,J),de=ce.indexOf(w,J),_t&&(wn(),ft))return Xt();if(B&&Mt.length>=B)return Xt(!0);break}St.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Mt.length,index:J}),de++}}else de++}return Qn();function Wt(At){Mt.push(At),Fe=J}function ze(At){var gs=0;if(-1!==At){var Mn=ce.substring(de+1,At);Mn&&""===Mn.trim()&&(gs=Mn.length)}return gs}function Qn(At){return Jt||(void 0===At&&(At=ce.substring(J)),se.push(At),J=W,Wt(se),_t&&wn()),Xt()}function bn(At){J=At,Wt(se),se=[],ee=ce.indexOf(V,J)}function Xt(At){return{data:Mt,errors:St,meta:{delimiter:P,linebreak:V,aborted:ft,truncated:!!At,cursor:Fe+(Lt||0)}}}function wn(){fe(Xt()),Mt=[],St=[]}},this.abort=function(){ft=!0},this.getCharIndex=function(){return J}}function L(v){var w=v.data,P=di[w.workerId],V=!1;if(w.error)P.userError(w.error,w.file);else if(w.results&&w.results.data){var Q={abort:function(){V=!0,x(w.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(ne(P.userStep)){for(var fe=0;fe<w.results.data.length&&(P.userStep({data:w.results.data[fe],errors:w.results.errors,meta:w.results.meta},Q),!V);fe++);delete w.results}else ne(P.userChunk)&&(P.userChunk(w.results,Q,w.file),delete w.results)}w.finished&&!V&&x(w.workerId,w.results)}function x(v,w){var P=di[v];ne(P.userComplete)&&P.userComplete(w),P.terminate(),delete di[v]}function H(){throw new Error("Not implemented.")}function F(v){if("object"!=typeof v||null===v)return v;var w=Array.isArray(v)?[]:{};for(var P in v)w[P]=F(v[P]);return w}function X(v,w){return function(){v.apply(w,arguments)}}function ne(v){return"function"==typeof v}return tn&&(K.onmessage=function(v){var w=v.data;if(void 0===ue.WORKER_ID&&w&&(ue.WORKER_ID=w.workerId),"string"==typeof w.input)K.postMessage({workerId:ue.WORKER_ID,results:ue.parse(w.input,w.config),finished:!0});else if(K.File&&w.input instanceof File||w.input instanceof Object){var P=ue.parse(w.input,w.config);P&&K.postMessage({workerId:ue.WORKER_ID,results:P,finished:!0})}}),(Wn.prototype=Object.create(un.prototype)).constructor=Wn,(ps.prototype=Object.create(un.prototype)).constructor=ps,(ke.prototype=Object.create(ke.prototype)).constructor=ke,(Wi.prototype=Object.create(un.prototype)).constructor=Wi,ue},void 0!==(Si=yt.apply(Tn,[]))&&(ci.exports=Si)},305:ci=>{"use strict";ci.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis (dinosaur)"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus (dinosaur)"},{"kg":75900,"name":"Notocolossus gonzalezparejasi (dinosaur)"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum (dinosaur)"},{"kg":72600,"name":"Apatosaurus ajax (dinosaur)"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum (dinosaur)"},{"kg":60000,"name":"Sauroposeidon proteles (dinosaur)"},{"kg":59300,"name":"Dreadnoughtus schrani (dinosaur)"},{"kg":59000,"name":"Paralititan stromeri (dinosaur)"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus (dinosaur)"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex (dinosaur)"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus (dinosaur)"},{"kg":13800,"name":"Giganotosaurus carolinii (dinosaur)"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis (dinosaur)"},{"kg":7000,"name":"Oxalaia quilombensis (dinosaur)"},{"kg":6999,"name":"Tyrannotitan chubutensis (dinosaur)"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus (dinosaur)"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis (dinosaur)"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis (dinosaur)"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"African hedgehog"}]')}},ci=>{ci(ci.s=9461)}]);