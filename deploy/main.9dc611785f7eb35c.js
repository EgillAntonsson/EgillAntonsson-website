(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{6202:(Dn,Qt)=>{"use strict";var We={update:function(){if(typeof window<"u"&&"function"==typeof window.addEventListener){var Ze=!1,te=Object.defineProperty({},"passive",{get:function(){Ze=!0}}),ct=function(){};window.addEventListener("testPassiveEventSupport",ct,te),window.removeEventListener("testPassiveEventSupport",ct,te),We.hasSupport=Ze}}};We.update(),Qt.Z=We},3105:Dn=>{"use strict";var We,Qt="object"==typeof Reflect?Reflect:null,je=Qt&&"function"==typeof Qt.apply?Qt.apply:function(j,J,q){return Function.prototype.apply.call(j,J,q)};We=Qt&&"function"==typeof Qt.ownKeys?Qt.ownKeys:Object.getOwnPropertySymbols?function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:function(j){return Object.getOwnPropertyNames(j)};var Ze=Number.isNaN||function(j){return j!=j};function te(){te.init.call(this)}Dn.exports=te,Dn.exports.once=function xi(W,j){return new Promise(function(J,q){function le(C){W.removeListener(j,de),q(C)}function de(){"function"==typeof W.removeListener&&W.removeListener("error",le),J([].slice.call(arguments))}yn(W,j,de,{once:!0}),"error"!==j&&function an(W,j,J){"function"==typeof W.on&&yn(W,"error",j,J)}(W,le,{once:!0})})},te.EventEmitter=te,te.prototype._events=void 0,te.prototype._eventsCount=0,te.prototype._maxListeners=void 0;var ct=10;function Ke(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function zt(W){return void 0===W._maxListeners?te.defaultMaxListeners:W._maxListeners}function yi(W,j,J,q){var le,de,C;if(Ke(J),void 0===(de=W._events)?(de=W._events=Object.create(null),W._eventsCount=0):(void 0!==de.newListener&&(W.emit("newListener",j,J.listener?J.listener:J),de=W._events),C=de[j]),void 0===C)C=de[j]=J,++W._eventsCount;else if("function"==typeof C?C=de[j]=q?[J,C]:[C,J]:q?C.unshift(J):C.push(J),(le=zt(W))>0&&C.length>le&&!C.warned){C.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+C.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=W,M.type=j,M.count=C.length,function Oe(W){console&&console.warn&&console.warn(W)}(M)}return W}function x(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(W,j,J){var q={fired:!1,wrapFn:void 0,target:W,type:j,listener:J},le=x.bind(q);return le.listener=J,q.wrapFn=le,le}function ae(W,j,J){var q=W._events;if(void 0===q)return[];var le=q[j];return void 0===le?[]:"function"==typeof le?J?[le.listener||le]:[le]:J?function En(W){for(var j=new Array(W.length),J=0;J<j.length;++J)j[J]=W[J].listener||W[J];return j}(le):Wt(le,le.length)}function Le(W){var j=this._events;if(void 0!==j){var J=j[W];if("function"==typeof J)return 1;if(void 0!==J)return J.length}return 0}function Wt(W,j){for(var J=new Array(j),q=0;q<j;++q)J[q]=W[q];return J}function yn(W,j,J,q){if("function"==typeof W.on)q.once?W.once(j,J):W.on(j,J);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(j,function le(de){q.once&&W.removeEventListener(j,le),J(de)})}}Object.defineProperty(te,"defaultMaxListeners",{enumerable:!0,get:function(){return ct},set:function(W){if("number"!=typeof W||W<0||Ze(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");ct=W}}),te.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},te.prototype.setMaxListeners=function(j){if("number"!=typeof j||j<0||Ze(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this},te.prototype.getMaxListeners=function(){return zt(this)},te.prototype.emit=function(j){for(var J=[],q=1;q<arguments.length;q++)J.push(arguments[q]);var le="error"===j,de=this._events;if(void 0!==de)le=le&&void 0===de.error;else if(!le)return!1;if(le){var C;if(J.length>0&&(C=J[0]),C instanceof Error)throw C;var M=new Error("Unhandled error."+(C?" ("+C.message+")":""));throw M.context=C,M}var B=de[j];if(void 0===B)return!1;if("function"==typeof B)je(B,this,J);else{var K=B.length,ie=Wt(B,K);for(q=0;q<K;++q)je(ie[q],this,J)}return!0},te.prototype.on=te.prototype.addListener=function(j,J){return yi(this,j,J,!1)},te.prototype.prependListener=function(j,J){return yi(this,j,J,!0)},te.prototype.once=function(j,J){return Ke(J),this.on(j,V(this,j,J)),this},te.prototype.prependOnceListener=function(j,J){return Ke(J),this.prependListener(j,V(this,j,J)),this},te.prototype.off=te.prototype.removeListener=function(j,J){var q,le,de,C,M;if(Ke(J),void 0===(le=this._events))return this;if(void 0===(q=le[j]))return this;if(q===J||q.listener===J)0==--this._eventsCount?this._events=Object.create(null):(delete le[j],le.removeListener&&this.emit("removeListener",j,q.listener||J));else if("function"!=typeof q){for(de=-1,C=q.length-1;C>=0;C--)if(q[C]===J||q[C].listener===J){M=q[C].listener,de=C;break}if(de<0)return this;0===de?q.shift():function Me(W,j){for(;j+1<W.length;j++)W[j]=W[j+1];W.pop()}(q,de),1===q.length&&(le[j]=q[0]),void 0!==le.removeListener&&this.emit("removeListener",j,M||J)}return this},te.prototype.removeAllListeners=function(j){var J,q,le;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[j]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[j]),this;if(0===arguments.length){var C,de=Object.keys(q);for(le=0;le<de.length;++le)"removeListener"!==(C=de[le])&&this.removeAllListeners(C);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(J=q[j]))this.removeListener(j,J);else if(void 0!==J)for(le=J.length-1;le>=0;le--)this.removeListener(j,J[le]);return this},te.prototype.listeners=function(j){return ae(this,j,!0)},te.prototype.rawListeners=function(j){return ae(this,j,!1)},te.listenerCount=function(W,j){return"function"==typeof W.listenerCount?W.listenerCount(j):Le.call(W,j)},te.prototype.listenerCount=Le,te.prototype.eventNames=function(){return this._eventsCount>0?We(this._events):[]}},593:function(Dn,Qt){var je,Oe;je=function Ze(){"use strict";var te=typeof self<"u"?self:typeof window<"u"?window:void 0!==te?te:{},ct=!te.document&&!!te.postMessage,Ke=ct&&/blob:/i.test((te.location||{}).protocol),zt={},yi=0,x={parse:function(C,M){var B=(M=M||{}).dynamicTyping||!1;if(de(B)&&(M.dynamicTypingFunction=B,B={}),M.dynamicTyping=B,M.transform=!!de(M.transform)&&M.transform,M.worker&&x.WORKERS_SUPPORTED){var K=function(){if(!x.WORKERS_SUPPORTED)return!1;var Ft,dt,De=(Ft=te.URL||te.webkitURL||null,dt=Ze.toString(),x.BLOB_URL||(x.BLOB_URL=Ft.createObjectURL(new Blob(["(",dt,")();"],{type:"text/javascript"})))),G=new te.Worker(De);return G.onmessage=W,G.id=yi++,zt[G.id]=G}();return K.userStep=M.step,K.userChunk=M.chunk,K.userComplete=M.complete,K.userError=M.error,M.step=de(M.step),M.chunk=de(M.chunk),M.complete=de(M.complete),M.error=de(M.error),delete M.worker,void K.postMessage({input:C,config:M,workerId:K.id})}var ie=null;return"string"==typeof C?ie=M.download?new Le(M):new Me(M):!0===C.readable&&de(C.read)&&de(C.on)?ie=new En(M):(te.File&&C instanceof File||C instanceof Object)&&(ie=new Wt(M)),ie.stream(C)},unparse:function(C,M){var B=!1,K=!0,ie=",",De="\r\n",G='"',Ft=G+G,dt=!1,ue=null,Pt=!1;!function(){if("object"==typeof M){if("string"!=typeof M.delimiter||x.BAD_DELIMITERS.filter(function(P){return-1!==M.delimiter.indexOf(P)}).length||(ie=M.delimiter),("boolean"==typeof M.quotes||"function"==typeof M.quotes||Array.isArray(M.quotes))&&(B=M.quotes),"boolean"!=typeof M.skipEmptyLines&&"string"!=typeof M.skipEmptyLines||(dt=M.skipEmptyLines),"string"==typeof M.newline&&(De=M.newline),"string"==typeof M.quoteChar&&(G=M.quoteChar),"boolean"==typeof M.header&&(K=M.header),Array.isArray(M.columns)){if(0===M.columns.length)throw new Error("Option columns is empty");ue=M.columns}void 0!==M.escapeChar&&(Ft=M.escapeChar+G),"boolean"==typeof M.escapeFormulae&&(Pt=M.escapeFormulae)}}();var I=new RegExp(an(G),"g");if("string"==typeof C&&(C=JSON.parse(C)),Array.isArray(C)){if(!C.length||Array.isArray(C[0]))return U(null,C,dt);if("object"==typeof C[0])return U(ue||Object.keys(C[0]),C,dt)}else if("object"==typeof C)return"string"==typeof C.data&&(C.data=JSON.parse(C.data)),Array.isArray(C.data)&&(C.fields||(C.fields=C.meta&&C.meta.fields),C.fields||(C.fields=Array.isArray(C.data[0])?C.fields:"object"==typeof C.data[0]?Object.keys(C.data[0]):[]),Array.isArray(C.data[0])||"object"==typeof C.data[0]||(C.data=[C.data])),U(C.fields||[],C.data||[],dt);throw new Error("Unable to serialize unrecognized input");function U(P,he,Te){var St="";"string"==typeof P&&(P=JSON.parse(P)),"string"==typeof he&&(he=JSON.parse(he));var wt=Array.isArray(P)&&0<P.length,Vt=!Array.isArray(he[0]);if(wt&&K){for(var Xt=0;Xt<P.length;Xt++)0<Xt&&(St+=ie),St+=Q(P[Xt],Xt);0<he.length&&(St+=De)}for(var be=0;be<he.length;be++){var rt=wt?P.length:he[be].length,Ct=!1,It=wt?0===Object.keys(he[be]).length:0===he[be].length;if(Te&&!wt&&(Ct="greedy"===Te?""===he[be].join("").trim():1===he[be].length&&0===he[be][0].length),"greedy"===Te&&wt){for(var et=[],ce=0;ce<rt;ce++)et.push(he[be][Vt?P[ce]:ce]);Ct=""===et.join("").trim()}if(!Ct){for(var Se=0;Se<rt;Se++)0<Se&&!It&&(St+=ie),St+=Q(he[be][wt&&Vt?P[Se]:Se],Se);be<he.length-1&&(!Te||0<rt&&!It)&&(St+=De)}}return St}function Q(P,he){if(null==P)return"";if(P.constructor===Date)return JSON.stringify(P).slice(1,25);!0===Pt&&"string"==typeof P&&null!==P.match(/^[=+\-@].*$/)&&(P="'"+P);var Te=P.toString().replace(I,Ft);return"boolean"==typeof B&&B||"function"==typeof B&&B(P,he)||Array.isArray(B)&&B[he]||function(wt,Vt){for(var Xt=0;Xt<Vt.length;Xt++)if(-1<wt.indexOf(Vt[Xt]))return!0;return!1}(Te,x.BAD_DELIMITERS)||-1<Te.indexOf(ie)||" "===Te.charAt(0)||" "===Te.charAt(Te.length-1)?G+Te+G:Te}}};if(x.RECORD_SEP=String.fromCharCode(30),x.UNIT_SEP=String.fromCharCode(31),x.BYTE_ORDER_MARK="\ufeff",x.BAD_DELIMITERS=["\r","\n",'"',x.BYTE_ORDER_MARK],x.WORKERS_SUPPORTED=!ct&&!!te.Worker,x.NODE_STREAM_INPUT=1,x.LocalChunkSize=10485760,x.RemoteChunkSize=5242880,x.DefaultDelimiter=",",x.Parser=yn,x.ParserHandle=xi,x.NetworkStreamer=Le,x.FileStreamer=Wt,x.StringStreamer=Me,x.ReadableStreamStreamer=En,te.jQuery){var V=te.jQuery;V.fn.parse=function(C){var M=C.config||{},B=[];return this.each(function(De){if("INPUT"!==V(this).prop("tagName").toUpperCase()||"file"!==V(this).attr("type").toLowerCase()||!te.FileReader||!this.files||0===this.files.length)return!0;for(var G=0;G<this.files.length;G++)B.push({file:this.files[G],inputElem:this,instanceConfig:V.extend({},M)})}),K(),this;function K(){if(0!==B.length){var G,Ft,dt,ue=B[0];if(de(C.before)){var Pt=C.before(ue.file,ue.inputElem);if("object"==typeof Pt){if("abort"===Pt.action)return"AbortError",G=ue.file,Ft=ue.inputElem,dt=Pt.reason,void(de(C.error)&&C.error({name:"AbortError"},G,Ft,dt));if("skip"===Pt.action)return void ie();"object"==typeof Pt.config&&(ue.instanceConfig=V.extend(ue.instanceConfig,Pt.config))}else if("skip"===Pt)return void ie()}var I=ue.instanceConfig.complete;ue.instanceConfig.complete=function(U){de(I)&&I(U,ue.file,ue.inputElem),ie()},x.parse(ue.file,ue.instanceConfig)}else de(C.complete)&&C.complete()}function ie(){B.splice(0,1),K()}}}function ae(C){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(M){var B=q(M);B.chunkSize=parseInt(B.chunkSize),M.step||M.chunk||(B.chunkSize=null),this._handle=new xi(B),(this._handle.streamer=this)._config=B}.call(this,C),this.parseChunk=function(M,B){if(this.isFirstChunk&&de(this._config.beforeFirstChunk)){var K=this._config.beforeFirstChunk(M);void 0!==K&&(M=K)}this.isFirstChunk=!1,this._halted=!1;var ie=this._partialLine+M;this._partialLine="";var De=this._handle.parse(ie,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=De.meta.cursor;this._finished||(this._partialLine=ie.substring(G-this._baseIndex),this._baseIndex=G),De&&De.data&&(this._rowCount+=De.data.length);var Ft=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Ke)te.postMessage({results:De,workerId:x.WORKER_ID,finished:Ft});else if(de(this._config.chunk)&&!B){if(this._config.chunk(De,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);De=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(De.data),this._completeResults.errors=this._completeResults.errors.concat(De.errors),this._completeResults.meta=De.meta),this._completed||!Ft||!de(this._config.complete)||De&&De.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Ft||De&&De.meta.paused||this._nextChunk(),De}this._halted=!0},this._sendError=function(M){de(this._config.error)?this._config.error(M):Ke&&this._config.error&&te.postMessage({workerId:x.WORKER_ID,error:M,finished:!1})}}function Le(C){var M;(C=C||{}).chunkSize||(C.chunkSize=x.RemoteChunkSize),ae.call(this,C),this._nextChunk=ct?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),ct||(M.onload=le(this._chunkLoaded,this),M.onerror=le(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!ct),this._config.downloadRequestHeaders){var B=this._config.downloadRequestHeaders;for(var K in B)M.setRequestHeader(K,B[K])}this._config.chunkSize&&M.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{M.send(this._config.downloadRequestBody)}catch(De){this._chunkError(De.message)}ct&&0===M.status&&this._chunkError()}},this._chunkLoaded=function(){var K;4===M.readyState&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(K=M.getResponseHeader("Content-Range"))?-1:parseInt(K.substring(K.lastIndexOf("/")+1))),this.parseChunk(M.responseText)))},this._chunkError=function(B){this._sendError(new Error(M.statusText||B))}}function Wt(C){var M,B;(C=C||{}).chunkSize||(C.chunkSize=x.LocalChunkSize),ae.call(this,C);var K=typeof FileReader<"u";this.stream=function(ie){this._input=ie,B=ie.slice||ie.webkitSlice||ie.mozSlice,K?((M=new FileReader).onload=le(this._chunkLoaded,this),M.onerror=le(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ie=this._input;if(this._config.chunkSize){var De=Math.min(this._start+this._config.chunkSize,this._input.size);ie=B.call(ie,this._start,De)}var G=M.readAsText(ie,this._config.encoding);K||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(ie){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ie.target.result)},this._chunkError=function(){this._sendError(M.error)}}function Me(C){var M;ae.call(this,C=C||{}),this.stream=function(B){return M=B,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var B,K=this._config.chunkSize;return K?(B=M.substring(0,K),M=M.substring(K)):(B=M,M=""),this._finished=!M,this.parseChunk(B)}}}function En(C){ae.call(this,C=C||{});var M=[],B=!0,K=!1;this.pause=function(){ae.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){ae.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ie){this._input=ie,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){K&&1===M.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):B=!0},this._streamData=le(function(ie){try{M.push("string"==typeof ie?ie:ie.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(De){this._streamError(De)}},this),this._streamError=le(function(ie){this._streamCleanUp(),this._sendError(ie)},this),this._streamEnd=le(function(){this._streamCleanUp(),K=!0,this._streamData("")},this),this._streamCleanUp=le(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function xi(C){var M,B,K,ie=Math.pow(2,53),De=-ie,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ft=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,dt=this,ue=0,Pt=0,I=!1,U=!1,Q=[],P={data:[],errors:[],meta:{}};if(de(C.step)){var he=C.step;C.step=function(be){if(P=be,wt())St();else{if(St(),0===P.data.length)return;ue+=be.data.length,C.preview&&ue>C.preview?B.abort():(P.data=P.data[0],he(P,dt))}}}function Te(be){return"greedy"===C.skipEmptyLines?""===be.join("").trim():1===be.length&&0===be[0].length}function St(){if(P&&K&&(Xt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+x.DefaultDelimiter+"'"),K=!1),C.skipEmptyLines)for(var be=0;be<P.data.length;be++)Te(P.data[be])&&P.data.splice(be--,1);return wt()&&function(){if(P)if(Array.isArray(P.data[0])){for(var Ct=0;wt()&&Ct<P.data.length;Ct++)P.data[Ct].forEach(rt);P.data.splice(0,1)}else P.data.forEach(rt);function rt(It,et){de(C.transformHeader)&&(It=C.transformHeader(It,et)),Q.push(It)}}(),function(){if(!P||!C.header&&!C.dynamicTyping&&!C.transform)return P;function rt(It,et){var ce,At=C.header?{}:[];for(ce=0;ce<It.length;ce++){var Se=ce,qt=It[ce];C.header&&(Se=ce>=Q.length?"__parsed_extra":Q[ce]),C.transform&&(qt=C.transform(qt,Se)),qt=Vt(Se,qt),"__parsed_extra"===Se?(At[Se]=At[Se]||[],At[Se].push(qt)):At[Se]=qt}return C.header&&(ce>Q.length?Xt("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+ce,Pt+et):ce<Q.length&&Xt("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+ce,Pt+et)),At}var Ct=1;return!P.data.length||Array.isArray(P.data[0])?(P.data=P.data.map(rt),Ct=P.data.length):P.data=rt(P.data,0),C.header&&P.meta&&(P.meta.fields=Q),Pt+=Ct,P}()}function wt(){return C.header&&0===Q.length}function Vt(be,rt){return Ct=be,C.dynamicTypingFunction&&void 0===C.dynamicTyping[Ct]&&(C.dynamicTyping[Ct]=C.dynamicTypingFunction(Ct)),!0===(C.dynamicTyping[Ct]||C.dynamicTyping)?"true"===rt||"TRUE"===rt||"false"!==rt&&"FALSE"!==rt&&(function(It){if(G.test(It)){var et=parseFloat(It);if(De<et&&et<ie)return!0}return!1}(rt)?parseFloat(rt):Ft.test(rt)?new Date(rt):""===rt?null:rt):rt;var Ct}function Xt(be,rt,Ct,It){var et={type:be,code:rt,message:Ct};void 0!==It&&(et.row=It),P.errors.push(et)}this.parse=function(be,rt,Ct){if(C.newline||(C.newline=function(At,Se){At=At.substring(0,1048576);var qt=new RegExp(an(Se)+"([^]*?)"+an(Se),"gm"),vi=(At=At.replace(qt,"")).split("\r"),vn=At.split("\n");if(1===vi.length||1<vn.length&&vn[0].length<vi[0].length)return"\n";for(var bi=0,Yn=0;Yn<vi.length;Yn++)"\n"===vi[Yn][0]&&bi++;return bi>=vi.length/2?"\r\n":"\r"}(be,C.quoteChar||'"')),K=!1,C.delimiter)de(C.delimiter)&&(C.delimiter=C.delimiter(be),P.meta.delimiter=C.delimiter);else{var et=function(At,Se,qt,vi,vn){var kt,bi,Yn,Mn;vn=vn||[",","\t","|",";",x.RECORD_SEP,x.UNIT_SEP];for(var Vn=0;Vn<vn.length;Vn++){var en=vn[Vn],Ir=0,Jn=0,lu=0;Yn=void 0;for(var ss=new yn({comments:vi,delimiter:en,newline:Se,preview:10}).parse(At),Ar=0;Ar<ss.data.length;Ar++)if(qt&&Te(ss.data[Ar]))lu++;else{var os=ss.data[Ar].length;Jn+=os,void 0!==Yn?0<os&&(Ir+=Math.abs(os-Yn),Yn=os):Yn=os}0<ss.data.length&&(Jn/=ss.data.length-lu),(void 0===bi||Ir<=bi)&&(void 0===Mn||Mn<Jn)&&1.99<Jn&&(bi=Ir,kt=en,Mn=Jn)}return{successful:!!(C.delimiter=kt),bestDelimiter:kt}}(be,C.newline,C.skipEmptyLines,C.comments,C.delimitersToGuess);et.successful?C.delimiter=et.bestDelimiter:(K=!0,C.delimiter=x.DefaultDelimiter),P.meta.delimiter=C.delimiter}var ce=q(C);return C.preview&&C.header&&ce.preview++,M=be,B=new yn(ce),P=B.parse(M,rt,Ct),St(),I?{meta:{paused:!0}}:P||{meta:{paused:!1}}},this.paused=function(){return I},this.pause=function(){I=!0,B.abort(),M=de(C.chunk)?"":M.substring(B.getCharIndex())},this.resume=function(){dt.streamer._halted?(I=!1,dt.streamer.parseChunk(M,!0)):setTimeout(dt.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,B.abort(),P.meta.aborted=!0,de(C.complete)&&C.complete(P),M=""}}function an(C){return C.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yn(C){var M,B=(C=C||{}).delimiter,K=C.newline,ie=C.comments,De=C.step,G=C.preview,Ft=C.fastMode,dt=M=void 0===C.quoteChar?'"':C.quoteChar;if(void 0!==C.escapeChar&&(dt=C.escapeChar),("string"!=typeof B||-1<x.BAD_DELIMITERS.indexOf(B))&&(B=","),ie===B)throw new Error("Comment character same as delimiter");!0===ie?ie="#":("string"!=typeof ie||-1<x.BAD_DELIMITERS.indexOf(ie))&&(ie=!1),"\n"!==K&&"\r"!==K&&"\r\n"!==K&&(K="\n");var ue=0,Pt=!1;this.parse=function(I,U,Q){if("string"!=typeof I)throw new Error("Input must be a string");var P=I.length,he=B.length,Te=K.length,St=ie.length,wt=de(De),Vt=[],Xt=[],be=[],rt=ue=0;if(!I)return Mn();if(Ft||!1!==Ft&&-1===I.indexOf(M)){for(var Ct=I.split(K),It=0;It<Ct.length;It++){if(ue+=(be=Ct[It]).length,It!==Ct.length-1)ue+=K.length;else if(Q)return Mn();if(!ie||be.substring(0,St)!==ie){if(wt){if(Vt=[],vn(be.split(B)),Vn(),Pt)return Mn()}else vn(be.split(B));if(G&&G<=It)return Vt=Vt.slice(0,G),Mn(!0)}}return Mn()}for(var et=I.indexOf(B,ue),ce=I.indexOf(K,ue),At=new RegExp(an(dt)+an(M),"g"),Se=I.indexOf(M,ue);;)if(I[ue]!==M)if(ie&&0===be.length&&I.substring(ue,ue+St)===ie){if(-1===ce)return Mn();ce=I.indexOf(K,ue=ce+Te),et=I.indexOf(B,ue)}else if(-1!==et&&(et<ce||-1===ce))be.push(I.substring(ue,et)),et=I.indexOf(B,ue=et+he);else{if(-1===ce)break;if(be.push(I.substring(ue,ce)),Yn(ce+Te),wt&&(Vn(),Pt))return Mn();if(G&&Vt.length>=G)return Mn(!0)}else for(Se=ue,ue++;;){if(-1===(Se=I.indexOf(M,Se+1)))return Q||Xt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Vt.length,index:ue}),bi();if(Se===P-1)return bi(I.substring(ue,Se).replace(At,M));if(M!==dt||I[Se+1]!==dt){if(M===dt||0===Se||I[Se-1]!==dt){-1!==et&&et<Se+1&&(et=I.indexOf(B,Se+1)),-1!==ce&&ce<Se+1&&(ce=I.indexOf(K,Se+1));var qt=kt(-1===ce?et:Math.min(et,ce));if(I[Se+1+qt]===B){be.push(I.substring(ue,Se).replace(At,M)),I[ue=Se+1+qt+he]!==M&&(Se=I.indexOf(M,ue)),et=I.indexOf(B,ue),ce=I.indexOf(K,ue);break}var vi=kt(ce);if(I.substring(Se+1+vi,Se+1+vi+Te)===K){if(be.push(I.substring(ue,Se).replace(At,M)),Yn(Se+1+vi+Te),et=I.indexOf(B,ue),Se=I.indexOf(M,ue),wt&&(Vn(),Pt))return Mn();if(G&&Vt.length>=G)return Mn(!0);break}Xt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Vt.length,index:ue}),Se++}}else Se++}return bi();function vn(en){Vt.push(en),rt=ue}function kt(en){var Ir=0;if(-1!==en){var Jn=I.substring(Se+1,en);Jn&&""===Jn.trim()&&(Ir=Jn.length)}return Ir}function bi(en){return Q||(void 0===en&&(en=I.substring(ue)),be.push(en),ue=P,vn(be),wt&&Vn()),Mn()}function Yn(en){ue=en,vn(be),be=[],ce=I.indexOf(K,ue)}function Mn(en){return{data:Vt,errors:Xt,meta:{delimiter:B,linebreak:K,aborted:Pt,truncated:!!en,cursor:rt+(U||0)}}}function Vn(){De(Mn()),Vt=[],Xt=[]}},this.abort=function(){Pt=!0},this.getCharIndex=function(){return ue}}function W(C){var M=C.data,B=zt[M.workerId],K=!1;if(M.error)B.userError(M.error,M.file);else if(M.results&&M.results.data){var ie={abort:function(){K=!0,j(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:J,resume:J};if(de(B.userStep)){for(var De=0;De<M.results.data.length&&(B.userStep({data:M.results.data[De],errors:M.results.errors,meta:M.results.meta},ie),!K);De++);delete M.results}else de(B.userChunk)&&(B.userChunk(M.results,ie,M.file),delete M.results)}M.finished&&!K&&j(M.workerId,M.results)}function j(C,M){var B=zt[C];de(B.userComplete)&&B.userComplete(M),B.terminate(),delete zt[C]}function J(){throw new Error("Not implemented.")}function q(C){if("object"!=typeof C||null===C)return C;var M=Array.isArray(C)?[]:{};for(var B in C)M[B]=q(C[B]);return M}function le(C,M){return function(){C.apply(M,arguments)}}function de(C){return"function"==typeof C}return Ke&&(te.onmessage=function(C){var M=C.data;if(void 0===x.WORKER_ID&&M&&(x.WORKER_ID=M.workerId),"string"==typeof M.input)te.postMessage({workerId:x.WORKER_ID,results:x.parse(M.input,M.config),finished:!0});else if(te.File&&M.input instanceof File||M.input instanceof Object){var B=x.parse(M.input,M.config);B&&te.postMessage({workerId:x.WORKER_ID,results:B,finished:!0})}}),(Le.prototype=Object.create(ae.prototype)).constructor=Le,(Wt.prototype=Object.create(ae.prototype)).constructor=Wt,(Me.prototype=Object.create(Me.prototype)).constructor=Me,(En.prototype=Object.create(ae.prototype)).constructor=En,x},void 0!==(Oe=je.apply(Qt,[]))&&(Dn.exports=Oe)},5217:Dn=>{"use strict";var Qt=setTimeout;function je(){}function Oe(x){if(!(this instanceof Oe))throw new TypeError("Promises must be constructed via new");if("function"!=typeof x)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],yi(x,this)}function Ze(x,V){for(;3===x._state;)x=x._value;0!==x._state?(x._handled=!0,Oe._immediateFn(function(){var ae=1===x._state?V.onFulfilled:V.onRejected;if(null!==ae){var Le;try{Le=ae(x._value)}catch(Wt){return void ct(V.promise,Wt)}te(V.promise,Le)}else(1===x._state?te:ct)(V.promise,x._value)})):x._deferreds.push(V)}function te(x,V){try{if(V===x)throw new TypeError("A promise cannot be resolved with itself.");if(V&&("object"==typeof V||"function"==typeof V)){var ae=V.then;if(V instanceof Oe)return x._state=3,x._value=V,void Ke(x);if("function"==typeof ae)return void yi(function We(x,V){return function(){x.apply(V,arguments)}}(ae,V),x)}x._state=1,x._value=V,Ke(x)}catch(Le){ct(x,Le)}}function ct(x,V){x._state=2,x._value=V,Ke(x)}function Ke(x){2===x._state&&0===x._deferreds.length&&Oe._immediateFn(function(){x._handled||Oe._unhandledRejectionFn(x._value)});for(var V=0,ae=x._deferreds.length;V<ae;V++)Ze(x,x._deferreds[V]);x._deferreds=null}function zt(x,V,ae){this.onFulfilled="function"==typeof x?x:null,this.onRejected="function"==typeof V?V:null,this.promise=ae}function yi(x,V){var ae=!1;try{x(function(Le){ae||(ae=!0,te(V,Le))},function(Le){ae||(ae=!0,ct(V,Le))})}catch(Le){if(ae)return;ae=!0,ct(V,Le)}}Oe.prototype.catch=function(x){return this.then(null,x)},Oe.prototype.then=function(x,V){var ae=new this.constructor(je);return Ze(this,new zt(x,V,ae)),ae},Oe.prototype.finally=function(x){var V=this.constructor;return this.then(function(ae){return V.resolve(x()).then(function(){return ae})},function(ae){return V.resolve(x()).then(function(){return V.reject(ae)})})},Oe.all=function(x){return new Oe(function(V,ae){if(!x||typeof x.length>"u")throw new TypeError("Promise.all accepts an array");var Le=Array.prototype.slice.call(x);if(0===Le.length)return V([]);var Wt=Le.length;function Me(xi,an){try{if(an&&("object"==typeof an||"function"==typeof an)){var yn=an.then;if("function"==typeof yn)return void yn.call(an,function(W){Me(xi,W)},ae)}Le[xi]=an,0==--Wt&&V(Le)}catch(W){ae(W)}}for(var En=0;En<Le.length;En++)Me(En,Le[En])})},Oe.resolve=function(x){return x&&"object"==typeof x&&x.constructor===Oe?x:new Oe(function(V){V(x)})},Oe.reject=function(x){return new Oe(function(V,ae){ae(x)})},Oe.race=function(x){return new Oe(function(V,ae){for(var Le=0,Wt=x.length;Le<Wt;Le++)x[Le].then(V,ae)})},Oe._immediateFn="function"==typeof setImmediate&&function(x){setImmediate(x)}||function(x){Qt(x,0)},Oe._unhandledRejectionFn=function(V){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",V)},Dn.exports=Oe},4120:(Dn,Qt,je)=>{"use strict";var We=global.Promise||je(5217),Oe=je(7021),Ze=Object.freeze(["play","pause","toggle","seekTo","setVolume","next","prev","skip"]),te=Object.freeze(["getVolume","getDuration","getPosition","getSounds","getCurrentSound","getCurrentSoundIndex","isPaused"]),ct=Object.freeze({autoPlay:"auto_play",showArtwork:"show_artwork",showComments:"show_comments",showPlaycount:"show_playcount",showUser:"show_user",startTrack:"start_track"});function Ke(V){this._widget=Oe(V)}function zt(V){return function(){this._widget[V].apply(this._widget,arguments)}}Ke.events=Oe.Events,Ke.prototype.load=function(V,ae){return new We(function(Le){(ae=ae||{}).callback=Le,function x(V){for(var ae in ct)ct.hasOwnProperty(ae)&&null!=V[ae]&&(V[ct[ae]]=V[ae])}(ae),this._widget.load(V,ae)}.bind(this))},Ke.prototype.on=zt("bind"),Ke.prototype.bind=Ke.prototype.on,Ke.prototype.removeListener=zt("unbind"),Ke.prototype.unbind=Ke.prototype.removeListener,Ze.forEach(function(V){Ke.prototype[V]=zt(V)}),te.forEach(function(V){Ke.prototype[V]=function yi(V){return function(){return new We(function(ae,Le){this._widget[V](function(Wt){ae(Wt)})}.bind(this))}}(V)}),Dn.exports=Ke},7021:Dn=>{var Qt=Qt||{};Qt.Widget=function(je){function We(Ze){if(Oe[Ze])return Oe[Ze].exports;var te=Oe[Ze]={exports:{},id:Ze,loaded:!1};return je[Ze].call(te.exports,te,te.exports,We),te.loaded=!0,te.exports}var Oe={};return We.m=je,We.c=Oe,We.p="",We(0)}([function(je,We,Oe){function zt(I){var U,Q;for(U=0,Q=Ft.length;U<Q&&!1!==I(Ft[U]);U++);}function x(I){return I.contentWindow?I.contentWindow:I.contentDocument&&"parentWindow"in I.contentDocument?I.contentDocument.parentWindow:null}function V(I){var U,Q=[];for(U in I)I.hasOwnProperty(U)&&Q.push(I[U]);return Q}function ae(I,U,Q){Q.callbacks[I]=Q.callbacks[I]||[],Q.callbacks[I].push(U)}function Le(I,U){var P=!0;return U.callbacks[I]=[],zt(function(he){if((he.callbacks[I]||[]).length)return P=!1,!1}),P}function Wt(I,U,Q){var P,he,Te=x(Q);return!!Te.postMessage&&(P=Q.getAttribute("src").split("?")[0],he=JSON.stringify({method:I,value:U}),"//"===P.substr(0,2)&&(P=window.location.protocol+P),P=P.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void Te.postMessage(he,P))}function Me(I){var U;return zt(function(Q){if(Q.instance===I)return U=Q,!1}),U}function En(I){var U;return zt(function(Q){if(x(Q.element)===I)return U=Q,!1}),U}function xi(I,U){return function(Q){var P=function te(I){return!!(I&&I.constructor&&I.call&&I.apply)}(Q),he=Me(this),Te=!P&&U?Q:null,St=P&&!U?Q:null;return St&&ae(I,St,he),Wt(I,Te,he.element),this}}function an(I,U,Q){var P,he,Te;for(P=0,he=U.length;P<he;P++)I[Te=U[P]]=xi(Te,Q)}function yn(I,U,Q){return I+"?url="+U+"&"+function W(I){var U,Q,P=[];for(U in I)I.hasOwnProperty(U)&&(Q=I[U],P.push(U+"="+("start_track"===U?parseInt(Q,10):Q?"true":"false")));return P.join("&")}(Q)}function j(I,U,Q){var P,he,Te=I.callbacks[U]||[];for(P=0,he=Te.length;P<he;P++)Te[P].apply(I.instance,Q);(function Ke(I){var U,Q=!1;for(U in B)if(B.hasOwnProperty(U)&&B[U]===I){Q=!0;break}return Q}(U)||U===ie.READY)&&(I.callbacks[U]=[])}function J(I){var U,Q,P,he,Te;try{Q=JSON.parse(I.data)}catch{return!1}return U=En(I.source),P=Q.method,he=Q.value,(!U||q(I.origin)===q(U.domain))&&(U?(P===ie.READY&&(U.isReady=!0,j(U,dt),Le(dt,U)),P!==ie.PLAY||U.playEventFired||(U.playEventFired=!0),P!==ie.PLAY_PROGRESS||U.playEventFired||(U.playEventFired=!0,j(U,ie.PLAY,[he])),Te=[],void 0!==he&&Te.push(he),void j(U,P,Te)):(P===ie.READY&&G.push(I.source),!1))}function q(I){return I.replace(Pt,"")}var le,de,C,M=Oe(1),B=Oe(2),K=Oe(3),ie=M.api,De=M.bridge,G=[],Ft=[],dt="__LATE_BINDING__",Pt=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",J,!1):window.attachEvent("onmessage",J),je.exports=C=function(I,U,Q){if(function Ze(I){return!!(""===I||I&&I.charCodeAt&&I.substr)}(I)&&(I=document.getElementById(I)),!function ct(I){return!(!I||1!==I.nodeType||"IFRAME"!==I.nodeName.toUpperCase())}(I))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");U&&(I.src=yn("http://wt.soundcloud.dev:9200/",U,Q=Q||{}));var P,he,Te=En(x(I));return Te&&Te.instance?Te.instance:(P=G.indexOf(x(I))>-1,he=new le(I),Ft.push(new de(he,I,P)),he)},C.Events=ie,window.SC=window.SC||{},window.SC.Widget=C,de=function(I,U,Q){this.instance=I,this.element=U,this.domain=function yi(I){var U,Q,P,he="";for("//"===I.substr(0,2)&&(I=window.location.protocol+I),U=0,Q=(P=I.split("/")).length;U<Q&&U<3;U++)he+=P[U],U<2&&(he+="/");return he}(U.getAttribute("src")),this.isReady=!!Q,this.callbacks={}},(le=function(){}).prototype={constructor:le,load:function(I,U){if(I){U=U||{};var Q=this,P=Me(this),he=P.element,Te=he.src,St=Te.substr(0,Te.indexOf("?"));P.isReady=!1,P.playEventFired=!1,he.onload=function(){Q.bind(ie.READY,function(){var wt,Vt=P.callbacks;for(wt in Vt)Vt.hasOwnProperty(wt)&&wt!==ie.READY&&Wt(De.ADD_LISTENER,wt,P.element);U.callback&&U.callback()})},he.src=yn(St,I,U)}},bind:function(I,U){var Q=this,P=Me(this);return P&&P.element&&(I===ie.READY&&P.isReady?setTimeout(U,1):P.isReady?(ae(I,U,P),Wt(De.ADD_LISTENER,I,P.element)):ae(dt,function(){Q.bind(I,U)},P)),this},unbind:function(I){var U,Q=Me(this);Q&&Q.element&&(U=Le(I,Q),I!==ie.READY&&U&&Wt(De.REMOVE_LISTENER,I,Q.element))}},an(le.prototype,V(B)),an(le.prototype,V(K),!0)},function(je,We){We.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},We.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(je,We){je.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(je,We){je.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}]),Dn.exports=Qt.Widget},2850:(Dn,Qt,je)=>{"use strict";function We(n){return"function"==typeof n}let Oe=!1;const Ze={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Oe&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Oe=n},get useDeprecatedSynchronousErrorHandling(){return Oe}};function te(n){setTimeout(()=>{throw n},0)}const ct={closed:!0,next(n){},error(n){if(Ze.useDeprecatedSynchronousErrorHandling)throw n;te(n)},complete(){}},Ke=Array.isArray||(n=>n&&"number"==typeof n.length);function zt(n){return null!==n&&"object"==typeof n}const x=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class V{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof V)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(We(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){t=o instanceof x?ae(o.errors):[o]}}if(Ke(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if(zt(u))try{u.unsubscribe()}catch(c){t=t||[],c instanceof x?t=t.concat(ae(c.errors)):t.push(c)}}}if(t)throw new x(t)}add(t){let e=t;if(!t)return V.EMPTY;switch(typeof t){case"function":e=new V(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof V)){const s=e;e=new V,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof V){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function ae(n){return n.reduce((t,e)=>t.concat(e instanceof x?e.errors:e),[])}V.EMPTY=((n=new V).closed=!0,n);const Le="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Me extends V{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ct;break;case 1:if(!t){this.destination=ct;break}if("object"==typeof t){t instanceof Me?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new En(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new En(this,t,e,i)}}[Le](){return this}static create(t,e,i){const r=new Me(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class En extends Me{constructor(t,e,i,r){super(),this._parentSubscriber=t;let s,o=this;We(e)?s=e:e&&(s=e.next,i=e.error,r=e.complete,e!==ct&&(o=Object.create(e),We(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Ze.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=Ze;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):te(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;te(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Ze.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),Ze.useDeprecatedSynchronousErrorHandling)throw i;te(i)}}__tryOrSetError(t,e,i){if(!Ze.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return Ze.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(te(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const yn="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(n){return n}function J(n){return 0===n.length?W:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let q=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:s}=this,o=function an(n,t,e){if(n){if(n instanceof Me)return n;if(n[Le])return n[Le]()}return n||t||e?new Me(n,t,e):new Me(ct)}(e,i,r);if(o.add(s?s.call(o,this.source):this.source||Ze.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Ze.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){Ze.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function xi(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Me?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=le(i))((r,s)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[yn](){return this}pipe(...e){return 0===e.length?this:J(e)(this)}toPromise(e){return new(e=le(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function le(n){if(n||(n=Ze.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const C=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class M extends V{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class B extends Me{constructor(t){super(t),this.destination=t}}let K=(()=>{class n extends q{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Le](){return new B(this)}lift(e){const i=new ie(this,this);return i.operator=e,i}next(e){if(this.closed)throw new C;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(e)}}error(e){if(this.closed)throw new C;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new C;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new C;return this.hasError?(e.error(this.thrownError),V.EMPTY):this.isStopped?(e.complete(),V.EMPTY):(this.observers.push(e),new M(this,e))}asObservable(){const e=new q;return e.source=this,e}}return n.create=(t,e)=>new ie(t,e),n})();class ie extends K{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):V.EMPTY}}function De(n){return n&&"function"==typeof n.schedule}function G(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Ft(n,t))}}class Ft{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new dt(t,this.project,this.thisArg))}}class dt extends Me{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const ue=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},U=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Te=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function St(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const wt=n=>{if(n&&"function"==typeof n[yn])return(n=>t=>{const e=n[yn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(Te(n))return ue(n);if(St(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,te),t))(n);if(n&&"function"==typeof n[U])return(n=>t=>{const e=n[U]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${zt(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function be(n,t){return new q(e=>{const i=new V;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function ce(n,t){return t?function et(n,t){if(null!=n){if(function Ct(n){return n&&"function"==typeof n[yn]}(n))return function Vt(n,t){return new q(e=>{const i=new V;return i.add(t.schedule(()=>{const r=n[yn]();i.add(r.subscribe({next(s){i.add(t.schedule(()=>e.next(s)))},error(s){i.add(t.schedule(()=>e.error(s)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(St(n))return function Xt(n,t){return new q(e=>{const i=new V;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(Te(n))return be(n,t);if(function It(n){return n&&"function"==typeof n[U]}(n)||"string"==typeof n)return function rt(n,t){if(!n)throw new Error("Iterable cannot be null");return new q(e=>{const i=new V;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[U](),i.add(t.schedule(function(){if(e.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(s),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof q?n:new q(wt(n))}class At extends Me{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class qt extends Me{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function vn(n,t){if(t.closed)return;if(n instanceof q)return n.subscribe(t);let e;try{e=wt(n)(t)}catch(i){t.error(i)}return e}function kt(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(kt((r,s)=>ce(n(r,s)).pipe(G((o,a)=>t(r,o,s,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new bi(n,e)))}class bi{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Yn(t,this.project,this.concurrent))}}class Yn extends qt{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new At(this),i=this.destination;i.add(e);const r=vn(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Vn(n=Number.POSITIVE_INFINITY){return kt(W,n)}function en(n,t){return t?be(n,t):new q(ue(n))}function Jn(){return function(t){return t.lift(new lu(t))}}class lu{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new ss(t,i),s=e.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class ss extends Me{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class Ar extends q{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new V,t.add(this.source.subscribe(new tM(this.getSubject(),this))),t.closed&&(this._connection=null,t=V.EMPTY)),t}refCount(){return Jn()(this)}}const os=(()=>{const n=Ar.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class tM extends B{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class rM{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(t);return s.add(e.subscribe(r)),s}}function sM(){return new K}function pt(n){for(let t in n)if(n[t]===pt)return t;throw Error("Could not find renamed property on target object.")}function Gd(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function gt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(gt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function $d(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const aM=pt({__forward_ref__:pt});function ht(n){return n.__forward_ref__=ht,n.toString=function(){return gt(this())},n}function we(n){return zd(n)?n():n}function zd(n){return"function"==typeof n&&n.hasOwnProperty(aM)&&n.__forward_ref__===ht}function Wd(n){return n&&!!n.\u0275providers}const uu="https://g.co/ng/security#xss";class z extends Error{constructor(t,e){super(function cu(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Ae(n){return"string"==typeof n?n:null==n?"":String(n)}function du(n,t){throw new z(-201,!1)}function ri(n,t){null==n&&function ot(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ln(n){return{providers:n.providers||[],imports:n.imports||[]}}function hu(n){return Vm(n,fu)||Vm(n,Hm)}function Vm(n,t){return n.hasOwnProperty(t)?n[t]:null}function Um(n){return n&&(n.hasOwnProperty(qd)||n.hasOwnProperty(mM))?n[qd]:null}const fu=pt({\u0275prov:pt}),qd=pt({\u0275inj:pt}),Hm=pt({ngInjectableDef:pt}),mM=pt({ngInjectorDef:pt});var Ce=(()=>((Ce=Ce||{})[Ce.Default=0]="Default",Ce[Ce.Host=1]="Host",Ce[Ce.Self=2]="Self",Ce[Ce.SkipSelf=4]="SkipSelf",Ce[Ce.Optional=8]="Optional",Ce))();let Kd;function _i(n){const t=Kd;return Kd=n,t}function Bm(n,t,e){const i=hu(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&Ce.Optional?null:void 0!==t?t:void du(gt(n))}const Dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),na={},Yd="__NG_DI_FLAG__",pu="ngTempTokenPath",bM=/\n/gm,jm="__source";let ia;function Us(n){const t=ia;return ia=n,t}function wM(n,t=Ce.Default){if(void 0===ia)throw new z(-203,!1);return null===ia?Bm(n,void 0,t):ia.get(n,t&Ce.Optional?null:void 0,t)}function N(n,t=Ce.Default){return(function yM(){return Kd}()||wM)(we(n),t)}function qe(n,t=Ce.Default){return N(n,gu(t))}function gu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jd(n){const t=[];for(let e=0;e<n.length;e++){const i=we(n[e]);if(Array.isArray(i)){if(0===i.length)throw new z(900,!1);let r,s=Ce.Default;for(let o=0;o<i.length;o++){const a=i[o],u=CM(a);"number"==typeof u?-1===u?r=a.token:s|=u:r=a}t.push(N(r,s))}else t.push(N(i))}return t}function ra(n,t){return n[Yd]=t,n.prototype[Yd]=t,n}function CM(n){return n[Yd]}function kr(n){return{toString:n}.toString()}var Pi=(()=>((Pi=Pi||{})[Pi.OnPush=0]="OnPush",Pi[Pi.Default=1]="Default",Pi))(),Wi=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Wi||(Wi={})),Wi))();const or={},it=[],mu=pt({\u0275cmp:pt}),Zd=pt({\u0275dir:pt}),Qd=pt({\u0275pipe:pt}),$m=pt({\u0275mod:pt}),ar=pt({\u0275fac:pt}),sa=pt({__NG_ELEMENT_ID__:pt});let MM=0;function xt(n){return kr(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Pi.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||it,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Wi.Emulated,id:"c"+MM++,styles:n.styles||it,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return r.inputs=qm(n.inputs,i),r.outputs=qm(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(zm).filter(Wm):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Hn).filter(Wm):null,r})}function zm(n){return at(n)||kn(n)}function Wm(n){return null!==n}function bn(n){return kr(()=>({type:n.type,bootstrap:n.bootstrap||it,declarations:n.declarations||it,imports:n.imports||it,exports:n.exports||it,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function qm(n,t){if(null==n)return or;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const ye=xt;function Un(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function at(n){return n[mu]||null}function kn(n){return n[Zd]||null}function Hn(n){return n[Qd]||null}function si(n,t){const e=n[$m]||null;if(!e&&!0===t)throw new Error(`Type ${gt(n)} does not have '\u0275mod' property.`);return e}function Zn(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ri(n){return Array.isArray(n)&&!0===n[1]}function th(n){return 0!=(4&n.flags)}function _u(n){return n.componentOffset>-1}function wu(n){return 1==(1&n.flags)}function Li(n){return null!==n.template}function xM(n){return 0!=(256&n[2])}function ds(n,t){return n.hasOwnProperty(ar)?n[ar]:null}class RM{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Qn(){return Jm}function Jm(n){return n.type.prototype.ngOnChanges&&(n.setInput=NM),LM}function LM(){const n=Qm(this),t=n?.current;if(t){const e=n.previous;if(e===or)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function NM(n,t,e,i){const r=this.declaredInputs[e],s=Qm(n)||function FM(n,t){return n[Zm]=t}(n,{previous:or,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[r];o[r]=new RM(u&&u.currentValue,t,a===or),n[i]=t}Qn.ngInherit=!0;const Zm="__ngSimpleChanges__";function Qm(n){return n[Zm]||null}function un(n){for(;Array.isArray(n);)n=n[0];return n}function Cu(n,t){return un(t[n])}function ai(n,t){return un(t[n.index])}function oh(n,t){return n.data[t]}function $s(n,t){return n[t]}function li(n,t){const e=t[n];return Zn(e)?e:e[0]}function Du(n){return 64==(64&n[2])}function xr(n,t){return null==t?null:n[t]}function Xm(n){n[18]=0}function ah(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ie={lFrame:uy(null),bindingsEnabled:!0};function ty(){return Ie.bindingsEnabled}function F(){return Ie.lFrame.lView}function Ye(){return Ie.lFrame.tView}function Pr(n){return Ie.lFrame.contextLView=n,n[8]}function Or(n){return Ie.lFrame.contextLView=null,n}function Tn(){let n=ny();for(;null!==n&&64===n.type;)n=n.parent;return n}function ny(){return Ie.lFrame.currentTNode}function qi(n,t){const e=Ie.lFrame;e.currentTNode=n,e.isParent=t}function lh(){return Ie.lFrame.isParent}function uh(){Ie.lFrame.isParent=!1}function Bn(){const n=Ie.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function zs(){return Ie.lFrame.bindingIndex++}function ur(n){const t=Ie.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function QM(n,t){const e=Ie.lFrame;e.bindingIndex=e.bindingRootIndex=n,ch(t)}function ch(n){Ie.lFrame.currentDirectiveIndex=n}function oy(){return Ie.lFrame.currentQueryIndex}function hh(n){Ie.lFrame.currentQueryIndex=n}function eT(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function ay(n,t,e){if(e&Ce.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&Ce.Host||(r=eT(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Ie.lFrame=ly();return i.currentTNode=t,i.lView=n,!0}function fh(n){const t=ly(),e=n[1];Ie.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function ly(){const n=Ie.lFrame,t=null===n?null:n.child;return null===t?uy(n):t}function uy(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function cy(){const n=Ie.lFrame;return Ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const dy=cy;function ph(){const n=cy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function jn(){return Ie.lFrame.selectedIndex}function hs(n){Ie.lFrame.selectedIndex=n}function Ut(){const n=Ie.lFrame;return oh(n.tView,n.selectedIndex)}function Eu(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Mu(n,t,e){hy(n,t,3,e)}function Tu(n,t,e,i){(3&n[2])===e&&hy(n,t,e,i)}function gh(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function hy(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=i&&a>=i)break}else t[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(uT(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function uT(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class da{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function yh(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];py(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function fy(n){return 3===n||4===n||6===n}function py(n){return 64===n.charCodeAt(0)}function fa(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||gy(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function gy(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function my(n){return-1!==n}function Ws(n){return 32767&n}function qs(n,t){let e=function pT(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let vh=!0;function Su(n){const t=vh;return vh=n,t}let gT=0;const Ki={};function Iu(n,t){const e=_h(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,bh(i.data,n),bh(t,null),bh(i.blueprint,null));const r=Au(n,t),s=n.injectorIndex;if(my(r)){const o=Ws(r),a=qs(r,t),u=a[1].data;for(let c=0;c<8;c++)t[s+c]=a[o+c]|u[o+c]}return t[s+8]=r,s}function bh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function _h(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Au(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=My(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function wh(n,t,e){!function mT(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(sa)&&(i=e[sa]),null==i&&(i=e[sa]=gT++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function by(n,t,e){if(e&Ce.Optional||void 0!==n)return n;du()}function _y(n,t,e,i){if(e&Ce.Optional&&void 0===i&&(i=null),0==(e&(Ce.Self|Ce.Host))){const r=n[9],s=_i(void 0);try{return r?r.get(t,i,e&Ce.Optional):Bm(t,i,e&Ce.Optional)}finally{_i(s)}}return by(i,0,e)}function wy(n,t,e,i=Ce.Default,r){if(null!==n){if(1024&t[2]){const o=function wT(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=Cy(s,o,e,i|Ce.Self,Ki);if(a!==Ki)return a;let u=s.parent;if(!u){const c=o[21];if(c){const f=c.get(e,Ki,i);if(f!==Ki)return f}u=My(o),o=o[15]}s=u}return r}(n,t,e,i,Ki);if(o!==Ki)return o}const s=Cy(n,t,e,i,Ki);if(s!==Ki)return s}return _y(t,e,i,r)}function Cy(n,t,e,i,r){const s=function bT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(sa)?n[sa]:void 0;return"number"==typeof t?t>=0?255&t:_T:t}(e);if("function"==typeof s){if(!ay(t,n,i))return i&Ce.Host?by(r,0,i):_y(t,e,i,r);try{const o=s(i);if(null!=o||i&Ce.Optional)return o;du()}finally{dy()}}else if("number"==typeof s){let o=null,a=_h(n,t),u=-1,c=i&Ce.Host?t[16][6]:null;for((-1===a||i&Ce.SkipSelf)&&(u=-1===a?Au(n,t):t[a+8],-1!==u&&Ey(i,!1)?(o=t[1],a=Ws(u),t=qs(u,t)):a=-1);-1!==a;){const f=t[1];if(Dy(s,a,f.data)){const p=vT(a,t,e,o,i,c);if(p!==Ki)return p}u=t[a+8],-1!==u&&Ey(i,t[1].data[a+8]===c)&&Dy(s,a,t)?(o=f,a=Ws(u),t=qs(u,t)):a=-1}}return r}function vT(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],f=ku(a,o,e,null==i?_u(a)&&vh:i!=o&&0!=(3&a.type),r&Ce.Host&&s===a);return null!==f?Ks(t,o,f,a):Ki}function ku(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,u=n.directiveStart,f=s>>20,m=r?a+f:n.directiveEnd;for(let y=i?a:a+f;y<m;y++){const v=o[y];if(y<u&&e===v||y>=u&&v.type===e)return y}if(r){const y=o[u];if(y&&Li(y)&&y.type===e)return u}return null}function Ks(n,t,e,i){let r=n[e];const s=t.data;if(function cT(n){return n instanceof da}(r)){const o=r;o.resolving&&function lM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${e}`)}(function st(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ae(n)}(s[e]));const a=Su(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?_i(o.injectImpl):null;ay(n,i,Ce.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function lT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Jm(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==u&&_i(u),Su(a),o.resolving=!1,dy()}}return r}function Dy(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Ey(n,t){return!(n&Ce.Self||n&Ce.Host&&t)}class Ys{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return wy(this._tNode,this._lView,t,gu(i),e)}}function _T(){return new Ys(Tn(),F())}function ft(n){return kr(()=>{const t=n.prototype.constructor,e=t[ar]||Ch(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ar]||Ch(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ch(n){return zd(n)?()=>{const t=Ch(we(n));return t&&t()}:ds(n)}function My(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const Zs="__parameters__";function Xs(n,t,e){return kr(()=>{const i=function Dh(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(u,c,f){const p=u.hasOwnProperty(Zs)?u[Zs]:Object.defineProperty(u,Zs,{value:[]})[Zs];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ee({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ui(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),ui(i,t)):t!==n&&t.push(i)}return t}function fs(n,t){n.forEach(e=>Array.isArray(e)?fs(e,t):t(e))}function Sy(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function xu(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function ci(n,t,e){let i=eo(n,t);return i>=0?n[1|i]=e:(i=~i,function MT(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Mh(n,t){const e=eo(n,t);if(e>=0)return n[1|e]}function eo(n,t){return function ky(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const va=ra(Xs("Optional"),8),ba=ra(Xs("SkipSelf"),4);var Xn=(()=>((Xn=Xn||{})[Xn.Important=1]="Important",Xn[Xn.DashCase=2]="DashCase",Xn))();const xh=new Map;let qT=0;const Oh="__ngContext__";function On(n,t){Zn(t)?(n[Oh]=t[20],function JT(n){xh.set(n[20],n)}(t)):n[Oh]=t}function Lh(n,t){return undefined(n,t)}function Da(n){const t=n[3];return Ri(t)?t[3]:t}function Nh(n){return Zy(n[13])}function Fh(n){return Zy(n[4])}function Zy(n){for(;null!==n&&!Ri(n);)n=n[4];return n}function no(n,t,e,i,r){if(null!=i){let s,o=!1;Ri(i)?s=i:Zn(i)&&(o=!0,i=i[0]);const a=un(i);0===n&&null!==e?null==r?iv(t,e,a):ps(t,e,a,r||null,!0):1===n&&null!==e?ps(t,e,a,r||null,!0):2===n?function $h(n,t,e){const i=Lu(n,t);i&&function yS(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function _S(n,t,e,i,r){const s=e[7];s!==un(e)&&no(t,n,i,s,r);for(let a=10;a<e.length;a++){const u=e[a];Ea(u[1],u,n,t,i,s)}}(t,n,s,e,r)}}function Uh(n,t,e){return n.createElement(t,e)}function Xy(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,ah(r,-1)),e.splice(i,1)}function Hh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Xy(r,i),t>0&&(n[e-1][4]=i[4]);const s=xu(n,10+t);!function uS(n,t){Ea(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function ev(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Ea(n,t,e,3,null,null),function hS(n){let t=n[13];if(!t)return Bh(n[1],n);for(;t;){let e=null;if(Zn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Zn(t)&&Bh(t[1],t),t=t[3];null===t&&(t=n),Zn(t)&&Bh(t[1],t),e=t&&t[4]}t=e}}(t)}}function Bh(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function mS(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof da)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function gS(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Ri(t[3])){e!==t[3]&&Xy(e,t);const i=t[19];null!==i&&i.detachView(n)}!function ZT(n){xh.delete(n[20])}(t)}}function tv(n,t,e){return function nv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Wi.None||s===Wi.Emulated)return null}return ai(i,e)}}(n,t.parent,e)}function ps(n,t,e,i,r){n.insertBefore(t,e,i,r)}function iv(n,t,e){n.appendChild(t,e)}function rv(n,t,e,i,r){null!==i?ps(n,t,e,i,r):iv(n,t,e)}function Lu(n,t){return n.parentNode(t)}let Vu,qh,Uu,av=function ov(n,t,e){return 40&n.type?ai(n,e):null};function Nu(n,t,e,i){const r=tv(n,i,t),s=t[11],a=function sv(n,t,e){return av(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)rv(s,r,e[u],a,!1);else rv(s,r,e,a,!1)}function Fu(n,t){if(null!==t){const e=t.type;if(3&e)return ai(t,n);if(4&e)return Gh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Fu(n,i);{const r=n[t.index];return Ri(r)?Gh(-1,r):un(r)}}if(32&e)return Lh(t,n)()||un(n[t.index]);{const i=uv(n,t);return null!==i?Array.isArray(i)?i[0]:Fu(Da(n[16]),i):Fu(n,t.next)}}return null}function uv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Gh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Fu(i,r)}return t[7]}function zh(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],u=e.type;if(o&&0===t&&(a&&On(un(a),i),e.flags|=2),32!=(32&e.flags))if(8&u)zh(n,t,e.child,i,r,s,!1),no(t,n,r,a,s);else if(32&u){const c=Lh(e,i);let f;for(;f=c();)no(t,n,r,f,s);no(t,n,r,a,s)}else 16&u?cv(n,t,i,e,r,s):no(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Ea(n,t,e,i,r,s){zh(e,i,n.firstChild,t,r,s,!1)}function cv(n,t,e,i,r,s){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)no(t,n,r,u[c],s);else zh(n,t,u,o[3],r,s,!0)}function dv(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function hv(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&yh(n,t,i),null!==r&&dv(n,t,r),null!==s&&function CS(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function gs(n){return function Wh(){if(void 0===Vu&&(Vu=null,Dt.trustedTypes))try{Vu=Dt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vu}()?.createHTML(n)||n}function Kh(){if(void 0===Uu&&(Uu=null,Dt.trustedTypes))try{Uu=Dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Uu}function pv(n){return Kh()?.createHTML(n)||n}function mv(n){return Kh()?.createScriptURL(n)||n}class ms{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uu})`}}class SS extends ms{getTypeName(){return"HTML"}}class IS extends ms{getTypeName(){return"Style"}}class AS extends ms{getTypeName(){return"Script"}}class kS extends ms{getTypeName(){return"URL"}}class xS extends ms{getTypeName(){return"ResourceURL"}}function di(n){return n instanceof ms?n.changingThisBreaksApplicationSecurity:n}function Yi(n,t){const e=function PS(n){return n instanceof ms&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${uu})`)}return e===t}class VS{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(gs(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class US{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=gs(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=gs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const BS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Hu(n){return(n=String(n)).match(BS)?n:"unsafe:"+n}function cr(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ma(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const vv=cr("area,br,col,hr,img,wbr"),bv=cr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_v=cr("rp,rt"),Yh=Ma(vv,Ma(bv,cr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ma(_v,cr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ma(_v,bv)),Jh=cr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wv=Ma(Jh,cr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jS=cr("script,style,template");class GS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Yh.hasOwnProperty(e))return this.sanitizedSomething=!0,!jS.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!wv.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Jh[a]&&(u=Hu(u)),this.buf.push(" ",o,'="',Cv(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Yh.hasOwnProperty(e)&&!vv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Cv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const $S=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zS=/([^\#-~ |!])/g;function Cv(n){return n.replace(/&/g,"&amp;").replace($S,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(zS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bu;function Dv(n,t){let e=null;try{Bu=Bu||function yv(n){const t=new US(n);return function HS(){try{return!!(new window.DOMParser).parseFromString(gs(""),"text/html")}catch{return!1}}()?new VS(t):t}(n);let i=t?String(t):"";e=Bu.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Bu.getInertBodyElement(i)}while(i!==s);return gs((new GS).sanitizeChildren(Zh(e)||e))}finally{if(e){const i=Zh(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Zh(n){return"content"in n&&function WS(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var mt=(()=>((mt=mt||{})[mt.NONE=0]="NONE",mt[mt.HTML=1]="HTML",mt[mt.STYLE=2]="STYLE",mt[mt.SCRIPT=3]="SCRIPT",mt[mt.URL=4]="URL",mt[mt.RESOURCE_URL=5]="RESOURCE_URL",mt))();function fe(n){const t=Ta();return t?pv(t.sanitize(mt.HTML,n)||""):Yi(n,"HTML")?pv(di(n)):Dv(function fv(){return void 0!==qh?qh:typeof document<"u"?document:void 0}(),Ae(n))}function io(n){const t=Ta();return t?t.sanitize(mt.URL,n)||"":Yi(n,"URL")?di(n):Hu(Ae(n))}function Ev(n){const t=Ta();if(t)return mv(t.sanitize(mt.RESOURCE_URL,n)||"");if(Yi(n,"ResourceURL"))return mv(di(n));throw new z(904,!1)}function Ta(){const n=F();return n&&n[12]}const ju=new X("ENVIRONMENT_INITIALIZER"),Tv=new X("INJECTOR",-1),Sv=new X("INJECTOR_DEF_TYPES");class Iv{get(t,e=na){if(e===na){const i=new Error(`NullInjectorError: No provider for ${gt(t)}!`);throw i.name="NullInjectorError",i}return e}}function XS(...n){return{\u0275providers:Av(0,n),\u0275fromNgModule:!0}}function Av(n,...t){const e=[],i=new Set;let r;return fs(t,s=>{const o=s;Qh(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&kv(r,e),e}function kv(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Xh(r,s=>{t.push(s)})}}function Qh(n,t,e,i){if(!(n=we(n)))return!1;let r=null,s=Um(n);const o=!s&&at(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=Um(u),!s)return!1;r=u}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Qh(c,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;i.add(r);try{fs(s.imports,f=>{Qh(f,t,e,i)&&(c||(c=[]),c.push(f))})}finally{}void 0!==c&&kv(c,t)}if(!a){const c=ds(r)||(()=>new r);t.push({provide:r,useFactory:c,deps:it},{provide:Sv,useValue:r,multi:!0},{provide:ju,useValue:()=>N(r),multi:!0})}const u=s.providers;null==u||a||Xh(u,f=>{t.push(f)})}}return r!==n&&void 0!==n.providers}function Xh(n,t){for(let e of n)Wd(e)&&(e=e.\u0275providers),Array.isArray(e)?Xh(e,t):t(e)}const eI=pt({provide:String,useValue:pt});function ef(n){return null!==n&&"object"==typeof n&&eI in n}function ys(n){return"function"==typeof n}const tf=new X("Set Injector scope."),Gu={},nI={};let nf;function $u(){return void 0===nf&&(nf=new Iv),nf}class dr{}class Ov extends dr{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sf(t,o=>this.processProvider(o)),this.records.set(Tv,ro(void 0,this)),r.has("environment")&&this.records.set(dr,ro(void 0,this));const s=this.records.get(tf);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Sv.multi,it,Ce.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Us(this),i=_i(void 0);try{return t()}finally{Us(e),_i(i)}}get(t,e=na,i=Ce.Default){this.assertNotDestroyed(),i=gu(i);const r=Us(this),s=_i(void 0);try{if(!(i&Ce.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function aI(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(t)&&hu(t);a=u&&this.injectableDefInScope(u)?ro(rf(t),Gu):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&Ce.Self?$u():this.parent).get(t,e=i&Ce.Optional&&e===na?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[pu]=o[pu]||[]).unshift(gt(t)),r)throw o;return function DM(n,t,e,i){const r=n[pu];throw t[jm]&&r.unshift(t[jm]),n.message=function EM(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=gt(t);if(Array.isArray(t))r=t.map(gt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):gt(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(bM,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[pu]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{_i(s),Us(r)}}resolveInjectorInitializers(){const t=Us(this),e=_i(void 0);try{const i=this.get(ju.multi,it,Ce.Self);for(const r of i)r()}finally{Us(t),_i(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(gt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(t){let e=ys(t=we(t))?t:we(t&&t.provide);const i=function rI(n){return ef(n)?ro(void 0,n.useValue):ro(Rv(n),Gu)}(t);if(ys(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ro(void 0,Gu,!0),r.factory=()=>Jd(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Gu&&(e.value=nI,e.value=e.factory()),"object"==typeof e.value&&e.value&&function oI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=we(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function rf(n){const t=hu(n),e=null!==t?t.factory:ds(n);if(null!==e)return e;if(n instanceof X)throw new z(204,!1);if(n instanceof Function)return function iI(n){const t=n.length;if(t>0)throw function ya(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new z(204,!1);const e=function pM(n){const t=n&&(n[fu]||n[Hm]);if(t){const e=function gM(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new z(204,!1)}function Rv(n,t,e){let i;if(ys(n)){const r=we(n);return ds(r)||rf(r)}if(ef(n))i=()=>we(n.useValue);else if(function Pv(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Jd(n.deps||[]));else if(function xv(n){return!(!n||!n.useExisting)}(n))i=()=>N(we(n.useExisting));else{const r=we(n&&(n.useClass||n.provide));if(!function sI(n){return!!n.deps}(n))return ds(r)||rf(r);i=()=>new r(...Jd(n.deps))}return i}function ro(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sf(n,t){for(const e of n)Array.isArray(e)?sf(e,t):e&&Wd(e)?sf(e.\u0275providers,t):t(e)}class lI{}class Lv{}class cI{resolveComponentFactory(t){throw function uI(n){const t=Error(`No component factory found for ${gt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Sa=(()=>{class n{}return n.NULL=new cI,n})();function dI(){return so(Tn(),F())}function so(n,t){return new Gt(ai(n,t))}let Gt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=dI,n})();function hI(n){return n instanceof Gt?n.nativeElement:n}class Fv{}let ei=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function fI(){const n=F(),e=li(Tn().index,n);return(Zn(e)?e:n)[11]}(),n})(),pI=(()=>{class n{}return n.\u0275prov=ee({token:n,providedIn:"root",factory:()=>null}),n})();class vs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const gI=new vs("15.0.1"),af={};function uf(n){return n.ngOriginalError}class oo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&uf(t);for(;e&&uf(e);)e=uf(e);return e||null}}function cf(n){return n.ownerDocument.defaultView}function hr(n){return n instanceof Function?n():n}function Uv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const Hv="ng-template";function MI(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Uv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Bv(n){return 4===n.type&&n.value!==Hv}function TI(n,t,e){return t===(4!==n.type||e?n.value:Hv)}function SI(n,t,e){let i=4;const r=n.attrs||[],s=function kI(n){for(let t=0;t<n.length;t++)if(fy(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!TI(n,u,e)||""===u&&1===t.length){if(Ni(i))return!1;o=!0}}else{const c=8&i?u:t[++a];if(8&i&&null!==n.attrs){if(!MI(n.attrs,c,e)){if(Ni(i))return!1;o=!0}continue}const p=II(8&i?"class":u,r,Bv(n),e);if(-1===p){if(Ni(i))return!1;o=!0;continue}if(""!==c){let m;m=p>s?"":r[p+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==Uv(y,c,0)||2&i&&c!==m){if(Ni(i))return!1;o=!0}}}}else{if(!o&&!Ni(i)&&!Ni(u))return!1;if(o&&Ni(u))continue;o=!1,i=u|1&i}}return Ni(i)||o}function Ni(n){return 0==(1&n)}function II(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function xI(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function jv(n,t,e=!1){for(let i=0;i<t.length;i++)if(SI(n,t[i],e))return!0;return!1}function Gv(n,t){return n?":not("+t.trim()+")":t}function OI(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Ni(o)&&(t+=Gv(s,r),r=""),i=o,s=s||!Ni(i);e++}return""!==r&&(t+=Gv(s,r)),t}const ke={};function _(n){$v(Ye(),F(),jn()+n,!1)}function $v(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Mu(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Tu(t,s,0,e)}hs(e)}function Kv(n,t=null,e=null,i){const r=Yv(n,t,e,i);return r.resolveInjectorInitializers(),r}function Yv(n,t=null,e=null,i,r=new Set){const s=[e||it,XS(n)];return i=i||("object"==typeof n?void 0:gt(n)),new Ov(s,t||$u(),i||null,r)}let hi=(()=>{class n{static create(e,i){if(Array.isArray(e))return Kv({name:""},i,e,"");{const r=e.name??"";return Kv({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=na,n.NULL=new Iv,n.\u0275prov=ee({token:n,providedIn:"any",factory:()=>N(Tv)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,t=Ce.Default){const e=F();return null===e?N(n,t):wy(Tn(),e,we(n),t)}function gf(){throw new Error("invalid")}function Wu(n,t){return n<<17|t<<2}function Fi(n){return n>>17&32767}function mf(n){return 2|n}function fr(n){return(131068&n)>>2}function yf(n,t){return-131069&n|t<<2}function vf(n){return 1|n}function hb(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];hh(r),o.contentQueries(2,t[s],s)}}}function Yu(n,t,e,i,r,s,o,a,u,c,f){const p=t.blueprint.slice();return p[0]=r,p[2]=76|i,(null!==f||n&&1024&n[2])&&(p[2]|=1024),Xm(p),p[3]=p[15]=n,p[8]=e,p[10]=o||n&&n[10],p[11]=a||n&&n[11],p[12]=u||n&&n[12]||null,p[9]=c||n&&n[9]||null,p[6]=s,p[20]=function KT(){return qT++}(),p[21]=f,p[16]=2==t.type?n[16]:p,p}function uo(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Tf(n,t,e,i,r){const s=ny(),o=lh(),u=n.data[t]=function gA(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,t,e,i,r),function ZM(){return Ie.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function ca(){const n=Ie.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return qi(s,!0),s}function Ia(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Sf(n,t,e){fh(t);try{const i=n.viewQuery;null!==i&&Ff(1,i,e);const r=n.template;null!==r&&fb(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&hb(n,t),n.staticViewQueries&&Ff(2,n.viewQuery,e);const s=n.components;null!==s&&function hA(n,t){for(let e=0;e<t.length;e++)RA(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,ph()}}function Ju(n,t,e,i){const r=t[2];if(128!=(128&r)){fh(t);try{Xm(t),function ry(n){return Ie.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&fb(n,t,e,2,i);const o=3==(3&r);if(o){const c=n.preOrderCheckHooks;null!==c&&Mu(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Tu(t,c,0,null),gh(t,0)}if(function PA(n){for(let t=Nh(n);null!==t;t=Fh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&ah(s,1),r[2]|=512}}}(t),function xA(n){for(let t=Nh(n);null!==t;t=Fh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Du(i)&&Ju(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&hb(n,t),o){const c=n.contentCheckHooks;null!==c&&Mu(t,c)}else{const c=n.contentHooks;null!==c&&Tu(t,c,1),gh(t,1)}!function cA(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)hs(~r);else{const s=r,o=e[++i],a=e[++i];QM(o,s),a(2,t[s])}}}finally{hs(-1)}}(n,t);const a=n.components;null!==a&&function dA(n,t){for(let e=0;e<t.length;e++)OA(n,t[e])}(t,a);const u=n.viewQuery;if(null!==u&&Ff(2,u,i),o){const c=n.viewCheckHooks;null!==c&&Mu(t,c)}else{const c=n.viewHooks;null!==c&&Tu(t,c,2),gh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,ah(t[3],-1))}finally{ph()}}}function fb(n,t,e,i,r){const s=jn(),o=2&i;try{hs(-1),o&&t.length>22&&$v(n,t,22,!1),e(i,r)}finally{hs(s)}}function If(n,t,e){if(th(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Af(n,t,e){!ty()||(function wA(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Iu(e,t),On(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const u=n.data[a],c=Li(u);c&&IA(t,e,u);const f=Ks(t,n,a,e);On(f,t),null!==o&&AA(0,a-r,f,u,0,o),c&&(li(e.index,t)[8]=f)}}(n,t,e,ai(e,t)),64==(64&e.flags)&&_b(n,t,e))}function kf(n,t,e=ai){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function pb(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=xf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function xf(n,t,e,i,r,s,o,a,u,c){const f=22+i,p=f+r,m=function fA(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ke);return e}(f,p),y="function"==typeof c?c():c;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function gb(n,t,e,i){const r=Cb(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Db(n).push(i,r.length-1))}function mb(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?yb(e,t,r,s):i.hasOwnProperty(r)&&yb(e,t,i[r],s)}return e}function yb(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function fi(n,t,e,i,r,s,o,a){const u=ai(t,e);let f,c=t.inputs;!a&&null!=c&&(f=c[i])?(Vf(n,e,f,i,r),_u(t)&&vb(e,t.index)):3&t.type&&(i=function yA(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(u,i,r))}function vb(n,t){const e=li(t,n);16&e[2]||(e[2]|=32)}function Pf(n,t,e,i){let r=!1;if(ty()){const s=null===i?null:{"":-1},o=function DA(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(jv(t,o.selectors,!1))if(i||(i=[]),Li(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),Of(n,t,a.length)}else i.unshift(o),Of(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(r=!0,bb(n,t,e,a,s,u)),s&&function EA(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new z(-301,!1);i.push(t[r],s)}}}(e,i,s)}return e.mergedAttrs=fa(e.mergedAttrs,e.attrs),r}function bb(n,t,e,i,r,s){for(let c=0;c<i.length;c++)wh(Iu(e,t),n,i[c].type);!function TA(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let c=0;c<i.length;c++){const f=i[c];f.providersResolver&&f.providersResolver(f)}let o=!1,a=!1,u=Ia(n,t,i.length,null);for(let c=0;c<i.length;c++){const f=i[c];e.mergedAttrs=fa(e.mergedAttrs,f.hostAttrs),SA(n,e,t,u,f),MA(u,f,r),null!==f.contentQueries&&(e.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=64);const p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),a=!0),u++}!function mA(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,a=[];let u=null,c=null;for(let f=t.directiveStart;f<r;f++){const p=s[f],m=e?e.get(p):null,v=m?m.outputs:null;u=mb(p.inputs,f,u,m?m.inputs:null),c=mb(p.outputs,f,c,v);const b=null===u||null===o||Bv(t)?null:kA(u,f,o);a.push(b)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=u,t.outputs=c}(n,e,s)}function _b(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function XM(){return Ie.lFrame.currentDirectiveIndex}();try{hs(s);for(let a=i;a<r;a++){const u=n.data[a],c=t[a];ch(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&CA(u,c)}}finally{hs(-1),ch(o)}}function CA(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Of(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function MA(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Li(t)&&(e[""]=n)}}function SA(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=ds(r.type)),o=new da(s,Li(r),S);n.blueprint[i]=o,e[i]=o,function bA(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~t.index;(function _A(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,i,s)}}(n,t,i,Ia(n,e,r.hostVars,ke),r)}function IA(n,t,e){const i=ai(t,n),r=pb(e),s=n[10],o=Zu(n,Yu(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=o}function Ji(n,t,e,i,r,s){const o=ai(n,t);!function Rf(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?Ae(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],o,s,n.value,e,i,r)}function AA(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let u=0;u<o.length;){const c=o[u++],f=o[u++],p=o[u++];null!==a?i.setInput(e,p,c,f):e[f]=p}}}function kA(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===t){i.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function wb(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function OA(n,t){const e=li(t,n);if(Du(e)){const i=e[1];48&e[2]?Ju(i,e,i.template,e[8]):e[5]>0&&Lf(e)}}function Lf(n){for(let i=Nh(n);null!==i;i=Fh(i))for(let r=10;r<i.length;r++){const s=i[r];if(Du(s))if(512&s[2]){const o=s[1];Ju(o,s,o.template,s[8])}else s[5]>0&&Lf(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=li(e[i],n);Du(r)&&r[5]>0&&Lf(r)}}function RA(n,t){const e=li(t,n),i=e[1];(function LA(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Sf(i,e,e[8])}function Zu(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Nf(n){for(;n;){n[2]|=32;const t=Da(n);if(xM(n)&&!t)return n;n=t}return null}function Qu(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{Ju(n,t,n.template,e)}catch(o){throw i&&Mb(t,o),o}finally{r.end&&r.end()}}function Ff(n,t,e){hh(0),t(n,e)}function Cb(n){return n[7]||(n[7]=[])}function Db(n){return n.cleanup||(n.cleanup=[])}function Mb(n,t){const e=n[9],i=e?e.get(oo,null):null;i&&i.handleError(t)}function Vf(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],u=t[o],c=n.data[o];null!==c.setInput?c.setInput(u,r,i,a):u[a]=r}}function pr(n,t,e){const i=Cu(t,n);!function Qy(n,t,e){n.setValue(t,e)}(n[11],i,e)}function Xu(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=$d(r,a):2==s&&(i=$d(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function ec(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(un(s)),Ri(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&ec(u[1],u,c,i)}const o=e.type;if(8&o)ec(n,t,e.child,i);else if(32&o){const a=Lh(e,t);let u;for(;u=a();)i.push(u)}else if(16&o){const a=uv(t,e);if(Array.isArray(a))i.push(...a);else{const u=Da(t[16]);ec(u[1],u,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Aa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ec(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ri(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Hh(t,i),xu(e,i))}this._attachedToViewContainer=!1}ev(this._lView[1],this._lView)}onDestroy(t){gb(this._lView[1],this._lView,null,t)}markForCheck(){Nf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Qu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function dS(n,t){Ea(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=t}}class NA extends Aa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Qu(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Uf extends Sa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new ka(e,this.ngModule)}}function Tb(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class VA{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=gu(i);const r=this.injector.get(t,af,i);return r!==af||e===af?r:this.parentInjector.get(t,e,i)}}class ka extends Lv{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function RI(n){return n.map(OI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Tb(this.componentDef.inputs)}get outputs(){return Tb(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof dr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new VA(t,s):t,a=o.get(Fv,null);if(null===a)throw new z(407,!1);const u=o.get(pI,null),c=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function pA(n,t,e){return n.selectRootElement(t,e===Wi.ShadowDom)}(c,i,this.componentDef.encapsulation):Uh(c,f,function FA(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),m=this.componentDef.onPush?288:272,y=xf(0,null,null,1,0,null,null,null,null,null),v=Yu(null,y,null,m,null,null,a,c,u,o,null);let b,w;fh(v);try{const D=this.componentDef;let k,T=null;D.findHostDirectiveDefs?(k=[],T=new Map,D.findHostDirectiveDefs(D,k,T),k.push(D)):k=[D];const H=function BA(n,t){const e=n[1];return n[22]=t,uo(e,22,2,"#host",null)}(v,p),$=function jA(n,t,e,i,r,s,o,a){const u=r[1];!function GA(n,t,e,i){for(const r of n)t.mergedAttrs=fa(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Xu(t,t.mergedAttrs,!0),null!==e&&hv(i,e,t))}(i,n,t,o);const c=s.createRenderer(t,e),f=Yu(r,pb(e),null,e.onPush?32:16,r[n.index],n,s,c,a||null,null,null);return u.firstCreatePass&&Of(u,n,i.length-1),Zu(r,f),r[n.index]=f}(H,p,D,k,v,a,c);w=oh(y,22),p&&function zA(n,t,e,i){if(i)yh(n,e,["ng-version",gI.full]);else{const{attrs:r,classes:s}=function LI(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Ni(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&yh(n,e,r),s&&s.length>0&&dv(n,e,s.join(" "))}}(c,D,p,i),void 0!==e&&function WA(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(w,this.ngContentSelectors,e),b=function $A(n,t,e,i,r,s){const o=Tn(),a=r[1],u=ai(o,r);bb(a,r,o,e,null,i);for(let f=0;f<e.length;f++)On(Ks(r,a,o.directiveStart+f,o),r);_b(a,r,o),u&&On(u,r);const c=Ks(r,a,o.directiveStart+o.componentOffset,o);if(n[8]=r[8]=c,null!==s)for(const f of s)f(c,t);return If(a,o,n),c}($,D,k,T,v,[qA]),Sf(y,v,null)}finally{ph()}return new HA(this.componentType,b,so(w,v),v,w)}}class HA extends lI{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new NA(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Vf(s[1],s,r,t,e),vb(s,this._tNode.index)}}get injector(){return new Ys(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function qA(){const n=Tn();Eu(F()[1],n)}function Fe(n){let t=function Sb(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Li(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Hf(n.inputs),o.declaredInputs=Hf(n.declaredInputs),o.outputs=Hf(n.outputs);const a=r.hostBindings;a&&ZA(n,a);const u=r.viewQuery,c=r.contentQueries;if(u&&YA(n,u),c&&JA(n,c),Gd(n.inputs,r.inputs),Gd(n.declaredInputs,r.declaredInputs),Gd(n.outputs,r.outputs),Li(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Fe&&(e=!1)}}t=Object.getPrototypeOf(t)}!function KA(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=fa(r.hostAttrs,e=fa(e,r.hostAttrs))}}(i)}function Hf(n){return n===or?{}:n===it?[]:n}function YA(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function JA(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function ZA(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let tc=null;function bs(){if(!tc){const n=Dt.Symbol;if(n&&n.iterator)tc=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(tc=i)}}}return tc}function xa(n){return!!Bf(n)&&(Array.isArray(n)||!(n instanceof Map)&&bs()in n)}function Bf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Zi(n,t,e){return n[t]=e}function Rn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function _s(n,t,e,i){const r=Rn(n,t,e);return Rn(n,t+1,i)||r}function Ln(n,t,e,i){const r=F();return Rn(r,zs(),t)&&(Ye(),Ji(Ut(),r,n,t,e,i)),Ln}function ho(n,t,e,i){return Rn(n,zs(),e)?t+Ae(e)+i:ke}function fo(n,t,e,i,r,s){const a=_s(n,function lr(){return Ie.lFrame.bindingIndex}(),e,r);return ur(2),a?t+Ae(e)+i+Ae(r)+s:ke}function xe(n,t,e,i,r,s,o,a){const u=F(),c=Ye(),f=n+22,p=c.firstCreatePass?function ak(n,t,e,i,r,s,o,a,u){const c=t.consts,f=uo(t,n,4,o||null,xr(c,a));Pf(t,e,f,xr(c,u)),Eu(t,f);const p=f.tViews=xf(2,f,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,c,u,t,e,i,r,s,o):c.data[f];qi(p,!1);const m=u[11].createComment("");Nu(c,u,m,p),On(m,u),Zu(u,u[f]=wb(m,u,m,p)),wu(p)&&Af(c,u,p),null!=o&&kf(u,p,a)}function E(n,t,e){const i=F();return Rn(i,zs(),t)&&fi(Ye(),Ut(),i,n,t,i[11],e,!1),E}function jf(n,t,e,i,r){const o=r?"class":"style";Vf(n,e,t.inputs[o],o,i)}function d(n,t,e,i){const r=F(),s=Ye(),o=22+n,a=r[11],u=r[o]=Uh(a,t,function aT(){return Ie.lFrame.currentNamespace}()),c=s.firstCreatePass?function uk(n,t,e,i,r,s,o){const a=t.consts,c=uo(t,n,2,r,xr(a,s));return Pf(t,e,c,xr(a,o)),null!==c.attrs&&Xu(c,c.attrs,!1),null!==c.mergedAttrs&&Xu(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,s,r,0,t,e,i):s.data[o];return qi(c,!0),hv(a,u,c),32!=(32&c.flags)&&Nu(s,r,u,c),0===function zM(){return Ie.lFrame.elementDepthCount}()&&On(u,r),function WM(){Ie.lFrame.elementDepthCount++}(),wu(c)&&(Af(s,r,c),If(s,c,r)),null!==i&&kf(r,c),d}function h(){let n=Tn();lh()?uh():(n=n.parent,qi(n,!1));const t=n;!function qM(){Ie.lFrame.elementDepthCount--}();const e=Ye();return e.firstCreatePass&&(Eu(e,n),th(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function hT(n){return 0!=(8&n.flags)}(t)&&jf(e,t,F(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function fT(n){return 0!=(16&n.flags)}(t)&&jf(e,t,F(),t.stylesWithoutHost,!1),h}function g(n,t,e,i){return d(n,t,e,i),h(),g}function Oa(n,t,e){const i=F(),r=Ye(),s=n+22,o=r.firstCreatePass?function ck(n,t,e,i,r){const s=t.consts,o=xr(s,i),a=uo(t,n,8,"ng-container",o);return null!==o&&Xu(a,o,!0),Pf(t,e,a,xr(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];qi(o,!0);const a=i[s]=i[11].createComment("");return Nu(r,i,a,o),On(a,i),wu(o)&&(Af(r,i,o),If(r,o,i)),null!=e&&kf(i,o),Oa}function Ra(){let n=Tn();const t=Ye();return lh()?uh():(n=n.parent,qi(n,!1)),t.firstCreatePass&&(Eu(t,n),th(n)&&t.queries.elementEnd(n)),Ra}function Fr(){return F()}function La(n){return!!n&&"function"==typeof n.then}const Gf=function jb(n){return!!n&&"function"==typeof n.subscribe};function lt(n,t,e,i){const r=F(),s=Ye(),o=Tn();return function $b(n,t,e,i,r,s,o){const a=wu(i),c=n.firstCreatePass&&Db(n),f=t[8],p=Cb(t);let m=!0;if(3&i.type||o){const b=ai(i,t),w=o?o(b):b,D=p.length,k=o?H=>o(un(H[i.index])):i.index;let T=null;if(!o&&a&&(T=function dk(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],u=r[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,m=!1;else{s=Wb(i,t,f,s,!1);const H=e.listen(w,r,s);p.push(s,H),c&&c.push(r,k,D,D+1)}}else s=Wb(i,t,f,s,!1);const y=i.outputs;let v;if(m&&null!==y&&(v=y[r])){const b=v.length;if(b)for(let w=0;w<b;w+=2){const $=t[v[w]][v[w+1]].subscribe(s),O=p.length;p.push(s,$),c&&c.push(r,i.index,O,-(O+1))}}}(s,r,r[11],o,n,t,i),lt}function zb(n,t,e,i){try{return!1!==e(i)}catch(r){return Mb(n,r),!1}}function Wb(n,t,e,i,r){return function s(o){if(o===Function)return i;Nf(n.componentOffset>-1?li(n.index,t):t);let u=zb(t,0,i,o),c=s.__ngNextListenerFn__;for(;c;)u=zb(t,0,c,o)&&u,c=c.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Pe(n=1){return function tT(n){return(Ie.lFrame.contextLView=function nT(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ie.lFrame.contextLView))[8]}(n)}function wn(n,t,e){return Na(n,"",t,"",e),wn}function Na(n,t,e,i,r){const s=F(),o=ho(s,t,e,i);return o!==ke&&fi(Ye(),Ut(),s,n,o,s[11],r,!1),Na}function $f(n,t,e,i,r,s,o){const a=F(),u=fo(a,t,e,i,r,s);return u!==ke&&fi(Ye(),Ut(),a,n,u,a[11],o,!1),$f}function n_(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?Fi(s):fr(s),u=!1;for(;0!==a&&(!1===u||o);){const f=n[a+1];gk(n[a],t)&&(u=!0,n[a+1]=i?vf(f):mf(f)),a=i?Fi(f):fr(f)}u&&(n[e+1]=i?mf(s):vf(s))}function gk(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&eo(n,t)>=0}function ic(n,t,e){return Vi(n,t,e,!1),ic}function pi(n,t){return Vi(n,t,null,!0),pi}function Vi(n,t,e,i){const r=F(),s=Ye(),o=ur(2);s.firstUpdatePass&&function c_(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[jn()],o=function u_(n,t){return t>=n.expandoStartIndex}(n,e);(function p_(n,t){return 0!=(n.flags&(t?8:16))})(s,i)&&null===t&&!o&&(t=!1),t=function Ek(n,t,e,i){const r=function dh(n){const t=Ie.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Fa(e=zf(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=zf(r,n,t,e,i),null===s){let u=function Mk(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==fr(i))return n[Fi(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=zf(null,n,t,u[1],i),u=Fa(u,t.attrs,i),function Tk(n,t,e,i){n[Fi(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function Sk(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Fa(i,n[s].hostAttrs,e);return Fa(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function fk(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=Fi(o),u=fr(o);n[i]=e;let f,c=!1;if(Array.isArray(e)){const p=e;f=p[1],(null===f||eo(p,f)>0)&&(c=!0)}else f=e;if(r)if(0!==u){const m=Fi(n[a+1]);n[i+1]=Wu(m,a),0!==m&&(n[m+1]=yf(n[m+1],i)),n[a+1]=function eA(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Wu(a,0),0!==a&&(n[a+1]=yf(n[a+1],i)),a=i;else n[i+1]=Wu(u,0),0===a?a=i:n[u+1]=yf(n[u+1],i),u=i;c&&(n[i+1]=mf(n[i+1])),n_(n,f,i,!0),n_(n,f,i,!1),function pk(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&eo(s,t)>=0&&(e[i+1]=vf(e[i+1]))}(t,f,n,i,s),o=Wu(a,u),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}(s,n,o,i),t!==ke&&Rn(r,o,t)&&function h_(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const u=n.data,c=u[a+1];rc(function rb(n){return 1==(1&n)}(c)?f_(u,t,e,r,fr(c),o):void 0)||(rc(s)||function ib(n){return 2==(2&n)}(c)&&(s=f_(u,null,e,r,a,o)),function wS(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:Xn.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Xn.Important),n.setStyle(e,i,r,s))}}(i,o,Cu(jn(),e),r,s))}(s,s.data[jn()],r,r[11],n,r[o+1]=function kk(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=gt(di(n)))),n}(t,e),i,o)}function zf(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=Fa(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function Fa(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ci(n,o,!!e||t[++s]))}return void 0===n?null:n}function f_(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const u=n[r],c=Array.isArray(u),f=c?u[1]:u,p=null===f;let m=e[r+1];m===ke&&(m=p?it:void 0);let y=p?Mh(m,i):f===i?m:void 0;if(c&&!rc(y)&&(y=Mh(u,i)),rc(y)&&(a=y,o))return a;const v=n[r+1];r=o?Fi(v):fr(v)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(a=Mh(u,i))}return a}function rc(n){return void 0!==n}function l(n,t=""){const e=F(),i=Ye(),r=n+22,s=i.firstCreatePass?uo(i,r,1,t,null):i.data[r],o=e[r]=function Vh(n,t){return n.createText(t)}(e[11],t);Nu(i,e,o,s),qi(s,!1)}function ut(n){return tt("",n,""),ut}function tt(n,t,e){const i=F(),r=ho(i,n,t,e);return r!==ke&&pr(i,jn(),r),tt}function Wf(n,t,e,i,r){const s=F(),o=fo(s,n,t,e,i,r);return o!==ke&&pr(s,jn(),o),Wf}const ws=void 0;var Jk=["en",[["a","p"],["AM","PM"],ws],[["AM","PM"],ws,ws],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ws,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ws,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ws,"{1} 'at' {0}",ws],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Yk(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let wo={};function $n(n){const t=function Zk(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=R_(t);if(e)return e;const i=t.split("-")[0];if(e=R_(i),e)return e;if("en"===i)return Jk;throw new z(701,!1)}function R_(n){return n in wo||(wo[n]=Dt.ng&&Dt.ng.common&&Dt.ng.common.locales&&Dt.ng.common.locales[n]),wo[n]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const Co="en-US";let L_=Co;function Yf(n,t,e,i,r){if(n=we(n),Array.isArray(n))for(let s=0;s<n.length;s++)Yf(n[s],t,e,i,r);else{const s=Ye(),o=F();let a=ys(n)?n:we(n.provide),u=Rv(n);const c=Tn(),f=1048575&c.providerIndexes,p=c.directiveStart,m=c.providerIndexes>>20;if(ys(n)||!n.multi){const y=new da(u,r,S),v=Zf(a,t,r?f:f+m,p);-1===v?(wh(Iu(c,o),s,a),Jf(s,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(y),o.push(y)):(e[v]=y,o[v]=y)}else{const y=Zf(a,t,f+m,p),v=Zf(a,t,f,f+m),b=y>=0&&e[y],w=v>=0&&e[v];if(r&&!w||!r&&!b){wh(Iu(c,o),s,a);const D=function K2(n,t,e,i,r){const s=new da(n,e,S);return s.multi=[],s.index=t,s.componentProviders=0,ow(s,r,i&&!e),s}(r?q2:W2,e.length,r,i,u);!r&&w&&(e[v].providerFactory=D),Jf(s,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),e.push(D),o.push(D)}else Jf(s,n,y>-1?y:v,ow(e[r?v:y],u,!r&&i));!r&&i&&w&&e[v].componentProviders++}}}function Jf(n,t,e,i){const r=ys(t),s=function tI(n){return!!n.useClass}(t);if(r||s){const u=(s?we(t.useClass):t).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const f=c.indexOf(e);-1===f?c.push(e,[i,u]):c[f+1].push(i,u)}else c.push(e,u)}}}function ow(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Zf(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function W2(n,t,e,i){return Qf(this.multi,[])}function q2(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ks(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),Qf(r,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Qf(r,s);return s}function Qf(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function yt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function z2(n,t,e){const i=Ye();if(i.firstCreatePass){const r=Li(n);Yf(e,i.data,i.blueprint,r,!0),Yf(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Cs{}class aw{}class lw extends Cs{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uf(this);const i=si(t);this._bootstrapComponents=hr(i.bootstrap),this._r3Injector=Yv(t,e,[{provide:Cs,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],gt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Xf extends aw{constructor(t){super(),this.moduleType=t}create(t){return new lw(this.moduleType,t)}}class J2 extends Cs{constructor(t,e,i){super(),this.componentFactoryResolver=new Uf(this),this.instance=null;const r=new Ov([...t,{provide:Cs,useValue:this},{provide:Sa,useValue:this.componentFactoryResolver}],e||$u(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uc(n,t,e=null){return new J2(n,t,e).injector}let Z2=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Av(0,e.type),r=i.length>0?uc([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ee({token:n,providedIn:"environment",factory:()=>new n(N(dr))}),n})();function uw(n){n.getStandaloneInjector=t=>t.get(Z2).getOrCreateStandaloneInjector(n)}function gr(n,t,e,i){return function yw(n,t,e,i,r,s){const o=t+e;return Rn(n,o,r)?Zi(n,o+1,s?i.call(s,r):i(r)):$a(n,o+1)}(F(),Bn(),n,t,e,i)}function Ga(n,t,e,i,r){return vw(F(),Bn(),n,t,e,i,r)}function tp(n,t,e,i,r,s){return function bw(n,t,e,i,r,s,o,a){const u=t+e;return function nc(n,t,e,i,r){const s=_s(n,t,e,i);return Rn(n,t+2,r)||s}(n,u,r,s,o)?Zi(n,u+3,a?i.call(a,r,s,o):i(r,s,o)):$a(n,u+3)}(F(),Bn(),n,t,e,i,r,s)}function $a(n,t){const e=n[t];return e===ke?void 0:e}function vw(n,t,e,i,r,s,o){const a=t+e;return _s(n,a,r,s)?Zi(n,a+2,o?i.call(o,r,s):i(r,s)):$a(n,a+2)}function _w(n,t,e,i,r,s,o,a,u){const c=t+e;return function Di(n,t,e,i,r,s){const o=_s(n,t,e,i);return _s(n,t+2,r,s)||o}(n,c,r,s,o,a)?Zi(n,c+4,u?i.call(u,r,s,o,a):i(r,s,o,a)):$a(n,c+4)}function cc(n,t){const e=Ye();let i;const r=n+22;e.firstCreatePass?(i=function hx(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=ds(i.type)),o=_i(S);try{const a=Su(!1),u=s();return Su(a),function lk(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,F(),r,u),u}finally{_i(o)}}function np(n,t,e,i){const r=n+22,s=F(),o=$s(s,r);return za(s,r)?vw(s,Bn(),t,o.transform,e,i,o):o.transform(e,i)}function za(n,t){return n[1].data[t].pure}function ip(n){return t=>{setTimeout(n,void 0,t)}}const Qe=class mx extends K{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=ip(s),r&&(r=ip(r)),o&&(o=ip(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof V&&t.add(a),a}};function yx(){return this._results[bs()]()}class rp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=bs(),i=rp.prototype;i[e]||(i[e]=yx)}get changes(){return this._changes||(this._changes=new Qe)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=ui(t);(this._changesDetected=!function DT(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mr=(()=>{class n{}return n.__NG_ELEMENT_ID__=_x,n})();const vx=mr,bx=class extends vx{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=Yu(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),Sf(i,r,t),new Aa(r)}};function _x(){return dc(Tn(),F())}function dc(n,t){return 4&n.type?new bx(t,n,so(n,t)):null}let Hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=wx,n})();function wx(){return Mw(Tn(),F())}const Cx=Hi,Dw=class extends Cx{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return so(this._hostTNode,this._hostLView)}get injector(){return new Ys(this._hostTNode,this._hostLView)}get parentInjector(){const t=Au(this._hostTNode,this._hostLView);if(my(t)){const e=qs(t,this._hostLView),i=Ws(t);return new Ys(e[1].data[i+8],e)}return new Ys(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ew(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,i,r,s){const o=t&&!function ma(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const p=e||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const u=o?t:new ka(at(t)),c=i||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?c:this.parentInjector).get(dr,null);m&&(s=m)}const f=u.create(c,r,void 0,s);return this.insert(f.hostView,a),f}insert(t,e){const i=t._lView,r=i[1];if(function $M(n){return Ri(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const p=i[3],m=new Dw(p,p[6],p[3]);m.detach(m.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function fS(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],Sy(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function pS(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,o,s);const a=Gh(s,o),u=i[11],c=Lu(u,o[7]);return null!==c&&function cS(n,t,e,i,r,s){i[0]=r,i[6]=t,Ea(n,i,e,1,r,s)}(r,o[6],u,i,c,a),t.attachToViewContainerRef(),Sy(sp(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ew(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Hh(this._lContainer,e);i&&(xu(sp(this._lContainer),e),ev(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Hh(this._lContainer,e);return i&&null!=xu(sp(this._lContainer),e)?new Aa(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function Ew(n){return n[8]}function sp(n){return n[8]||(n[8]=[])}function Mw(n,t){let e;const i=t[n.index];if(Ri(i))e=i;else{let r;if(8&n.type)r=un(i);else{const s=t[11];r=s.createComment("");const o=ai(n,t);ps(s,Lu(s,o),r,function vS(n,t){return n.nextSibling(t)}(s,o),!1)}t[n.index]=e=wb(i,t,r,n),Zu(t,e)}return new Dw(e,n,t)}class op{constructor(t){this.queryList=t,this.matches=null}clone(){return new op(this.queryList)}setDirty(){this.queryList.setDirty()}}class ap{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ap(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==kw(t,e).matches&&this.queries[e].setDirty()}}class Tw{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class lp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new lp(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class up{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new up(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Mx(e,s)),this.matchTNodeWithReadOption(t,e,ku(e,t,s,!1,!1))}else i===mr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ku(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Gt||r===Hi||r===mr&&4&e.type)this.addMatch(e.index,-2);else{const s=ku(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Mx(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Sx(n,t,e,i){return-1===e?function Tx(n,t){return 11&n.type?so(n,t):4&n.type?dc(n,t):null}(t,n):-2===e?function Ix(n,t,e){return e===Gt?so(t,n):e===mr?dc(t,n):e===Hi?Mw(t,n):void 0}(n,t,i):Ks(n,n[1],e,t)}function Sw(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:Sx(t,s[c],o[u+1],e.metadata.read))}r.matches=a}return r.matches}function cp(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=Sw(n,t,r,e);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)i.push(o[a/2]);else{const c=s[a+1],f=t[-u];for(let p=10;p<f.length;p++){const m=f[p];m[17]===m[3]&&cp(m[1],m,c,i)}if(null!==f[9]){const p=f[9];for(let m=0;m<p.length;m++){const y=p[m];cp(y[1],y,c,i)}}}}}return i}function vt(n){const t=F(),e=Ye(),i=oy();hh(i+1);const r=kw(e,i);if(n.dirty&&function GM(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?cp(e,t,i,[]):Sw(e,t,r,i);n.reset(s,hI),n.notifyOnChanges()}return!0}return!1}function Rt(n,t,e){const i=Ye();i.firstCreatePass&&(Aw(i,new Tw(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),Iw(i,F(),t)}function hc(n,t,e,i){const r=Ye();if(r.firstCreatePass){const s=Tn();Aw(r,new Tw(t,e,i),s.index),function kx(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}Iw(r,F(),e)}function bt(){return function Ax(n,t){return n[19].queries[t].queryList}(F(),oy())}function Iw(n,t,e){const i=new rp(4==(4&e));gb(n,t,i,i.destroy),null===t[19]&&(t[19]=new ap),t[19].queries.push(new op(i))}function Aw(n,t,e){null===n.queries&&(n.queries=new lp),n.queries.track(new up(t,e))}function kw(n,t){return n.queries.getByIndex(t)}function pc(...n){}const gc=new X("Application Initializer");let mc=(()=>{class n{constructor(e){this.appInits=e,this.resolve=pc,this.reject=pc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(La(s))e.push(s);else if(Gf(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(N(gc,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qa=new X("AppId",{providedIn:"root",factory:function Yw(){return`${gp()}${gp()}${gp()}`}});function gp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Jw=new X("Platform Initializer"),Ka=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zw=new X("appBootstrapListener");let Qx=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const er=new X("LocaleId",{providedIn:"root",factory:()=>qe(er,Ce.Optional|Ce.SkipSelf)||function Xx(){return typeof $localize<"u"&&$localize.locale||Co}()});class tP{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let mp=(()=>{class n{compileModuleSync(e){return new Xf(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=hr(si(e).declarations).reduce((o,a)=>{const u=at(a);return u&&o.push(new ka(u)),o},[]);return new tP(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rP=(()=>Promise.resolve(0))();function yp(n){typeof Zone>"u"?rP.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class _t{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qe(!1),this.onMicrotaskEmpty=new Qe(!1),this.onStable=new Qe(!1),this.onError=new Qe(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function sP(){let n=Dt.requestAnimationFrame,t=Dt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function lP(n){const t=()=>{!function aP(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Dt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bp(n),n.isCheckStableRunning=!0,vp(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return e1(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),t1(n)}},onInvoke:(e,i,r,s,o,a,u)=>{try{return e1(n),e.invoke(r,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),t1(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,bp(n),vp(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(_t.isInAngularZone())throw new z(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,oP,pc,pc);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const oP={};function vp(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function e1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function t1(n){n._nesting--,vp(n)}class uP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qe,this.onMicrotaskEmpty=new Qe,this.onStable=new Qe,this.onError=new Qe}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const n1=new X(""),yc=new X("");let Cp,_p=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Cp||(function cP(n){Cp=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_t.assertNotInAngularZone(),yp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(N(_t),N(wp),N(yc))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})(),wp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Cp?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Vr=null;const r1=new X("AllowMultipleToken"),Dp=new X("PlatformDestroyListeners");class s1{constructor(t,e){this.name=t,this.token=e}}function a1(n,t,e=[]){const i=`Platform: ${t}`,r=new X(i);return(s=[])=>{let o=Ep();if(!o||o.injector.get(r1,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function fP(n){if(Vr&&!Vr.get(r1,!1))throw new z(400,!1);Vr=n;const t=n.get(u1);(function o1(n){const t=n.get(Jw,null);t&&t.forEach(e=>e())})(n)}(function l1(n=[],t){return hi.create({name:t,providers:[{provide:tf,useValue:"platform"},{provide:Dp,useValue:new Set([()=>Vr=null])},...n]})}(a,i))}return function gP(n){const t=Ep();if(!t)throw new z(401,!1);return t}()}}function Ep(){return Vr?.get(u1)??null}let u1=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function d1(n,t){let e;return e="noop"===n?new uP:("zone.js"===n?void 0:n)||new _t(t),e}(i?.ngZone,function c1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:_t,useValue:r}];return r.run(()=>{const o=hi.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),u=a.injector.get(oo,null);if(!u)throw new z(402,!1);return r.runOutsideAngular(()=>{const c=r.onError.subscribe({next:f=>{u.handleError(f)}});a.onDestroy(()=>{bc(this._modules,a),c.unsubscribe()})}),function h1(n,t,e){try{const i=e();return La(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(u,r,()=>{const c=a.injector.get(mc);return c.runInitializers(),c.donePromise.then(()=>(function N_(n){ri(n,"Expected localeId to be defined"),"string"==typeof n&&(L_=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(er,Co)||Co),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=f1({},i);return function dP(n,t,e){const i=new Xf(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(vc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new z(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Dp,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(N(hi))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function f1(n,t){return Array.isArray(t)?t.reduce(f1,n):{...n,...t}}let vc=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new q(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new q(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{_t.assertNotInAngularZone(),yp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{_t.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function Ir(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return De(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof q?n[0]:Vn(t)(en(n,e))}(s,o.pipe(function oM(){return n=>Jn()(function iM(n,t){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new rM(r,t));const s=Object.create(i,os);return s.source=i,s.subjectFactory=r,s}}(sM)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof Lv;if(!this._injector.get(mc).done)throw!r&&function Hs(n){const t=at(n)||kn(n)||Hn(n);return null!==t&&t.standalone}(e),new z(405,false);let o;o=r?e:this._injector.get(Sa).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function hP(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Cs),c=o.create(hi.NULL,[],i||o.selector,a),f=c.location.nativeElement,p=c.injector.get(n1,null);return p?.registerApplication(f),c.onDestroy(()=>{this.detachView(c.hostView),bc(this.components,c),p?.unregisterApplication(f)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;bc(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Zw,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>bc(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new z(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(N(_t),N(dr),N(oo))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=yP,n})();function yP(n){return function vP(n,t,e){if(_u(n)&&!e){const i=li(n.index,t);return new Aa(i,i)}return 47&n.type?new Aa(t[16],t):null}(Tn(),F(),16==(16&n))}class v1{constructor(){}supports(t){return xa(t)}create(t){return new EP(t)}}const DP=(n,t)=>t;class EP{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||DP}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<_1(i,r,s)?e:i,a=_1(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,f=u-r;if(c!=f){for(let m=0;m<c;m++){const y=m<s.length?s[m]:s[m]=0,v=y+m;f<=v&&v<c&&(s[m]=y+1)}s[o.previousIndex]=f-c}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xa(t))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function rk(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[bs()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new MP(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new b1),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class MP{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class b1{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new TP,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function _1(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class w1{constructor(){}supports(t){return t instanceof Map||Bf(t)}create(){return new SP}}class SP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Bf(t)))throw new z(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new IP(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class IP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function C1(){return new Cc([new v1])}let Cc=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||C1()),deps:[[n,new ba,new va]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new z(901,!1)}}return n.\u0275prov=ee({token:n,providedIn:"root",factory:C1}),n})();function D1(){return new Ya([new w1])}let Ya=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||D1()),deps:[[n,new ba,new va]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new z(901,!1)}}return n.\u0275prov=ee({token:n,providedIn:"root",factory:D1}),n})();const xP=a1(null,"core",[]);let PP=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(N(vc))},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({}),n})();function Mo(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Dc=null;function tr(){return Dc}class LP{}const Ht=new X("DocumentToken");let Ap=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return function NP(){return N(E1)}()},providedIn:"platform"}),n})();const FP=new X("Location Initialized");let E1=(()=>{class n extends Ap{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tr().getBaseHref(this._doc)}onPopState(e){const i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=tr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){M1()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){M1()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(N(Ht))},n.\u0275prov=ee({token:n,factory:function(){return function VP(){return new E1(N(Ht))}()},providedIn:"platform"}),n})();function M1(){return!!window.history.pushState}function kp(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function T1(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function vr(n){return n&&"?"!==n[0]?"?"+n:n}let Ur=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return qe(xp)},providedIn:"root"}),n})();const S1=new X("appBaseHref");let xp=(()=>{class n extends Ur{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??qe(Ht).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return kp(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+vr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+vr(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+vr(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(N(Ap),N(S1,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),UP=(()=>{class n extends Ur{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=kp(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+vr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+vr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(N(Ap),N(S1,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})(),Ja=(()=>{class n{constructor(e){this._subject=new Qe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=T1(I1(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+vr(i))}normalize(e){return n.stripTrailingSlash(function BP(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,I1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+vr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=vr,n.joinWithSlash=kp,n.stripTrailingSlash=T1,n.\u0275fac=function(e){return new(e||n)(N(Ur))},n.\u0275prov=ee({token:n,factory:function(){return function HP(){return new Ja(N(Ur))}()},providedIn:"root"}),n})();function I1(n){return n.replace(/\/index.html$/,"")}var Kt=(()=>((Kt=Kt||{})[Kt.Format=0]="Format",Kt[Kt.Standalone=1]="Standalone",Kt))(),ze=(()=>((ze=ze||{})[ze.Narrow=0]="Narrow",ze[ze.Abbreviated=1]="Abbreviated",ze[ze.Wide=2]="Wide",ze[ze.Short=3]="Short",ze))(),Bt=(()=>((Bt=Bt||{})[Bt.Short=0]="Short",Bt[Bt.Medium=1]="Medium",Bt[Bt.Long=2]="Long",Bt[Bt.Full=3]="Full",Bt))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function Ec(n,t){return Mi($n(n)[re.DateFormat],t)}function Mc(n,t){return Mi($n(n)[re.TimeFormat],t)}function Tc(n,t){return Mi($n(n)[re.DateTimeFormat],t)}function Ei(n,t){const e=$n(n),i=e[re.NumberSymbols][t];if(typeof i>"u"){if(t===_e.CurrencyDecimal)return e[re.NumberSymbols][_e.Decimal];if(t===_e.CurrencyGroup)return e[re.NumberSymbols][_e.Group]}return i}function k1(n){if(!n[re.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[re.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Mi(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Op(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const eO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Za={},tO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var hn=(()=>((hn=hn||{})[hn.Short=0]="Short",hn[hn.ShortGMT=1]="ShortGMT",hn[hn.Long=2]="Long",hn[hn.Extended=3]="Extended",hn))(),Ee=(()=>((Ee=Ee||{})[Ee.FullYear=0]="FullYear",Ee[Ee.Month=1]="Month",Ee[Ee.Date=2]="Date",Ee[Ee.Hours=3]="Hours",Ee[Ee.Minutes=4]="Minutes",Ee[Ee.Seconds=5]="Seconds",Ee[Ee.FractionalSeconds=6]="FractionalSeconds",Ee[Ee.Day=7]="Day",Ee))(),He=(()=>((He=He||{})[He.DayPeriods=0]="DayPeriods",He[He.Days=1]="Days",He[He.Months=2]="Months",He[He.Eras=3]="Eras",He))();function nO(n,t,e,i){let r=function dO(n){if(O1(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return Sc(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(eO))return function hO(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,u=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,u,c),t}(i)}const t=new Date(n);if(!O1(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=br(e,t)||t;let a,o=[];for(;t;){if(a=tO.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const f=o.pop();if(!f)break;t=f}}let u=r.getTimezoneOffset();i&&(u=P1(i,u),r=function cO(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function uO(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(P1(t,r)-r))}(r,i,!0));let c="";return o.forEach(f=>{const p=function lO(n){if(Lp[n])return Lp[n];let t;switch(n){case"G":case"GG":case"GGG":t=Mt(He.Eras,ze.Abbreviated);break;case"GGGG":t=Mt(He.Eras,ze.Wide);break;case"GGGGG":t=Mt(He.Eras,ze.Narrow);break;case"y":t=nn(Ee.FullYear,1,0,!1,!0);break;case"yy":t=nn(Ee.FullYear,2,0,!0,!0);break;case"yyy":t=nn(Ee.FullYear,3,0,!1,!0);break;case"yyyy":t=nn(Ee.FullYear,4,0,!1,!0);break;case"Y":t=xc(1);break;case"YY":t=xc(2,!0);break;case"YYY":t=xc(3);break;case"YYYY":t=xc(4);break;case"M":case"L":t=nn(Ee.Month,1,1);break;case"MM":case"LL":t=nn(Ee.Month,2,1);break;case"MMM":t=Mt(He.Months,ze.Abbreviated);break;case"MMMM":t=Mt(He.Months,ze.Wide);break;case"MMMMM":t=Mt(He.Months,ze.Narrow);break;case"LLL":t=Mt(He.Months,ze.Abbreviated,Kt.Standalone);break;case"LLLL":t=Mt(He.Months,ze.Wide,Kt.Standalone);break;case"LLLLL":t=Mt(He.Months,ze.Narrow,Kt.Standalone);break;case"w":t=Rp(1);break;case"ww":t=Rp(2);break;case"W":t=Rp(1,!0);break;case"d":t=nn(Ee.Date,1);break;case"dd":t=nn(Ee.Date,2);break;case"c":case"cc":t=nn(Ee.Day,1);break;case"ccc":t=Mt(He.Days,ze.Abbreviated,Kt.Standalone);break;case"cccc":t=Mt(He.Days,ze.Wide,Kt.Standalone);break;case"ccccc":t=Mt(He.Days,ze.Narrow,Kt.Standalone);break;case"cccccc":t=Mt(He.Days,ze.Short,Kt.Standalone);break;case"E":case"EE":case"EEE":t=Mt(He.Days,ze.Abbreviated);break;case"EEEE":t=Mt(He.Days,ze.Wide);break;case"EEEEE":t=Mt(He.Days,ze.Narrow);break;case"EEEEEE":t=Mt(He.Days,ze.Short);break;case"a":case"aa":case"aaa":t=Mt(He.DayPeriods,ze.Abbreviated);break;case"aaaa":t=Mt(He.DayPeriods,ze.Wide);break;case"aaaaa":t=Mt(He.DayPeriods,ze.Narrow);break;case"b":case"bb":case"bbb":t=Mt(He.DayPeriods,ze.Abbreviated,Kt.Standalone,!0);break;case"bbbb":t=Mt(He.DayPeriods,ze.Wide,Kt.Standalone,!0);break;case"bbbbb":t=Mt(He.DayPeriods,ze.Narrow,Kt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Mt(He.DayPeriods,ze.Abbreviated,Kt.Format,!0);break;case"BBBB":t=Mt(He.DayPeriods,ze.Wide,Kt.Format,!0);break;case"BBBBB":t=Mt(He.DayPeriods,ze.Narrow,Kt.Format,!0);break;case"h":t=nn(Ee.Hours,1,-12);break;case"hh":t=nn(Ee.Hours,2,-12);break;case"H":t=nn(Ee.Hours,1);break;case"HH":t=nn(Ee.Hours,2);break;case"m":t=nn(Ee.Minutes,1);break;case"mm":t=nn(Ee.Minutes,2);break;case"s":t=nn(Ee.Seconds,1);break;case"ss":t=nn(Ee.Seconds,2);break;case"S":t=nn(Ee.FractionalSeconds,1);break;case"SS":t=nn(Ee.FractionalSeconds,2);break;case"SSS":t=nn(Ee.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Ac(hn.Short);break;case"ZZZZZ":t=Ac(hn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Ac(hn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Ac(hn.Long);break;default:return null}return Lp[n]=t,t}(f);c+=p?p(r,e,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Sc(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function br(n,t){const e=function jP(n){return $n(n)[re.LocaleId]}(n);if(Za[e]=Za[e]||{},Za[e][t])return Za[e][t];let i="";switch(t){case"shortDate":i=Ec(n,Bt.Short);break;case"mediumDate":i=Ec(n,Bt.Medium);break;case"longDate":i=Ec(n,Bt.Long);break;case"fullDate":i=Ec(n,Bt.Full);break;case"shortTime":i=Mc(n,Bt.Short);break;case"mediumTime":i=Mc(n,Bt.Medium);break;case"longTime":i=Mc(n,Bt.Long);break;case"fullTime":i=Mc(n,Bt.Full);break;case"short":const r=br(n,"shortTime"),s=br(n,"shortDate");i=Ic(Tc(n,Bt.Short),[r,s]);break;case"medium":const o=br(n,"mediumTime"),a=br(n,"mediumDate");i=Ic(Tc(n,Bt.Medium),[o,a]);break;case"long":const u=br(n,"longTime"),c=br(n,"longDate");i=Ic(Tc(n,Bt.Long),[u,c]);break;case"full":const f=br(n,"fullTime"),p=br(n,"fullDate");i=Ic(Tc(n,Bt.Full),[f,p])}return i&&(Za[e][t]=i),i}function Ic(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Gi(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function nn(n,t,e=0,i=!1,r=!1){return function(s,o){let a=function rO(n,t){switch(n){case Ee.FullYear:return t.getFullYear();case Ee.Month:return t.getMonth();case Ee.Date:return t.getDate();case Ee.Hours:return t.getHours();case Ee.Minutes:return t.getMinutes();case Ee.Seconds:return t.getSeconds();case Ee.FractionalSeconds:return t.getMilliseconds();case Ee.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===Ee.Hours)0===a&&-12===e&&(a=12);else if(n===Ee.FractionalSeconds)return function iO(n,t){return Gi(n,3).substring(0,t)}(a,t);const u=Ei(o,_e.MinusSign);return Gi(a,t,u,i,r)}}function Mt(n,t,e=Kt.Format,i=!1){return function(r,s){return function sO(n,t,e,i,r,s){switch(e){case He.Months:return function zP(n,t,e){const i=$n(n),s=Mi([i[re.MonthsFormat],i[re.MonthsStandalone]],t);return Mi(s,e)}(t,r,i)[n.getMonth()];case He.Days:return function $P(n,t,e){const i=$n(n),s=Mi([i[re.DaysFormat],i[re.DaysStandalone]],t);return Mi(s,e)}(t,r,i)[n.getDay()];case He.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function YP(n){const t=$n(n);return k1(t),(t[re.ExtraData][2]||[]).map(i=>"string"==typeof i?Op(i):[Op(i[0]),Op(i[1])])}(t),f=function JP(n,t,e){const i=$n(n);k1(i);const s=Mi([i[re.ExtraData][0],i[re.ExtraData][1]],t)||[];return Mi(s,e)||[]}(t,r,i),p=c.findIndex(m=>{if(Array.isArray(m)){const[y,v]=m,b=o>=y.hours&&a>=y.minutes,w=o<v.hours||o===v.hours&&a<v.minutes;if(y.hours<v.hours){if(b&&w)return!0}else if(b||w)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(-1!==p)return f[p]}return function GP(n,t,e){const i=$n(n),s=Mi([i[re.DayPeriodsFormat],i[re.DayPeriodsStandalone]],t);return Mi(s,e)}(t,r,i)[o<12?0:1];case He.Eras:return function WP(n,t){return Mi($n(n)[re.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Ac(n){return function(t,e,i){const r=-1*i,s=Ei(e,_e.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case hn.Short:return(r>=0?"+":"")+Gi(o,2,s)+Gi(Math.abs(r%60),2,s);case hn.ShortGMT:return"GMT"+(r>=0?"+":"")+Gi(o,1,s);case hn.Long:return"GMT"+(r>=0?"+":"")+Gi(o,2,s)+":"+Gi(Math.abs(r%60),2,s);case hn.Extended:return 0===i?"Z":(r>=0?"+":"")+Gi(o,2,s)+":"+Gi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function x1(n){return Sc(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Rp(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=x1(e),o=function aO(n){const t=Sc(n,0,1).getDay();return Sc(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Gi(r,n,Ei(i,_e.MinusSign))}}function xc(n,t=!1){return function(e,i){return Gi(x1(e).getFullYear(),n,Ei(i,_e.MinusSign),t)}}const Lp={};function P1(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function O1(n){return n instanceof Date&&!isNaN(n.valueOf())}function F1(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Xa=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(xa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${gt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(S(Cc),S(Ya),S(Gt),S(ei))},n.\u0275dir=ye({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class MO{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let el=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new MO(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),H1(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{H1(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(S(Hi),S(mr),S(Cc))},n.\u0275dir=ye({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function H1(n,t){n.context.$implicit=t.item}let Sn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new SO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){B1("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){B1("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(S(Hi),S(mr))},n.\u0275dir=ye({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class SO{constructor(){this.$implicit=null,this.ngIf=null}}function B1(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${gt(t)}'.`)}let G1=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:Xn.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(S(Gt),S(Ya),S(ei))},n.\u0275dir=ye({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),$1=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(S(Hi))},n.\u0275dir=ye({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Qn]}),n})();const BO=new X("DATE_PIPE_DEFAULT_TIMEZONE"),jO=new X("DATE_PIPE_DEFAULT_OPTIONS");let Gp=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return nO(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function $i(n,t){return new z(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(S(er,16),S(BO,24),S(jO,24))},n.\u0275pipe=Un({name:"date",type:n,pure:!0,standalone:!0}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({}),n})();const q1="browser";function K1(n){return n===q1}let nR=(()=>{class n{}return n.\u0275prov=ee({token:n,providedIn:"root",factory:()=>new iR(N(Ht),window)}),n})();class iR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function rR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Y1(this.window.history)||Y1(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Y1(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class J1{}class xR extends LP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kp extends xR{static makeCurrent(){!function RP(n){Dc||(Dc=n)}(new Kp)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function PR(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}();return null==e?null:function OR(n){Rc=Rc||document.createElement("a"),Rc.setAttribute("href",n);const t=Rc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return F1(document.cookie,t)}}let Rc,nl=null;const n0=new X("TRANSITION_ID"),LR=[{provide:gc,useFactory:function RR(n,t,e){return()=>{e.get(mc).donePromise.then(()=>{const i=tr(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[n0,Ht,hi],multi:!0}];let FR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const Lc=new X("EventManagerPlugins");let Nc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(N(Lc),N(_t))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();class r0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=tr().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let s0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})(),il=(()=>{class n extends s0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(o0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(o0))}}return n.\u0275fac=function(e){return new(e||n)(N(Ht))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function o0(n){tr().remove(n)}const Yp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jp=/%COMP%/g;function Fc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Fc(n,r,e):(r=r.replace(Jp,n),e.push(r))}return e}function u0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Zp=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Qp(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Wi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new GR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Wi.ShadowDom:return new $R(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Fc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(N(Nc),N(il),N(qa))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();class Qp{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Yp[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(d0(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(d0(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Yp[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Yp[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(Xn.DashCase|Xn.Important)?t.style.setProperty(e,i,r&Xn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&Xn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,u0(i)):this.eventManager.addEventListener(t,e,u0(i))}}function d0(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class GR extends Qp{constructor(t,e,i,r){super(t),this.component=i;const s=Fc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function HR(n){return"_ngcontent-%COMP%".replace(Jp,n)}(r+"-"+i.id),this.hostAttr=function BR(n){return"_nghost-%COMP%".replace(Jp,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class $R extends Qp{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Fc(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let zR=(()=>{class n extends r0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(N(Ht))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const h0=["alt","control","meta","shift"],WR={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qR={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let KR=(()=>{class n extends r0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tr().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),h0.forEach(c=>{const f=i.indexOf(c);f>-1&&(i.splice(f,1),o+=c+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(e,i){let r=WR[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),h0.forEach(o=>{o!==r&&(0,qR[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(N(Ht))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const p0=[{provide:Ka,useValue:q1},{provide:Jw,useValue:function YR(){Kp.makeCurrent()},multi:!0},{provide:Ht,useFactory:function ZR(){return function TS(n){qh=n}(document),document},deps:[]}],QR=a1(xP,"browser",p0),g0=new X(""),m0=[{provide:yc,useClass:class NR{addToWindow(t){Dt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Dt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Dt.getAllAngularRootElements=()=>t.getAllRootElements(),Dt.frameworkStabilizers||(Dt.frameworkStabilizers=[]),Dt.frameworkStabilizers.push(i=>{const r=Dt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?tr().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:n1,useClass:_p,deps:[_t,wp,yc]},{provide:_p,useClass:_p,deps:[_t,wp,yc]}],y0=[{provide:tf,useValue:"root"},{provide:oo,useFactory:function JR(){return new oo},deps:[]},{provide:Lc,useClass:zR,multi:!0,deps:[Ht,_t,Ka]},{provide:Lc,useClass:KR,multi:!0,deps:[Ht]},{provide:Zp,useClass:Zp,deps:[Nc,il,qa]},{provide:Fv,useExisting:Zp},{provide:s0,useExisting:il},{provide:il,useClass:il,deps:[Ht]},{provide:Nc,useClass:Nc,deps:[Lc,_t]},{provide:J1,useClass:FR,deps:[]},[]];let XR=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:qa,useValue:e.appId},{provide:n0,useExisting:qa},LR]}}}return n.\u0275fac=function(e){return new(e||n)(N(g0,12))},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({providers:[...y0,...m0],imports:[W1,PP]}),n})(),v0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(N(Ht))},n.\u0275prov=ee({token:n,factory:function(e){let i=null;return i=e?new e:function tL(){return new v0(N(Ht))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let w0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(e){let i=null;return i=e?new(e||n):N(C0),i},providedIn:"root"}),n})(),C0=(()=>{class n extends w0{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case mt.NONE:return i;case mt.HTML:return Yi(i,"HTML")?di(i):Dv(this._doc,String(i)).toString();case mt.STYLE:return Yi(i,"Style")?di(i):i;case mt.SCRIPT:if(Yi(i,"Script"))return di(i);throw new Error("unsafe value used in a script context");case mt.URL:return Yi(i,"URL")?di(i):Hu(String(i));case mt.RESOURCE_URL:if(Yi(i,"ResourceURL"))return di(i);throw new Error(`unsafe value used in a resource URL context (see ${uu})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${uu})`)}}bypassSecurityTrustHtml(e){return function OS(n){return new SS(n)}(e)}bypassSecurityTrustStyle(e){return function RS(n){return new IS(n)}(e)}bypassSecurityTrustScript(e){return function LS(n){return new AS(n)}(e)}bypassSecurityTrustUrl(e){return function NS(n){return new kS(n)}(e)}bypassSecurityTrustResourceUrl(e){return function FS(n){return new xS(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(N(Ht))},n.\u0275prov=ee({token:n,factory:function(e){let i=null;return i=e?new e:function lL(n){return new C0(n.get(Ht))}(N(hi)),i},providedIn:"root"}),n})();function pe(...n){let t=n[n.length-1];return De(t)?(n.pop(),be(n,t)):en(n)}class Nn extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}const Vc=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();class uL extends Me{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class cL extends Me{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function dL(n,t,e,i,r=new cL(n,e,i)){if(!r.closed)return t instanceof q?t.subscribe(r):wt(t)(r)}const D0={};function tg(...n){let t,e;return De(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Ke(n[0])&&(n=n[0]),en(n,e).lift(new hL(t))}class hL{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new fL(t,this.resultSelector))}}class fL extends uL{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(D0),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(dL(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,o=this.toRespond?r[i]===D0?--this.toRespond:this.toRespond:0;r[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Uc(...n){return function pL(){return Vn(1)}()(pe(...n))}const Br=new q(n=>n.complete());function Hc(n){return n?function gL(n){return new q(t=>n.schedule(()=>t.complete()))}(n):Br}function E0(n){return new q(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?ce(e):Hc()).subscribe(t)})}function zi(n,t){return new q(t?e=>t.schedule(mL,0,{error:n,subscriber:e}):e=>e.error(n))}function mL({error:n,subscriber:t}){t.error(n)}function gi(n,t){return"function"==typeof t?e=>e.pipe(gi((i,r)=>ce(n(i,r)).pipe(G((s,o)=>t(i,s,r,o))))):e=>e.lift(new yL(n))}class yL{constructor(t){this.project=t}call(t,e){return e.subscribe(new vL(t,this.project))}}class vL extends qt{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new At(this),r=this.destination;r.add(i),this.innerSubscription=vn(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const M0=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Es(n){return t=>0===n?Hc():t.lift(new bL(n))}class bL{constructor(t){if(this.total=t,this.total<0)throw new M0}call(t,e){return e.subscribe(new _L(t,this.total))}}class _L extends Me{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function T0(...n){const t=n[n.length-1];return De(t)?(n.pop(),e=>Uc(n,e,t)):e=>Uc(n,e)}function Wn(n,t){return function(i){return i.lift(new wL(n,t))}}class wL{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new CL(t,this.predicate,this.thisArg))}}class CL extends Me{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Bc(n=null){return t=>t.lift(new DL(n))}class DL{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new EL(t,this.defaultValue))}}class EL extends Me{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function S0(n=SL){return t=>t.lift(new ML(n))}class ML{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new TL(t,this.errorFactory))}}class TL extends Me{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function SL(){return new Vc}function jr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Wn((r,s)=>n(r,s,i)):W,Es(1),e?Bc(t):S0(()=>new Vc))}function Gr(n,t){return kt(n,t,1)}function $r(){}function Tt(n,t,e){return function(r){return r.lift(new IL(n,t,e))}}class IL{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new AL(t,this.nextOrObserver,this.error,this.complete))}}class AL extends Me{constructor(t,e,i,r){super(t),this._tapNext=$r,this._tapError=$r,this._tapComplete=$r,this._tapError=i||$r,this._tapComplete=r||$r,We(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||$r,this._tapError=e.error||$r,this._tapComplete=e.complete||$r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function zr(n){return function(e){const i=new kL(n),r=e.lift(i);return i.caught=r}}class kL{constructor(t){this.selector=t}call(t,e){return e.subscribe(new xL(t,this.selector,this.caught))}}class xL extends qt{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new At(this);this.add(i);const r=vn(e,i);r!==i&&this.add(r)}}}function I0(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new PL(n,t,e))}}class PL{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new OL(t,this.accumulator,this.seed,this.hasSeed))}}class OL extends Me{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function ng(n){return function(e){return 0===n?Hc():e.lift(new RL(n))}}class RL{constructor(t){if(this.total=t,this.total<0)throw new M0}call(t,e){return e.subscribe(new LL(t,this.total))}}class LL extends Me{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=e++%i;t.next(r[o])}}t.complete()}}function A0(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Wn((r,s)=>n(r,s,i)):W,ng(1),e?Bc(t):S0(()=>new Vc))}class FL{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new VL(t,this.predicate,this.inclusive))}}class VL extends Me{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class HL{constructor(t){this.value=t}call(t,e){return e.subscribe(new BL(t,this.value))}}class BL extends Me{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function ig(n){return t=>t.lift(new jL(n))}class jL{constructor(t){this.callback=t}call(t,e){return e.subscribe(new GL(t,this.callback))}}class GL extends Me{constructor(t,e){super(t),this.add(new V(e))}}const Ge="primary",rl=Symbol("RouteTitle");class $L{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function To(n){return new $L(n)}function zL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function nr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!k0(n[r],t[r]))return!1;return!0}function k0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function x0(n){return Array.prototype.concat.apply([],n)}function P0(n){return n.length>0?n[n.length-1]:null}function In(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wr(n){return Gf(n)?n:La(n)?ce(Promise.resolve(n)):pe(n)}const jc=!1,qL={exact:function L0(n,t,e){if(!Ts(n.segments,t.segments)||!Gc(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!L0(n.children[i],t.children[i],e))return!1;return!0},subset:N0},O0={exact:function KL(n,t){return nr(n,t)},subset:function YL(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>k0(n[e],t[e]))},ignored:()=>!0};function R0(n,t,e){return qL[e.paths](n.root,t.root,e.matrixParams)&&O0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function N0(n,t,e){return F0(n,t,t.segments,e)}function F0(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Ts(r,e)||t.hasChildren()||!Gc(r,e,i))}if(n.segments.length===e.length){if(!Ts(n.segments,e)||!Gc(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!N0(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Ts(n.segments,r)&&Gc(n.segments,r,i)&&n.children[Ge])&&F0(n.children[Ge],t,s,i)}}function Gc(n,t,e){return t.every((i,r)=>O0[e](n[r].parameters,i.parameters))}class Ms{constructor(t=new $e([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return QL.serialize(this)}}class $e{constructor(t,e){this.segments=t,this.children=e,this.parent=null,In(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return $c(this)}}class sl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=To(this.parameters)),this._parameterMap}toString(){return B0(this)}}function Ts(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let V0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return new rg},providedIn:"root"}),n})();class rg{parse(t){const e=new aN(t);return new Ms(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ol(t.root,!0)}`,i=function tN(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${zc(e)}=${zc(r)}`).join("&"):`${zc(e)}=${zc(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function XL(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const QL=new rg;function $c(n){return n.segments.map(t=>B0(t)).join("/")}function ol(n,t){if(!n.hasChildren())return $c(n);if(t){const e=n.children[Ge]?ol(n.children[Ge],!1):"",i=[];return In(n.children,(r,s)=>{s!==Ge&&i.push(`${s}:${ol(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function ZL(n,t){let e=[];return In(n.children,(i,r)=>{r===Ge&&(e=e.concat(t(i,r)))}),In(n.children,(i,r)=>{r!==Ge&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ge?[ol(n.children[Ge],!1)]:[`${r}:${ol(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ge]?`${$c(n)}/${e[0]}`:`${$c(n)}/(${e.join("//")})`}}function U0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function zc(n){return U0(n).replace(/%3B/gi,";")}function sg(n){return U0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wc(n){return decodeURIComponent(n)}function H0(n){return Wc(n.replace(/\+/g,"%20"))}function B0(n){return`${sg(n.path)}${function eN(n){return Object.keys(n).map(t=>`;${sg(t)}=${sg(n[t])}`).join("")}(n.parameters)}`}const nN=/^[^\/()?;=#]+/;function qc(n){const t=n.match(nN);return t?t[0]:""}const iN=/^[^=?&#]+/,sN=/^[^&#]+/;class aN{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ge]=new $e(t,e)),i}parseSegment(){const t=qc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new z(4009,jc);return this.capture(t),new sl(Wc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=qc(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=qc(this.remaining);r&&(i=r,this.capture(i))}t[Wc(e)]=Wc(i)}parseQueryParam(t){const e=function rN(n){const t=n.match(iN);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function oN(n){const t=n.match(sN);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=H0(e),s=H0(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=qc(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,jc);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ge);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ge]:new $e([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new z(4011,jc)}}function og(n){return n.segments.length>0?new $e([],{[Ge]:n}):n}function Kc(n){const t={};for(const i of Object.keys(n.children)){const s=Kc(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function lN(n){if(1===n.numberOfChildren&&n.children[Ge]){const t=n.children[Ge];return new $e(n.segments.concat(t.segments),t.children)}return n}(new $e(n.segments,t))}function Ss(n){return n instanceof Ms}function dN(n,t,e,i,r){if(0===e.length)return So(t.root,t.root,t.root,i,r);const s=function $0(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new G0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return In(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new G0(e,t,i)}(e);return s.toRoot()?So(t.root,t.root,new $e([],{}),i,r):function o(u){const c=function fN(n,t,e,i){if(n.isAbsolute)return new Io(t.root,!0,0);if(-1===i)return new Io(e,e===t.root,0);return function z0(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new Io(i,!1,r-s)}(e,i+(al(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,u),f=c.processChildren?ul(c.segmentGroup,c.index,s.commands):lg(c.segmentGroup,c.index,s.commands);return So(t.root,c.segmentGroup,f,i,r)}(n.snapshot?._lastPathIndex)}function al(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ll(n){return"object"==typeof n&&null!=n&&n.outlets}function So(n,t,e,i,r){let o,s={};i&&In(i,(u,c)=>{s[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),o=n===t?e:j0(n,t,e);const a=og(Kc(o));return new Ms(a,s,r)}function j0(n,t,e){const i={};return In(n.children,(r,s)=>{i[s]=r===t?e:j0(r,t,e)}),new $e(n.segments,i)}class G0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&al(i[0]))throw new z(4003,!1);const r=i.find(ll);if(r&&r!==P0(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Io{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function lg(n,t,e){if(n||(n=new $e([],{})),0===n.segments.length&&n.hasChildren())return ul(n,t,e);const i=function gN(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(ll(a))break;const u=`${a}`,c=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!q0(u,c,o))return s;i+=2}else{if(!q0(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new $e(n.segments.slice(0,i.pathIndex),{});return s.children[Ge]=new $e(n.segments.slice(i.pathIndex),n.children),ul(s,0,r)}return i.match&&0===r.length?new $e(n.segments,{}):i.match&&!n.hasChildren()?ug(n,t,e):i.match?ul(n,0,r):ug(n,t,e)}function ul(n,t,e){if(0===e.length)return new $e(n.segments,{});{const i=function pN(n){return ll(n[0])?n[0].outlets:{[Ge]:n}}(e),r={};return In(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=lg(n.children[o],t,s))}),In(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new $e(n.segments,r)}}function ug(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(ll(s)){const u=mN(s.outlets);return new $e(i,u)}if(0===r&&al(e[0])){i.push(new sl(n.segments[t].path,W0(e[0]))),r++;continue}const o=ll(s)?s.outlets[Ge]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&al(a)?(i.push(new sl(o,W0(a))),r+=2):(i.push(new sl(o,{})),r++)}return new $e(i,{})}function mN(n){const t={};return In(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ug(new $e([],{}),0,e))}),t}function W0(n){const t={};return In(n,(e,i)=>t[i]=`${e}`),t}function q0(n,t,e){return n==e.path&&nr(t,e.parameters)}class _r{constructor(t,e){this.id=t,this.url=e}}class cg extends _r{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends _r{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yc extends _r{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class K0 extends _r{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class yN extends _r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vN extends _r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bN extends _r{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _N extends _r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wN extends _r{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CN{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DN{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EN{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MN{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TN{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SN{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Y0{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class J0{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=dg(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=dg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=hg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return hg(t,this._root).map(e=>e.value)}}function dg(n,t){if(n===t.value)return t;for(const e of t.children){const i=dg(n,e);if(i)return i}return null}function hg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=hg(n,e);if(i.length)return i.unshift(t),i}return[]}class Cr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ao(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Z0 extends J0{constructor(t,e){super(t),this.snapshot=e,fg(this,t)}toString(){return this.snapshot.toString()}}function Q0(n,t){const e=function AN(n,t){const o=new Jc([],{},{},"",{},Ge,t,null,n.root,-1,{});return new eC("",new Cr(o,[]))}(n,t),i=new Nn([new sl("",{})]),r=new Nn({}),s=new Nn({}),o=new Nn({}),a=new Nn(""),u=new qr(i,r,o,a,s,Ge,t,e.root);return u.snapshot=e.root,new Z0(new Cr(u,[]),e)}class qr{constructor(t,e,i,r,s,o,a,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(G(c=>c[rl]))??pe(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(G(t=>To(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(t=>To(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function X0(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function kN(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Jc{constructor(t,e,i,r,s,o,a,u,c,f,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=f,this._resolve=p}get title(){return this.data?.[rl]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=To(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=To(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class eC extends J0{constructor(t,e){super(e),this.url=t,fg(this,e)}toString(){return tC(this._root)}}function fg(n,t){t.value._routerState=n,t.children.forEach(e=>fg(n,e))}function tC(n){const t=n.children.length>0?` { ${n.children.map(tC).join(", ")} } `:"";return`${n.value}${t}`}function pg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,nr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),nr(t.params,e.params)||n.params.next(e.params),function WL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!nr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),nr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function gg(n,t){const e=nr(n.params,t.params)&&function JL(n,t){return Ts(n,t)&&n.every((e,i)=>nr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||gg(n.parent,t.parent))}function cl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function PN(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cl(n,i,r);return cl(n,i)})}(n,t,e);return new Cr(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>cl(n,a)),o}}const i=function ON(n){return new qr(new Nn(n.url),new Nn(n.params),new Nn(n.queryParams),new Nn(n.fragment),new Nn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>cl(n,s));return new Cr(i,r)}}const mg="ngNavigationCancelingError";function nC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ss(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=iC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function iC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[mg]=!0,i.cancellationCode=t,e&&(i.url=e),i}function rC(n){return sC(n)&&Ss(n.url)}function sC(n){return n&&n[mg]}class RN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dl,this.attachRef=null}}let dl=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new RN,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zc=!1;let Qc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ge,this.activateEvents=new Qe,this.deactivateEvents=new Qe,this.attachEvents=new Qe,this.detachEvents=new Qe,this.parentContexts=qe(dl),this.location=qe(Hi),this.changeDetector=qe(ji),this.environmentInjector=qe(dr)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,Zc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,Zc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,Zc);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new z(4013,Zc);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new LN(e,a,r.injector);if(i&&function NN(n){return!!n.resolveComponentFactory}(i)){const c=i.resolveComponentFactory(o);this.activated=r.createComponent(c,r.length,u)}else this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ye({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qn]}),n})();class LN{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===qr?this.route:t===dl?this.childContexts:this.parent.get(t,e)}}let yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=xt({type:n,selectors:[["ng-component"]],standalone:!0,features:[uw],decls:1,vars:0,template:function(e,i){1&e&&g(0,"router-outlet")},dependencies:[Qc],encapsulation:2}),n})();function oC(n,t){return n.providers&&!n._injector&&(n._injector=uc(n.providers,t,`Route: ${n.path}`)),n._injector??t}function bg(n){const t=n.children&&n.children.map(bg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ge&&(e.component=yg),e}function Ti(n){return n.outlet||Ge}function aC(n,t){const e=n.filter(i=>Ti(i)===t);return e.push(...n.filter(i=>Ti(i)!==t)),e}function hl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class BN{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ao(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),In(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ao(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ao(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ao(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new SN(s.value.snapshot))}),t.children.length&&this.forwardEvent(new MN(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(pg(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),pg(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=hl(r.snapshot),u=a?.get(Sa)??null;o.attachRef=null,o.route=r,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class lC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Xc{constructor(t,e){this.component=t,this.route=e}}function jN(n,t,e){const i=n._root;return fl(i,t?t._root:null,e,[i.value])}function ko(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function fM(n){return null!==hu(n)}(n)?t.get(n):n:i}function fl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ao(t);return n.children.forEach(o=>{(function $N(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function zN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Ts(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Ts(n.url,t.url)||!nr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gg(n,t)||!nr(n.queryParams,t.queryParams);default:return!gg(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new lC(i)):(s.data=o.data,s._resolvedData=o._resolvedData),fl(n,t,s.component?a?a.children:null:e,i,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Xc(a.outlet.component,o))}else o&&pl(t,a,r),r.canActivateChecks.push(new lC(i)),fl(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),In(s,(o,a)=>pl(o,e.getContext(a),r)),r}function pl(n,t,e){const i=Ao(n),r=n.value;In(i,(s,o)=>{pl(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Xc(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function gl(n){return"function"==typeof n}function _g(n){return n instanceof Vc||"EmptyError"===n?.name}const ed=Symbol("INITIAL_VALUE");function xo(){return gi(n=>tg(n.map(t=>t.pipe(Es(1),T0(ed)))).pipe(G(t=>{for(const e of t)if(!0!==e){if(e===ed)return ed;if(!1===e||e instanceof Ms)return e}return!0}),Wn(t=>t!==ed),Es(1)))}function uC(n){return function j(...n){return J(n)}(Tt(t=>{if(Ss(t))throw nC(0,t)}),G(t=>!0===t))}const wg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function cC(n,t,e,i,r){const s=Cg(n,t,e);return s.matched?function lF(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?pe(r.map(o=>{const a=ko(o,n);return Wr(function ZN(n){return n&&gl(n.canMatch)}(a)?a.canMatch(t,e):n.runInContext(()=>a(t,e)))})).pipe(xo(),uC()):pe(!0)}(i=oC(t,i),t,e).pipe(G(o=>!0===o?s:{...wg})):pe(s)}function Cg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...wg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||zL)(e,n,t);if(!r)return{...wg};const s={};In(r.posParams,(a,u)=>{s[u]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function td(n,t,e,i){if(e.length>0&&function dF(n,t,e){return e.some(i=>nd(n,t,i)&&Ti(i)!==Ge)}(n,e,i)){const s=new $e(t,function cF(n,t,e,i){const r={};r[Ge]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Ti(s)!==Ge){const o=new $e([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[Ti(s)]=o}return r}(n,t,i,new $e(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function hF(n,t,e){return e.some(i=>nd(n,t,i))}(n,e,i)){const s=new $e(n.segments,function uF(n,t,e,i,r){const s={};for(const o of i)if(nd(n,e,o)&&!r[Ti(o)]){const a=new $e([],{});a._sourceSegment=n,a._segmentIndexShift=t.length,s[Ti(o)]=a}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new $e(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function nd(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function dC(n,t,e,i){return!!(Ti(n)===i||i!==Ge&&nd(t,e,n))&&("**"===n.path||Cg(t,n,e).matched)}function hC(n,t,e){return 0===t.length&&!n.children[e]}const id=!1;class rd{constructor(t){this.segmentGroup=t||null}}class fC{constructor(t){this.urlTree=t}}function ml(n){return zi(new rd(n))}function pC(n){return zi(new fC(n))}class mF{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=td(this.urlTree.root,[],[],this.config).segmentGroup,e=new $e(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ge).pipe(G(s=>this.createUrlTree(Kc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zr(s=>{if(s instanceof fC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof rd?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ge).pipe(G(r=>this.createUrlTree(Kc(r),t.queryParams,t.fragment))).pipe(zr(r=>{throw r instanceof rd?this.noMatchError(r):r}))}noMatchError(t){return new z(4002,id)}createUrlTree(t,e,i){const r=og(t);return new Ms(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(G(s=>new $e([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ce(r).pipe(Gr(s=>{const o=i.children[s],a=aC(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(G(u=>({segment:u,outlet:s})))}),I0((s,o)=>(s[o.outlet]=o.segment,s),{}),A0())}expandSegment(t,e,i,r,s,o){return ce(i).pipe(Gr(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe(zr(c=>{if(c instanceof rd)return pe(null);throw c}))),jr(a=>!!a),zr((a,u)=>{if(_g(a))return hC(e,r,s)?pe(new $e([],{})):ml(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return dC(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):ml(e):ml(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?pC(s):this.lineralizeSegments(i,s).pipe(kt(o=>{const a=new $e(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:f}=Cg(e,r,s);if(!a)return ml(e);const p=this.applyRedirectCommands(u,r.redirectTo,f);return r.redirectTo.startsWith("/")?pC(p):this.lineralizeSegments(r,p).pipe(kt(m=>this.expandSegment(t,e,i,m.concat(c),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=oC(i,t),i.loadChildren?(i._loadedRoutes?pe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(G(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new $e(r,{})))):pe(new $e(r,{}))):cC(e,i,r,t).pipe(gi(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(kt(f=>{const p=f.injector??t,m=f.routes,{segmentGroup:y,slicedSegments:v}=td(e,a,u,m),b=new $e(y.segments,y.children);if(0===v.length&&b.hasChildren())return this.expandChildren(p,m,b).pipe(G(T=>new $e(a,T)));if(0===m.length&&0===v.length)return pe(new $e(a,{}));const w=Ti(i)===s;return this.expandSegment(p,b,m,v,w?Ge:s,!0).pipe(G(k=>new $e(a.concat(k.segments),k.children)))})):ml(e)))}getChildConfig(t,e,i){return e.children?pe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?pe({routes:e._loadedRoutes,injector:e._loadedInjector}):function aF(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?pe(!0):pe(r.map(o=>{const a=ko(o,n);return Wr(function qN(n){return n&&gl(n.canLoad)}(a)?a.canLoad(t,e):n.runInContext(()=>a(t,e)))})).pipe(xo(),uC())}(t,e,i).pipe(kt(r=>r?this.configLoader.loadChildren(t,e).pipe(Tt(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function pF(n){return zi(iC(id,3))}())):pe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return pe(i);if(r.numberOfChildren>1||!r.children[Ge])return zi(new z(4e3,id));r=r.children[Ge]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Ms(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return In(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return In(e.children,(a,u)=>{o[u]=this.createSegmentGroup(t,a,i,r)}),new $e(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new z(4001,id);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class vF{}class wF{constructor(t,e,i,r,s,o,a){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const t=td(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ge).pipe(G(e=>{if(null===e)return null;const i=new Jc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cr(i,e),s=new eC(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=X0(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return ce(Object.keys(i.children)).pipe(Gr(r=>{const s=i.children[r],o=aC(e,r);return this.processSegmentGroup(t,o,s,r)}),I0((r,s)=>r&&s?(r.push(...s),r):null),function NL(n,t=!1){return e=>e.lift(new FL(n,t))}(r=>null!==r),Bc(null),A0(),G(r=>{if(null===r)return null;const s=mC(r);return function CF(n){n.sort((t,e)=>t.value.outlet===Ge?-1:e.value.outlet===Ge?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return ce(e).pipe(Gr(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),jr(o=>!!o),zr(o=>{if(_g(o))return hC(i,r,s)?pe([]):pe(null);throw o}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!dC(e,i,r,s))return pe(null);let o;if("**"===e.path){const a=r.length>0?P0(r).parameters:{},u=vC(i)+r.length;o=pe({snapshot:new Jc(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bC(e),Ti(e),e.component??e._loadedComponent??null,e,yC(i),u,_C(e)),consumedSegments:[],remainingSegments:[]})}else o=cC(i,e,r,t).pipe(G(({matched:a,consumedSegments:u,remainingSegments:c,parameters:f})=>{if(!a)return null;const p=vC(i)+u.length;return{snapshot:new Jc(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,bC(e),Ti(e),e.component??e._loadedComponent??null,e,yC(i),p,_C(e)),consumedSegments:u,remainingSegments:c}}));return o.pipe(gi(a=>{if(null===a)return pe(null);const{snapshot:u,consumedSegments:c,remainingSegments:f}=a;t=e._injector??t;const p=e._loadedInjector??t,m=function DF(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:y,slicedSegments:v}=td(i,c,f,m.filter(w=>void 0===w.redirectTo));if(0===v.length&&y.hasChildren())return this.processChildren(p,m,y).pipe(G(w=>null===w?null:[new Cr(u,w)]));if(0===m.length&&0===v.length)return pe([new Cr(u,[])]);const b=Ti(e)===s;return this.processSegment(p,m,y,v,b?Ge:s).pipe(G(w=>null===w?null:[new Cr(u,w)]))}))}}function EF(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function mC(n){const t=[],e=new Set;for(const i of n){if(!EF(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=mC(i.children);t.push(new Cr(i.value,r))}return t.filter(i=>!e.has(i))}function yC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function vC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function bC(n){return n.data||{}}function _C(n){return n.resolve||{}}function wC(n){return"string"==typeof n.title||null===n.title}function Dg(n){return gi(t=>{const e=n(t);return e?ce(e).pipe(G(()=>t)):pe(t)})}class PF{constructor(t){this.router=t,this.currentNavigation=null}setupNavigations(t){const e=this.router.events;return t.pipe(Wn(i=>0!==i.id),G(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),gi(i=>{let r=!1,s=!1;return pe(i).pipe(Tt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),gi(o=>{const a=this.router.browserUrlTree.toString(),u=!this.router.navigated||o.extractedUrl.toString()!==a||a!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||u)&&this.router.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return DC(o.source)&&(this.router.browserUrlTree=o.extractedUrl),pe(o).pipe(gi(f=>{const p=this.router.transitions.getValue();return e.next(new cg(f.id,this.router.serializeUrl(f.extractedUrl),f.source,f.restoredState)),p!==this.router.transitions.getValue()?Br:Promise.resolve(f)}),function yF(n,t,e,i){return gi(r=>function gF(n,t,e,i,r){return new mF(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(G(s=>({...r,urlAfterRedirects:s}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),Tt(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},i.urlAfterRedirects=f.urlAfterRedirects}),function TF(n,t,e,i,r){return kt(s=>function _F(n,t,e,i,r,s,o="emptyOnly"){return new wF(n,t,e,i,r,o,s).recognize().pipe(gi(a=>null===a?function bF(n){return new q(t=>t.error(n))}(new vF):pe(a)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(G(o=>({...s,targetSnapshot:o}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),Tt(f=>{if(i.targetSnapshot=f.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!f.extras.skipLocationChange){const m=this.router.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.router.setBrowserUrl(m,f)}this.router.browserUrlTree=f.urlAfterRedirects}const p=new yN(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);e.next(p)}));if(u&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:p,extractedUrl:m,source:y,restoredState:v,extras:b}=o,w=new cg(p,this.router.serializeUrl(m),y,v);e.next(w);const D=Q0(m,this.router.rootComponentType).snapshot;return pe(i={...o,targetSnapshot:D,urlAfterRedirects:m,extras:{...b,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=o.rawUrl,o.resolve(null),Br}),Tt(o=>{const a=new vN(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.router.triggerEvent(a)}),G(o=>i={...o,guards:jN(o.targetSnapshot,o.currentSnapshot,this.router.rootContexts)}),function XN(n,t){return kt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?pe({...e,guardsResult:!0}):function eF(n,t,e,i){return ce(n).pipe(kt(r=>function oF(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?pe(s.map(a=>{const u=hl(t)??r,c=ko(a,u);return Wr(function JN(n){return n&&gl(n.canDeactivate)}(c)?c.canDeactivate(n,t,e,i):u.runInContext(()=>c(n,t,e,i))).pipe(jr())})).pipe(xo()):pe(!0)}(r.component,r.route,e,t,i)),jr(r=>!0!==r,!0))}(o,i,r,n).pipe(kt(a=>a&&function WN(n){return"boolean"==typeof n}(a)?function tF(n,t,e,i){return ce(t).pipe(Gr(r=>Uc(function iF(n,t){return null!==n&&t&&t(new EN(n)),pe(!0)}(r.route.parent,i),function nF(n,t){return null!==n&&t&&t(new TN(n)),pe(!0)}(r.route,i),function sF(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function GN(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>E0(()=>pe(o.guards.map(u=>{const c=hl(o.node)??e,f=ko(u,c);return Wr(function YN(n){return n&&gl(n.canActivateChild)}(f)?f.canActivateChild(i,n):c.runInContext(()=>f(i,n))).pipe(jr())})).pipe(xo())));return pe(s).pipe(xo())}(n,r.path,e),function rF(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return pe(!0);const r=i.map(s=>E0(()=>{const o=hl(t)??e,a=ko(s,o);return Wr(function KN(n){return n&&gl(n.canActivate)}(a)?a.canActivate(t,n):o.runInContext(()=>a(t,n))).pipe(jr())}));return pe(r).pipe(xo())}(n,r.route,e))),jr(r=>!0!==r,!0))}(i,s,n,t):pe(a)),G(a=>({...e,guardsResult:a})))})}(this.router.ngModule.injector,o=>this.router.triggerEvent(o)),Tt(o=>{if(i.guardsResult=o.guardsResult,Ss(o.guardsResult))throw nC(0,o.guardsResult);const a=new bN(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.router.triggerEvent(a)}),Wn(o=>!!o.guardsResult||(this.router.restoreHistory(o),this.router.cancelNavigationTransition(o,"",3),!1)),Dg(o=>{if(o.guards.canActivateChecks.length)return pe(o).pipe(Tt(a=>{const u=new _N(a.id,this.router.serializeUrl(a.extractedUrl),this.router.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.router.triggerEvent(u)}),gi(a=>{let u=!1;return pe(a).pipe(function SF(n,t){return kt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return pe(e);let s=0;return ce(r).pipe(Gr(o=>function IF(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!wC(r)&&(s[rl]=r.title),function AF(n,t,e,i){const r=function kF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return pe({});const s={};return ce(r).pipe(kt(o=>function xF(n,t,e,i){const r=hl(t)??i,s=ko(n,r);return Wr(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(jr(),Tt(a=>{s[o]=a}))),ng(1),function UL(n){return t=>t.lift(new HL(n))}(s),zr(o=>_g(o)?Br:zi(o)))}(s,n,t,i).pipe(G(o=>(n._resolvedData=o,n.data=X0(n,e).resolve,r&&wC(r)&&(n.data[rl]=r.title),null)))}(o.route,i,n,t)),Tt(()=>s++),ng(1),kt(o=>s===r.length?pe(e):Br))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),Tt({next:()=>u=!0,complete:()=>{u||(this.router.restoreHistory(a),this.router.cancelNavigationTransition(a,"",2))}}))}),Tt(a=>{const u=new wN(a.id,this.router.serializeUrl(a.extractedUrl),this.router.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.router.triggerEvent(u)}))}),Dg(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.router.configLoader.loadComponent(u.routeConfig).pipe(Tt(f=>{u.component=f}),G(()=>{})));for(const f of u.children)c.push(...a(f));return c};return tg(a(o.targetSnapshot.root)).pipe(Bc(),Es(1))}),Dg(()=>this.router.afterPreactivation()),G(o=>{const a=function xN(n,t,e){const i=cl(n,t._root,e?e._root:void 0);return new Z0(i,t)}(this.router.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:a}}),Tt(o=>{this.router.currentUrlTree=o.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.router.routerState=o.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(o.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,o),this.router.browserUrlTree=o.urlAfterRedirects)}),((n,t,e)=>G(i=>(new BN(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.router.rootContexts,this.router.routeReuseStrategy,o=>this.router.triggerEvent(o)),Tt({next(){r=!0},complete(){r=!0}}),ig(()=>{r||s||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zr(o=>{if(s=!0,sC(o)){rC(o)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const a=new Yc(i.id,this.router.serializeUrl(i.extractedUrl),o.message,o.cancellationCode);if(e.next(a),rC(o)){const u=this.router.urlHandlingStrategy.merge(o.url,this.router.rawUrlTree),c={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||DC(i.source)};this.router.scheduleNavigation(u,"imperative",null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const a=new K0(i.id,this.router.serializeUrl(i.extractedUrl),o,i.targetSnapshot??void 0);e.next(a);try{i.resolve(this.router.errorHandler(o))}catch(u){i.reject(u)}}return Br}))}))}}function DC(n){return"imperative"!==n}let EC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ge);return i}getResolvedTitleForRoute(e){return e.data[rl]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return qe(OF)},providedIn:"root"}),n})(),OF=(()=>{class n extends EC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(N(v0))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return qe(NF)},providedIn:"root"}),n})();class LF{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let NF=(()=>{class n extends LF{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ft(n)))(i||n)}}(),n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sd=new X("",{providedIn:"root",factory:()=>({})}),Po=new X("ROUTES");let Eg=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return pe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Wr(e.loadComponent()).pipe(G(TC),Tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ig(()=>{this.componentLoaders.delete(e)})),r=new Ar(i,()=>new K).pipe(Jn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(G(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,c,f=!1;Array.isArray(a)?c=a:(u=a.create(e).injector,c=x0(u.get(Po,[],Ce.Self|Ce.Optional)));return{routes:c.map(bg),injector:u}}),ig(()=>{this.childrenLoaders.delete(i)})),o=new Ar(s,()=>new K).pipe(Jn());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return Wr(e()).pipe(G(TC),kt(r=>r instanceof aw||Array.isArray(r)?pe(r):ce(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(N(hi),N(mp))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TC(n){return function UF(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let HF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return qe(BF)},providedIn:"root"}),n})(),BF=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jF(n){throw n}function GF(n,t,e){return t.parse("/")}const $F={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function IC(){const n=qe(V0),t=qe(dl),e=qe(Ja),i=qe(hi),r=qe(mp),s=qe(Po,{optional:!0})??[],o=qe(sd,{optional:!0})??{},a=new Cn(null,n,t,e,i,r,x0(s));return function WF(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,a),a}let Cn=(()=>{class n{constructor(e,i,r,s,o,a,u){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new K,this.errorHandler=jF,this.malformedUriErrorHandler=GF,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>pe(void 0),this.urlHandlingStrategy=qe(HF),this.routeReuseStrategy=qe(RF),this.titleStrategy=qe(EC),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new PF(this),this.configLoader=o.get(Eg),this.configLoader.onLoadEndListener=m=>this.triggerEvent(new DN(m)),this.configLoader.onLoadStartListener=m=>this.triggerEvent(new CN(m)),this.ngModule=o.get(Cs),this.console=o.get(Qx);const p=o.get(_t);this.isNgZoneEnabled=p instanceof _t&&_t.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Ms,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Q0(this.currentUrlTree,this.rootComponentType),this.transitions=new Nn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(e.state){const a={...e.state};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(bg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=i,c=r||this.routerState.root,f=u?this.currentUrlTree.fragment:o;let p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}return null!==p&&(p=this.removeEmptyProps(p)),dN(c,this.currentUrlTree,e,p,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ss(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function qF(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new z(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...$F}:!1===i?{...zF}:i,Ss(e))return R0(this.currentUrlTree,e,r);const s=this.parseUrl(e);return R0(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c;o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((m,y)=>{a=m,u=y});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),p=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(m=>Promise.reject(m))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new Yc(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){gf()},n.\u0275prov=ee({token:n,factory:function(){return IC()},providedIn:"root"}),n})(),od=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new K;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=e.events.subscribe(c=>{c instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Mo(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Mo(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Mo(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function Mv(n,t,e){return function ZS(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?Ev:io}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(S(Cn),S(qr),function pa(n){return function yT(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(fy(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Tn(),n)}("tabindex"),S(ei),S(Gt),S(Ur))},n.\u0275dir=ye({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&lt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Ln("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Qn]}),n})(),AC=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Qe,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof wr&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(Vn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=ce(e).pipe(Vn()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function KF(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Cn),S(Gt),S(ei),S(ji),S(od,8))},n.\u0275dir=ye({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&hc(r,od,5),2&e){let s;vt(s=bt())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Qn]}),n})();class kC{}let YF=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Wn(e=>e instanceof wr),Gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=uc(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ce(r).pipe(Vn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):pe(null);const s=r.pipe(kt(o=>null===o?pe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?ce([s,this.loader.loadComponent(i)]).pipe(Vn()):s})}}return n.\u0275fac=function(e){return new(e||n)(N(Cn),N(mp),N(dr),N(kC),N(Eg))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mg=new X("");let xC=(()=>{class n{constructor(e,i,r,s={}){this.router=e,this.viewportScroller=i,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof cg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Y0&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new Y0(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){gf()},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function Ro(n,t){return{\u0275kind:n,\u0275providers:t}}function OC(){const n=qe(hi);return t=>{const e=n.get(vc);if(t!==e.components[0])return;const i=n.get(Cn),r=n.get(RC);1===n.get(Sg)&&i.initialNavigation(),n.get(LC,null,Ce.Optional)?.setUpPreloading(),n.get(Mg,null,Ce.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const RC=new X("",{factory:()=>new K}),Sg=new X("",{providedIn:"root",factory:()=>1});const LC=new X("");function eV(n){return Ro(0,[{provide:LC,useExisting:YF},{provide:kC,useExisting:n}])}const NC=new X("ROUTER_FORROOT_GUARD"),tV=[Ja,{provide:V0,useClass:rg},{provide:Cn,useFactory:IC},dl,{provide:qr,useFactory:function PC(n){return n.routerState.root},deps:[Cn]},Eg,[]];function nV(){return new s1("Router",Cn)}let FC=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[tV,[],{provide:Po,multi:!0,useValue:e},{provide:NC,useFactory:oV,deps:[[Cn,new va,new ba]]},{provide:sd,useValue:i||{}},i?.useHash?{provide:Ur,useClass:UP}:{provide:Ur,useClass:xp},{provide:Mg,useFactory:()=>{const n=qe(Cn),t=qe(nR),e=qe(_t),i=qe(sd);return i.scrollOffset&&t.setOffset(i.scrollOffset),new xC(n,t,e,i)}},i?.preloadingStrategy?eV(i.preloadingStrategy).\u0275providers:[],{provide:s1,multi:!0,useFactory:nV},i?.initialNavigation?aV(i):[],[{provide:VC,useFactory:OC},{provide:Zw,multi:!0,useExisting:VC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Po,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(N(NC,8))},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[yg]}),n})();function oV(n){return"guarded"}function aV(n){return["disabled"===n.initialNavigation?Ro(3,[{provide:gc,multi:!0,useFactory:()=>{const t=qe(Cn);return()=>{t.setUpLocationChangeListener()}}},{provide:Sg,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ro(2,[{provide:Sg,useValue:0},{provide:gc,multi:!0,deps:[hi],useFactory:t=>{const e=t.get(FP,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const s=t.get(Cn),o=t.get(RC);(function i(r){t.get(Cn).events.pipe(Wn(o=>o instanceof wr||o instanceof Yc||o instanceof K0),G(o=>o instanceof wr||o instanceof Yc&&(0===o.code||1===o.code)&&null),Wn(o=>null!==o),Es(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),o.closed?pe(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const VC=new X("");class ad{static#e=this.\u0275fac=function(e){return new(e||ad)};static#t=this.\u0275cmp=xt({type:ad,selectors:[["app-home"]],decls:63,vars:0,consts:[[1,"list","inline"],["href","/music"],["href","/blog"],["href","https://github.com/EgillAntonsson"],["href","/lifting"],["href","https://www.resolutiongames.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson",1,"image"],["href","https://rawfury.com"],["href","/music/pesi-year-1974"]],template:function(e,i){1&e&&(d(0,"h1"),l(1,"Egill Antonsson"),h(),d(2,"h2"),l(3,"Software developer, music artist, weightlifter, earthling, stardust"),h(),d(4,"p"),l(5,"\nWelcome to my website, where I share my passions:"),g(6,"br"),h(),d(7,"ul",0)(8,"li")(9,"a",1),l(10,"Music"),h()(),d(11,"li")(12,"a",2),l(13,"Blogging"),h(),l(14," about software development,"),g(15,"br"),l(16," my code projects are on "),d(17,"a",3),l(18,"GitHub"),h()(),d(19,"li")(20,"a",4),l(21,"Weight Lifting"),h()()(),d(22,"p"),l(23,"\nMy profession is Software Development, and I work as a Sound Programmer at "),d(24,"a",5),l(25,"Resolution Games"),h(),g(26,"br"),l(27,"\nMy "),d(28,"a",6),l(29,"LinkedIn profile"),h(),l(30," sums up my work experience.\n"),h(),d(31,"h2"),l(32,"Background & Family"),h(),d(33,"figure"),g(34,"img",7),d(35,"figcaption"),l(36,"\nThe Family, from left to right:"),g(37,"br"),l(38,"\nEgill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson\n"),h()(),d(39,"p"),l(40,"\nI was born in 1982 and raised in Reykjavik, Iceland."),g(41,"br"),l(42,"\nSince 2014 I live in Stockholm (Sweden) with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."),g(43,"br"),l(44,"\nI'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."),g(45,"br"),h(),d(46,"p"),l(47,"\nI'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir."),g(48,"br"),l(49,"\nMy brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's (un)publishing games at "),d(50,"a",8),l(51,"Raw Fury"),h(),l(52,"."),g(53,"br")(54,"br"),l(55,"\nOur two older brothers and namesakes passed away before I was born."),g(56,"br"),l(57,"\nThey played music and painted pictures and according to family and friends were brilliant boys."),g(58,"br"),l(59,"\nI digitalized their music that they recorded on a cassette in the early 1970s and you can listen to "),d(60,"a",9),l(61,"here"),h(),l(62,".\n"),h())},encapsulation:2})}class Lo{constructor(){const t="TDD-ing Avatar Health in C# and C++";this.series=[{title:t,posts:[new Dr("Part 1 - TDD: What, Why, When ?","tdd-health/part1",t,new Date(2021,11,30),new Date(2022,4,14)),new Dr("Part 2 - The assignment: The Avatar Health","tdd-health/part2",t,new Date(2021,11,30),new Date(2022,4,14)),new Dr("Part 3 - Implementation begins - C#",Is.tddHealthPart3,t,new Date(2021,11,30),new Date(2023,5,8)),new Dr("Part 3 - Implementation begins - C++",Is.tddHealthPart3Cpp,t,new Date(2023,5,8)),new Dr("Part 4 - Taking Damage","tdd-health/part4",t,new Date(2022,0,4),new Date(2022,4,14)),new Dr("Part 5 - The Dying part","tdd-health/part5",t,new Date(2022,1,1),new Date(2022,4,14)),new Dr("Part 6 - The Replenishing part","tdd-health/part6",t,new Date(2022,4,9),new Date(2022,4,14)),new Dr("Part 7 - The Increasing and Max part","tdd-health/part7",t,new Date(2022,4,14),new Date(2022,7,16)),new Dr("Part 8 - Adding the Config","tdd-health/part8",t,new Date(2022,7,16))]}],this.selectedPost=this.series[0].posts[0],this.posts=[];for(let e=0;e<this.series.length;e++)for(let i=0;i<this.series[e].posts.length;i++){const r=this.series[e].posts[i];r.index=i,this.posts.push(r)}}tryGetPostWithRoutPath(t){let e=null;return this.posts.filter(i=>{i.routePath===t&&(e=i)}),e}static#e=this.\u0275fac=function(e){return new(e||Lo)};static#t=this.\u0275prov=ee({token:Lo,factory:Lo.\u0275fac,providedIn:"root"})}var Is=(()=>(function(n){n.tddHealthPart3="tdd-health/part3",n.tddHealthPart3Cpp="tdd-health/part3-cpp"}(Is||(Is={})),Is))();class Dr{constructor(t,e,i,r,s){this.title=t,this.routePath=e,this.seriesTitle=i,this.publishedDate=r,this.updatedDate=s}}function UC(n,t,e,i,r,s,o){try{var a=n[s](o),u=a.value}catch(c){return void e(c)}a.done?t(u):Promise.resolve(u).then(i,r)}function Yt(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(u){UC(s,i,r,o,a,"next",u)}function a(u){UC(s,i,r,o,a,"throw",u)}o(void 0)})}}class Er{static validateNumberForRange(t,e,i){if(e>=i)throw new No(No.msgLowerLimitMustBeLowerThanUpperLimit);if(t>i)throw new No(No.msgNumberMustNotBeHigherThenUpperLimit);if(t<e)throw new No(No.msgNumberMustNotBeLowerThenLowerLimit);return t}}class No{constructor(t){this.name="SoundUtilError",this.message=t}static#e=this.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit";static#t=this.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit";static#n=this.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit"}class uV{constructor(t,e,i,r,s,o,a){this._instanceMuted=!1,this.log=a,this._gainNode=t,this.maxGain=e,this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.soundType=o,this.value=this.defaultValue,[i,r].forEach(u=>{u.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),u.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(t){this._gainNode.gain.value=this.muted?0:this.calculateGain(Er.validateNumberForRange(t,0,1))}get gainNode(){return this._gainNode}calculateGain(t){const e=t*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===e)return 0;if("SFX"===this.soundType){const r=this.dynamicRange.getRangeCenter()+(e-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${r}`),r}return e}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(t=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=t,this}setValueAtTime(t,e){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(t),e),this}exponentialRampToValueAtTime(t,e){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(t),e),this}linearRampToValueAtTime(t,e){return this.muted?this._gainNode?.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(t),e),this)}setTargetAtTime(t,e,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(t),e,i),this)}setValueCurveAtTime(t,e,i){if(this.muted)return this._gainNode.gain;for(let r=0;r<t.length;r++)t[r]=this.calculateGain(t[r]);return this._gainNode.gain.setValueCurveAtTime(t,e,i),this}cancelScheduledValues(t){return this._gainNode.gain.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._gainNode.gain.cancelAndHoldAtTime(t),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(t=>{t.removeAllListeners("GainChange"),t.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class cV{constructor(t,e,i,r,s){this.audioContext=t,this.sourceNode=e,this.analyzerNode=i,this.gainWrapper=r,this.id=s}}class dV{constructor(t,e,i,r,s,o,a){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=t,this.log=a,this.configMaxNrPlayingAtOnce=e,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?Er.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,e):this.soundData.loop?1:e,this.maxGainValidated=Er.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(t=!0){var e=this;return Yt(function*(){let i;e.reachedMaxNumberOfPlayingAtOnce&&e.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${e.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),e.firstInstancePromise?(e.log("Info",`[${e.label}]`,"play(): awaiting first instance promise"),i=yield e.firstInstancePromise,e.firstInstancePromise=void 0):(e.log("Info",`[${e.label}]`,"play(): createSoundInstance"),i=yield e.createSoundInstance(t)),e.instances.set(e.id,i),e.log("Info",`Added soundInstance with id '${e.id}' to the instances list which now has the size '${e.instances.size}'`);const r=e.createEndedPromise(i);return e.playSoundInstance(i),{instance:i,endedPromise:r}})()}createEndedPromise(t){return new Promise(e=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(t),e(t),this.instances.delete(t.id)||this.log("Warn",`deleting map with instance id '${t.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${t.id}, list with new size ${this.instances.size}`)},t.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(t){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t.sourceNode.start()}createSoundInstance(t){var e=this;return Yt(function*(){const i=e.audioCtx.createBufferSource();i.buffer=e.sourceNodeBuffer?e.sourceNodeBuffer:e.sourceNodeBuffer=yield e.loadSound(),i.loop=e.soundData.loop;const r=e.audioCtx.createGain(),s=new uV(r,e.maxGainValidated,e.soundTypeGain,e.masterGain,e.dynamicRange,e.soundData.soundType,e.log),o=e.audioCtx.createAnalyser();return t&&i.connect(s.gainNode).connect(o).connect(e.audioCtx.destination),++e.id,e.log("Info",`Creating sound instance for key '${e.soundData.key}' with id '${e.id}'`),new cV(e.audioCtx,i,o,s,e.id)})()}loadSound(){var t=this;return Yt(function*(){t.log("Info",`Loading sound with key '${t.soundData.key}'`);const i=yield(yield fetch(t.soundData.url)).arrayBuffer();return yield t.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.id=-1)}disposeInstance(t){return t.sourceNode.removeEventListener("ended",this.endedListener),t.sourceNode.stop(),t.gainWrapper.dispose(),t.sourceNode.disconnect(),t.analyzerNode.disconnect(),t}dispose(){this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var Ig=je(3105);class hV extends Ig.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}class Ag extends hV{constructor(t,e){super(t),this._muted=e}get muted(){return this._muted}set muted(t){this._muted=t}}class fV extends Ig.EventEmitter{constructor(t,e){super(),this._lowValue=0,this._highValue=1,this.lowValue=t,this.highValue=e}get lowValue(){return this._lowValue}set lowValue(t){this._lowValue=t}get highValue(){return this._highValue}set highValue(t){this._highValue=t}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class pV{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new fV(0,1),this._musicGain=new Ag(1,!1),this._sfxGain=new Ag(1,!1),this._masterGain=new Ag(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(t){this._musicGain.value=Er.validateNumberForRange(t,0,1),this._musicGain.emit("GainChange")}set musicMuted(t){this._musicGain.muted=t,this._musicGain.emit("MuteChange")}set sfxGain(t){this._sfxGain.value=Er.validateNumberForRange(t,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(t){this._sfxGain.muted=t,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(t){this._masterGain.value=Er.validateNumberForRange(t,0,1),this._masterGain.emit("GainChange")}set masterMuted(t){this._masterGain.muted=t,this._masterGain.emit("MuteChange")}get masterMuted(){return this._masterGain.muted}set maxNrPlayingAtOncePerSound(t){this._maxNrPlayingAtOncePerSound=Er.validateNumberForRange(t,1,24),this.sounds.forEach(e=>{e.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(t,e){this.log=e,this.audioContext=new(t.AudioContext||t.webkitAudioContext)}setDynamicRange(t,e){t>e&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${t}' must be lower than highValue '${e}', not setting new Dynamic Range`),this.dynamicRange.lowValue=Er.validateNumberForRange(t,0,1),this.dynamicRange.highValue=Er.validateNumberForRange(e,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(t){const e="Music"===t.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new dV(t,this._maxNrPlayingAtOncePerSound,e,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(t.key,i),i}updateEmitterMaxListeners(t){const e=2*t*24;this._masterGain.setMaxListeners(e),this._musicGain.setMaxListeners(e),this._sfxGain.setMaxListeners(e),this.dynamicRange.setMaxListeners(e)}addToList(t,e){this.sounds.has(t)?this.log("Warn",`Sound with the key '${t}' is already in to SoundManager, not adding it again`):this.sounds.set(t,e)}playSound(t){const e=this.sounds.get(t);return e?e.play():(this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${t}', not in SoundManager`),null)}getSound(t){const e=this.sounds.get(t);if(!e)throw new HC(HC.msgSoundNotInManager);return e}hasSound(t){return this.sounds.has(t)}stopSound(t){const e=this.sounds.get(t);e?e.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}pause(){this.audioContext.suspend()}resume(){this.audioContext.resume()}stopMusic(){this.sounds.forEach(t=>{"Music"===t.soundData.soundType&&t.stop()})}stopAllSounds(){this.sounds.forEach(t=>{t.stop()})}purge(){this.sounds.forEach(t=>{t.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}class HC{constructor(t){this.name="SoundManagerError",this.message=t}static#e=this.msgSoundNotInManager="Sound Not In Manager"}class pn{constructor(t,e,i,r,s,o,a,u){this.source=t,this.name=i,this.artworkPath=r,""===r&&(this.artworkPath=pn.defaultArtworkPath),this.about=s,this.rootUrl=e,this.soundcloudUrl=o,this.spotifyUrl=a,this.buyUrl=u}static#e=this.dir="../../assets/tracks";static#t=this.defaultArtworkPath=`${pn.dir}/Egill_Antonsson.png`}class qn extends pn{constructor(t,e,i,r,s="",o="",a="",u="",c=""){super("Local",i,r,s,o,a,u,c),this.soundDatas=t,this.play=e}}class gV extends pn{constructor(t,e,i,r,s="",o="",a="",u="",c=""){super("RealtimeVisual",i,r,s,o,a,u,c),this.soundDatas=t,this.play=e,this.isGraphicsActive=!0}}class Fo extends pn{constructor(t,e,i="",r,s="",o="",a="",u="",c=""){super("Youtube",i,r,s,o,a,u,c),this.youtubeId=t,this.displayOnYoutube=e,this.isGraphicsActive=e}}class Re extends pn{constructor(t,e,i,r="",s="",o="",a=""){super("Soundcloud",e,i,r,s,t,o,a)}}class vl extends qn{constructor(t,e,i,r,s,o="",a=""){super(e,i,r,s,o,a),this.layeredMusicController=t}}class Vo{constructor(){this._instance=new pV}get instance(){return this._instance}playFromStart(t,e){if(!this.instance.hasSound(t.soundDatas[0].key))for(let i=0;i<t.soundDatas.length;i++)this.instance.addSound(t.soundDatas[i]);t.play()(),t instanceof vl&&(t.layeredMusicController.gainsDisabled=e)}play(){this.instance.resume()}stop(t){this.instance.stopMusic(),t instanceof vl&&t.layeredMusicController&&t.layeredMusicController.stop()}injectMocksForTests(t){this._instance=t}static#e=this.\u0275fac=function(e){return new(e||Vo)};static#t=this.\u0275prov=ee({token:Vo,factory:Vo.\u0275fac,providedIn:"root"})}class mi{static#e=this.IS_ENABLED=!1;log(t,e,...i){if(mi.IS_ENABLED)switch(t){case"Error":console.error(e,i.join(" "));break;case"Warn":console.warn(e,i.join(" "));break;case"Info":console.log(e,i.join(" "))}}static#t=this.\u0275fac=function(e){return new(e||mi)};static#n=this.\u0275prov=ee({token:mi,factory:mi.\u0275fac,providedIn:"root"})}class bl{constructor(t){this.logService=t,this._volume=100,this.isMuted=!1,this._isInitialized=!1,this.loadedUrl="",this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}init(){if(this.logService.log("Info","Soundcloud player service: init"),!0!==this._isInitialized){this._isInitialized=!0;var t=je(4120);this.widget=new t("scWidget"),this.widget.on(t.events.FINISH,()=>{this.logService.log("Info","soundcloud track finished / ended"),this.instanceEndedListeners.forEach(i=>i(!0))})}}load(t,e){this.logService.log("Info","Soundcloud player service: load with url",t),this.widget.load(t,{auto_play:!1,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1,start_track:0}).then(()=>{this.logService.log("Info","Soundcloud player service: load completed with url",t),this.loadedUrl=t,e&&this.playViaWidget()})}play(){this.logService.log("Info","Soundcloud player service: play"),this.playViaWidget()}playFromStart(t){this.logService.log("Info","Soundcloud player service: playFromStart",t),this.load(t.soundcloudUrl,!0),this.widget.setVolume(this._volume)}playViaWidget(){this.widget.play(),this.instancePlayedListeners.forEach(t=>t())}pause(){void 0!==this.widget?this.widget.pause():this.logService.log("Info","Soundcloud player service: pause, no widget defined returning early")}set volume(t){void 0!==this.widget?this.isMuted||(this._volume=t,this.widget.setVolume(this._volume)):this.logService.log("Info","Soundcloud player service: pause, no widget defined returning early")}set muted(t){this.isMuted=t,this.widget.setVolume(t?0:this._volume)}static#e=this.\u0275fac=function(e){return new(e||bl)(N(mi))};static#t=this.\u0275prov=ee({token:bl,factory:bl.\u0275fac,providedIn:"root"})}class Uo{constructor(){this.bodyMargin=.05}getCurrentWidthRange(t){return t<=451?Xe.XXS:t<=703?Xe.XS:t<=1053?Xe.S:t<=1403?Xe.M:t<=2e3?Xe.L:Xe.XL}getRectSizeForHorizontalCenter(t,e,i){const r=this.getCurrentWidthRange(t);let s=e.get(r);void 0===s&&(s=e.get(Xe.Default),void 0===s&&(s=0));let o=i.get(r);void 0===o&&(o=i.get(Xe.Default),void 0===o&&(o=0));let u=t*(1-2*this.bodyMargin)*(1-2*s);return u-=o,{width:u,height:.5625*u}}static#e=this.\u0275fac=function(e){return new(e||Uo)};static#t=this.\u0275prov=ee({token:Uo,factory:Uo.\u0275fac,providedIn:"root"})}var Xe=(()=>(function(n){n[n.Default=0]="Default",n[n.XXS=1]="XXS",n[n.XS=2]="XS",n[n.S=3]="S",n[n.M=4]="M",n[n.L=5]="L",n[n.XL=6]="XL"}(Xe||(Xe={})),Xe))();class Ho{constructor(){}get nativeWindow(){return function mV(){return window}()}static#e=this.\u0275fac=function(e){return new(e||Ho)};static#t=this.\u0275prov=ee({token:Ho,factory:Ho.\u0275fac,providedIn:"root"})}class As{constructor(){this.subject=new K}sendMessage(t){this.subject.next(t)}onMessage(){return this.subject.asObservable()}static#e=this.\u0275fac=function(e){return new(e||As)};static#t=this.\u0275prov=ee({token:As,factory:As.\u0275fac,providedIn:"root"})}class _l{constructor(t,e,i,r){this.windowRef=t,this.messageService=e,this.screenService=i,this.logService=r,this.playWhenReady=!1,this.isFullScreen=!1,this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}savePlayerElement(t){this.playerElement=t}onWindowResize(t,e){if(void 0===this.player)return 0;const i=this.getPlayerSize(t);return this.player.setSize(i.width,i.height),i.height}getPlayerSize(t){return this.screenService.getRectSizeForHorizontalCenter(t,new Map([[Xe.Default,0],[Xe.S,.05],[Xe.M,.15],[Xe.L,.25],[Xe.XL,.3]]),new Map([[Xe.Default,0],[Xe.XXS,16],[Xe.XS,16],[Xe.S,8],[Xe.M,6],[Xe.L,3]]))}onPlayerReady(t,e,i,r,s){this.player=t;let o=0;if(i){const u=this.getPlayerSize(r);this.player.setSize(u.width,u.height),o=u.height}this.volume=e,this.playWhenReady&&this.play(),t.getIframe().onfullscreenchange=()=>{this.isFullScreen=!this.isFullScreen,this.logService.log("Info","isFullScreen",this.isFullScreen),this.logService.log("Info","playerElement",this.playerElement)};let a=this.player.getIframe().contentWindow;return this.windowRef.nativeWindow.addEventListener("message",u=>{if(u.source===a){var c=JSON.parse(u.data);"infoDelivery"===c.event&&c.info&&c.info.volume&&this.messageService.sendMessage({type:"YoutubeVolumeChange"})}}),o}toFullScreen(){this.player?.getIframe().requestFullscreen()}play(){this.playWhenReady=!1,this.player?.playVideo(),this.instancePlayedListeners.forEach(t=>t())}playFromStart(t){if(this.logService.log("Info","YoutubeService:playFromStart"),void 0===this.player)return void(this.playWhenReady=!0);let e=this.getIdFromVideoUrl(this.player.getVideoUrl());this.logService.log("Info","currentIdInPlayer",e),t.youtubeId!==e?(this.logService.log("Info","loading new youtube id",t.youtubeId),this.player.loadVideoById(t.youtubeId)):this.play()}getIdFromVideoUrl(t){return t?t.split("?v=")[1]:""}pause(){this.logService.log("Info","pause() in YoutubeService"),this.player?.pauseVideo()}get volume(){return void 0===this.player?.getVolume()?0:this.player.getVolume()}set volume(t){this.player?.setVolume(t)}get muted(){return void 0===this.player?.isMuted()||this.player.isMuted()}set muted(t){t?this.player?.mute():this.player?.unMute()}static#e=this.\u0275fac=function(e){return new(e||_l)(N(Ho),N(As),N(Uo),N(mi))};static#t=this.\u0275prov=ee({token:_l,factory:_l.\u0275fac,providedIn:"root"})}r=function(s,o){for(var a=["webgl","experimental-webgl","webkit-3d","moz-webgl"],u=null,c=0;c<a.length;++c){try{u=s.getContext(a[c],o)}catch{}if(u)break}return u};var r,yV_setupWebGL=function(s,o,a){a=a||function u(f){var p=document.getElementsByTagName("body")[0];if(p){var m=window.WebGLRenderingContext?'It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org">Click here for more information.</a>':'This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>';f&&(m+="<br/><br/>Status: "+f),p.innerHTML=function(s){return'<div style="margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;">'+s+"</div>"}(m)}},s.addEventListener&&s.addEventListener("webglcontextcreationerror",function(f){a(f.statusMessage)},!1);var c=r(s,o);return c||(window,a("")),c};window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n,t){window.setTimeout(n,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout);var Lt=function(){var t=null,e=!1,i=null,r=0,o={};let a=!1;var v=function(O){i=O;var se=r=.001*performance.now(),Y=function(ve){if(!isNaN(ve)){var me=.001*ve,Be=me-se;se=me;var Je=Math.max(0,me-r);O(t,Je,Be)}e||requestAnimationFrame(Y)};Y()},T={compile:function(O){var se=document.getElementById(O);if(!se)return console.log("Can't find element "+O),null;if("x-shader/x-fragment"==se.type)T=t.createShader(t.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=se.type)return console.log("Unsupported shader type: "+se.type),null;T=t.createShader(t.VERTEX_SHADER)}var Y=se[null===document.textContent?"textContent":"innerText"].trim();return t.shaderSource(T,Y),t.compileShader(T),t.getShaderParameter(T,t.COMPILE_STATUS)?T:(console.log("Can't compile shader "+O,t.getShaderInfoLog(T)),null)},link:function(O,se){var Y=t.createProgram();return t.attachShader(Y,O),t.attachShader(Y,se),t.linkProgram(Y),t.getProgramParameter(Y,t.LINK_STATUS)?Y:(console.log("Can't link program "),null)}},H=function(O,se){this.id=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(vertices),t.DYNAMIC_DRAW),this.elements=se.length/O,this.stride=O};H.prototype.bind=function(){t.bindBuffer(t.ARRAY_BUFFER,this.id)},H.prototype.update=function(O,se){t.bindBuffer(t.ARRAY_BUFFER,this.id),t.bufferSubData(t.ARRAY_BUFFER,O,new Float32Array(se))};var $=function(O,se){if(this.shaderid=O+se,this.a={},this.u={},void 0!==o[this.shaderid])this.program=o[this.shaderid].program;else{var ve=Lt.shader.compile(O),me=Lt.shader.compile(se);this.program=Lt.shader.link(ve,me),o[this.shaderid]={program:this.program}}if(null===this.program)throw"Can't create Program<"+O+", "+se+">"};return $.prototype.use=function(){(void 0===window.activeShader||window.activeShader!==this.shaderid)&&t.useProgram(this.program),window.activeShader=this.shaderid},$.prototype.attribute=function(O){this.a[O]=t.getAttribLocation(this.program,O),this.a[O]<0&&console.log("Attribute "+O+" was not found")},$.prototype.uniform=function(O){this.u[O]=t.getUniformLocation(this.program,O),void 0===this.u[O]&&console.log("Uniform "+O+" was not found")},{initialize:function f(O,se,Y){O.width=se,O.height=Y;try{return(t=yV_setupWebGL(O)).getExtension("OES_standard_derivatives"),t.viewport(0,0,O.width,O.height),a=!0,t}catch{return null}},resize:function(O,se){if(!a)return;const Y=t.canvas;Y.width=O,Y.height=se,t.viewport(0,0,O,se)},fullscreen:function(){document},doPause:function(){e=!0},resume:function(){null!==i&&(e=!1,v(i))},loop:v,loadImage:function(O,se){var Y=new Image;Y.onload=function(){var ve=document.createElement("canvas");ve.width=Y.width,ve.height=Y.height;var me=ve.getContext("2d");me.drawImage(Y,0,0);var Be=me.getImageData(0,0,ve.width,ve.height);se(Y.width,Y.height,Be)},Y.src=O},loadText:function(O){var se=document.createElement("canvas");se.width=400,se.height=40;var Y=se.getContext("2d");return Y.fillStyle="#00FF00",Y.textAlign="center",Y.textBaseline="top",Y.font="32px monospace",Y.fillText(O,se.width/2,0),Y.getImageData(0,0,se.width,se.height)},staticBuffer:function(O,se){var Y=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,Y),t.bufferData(t.ARRAY_BUFFER,new Float32Array(se),t.STATIC_DRAW),Y.elements=se.length/O,Y.stride=O,Y},shader:T,Program:$,Buffer:H,setStartTime:function(O){r=O},getStartTime:function(){return r}}}(),BC_quad=function(e){var i=Lt.staticBuffer(3,[-e,-e,0,e,-e,0,-e,e,0,e,e,0]);return{bind:function(r,s){r.bindBuffer(r.ARRAY_BUFFER,i),r.enableVertexAttribArray(s),r.vertexAttribPointer(s,i.stride,r.FLOAT,!1,0,0)},draw:function(r){r.drawArrays(r.TRIANGLE_STRIP,0,i.elements)}}},BC_cube=function(e){var r=Lt.staticBuffer(3,[e,-e,-e,e,-e,e,-e,-e,-e,-e,-e,e,-e,e,e,e,-e,e,e,e,e,e,e,-e,-e,e,e,-e,e,-e,-e,-e,-e,e,e,-e,e,-e,-e,e,-e,e]);return{bind:function(s,o){s.bindBuffer(s.ARRAY_BUFFER,r),s.enableVertexAttribArray(o),s.vertexAttribPointer(o,r.stride,s.FLOAT,!1,0,0)},draw:function(s){s.drawArrays(s.TRIANGLE_STRIP,0,r.elements)}}},R=function(){var n=1.4166666666666667,t=n/8,e=function(m){return m/n},o=function(m,y,v){var b=e(m);return b<=y?0:b>=y+v?1:(b-y)/v},a=function(m,y,v){return 1-o(m,y,v)};return{init:function(m){n=m},fadein:o,fadeout:a,interval:function(m,y,v,b,w){return o(m,y,v)*a(m,b,w)},unit:function(m,y){return e(m)%y/y},tounit:e,totime:function(m){return m*n},get16partIndex:function(m){return Math.floor(m/t)%16},step:function(m,y){return e(m)>=y?1:0},smoothstep:function p(m,y,v){var b=Math.max(0,Math.min(1,(v-m)/(y-m)));return b*b*(3-2*b)}}}(),jC=function(n,t,e){return Math.min(e,Math.max(t,n))},Bo_inOut=function(n,t,e,i){return n<0?t:n>i?t+e:(n/=i/2)<1?e/2*n*n*n+t:e/2*((n-=2)*n*n+2)+t},kg={in:function(n,t,e){return n<=t?0:n>=t+e?1:(n-t)/e},out:function(n,t,e){return 1-kg.in(n,t,e)}},GC=function(){return function(n){var t=0,e=0,i=0,r=1;0==n.length&&(n=[+new Date]);var s=vV();t=s(" "),e=s(" "),i=s(" ");for(var o=0;o<n.length;o++)(t-=s(n[o]))<0&&(t+=1),(e-=s(n[o]))<0&&(e+=1),(i-=s(n[o]))<0&&(i+=1);s=null;var a=function(){var u=2091639*t+2.3283064365386963e-10*r;return t=e,e=i,i=u-(r=0|u)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.version="Alea 0.9",a.args=n,a}(Array.prototype.slice.call(arguments))};function vV(){var n=4022871197,t=function(e){e=e.toString();for(var i=0;i<e.length;i++){var r=.02519603282416938*(n+=e.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)};return t.version="Mash 0.9",t}var Ve=function(n){var t,e,i;if(n&&"object"==typeof n&&n.hasOwnProperty("elements")){for(e=n.elements,i=new Float32Array(16),t=0;t<16;++t)i[t]=e[t];this.elements=i}else this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};Ve.prototype.setIdentity=function(){var n=this.elements;return n[0]=1,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=1,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=1,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},Ve.prototype.set=function(n){var t,e,i;if((e=n.elements)!==(i=this.elements)){for(t=0;t<16;++t)i[t]=e[t];return this}},Ve.prototype.multiply=Ve.prototype.concat=function(n){var t,e,i,r,s,o,a,u;if(i=this.elements,(e=this.elements)===(r=n.elements))for(r=new Float32Array(16),t=0;t<16;++t)r[t]=e[t];for(t=0;t<4;t++)e[t]=(s=i[t])*r[0]+(o=i[t+4])*r[1]+(a=i[t+8])*r[2]+(u=i[t+12])*r[3],e[t+4]=s*r[4]+o*r[5]+a*r[6]+u*r[7],e[t+8]=s*r[8]+o*r[9]+a*r[10]+u*r[11],e[t+12]=s*r[12]+o*r[13]+a*r[14]+u*r[15];return this},Ve.prototype.multiplyVector3=function(n){var t=this.elements,e=n.elements,i=new $C,r=i.elements;return r[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+t[11],r[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+t[12],r[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+t[13],i},Ve.prototype.multiplyVector4=function(n){var t=this.elements,e=n.elements,i=new bV,r=i.elements;return r[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],r[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],r[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],r[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],i},Ve.prototype.transpose=function(){var n,t;return t=(n=this.elements)[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this},Ve.prototype.setInverseOf=function(n){var t,e,i,r,s;if(e=n.elements,i=this.elements,(r=new Float32Array(16))[0]=e[5]*e[10]*e[15]-e[5]*e[11]*e[14]-e[9]*e[6]*e[15]+e[9]*e[7]*e[14]+e[13]*e[6]*e[11]-e[13]*e[7]*e[10],r[4]=-e[4]*e[10]*e[15]+e[4]*e[11]*e[14]+e[8]*e[6]*e[15]-e[8]*e[7]*e[14]-e[12]*e[6]*e[11]+e[12]*e[7]*e[10],r[8]=e[4]*e[9]*e[15]-e[4]*e[11]*e[13]-e[8]*e[5]*e[15]+e[8]*e[7]*e[13]+e[12]*e[5]*e[11]-e[12]*e[7]*e[9],r[12]=-e[4]*e[9]*e[14]+e[4]*e[10]*e[13]+e[8]*e[5]*e[14]-e[8]*e[6]*e[13]-e[12]*e[5]*e[10]+e[12]*e[6]*e[9],r[1]=-e[1]*e[10]*e[15]+e[1]*e[11]*e[14]+e[9]*e[2]*e[15]-e[9]*e[3]*e[14]-e[13]*e[2]*e[11]+e[13]*e[3]*e[10],r[5]=e[0]*e[10]*e[15]-e[0]*e[11]*e[14]-e[8]*e[2]*e[15]+e[8]*e[3]*e[14]+e[12]*e[2]*e[11]-e[12]*e[3]*e[10],r[9]=-e[0]*e[9]*e[15]+e[0]*e[11]*e[13]+e[8]*e[1]*e[15]-e[8]*e[3]*e[13]-e[12]*e[1]*e[11]+e[12]*e[3]*e[9],r[13]=e[0]*e[9]*e[14]-e[0]*e[10]*e[13]-e[8]*e[1]*e[14]+e[8]*e[2]*e[13]+e[12]*e[1]*e[10]-e[12]*e[2]*e[9],r[2]=e[1]*e[6]*e[15]-e[1]*e[7]*e[14]-e[5]*e[2]*e[15]+e[5]*e[3]*e[14]+e[13]*e[2]*e[7]-e[13]*e[3]*e[6],r[6]=-e[0]*e[6]*e[15]+e[0]*e[7]*e[14]+e[4]*e[2]*e[15]-e[4]*e[3]*e[14]-e[12]*e[2]*e[7]+e[12]*e[3]*e[6],r[10]=e[0]*e[5]*e[15]-e[0]*e[7]*e[13]-e[4]*e[1]*e[15]+e[4]*e[3]*e[13]+e[12]*e[1]*e[7]-e[12]*e[3]*e[5],r[14]=-e[0]*e[5]*e[14]+e[0]*e[6]*e[13]+e[4]*e[1]*e[14]-e[4]*e[2]*e[13]-e[12]*e[1]*e[6]+e[12]*e[2]*e[5],r[3]=-e[1]*e[6]*e[11]+e[1]*e[7]*e[10]+e[5]*e[2]*e[11]-e[5]*e[3]*e[10]-e[9]*e[2]*e[7]+e[9]*e[3]*e[6],r[7]=e[0]*e[6]*e[11]-e[0]*e[7]*e[10]-e[4]*e[2]*e[11]+e[4]*e[3]*e[10]+e[8]*e[2]*e[7]-e[8]*e[3]*e[6],r[11]=-e[0]*e[5]*e[11]+e[0]*e[7]*e[9]+e[4]*e[1]*e[11]-e[4]*e[3]*e[9]-e[8]*e[1]*e[7]+e[8]*e[3]*e[5],r[15]=e[0]*e[5]*e[10]-e[0]*e[6]*e[9]-e[4]*e[1]*e[10]+e[4]*e[2]*e[9]+e[8]*e[1]*e[6]-e[8]*e[2]*e[5],0==(s=e[0]*r[0]+e[1]*r[4]+e[2]*r[8]+e[3]*r[12]))return this;for(s=1/s,t=0;t<16;t++)i[t]=r[t]*s;return this},Ve.prototype.invert=function(){return this.setInverseOf(this)},Ve.prototype.setOrtho=function(n,t,e,i,r,s){var o,a,u,c;if(n===t||e===i||r===s)throw"null frustum";return u=1/(i-e),c=1/(s-r),(o=this.elements)[0]=2*(a=1/(t-n)),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-2*c,o[11]=0,o[12]=-(t+n)*a,o[13]=-(i+e)*u,o[14]=-(s+r)*c,o[15]=1,this},Ve.prototype.ortho=function(n,t,e,i,r,s){return this.concat((new Ve).setOrtho(n,t,e,i,r,s))},Ve.prototype.setFrustum=function(n,t,e,i,r,s){var o,a,u,c;if(n===t||i===e||r===s)throw"null frustum";if(r<=0)throw"near <= 0";if(s<=0)throw"far <= 0";return u=1/(i-e),c=1/(s-r),(o=this.elements)[0]=2*r*(a=1/(t-n)),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r*u,o[6]=0,o[7]=0,o[8]=(t+n)*a,o[9]=(i+e)*u,o[10]=-(s+r)*c,o[11]=-1,o[12]=0,o[13]=0,o[14]=-2*r*s*c,o[15]=0,this},Ve.prototype.frustum=function(n,t,e,i,r,s){return this.concat((new Ve).setFrustum(n,t,e,i,r,s))},Ve.prototype.setPerspective=function(n,t,e,i){var r,s,o,a;if(e===i||0===t)throw"null frustum";if(e<=0)throw"near <= 0";if(i<=0)throw"far <= 0";if(n=Math.PI*n/180/2,0===(o=Math.sin(n)))throw"null frustum";return s=1/(i-e),a=Math.cos(n)/o,(r=this.elements)[0]=a/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-(i+e)*s,r[11]=-1,r[12]=0,r[13]=0,r[14]=-2*e*i*s,r[15]=0,this},Ve.prototype.perspective=function(n,t,e,i){return this.concat((new Ve).setPerspective(n,t,e,i))},Ve.prototype.setScale=function(n,t,e){var i=this.elements;return i[0]=n,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=t,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=e,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},Ve.prototype.scale=function(n,t,e){var i=this.elements;return i[0]*=n,i[4]*=t,i[8]*=e,i[1]*=n,i[5]*=t,i[9]*=e,i[2]*=n,i[6]*=t,i[10]*=e,i[3]*=n,i[7]*=t,i[11]*=e,this},Ve.prototype.setTranslate=function(n,t,e){var i=this.elements;return i[0]=1,i[4]=0,i[8]=0,i[12]=n,i[1]=0,i[5]=1,i[9]=0,i[13]=t,i[2]=0,i[6]=0,i[10]=1,i[14]=e,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},Ve.prototype.translate=function(n,t,e){var i=this.elements;return i[12]+=i[0]*n+i[4]*t+i[8]*e,i[13]+=i[1]*n+i[5]*t+i[9]*e,i[14]+=i[2]*n+i[6]*t+i[10]*e,i[15]+=i[3]*n+i[7]*t+i[11]*e,this},Ve.prototype.setRotate=function(n,t,e,i){var r,s,o,a,u,c,f,p,m,y,v,b;return n=Math.PI*n/180,r=this.elements,s=Math.sin(n),o=Math.cos(n),0!==t&&0===e&&0===i?(t<0&&(s=-s),r[0]=1,r[4]=0,r[8]=0,r[12]=0,r[1]=0,r[5]=o,r[9]=-s,r[13]=0,r[2]=0,r[6]=s,r[10]=o,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):0===t&&0!==e&&0===i?(e<0&&(s=-s),r[0]=o,r[4]=0,r[8]=s,r[12]=0,r[1]=0,r[5]=1,r[9]=0,r[13]=0,r[2]=-s,r[6]=0,r[10]=o,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):0===t&&0===e&&0!==i?(i<0&&(s=-s),r[0]=o,r[4]=-s,r[8]=0,r[12]=0,r[1]=s,r[5]=o,r[9]=0,r[13]=0,r[2]=0,r[6]=0,r[10]=1,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):(1!==(a=Math.sqrt(t*t+e*e+i*i))&&(t*=u=1/a,e*=u,i*=u),f=t*e,p=e*i,m=i*t,y=t*s,v=e*s,b=i*s,r[0]=t*t*(c=1-o)+o,r[1]=f*c+b,r[2]=m*c-v,r[3]=0,r[4]=f*c-b,r[5]=e*e*c+o,r[6]=p*c+y,r[7]=0,r[8]=m*c+v,r[9]=p*c-y,r[10]=i*i*c+o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1),this},Ve.prototype.rotate=function(n,t,e,i){return this.concat((new Ve).setRotate(n,t,e,i))},Ve.prototype.setLookAt=function(n,t,e,i,r,s,o,a,u){var c,f,p,m,y,v,b,w,D,k,T,H;return f=i-n,p=r-t,m=s-e,v=(p*=y=1/Math.sqrt(f*f+p*p+m*m))*u-(m*=y)*a,b=m*o-(f*=y)*u,w=f*a-p*o,k=(b*=D=1/Math.sqrt(v*v+b*b+w*w))*m-(w*=D)*p,T=w*f-(v*=D)*m,H=v*p-b*f,(c=this.elements)[0]=v,c[1]=k,c[2]=-f,c[3]=0,c[4]=b,c[5]=T,c[6]=-p,c[7]=0,c[8]=w,c[9]=H,c[10]=-m,c[11]=0,c[12]=0,c[13]=0,c[14]=0,c[15]=1,this.translate(-n,-t,-e)},Ve.prototype.lookAt=function(n,t,e,i,r,s,o,a,u){return this.concat((new Ve).setLookAt(n,t,e,i,r,s,o,a,u))},Ve.prototype.dropShadow=function(n,t){var e=new Ve,i=e.elements,r=n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3];return i[0]=r-t[0]*n[0],i[1]=-t[1]*n[0],i[2]=-t[2]*n[0],i[3]=-t[3]*n[0],i[4]=-t[0]*n[1],i[5]=r-t[1]*n[1],i[6]=-t[2]*n[1],i[7]=-t[3]*n[1],i[8]=-t[0]*n[2],i[9]=-t[1]*n[2],i[10]=r-t[2]*n[2],i[11]=-t[3]*n[2],i[12]=-t[0]*n[3],i[13]=-t[1]*n[3],i[14]=-t[2]*n[3],i[15]=r-t[3]*n[3],this.concat(e)},Ve.prototype.dropShadowDirectionally=function(n,t,e,i,r,s,o,a,u){return this.dropShadow([n,t,e,-(i*n+r*t+s*e)],[o,a,u,0])};var $C=function(n){var t=new Float32Array(3);n&&"object"==typeof n&&(t[0]=n[0],t[1]=n[1],t[2]=n[2]),this.elements=t};$C.prototype.normalize=function(){var n=this.elements,t=n[0],e=n[1],i=n[2],r=Math.sqrt(t*t+e*e+i*i);return r?(1==r||(n[0]=t*(r=1/r),n[1]=e*r,n[2]=i*r),this):(n[0]=0,n[1]=0,n[2]=0,this)};var bV=function(n){var t=new Float32Array(4);n&&"object"==typeof n&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3]),this.elements=t},Kr=function(){var n=new Ve,t=new Ve,i=(new Ve,10),r=10,s=15,o=0,a=0,u=0,p=function(v,b){o=(i=b+10*v)+2,a=r=5,u=10+(s=-10)},m=function(v,b){o=(i=b+5*v)-2,a=r=5,u=(s=15)-10-v};return{initialize:function(v){v.disable(v.CULL_FACE),n.setPerspective(90,16/9,.1,1e3)},update:function(v,b,w){var k,T,D=R.tounit(b);if(D<2)i=10*b-300,o=-250,a=r=20,u=150+(s=-50);else if(D<4)k=b-R.totime(2),o=2+(i=10*k-300),a=r=10,u=10+(s=-20);else if(D<6)p(b-R.totime(4),-300);else if(D<12)!function(v,b){o=(i=5*v-220)-2,a=(r=5)-1,u=s=5}(b-R.totime(8));else if(D<16)m(b-R.totime(12),-280);else if(D<20)k=b-R.totime(18),o=(i=2*k-160)-4,a=.5+(r=1),u=s=5;else if(D<24)p(b-R.totime(20),-260);else if(D<28)m(b-R.totime(24),-240);else if(D<32)k=b-R.totime(28),o=(i=2*k-120)-2,a=(r=15)-2,u=s=5;else if(D<72){k=b-R.totime(32);var H=Bo_inOut(b-R.totime(54),0,1,R.totime(10));o=-100+Bo_inOut(b-R.totime(44),0,24,R.totime(20)),a=1,u=4,T=15+10*R.fadein(k,0,8)-Bo_inOut(b-R.totime(62),0,10,R.totime(6));var $=3+.1*Bo_inOut(k,0,R.totime(23),R.totime(23));i=o+Math.sin($)*T+2*H,r=8+16*R.fadein(k,0,8)-4*H,s=u+Math.cos($)*T-4*H}else k=b-R.totime(72),o=-60,a=1,u=4,T=40+Bo_inOut(k,0,30,R.totime(24)),i=o+Math.sin(.25*k)*T,r=15+Bo_inOut(k,0,35,R.totime(24)),s=u+Math.cos(.25*k)*T;t.setLookAt(i,r,s,o,a,u,0,1,0)},projection:function(){return n},view:function(){return t}}}(),zC=function(){var n,t,e=new Ve,r=[],s=[],o="#...###...###.#.#.###.####...#.....#...#.#.#.#.#..#...##....#...#.#.###.##.#...#.....#...#.#.#.#.#..###.###...###.###.###.###",a=Math.sqrt(2)-1;return{initialize:function(p){p.disable(p.CULL_FACE),n=BC_cube(1),(t=new Lt.Program("v_solid","f_solid")).attribute("vertex"),t.uniform("uProjection"),t.uniform("uView"),t.uniform("uModel"),t.uniform("uColor");var m,y,v,b,w=new GC(1),D=[-250,1,0];for(m=o.length-1;m>=0;m--)if("."!=o.charAt(m)){var k=m%25,T=parseInt(m/25);s.push([y=D[0]+2*k,v=D[1],b=D[2]+2*T])}var $=null,O=null,se=-1,Y=0;for(m=0;m<60;m++){if(se!=(b=s[m][2])&&(se=b,$=O,O=[],Y=Math.floor(4*w())),Y+=1+Math.floor(3*w()),null!==$)for(var ve=0;ve<$.length;ve++)if(s[m][0]-2*Y===$[ve]){Y++;break}O.push(s[m][0]-2*Y),y=s[m][0]-2*Y,v=s[m][1],s[m][0]+=150,r.push([y,v,b])}},update:function(p,m,y){var v=m-R.totime(7.5);v+=.1*R.step(m,32);var b=R.step(v,0),D=b*(2*v*60/85%1),k=b*Math.floor(R.tounit(2*v))*2,$=[.5*R.interval(m,4,4,62,2),0,0],O=Kr.projection(),se=Kr.view();t.use(),n.bind(p,t.a.vertex),p.uniformMatrix4fv(t.u.uProjection,!1,O.elements),p.uniformMatrix4fv(t.u.uView,!1,se.elements),p.uniform3f(t.u.uColor,$[0],$[1],$[2]),function(p,m){var y=-2*m,v=Math.sin(3.1415*m)*a;p.setIdentity(),p.translate(-y,v,0),p.rotate(-90*m,0,0,1)}(e,jC(1.2*D,0,1));for(var Y=new Ve,ve=0;ve<60;ve++){var me=r[ve];s[ve][0]<=me[0]+k?Y.setTranslate((me=s[ve])[0],me[1],me[2]):(Y.setTranslate(me[0]+k,me[1],me[2]),Y.concat(e)),p.uniformMatrix4fv(t.u.uModel,!1,Y.elements),n.draw(p)}}}}();const _V=.5*(Math.sqrt(3)-1),wl=(3-Math.sqrt(3))/6,Mr=(Math.sqrt(5),Math.sqrt(5),n=>0|Math.floor(n)),WC=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);var e,i,qC={initialize:function(o){for(var a=[],u=function DV(n=Math.random){const t=function Pg(n){const e=new Uint8Array(512);for(let i=0;i<256;i++)e[i]=i;for(let i=0;i<255;i++){const r=i+~~(n()*(256-i)),s=e[i];e[i]=e[r],e[r]=s}for(let i=256;i<512;i++)e[i]=e[i-256];return e}(n),e=new Float64Array(t).map(r=>WC[r%12*2]),i=new Float64Array(t).map(r=>WC[r%12*2+1]);return function(s,o){let a=0,u=0,c=0;const f=(s+o)*_V,p=Mr(s+f),m=Mr(o+f),y=(p+m)*wl,w=s-(p-y),D=o-(m-y);let k,T;w>D?(k=1,T=0):(k=0,T=1);const H=w-k+wl,$=D-T+wl,O=w-1+2*wl,se=D-1+2*wl,Y=255&p,ve=255&m;let me=.5-w*w-D*D;if(me>=0){const nt=Y+t[ve];me*=me,a=me*me*(e[nt]*w+i[nt]*D)}let Be=.5-H*H-$*$;if(Be>=0){const nt=Y+k+t[ve+T];Be*=Be,u=Be*Be*(e[nt]*H+i[nt]*$)}let Je=.5-O*O-se*se;if(Je>=0){const nt=Y+1+t[ve+1];Je*=Je,c=Je*Je*(e[nt]*O+i[nt]*se)}return 70*(a+u+c)}}(new GC(2)),f=function(H,$){var Y=Math.max(0,H*H/6e3-.1)+Math.max(0,$*$/8e4-1);a.push($),a.push(function(H,$){var O=0;return O+=Math.abs(1*u(.005*H,.005*$)),O+=.5*u(.01*H,.01*$),5*((O+=.25*u(.02*H,.02*$))+.12*u(.04*H,.04*$))}(H,$)*Y),a.push(H)},m=0;m<200;m++)for(var y=1&m,v=0;v<100;v++){var w=m,D=8*((y?100-v-1:v)-Math.floor(50)),k=8*(w-Math.floor(100)),T=k+8;m>0&&0==(1&m)&&0===v&&f(D,k),f(D,k),f(D,T),1==(1&m)&&v+1===100&&f(D,k)}e=Lt.staticBuffer(3,a),(i=new Lt.Program("v_solid","f_plasma")).attribute("vertex"),i.uniform("uProjection"),i.uniform("uView"),i.uniform("uModel"),i.uniform("uTime"),i.uniform("uMix")},update:function(o,a,u){var c=Kr.projection(),f=Kr.view(),p=new Ve,m=R.interval(a,28,4,84,4),y=R.interval(a,64,2,80,4);i.use(),o.bindBuffer(o.ARRAY_BUFFER,e),o.enableVertexAttribArray(i.a.vertex),o.vertexAttribPointer(i.a.vertex,e.stride,o.FLOAT,!1,0,0),o.uniformMatrix4fv(i.u.uProjection,!1,c.elements),o.uniformMatrix4fv(i.u.uView,!1,f.elements),o.uniformMatrix4fv(i.u.uModel,!1,p.elements),o.uniform1f(i.u.uTime,a),o.uniform2f(i.u.uMix,m,y),o.uniform3f(i.u.uColor,1,0,1),o.drawArrays(o.TRIANGLE_STRIP,0,e.elements)}},Og=function(){var r,s,n=new EV(20),t="GIOMJL0AMOIG0IGMO0COMGI0OMGILJ0CBN0OMGIUS0AMGIO0GHN0GHTS0AMIKO0BN0MGHNHIO0MGIO0GIOMG0SGIOM0UIGMO0MGI0IGJLOM0BNO0GMOI0GJNLI0GMNHNOI0GOKMI0GMOIUS0GIMO0GIOMG0IO0GILJMO0GILJLOM0GJLIO0IGJLOM0IGMOLJ0IHKLFDMO0CBQR0ABQP0IEGJR0GEILP0".split(0),i=function(p){var m=function(p){var D,k,m=0,y=[],v=0,b=function(Y,ve){var Be=1*(Y+v);y.push(Be),y.push(1*-ve),y.push(0),Be>m&&(m=Be)},w=function(Y,ve){b(Y%3,Math.floor(Y/3)),b(ve%3,Math.floor(ve/3))};for(D=0;D<p.length;D++){var T=p.charCodeAt(D)-65;"0"==p[D]&&(T=26),"1"==p[D]&&(T=27),"2"==p[D]&&(T=28),"3"==p[D]&&(T=29),"4"==p[D]&&(T=30),"5"==p[D]&&(T=31),"6"==p[D]&&(T=32),"@"==p[D]&&(T=33),"["==p[D]&&(T=34),"]"==p[D]&&(T=35),"<"==p[D]&&(T=36),">"==p[D]&&(T=37);var H=t[T];if(H){for(k=1;k<H.length;k++)w(H.charCodeAt(k-1)-65,H.charCodeAt(k)-65);("I"===p[D]||"J"===p[D])&&w(3,4),("F"===p[D]||"T"===p[D])&&w(3,5)}"-"===p[D]&&w(9,11),":"===p[D]&&(w(4,7),w(10,13)),"="===p[D]&&(w(6,8),w(9,11)),"+"===p[D]&&(w(7,13),w(9,11)),","===p[D]&&w(13,16),"."===p[D]&&(w(12,13),w(13,16),w(15,16),w(12,15)),v+=3}var Y,ve,me,O=y.length/6;for(D=0;D<y.length;D+=6){var se=6*Math.floor(n()*O);for(k=0;k<6;k++)void 0,me=y[Y=D+k],y[Y]=y[ve=se+k],y[ve]=me}return[y,m]}(p),v=m[1],b=Lt.staticBuffer(3,m[0]);return{bind:function(w,D){w.bindBuffer(w.ARRAY_BUFFER,b),w.enableVertexAttribArray(D),w.vertexAttribPointer(D,b.stride,w.FLOAT,!1,0,0)},draw:function(w){w.drawArrays(w.LINES,0,b.elements)},drawPartially:function(w,D){var k=Math.floor(jC(D,0,1)*b.elements);w.drawArrays(w.LINES,0,k)},biggestXPos:v}},c=new Ve;return{create:i,initialize:function(p){var m=["GEOMETRY","SOLID","OBJECT","CONFORMITY","SQUARE","SINGULAR","6 FACES","CUBE","VERTEX","REGULAR","HEXAHEDRON","PLATONIC","CUBOID","STRAIGHT","PRISM","TRIGONAL","SYMMETRY","ORDER","PERPENDICULAR","OCTAHEDRON","CUBICAL","LINE","FACETS","EQUILATERAL"];s=[];for(var y=0;y<m.length;y++)s.push(i(m[y]));(r=new Lt.Program("v_solid","f_text")).attribute("vertex"),r.uniform("uProjection"),r.uniform("uView"),r.uniform("uModel"),r.uniform("uColor")},update:function(p,m,y){p.lineWidth(3);var v=Kr.projection(),b=Kr.view();r.use(),p.uniformMatrix4fv(r.u.uProjection,!1,v.elements),p.uniformMatrix4fv(r.u.uView,!1,b.elements);var w=R.interval(m,64,2,80,4),D=.3*R.tounit(20*m),k=.4*(1-w)+w*(.5*Math.sin(D+0)+.5),T=.4*(1-w)+w*(.5*Math.sin(D+2)+.5),H=.4*(1-w)+w*(.5*Math.sin(D+4)+.5);p.uniform3f(r.u.uColor,k,T,H);for(var $=s.length,O=0;O<$;O++){var se=O/$,ve=0,Be=0;c.setIdentity(),O>$/2?(ve=800*(4*(se-.5)-1),Be=250):(ve=800*(4*se-1),Be=-250),c.translate(ve,60,Be),c.scale(3,3,3),O>$/2&&c.rotate(180,0,1,0),p.uniformMatrix4fv(r.u.uModel,!1,c.elements);var Je=s[O];Je.bind(p,r.a.vertex),Je.draw(p)}}}}();function EV(){return function(n){var t=0,e=0,i=0,r=1;0==n.length&&(n=[+new Date]);var s=MV();t=s(" "),e=s(" "),i=s(" ");for(var o=0;o<n.length;o++)(t-=s(n[o]))<0&&(t+=1),(e-=s(n[o]))<0&&(e+=1),(i-=s(n[o]))<0&&(i+=1);s=null;var a=function(){var u=2091639*t+2.3283064365386963e-10*r;return t=e,e=i,i=u-(r=0|u)};return a.uint32=function(){return 4294967296*a()},a.fract53=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.version="Alea 0.9",a.args=n,a}(Array.prototype.slice.call(arguments))}function MV(){var n=4022871197,t=function(e){e=e.toString();for(var i=0;i<e.length;i++){var r=.02519603282416938*(n+=e.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)};return t.version="Mash 0.9",t}var KC=function(){var n,t;return{initialize:function(r){n=BC_quad(1),(t=new Lt.Program("v_background","f_background")).attribute("vertex"),t.uniform("uColor"),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA)},update:function(r,s,o){var a=1-R.interval(s,0,1,95,1);t.use(),n.bind(r),r.uniform4f(t.u.uColor,1,1,1,a),r.enable(r.BLEND),n.draw(r),r.disable(r.BLEND)}}}(),YC=function(){var n,t,e=new Ve,i=new Ve,r=new Ve,o=0,a=0,c=function(p,m,y){var v=t[y];if(!(void 0===v||m<v.start||v.stop<m)){var w=v.message,D=v.scale||.02;r.setIdentity(),r.translate(-.98,.5475,-1),r.scale(D,D,D),p.uniformMatrix4fv(n.u.uModel,!1,r.elements),p.uniform3f(n.u.uColor,v.color[0],v.color[1],v.color[2]);var $=v.fadeTime||R.totime(1),O=kg.in(m,v.start,$)*kg.out(m,v.stop-$,$);w.bind(p,n.a.vertex),w.drawPartially(p,O)}};return{initialize:function(p){t=[{text:"WARNING! THINKING OUTSIDE THE BOX MAY CAUSE PERMANENT BRAIN DAMAGE. SIDE EFFECTS MAY INCLUDE, BUT IS NOT LIMITED TO: ANXIETY, CONFUSION, NERVOUSNESS AND INSOMNIA",start:0,stop:R.totime(8),x:[1,-6],y:[-.5,-.5],scale:.01,color:[.8,.2,.2]},{text:"KLOVMAN: CODE",start:R.totime(2),stop:R.totime(3.75),fadeTime:R.totime(.25),color:[1,1,1]},{text:"VULKANOMAN: MUSIC + CODE",start:R.totime(4),stop:R.totime(5.75),fadeTime:R.totime(.25),color:[1,1,1]},{text:"             LE CUBE",start:R.totime(6),stop:R.totime(8),fadeTime:R.totime(.25),color:[1,1,1]},{text:"            FROM 2014",start:R.totime(9),stop:R.totime(11),fadeTime:R.totime(.25),color:[1,1,1]},{text:"FROM 2023 WITH MASS PSYCHOSIS",start:R.totime(12),stop:R.totime(15),fadeTime:R.totime(.25),color:[1,1,1]},{text:"SPHERES ARE BORING",start:R.totime(16),stop:R.totime(19),fadeTime:R.totime(.25),color:[1,1,1]},{text:"LINES ARE TOO THIN",start:R.totime(20),stop:R.totime(23),fadeTime:R.totime(.25),color:[1,1,1]},{text:"CUBE IS THE NEW BLACK",start:R.totime(24),stop:R.totime(27),fadeTime:R.totime(.25),color:[1,1,1]},{text:"WE ARE CUBING",start:R.totime(72),stop:R.totime(74),fadeTime:R.totime(.25),color:[1,1,1]},{text:"PANDA DESIGN",start:R.totime(74),stop:R.totime(75),fadeTime:R.totime(.25),color:[1,1,1]},{text:"ZWORP",start:R.totime(75),stop:R.totime(76),fadeTime:R.totime(.25),color:[1,1,1]},{text:"DERIL",start:R.totime(76),stop:R.totime(77),fadeTime:R.totime(.25),color:[1,1,1]},{text:"PILGRIM",start:R.totime(77),stop:R.totime(78),fadeTime:R.totime(.25),color:[1,1,1]},{text:"JONAS + DAVID",start:R.totime(78),stop:R.totime(79),fadeTime:R.totime(.25),color:[1,1,1]},{text:"ORREBORRE",start:R.totime(79),stop:R.totime(80),fadeTime:R.totime(.25),color:[1,1,1]},{text:"BAN",start:R.totime(80),stop:R.totime(81),fadeTime:R.totime(.25),color:[1,1,1]},{text:"ELIN",start:R.totime(81),stop:R.totime(82),fadeTime:R.totime(.25),color:[1,1,1]},{text:"SASQ",start:R.totime(82),stop:R.totime(83),fadeTime:R.totime(.25),color:[1,1,1]},{text:"IRIDON",start:R.totime(83),stop:R.totime(84),fadeTime:R.totime(.25),color:[1,1,1]},{text:"PIXELJUICE",start:R.totime(84),stop:R.totime(85),fadeTime:R.totime(.25),color:[1,1,1]},{text:"XOOMIE",start:R.totime(85),stop:R.totime(86),fadeTime:R.totime(.25),color:[1,1,1]},{text:"TANIS",start:R.totime(86),stop:R.totime(87),fadeTime:R.totime(.25),color:[1,1,1]},{text:"GEEZER",start:R.totime(87),stop:R.totime(88),fadeTime:R.totime(.25),color:[1,1,1]},{text:"MATHMAN",start:R.totime(88),stop:R.totime(89),fadeTime:R.totime(.25),color:[1,1,1]},{text:"YOU",start:R.totime(89),stop:R.totime(91),fadeTime:R.totime(.5),color:[1,1,1]}];for(var m=0;m<t.length;m++)t[m].message=Og.create(t[m].text);(n=new Lt.Program("v_solid","f_text")).attribute("vertex"),n.uniform("uProjection"),n.uniform("uView"),n.uniform("uModel"),n.uniform("uColor"),p.lineWidth(3),e.ortho(-1,1,-9/16,9/16,.1,100)},update:function(p,m,y){n.use(),p.uniformMatrix4fv(n.u.uProjection,!1,e.elements),p.uniformMatrix4fv(n.u.uView,!1,i.elements),p.lineWidth(2),R.tounit(m)<88&&function(p,m,y,v){var b=t[0];if(!(m<b.start||b.stop<m)){var w=(m-b.start)/(b.stop-b.start),D=b.x[0]+w*(b.x[1]-b.x[0]),k=b.y[0]+w*(b.y[1]-b.y[0]),H=b.scale||.02;r.setIdentity(),r.translate(D,k,-1),r.scale(H,H,H),p.uniformMatrix4fv(n.u.uModel,!1,r.elements),p.uniform3f(n.u.uColor,b.color[0],b.color[1],b.color[2]);var $=b.message;$.bind(p,n.a.vertex);var O=R.interval(v,64,4,80,4);$.drawPartially(p,1-O*a),v>=o&&(o=v+.1,a=Math.random())}}(p,(m-R.totime(8))%R.totime(8),0,m),c(p,m,1),c(p,m,2),c(p,m,3),c(p,m,4),c(p,m,5),c(p,m,6),c(p,m,7),c(p,m,8),c(p,m,9),c(p,m,10),c(p,m,11),c(p,m,12),c(p,m,13),c(p,m,14),c(p,m,15),c(p,m,16),c(p,m,17),c(p,m,18),c(p,m,19),c(p,m,20),c(p,m,21),c(p,m,22),c(p,m,23),c(p,m,24)}}}();class Cl{constructor(t,e){this.logService=t,this.screenService=e,this.playerWidth=400,this.playerHeight=300,this.initialized=!1}init(t){var e=Lt.initialize(t.nativeElement,this.playerWidth,this.playerHeight);return null===e?this.logService.log("Error","Could not initialize WebGL"):(R.init(85/60),this.initialize(e),this.initialized=!0),this.playerHeight}onWindowResize(t,e){const s=this.screenService.getRectSizeForHorizontalCenter(t,new Map([[Xe.Default,0],[Xe.S,.05],[Xe.M,.15],[Xe.L,.25],[Xe.XL,.3]]),new Map([[Xe.Default,0],[Xe.XXS,16],[Xe.XS,16],[Xe.S,8],[Xe.M,6],[Xe.L,3]]));return Lt.resize(s.width,s.height),this.playerWidth=s.width,this.playerHeight=s.height,this.playerHeight}initialize(t){t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),Kr.initialize(t),zC.initialize(t),qC.initialize(t),Og.initialize(t),KC.initialize(t),YC.initialize(t),Lt.loop(this.main);const e=this.getRandomStartTimeForStillImage();Lt.setStartTime(e),Lt.doPause()}playFromStart(){!this.initialized||(Lt.setStartTime(0),Lt.resume())}getRandomStartTimeForStillImage(){return 138*Math.random()-136}main(t,e,i){var s=R.unit(e,2),o=.1*(Math.sin(3.1415*s)+1);e>=136&&(o=1),t.clearColor(o,o,o,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),e>=136?Lt.doPause():(Kr.update(t,e,i),qC.update(t,e,i),zC.update(t,e,i),Og.update(t,e,i),YC.update(t,e,i),KC.update(t,e,i))}pause(){!this.initialized||Lt.doPause()}resume(){if(this.initialized){var t=Lt.getStartTime();Lt.resume(),Lt.setStartTime(t+.6)}}static#e=this.\u0275fac=function(e){return new(e||Cl)(N(mi),N(Uo))};static#t=this.\u0275prov=ee({token:Cl,factory:Cl.\u0275fac,providedIn:"root"})}class ge{constructor(t,e,i,r,s,o=1){this.key=t,this.url=e,this.maxGain=i,this.soundType=r,this.loop=s,this.maxNrPlayingAtOnce=o}static music(t,e,i=1){return new ge(t,e,i,"Music",!1,1)}static musicLoop(t,e,i=1){return new ge(t,e,i,"Music",!0,1)}static sfx(t,e,i){return new ge(t,e,i,"SFX",!1,1)}static sfxLoop(t,e,i){return new ge(t,e,i,"SFX",!0,1)}}class JC{constructor(t,e,i=3,r=30,s=20,o=!0,a=0,u=0){this.instanceEndedListeners=t,this.log=e,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=r,this.fadeDurationSec=s,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=a,this.maxLayerValue=u,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=a}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(t){this._gainsDisabled=t}start(t){this._layerSoundInstances=t,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let e=this.layerIndexToBeDecremented+1;e<this._layerSoundInstances.length;e++)this._layerSoundInstances[e].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,t),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(t){t&&!this._gainsDisabled.value&&(this._gainsDisabled.value=t,this._gainsDisabled.emit("Change",t))}setFadeTimeout(t,e,i){t.set(e,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),t.delete(e),0===t.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===e&&this.instanceEndedListeners.forEach(r=>r(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const t=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);t&&clearTimeout(t),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.unmuteInstance(e.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeInTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}class Dl{constructor(t,e){this.soundManager=t,this.logService=e,this._isInitialized=!1,this.dirEgillAntonsson=`${pn.dir}/egillantonsson/`,this.dirKanez=`${pn.dir}/kanez/`,this.dirTribeOfOranges=`${pn.dir}/too/`,this.dirGameMusicLayered=`${pn.dir}/game/music-layered/`,this.dirGameMusic=`${pn.dir}/game/music`,this.dirBraedraminning=`${pn.dir}/braedraminning/`,this.pathBraedraminningArtwork=`${this.dirBraedraminning}braedraminning.jpeg`,this.dirKuai=`${pn.dir}/kuai/`,this.pathKuaiArtwork=`${this.dirKuai}KUAI.jpg`,this.urlGogogic='<a href=https://www.facebook.com/gogogic target="_blank">Gogogic</a>',this.aboutGameMusicLayered=`When Head of Sound at the company ${this.urlGogogic} from 2008 to 2013 I developed a method called "Layered Music" to balance rich musical experiences with minimal resource usage and monotony. This technique fades in and fades out music layers based on user activity.`,this.aboutGameMusic=`When I was Head of Sound at the company ${this.urlGogogic} from 2008 to 2013  I composed, designed and produced the Music and SFX for the games.`,this.braedraminning70s="Recorded with their band Lazarus or Fl\xf3 (not sure which one)",this.circa70sYear="I'm guessing a bit on the year of this recording",this.lazarusOrFlo="guitar: \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson, bass: P\xe1ll Hartmannsson or Einar Arngr\xedmsson, drums: Hermann T\xf3masson or Vignir Hallgr\xedmsson",this._instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}getTrackByRootUrl(t){return this._tracksByRootUrl.get(t)}get instancePlayedListeners(){return this._instancePlayedListeners}get timeout(){return this._timeout}set timeout(t){this._timeout=t}urlSindri(t=!1){let e="Sindri";return t&&(e="Sindri Bergmann \xde\xf3rarinsson"),`<a href="https://www.f6s.com/member/sindribergmannrarinsson#about" target="_blank">${e}</a>`}urlSteini(t=!1){let e="Steini";return t&&(e="Gu\xf0mundur Steinn Gunnarsson"),`<a href="https://gudmundursteinn.net" target="_blank">${e}</a>`}urlSiggi(t=!1){let e="Siggi";return t&&(e="Sigur\xf0ur \xde\xf3r R\xf6gnvaldsson"),`<a href="https://www.last.fm/music/Sigurdur+R%C3%B6gnvaldsson" target="_blank">${e}</a>`}urlDori(t=!1){let e="D\xf3ri";return t&&(e="Halld\xf3r Andri Bjarnason"),`<a href="http://www.77.is" target="_blank">${e}</a>`}get aboutEgillAntonsson(){return`I began my musical journey at age 7 with the piano. In my early teens, I was drawn to the guitar, inspired by icons like <a href="https://www.slashonline.com/"  target="_blank">Slash</a>. Alongside my two friends, all of us guitarists, we formed a band and I embraced the electric bass, recognizing its significance (alongside the drums) in modern music genres. Growing up in choirs my mother Halla Soff\xeda J\xf3nasd\xf3ttir sung in, I started myself singing more and more.<br>\n\t\tIn my late teens, my passion for the piano resurfaced, leading me to focus on jazz piano, and a bit of bass, at F\xcdH music school. There, I had the privilege of learning from exceptional mentors, including <a href="https://www.agnarmagnusson.com" target="_blank">Agnar M\xe1r Magn\xfasson</a>, <a href="https://open.spotify.com/artist/1mtaJAxoe50UVhxjG3BRDd?si=da5LV9aAT6mNstXEwgnoeA" target="_blank">Ey\xfe\xf3r Gunnarsson</a>, <a href="https://open.spotify.com/artist/07AnAQ7ktaTxhqaAJvSCRG?si=vJpKq05ORHyxWWrFSVpSrA" target="_blank">J\xf3hann \xc1smundsson</a>, and <a href="https://www.sigurdurflosason.com" target="_blank">Sigur\xf0ur Flosason</a>.<br>\n\t\tAround the turn of this century, I was in the band <a href="https://egill.rocks/music/pirringur" target="_blank">KUAI</a> which shone brightly before fading out. Throughout my journey, I collaborated with many talented musicians, yet my most enduring partnership remains with ${this.urlSindri()}. Currently we produce music as <a href="https://egill.rocks/music/tonis-time-machine" target="_blank">Kanez Kane</a>.<br>\n\t\t<br>You can find more details about these collaborations in the 'About' section of the corresponding tracks.`}get aboutKanez(){return'A partnership with my friend <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a>. While we have created a vast amount of music together, we have only released a small portion of it to the world. However, we are excited to announce that we will be releasing more of our music soon, so stay tuned for updates.'}get aboutBraedraminning(){return"My parents kept a cassette with the recordings of the songs my older brothers made. To make sure the songs survived that old cassette, I published the album Br\xe6\xf0raminning, which also includes my takes on their songs."}get aboutTribeOfOranges(){return'A partnership with my friend <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a>. Some of our music is under Tribe Of Oranges.'}get aboutKuai(){return`The instrumental post-rock band KUAI was formed in Reykjavik, Iceland, in the summer of 1998. The band consisted of Baldur Ingvar Sigur\xf0sson on drums, Egill Antonsson on bass, and ${this.urlSteini(!0)} (called Steini) and ${this.urlSiggi(!0)} (called Siggi) on guitars. When asked to describe their music, the band explained that it is difficult to put into words, but it can be categorized as instrumental rock with experimental elements. They draw inspiration from their roots in rock and heavy metal, and the guitars often improvise lines influenced by jazz improvisation, while the bass and drums provide powerful patterns as the foundation.<br><br>\n\t\tThe album "kuai" was recorded between September 2000 and June 2001 by <a href="https://open.spotify.com/artist/1bh1wQxtLdKOi9gCAEglwl" target="_blank">Elmar \xde\xf3r Gilbertsson</a>, then the band mixed the album themselves. One track, "Rover," was recorded and mixed by J\xf3n Elvar Hafsteinsson in 1999. The album cover was designed by ${this.urlDori()}. From October 2001, the band assembled the CDs and sent to Hlj\xf3malind music store and sold at concerts.<br>\n\t\tTo capture the raw energy and spontaneity of their performances, the band opted for a "live" studio recording (without an audience). However, some parts were recorded separately afterwards, including some guitar parts, organ and piano played by Egill, saxophone in "Andefni" played by Steinar Sigur\xf0sson, and cellos in "Lesblinda I" and "Lesblinda II" played by Hallgr\xedmur J\xf3nas Jensson and Rannveig Bjarnad\xf3ttir ( ${this.urlSteini()} arranged the cello parts).<br>\n\t\tDue to an accidental finger cut on his "fretting" hand at the beginning of the recording period,  ${this.urlSteini()} re-tuned his guitar, and the band transposed many tracks to D in order to minimize strain on his injured hand while playing. Egill also re-tuned his deepest string to D on his 4 string bass in many of the tracks.<br>`}get aboutBraedraminningTake2002(){return`My take on this song, recorded and mixed in 2001-2002. ${this.urlSindri(!0)} mastered in 2022 (as well as could be done).`}init(){this._isInitialized||(this._byTracks=[{name:"Egill Antonsson",tracks:[this.leCube(),this.votThemeSong(),this.harmoniesOfShadeAndLight(),this.weWillMeetAgain(),this.magmaMerryGoRound(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace()],about:this.aboutEgillAntonsson},{name:"Kanez Kane",tracks:[this.tonisTimeMachine(),this.winterQueen(),this.komaKoma(),this.strawberryCityLights()],about:this.aboutKanez},{name:"KUAI",tracks:[this.andefniLive(),this.pirringurLive(),this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()],about:this.aboutKuai},{name:"Tribe Of Oranges",tracks:[this.introduction(),this.routine(),this.hhiCommercial()],about:this.aboutTribeOfOranges},{name:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()],about:this.aboutGameMusicLayered},{name:"Game Music",tracks:[this.godsrule(),this.vot(),this.tinyPlaces(),this.cakePopParty(),this.softFreakFiesta(),this.symbol6(),this.habitarium(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.crisisGame()],about:this.aboutGameMusic},{name:"Br\xe6\xf0raminning",tracks:[this.pesi2002(),this.mouse2002(),this.rubber2002(),this.solos2002(),this.takeCare2002(),this.beLikeYou2002(),this.story2002(),this.frumlag2002(),this.world2002(),this.withoutThem2002(),this.myDearOldBrothers(),this.pesi1974(),this.mouse1975(),this.rubber1975(),this.solos1975(),this.takeCare1976(),this.beLikeYou1976(),this.story1976(),this.frumlag1977(),this.world1977(),this.withoutThem1977()],about:this.aboutBraedraminning}],this.flattenTracks(),this._isInitialized=!0)}flattenTracks(){this._tracksByRootUrl=new Map,this._flatTracks=[];let t=0;for(let e=0;e<this._byTracks.length;e++)for(let i=0;i<this._byTracks[e].tracks.length;i++){const r=this._byTracks[e].tracks[i];r.index=t++;const s=this._byTracks[e];r.artistName=s.name,r.artistAbout=s.about,this._flatTracks.push(r),this._tracksByRootUrl.set(r.rootUrl,r)}}leCube(){var t=this;const e="le-cube",r=`${this.dirEgillAntonsson}${e}.jpg`,o=new gV([ge.music(e,`${this.dirEgillAntonsson}/${e}.ogg`)],()=>Yt(function*(){const a=t.soundManager.instance.getSound(o.soundDatas[0].key),{instance:u,endedPromise:c}=yield a.play();t.instancePlayedListeners.forEach(f=>f(u)),yield c,t.instanceEndedListeners.forEach(f=>f(!0))}),e,"Le Cube \u25c7 Mass Psychosis",r,"A demoscene entry collaboration with my friend Erik Bystr\xf6m (klovman) in 2014. He created and programmed the visuals and I (Vulkanoman) created the music. In 2023 I enhanced the music a la Mass Psychosis.");return o}winterQueen(){const t="winter-queen";return new Fo("gNL39MCw8Jw",!1,t,"Winter Queen",`${this.dirKanez}${t}.jpg`,"The third song release by Kanez Kane, 7th February 2023. Composed during the 1st Stockholm music session (<a href=\"https://www.f6s.com/member/sindribergmannrarinsson#about\">Sindri</a> visited me). Fittingly the weather both in Sweden and Iceland was cold throughout the whole production period.<br>\n\t\t<br>LYRICS<br>\n\t\tVerse 1:<br>\n\t\tJosefine, the frostbites and scars.<br>\n\t\tJosefine, you're cold from afar.<br>\n\t\tEvery night I pray for... Every night I scream...<br>\n\t\tI'm afraid I'll end up like my queen.<br>\n\t\tVerse 2:<br>\n\t\tJosefine, the north wind is harsh.<br>\n\t\tJosefine, my shivering dreams.<br>\n\t\tEvery day I beg you... Every day I try...<br>\n\t\tNothing but the icing on your heart.<br>\n\t\tPre-chorus:<br>\n\t\tOh, the long, cold winter nights.<br>\n\t\tCold breath, nothing seems right.<br>\n\t\tChorus:<br>\n\t\tJosefine, winter queen.<br>\n\t\tJosefine, don't be so mean, my winter queen.<br>\n\t\tVerse 3:<br>\n\t\tJosefine, a cold summer day.<br>\n\t\tJosefine, I'm melting away.<br>\n\t\tEvery time I feel you... Every time I cry...<br>\n\t\tYour frosty tongue is waiting in the dark.<br>\n\t\t-> Pre-chorus -> Chorus<br>\n\t\tWeather forecast: It seems like there's a storm, coming...<br>","","https://open.spotify.com/track/56X0rSJh8MRO2aJTZfSgpF?si=ec263723abbf4f29","https://www.qobuz.com/album/winter-queen-kanez-kane/i0evkfp38ctac")}komaKoma(){const t="koma-koma";return new Fo("Ww4w8prWBxM",!1,t,"Koma Koma",`${this.dirKanez}${t}.jpg`,"This second song release by Kanez Kane, 15th January 2023. Jump and join the Revolution!<br>\n\t\t<br>LYRICS<br>\n\t\tVerse 1:<br>\n\t\tHis name was Koma Koma, he had to move around.<br>\n\t\tHeard he came from Bangaboo, the dark side of town.<br>\n\t\t50 years in coma, still looking 22, I thought he was a miracle too.<br>\n\t\tPre-chorus:<br>\n\t\tOh, he sees you, feels you, calls out your name, and tells us stories of time.<br>\n\t\tChorus:<br>\n\t\tOh, the nights were so long, we kept playing along, talking about revolution.<br>\n\t\tOh, the people were kind, they got into your mind, talking about revolution.<br>\n\t\tPost-chorus:<br>\n\t\tRevolution (everybody do what I say), in the mind (everybody jump).<br>\n\t\tRevolution (everybody do what I say), in the heart (everybody jump).<br>\n\t\tVerse 2:<br>\n\t\tHe was always moving, never standing still.<br>\n\t\tHad a vision of the world, was willing to kill.<br>\n\t\tPut you in a koma, there's magic in his eyes, you would always follow his will.<br>\n\t\tPre-chorus -> Chorus -> Post-chorus<br>\n\t\tBridge:<br>\n\t\tJump, jump, jump, jump, jump, jump, jump, jump...<br>\n\t\tRevolution, revolution, revolution of the mind.<br>\n\t\tBut they're out of their mind, of their mind, of their mind!<br>\n\t\tChorus -> Post-chorus<br>\n\t\tPost-chorus outro:<br>\n\t\tRevolution (got a message to the whole / free generation).<br>\n\t\tRevolution (got a message to the heart).<br>","","https://open.spotify.com/track/0Hbv3lJZvM3Bb9vhEcAAhi?si=c9036966188848a9","https://www.qobuz.com/album/koma-koma-kanez-kane/vmzznxtf4kyna")}strawberryCityLights(){const t="strawberry-city-lights";return new Fo("DTmPz-vSTFI",!1,t,"Strawberry City Lights",`${this.dirKanez}${t}.jpg`,"This first song release by Kanez Kane, 15th December 2022.<br>\n\t\t<br>LYRICS<br>\n\t\tVerse 1:<br>\n\t\tRose, fame, forever, forever.<br>\n\t\tGoing home, oh, it went sideways.<br>\n\t\tBirds, bees, forever, forever.<br>\n\t\tGrowing tall, oh, wait for Fridays.<br>\n\t\tChorus:<br>\n\t\tStrawberry city lights, angels shine every night.<br>\n\t\tNo turn here makes it right, I'm waiting at the gate.<br>\n\t\tPerfume and ecstasy, Candyman sets you free.<br>\n\t\tLove, guns and sticky nuns, they'll / please help me find my way.<br>\n\t\tVerse 2:<br>\n\t\tGone, dead, forever, forever.<br>\n\t\tGoing home, oh, 6 feet under.<br>\n\t\tStars, light, oh never, oh never.<br>\n\t\tGrowing old, oh, makes you wonder.<br>\n\t\t-> Chorus<br>\n\t\tVerse outro:<br>\n\t\tRose, fame, forever, forever.<br>\n\t\tGoing home, oh, 6 feet under.<br>","","https://open.spotify.com/track/0lRUvYevsLK5pBrTYfl3be?si=04526be015af456e","https://www.qobuz.com/album/strawberry-city-lights-kanez-kane/qhcm8paksnp5a")}tonisTimeMachine(){const t="tonis-time-machine";return new Fo("J4h4s7IQSSs",!1,t,"Toni's Time Machine",`${this.dirKanez}${t}.jpg`,"Currently the latest Kanez Kane song release, 26th May 2023. Composed during the 1st Stockholm music session (<a href=\"https://www.f6s.com/member/sindribergmannrarinsson#about\">Sindri</a> visited me).<br>\n\t\t<br>LYRICS<br>\n\t\tChorus:<br>\n\t\tToni's living in the past...<br>\n\t\tVerse 1:<br>\n\t\tToni was a man, trapped, lost in the past.<br>\n\t\tLived in his stories, old times were his way, but<br>\n\t\tToni was ashamed, felt guilty of lies.<br>\n\t\tInvented the greatest machine of all time.<br>\n\t\t-> Chorus<br>\n\t\tVerse 2:<br>\n\t\tToni traveled time, loved getting away.<br>\n\t\tWhile sitting still in his room every day, but<hbr>\n\t\tToni's mission failed when blowing a fuse.<br>\n\t\tShort circuit accident, stuck in the room.<br>\n\t\t-> Chorus","","https://open.spotify.com/track/2RLL2jOutw0X6xoJuxOl2u?si=4d0cc6b104f943a0","https://www.qobuz.com/album/tonis-time-machine-kanez-kane/f0thz4tnngdxc")}pesi2002(){return new Re("https://soundcloud.com/egill-antonsson/pesi-year-2002?in=egill-antonsson/sets/braedraminning","pesi-year-2002","P\xe9si (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/6viU3JhxNEKkY2paBuOEaP","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}mouse2002(){return new Re("https://soundcloud.com/egill-antonsson/mouse-year-2002?in=egill-antonsson/sets/braedraminning","mouse-year-2002","Mouse (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+" I did my take on the lyrics, thus differing to some extent.","https://open.spotify.com/track/1f2eGiZiCMOMZZbKc52IIH","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}rubber2002(){return new Re("https://soundcloud.com/egill-antonsson/rubber-year-2002?in=egill-antonsson/sets/braedraminning","rubber-year-2002","Rubber (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/23kZ3ftMMyigpXU49Rq35Q","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}solos2002(){return new Re("https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","solos-year-2002","Solos (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/5J8kU1mdqcqKZ0Wb3sxrqj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}takeCare2002(){return new Re("https://soundcloud.com/egill-antonsson/take-care-year-2002?in=egill-antonsson/sets/braedraminning","take-care-year-2002","Take Care (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/6xiCd9HFh0SaJEngXtgldj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}beLikeYou2002(){return new Re("https://soundcloud.com/egill-antonsson/be-like-you-year-2002?in=egill-antonsson/sets/braedraminning","be-like-you-year-2002","Be Like You (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/4zcgAvMsU46YVTKGmS8vJA","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}story2002(){return new Re("https://soundcloud.com/egill-antonsson/story-year-2002?in=egill-antonsson/sets/braedraminning","story-year-2002","Story (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+"I increased the drama in the lyrics e.g. by knocking the headmaster OUT, instead of DOWN (I don't remember if it specific thing was intentional or not.","https://open.spotify.com/track/0zcnfEWqzmaCfp7hsbcA9Z","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}frumlag2002(){return new Re("https://soundcloud.com/egill-antonsson/frumlag-year-2002?in=egill-antonsson/sets/braedraminning","frumlag-year-2002","Frumlag (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/5fFuGjJMqLS0iPMmiZ3SBc","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}world2002(){return new Re("https://soundcloud.com/egill-antonsson/world-year-2002?in=egill-antonsson/sets/braedraminning","world-year-2002","World (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+" I think I increased the drama in the lyrics with 'The world is nothing except hate' as it could be that Egill sung 'The world is nothing I say Hey'. I also added lyrics where they were missing or unclear.","https://open.spotify.com/track/5EFT7M2r9kiJqPn2EtXNoz","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}withoutThem2002(){return new Re("https://soundcloud.com/egill-antonsson/without-them-year-2002?in=egill-antonsson/sets/braedraminning","without-them-year-2002","Without them (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+" I kept with the 'no no no' like in the original, and additionally went ALL IN on other verbal sounds.","https://open.spotify.com/track/5cfstB4Y5eIFI79e4KBAk8","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}myDearOldBrothers(){return new Re("https://soundcloud.com/egill-antonsson/my-dear-old-brothers?in=egill-antonsson/sets/braedraminning","my-dear-old-brothers","My Dear Old Brothers",this.pathBraedraminningArtwork,"I saw a chord progression with the title 'Lady Lobo' written in a note book that belonged to my brothers. I thought this might be an original song and thus wanted to bring it to life for the album. I shaped the song, found the melody and lyrics and re-titled and performed it. It ends with traveling back in time to the 70s and the original songs.\n","https://open.spotify.com/track/6mnJyUYVPeoEx8oKUBu4Zw","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}pesi1974(){return new Re("https://soundcloud.com/egill-antonsson/pesi-year-1974?in=egill-antonsson/sets/braedraminning","pesi-year-1974","P\xe9si (year 1974)",this.pathBraedraminningArtwork,`J\xf3nas wrote this song for Egill to play on the wurlitzer piano. ${this.braedraminning70s}. ${this.circa70sYear}. Wurlitzer piano: Egill,\nguitar: J\xf3nas, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/5wmAzE3Mc0uWjhjxRf95OQ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}mouse1975(){return new Re("https://soundcloud.com/egill-antonsson/mouse-year-1975?in=egill-antonsson/sets/braedraminning","mouse-year-1975","Mouse (year 1975)",this.pathBraedraminningArtwork,`${this.braedraminning70s}. ${this.circa70sYear}. Vocals and wurlitzer piano: Egill, guitar: J\xf3nas, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/3qtGfywTgrjxBMQcCdN1xo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}rubber1975(){return new Re("https://soundcloud.com/egill-antonsson/rubber-year-1975?in=egill-antonsson/sets/braedraminning","rubber-year-1975","Rubber (year 1975)",this.pathBraedraminningArtwork,`${this.braedraminning70s}. ${this.circa70sYear}. Vocals and wurlitzer piano: Egill, guitar: J\xf3nas and background vocals, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/700fVJsCrH4BBpsMW7B60t","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}solos1975(){return new Re("https://soundcloud.com/egill-antonsson/solos-year-1975?in=egill-antonsson/sets/braedraminning","solos-year-1975","Solos (year 1975)",this.pathBraedraminningArtwork,`${this.braedraminning70s}. ${this.circa70sYear}. Organ: Egill, guitar: J\xf3nas, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/3X7wZlcTxFwkLs7rvEkkWZ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}takeCare1976(){return new Re("https://soundcloud.com/egill-antonsson/take-care-year-1976?in=egill-antonsson/sets/braedraminning","take-care-year-1976","Take Care (year 1976)",this.pathBraedraminningArtwork,`Egill playing by himself. It feels to me that this is shortly after J\xf3nas is gone but I'm not sure, ${this.circa70sYear}.`,"https://open.spotify.com/track/2V0X8p2Tefcg5MTrnuuplo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}beLikeYou1976(){return new Re("https://soundcloud.com/egill-antonsson/be-like-you-year-1976?in=egill-antonsson/sets/braedraminning","be-like-you-year-1976","Be Like You (year 1976)",this.pathBraedraminningArtwork,`Egill playing by himself. It feels to me that this is shortly after J\xf3nas is gone but I'm not sure, ${this.circa70sYear}.`,"https://open.spotify.com/track/23YxXCBVwziMTdJnIGqLZx","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}story1976(){return new Re("https://soundcloud.com/egill-antonsson/story-year-1976?in=egill-antonsson/sets/braedraminning","story-year-1976","Story (year 1976)",this.pathBraedraminningArtwork,`Egill playing by himself. It feels to me that this is shortly after J\xf3nas is gone but I'm not sure, ${this.circa70sYear}.`,"https://open.spotify.com/track/47Tf6lPTTaibh0LFGi6ULh","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}frumlag1977(){return new Re("https://soundcloud.com/egill-antonsson/frumlag-year-1977?in=egill-antonsson/sets/braedraminning","frumlag-year-1977","Frumlag (year 1977)",this.pathBraedraminningArtwork,"Egill playing the organ with couple of band mates who play guitar, bass and a 'drum', who could be (I'm not sure) \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson or P\xe1ll Hartmannsson or Einar Arngr\xedmsson or Hermann T\xf3masson or Vignir Hallgr\xedmsson.","https://open.spotify.com/track/1TV6QGFbW0mdtO8GqXCfay","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}world1977(){return new Re("https://soundcloud.com/egill-antonsson/world-year-1977?in=egill-antonsson/sets/braedraminning","world-year-1977","World (year 1977)",this.pathBraedraminningArtwork,"Egill playing the organ and singing with couple of band mates who play guitar and bass, who could be (I'm not sure) \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson, P\xe1ll Hartmannsson or Einar Arngr\xedmsson","https://open.spotify.com/track/6dI0WypRxmbUK7Rw9TaHpT","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}withoutThem1977(){return new Re("https://soundcloud.com/egill-antonsson/without-them-year-1977?in=egill-antonsson/sets/braedraminning","without-them-year-1977","Without them (year 1977)",this.pathBraedraminningArtwork,"Egill singing and playing the guitar with the drums from the Yamaha organ. But it could be that someone else is playing the guitar and then likely \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson.","https://open.spotify.com/track/0rcIAwxbRtRhYbKX0bq142","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}votThemeSong(){const t="vikings-of-thule-theme-song";return new Fo("EiiR4cwjNwY",!0,t,"Vikings of Thule Theme Song",`${this.dirEgillAntonsson}${t}.PNG`,`The song for the Vikings of Thule video teaser. VoT was a game made by the company ${this.urlGogogic}. Lyrics by J\xf3nas B. Antonsson, composed by J\xf3nas and me, performed by me and mixed and produced by J\xfal\xedus J\xf3nasson. <a href="http://www.77.is" target="_blank">D\xf3ri</a> created the video and synced to the song. Image artwork made by \xde\xf3rir Karl Bragason Celin.<br>\n\t\t<br>Lyrics:<br>\n\t\tSnj\xf3ar kaldri str\xf6ndu \xe1, sefur j\xf6kulfoldin<br>\n\t\tVarin \xf6llum v\xe6ttum \xfe\xe1, vistinn bl\xf3\xf0i goldin<br>\n\t\tTungl er horfi\xf0 s\xf3l er sest, enn\xfe\xe1 mun h\xfan r\xedsa<br>\n\t\tV\xedkingum h\xfan vandar mest, \xed vonar landi \xedsa<br>\n\t\t<br>Translated to English:<br>\n\t\tSnow falls on a cold beach, the frozen earth is sleeping<br>\n\t\tGuarded by all wights, thus staying will cost blood<br>\n\t\tThe moon has gone the sun has set, but she will rise again<br>\n\t\tFor the vikings that settled and stayed, in a land of ice and hope`,"https://soundcloud.com/egill-antonsson/vikings-of-thule-theme-song","https://open.spotify.com/track/35LOjco7IykC60Pqq3DjuU?si=7245ec4caae24d82","https://www.qobuz.com/album/vikings-of-thule-theme-song-with-jonas-antonsson-julius-jonasson-egill-antonsson/k6jzobz1suzjb")}harmoniesOfShadeAndLight(){const t="harmonies-of-shade-and-light";return new Re("https://soundcloud.com/egill-antonsson/harmonies-of-shade-and-light",t,"Harmonies of Shade and Light",`${this.dirEgillAntonsson}${t}.jpg`,'I got the idea of this song when I was with the family in Thailand at the beginning of 2017. I borrowed a guitar with missing strings and created a harmony pattern and sung a melody over it. In circa 2019 I recorded the guitars and arranged the percussions from <a href="https://www.thelooploft.com/collections/drum-loops" target="_blank">The Loop Loft</a>. In the spring of 2021 my friend and music partner <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a> helped me structure the song and write the lyrics,\nand he recorded my vocals in his studio in Reykjavik. In April 2022 I recorded the rest of the instruments, processed and mixed the song.<br>\n<br>LYRICS<br>\nVerse 1:<br>\nSomeday\'s, the skies are cloudy.<br>\nSomeday\'s, there is no light.<br>\nPre-Chorus:<br>\nAnd I thank you, for all the times we had.<br>\nAnd I thank you, for the moments that you cared.<br>\nChorus:<br>\nStars are shining bright tonight.<br>\nHarmonies of shade and light.<br>\nAnd everything\'s alright.<br>\nVerse 2:<br>\nI smile, though the skies are cloudy.<br>\nAnd I shine, when there\'s no light.<br>\n-> Pre-Chorus -> Chorus...\n',"https://open.spotify.com/track/1xHXUKERh3a6elM9VdPIUW","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc")}weWillMeetAgain(){const t="we-will-meet-again";return new Re("https://soundcloud.com/egill-antonsson/we-will-meet-again",t,"We Will Meet Again",`${this.dirEgillAntonsson}${t}.jpg`,"In the spring of 2021, my friend and music partner, <a href=\"https://www.f6s.com/member/sindribergmannrarinsson#about\">Sindri Bergmann Thorarinsson</a>, approached me with an exciting proposition: to collaborate on a pop song. While we had dabbled in pop music in the past, this was the first time we dedicated ourselves to crafting and producing a contemporary pop track. We set ourselves a tight deadline of just a couple of days (both to train our production speed, and as I would return to Stockholm shortly after). Together we crafted both the music and lyrics (inspired by the reality that due to Covid restrictions it had been awhile since we'd met). I contributed my vocals to the lyrics, while Sindri expertly mixed and polished the song.<br>\n<br>Lyrics:<br>\nVerse 1:<br>\nWoke up this morning late, it was half past 8, still stuck in the rhythm.<br>\nYou feel so far away, life's so dull and grey, when we're not together.<br>\nPre-Chorus:<br>\nBut I know, there's a place, you and I will meet again.<br>\nAnd I know, that in time, you and I will meet again.<br>\nChorus:<br>\nThough it feels far away, do the walk day by day, you and I will meet again.<br>\nThough you are far away, we can talk every day, you and I will meet again.<br>\nVerse 2:<br>\nI tried to dance alone, to our favorite song, in front of the mirror.<br>\nI miss your beat so much, and your caring touch, us two in the rhythm.<br>\n-> Pre-Chorus -> Chorus<br>\nBridge:<br>\nAnd we'll dance, you and I, to the off beat and the rhythm.<br>\nAnd we'll joke, and we'll laugh, what a great time we'll have, when I'll meet you in heaven.<br>\n-> Chorus","https://open.spotify.com/track/27t1JaFQlOX6hhkVC6d59Z","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib")}magmaMerryGoRound(){const t="magma-merrygoround";return new Re("https://soundcloud.com/egill-antonsson/magma-merrygoround",t,"Magma MerryGoRound",`${this.dirEgillAntonsson}${t}.jpg`,'Debuted at the 2021 <a href="https://edisonparty.com" target="_blank">Edison demoparty</a> under my pseudonym, Vulkanoman, this creation was initially named \'Tivoli Chase Cop 27/16.\' However, the inspiration struck me during the then recent journey where I witnessed the live volcanic eruption at <a href="https://en.wikipedia.org/wiki/Fagradalsfjall">Fagradallsfjall in Iceland</a>, leading me to retitle the track.',"https://open.spotify.com/track/06bQmD7bI6N1qGDeIVsGYR","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja")}justInTime(){return new Re("https://soundcloud.com/egill-antonsson/just-in-time","just-in-time","Just in Time",pn.defaultArtworkPath,'Debuted at the 2020 <a href="https://edisonparty.com" target="_blank">Edison demoparty</a> under my pseudonym Undur (now my current pseudonym is Vulkanoman). The title is a reference to the fact that I finished the song just in time for the party, and having missed the deadline the year before...')}icelandSocksIntro(){const t="iceland-socks-intro";return new Re("https://soundcloud.com/egill-antonsson/iceland-socks-intro",t,"Iceland Socks: Intro",`${this.dirEgillAntonsson}${t}.jpg`,`<a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a> and me made this for an Icelandic travel industry campaign that the company ${this.urlGogogic} created in 2008. The talented Gogogic employees were the puppeteers and you can watch the Iceland Socks Outtakes on <a href="https://youtu.be/6n3_NF0g2dg" target="_blank">YouTube</a>`)}fortidin(){const t="fortidin";return new Re("https://soundcloud.com/egill-antonsson/fortidin",t,"Fort\xed\xf0in",`${this.dirEgillAntonsson}${t}.jpg`,'Composed by Sigurj\xf3n Alexandersson and me. Sigurj\xf3n played the guitar, Sandra \xd3sk Sn\xe6bj\xf6rnsd\xf3ttir played the cello, vocals and other instruments performed by me. <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a> assisted me with recording and mixing.<br>\n\t\t<br>LYRICS<br>\n\t\tVerse 1:<br>\n\t\t\xdeitt bl\xed\xf0a bros, g\xe6ti br\xe6tt allan heiminn.<br>\n\t\tAugun bl\xe1, svo himnesk og dreymin.<br>\n\t\tHl\xe6jandi, hamingjan smitar mig.<br>\n\t\tSyngjandi, beint fr\xe1 s\xe1linni.<br>\n\t\tChorus:<br>\n\t\tEr \xe9g horfi \xe1 \xfeig \xfe\xe1 finn \xe9g k\xe6rleik \xfeinn.<br>\n\t\tEr \xe9g hlusta \xe1 \xfeig \xfe\xe1 sefast hugur minn.<br>\n\t\tEn \xfe\xfa ert fort\xed\xf0in.<br>\n\t\tVerse 2:<br>\n\t\t\xd6rl\xf6gin, t\xf3ku \xfeig fr\xe1 m\xe9r.<br>\n\t\t\xd6rl\xf6gin, skildu mig eftir h\xe9r.<br>\n\t\t\xdea\xf0 eina sem hj\xe1 m\xe9r eftir er, eru myndir upp \xe1 vegg, gamlar uppt\xf6kur, og g\xf3\xf0ar minningar.<br>\n\t\t-> Chorus')}toddlerTune(){const t="toddlers-tune";return new Re("https://soundcloud.com/egill-antonsson/toddler-tune",t,"Toddlers Tune",`${this.dirEgillAntonsson}${t}.jpg`,"When my daughter, Soff\xeda R\xf3s Egilsd\xf3ttir, was around 3 years old, I captured a precious moment of her singing a delightful melody. Inspired by her tune, I embarked on a creative journey, crafting chords and rhythm to complement her sweet voice. This harmonious fusion evolved into this song, that I aptly titled 'Toddler's Tune'")}oddTimesInSpace(){return new Re("https://soundcloud.com/egill-antonsson/odd-times-in-space","odd-times-in-space","Odd Times in Space",pn.defaultArtworkPath,"Inaugurated at the 2016 <a href=\"https://edisonparty.com\" target=\"_blank\">Edison demoparty</a> under my former pseudonym 'Undur' (now known as 'Vulkanoman'), the composition bears a title inspired by its odd time signature, odd drum beat emphasis at times, and 'space-like' ambiance (whatever that means).")}introduction(){const t="introduction",i=`${this.dirTribeOfOranges}${t}.jpg`,s=`${this.urlSindri()} and I created this track for a theater play, we called it Introduction as it was played in the beginning. We incorporated drums played by <a href="https://www.discogs.com/artist/429294-Birgir-Baldursson" target="_blank">Birgir Baldursson</a>, that we initially recorded for another track I had composed (yet to be released). We took great care to produce the bassdrum sound, and we gave it a lot of space in the lower frequencies as the bass guitar only joins in the climax, while the guitar, piano and our voices float above in the higher frequencies. <a href="https://soundcloud.com/maniacs-of-noise" target="_blank">Maniacs of Noise / Jeroen Tel</a> commented on this track on Soundcloud, saying: "The best thing about this song is the bassdrum (that's not meant as an insult, it truly stands out!). :-)".<br>\n\t\tWhen I decided to share this track with the world, I opted for a distinct track artwork unrelated to the play. The artwork chosen was Ind\xed\xe1nah\xf6fu\xf0i\xf0, a sculpture created by my oldest brother, J\xf3nas. This potent piece holds immense sentimental value as a treasured family artifact, representing a Native American figure. Listening to the track, I envision a captivating tale of the clash of cultures, where the old meets the new, the past intertwines with the present, and the native converges with the foreign.`;return new Re("https://soundcloud.com/egill-antonsson/introduction",t,"Introduction",i,s)}routine(){const i=`${this.dirTribeOfOranges}tribe-of-oranges.jpg`,s=`${this.urlSindri()} and I explored the untapped potential of everyday household objects found within the confines of my apartment. We crafted a composition that entailed a minimalist electric piano chord progression complemented by a touch of didgeridoo randomness. The artwork for this track captures a candid moment of camaraderie, as we engaged in a friendly game of chess on my apartment's balcony. The photo reveals us adorned in cozy gloves and hats, testament to the sunny yet brisk winter day that accompanied our artistic pursuits.`;return new Re("https://soundcloud.com/egill-antonsson/routine","routine","Routine",i,s)}hhiCommercial(){const i=`${this.dirTribeOfOranges}tribe-of-oranges.jpg`,s=`${this.urlSindri()} and I performed a song for Happdr\xe6tti H\xe1sk\xf3la \xcdslands (University of Iceland Lottery) for their video commercial campaign where the company provided the predefined lyrics, melody and chord guideline. Since this was for a lottery commercial we recorded various coins sounds and made that part of the song. The best entries were filmed as commercials with the artists and aired, and we were among those. It was aired in the winter of 2008, if memory serves me right.`;return new Re("https://soundcloud.com/egill-antonsson/song-for-hhi-commercial","song-for-hhi-commercial","Song for HHI commercial",i,s)}get kuaiBuyUrl(){return"https://www.qobuz.com/album/kuai-kuai/kqeu1azl013da"}andefniLive(){const s=`Performed Live in Laugardalsh\xf6ll 2nd of june 2001 at the Reykjavik Mini Festival. In the end ${this.urlSiggi()} shreds his guitar to smithereens.`;return new Fo("6cLPGWQJ2Vs",!0,"andefni-live","Andefni - Live",this.pathKuaiArtwork,s,"https://soundcloud.com/egill-antonsson/andefni","https://open.spotify.com/track/0BeH2MfJp85TtdE5PZ16PU?si=50aea94a99c5455f",this.kuaiBuyUrl)}pirringurLive(){return new Re("https://soundcloud.com/kuai-iceland/pirringur-live","pirringur-live","Pirringur - Live",this.pathKuaiArtwork,"Performed Live in Laugardalsh\xf6ll 2nd of June 2001 at the Reykjavik Mini Festival. We started with this track on concerts and thus also on this concert.","https://open.spotify.com/track/1MnsPzWXUWDdBjLGreX9mp?si=bbfd84374fd24935",this.kuaiBuyUrl)}pirringur(){const s=`Pirringur means irritation in Icelandic. We started with this track on concerts and thus it was fitting to start the album with it. The Hammond organ in the end was played by my and recorded by ${this.urlSteini()} in the F\xcdH concert hall.`;return new Re("https://soundcloud.com/egill-antonsson/pirringur","pirringur","Pirringur",this.pathKuaiArtwork,s,"https://open.spotify.com/track/1MnsPzWXUWDdBjLGreX9mp?si=bbfd84374fd24935",this.kuaiBuyUrl)}apollo(){return new Re("https://soundcloud.com/egill-antonsson/apollo","apollo","Apollo",this.pathKuaiArtwork,'"The name of this track draws inspiration from the Apollo program (an iconic chapter in space history named after Apollo, the Greek god of light, music, and the Sun). In my artistic vision, this track embodies a space mission that ultimately culminates in a dramatic and intense catastrophic failure.',"https://open.spotify.com/track/3ayL6r8u4hkHZzLFSGLq5j?si=42bf7eb320d14012",this.kuaiBuyUrl)}andsetinn(){return new Re("https://soundcloud.com/egill-antonsson/andsetinn","andsetinn","Andsetinn",this.pathKuaiArtwork,"Andsetinn means possessed in Icelandic which is fitting for this track. The Yamaha C-35 organ and Hammond organ in the end were played by me.","https://open.spotify.com/track/7MRGsSRocQ9CUEP7MzzutU?si=39de5d4ba04f4ded",this.kuaiBuyUrl)}hamskipti(){return new Re("https://soundcloud.com/egill-antonsson/hamskipti","hamskipti","Hamskipti",this.pathKuaiArtwork,"Hamskipti means shape-shifting or transformation in Icelandic, and are common themes in mythology and folklore, including the Icelandic Viking sagas. I heavily slap the bass in this one.","https://open.spotify.com/track/03YyiL49fyp9pPoynSk0e5?si=cd62c0313293492f",this.kuaiBuyUrl)}rover(){const s=`Rover was recorded and mixed by J\xf3n Elvar Hafsteinsson in 1999. J\xf3n said that he had never recorded so much anger before (you can hear ${this.urlSteini()} and me screaming in the background in the metal parts which ends with the word "Mamma").  When we were thinking about what to name the track we found the name Rover on some card board in my parents garage which was our main rehearsal space at the time.`;return new Re("https://soundcloud.com/egill-antonsson/rover","rover","Rover",this.pathKuaiArtwork,s,"https://open.spotify.com/track/2nM3ir2HXQIYx9HHdYgu3c?si=731010727fb94acc",this.kuaiBuyUrl)}andefni(){const s=`Andefni means antimatter in Icelandic. Steinar Sigur\xf0sson plays the saxophone where the wired guitar play from ${this.urlSteini()} fills in the void. Then in the end ${this.urlSiggi()} shreds his guitar to smithereens.`;return new Re("https://soundcloud.com/egill-antonsson/andefni","andefni","Andefni",this.pathKuaiArtwork,s,"https://open.spotify.com/track/0BeH2MfJp85TtdE5PZ16PU?si=50aea94a99c5455f",this.kuaiBuyUrl)}agndofa(){return new Re("https://soundcloud.com/egill-antonsson/agndofa","agndofa","Agndofa",this.pathKuaiArtwork,"Andefni means stunned in Icelandic. By coincidence during the long guitar feedback some radio broadcast came through the speakers, and we decided to keep it in the track.","https://open.spotify.com/track/39v1wVL4fWnPWEt8D8tl40?si=500e84677daa4aec",this.kuaiBuyUrl)}ofurte(){const s=`Ofurte translates to "super tea" in Icelandic. Both during concerts and on the album, this track marks the final part of the musical journey, starting with a mellow melody pattern. The  Hammond organ solo at the end was played by me and recorded by ${this.urlSteini()} at the F\xcdH concert hall.`;return new Re("https://soundcloud.com/egill-antonsson/ofurte","ofurte","Ofurte",this.pathKuaiArtwork,s,"https://open.spotify.com/track/1deKl4F86Lns3pgbeQspyw?si=536593297c194d76",this.kuaiBuyUrl)}get aboutLesblinda(){return`Lesblinda means dyslexia in Icelandic. Initially, we called both parts (I and II) "Korteri\xf0," meaning quarter in Icelandic, as it typically spanned about a quarter of an hour in performance time. However, the length remained open-ended due to the improvised and interwoven guitar melodies, guided by occasional cues signaling section changes. A memorable aspect of our live performances was concluding with "Korteri\xf0," where part I exudes a mellow ambiance and Part II serves as a contrasting, climactic power blast. In the studio recording ${this.urlSiggi} played the piano, and I played the Hammond organ.`}lesblindaI(){return new Re("https://soundcloud.com/egill-antonsson/lesblinda-i","lesblinda-i","Lesblinda I",this.pathKuaiArtwork,this.aboutLesblinda,"https://open.spotify.com/track/6ZPVNTF0o9B79SGKRulrUh?si=4a0d989e1c674d53",this.kuaiBuyUrl)}lesblindaII(){return new Re("https://soundcloud.com/egill-antonsson/lesblinda-ii","lesblinda-ii","Lesblinda II",this.pathKuaiArtwork,this.aboutLesblinda,"https://open.spotify.com/track/6tOuId7SigO9IMiUwaavCU?si=e1bf6a3f596c4da6",this.kuaiBuyUrl)}godsruleLayered(){var t=this;const r=`I composed and produced the music and sfx for this game. The Village music track has 4 layers \u2014 village ambience, string and male choir (me) harmony chords, harp arpeggio chords, and piano melody. Developed by ${this.urlGogogic} and published by Sega.`,s=new vl(new JC(this.instanceEndedListeners,this.logService.log),[ge.musicLoop("godsruleEnvironmentLayer",`${this.dirGameMusicLayered}/loton_MusicVillageEnvironmentLayer.ogg`,.075),ge.musicLoop("godsruleStringLayer",`${this.dirGameMusicLayered}/loton_MusicVillageStringLayer.ogg`,.55),ge.musicLoop("godsruleHarpLayer",`${this.dirGameMusicLayered}/loton_MusicVillageHarpLayer.ogg`,.4),ge.musicLoop("godsrulePianoLayer",`${this.dirGameMusicLayered}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>Yt(function*(){const o=[t.soundManager.instance.getSound(s.soundDatas[0].key),t.soundManager.instance.getSound(s.soundDatas[1].key),t.soundManager.instance.getSound(s.soundDatas[2].key),t.soundManager.instance.getSound(s.soundDatas[3].key)],a=[];for(let u=0;u<o.length;u++){const c=o[u],{instance:f}=yield c.play();a.push(f),t.instancePlayedListeners.forEach(p=>p(f))}s.layeredMusicController.start(a)}),"godsrule-village","Godsrule: Village",`${pn.dir}/game/music-layered/godsrule-village.webp`,r);return s}votLayered(){var t=this;const e="vikings-of-thule-map",r=`I composed and produced the music and sfx for this game. The Map music track has 4 layers \u2014 village ambience, string and male choir (me) harmony chords, harp arpeggio chords, and piano melody. Developed and published by ${this.urlGogogic}.`,s=new vl(new JC(this.instanceEndedListeners,this.logService.log),[ge.musicLoop("votWindLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_0.mp3`),ge.musicLoop("votChoirLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_3.ogg`),ge.musicLoop("votHarpLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_2.ogg`),ge.musicLoop("votMelodyLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_1.ogg`)],()=>Yt(function*(){const o=[t.soundManager.instance.getSound(s.soundDatas[0].key),t.soundManager.instance.getSound(s.soundDatas[1].key),t.soundManager.instance.getSound(s.soundDatas[2].key),t.soundManager.instance.getSound(s.soundDatas[3].key)],a=[];for(let u=0;u<o.length;u++){const c=o[u],{instance:f}=yield c.play();a.push(f),t.instancePlayedListeners.forEach(p=>p(f))}s.layeredMusicController.start(a)}),e,"Vikings of Thule: Map",`${this.dirGameMusicLayered}/${e}.jpg`,r);return s}cakePopParty(){var t=this;const r=`I composed and produced the music and sfx for this game. I was inspired by the intro of <a href="https://open.spotify.com/track/3qI94hINNNeb4S7xQi18lS?si=daef63ec063e4901" target="_blank">Blame it on the Boogie by The Jacksons</a>. This track starts with the Intro music looped twice, then goes into the in-game 'Make the Pop' music. Then the whole thing is looped twice. A short description of the game: A social entertainment game for the iPad and iPhone. The key ingredient of the game is the ability of players to create, design and share their unique cake pop creations globally within the app and on the social networks for added fun. Developed by ${this.urlGogogic} and published by <a href="https://www.facebook.com/profile.php?id=100063882670798" target="_blank">FreshGames</a>.`,s=new qn([ge.music("cppMusicIntro",`${this.dirGameMusic}/CPP_workMusicIntroScreen.ogg`,.7),ge.music("cppMusicScaleBeat",`${this.dirGameMusic}/CPP_musicTransitionBeatFade.ogg`,.6),ge.music("cppMusicMakePop",`${this.dirGameMusic}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key);let c,f=2;do{c=yield o.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield o.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield a.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield u.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p(1===f)),f--}while(f>0)}),"cake-pop-party","Cake Pop Party",`${this.dirGameMusic}/cake-pop-party.png`,r);return s}symbol6(){var t=this;const r=`I composed and produced the music and sfx for this game. I was a bit inspired by the song <a href="https://soundcloud.com/r-nar-li-bjarnason/easy-cream?in=r-nar-li-bjarnason/sets/fiff" target="_blank">Easy Cream by the band Fiff</a> as I use the same verse chord progression, but I change the time signature from 4 to 6. This track starts with the drum beat that was during the menu, then goes into the in-game music, and goes into the old version of the in-game music (with less drums). Then the whole thing is looped twice. Developed and published by ${this.urlGogogic}.`,s=new qn([ge.music("ssixMenu",`${this.dirGameMusic}/SSIX_menu.ogg`),ge.music("ssixGame",`${this.dirGameMusic}/SSIX_game.ogg`),ge.music("ssixHexago",`${this.dirGameMusic}/SSIX_HexagoTune.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key);let c,f=2;do{c=yield o.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield a.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield u.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p(1===f)),f--}while(f>0)}),"symbol-6","Symbol 6",`${this.dirGameMusic}/symbol-6.jpg`,r);return s}softFreakFiesta(){var t=this;const r=`I composed and produced the music and sfx for this game. This track starts with the Intro into menu music, then goes into in-game music. First with default level, then with bubbling acid / lava ambience level. Then the You Loose jingle is played, then the whole thing is looped twice, but now it ends with You Win jingle. Developed and published by ${this.urlGogogic}.`,s=new qn([ge.music("sffIntroMenuMusic",`${this.dirGameMusic}/SFF_IntroMenuMusic.ogg`,.9),ge.music("sffMenuMusic",`${this.dirGameMusic}/SFF_MenuMusic.ogg`,.9),ge.music("sffLevelMusicNoEnv",`${this.dirGameMusic}/SFF_LevelMusic_noEnv.ogg`),ge.music("sffLevelMusicBubbling",`${this.dirGameMusic}/SFF_LevelMusic_bubbling.ogg`),ge.music("sffLoseJingle",`${this.dirGameMusic}/SFF_LoseJingle.ogg`,.9),ge.music("sffWinJingle",`${this.dirGameMusic}/SFF_WinJingle.ogg`,.9)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key),c=t.soundManager.instance.getSound(s.soundDatas[3].key),f=t.soundManager.instance.getSound(s.soundDatas[4].key),p=t.soundManager.instance.getSound(s.soundDatas[5].key);let y,m=!0;y=yield o.play(),t.instancePlayedListeners.forEach(b=>b(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(b=>b());let v=2;do{y=yield a.play(),t.instancePlayedListeners.forEach(b=>b(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(b=>b()),y=yield u.play(),t.instancePlayedListeners.forEach(b=>b(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(b=>b()),y=yield c.play(),t.instancePlayedListeners.forEach(b=>b(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(b=>b()),y=m?yield f.play():yield p.play(),m=!m,t.instancePlayedListeners.forEach(b=>b(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(b=>b(1===v)),--v}while(v>0)}),"soft-freak-fiesta","Soft Freak Fiesta",`${this.dirGameMusic}/soft-freak-fiesta.jpg`,r);return s}habitarium(){var t=this;const r=`I composed and produced the music and sfx for this <a href="https://www.neopets.com/habitarium/" target="_blank">game</a> that was developed by ${this.urlGogogic} but was for Neopets that was then owned by <a href="https://www.nickelodeon.com" target="_blank">Nickelodeon</a>. This track starts with the main theme music and then goes into in-game music, then the whole thing is looped twice. After the delivery at some point the owners (maybe after change of ownership) added a music track that was not done by me.`,s=new qn([ge.music("habitariumMainTheme",`${this.dirGameMusic}/Habitarium_main_theme.ogg`,.9),ge.music("habitariumInGameLoop",`${this.dirGameMusic}/Habitarium_InGameLoop.ogg`,.8)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key);let u,c=2;do{u=yield o.play(),t.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(f=>f()),u=yield a.play(),t.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(f=>f(1===c)),c--}while(c>0)}),"habitarium","Habitarium",`${this.dirGameMusic}/habitarium.png`,r);return s}tinyPlaces(){var t=this;const r=`I composed and produced the music and sfx for this game. This track starts with the intro music and then goes to the main theme music, where I was inspired by the <a href="https://open.spotify.com/track/5duZVZ4m1TaJDTCbeHG8TG?si=a7ac919c95274a51" target="_blank">Indiana Jones theme</a>. Then it goes to the Space Bonus Level where Nap floats in space, and where I was inspired by communication by the melody line in the movie <a href="https://www.youtube.com/watch?v=nkykqyMEarA" target="_blank">Close Encounters of the Third Kind</a>. Then it goes to the Pyramid Tomb Bonus Level. Then it goes the 'Lazy style', then it goes to a short xylophone cut scene and then the in-game music, and it ends with The Time is Running Out and Game Over. Developed by ${this.urlGogogic} and published by <a href="https://www.bigfishgames.com" target="_blank">Big Fish Games</a>.`,s=new qn([ge.music("tpMainThemeIntro",`${this.dirGameMusic}/TP_mainThemeIntro.ogg`,.8),ge.music("tpMainThemeBridge",`${this.dirGameMusic}/TP_mainThemeBridge.ogg`,.8),ge.music("tpSpaceWorld",`${this.dirGameMusic}/TP_spaceWorld.ogg`,.8),ge.music("tpTomb",`${this.dirGameMusic}/TP_tomb.ogg`,.8),ge.music("tpLazyStyle",`${this.dirGameMusic}/TP_lazyStyle.ogg`,.8),ge.music("tpCutScene",`${this.dirGameMusic}/TP_cutScene.ogg`,.8),ge.music("tpInGame",`${this.dirGameMusic}/TP_inGame.ogg`,.8),ge.music("tpOutOfTime",`${this.dirGameMusic}/TP_outoftime.ogg`,.8)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key),c=t.soundManager.instance.getSound(s.soundDatas[3].key),f=t.soundManager.instance.getSound(s.soundDatas[4].key),p=t.soundManager.instance.getSound(s.soundDatas[5].key),m=t.soundManager.instance.getSound(s.soundDatas[6].key),y=t.soundManager.instance.getSound(s.soundDatas[7].key);let v;v=yield o.play(),t.instancePlayedListeners.forEach(w=>w(v.instance));const b=o.audioCtx.currentTime;v.instance.gainWrapper.setValueAtTime(.4,b).exponentialRampToValueAtTime(.8,b+.3),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield a.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield u.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield u.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield c.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield c.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield f.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield f.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield p.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield m.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w()),v=yield y.play(),t.instancePlayedListeners.forEach(w=>w(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(w=>w(!0))}),"tiny-places","Tiny Places",`${this.dirGameMusic}/tiny-places.jpg`,r);return s}jol2008(){var t=this;const r=`I composed and produced the music and sfx for the 2008 Gogogic Christmas Game. It was a ${this.urlGogogic} tradition to publish a game each Christmas that people could play for free and get int the holiday spirit. This year the game was packaging christmas correctly and in due time. This track plays the the main music twice and  then ends with the Game Over jingle.`,s=new qn([ge.music("jol2008mainMusic",`${this.dirGameMusic}/jolagogo2008_main_music.ogg`),ge.music("jol2008gameOver",`${this.dirGameMusic}/jolagogo2008_game_over.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key);let u;u=yield o.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c()),u=yield o.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c()),u=yield a.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c(!0))}),"christmas-game-2008","Christmas Game 2008",`${this.dirGameMusic}/christmas-gogogic.jpg`,r);return s}jol2009(){var t=this;const r=`I composed and produced the music and sfx for the 2009 Gogogic Christmas Game. It was a ${this.urlGogogic} tradition to publish a game each Christmas that people could play for free and get int the holiday spirit. This year the game was solving the christmas puzzle that pushing out slimy balls through some pipes, thus I shuffled and juiced up the comp around the same melody tones from last year's game. This track starts with the Bridge and then goes to the Chorus. Then the whole thing is looped twice.`,s=new qn([ge.music("jol2009bridge",`${this.dirGameMusic}/jolagogo2009_Bridge.ogg`),ge.music("jol2009chorus",`${this.dirGameMusic}/jolagogo2009_Chorus.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key);let u,c=2;do{if(u=yield o.play(),t.instancePlayedListeners.forEach(f=>f(u.instance)),2===c){const f=o.audioCtx.currentTime;u.instance.gainWrapper.setValueAtTime(.1,f).exponentialRampToValueAtTime(1,f+.25)}yield u.endedPromise,t.instanceEndedListeners.forEach(f=>f()),u=yield a.play(),t.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(f=>f(1===c)),c--}while(c>0)}),"christmas-game-2009","Christmas Game 2009",`${this.dirGameMusic}/jol-gogogic.jpg`,r);return s}whosYourFriend(){var t=this;const r=`I composed and produced the music and sfx for this game that was about knowing as many of your Facebook friend profile pictures (selected randomly) in 90 seconds, thus the track is the same length as the game sessions 90 seconds. Developed and published by ${this.urlGogogic}.`,s=new qn([ge.music("wyf",`${this.dirGameMusic}/WYF_ThemeSong.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),{instance:a,endedPromise:u}=yield o.play();t.instancePlayedListeners.forEach(c=>c(a)),yield u,t.instanceEndedListeners.forEach(c=>c(!0))}),"whos-your-friend","Who's Your Friend",pn.defaultArtworkPath,r);return s}knowYourFriend(){var t=this;const r=`I composed and produced the music and sfx for this game that was about knowing as many of your Facebook friend profile pictures (presented 4 choices randomly) in 90 seconds. The track starts with 90 seconds game session then goes to the Game Finished and Result music with applause ambience (looped twice). Developed and published by ${this.urlGogogic}.`,s=new qn([ge.music("kyfIntroMusic",`${this.dirGameMusic}/KYF_IntroMusic_WithAudience.ogg`),ge.music("kyf90secMusic",`${this.dirGameMusic}/KYF_90secondsMusic.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key);let u;u=yield a.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c()),u=yield o.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c()),u=yield o.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c(!0))}),"know-your-friend","Know Your Friend",`${this.dirGameMusic}/know-your-friend.jpg`,r);return s}stackem(){var t=this;const r=`I composed and produced the music and sfx for this game by ${this.urlGogogic} that was about stacking your sheep as high as you can, competing for the high score with your fellow farmers. This track is looped twice.`,s=new qn([ge.music("stackem",`${this.dirGameMusic}/Stackem_Tune_loop.ogg`,.9)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key);let a=2;do{const{instance:u,endedPromise:c}=yield o.play();t.instancePlayedListeners.forEach(f=>f(u)),yield c,t.instanceEndedListeners.forEach(f=>f()),a--}while(a>0)}),"stack-em","Stack'em",`${this.dirGameMusic}/stack-em.webp`,r);return s}glowbulleville(){var t=this;const r=`I composed and produced the music and sfx for this game which was the first one I did at ${this.urlGogogic}. This track starts with the main music, then goes to the village music (looped twice), then goes to the in-game music, then the whole thing is looped twice.`,s=new qn([ge.music("glowMainMusic",`${this.dirGameMusic}/GLOB_main_music.mp3`,.8),ge.music("glowVillageMusic",`${this.dirGameMusic}/GLOB_village_music.mp3`),ge.music("glowWack",`${this.dirGameMusic}/GLOB_wack_a_mole.mp3`,.8)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key);let c,f=2;do{c=yield o.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield o.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield a.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield a.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p()),c=yield u.play(),t.instancePlayedListeners.forEach(p=>p(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(p=>p(1===f)),f--}while(f>0)}),"glowbulleville","Glowbulleville",pn.defaultArtworkPath,r);return s}godsrule(){var t=this;const r=`I composed and produced the music and sfx for this game. This track starts with the battle music, then goes to Combat Ended with Defeat music, then goes to Combat Ended with Victory (to showcase both, though would not happen in the actual game). Developed by ${this.urlGogogic} and published by Sega.`,s=new qn([ge.music("godsruleBattle",`${this.dirGameMusic}/LOTON_BattleBaseLayer.ogg`),ge.music("godsruleDefeat",`${this.dirGameMusic}/LOTON_CombatDefeatMusic.ogg`),ge.music("godsruleVictory",`${this.dirGameMusic}/LOTON_CombatVictory.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key);let c,f=2;do{c=yield o.play(),t.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(y=>y()),c=yield a.play(),t.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(y=>y()),c=yield u.play(),t.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(y=>y()),f--}while(f>0);c=yield o.play(),t.instancePlayedListeners.forEach(y=>y(c.instance));const m=c.instance.sourceNode.buffer?.duration||10;c.instance.gainWrapper.setTargetAtTime(0,o.audioCtx.currentTime+m/2,m/6),yield c.endedPromise,t.instanceEndedListeners.forEach(y=>y(!0))}),"godsrule-battle","Godsrule: Battle",`${this.dirGameMusic}/godsrule-battle.jpg`,r);return s}vot(){var t=this;const e="vikings-of-thule-duel",r=`I composed and produced the music and sfx for this game. This track starts with the drums when the duel initiated popup displays, then goes to the duel music when the duel starts. The duel end popup queues the duel end music where the music ends (and wind ambience continues). Developed and published by ${this.urlGogogic}.`,s=new qn([ge.music("votFeudDrums",`${this.dirGameMusic}/VOT_FeudMusic_drums.ogg`),ge.music("votFeud",`${this.dirGameMusic}/VOT_FeudMusic.ogg`),ge.music("votFeudEnding",`${this.dirGameMusic}/VOT_FeudEnding.ogg`)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key),u=t.soundManager.instance.getSound(s.soundDatas[2].key);let c;c=yield o.play(),t.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(y=>y()),c=yield a.play(),t.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(y=>y()),c=yield a.play(),t.instancePlayedListeners.forEach(y=>y(c.instance)),c.instance.gainWrapper.setTargetAtTime(0,a.audioCtx.currentTime+(c.instance.sourceNode.buffer?.duration||10)-.799,1);const m=function(){var y=Yt(function*(){t.instanceEndedListeners.forEach(v=>v()),c=yield u.play(),t.instancePlayedListeners.forEach(v=>v(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(v=>v(!0))});return function(){return y.apply(this,arguments)}}();t.timeout=setTimeout(()=>{m()},1e3*(c.instance.sourceNode.buffer?.duration||10)-799)}),e,"Vikings of Thule: Duel",`${this.dirGameMusic}/${e}.jpg`,r);return s}crisisGame(){var t=this;const r=`The Crisis Game or Kreppuspili\xf0 in Icelandic was a board game created after the Icelandic financial crisis that ${this.urlGogogic} produced. I created the jingle for the the video shorts campaign which is available <a href="https://www.youtube.com/@kreppur/videos" target="_blank">here</a>.`,s=new qn([ge.music("crisisBegin",`${this.dirGameMusic}/Krepp_Byrjun.ogg`,.9),ge.music("crisisEnd",`${this.dirGameMusic}/Krepp_Endir.ogg`,.9)],()=>Yt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),a=t.soundManager.instance.getSound(s.soundDatas[1].key);let u;u=yield o.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c()),u=yield a.play(),t.instancePlayedListeners.forEach(c=>c(u.instance)),yield u.endedPromise,t.instanceEndedListeners.forEach(c=>c(!0))}),"the-crisis-game","The Crisis Game",`${this.dirGameMusic}/the-crisis-game.jpg`,r);return s}static#e=this.\u0275fac=function(e){return new(e||Dl)(N(Vo),N(mi))};static#t=this.\u0275prov=ee({token:Dl,factory:Dl.\u0275fac,providedIn:"root"})}class ZC{}class El{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(t){return Math.floor(t*Math.random())}startUniqueNumberTracking(t){if(t<=0)throw new QC(QC.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=t,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let t=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let e=0;e<=this.uniqueNumbers.size;e++)if(!this.uniqueNumbers.has(e)){t=e;break}}else do{t=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(t));return this.uniqueNumbers.set(t,!0),t}static#e=this.\u0275fac=function(e){return new(e||El)};static#t=this.\u0275prov=ee({token:El,factory:El.\u0275fac,providedIn:"root"})}class QC{constructor(t){this.name="RandomNumberError",this.message=t}static#e=this.msgNumberMustBeHigherThanZero="Number must be > 0"}class ks{constructor(){this.isInitialized=!1,this.elements={}}set(t,e){return this.has(t)?this.elements[t].next(e):this.elements[t]=new Nn(e),this.elements[t]}get(t){return this.has(t)||(this.elements[t]=new Nn(null)),this.elements[t]}delete(t){this.has(t)&&(this.elements[t].next(null),delete this.elements[t])}clear(){for(const t in Object.keys(this.elements))this.elements.hasOwnProperty(t)&&(this.elements[t].next(null),delete this.elements[t]);this.elements={}}has(t){return this.elements[t]instanceof Nn}static#e=this.\u0275fac=function(e){return new(e||ks)};static#t=this.\u0275prov=ee({token:ks,factory:ks.\u0275fac,providedIn:"root"})}class xs{constructor(t,e,i,r,s,o,a,u,c,f){this.soundManager=t,this.musicStreamer=e,this.youtubeService=i,this.realtimeVisualService=r,this.windowRef=s,this.myTracks=o,this.randomNumber=a,this.messageService=u,this.htmlService=c,this.logService=f,this.label="MusicService",this.urlPathRoot="music/",this.windowWidth=400,this.windowHeight=300,this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!1,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,f.log),this.myTracks.init(),this._byTracks=o.byTracks,this.tracks=o.flatTracks,this._isShuffle?(a.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[a.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack,this.subscription=this.messageService.onMessage().subscribe(p=>{"YoutubeVolumeChange"===p.type&&this.setVolumeAndMutedFromYoutubePlayer()})}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}setSelectTrackByRootUrl(t){let e=this.myTracks.getTrackByRootUrl(t);void 0===e&&(this.logService.log("Error",`could not get track by rootUrl ${t}, returning first track`),e=this.tracks[0]),this._selectedTrack=this.nextSelectedTrack=e,this.isSelectedTrackWithActiveYoutubeVisuals||this.setHeaderContainerHeightForMyPlayer()}get playState(){return this._playState}get isShuffle(){return this._isShuffle}ngOnDestroy(){this.subscription instanceof V&&this.subscription.unsubscribe()}init(t,e){this.youtubeService.savePlayerElement(t),this.initSoundCloudStreamer(),this.realtimeVisualService.init(e)}onWindowResize(t,e){if("RealtimeVisual"==this._selectedTrack.source){var i=this.realtimeVisualService.onWindowResize(t,e);this.setHeaderContainerHeightForRealtimeVisual(i)}else if(this.isSelectedTrackWithActiveYoutubeVisuals){let r=this.youtubeService.onWindowResize(t,e);this.setHeaderContainerHeight(r)}else this.setHeaderContainerHeightForMyPlayer();this.windowWidth=t,this.windowHeight=e}get isSelectedTrackWithActiveYoutubeVisuals(){return"Youtube"==this._selectedTrack.source&&!0===this._selectedTrack.isGraphicsActive}setHeaderContainerHeightForMyPlayer(){this.setHeaderContainerHeight(this.getMyPlayerHeight())}getMyPlayerHeight(){return 41}setHeaderContainerHeightForRealtimeVisual(t){this.setHeaderContainerHeight(t+this.getMyPlayerHeight()+10+3)}setHeaderContainerHeight(t){let e=this.htmlService.get("headerContainer"),i=this.htmlService.get("headerBackground");e.value.nativeElement.style.height=(t=t+35+22)+"px",i.value.nativeElement.style.height=t+"px"}onYoutubePlayerReady(t,e,i){let r=this.youtubeService.onPlayerReady(t,100*this.masterGain,this.isSelectedTrackWithActiveYoutubeVisuals,e,i);r>0&&this.setHeaderContainerHeight(r)}OnYoutubePlayerStateChange(t){"Youtube"===this._selectedTrack.source&&(t===YT.PlayerState.PAUSED&&"Paused"!==this.playState?this.pause():t!==YT.PlayerState.PLAYING&&t!==YT.PlayerState.BUFFERING||"Playing"===this.playState?t===YT.PlayerState.ENDED&&this.NextTrackAndPlayFromStart():this.play())}toggleMinimizeMusicPlayer(t){if("Youtube"===this.selectedTrack.source&&this.selectedTrack.displayOnYoutube){if(t)this.setHeaderContainerHeightForMyPlayer();else{let e=this.youtubeService.onWindowResize(this.windowWidth,this.windowHeight);this.setHeaderContainerHeight(e)}this.selectedTrack.isGraphicsActive=!t}if("RealtimeVisual"===this.selectedTrack.source){if(t)this.setHeaderContainerHeightForMyPlayer();else{let e=this.realtimeVisualService.onWindowResize(this.windowWidth,this.windowHeight);this.setHeaderContainerHeightForRealtimeVisual(e)}this.selectedTrack.isGraphicsActive=!t}}initSoundCloudStreamer(){if(!this.musicStreamer.isInitialized){this.musicStreamer.init();var t=this.getStreamUrl(this._selectedTrack);""!=t&&this.musicStreamer.load(t,!1)}}playerUiInitialized(t){this.playerUiGainsDisabled=t}getStreamUrl(t){return t.soundcloudUrl}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}OnUiPlayOrPause(){switch(this.playState){case"Playing":this.pause();break;case"Paused":this.play();break;case"Stopped":this.playFromStart();break;default:return}}onUiNextTrack(){this.nextTrack(),this.playFromStart()}onUiTrackSelected(t){this.nextSelectedTrack=t,this.playFromStart()}playFromStart(){switch(this.logService.log("Info","playFromStart() in MusicService"),this.stop(),this._playState="Loading",this._selectedTrack=this.nextSelectedTrack,this.onWindowResize(this.windowWidth,this.windowHeight),this._selectedTrack.source){case"Youtube":this.youtubeService.playFromStart(this._selectedTrack);break;case"RealtimeVisual":this.playFromStartRealtimeVisual();break;case"Soundcloud":this.musicStreamer.playFromStart(this._selectedTrack);break;case"Local":this.playFromStartLocalPlayer()}}playFromStartRealtimeVisual(){this.playFromStartLocalPlayer()}playFromStartLocalPlayer(){this.soundManager.playFromStart(this._selectedTrack,this.playerUiGainsDisabled)}pause(){switch(this.logService.log("Info","pause() in MusicService"),this._selectedTrack.source){case"Youtube":this.youtubeService.pause();break;case"Soundcloud":this.musicStreamer.pause();break;case"RealtimeVisual":this.pauseRealtimeVisual();break;default:this.pauseLocalPlayer()}this._playState="Paused"}pauseRealtimeVisual(){this.realtimeVisualService.pause(),this.pauseLocalPlayer()}pauseLocalPlayer(){this.soundManager.instance.pause()}stop(){switch(this.logService.log("Info","stop() in MusicService"),this._selectedTrack.source){case"Soundcloud":this.musicStreamer.pause();break;case"RealtimeVisual":this.stopRealtimeVisual();break;case"Local":this.stopLocalPlayer();break;case"Youtube":this.youtubeService.pause()}this._playState="Stopped"}stopRealtimeVisual(){this.realtimeVisualService.pause(),this.stopLocalPlayer()}stopLocalPlayer(){this.soundManager.stop(this._selectedTrack),this.myTracks.instanceEndedListeners.forEach(t=>t(!1))}play(){switch(this._selectedTrack.source){case"Youtube":this.youtubeService.play();break;case"Soundcloud":this.musicStreamer.play();break;case"RealtimeVisual":this.playRealtimeVisualPlayer();break;default:this.playLocalPlayer()}}playRealtimeVisualPlayer(){this.realtimeVisualService.resume(),this.playLocalPlayer()}playLocalPlayer(){this.soundManager.play(),this._playState="Playing"}nextTrack(){let t;t=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index===this.tracks.length-1?0:this._selectedTrack.index+1,this.logService.log("Info","nextIndex",t),this.nextSelectedTrack=this.tracks[t]}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(t){this.soundManager.instance.masterGain=t,this.musicStreamer.volume=100*t,this.youtubeService.volume=100*t}get masterMuted(){return this.soundManager.instance.masterMuted}set masterMuted(t){this.soundManager.instance.masterMuted=t,this.musicStreamer.muted=t,this.youtubeService.muted=t}setVolumeAndMutedFromYoutubePlayer(){let t=this.youtubeService.volume;this.soundManager.instance.masterGain=t/100,this.musicStreamer.volume=t;let e=this.youtubeService.muted;this.soundManager.instance.masterMuted!==e&&(this.soundManager.instance.masterMuted=e,this.musicStreamer.muted=e)}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,t=>{this.onPlayed()}),this.addInstanceEndedListener(`${this.label} endedListener`,(t,e)=>{t&&this.NextTrackAndPlayFromStart(),this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0)})}NextTrackAndPlayFromStart(){this.nextTrack(),this.playFromStart()}onPlayed(){this._playState="Playing",this._playStateChangeListener(),"RealtimeVisual"===this._selectedTrack.source&&(this.realtimeVisualService.onWindowResize(this.windowWidth,this.windowHeight),this.realtimeVisualService.playFromStart())}addInstancePlayedListener(t,e){this.myTracks.instancePlayedListeners.set(t,e),this.musicStreamer.instancePlayedListeners.set(t,e),this.youtubeService.instancePlayedListeners.set(t,e)}addInstanceEndedListener(t,e){this.myTracks.instanceEndedListeners.set(t,e),this.musicStreamer.instanceEndedListeners.set(t,e),this.youtubeService.instanceEndedListeners.set(t,e)}addPlayStateChangeListener(t){this._playStateChangeListener=t}removeInstancePlayedListener(t){this.myTracks.instancePlayedListeners.delete(t)}removeInstanceEndedListener(t){this.myTracks.instanceEndedListeners.delete(t),this.musicStreamer.instanceEndedListeners.delete(t)}static#e=this.\u0275fac=function(e){return new(e||xs)(N(Vo),N(bl),N(_l),N(Cl),N(Ho),N(Dl),N(ZC),N(As),N(ks),N(mi))};static#t=this.\u0275prov=ee({token:xs,factory:xs.\u0275fac,providedIn:"root"})}const XC=function(n){return{nodeSelected:n}};function TV(n,t){if(1&n){const e=Fr();d(0,"div",9),lt("click",function(){const s=Pr(e).$implicit;return Or(Pe(3).onPostClick(s))}),l(1),h()}if(2&n){const e=t.$implicit,i=Pe(3);E("ngClass",gr(2,XC,e===i.selectedPost)),_(1),tt(" ",e.title," ")}}function SV(n,t){if(1&n&&(d(0,"div",7),xe(1,TV,2,4,"div",8),h()),2&n){const e=Pe().$implicit;_(1),E("ngForOf",e.posts)}}const eD=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function IV(n,t){if(1&n){const e=Fr();d(0,"div")(1,"div",3),lt("click",function(){const s=Pr(e).index;return Or(Pe().onSeriesClick(s))}),d(2,"div",4),g(3,"div",5),h(),d(4,"span"),l(5),h()(),xe(6,SV,2,1,"div",6),h()}if(2&n){const e=t.$implicit,i=t.index,r=Pe();_(3),E("ngClass",Ga(3,eD,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),_(2),ut(e.title),_(1),E("ngIf",r.openedUiSeriesIndex===i)}}function AV(n,t){if(1&n){const e=Fr();d(0,"div",9),lt("click",function(){const s=Pr(e).$implicit;return Or(Pe(3).onPostClick(s))}),l(1),h()}if(2&n){const e=t.$implicit,i=Pe(3);E("ngClass",gr(2,XC,e===i.selectedPost)),_(1),tt(" ",e.title," ")}}function kV(n,t){if(1&n&&(d(0,"div",7),xe(1,AV,2,4,"div",8),h()),2&n){const e=Pe().$implicit;_(1),E("ngForOf",e.posts)}}function xV(n,t){if(1&n){const e=Fr();d(0,"div")(1,"div",3),lt("click",function(){const s=Pr(e).index;return Or(Pe().onSeriesClick(s))}),d(2,"div",4),g(3,"div",5),h(),d(4,"span"),l(5),h()(),xe(6,kV,2,1,"div",6),h()}if(2&n){const e=t.$implicit,i=t.index,r=Pe();_(3),E("ngClass",Ga(3,eD,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),_(2),ut(e.title),_(1),E("ngIf",r.openedUiSeriesIndex===i)}}class cd{constructor(t,e,i,r){this.blogService=t,this.router=e,this.route=i,this.musicService=r,this.openedUiSeriesIndex=0,this.selectedSeriesIndex=0,this.router.events.pipe(Wn(s=>s instanceof wr)).subscribe(s=>{const o=s.urlAfterRedirects;if("/blog"===o)this.blogService.selectedPost=this.blogService.posts[0],this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route});else{const a=this.blogService.tryGetPostWithRoutPath(o);null!==a&&(this.blogService.selectedPost=a)}}),this.musicService.toggleMinimizeMusicPlayer(!0)}get blogSeries(){return this.blogService.series}get selectedPost(){return this.blogService.selectedPost}ngOnDestroy(){this.musicService.toggleMinimizeMusicPlayer(!1)}onSeriesClick(t){this.openedUiSeriesIndex=t}onPostClick(t){this.selectedSeriesIndex=this.openedUiSeriesIndex,this.blogService.selectedPost=t,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),window.scroll(0,0)}static#e=this.\u0275fac=function(e){return new(e||cd)(S(Lo),S(Cn),S(qr),S(xs))};static#t=this.\u0275cmp=xt({type:cd,selectors:[["app-blog"]],decls:6,vars:2,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"treeContainer"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(d(0,"div",0),xe(1,IV,7,6,"div",1),h(),g(2,"router-outlet")(3,"br"),d(4,"div",2),xe(5,xV,7,6,"div",1),h()),2&e&&(_(1),E("ngForOf",i.blogSeries),_(4),E("ngForOf",i.blogSeries))},dependencies:[Qc,Xa,el,Sn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function dd(n,t){return new q(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const u=ce(n[a]);let c=!1;e.add(u.subscribe({next:f=>{c||(c=!0,o++),r[a]=f},error:f=>e.error(f),complete:()=>{s++,(s===i||!c)&&(o===i&&e.next(t?t.reduce((f,p,m)=>(f[p]=r[m],f),{}):r),e.complete())}}))}})}let tD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(S(ei),S(Gt))},n.\u0275dir=ye({type:n}),n})(),Ps=(()=>{class n extends tD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ft(n)))(i||n)}}(),n.\u0275dir=ye({type:n,features:[Fe]}),n})();const Si=new X("NgValueAccessor"),RV={provide:Si,useExisting:ht(()=>Ml),multi:!0},NV=new X("CompositionEventMode");let Ml=(()=>{class n extends tD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function LV(){const n=tr()?tr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(S(ei),S(Gt),S(NV,8))},n.\u0275dir=ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&lt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[yt([RV]),Fe]}),n})();function Yr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function iD(n){return null!=n&&"number"==typeof n.length}const Fn=new X("NgValidators"),Jr=new X("NgAsyncValidators"),VV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zr{static min(t){return function rD(n){return t=>{if(Yr(t.value)||Yr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function sD(n){return t=>{if(Yr(t.value)||Yr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function oD(n){return Yr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function aD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function lD(n){return Yr(n.value)||VV.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function uD(n){return t=>Yr(t.value)||!iD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return cD(t)}static pattern(t){return function dD(n){if(!n)return hd;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Yr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return yD(t)}static composeAsync(t){return vD(t)}}function cD(n){return t=>iD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function hd(n){return null}function hD(n){return null!=n}function fD(n){return La(n)?ce(n):n}function pD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function gD(n,t){return t.map(e=>e(n))}function mD(n){return n.map(t=>function UV(n){return!n.validate}(t)?t:e=>t.validate(e))}function yD(n){if(!n)return null;const t=n.filter(hD);return 0==t.length?null:function(e){return pD(gD(e,t))}}function Rg(n){return null!=n?yD(mD(n)):null}function vD(n){if(!n)return null;const t=n.filter(hD);return 0==t.length?null:function(e){return function PV(...n){if(1===n.length){const t=n[0];if(Ke(t))return dd(t,null);if(zt(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return dd(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return dd(n=1===n.length&&Ke(n[0])?n[0]:n,null).pipe(G(e=>t(...e)))}return dd(n,null)}(gD(e,t).map(fD)).pipe(G(pD))}}function Lg(n){return null!=n?vD(mD(n)):null}function bD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function _D(n){return n._rawValidators}function wD(n){return n._rawAsyncValidators}function Ng(n){return n?Array.isArray(n)?n:[n]:[]}function fd(n,t){return Array.isArray(n)?n.includes(t):n===t}function CD(n,t){const e=Ng(t);return Ng(n).forEach(r=>{fd(e,r)||e.push(r)}),e}function DD(n,t){return Ng(t).filter(e=>!fd(n,e))}class ED{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Lg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Kn extends ED{get formDirective(){return null}get path(){return null}}class Qr extends ED{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class MD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fg=(()=>{class n extends MD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Qr,2))},n.\u0275dir=ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&pi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Fe]}),n})(),Vg=(()=>{class n extends MD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Kn,10))},n.\u0275dir=ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&pi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Fe]}),n})();const Tl="VALID",gd="INVALID",jo="PENDING",Sl="DISABLED";function jg(n){return(md(n)?n.validators:n)||null}function Gg(n,t){return(md(t)?t.asyncValidators:n)||null}function md(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function SD(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new z(1e3,"");if(!i[e])throw new z(1001,"")}function ID(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new z(1002,"")})}class yd{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Tl}get invalid(){return this.status===gd}get pending(){return this.status==jo}get disabled(){return this.status===Sl}get enabled(){return this.status!==Sl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(CD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(CD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(DD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(DD(t,this._rawAsyncValidators))}hasValidator(t){return fd(this._rawValidators,t)}hasAsyncValidator(t){return fd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=jo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Sl,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tl||this.status===jo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sl:Tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=jo,this._hasOwnPendingAsyncValidator=!0;const e=fD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Qe,this.statusChanges=new Qe}_calculateStatus(){return this._allControlsDisabled()?Sl:this.errors?gd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jo)?jo:this._anyControlsHaveStatus(gd)?gd:Tl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){md(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function WV(n){return Array.isArray(n)?Rg(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function qV(n){return Array.isArray(n)?Lg(n):n||null}(this._rawAsyncValidators)}}class Il extends yd{constructor(t,e,i){super(jg(e),Gg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ID(this,0,t),Object.keys(t).forEach(i=>{SD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class AD extends Il{}const Al=new X("CallSetDisabledState",{providedIn:"root",factory:()=>$g}),$g="always";function kl(n,t,e=$g){zg(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function YV(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&kD(n,t)})}(n,t),function ZV(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function JV(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&kD(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function KV(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function bd(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),wd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function _d(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function zg(n,t){const e=_D(n);null!==t.validator?n.setValidators(bD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=wD(n);null!==t.asyncValidator?n.setAsyncValidators(bD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();_d(t._rawValidators,r),_d(t._rawAsyncValidators,r)}function wd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=_D(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=wD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return _d(t._rawValidators,i),_d(t._rawAsyncValidators,i),e}function kD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function RD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Pl=class extends yd{constructor(t=null,e,i){super(jg(e),Gg(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),md(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=RD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){OD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){OD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){RD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Jg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const a3={provide:Si,useExisting:ht(()=>Zg),multi:!0};let Zg=(()=>{class n extends Ps{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ft(n)))(i||n)}}(),n.\u0275dir=ye({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&lt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[yt([a3]),Fe]}),n})(),UD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({}),n})();const Qg=new X("NgModelWithFormControlWarning"),h3={provide:Kn,useExisting:ht(()=>Ol)};let Ol=(()=>{class n extends Kn{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Qe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(wd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return kl(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){bd(e.control||null,e,!1),function t3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function PD(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(bd(i||null,e),(n=>n instanceof Pl)(r)&&(kl(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function xD(n,t){zg(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function QV(n,t){return wd(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zg(this.form,this),this._oldForm&&wd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(S(Fn,10),S(Jr,10),S(Al,8))},n.\u0275dir=ye({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&lt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[yt([h3]),Fe,Qn]}),n})();const g3={provide:Qr,useExisting:ht(()=>Cd)};let Cd=(()=>{class n extends Qr{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Qe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Kg(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Ml?e=s:function e3(n){return Object.getPrototypeOf(n.constructor)===Ps}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function qg(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function vd(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(S(Kn,13),S(Fn,10),S(Jr,10),S(Si,10),S(Qg,8))},n.\u0275dir=ye({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[yt([g3]),Fe,Qn]}),n})();let Os=(()=>{class n{constructor(){this._validator=hd}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):hd,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ye({type:n,features:[Qn]}),n})();const I3={provide:Fn,useExisting:ht(()=>Dd),multi:!0};let Dd=(()=>{class n extends Os{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function WD(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>cD(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ft(n)))(i||n)}}(),n.\u0275dir=ye({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Ln("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[yt([I3]),Fe]}),n})(),k3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[UD]}),n})(),rm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Qg,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Al,useValue:e.callSetDisabledState??$g}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[k3]}),n})();class eE extends yd{constructor(t,e,i){super(jg(e),Gg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ID(this,0,t),t.forEach((i,r)=>{SD(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function tE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let x3=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return tE(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Il(r,s)}record(e,i=null){const r=this._reduceControls(e);return new AD(r,i)}control(e,i,r){let s={};return this.useNonNullable?(tE(i)?s=i:(s.validators=i,s.asyncValidators=r),new Pl(e,{...s,nonNullable:!0})):new Pl(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new eE(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Pl||e instanceof yd?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:rm}),n})(),nE=(()=>{class n extends x3{group(e,i=null){return super.group(e,i)}control(e,i,r){return super.control(e,i,r)}array(e,i,r){return super.array(e,i,r)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ft(n)))(i||n)}}(),n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:rm}),n})();var P3=je(593);class Ed{}class sm{}class Tr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Tr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Tr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Tr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class O3{encodeKey(t){return iE(t)}encodeValue(t){return iE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const L3=/%(\d[a-f0-9])/gi,N3={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iE(n){return encodeURIComponent(n).replace(L3,(t,e)=>N3[e]??t)}function Md(n){return`${n}`}class Sr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new O3,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function R3(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(o)||[];u.push(a),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Md):[Md(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Sr({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Md(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Md(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class F3{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function rE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function sE(n){return typeof Blob<"u"&&n instanceof Blob}function oE(n){return typeof FormData<"u"&&n instanceof FormData}class Rl{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function V3(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Tr),this.context||(this.context=new F3),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Sr,this.urlWithParams=e}serializeBody(){return null===this.body?null:rE(this.body)||sE(this.body)||oE(this.body)||function U3(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||oE(this.body)?null:sE(this.body)?this.body.type||null:rE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((p,m)=>p.set(m,t.setHeaders[m]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((p,m)=>p.set(m,t.setParams[m]),c)),new Rl(e,i,s,{params:c,headers:u,context:f,reportProgress:a,responseType:r,withCredentials:o})}}var rn=(()=>((rn=rn||{})[rn.Sent=0]="Sent",rn[rn.UploadProgress=1]="UploadProgress",rn[rn.ResponseHeader=2]="ResponseHeader",rn[rn.DownloadProgress=3]="DownloadProgress",rn[rn.Response=4]="Response",rn[rn.User=5]="User",rn))();class om{constructor(t,e=200,i="OK"){this.headers=t.headers||new Tr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class am extends om{constructor(t={}){super(t),this.type=rn.ResponseHeader}clone(t={}){return new am({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Td extends om{constructor(t={}){super(t),this.type=rn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Td({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class aE extends om{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function lm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let um=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Rl)s=e;else{let u,c;u=r.headers instanceof Tr?r.headers:new Tr(r.headers),r.params&&(c=r.params instanceof Sr?r.params:new Sr({fromObject:r.params})),s=new Rl(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=pe(s).pipe(Gr(u=>this.handler.handle(u)));if(e instanceof Rl||"events"===r.observe)return o;const a=o.pipe(Wn(u=>u instanceof Td));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(G(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(G(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(G(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(G(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Sr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,lm(r,i))}post(e,i,r={}){return this.request("POST",e,lm(r,i))}put(e,i,r={}){return this.request("PUT",e,lm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(N(Ed))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function lE(n,t){return t(n)}function H3(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const j3=new X("HTTP_INTERCEPTORS"),Ll=new X("HTTP_INTERCEPTOR_FNS");function G3(){let n=null;return(t,e)=>(null===n&&(n=(qe(j3,{optional:!0})??[]).reduceRight(H3,lE)),n(t,e))}let uE=(()=>{class n extends Ed{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Ll)));this.chain=i.reduceRight((r,s)=>function B3(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),lE)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(N(sm),N(dr))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const q3=/^\)\]\}',?\n/;let dE=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new q(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((y,v)=>r.setRequestHeader(y,v.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=r.statusText||"OK",v=new Tr(r.getAllResponseHeaders()),b=function K3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new am({headers:v,status:r.status,statusText:y,url:b}),o},u=()=>{let{headers:y,status:v,statusText:b,url:w}=a(),D=null;204!==v&&(D=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=D?200:0);let k=v>=200&&v<300;if("json"===e.responseType&&"string"==typeof D){const T=D;D=D.replace(q3,"");try{D=""!==D?JSON.parse(D):null}catch(H){D=T,k&&(k=!1,D={error:H,text:D})}}k?(i.next(new Td({body:D,headers:y,status:v,statusText:b,url:w||void 0})),i.complete()):i.error(new aE({error:D,headers:y,status:v,statusText:b,url:w||void 0}))},c=y=>{const{url:v}=a(),b=new aE({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(b)};let f=!1;const p=y=>{f||(i.next(a()),f=!0);let v={type:rn.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===e.responseType&&!!r.responseText&&(v.partialText=r.responseText),i.next(v)},m=y=>{let v={type:rn.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),i.next(v)};return r.addEventListener("load",u),r.addEventListener("error",c),r.addEventListener("timeout",c),r.addEventListener("abort",c),e.reportProgress&&(r.addEventListener("progress",p),null!==s&&r.upload&&r.upload.addEventListener("progress",m)),r.send(s),i.next({type:rn.Sent}),()=>{r.removeEventListener("error",c),r.removeEventListener("abort",c),r.removeEventListener("load",u),r.removeEventListener("timeout",c),e.reportProgress&&(r.removeEventListener("progress",p),null!==s&&r.upload&&r.upload.removeEventListener("progress",m)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(N(J1))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const cm=new X("XSRF_ENABLED"),hE="XSRF-TOKEN",fE=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>hE}),pE="X-XSRF-TOKEN",gE=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>pE});class mE{}let Y3=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=F1(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(N(Ht),N(Ka),N(fE))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function J3(n,t){const e=n.url.toLowerCase();if(!qe(cm)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=qe(mE).getToken(),r=qe(gE);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Jt=(()=>((Jt=Jt||{})[Jt.Interceptors=0]="Interceptors",Jt[Jt.LegacyInterceptors=1]="LegacyInterceptors",Jt[Jt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Jt[Jt.NoXsrfProtection=3]="NoXsrfProtection",Jt[Jt.JsonpSupport=4]="JsonpSupport",Jt[Jt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Jt))();function Go(n,t){return{\u0275kind:n,\u0275providers:t}}function Z3(...n){const t=[um,dE,uE,{provide:Ed,useExisting:uE},{provide:sm,useExisting:dE},{provide:Ll,useValue:J3,multi:!0},{provide:cm,useValue:!0},{provide:mE,useClass:Y3}];for(const e of n)t.push(...e.\u0275providers);return function QS(n){return{\u0275providers:n}}(t)}const yE=new X("LEGACY_INTERCEPTOR_FN");function X3({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:fE,useValue:n}),void 0!==t&&e.push({provide:gE,useValue:t}),Go(Jt.CustomXsrfConfiguration,e)}let eU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({providers:[Z3(Go(Jt.LegacyInterceptors,[{provide:yE,useFactory:G3},{provide:Ll,useExisting:yE,multi:!0}]),X3({cookieName:hE,headerName:pE}))]}),n})();class Nl{constructor(t,e){this.http=t,this.logService=e,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=je(305),this.creatureList.sort((i,r)=>i.kg>r.kg?-1:1)}loadAndCalculateMyLog(t){this.hasCalculatedMyStats&&t(this.myLiftingStats);let e=0;this.http.get("../../assets/data/FitNotes_Export_Processed.csv",{responseType:"text"}).subscribe(r=>{const o=P3.parse(r,{header:!0,skipEmptyLines:!0}),a=o.data,u=o.errors;let c;for(let v=u.length-1;v>=0;v--)c=u[v],this.logService.log("Warn",'Removing row "'+c.row+'". '+c.type+". "+c.code+". "+c.message),a.splice(c.row,1);var f=!1;a.forEach(v=>{const b=v.Weight,w=v.Reps;if(""!==b&&""!==w){const D=parseFloat(b)*parseFloat(w);e+=D,isNaN(e)&&(f||(this.logService.log("Error",`totalKgLifted is NaN. FitNoteRow: Date: ${v.Date}, Exercise:  ${v.Exercise}, Weight: ${b}, Reps: ${w}`),f=!0))}});const p=this.weightInCreatures(e),m=new Date(a[0].Date),y=new Date(a[a.length-1].Date);this.myLiftingStats={totalKgLifted:e,totalCreaturesLifted:p,firstDate:m,lastDate:y},this.hasCalculatedMyStats=!0,t(this.myLiftingStats)})}weightInCreatures(t){let e=t;const i=[];return this.creatureList.forEach(r=>{let s=0;for(;r.kg<=e;)e-=r.kg,s++;s>0&&i.push({count:s,creature:r})}),i}static#e=this.\u0275fac=function(e){return new(e||Nl)(N(um),N(mi))};static#t=this.\u0275prov=ee({token:Nl,factory:Nl.\u0275fac,providedIn:"root"})}class Sd{transform(t,e=0,i="*",r=1){let s;switch(i){case"/":s=t/r;break;case"*":s=t*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let o=e;t===Math.trunc(t)&&(o=0);const a=s.toFixed(o),u=[];let c=a.includes(".")?a.indexOf("."):a.length;if(c<3)return a;let p=!0;for(;c>0;)c-=3,c<=0?u.unshift(a.substr(0,3+c)):p?(u.unshift(a.substr(c)),p=!1):u.unshift(a.substr(c,3));return u.join("'")}static#e=this.\u0275fac=function(e){return new(e||Sd)};static#t=this.\u0275pipe=Un({name:"mynumber",type:Sd,pure:!0})}function tU(n,t){1&n&&g(0,"li",15),2&n&&E("innerHTML",t.$implicit.render(),fe)}function nU(n,t){1&n&&(d(0,"div"),l(1," Only numbers are allowed (and ' . ' for fraction) "),h())}function iU(n,t){1&n&&(d(0,"div"),l(1," number is too big, reduce it "),h())}function rU(n,t){1&n&&(d(0,"div"),l(1," number is to small, increase it "),h())}function sU(n,t){if(1&n&&(d(0,"div",16),xe(1,nU,2,0,"div",7),xe(2,iU,2,0,"div",7),xe(3,rU,2,0,"div",7),h()),2&n){const e=Pe();_(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.pattern),_(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.max),_(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.min)}}function oU(n,t){1&n&&g(0,"li",15),2&n&&E("innerHTML",t.$implicit.render(),fe)}function aU(n,t){if(1&n&&(d(0,"table")(1,"tr")(2,"th"),l(3,"KGs"),h(),d(4,"th"),l(5,"Creatures"),h()(),d(6,"tr")(7,"td",0),l(8),h(),d(9,"td")(10,"ul"),xe(11,oU,1,1,"li",1),h()()()()),2&n){const e=Pe();_(8),ut(e.convertLastInputSubmit),_(3),E("ngForOf",e.convertResult)}}class Id{constructor(t,e){this.liftingService=t,this.fb=e,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,t.loadAndCalculateMyLog(r=>{this.totalKgLifted=r.totalKgLifted;for(const s of r.totalCreaturesLifted)this.totalCreaturesLifted.push(new vE(s.count,s.creature));this.firstDate=r.firstDate,this.lastDate=r.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[Zr.pattern(/^\d+\.*\d*$/),Zr.max(this.maximumInputAllowed),Zr.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const t=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||t===this.convertLastInputSubmit||(this.convertLastInputSubmit=t,this.convert(t))}convert(t){const e=this.liftingService.weightInCreatures(t);for(const i of e)this.convertResult.push(new vE(i.count,i.creature))}static#e=this.\u0275fac=function(e){return new(e||Id)(S(Nl),S(nE))};static#t=this.\u0275cmp=xt({type:Id,selectors:[["app-lift"]],decls:103,vars:19,consts:[[1,"center"],[3,"innerHTML",4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],[4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["href","https://vimeo.com/57172348"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],[3,"innerHTML"],[1,"alert"]],template:function(e,i){1&e&&(d(0,"div")(1,"h2"),l(2,"Progressing on my path to lift the Platinum Dragon!"),h(),d(3,"p"),l(4),cc(5,"date"),cc(6,"date"),h(),d(7,"table")(8,"tr")(9,"th"),l(10,"Tons lifted"),h(),d(11,"th"),l(12,"Creatures lifted"),h()(),d(13,"tr")(14,"td",0),l(15),cc(16,"mynumber"),h(),d(17,"td")(18,"ul"),xe(19,tU,1,1,"li",1),h()()()(),d(20,"p"),l(21," I use "),d(22,"a",2),l(23,"FitNotes"),h(),l(24," app to log my lifting,"),g(25,"br"),l(26," and export the log from it and use it for the above calculation."),g(27,"br"),l(28," No creatures were hurt during the lifting :)\n"),h()(),d(29,"div")(30,"h1"),l(31,"Kg to Creatures converter"),h(),d(32,"div",3)(33,"form",4)(34,"div")(35,"input",5),lt("input",function(){return i.inputEvent()}),h()(),d(36,"sub"),l(37,"kg number in text field is converts to below:"),h(),g(38,"br"),xe(39,sU,4,3,"div",6),h()(),xe(40,aU,12,2,"table",7),d(41,"p"),l(42," The sources for the creature weight list:"),g(43,"br"),d(44,"a",8),l(45,"Metallic dragons of the Forgotten Realms"),h(),g(46,"br"),d(47,"a",9),l(48,"Dinosaur size"),h(),g(49,"br"),d(50,"a",10),l(51,"Adult mammals weight"),h()()(),d(52,"div")(53,"figure"),g(54,"img",11),d(55,"figcaption"),l(56,"Egill Antonsson dealing with the the dragon's breath"),h()()(),d(57,"div")(58,"h2"),l(59,"The beginning of my strength & hyperthropy journey"),h(),d(60,"h3"),l(61,"The first workout"),h(),d(62,"p"),l(63," I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."),g(64,"br"),l(65," My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."),g(66,"br"),l(67," I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."),g(68,"br"),l(69,' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'),g(70,"br"),l(71," Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"),g(72,"br"),l(73," This was a lesson learned for both me and Mummi in how not to begin your training.\n"),h(),d(74,"h3"),l(75,"The first years"),h(),d(76,"p"),l(77," Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."),g(78,"br"),l(79," I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."),g(80,"br"),h(),d(81,"p"),l(82," Gym 80 was founded by "),d(83,"a",12),l(84,"J\xf3n P\xe1ll Sigmarsson"),h(),l(85," who was the first man in history to win the World Strongest Man four times."),g(86,"br"),l(87," He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."),g(88,"br"),l(89," My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "),d(90,"a",13),l(91,'"There is no reason to be alive if you can\'t do deadlift!"'),h(),l(92,","),g(93,"br"),l(94,"\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."),g(95,"br"),l(96,"\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."),g(97,"br"),h()(),d(98,"div")(99,"figure"),g(100,"img",14),d(101,"figcaption"),l(102,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),h()()()),2&e&&(_(4),Wf("\nDuring the period ",np(5,8,i.firstDate,"d. MMMM yyyy")," - ",np(6,11,i.lastDate,"d. MMMM yyyy"),":\n"),_(11),ut(function Cw(n,t,e,i,r,s){const o=n+22,a=F(),u=$s(a,o);return za(a,o)?_w(a,Bn(),t,u.transform,e,i,r,s,u):u.transform(e,i,r,s)}(16,14,i.totalKgLifted,3,"/",1e3)),_(4),E("ngForOf",i.totalCreaturesLifted),_(14),E("formGroup",i.convertForm),_(2),E("maxlength",16),_(4),E("ngIf",i.inputKgControl.invalid),_(1),E("ngIf",i.convertResult.length>0))},dependencies:[el,Sn,Jg,Ml,Zg,Fg,Vg,Dd,Ol,Cd,Gp,Sd],styles:["ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class vE{constructor(t,e){this.count=t,this.creature=e}render(){let t=this.creature.name;return""!==this.creature.url&&void 0!==this.creature.url&&(t=`<a href="${this.creature.url}" target="_blank">${this.creature.name}</a>`),console.log("creatureName",t),`${this.count}x ${t}`}}const lU=["trackGraphicContainer"],uU=["canvas0"],cU=["canvas1"],dU=["canvas2"],hU=["canvas3"],fU=["topLine"],bE=function(n){return{nodeSelected:n}};function pU(n,t){if(1&n){const e=Fr();d(0,"div",21),lt("click",function(){const s=Pr(e).$implicit;return Or(Pe(3).onTrackClick(s))}),l(1),h()}if(2&n){const e=t.$implicit,i=Pe(3);E("ngClass",gr(2,bE,e.name===i.selectedTrack.name)),_(1),tt(" ",e.name," ")}}function gU(n,t){if(1&n&&(d(0,"div",19),xe(1,pU,2,4,"div",20),h()),2&n){const e=Pe().$implicit;_(1),E("ngForOf",e.tracks)}}const mU=function(n,t){return{branchAnimateClose:n,branchAnimateOpen:t}};function yU(n,t){if(1&n){const e=Fr();d(0,"div")(1,"div",14),lt("click",function(){const s=Pr(e).index;return Or(Pe().onByClick(s))}),d(2,"div",15),g(3,"div",16),h(),d(4,"span",17),l(5),h()(),xe(6,gU,2,1,"div",18),h()}if(2&n){const e=t.$implicit,i=t.index,r=Pe();_(3),E("ngClass",Ga(4,mU,r.openedUiByIndex!=i,r.openedUiByIndex===i)),_(1),E("ngClass",gr(7,bE,r.selectedTrack.artistName===e.name)),_(1),ut(e.name),_(1),E("ngIf",r.openedUiByIndex===i)}}function vU(n,t){if(1&n&&(d(0,"div")(1,"figure"),g(2,"img",22),h()()),2&n){const e=Pe();_(2),wn("src",e.selectedTrack.artworkPath,io),$f("alt","Artwork for ",e.selectedTrack.name," by ",e.selectedTrack.artistName,"")("title","Artwork for ",e.selectedTrack.name," by ",e.selectedTrack.artistName,"")}}function bU(n,t){if(1&n&&(d(0,"span",23)(1,"a",24),g(2,"img",25),h()()),2&n){const e=Pe();_(1),wn("href",e.selectedTrack.soundcloudUrl,io),_(1),Na("alt","Play ",e.selectedTrack.name," on SoundCloud")("title","Play ",e.selectedTrack.name," on SoundCloud")}}function _U(n,t){if(1&n&&(d(0,"span",23)(1,"a",24),g(2,"img",26),h()()),2&n){const e=Pe();_(1),wn("href",e.selectedTrack.spotifyUrl,io),_(1),Na("alt","Play ",e.selectedTrack.name," on Spotify")("title","Play ",e.selectedTrack.name," on Spotify")}}function wU(n,t){if(1&n&&(d(0,"span",23)(1,"a",27),l(2,"Buy"),h()()),2&n){const e=Pe();_(1),wn("href",e.selectedTrack.buyUrl,io)}}function CU(n,t){if(1&n&&(d(0,"div")(1,"h4"),l(2),h(),g(3,"p",28),h()),2&n){const e=Pe();_(2),tt("About ",e.selectedTrack.name,""),_(1),E("innerHTML",e.selectedTrack.about,fe)}}function DU(n,t){if(1&n&&(d(0,"div")(1,"h4"),l(2),h(),g(3,"p",28),h()),2&n){const e=Pe();_(2),tt("About ",e.selectedTrack.artistName,""),_(1),E("innerHTML",e.selectedTrack.artistAbout,fe)}}class Fl{constructor(t,e,i,r){this.musicService=t,this.logService=e,this.route=i,this.location=r,this.label="MusicPage",this.drawVisuals=[],this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.currentCanvasNr=0,this.canvasNrAscending=!1,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=-1}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}get selectedTrackAsYoutubeTrack(){return this.musicService.selectedTrack}ngOnInit(){this.route.paramMap.subscribe(t=>{const e=t.get("trackName");null!==e?this.musicService.setSelectTrackByRootUrl(e):this.replaceUrlState()}),this.musicService.addInstancePlayedListener(this.playedListenerName,t=>{const e=this.getNextCanvas(),i=this.tryGetCanvasContext(e);i&&t&&this.visualize(t,e,i,this.drawVisuals),this.replaceUrlState()}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.clearVisuals()}),this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}replaceUrlState(){this.location.replaceState(`${this.musicService.urlPathRoot}${this.selectedTrack.rootUrl}`)}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}onTrackClick(t){"Loading"!==this.musicService.playState?this.musicService.onUiTrackSelected(t):this.logService.log("Info","MusicPage onTrackClick: is loading, returning without processing")}onByClick(t){this.openedUiByIndex=this.openedUiByIndex===t?-1:t}get layerText(){if(this.musicService.selectedTrack instanceof vl&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const t=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(t[t.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}tryGetCanvasContext(t){const e=t.nativeElement.getContext("2d");return e||this.logService.log("Error",'"canvasContext" was "null"'),e}visualize(t,e,i,r){const s=t.analyzerNode;s.fftSize=2048;const o=s.fftSize,a=new Uint8Array(o),u=e.nativeElement.width,c=e.nativeElement.height;i.clearRect(0,0,u,c),e.nativeElement.classList.remove("hide");const f=()=>{r.push(requestAnimationFrame(f)),s.getByteTimeDomainData(a),i.fillStyle="#111",i.fillRect(0,0,u,c),i.lineWidth=3,i.strokeStyle="#B9CA4A",i.beginPath();const p=1*u/o;let m=0;for(let y=0;y<o;y++){const b=a[y]/128*c/2;0===y?i.moveTo(m,b):i.lineTo(m,b),m+=p}i.lineTo(u,c/2),i.stroke()};f()}clearVisuals(){this.drawVisuals.forEach(t=>{window.cancelAnimationFrame(t)}),this.drawVisuals=[],this.canvases.forEach(t=>{this.tryGetCanvasContext(t)?.clearRect(0,0,t.nativeElement.width,t.nativeElement.height),t.nativeElement.classList.add("hide")}),this.currentCanvasNr=1,this.canvasNrAscending=!1}static#e=this.\u0275fac=function(e){return new(e||Fl)(S(xs),S(mi),S(qr),S(Ja))};static#t=this.\u0275cmp=xt({type:Fl,selectors:[["app-music-page"]],viewQuery:function(e,i){if(1&e&&(Rt(lU,5),Rt(uU,7),Rt(cU,7),Rt(dU,7),Rt(hU,7),Rt(fU,7)),2&e){let r;vt(r=bt())&&(i.trackGraphicContainerElement=r.first),vt(r=bt())&&(i.canvas0=r.first),vt(r=bt())&&(i.canvas1=r.first),vt(r=bt())&&(i.canvas2=r.first),vt(r=bt())&&(i.canvas3=r.first),vt(r=bt())&&(i.topLine=r.first)}},features:[yt([Ja,{provide:Ur,useClass:xp}])],decls:22,vars:7,consts:[[1,"canvas","hide"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"trackGraphicContainer"],["trackGraphicContainer",""],[4,"ngIf"],[1,"buttonContainer"],["class","iconButton",4,"ngIf"],[1,"trackRightContainer"],[1,"trackRightInner"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[1,"branchIcon",3,"ngClass"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"image",3,"src","alt","title"],[1,"iconButton"],["target","\u201d_blank\u201d",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Soundcloud_logo.svg",1,"soundcloudIcon",3,"alt","title"],["src","https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg ",1,"spotifyIcon",3,"alt","title"],["target","\u201d_blank\u201d",1,"IconLink",3,"href"],[3,"innerHTML"]],template:function(e,i){1&e&&(d(0,"div"),g(1,"canvas",0,1)(3,"canvas",0,2)(5,"canvas",0,3)(7,"canvas",0,4),h(),d(9,"div",5),xe(10,yU,7,9,"div",6),h(),d(11,"div",7,8),xe(13,vU,3,5,"div",9),d(14,"div",10),xe(15,bU,3,3,"span",11),xe(16,_U,3,3,"span",11),xe(17,wU,3,1,"span",11),h()(),d(18,"div",12)(19,"div",13),xe(20,CU,4,2,"div",9),xe(21,DU,4,2,"div",9),h()()),2&e&&(_(10),E("ngForOf",i.byTracks),_(3),E("ngIf",""!==i.selectedTrack.artworkPath),_(2),E("ngIf",""!==i.selectedTrack.soundcloudUrl),_(1),E("ngIf",""!==i.selectedTrack.spotifyUrl),_(1),E("ngIf",""!==i.selectedTrack.buyUrl),_(3),E("ngIf",""!==i.selectedTrack.about),_(1),E("ngIf",""!==i.selectedTrack.artistAbout))},dependencies:[Xa,el,Sn],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid var(--colorGrayLight);border-radius:.3em}.trackGraphicContainer[_ngcontent-%COMP%]{float:left;width:50%}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.trackRightContainer[_ngcontent-%COMP%]{float:right;width:50%}.trackRightInner[_ngcontent-%COMP%]{float:left;margin-left:2%}.iconButton[_ngcontent-%COMP%]{width:100px;height:30px;border:1px solid var(--colorGrayLight);border-radius:1em;text-align:center;padding-top:3px;margin-left:1em;margin-right:1em}.spotifyIcon[_ngcontent-%COMP%]{height:90%;width:80%}.soundcloudIcon[_ngcontent-%COMP%]{height:90%;width:96%}.IconLink[_ngcontent-%COMP%]{vertical-align:middle}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0;left:0;width:72px;height:72px;opacity:0}}@media screen and (max-width: 451px){.trackGraphicContainer[_ngcontent-%COMP%], .trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}}@media screen and (min-width: 452px) and (max-width: 703px){.canvas[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;width:96%}.trackGraphicContainer[_ngcontent-%COMP%], .trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}}@media screen and (min-width: 704px) and (max-width: 1053px){.trackGraphicContainer[_ngcontent-%COMP%]{width:100%}.canvas[_ngcontent-%COMP%]{margin-left:4%;margin-right:4%;width:92%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.canvas[_ngcontent-%COMP%]{margin-left:6%;margin-right:6%;width:88%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.canvas[_ngcontent-%COMP%]{margin-left:8%;margin-right:8%;width:84%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 2001px){.canvas[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}"]})}class Ad{static#e=this.\u0275fac=function(e){return new(e||Ad)};static#t=this.\u0275cmp=xt({type:Ad,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,i){1&e&&(d(0,"h1"),l(1,"Page not found for this url"),h())},encapsulation:2})}class Ii{constructor(t){this.blogService=t}get post(){return this.blogService.selectedPost}get publishedDateToString(){return this.dateToString(this.post.publishedDate)}get hasUpdatedDate(){return void 0!==this.post.updatedDate}get updatedDateToString(){return void 0===this.post.updatedDate?"":this.dateToString(this.post.updatedDate)}dateToString(t){const i=new Gp("en-US").transform(t,"YYYY MMM dd");return null===i?"":i}get aboutCodeHtml(){return'<h2>The code</h2>\n<p>\n\tThe code shown below is focused on the current cycle step, thus only showing the relevant lines\t.<br>\n\tThe complete code and the Unity project is on <a href="https://github.com/EgillAntonsson/tdd-avatar-health-in-unity">GitHub</a>.\n</p>'}get completeRequirementListHtml(){return'<sup>The complete requirement list from the user perspective is in <a href="./blog/tdd-health/part2">Part 2</a></sup>'}get rewordRequirement(){return"Let's reword this focusing on the domain model and using its terminology:"}static#e=this.\u0275fac=function(e){return new(e||Ii)(S(Lo))};static#t=this.\u0275cmp=xt({type:Ii,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,i){1&e&&(d(0,"h1"),l(1,"base class template not used"),h())},encapsulation:2})}function EU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class Vl extends Ii{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(Vl)))(i||Vl)}}();static#t=this.\u0275cmp=xt({type:Vl,selectors:[["app-post-tdd-1"]],features:[Fe],decls:374,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","http://www.jamesshore.com/v2/blog/2005/red-green-refactor"],[1,"list"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/25"],[1,"list","inline"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/193"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://www.linkedin.com/in/egillantonsson"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/what-is-domain-logic/"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","http://xunitpatterns.com/Mocks,%20Fakes,%20Stubs%20and%20Dummies.html"],["href","https://medium.com/aia-sg-techblog/why-singleton-pattern-is-considered-as-anti-design-pattern-c81dd8b7e757"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],[1,"horizontalLine"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,EU,2,1,"small",1),h(),d(11,"h2"),l(12,"What is TDD ?"),h(),d(13,"p"),l(14," TDD is an acronym for "),d(15,"i"),l(16,"Test Driven Development"),h(),g(17,"br"),l(18," and is a workflow discipline / approach for developers, focused on "),d(19,"b"),l(20,"when"),h(),l(21," to write unit tests,"),g(22,"br"),l(23," and the heart of it is the "),d(24,"a",2),l(25,"RED / GREEN / REFACTOR cycle:"),h()(),d(26,"ol",3)(27,"li")(28,"span",4),l(29,"RED:"),h(),l(30," Write a test that fails"),h(),d(31,"li")(32,"span",5),l(33,"GREEN:"),h(),l(34," Get the test to pass, with minimal effort"),h(),d(35,"li")(36,"span",6),l(37,"REFACTOR:"),h(),l(38," Evaluate if refactoring is needed, e.g. remove a "),d(39,"a",7),l(40,"code smell"),h()()(),d(41,"p"),l(42,"The cycle should focus is on fulfilling a requirement on the SUT (Subject/Unit Under Test)"),g(43,"br"),l(44," repeating it until you are confident that the SUT has become generic enough to handle all meaningful cases"),g(45,"br"),l(46," (as the tests become more specific)."),g(47,"br"),l(48," At some interval you should stop and evaluate if the design of the overall system is sound, if not then refactor it."),g(49,"br"),l(50," (all tests run and passing as frequently as needed)."),g(51,"br"),l(52," This is my summarization of Uncle Bob's post "),d(53,"a",8),l(54,"The Cycles of TDD"),h(),l(55,"."),g(56,"br"),l(57," (Bob terms additional cycles within and around RED / GREEN / REFACTOR).\n"),h(),d(58,"h2"),l(59,"What is a good Unit Test ?"),h(),d(60,"p"),l(61," A good unit test is focused on a specific SUT requirement,"),g(62,"br"),l(63," of meaningful logic (e.g. don't test simple getter properties on their own)."),g(64,"br"),l(65," The test code should be kept as clean as the production code ("),d(66,"span",6),l(67,"REFACTOR"),h(),l(68," step in TDD applies to both)."),g(69,"br"),l(70," Here are definitions from "),d(71,"b"),l(72,"Roy Osherove"),h(),l(73," in "),d(74,"i"),l(75,"The Art of Unit testing, 3rd edition"),h(),g(76,"br"),l(77," (for him the word 'unit' in unit testing stands for 'unit of work'):\n"),h(),d(78,"h3")(79,"a",9),l(80,"Unit of Work definition"),h()(),d(81,"p"),l(82,"\nA "),d(83,"i"),l(84,"unit of work"),h(),l(85," is the sum of actions that take place between the invocation of an "),d(86,"i"),l(87,"entry point"),h(),g(88,"br"),l(89,"\nup until a noticeable end result through one or more "),d(90,"i"),l(91,"exit points"),h(),l(92,"."),g(93,"br"),l(94,"\nThe "),d(95,"i"),l(96,"entry point"),h(),l(97," is the thing we trigger."),g(98,"br"),l(99,"\nGiven a publicly visible function, for example:\n"),h(),d(100,"ul",10)(101,"li"),l(102,"The function's body is all or part of the "),d(103,"i"),l(104,"unit of work"),h(),l(105,"."),h(),d(106,"li"),l(107,"The function's declaration and signature are the "),d(108,"i"),l(109,"entry point"),h(),l(110," into the body."),h(),d(111,"li"),l(112,"The resulting outputs or behaviors of the function are its "),d(113,"i"),l(114,"exit points"),h(),l(115,"."),h()(),d(116,"h3")(117,"a",11),l(118,"Good Unit Test definition"),h()(),d(119,"p"),l(120,"\nA "),d(121,"i"),l(122,"unit test"),h(),l(123," is an automated piece of code that invokes the "),d(124,"i"),l(125,"unit of work"),h(),g(126,"br"),l(127,"\nthrough an "),d(128,"i"),l(129,"entry point"),h(),l(130,", and then checks one of its "),d(131,"i"),l(132,"exit points"),h(),l(133,"."),g(134,"br"),l(135,"\nIt can be written easily and runs quickly."),g(136,"br"),d(137,"b"),l(138,"It's trustworthy, readable & maintainable."),g(139,"br"),l(140,"\nIt is consistent as long as the production code we control has not changed."),h()(),d(141,"h2"),l(142,"Why do TDD ?"),h(),d(143,"p"),l(144,"Here is a my non-exhaustive list of the benefits of TDD in order of priority:"),h(),d(145,"ol",10)(146,"li"),l(147,"Ensures you'll have passing test suite with high production code coverage"),g(148,"br"),l(149," that runs fast (each case less than 0.1 sec) so you get feedback early,"),g(150,"br"),l(151," thus you can clean the code fast and continuously without fear of breaking it,"),g(152,"br"),l(153," thus have high confidence in the shipped product quality."),g(154,"br"),h(),d(155,"li"),l(156,"It pushes for good production code design and maintainability:"),h(),d(157,"ul")(158,"li")(159,"a",12),l(160,"Separation of Concerns (SoC)"),h()(),d(161,"li"),l(162,"code to be low "),d(163,"a",13),l(164,"coupled"),h(),l(165," / have few dependencies"),h(),d(166,"li"),l(167,"each unit / object has readable and requirement-focused interface"),g(168,"br"),l(169," (internals should be "),d(170,"a",14),l(171,"encapsulated"),h(),l(172,")"),h()(),d(173,"li"),l(174,"The tests are accurate and up-to-date (developer focused) documentation"),g(175,"br"),l(176," of the behavior of the tested units."),h(),d(177,"li"),l(178,"Less time spent in the debugger"),h()(),d(179,"p"),l(180," There are also criticisms on TDD, e.g. the post "),d(181,"a",15),l(182,"TDD is dead. Long live testing"),h(),l(183,","),g(184,"br"),l(185," and discussion about it, e.g. the YouTube series "),d(186,"a",16),l(187,"Is TDD dead ?"),h(),g(188,"br"),l(189," and responses to it, e.g the post "),d(190,"a",17),l(191,"Monogamous TDD"),h(),l(192,".\n"),h(),d(193,"h2"),l(194,"Is TDD suitable for all areas / situations ?"),h(),d(195,"p"),l(196," I have over a decade long "),d(197,"a",18),l(198,"developer work experience"),h(),g(199,"br"),l(200," mainly as front-end game developer, and shared game systems developer."),g(201,"br"),l(202," I've gained some experience in writing good unit tests (being 'not so good' at the start of the journey)."),g(203,"br"),l(204," but I've used TDD to a lesser degree, thus I'm currently not very seasoned in using TDD."),g(205,"br"),l(206," The reason why I haven't used TDD more is mainly two-fold:\n"),h(),d(207,"ul",10)(208,"li"),l(209,"Sometimes when facing many 'hard to influence' deadlines,"),g(210,"br"),l(211," I've chosen the (not ideal) 'get it done in time' approach (Thus writing unit tests later)."),h(),d(212,"li"),l(213,"I'm working in areas / situations where it is not so suited or easy to use TDD."),h()(),d(214,"p"),l(215," Below are areas / situations where it is not so suited or easy to use TDD"),g(216,"br"),l(217," (and some tips how to work TDD more into them).\n"),h(),d(218,"h3"),l(219,"Boundary layers"),h(),d(220,"p"),l(221," A big part of a game is the graphic user interface (GUI) and visual effects, user input and sound,"),g(222,"br"),l(223," should these parts be unit tested ?"),g(224,"br")(225,"br"),l(226," These parts can be described as layers close to the physical output/input boundaries (e.g. screen, speaker)"),g(227,"br"),l(228," The design can be driven to make these boundary layers thin and "),d(229,"a",19),l(230,"humble"),h(),l(231,","),g(232,"br"),l(233," focusing on the responsibility of the boundary (e.g. disable/enable button), and extracting other logic into other modules that can be easily tested."),g(234,"br")(235,"br"),l(236," It's likely that the logic to extract is in fact the "),d(237,"a",20),l(238,"domain logic"),h(),l(239," (a.k.a business logic),"),g(240,"br"),l(241," the code that makes (non-visual) game decisions (business)"),g(242,"br"),l(243," and thus belongs to the "),d(244,"a",21),l(245,"domain model"),h(),l(246," and then should be moved there"),g(247,"br"),l(248," (the domain model should not depend on any boundaries, thus be easily unit testable)."),g(249,"br")(250,"br"),l(251," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen."),g(252,"br"),l(253," If boundary bugs begin slipping into the production as the project grows,"),g(254,"br"),l(255," then it's time to replace some of the manual testing effort with automated tests (e.g integration and/or UI tests)."),g(256,"br"),l(257," The "),d(258,"a",22),l(259,"Test Pyramid"),h(),l(260," could be a guide for that process.\n"),h(),d(261,"h3"),l(262,"Legacy Code"),h(),d(263,"p"),l(264," Legacy code in a sentence is "),d(265,"a",23),l(266,"valuable code you are afraid to change"),h(),g(267,"br"),l(268," It typically:\n"),h(),d(269,"ul",10)(270,"li"),l(271,"has been developed for some time"),h(),d(272,"li"),l(273,"is already 'working' (for most common scenarios / most of the time)"),h(),d(274,"li"),l(275,"has some bad code design that has crept in with time"),g(276,"br"),l(277," (e.g. high coupling / high dependency)"),h(),d(278,"li"),l(279,"is hard to read and understand and reason about"),h(),d(280,"li"),l(281,"has no or few good unit tests / very low test coverage"),g(282,"br"),l(283," (or many very bad and fragile tests that are hard to read and understand"),h()(),d(284,"p"),l(285," When you need to fix or change legacy code"),g(286,"br"),l(287," it is hard to do and have the confidence that the change did not break something else."),g(288,"br"),l(289," A breakage is discovered late (QA manual testing or live production) which can be very costly"),g(290,"br"),l(291," (and it always takes effort to get again into the context to fix the bug)."),g(292,"br")(293,"br"),l(294," It's possible to prevent bad code design to creep up"),g(295,"br"),l(296," by strictly upholding great design principles, without writing unit tests."),g(297,"br"),l(298," But using TDD complements this prevention very well (see "),d(299,"i"),l(300,"Why do TDD ?"),h(),l(301," section above)"),g(302,"br")(303,"br"),l(304," One of the negative consequence of legacy code is that it's very hard to write unit tests"),g(305,"br"),l(306," They likely need a lot of "),d(307,"a",24),l(308,"Test Doubles"),h(),l(309," to mute dependency interference"),g(310,"br"),l(311," (where static objects and "),d(312,"a",25),l(313,"Singletons"),h(),l(314," become very tricky)."),g(315,"br")(316,"br"),l(317," Legacy code needs to be carefully refactored (ideally first covered with tests) into a better state"),g(318,"br"),l(319," before TDD can be used effortlessly and to it's full potential."),g(320,"br"),l(321," Improving legacy code is a big topic thus I'll leave it here by"),g(322,"br"),l(323," referencing one book: "),d(324,"a",26),l(325,"Working Effectively with Legacy Code"),h(),l(326,","),g(327,"br"),l(328," and one post: "),d(329,"a",27),l(330,"Starting TDD with legacy code"),h(),l(331,".\n"),h(),d(332,"h3"),l(333,"Prototype code"),h(),d(334,"p"),l(335," The focus of prototyping is to get out an idea as fast as possible to get feedback on it."),g(336,"br"),l(337," It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not,"),g(338,"br"),l(339," and there should be a "),d(340,"b"),l(341,"clear agreement that the prototype code will be thrown away"),h(),l(342,"."),g(343,"br"),l(344," It is fine to not (or sparsely) use TDD in the prototyping phase, if the consensus is it slows things down,"),g(345,"br"),l(346," but TDD should be used when the production project codebase is started from scratch."),g(347,"br"),h(),g(348,"div",28),d(349,"h2"),l(350,"Comments"),h(),d(351,"h4"),l(352,"Fabio Paes Pedro"),h(),d(353,"p"),l(354," I'm no expert but the value TDD provides became clear to me quite fast."),g(355,"br"),l(356," I believe this requires a mindset/process change though,"),g(357,"br"),l(358," a different way of thinking things through that might extend outside of our team, into a company level."),g(359,"br"),l(360," I can't wait to read the rest of this series!\n"),h(),d(361,"h4"),l(362,"My response"),h(),d(363,"p"),l(364," Thank you for your comment Fabio."),g(365,"br"),l(366," I agree that TDD requires a mindset/process change,"),g(367,"br"),l(368," where ideally the whole team and the company are aligned on using TDD to reap its benefits,"),g(369,"br"),l(370," (synced on an approach that recognizes that in some areas / situations the value of TDD can be limited (as the sections above go through)."),g(371,"br"),l(372," I aim to continue writing blog post and complete this series, so stay tuned :)\n"),h(),g(373,"div",28)),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate))},dependencies:[Sn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function MU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class Ul extends Ii{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(Ul)))(i||Ul)}}();static#t=this.\u0275cmp=xt({type:Ul,selectors:[["app-post-tdd-2"]],features:[Fe],decls:300,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://www.maginteractive.com"],["href","https://www.youtube.com/watch?v=R1aO4Tmw3zA&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","https://egill.rocks/blog/tdd-health/part1"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","https://www.youtube.com/watch?v=_vd2JyX6C1Y&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=8"],["href","https://www.youtube.com/watch?v=LPlH87XaWC8&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=9"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"list"],[1,"noBulletinPoint"],[1,"center"],["href","./blog/tdd-health/part1"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,MU,2,1,"small",1),h(),d(11,"h2"),l(12,"Preparing the assignment"),h(),d(13,"h3"),l(14,"My workshop"),h(),d(15,"p"),l(16," I recently to do a short workshop about TDD at "),d(17,"a",2),l(18,"work"),h(),g(19,"br"),l(20," and for preparation I browsed the internet looking for a fitting assignment,"),g(21,"br"),l(22," and I came across "),d(23,"a",3),l(24,"TDD in Unity - Part 1"),h(),l(25," by Charles Amat, where he sets up his assignment:"),g(26,"br"),l(27," implementing the "),d(28,"i"),l(29,"Life Gauge"),h(),l(30," from "),d(31,"i"),l(32,"Zelda: Breath of the Wild"),h(),l(33," game."),g(34,"br")(35,"br"),l(36," I thought this assignment was fitting for the workshop,"),g(37,"br"),l(38," thus I read the "),d(39,"a",4),l(40,"Life Gauge page on the Zelda wiki"),h(),l(41," (which was linked in the 'Part 1' post),"),g(42,"br"),l(43," and also played the game a bit, focusing on the "),d(44,"i"),l(45,"Life Gauge"),h(),l(46," behavior."),g(47,"br"),l(48," But I did not go through the 'TDD in Unity' series, as I was running out of preparation time."),g(49,"br")(50,"br"),l(51," My focus and task order in both my preparations and workshop walk-through:"),g(52,"br"),h(),d(53,"ol",5)(54,"li"),l(55,"Write down the "),d(56,"i"),l(57,"Life Gauge"),h(),l(58," behavior from the user perspective"),g(59,"br"),l(60," (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),d(61,"i"),l(62,"Zelda: Breath of the Wild"),h(),l(63,")"),h(),g(64,"br"),d(65,"li"),l(66,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill,"),g(67,"br"),l(68," as TDD is fully effective and effortless in the domain model"),h(),g(69,"br"),d(70,"li"),l(71,"Afterwards the focus would shift to the visual GUI,"),g(72,"br"),l(73," where the value of TDD likely would dwindle the closer I got to the physical boundary of the screen,"),g(74,"br"),l(75," ending with just manually testing with my eyes."),g(76,"br"),l(77," (Boundary layers section in "),d(78,"a",6),l(79,"Part 1"),h(),l(80," elaborates on 2. and 3.)"),h()(),d(81,"p"),l(82," I only had time prepare the first couple of domain logic requirements,"),g(83,"br"),l(84," and during the workshop we collaboratively completed those together"),g(85,"br"),l(86," (before the time was up)."),g(87,"br"),h(),d(88,"h3"),l(89,"Comparing approaches on the assignment"),h(),d(90,"p"),l(91," After the workshop I was curious how Charles Amat solved it,"),g(92,"br"),l(93," thus I watched on YouTube the whole "),d(94,"a",3),l(95,"TDD in Unity"),h(),l(96," series."),g(97,"br"),l(98," I both enjoyed and learned from watching Charles Amat "),d(99,"a",7),l(100,"live coding"),h(),l(101," and implementing the "),d(102,"i"),l(103,"Life Gauge"),h(),g(104,"br"),l(105," and his end result solution is good and sound, and I thank Charles for his contribution."),g(106,"br"),l(107," but I noticed that his focus and task order quite differed from mine, as he:"),g(108,"br"),h(),d(109,"ol",5)(110,"li"),l(111,"Starts planning how to create the heart container in Unity,"),g(112,"br"),l(113," from a GUI perspective"),h(),g(114,"br"),d(115,"li"),l(116,"Starts TDD-ing logic close to the GUI"),h(),g(117,"br"),d(118,"li"),l(119,"Ends with TDD-ing the domain logic ("),d(120,"a",8),l(121,"Part 7"),h(),l(122," and "),d(123,"a",9),l(124,"Part 8"),h(),l(125,")."),g(126,"br"),l(127," He simplifies the domain requirements from the "),d(128,"i"),l(129,"Breath of the Wild"),h(),g(130,"br"),l(131," as he states in the beginning"),g(132,"br"),d(133,"q"),l(134,"The Heart container depletes when the player takes damage"),g(135,"br"),l(136," and is replenished when the player consumes an item with a health effect. "),h()()(),d(137,"h3"),l(138,"Same assignment, but with a different focus"),h(),d(139,"p"),l(140," This is why I think it's worth doing another series with the same assignment,"),g(141,"br"),l(142," but with my focus, task order, and format."),g(143,"br")(144,"br"),l(145," My format will be blog posts focused on the TDD cycles"),g(146,"br"),l(147," displaying the appropriate code for each step."),g(148,"br"),l(149," I'll demonstrate how the requirements and the cycles"),g(150,"br"),l(151," guide and shape the code and my reasoning,"),g(152,"br"),l(153," that will read like poetry of rhythmic "),d(154,"span",10),l(155,"RED "),h(),d(156,"span",11),l(157,"GREEN "),h(),d(158,"span",12),l(159,"REFACTOR "),h(),l(160," loops,"),g(161,"br"),l(162," at least that's my ambition :)"),g(163,"br"),h(),d(164,"h2"),l(165,"The Life Gauge behavior"),h(),d(166,"p"),l(167,"\nThe below list is user perspective behaviour summary from"),g(168,"br"),l(169,"\nthe "),d(170,"a",4),l(171,"Life Gauge page on the Zelda Wiki"),h(),l(172," for the "),d(173,"i"),l(174,"Breath of the Wild"),h(),l(175," game."),g(176,"br"),l(177,"\nI've simplified some requirements to keep the scope within a sensible limit."),g(178,"br"),l(179,"\nI've also provided more detail where needed by playing and observing the game."),g(180,"br"),d(181,"span",13),l(182,"With real-live gameplay-in-development scenario,"),g(183,"br"),l(184,"\nit's important to get the needed details of the requirements as early as possible,"),g(185,"br"),l(186,"\nideally before starting the code implementation."),h()(),d(187,"ul",14)(188,"li",15)(189,"b"),l(190,"Definition and Start State"),h()(),d(191,"li"),l(192,"The Life Gauge measures Link's (the avatar) current amount of health"),h(),d(193,"li"),l(194,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),h(),d(195,"li"),l(196,"The Life Gauge starts with 3 Hearts"),h(),g(197,"br"),d(198,"li",15)(199,"b"),l(200,"Taking Damage and Dying"),h()(),d(201,"li"),l(202,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),g(203,"br"),l(204," equal to the damage points taken (always losing at least 1 fraction)"),h(),d(205,"li"),l(206,"When Link loses all of his Hearts the game ends"),h(),d(207,"li"),l(208,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),g(209,"br"),l(210," and will instead be left alive with Hearth 1 fraction remaining"),h(),d(211,"ul")(212,"li"),l(213,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),h()(),g(214,"br"),d(215,"li",15)(216,"b"),l(217,"Replenish and Increase"),h()(),d(218,"li"),l(219,"The Life Gauge can be replenished by consuming certain items"),h(),d(220,"li"),l(221,"The Life Gauge can be increased by 1 Heart at a time"),h(),d(222,"ul")(223,"li"),l(224,"Link's health will become full with the increase"),h()(),d(225,"li"),l(226,"The maximum of Hearts is 30"),h()(),d(227,"h3"),l(228,"Model / View mapping of "),d(229,"i"),l(230,"Life Gauge"),h(),l(231," - "),d(232,"i"),l(233,"SoC"),h()(),d(234,"table")(235,"tr")(236,"th")(237,"b"),l(238,"Domain Model"),h()(),d(239,"th")(240,"b"),l(241,"View / GUI"),h()()(),d(242,"tr")(243,"td",16),l(244," (Avatar) Health "),h(),d(245,"td",16),l(246," Life Gauge "),h()(),d(247,"tr")(248,"td",16)(249,"i"),l(250,"TBD later"),h()(),d(251,"td",16),l(252," Heart (holds 4 Fractions) "),h()(),d(253,"tr")(254,"td",16),l(255," Points "),h(),d(256,"td",16),l(257," Heart Fractions "),h()()(),d(258,"p"),l(259,"\nThis mapping is good to establish early:"),g(260,"br"),l(261,"\nHeart Container (with its Hearts and fractions)"),g(262,"br"),l(263,"\nis a specific view representation of the Avatar Health, the domain model."),g(264,"br"),l(265,"\nThis is a good start of a "),d(266,"i"),l(267,"Separation of Concerns (SoC)"),h(),l(268," which I'll plot further on below."),g(269,"br")(270,"br"),l(271,"\nI'll apply the approach in the "),d(272,"i"),l(273,"Boundary layers"),h(),l(274," section in "),d(275,"a",17),l(276,"Part 1"),h(),l(277,","),g(278,"br"),l(279,"\nmaking sure that the code dependency is minimal and one-way:\n"),h(),d(280,"ul",5)(281,"li"),l(282,"the view can depend in minimal way on the model, but not vice-versa"),h(),d(283,"li"),l(284,"all the domain logic should be in the model"),h(),d(285,"li"),l(286,"the view should be thin and humble"),h()(),d(287,"p"),l(288,"\nThus when future change requests on the GUI arrive (which is likely, in a real-life scenario),"),g(289,"br"),l(290,"\nit will be effortless to handle as:\n"),h(),d(291,"ul",5)(292,"li"),l(293,"The domain and its logic will be unaffected"),h(),d(294,"li"),l(295,"The model naming and terms will be unaffected"),h()(),d(296,"p"),l(297,"\nThis also makes it effortless to display simultaneously more than one GUI representations"),g(298,"br"),l(299,"\nof the same model (which is quite common in game UI).\n"),h()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate))},dependencies:[Sn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}class SU{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new IU(t,this.resultSelector))}}class IU extends Me{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Ke(t)?e.push(new kU(t)):e.push("function"==typeof t[U]?new AU(t[U]()):new xU(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let a=t[o];if("function"==typeof a.hasValue&&!a.hasValue())return}let r=!1;const s=[];for(let o=0;o<e;o++){let a=t[o],u=a.next();if(a.hasCompleted()&&(r=!0),u.done)return void i.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),r&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class AU{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class kU{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[U](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class xU extends qt{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[U](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return vn(this.observable,new At(this))}}class PU extends V{constructor(t,e){super()}schedule(t,e=0){return this}}class dm extends PU{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let _E=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class rr extends _E{constructor(t,e=_E.now){super(t,()=>rr.delegate&&rr.delegate!==this?rr.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return rr.delegate&&rr.delegate!==this?rr.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const hm=new class RU extends rr{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class OU extends dm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),kd=new X("HIGHLIGHT_OPTIONS");let LU=(()=>{class n{constructor(e,i,r){this.doc=e,this._options=r,this._ready=new Nn(null),this.ready=this._ready.asObservable().pipe(Wn(s=>!!s),G(s=>s),Es(1)),K1(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(gi(s=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=s,this.loadLineNumbers().pipe(Tt(()=>this._ready.next(s)))):(this._ready.next(s),Br)),zr(s=>(console.error("[HLJS] ",s),Br))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return zi("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return zi("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return zi("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return zi("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(gi(e=>this._loadLanguages(e)))}return zi("Highlight.js library was not imported!")}_loadLanguages(e){const i=Object.entries(this._options.languages).map(([r,s])=>xd(s()).pipe(Tt(o=>e.registerLanguage(r,o))));return function TU(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),en(n,void 0).lift(new SU(t))}(...i).pipe(G(()=>e))}loadCoreLibrary(){return xd(this._options.coreLibraryLoader())}loadFullLibrary(){return xd(this._options.fullLibraryLoader())}loadLineNumbers(){return xd(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(N(Ht),N(Ka),N(kd,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xd=n=>ce(n).pipe(Wn(t=>!!t&&!!t.default),G(t=>t.default));let NU=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe(G(s=>s.highlight(e,{language:i,ignoreIllegals:r})))}highlightAuto(e,i){return this._loader.ready.pipe(G(r=>r.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(G(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(G(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(G(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(Tt(r=>r.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(Tt(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(Tt(r=>r.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(G(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(G(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(G(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(G(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(Wn(i=>!!i.lineNumbersBlock),Tt(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(N(LU),N(kd,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rs=(()=>{class n{constructor(e,i,r,s){this._hljs=i,this._sanitizer=r,this._options=s,this.highlighted=new Qe,this._nativeElement=e.nativeElement}ngOnChanges(e){this.code&&e?.code?.currentValue&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(r=>{this.setInnerHTML(r.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),hm.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){hm.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){hm.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(mt.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(S(Gt),S(NU),S(w0),S(kd,8))},n.\u0275dir=ye({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&pi("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[Qn]}),n})(),FU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({}),n})();function VU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class $o extends Ii{get requirements(){return"<h2>The start state requirements</h2>\n<p>Let's recap these requirements from the user perspective</p>\n<ul class=\"list inline\">\n\t<li>The Life Gauge measures Link's (the avatar) current amount of health</li>\n\t<li>Health is visually represented in the form of Hearts, and they are in fractions of 4</li>\n\t<li>The Life Gauge starts with 3 Hearts</li>\n</ul>"+this.completeRequirementListHtml+'<p>Focusing only on the domain logic I filter and reword into one requirement:</p>\n<ul class="list inline">\n\t<li>Avatar Health starts with 12 Health Points (equals to the visual representation of 3 Hearts * 4 Fractions)</li>\n</ul>\n'}redDoesNotCompileStartingValue(){return"<p>The domain model focus will be the <code>Health</code> class (not created yet), thus I create the test file and write the first test and see it fail (as the code does not compile).\n</p>"}codeTestRedDoesNotCompileStartingValue(){return"// HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void Points_HasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n"}redAfterDoesNotCompileStartingValue(){return'<p>I create and name a nested class after the <i>entry point</i> of the test (<i>entry point</i> is defined in <i>What is a good Unit Test section</i> in <a href="./blog/tdd-health/part1">Part 1</a>), thus is named <code>Constructor</code> in this case. I got the idea from post <a href="https://daedtech.com/tdd-and-modeling-a-chess-game/">TDD and modeling a chess game</a> (author Erik Dietrich) that references <a href="https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/">Structuring Unit Tests</a> (author Phil Haack).</p>\n<p>I\'m using the <a href="https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models">Constraint Model of Assertions.</a>.</p>'}redStartingValue1(){return"<p>I write the minimal production code for the compiler to compile successfully and then run the test and I want to see it fail to verify that the test is not passing when it should not.</p>"}codeTestRedStartingValue(){return"// Health.cs\npublic class Health\n{\n\tpublic int points;\n}\n"}redStartingValueImgUrl(){return"../assets/images/blog/tdd/part3/TestRunner_first-test-fails.PNG"}redStartingValueImgCaption(){return"The test runner after first test fail"}redStartingValueImg(){return'<figure>\n<img src="'+this.redStartingValueImgUrl()+'"alt="'+this.redStartingValueImgCaption()+'"title="'+this.redStartingValueImgCaption()+'"class="imageSmallText">\n<figcaption>'+this.redStartingValueImgCaption()+"</figcaption>\n</figure>"}redStartingValue2(){return"<p>Going forward I will skip demonstrating both 'red' steps and only demonstrate one and simply call it RED (although I do both steps when coding).\n\t</p>"}greenStartingValue(){return"<p>I make the test pass with this very simple implementation:</p>"}codeImplGreenStartingValue(){return"// Health.cs\npublic class Health\n{\n\tpublic int points = 12;\n}\n"}greenStartingValue1(){return"<p>It comes to mind that it's good to be able to tweak the starting points at compile time for game design balancing, thus I refactor the value to be passed as param into the constructor.</p>"}greenStartingValue2(){return'<p>\n\t\tI rename the member variable and thus the test case to current points. I name the constructor param <span class="code">startingPoints</span>.\n\t\t</p>'}codeTestRefactorStartingValue(){return"// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void CurrentPoints_HasStartingValue()\n{\n\tint startingPoints = 12;\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n"}greenStartingValue3(){return"<p>I encapsulate current points by providing a 'getter'. I want to <a href=\"https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57\">encapsulate</a> the production code so that the only exposure comes from the requirements that the TDD cycles drives (more exposure could be required in certain cases but should be kept to the bare minimum).</p>"}codeImplRefactorStartingValue(){return"// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic Health(int startingPoints)\n{\n\tCurrentPoints = startingPoints;\n}\n"}invalidStartingPoints(){return"<p>It comes to mind that invalid values can be passed into the constructor, as our avatar should never start with less than 1 points (starting up being dead is a 'no show'). I deem it appropriate that the production code throws an exception when the value is invalid and I write a test that expects this, and it expectedly fails as the throwing has not been implemented.</p>\n<p>Going forward I'll present only the code that's the focus of the current TDD step.</p>\n"}codeTestRedInvalidStartingPoints(){return'// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(), delegate\n\t\t{\n\t\t\tnew Health(0);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}redInvalidStartingPoints1(){return'<p>I deem I can use an existing system exception for this case. I choose the value <code>0</code> for the <span class="code">StartingPoints</span> param because it\'s on the edge of the invalidation (as <code>1</code> is valid).</p>'}redInvalidStartingPoints2(){return'<p>I assert that the message contains "invalid" (ignoring the case), intentionally not being more specific so the assert does not fail later because of potential rewording improvements.</p>'}testNamingConvention(){return"<h4>My test naming convention</h4>\n<p>After the <i>entry point</i> has been stated (as I've already done) the rest of the test naming should be one of the following:</p>\n<ul class=\"list\">\n\t<li>[ <i>Exit point</i> ] _ [ will be in state (after 'happy success path') ]</li>\n\t\t<ul><li>e.g. <code>CurrentPoints_HasStartingValue</code></li></ul>\n\t<li>[ <i>Exit point</i> ] _ When [ Scenario (other than 'happy success path') ]</li>\n\t<li>[ Expected behavior of <i>Unit of Work</i> ] _ When [ Scenario ]</li>\n\t<ul><li>e.g. <code>ThrowsEx_WhenStartingPointsIsInvalid</code></li></ul>\n</ul>\n<p><i>Exit point</i> and <i>Unit of Work</i> are defined in <i>What is a good Unit Test section</i> in <a href=\"./blog/tdd-health/part1\">Part 1</a>. Underscores are skipped if not allowed.</p>"}codeImplGreenInvalidStartingPoints(){return'//Health.cs\npublic int CurrentPoints { get;  private set; }\n\npublic Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), "Invalid value");\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n'}greenInvalidStartingPoints(){return"<p>I'm confident that the implementation of the <code>if</code> conditional handles all potential input values properly. However I just did the bare minimum for the exception message and I will refactor it in the next step:</p>"}codeImplRefactorInvalidStartingPoints(){return'//Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n'}refactorInvalidStartingPoints(){return"<p>\n\t\tI define <code>lowestValidValue</code> and use it both in the condition and the message. This makes the message informative and makes sure the conditional and message will always be in sync. I verify the message displays as expected (with debug breakpoint):\n\t<i>Value 0 is invalid, it should be equal or higher than 1.</i></p>"}testingMoreValues(){return"<p>I'm confident that this implementation works for any passed in param value. But I'll test a few more values to verify it and demonstrate how to do it in a maintainable way.</p>"}parameterizedRefactor1(){return"<p>I refactor the tests and add test cases where the value is close to the valid/invalid edge.</p>"}parameterizedRefactor2(){return'<p>To achieve this in a maintainable way I use <a href="https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html">Parameterized Tests</a> with inline <a href="https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html">TestCase</a> attribute.</p>'}codeTestRefactorParameterized(){return'// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(startingPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}parameterizedRefactor3(){return"<p>Now total 4 test cases are run and the test runner looks like this:</p>"}parameterizedRefactorImgUrl(){return"../assets/images/blog/tdd/part3/TestRunner_after-parameterized-refactor.PNG"}parameterizedRefactorImgCaption(){return"The test runner after parameterized refactor"}parameterizedRefactorImg(){return'<figure>\n<img src="'+this.parameterizedRefactorImgUrl()+'"alt="'+this.parameterizedRefactorImgCaption()+'"title="'+this.parameterizedRefactorImgCaption()+'"class="imageSmallText">\n<figcaption>'+this.parameterizedRefactorImgCaption()+"</figcaption>\n</figure>"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft($o)))(i||$o)}}();static#t=this.\u0275cmp=xt({type:$o,selectors:[["app-post-tdd-3"]],features:[Fe],decls:168,vars:34,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://unity.com"],["href","https://nunit.org"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html"],[1,"list","inline"],["href","https://docs.unity3d.com/Manual/Coroutines.html"],["href","./blog/tdd-health/part1"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],[1,"code"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,VU,2,1,"small",1),h(),d(11,"h2"),l(12,"Using Unity (.NET)"),h(),d(13,"p"),l(14," I will use "),d(15,"a",2),l(16,"Unity"),h(),l(17," and the "),d(18,"i"),l(19,"Test Framework"),h(),l(20," package (a Unity integration of the "),d(21,"a",3),l(22,"NUnit"),h(),l(23," framework). The whole project is on "),d(24,"a",4),l(25,"GitHub"),h(),l(26," (including the Unity and package versions). Another C# .NET and Test Runner could be used for implementing the domain logic, but I choose Unity because I'm an experienced Unity developer and could effortlessly add the graphic visuals afterwards (but I might stop this blog series without visuals and instead blog about something else).\n"),h(),d(27,"h2"),l(28,"Setup"),h(),d(29,"p"),l(30," I create a new Unity project and the update "),d(31,"i"),l(32,"Test Framework"),h(),l(33," package to latest version. The package "),d(34,"a",5),l(35,"docs"),h(),l(36," detail how to setup tests for a project.\n"),h(),d(37,"p"),l(38," My project structure starts very simple\n"),h(),d(39,"ul",6)(40,"li"),l(41,"The test code is in "),d(42,"i"),l(43,"Scripts/Tests/EditMode/ClassName]Test.cs"),h()(),d(44,"li"),l(45,"The production code is in "),d(46,"i"),l(47,"Scripts/Runtime/[ClassName].cs"),h()()(),d(48,"p"),l(49," As the folder structure implies I'm doing "),d(50,"i"),l(51,"EditMode"),h(),l(52," tests for the production "),d(53,"i"),l(54,"Runtime"),h(),l(55," code. "),d(56,"i"),l(57,"EditMode"),h(),l(58," test have access to both\n"),h(),d(59,"ul",6)(60,"li"),l(61,"the "),d(62,"i"),l(63,"Editor"),h(),l(64," code (e.g. to be able to test production code based on Unity editor code)"),h(),d(65,"li"),l(66,"the "),d(67,"i"),l(68,"Runtime"),h(),l(69," code (of the targeted platforms, e.g. iOS)."),h()(),d(70,"p"),l(71," My main reasons to prefer "),d(72,"i"),l(73,"EditMode"),h(),l(74," over "),d(75,"i"),l(76,"PlayMode"),h(),l(77," tests for "),d(78,"i"),l(79,"Runtime"),h(),l(80," code is that they run faster (as it has no runtime startup cost). Also unit testing the domain logic should not need the "),d(81,"i"),l(82,"PlayMode"),h(),l(83," features i.e. the tests should not need to run as "),d(84,"a",7),l(85,"Coroutine"),h(),l(86," to wait or step through frames. This in line with that good unit tests should run quickly (see the "),d(87,"i"),l(88,"What is a good Unit Test"),h(),l(89," section in "),d(90,"a",8),l(91,"Part 1"),h(),l(92,"). The doc "),d(93,"a",9),l(94,"EditMode vs. PlayMode tests"),h(),l(95," explains the difference further.\n"),h(),g(96,"div",10),d(97,"h2"),l(98,"Health Points starting value"),h(),d(99,"h3")(100,"span",11),l(101,"RED (does not compile)"),h()(),g(102,"div",10),d(103,"pre"),g(104,"code",12),h(),g(105,"div",10),d(106,"h3")(107,"span",11),l(108,"RED (test fails)"),h()(),g(109,"div",10),d(110,"pre"),g(111,"code",12),h(),g(112,"div",10)(113,"div",10),d(114,"h3")(115,"span",13),l(116,"GREEN"),h()(),g(117,"div",10),d(118,"pre"),g(119,"code",12),h(),d(120,"h3")(121,"span",14),l(122,"REFACTOR"),h()(),g(123,"div",10)(124,"div",10),d(125,"pre"),g(126,"code",12),h(),g(127,"div",10),d(128,"pre"),g(129,"code",12),h(),d(130,"h2"),l(131,"Handle invalid "),d(132,"span",15),l(133,"StartingPoints"),h(),l(134," values"),h(),g(135,"div",10),d(136,"h3")(137,"span",11),l(138,"RED"),h()(),g(139,"div",10),d(140,"pre"),g(141,"code",12),h(),g(142,"div",10)(143,"div",10),d(144,"h3")(145,"span",13),l(146,"GREEN"),h()(),d(147,"pre"),g(148,"code",12),h(),g(149,"div",10),d(150,"h3")(151,"span",14),l(152,"REFACTOR"),h()(),d(153,"pre"),g(154,"code",12),h(),g(155,"div",10),d(156,"h2"),l(157,"Testing more values for verification"),h(),g(158,"div",10),d(159,"h3")(160,"span",14),l(161,"REFACTOR"),h()(),g(162,"div",10)(163,"div",10),d(164,"pre"),g(165,"code",12),h(),g(166,"div",10)(167,"div",10)),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(86),E("innerHTML",i.requirements,fe),_(6),E("innerHTML",i.redDoesNotCompileStartingValue(),fe),_(2),E("highlight",i.codeTestRedDoesNotCompileStartingValue()),_(1),E("innerHTML",i.redAfterDoesNotCompileStartingValue(),fe),_(4),E("innerHTML",i.redStartingValue1(),fe),_(2),E("highlight",i.codeTestRedStartingValue()),_(1),E("innerHTML",i.redStartingValueImg(),fe),_(1),E("innerHTML",i.redStartingValue2(),fe),_(4),E("innerHTML",i.greenStartingValue(),fe),_(2),E("highlight",i.codeImplGreenStartingValue()),_(4),E("innerHTML",i.greenStartingValue1(),fe),_(1),E("innerHTML",i.greenStartingValue2(),fe),_(2),E("highlight",i.codeTestRefactorStartingValue()),_(1),E("innerHTML",i.greenStartingValue3(),fe),_(2),E("highlight",i.codeImplRefactorStartingValue()),_(6),E("innerHTML",i.invalidStartingPoints(),fe),_(4),E("innerHTML",i.redInvalidStartingPoints1(),fe),_(2),E("highlight",i.codeTestRedInvalidStartingPoints()),_(1),E("innerHTML",i.redInvalidStartingPoints2(),fe),_(1),E("innerHTML",i.testNamingConvention(),fe),_(5),E("highlight",i.codeImplGreenInvalidStartingPoints()),_(1),E("innerHTML",i.greenInvalidStartingPoints(),fe),_(5),E("highlight",i.codeImplRefactorInvalidStartingPoints()),_(1),E("innerHTML",i.refactorInvalidStartingPoints(),fe),_(3),E("innerHTML",i.testingMoreValues(),fe),_(4),E("innerHTML",i.parameterizedRefactor1(),fe),_(1),E("innerHTML",i.parameterizedRefactor2(),fe),_(2),E("highlight",i.codeTestRefactorParameterized()),_(1),E("innerHTML",i.parameterizedRefactor3(),fe),_(1),E("innerHTML",i.parameterizedRefactorImg(),fe))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function UU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class Hl extends $o{codeTestRedDoesNotCompileStartingValue(){return'// HealthTest.cpp\n#include "pch.h"\n#include "../AvatarHealth/Health.h"\n\nTEST(Constructor, PointsHasStartingValue)\n{\n\tHealth health;\n\tEXPECT_EQ(health.points, 12);\n}\n'}redAfterDoesNotCompileStartingValue(){return'<p>I name the first param in the <a href=http://google.github.io/googletest/reference/testing.html#TEST">TEST</a> macro after the <i>entry point</i> of the test (<i>entry point</i> is defined in <i>What is a good Unit Test section</i> in <a href="./blog/tdd-health/part1">Part 1</a>), thus is named <code>Constructor</code> in this case. The rest of the test case naming goes into the second param (Google Test docs states that it should not contain underscores). You can see how this lays out in the Test Explorer in the screenshots below.</p>'}redStartingValueImgUrl(){let t=super.redStartingValueImgUrl();return t.substring(0,t.length-3)+"jpg"}codeTestRedStartingValue(){return"// Health.h\n#pragma once\n\nclass Health\n{\npublic:\n\tint points;\n};\n"}codeImplGreenStartingValue(){return"// Health.h\nclass Health\n{\npublic:\n\tint points = 12;\n};\n"}codeTestRefactorStartingValue(){return"// HealthTest.cpp\nTEST(Constructor, CurrentPointsHasStartingValue)\n{\n\tauto startingPoints = 12;\n\tHealth health = Health(startingPoints);\n\tEXPECT_EQ(health.GetCurrentPoints(), startingPoints);\n}\n"}codeImplRefactorHeaderStartingValue(){return"// Health.h\n#pragma once\n\nclass Health\n{\npublic:\n\tHealth(int startingPoints);\n\tint GetCurrentPoints();\n\nprivate:\n\tint currentPoints;\n};\n"}codeImplRefactorStartingValue(){return'// Health.cpp\n#include "Health.h"\n\nHealth::Health(int startingPoints)\n{\n\tHealth::currentPoints = startingPoints;\n}\n\nint Health::GetCurrentPoints()\n{\n\treturn currentPoints;\n}\n'}codeTestRedInvalidStartingPoints(){return"// HealthTest.cpp\nTEST(Constructor, ThrowsExWhenStartingPointsIsInvalid)\n{\n\tEXPECT_THROW(\n\t\t{\n\t\t\tHealth health = Health(0);\n\t\t}, std::out_of_range);\n}\n"}codeImplGreenInvalidStartingPoints(){return'//Health.cpp\nHealth::Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow std::out_of_range(std::string("Invalid value"));\n\t}\n\n\tHealth::currentPoints = startingPoints;\n}\n'}codeImplRefactorInvalidStartingPoints(){return'//Health.cpp\n#include <format>\n\nusing namespace std;\n\nHealth::Health(int startingPoints)\n{\n\tauto lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tauto msg = format("Value {} is invalid, it should be equal or higher than {}", startingPoints, lowestValidValue);\n\t\tthrow out_of_range(msg);\n\t}\n\n\tHealth::currentPoints = startingPoints;\n}\n'}parameterizedRefactor2(){return'<p>To achieve this in a maintainable way I use the <a href=http://google.github.io/googletest/reference/testing.html#TEST">TEST_P</a> macro and define the needed structure for it:</p>'}codeTestRefactorParameterized(){return"// HealthTest.cpp\nusing namespace std;\nusing ::testing::TestWithParam;\nusing ::testing::Values;\n\nclass CurrentPointsHasStartingValues : public TestWithParam<int> { };\nINSTANTIATE_TEST_CASE_P(Constructor, CurrentPointsHasStartingValues,\n\tValues(1, 12)\n);\nTEST_P(CurrentPointsHasStartingValues, Value)\n{\n\tauto param = GetParam();\n\tHealth health = Health(param);\n\tEXPECT_EQ(health.GetCurrentPoints(), param);\n}\n\nclass ThrowsExWhenStartingPoints : public TestWithParam<int> { };\nINSTANTIATE_TEST_CASE_P(Constructor, ThrowsExWhenStartingPoints,\n\tValues(0, -1)\n);\nTEST_P(ThrowsExWhenStartingPoints, Value)\n{\n\tEXPECT_THROW(\n\t\t{\n\t\t\tHealth health = Health(GetParam());\n\t\t}, out_of_range);\n}\n"}parameterizedRefactor3(){return"<p>I try to map the naming to follow my naming convention and to display according in the test runner that now runs 4 tests in total:</p>"}parameterizedRefactorImgUrl(){let t=super.parameterizedRefactorImgUrl();return t.substring(0,t.length-3)+"jpg"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(Hl)))(i||Hl)}}();static#t=this.\u0275cmp=xt({type:Hl,selectors:[["app-post-tdd-3-cpp"]],features:[Fe],decls:165,vars:34,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://visualstudio.microsoft.com"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","http://google.github.io/googletest/"],["href","https://nunit.org"],["href","https://learn.microsoft.com/en-us/visualstudio/test/writing-unit-tests-for-c-cpp?view=vs-2022#create-a-test-project-in-visual-studio-2022"],["src","../assets/images/blog/tdd/part3/VS-new-project_GoogleTests-config.jpg","alt","Test Runner: first test fail","title","VS new project: Google Test config",1,"imageSmallText"],["href","https://learn.microsoft.com/en-us/visualstudio/test/writing-unit-tests-for-c-cpp?view=vs-2022#link-to-object-or-library-files"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],[1,"code"],["src","../assets/images/blog/tdd/part3/TestRunner_before-parameterized-refactor.jpg","alt","Test Runner: before parameterized refactor","title","Test Runner: before parameterized refactor",1,"imageSmallText"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,UU,2,1,"small",1),h(),d(11,"h2"),l(12,"Using Visual Studio"),h(),d(13,"p"),l(14," I'll use "),d(15,"a",2),l(16,"Visual Studio"),h(),l(17," (VS) and the whole project is on "),d(18,"a",3),l(19,"GitHub"),h(),l(20," (including the VS project files). I'm using the free VS "),d(21,"i"),l(22,"Community"),h(),l(23," edition which is sufficient for this blog series, but it's worth mentioning that the paid "),d(24,"i"),l(25,"Enterprise"),h(),l(26," edition includes the productivity feature "),d(27,"i"),l(28,"Live Unit Testing"),h(),l(29," which provides real-time feedback directly in the editor, which is convenient for the TDD cycles, other test related features e.g. "),d(30,"i"),l(31,"Code Coverage"),h(),l(32,". Using the "),d(33,"i"),l(34,"Community"),h(),l(35," edition I'll need to manually trigger the test run (and Code Coverage will not be the focus of this blog series).\n"),h(),d(36,"h2"),l(37,"Using Google Test"),h(),d(38,"p"),l(39," I'll use "),d(40,"a",4),l(41,"Google Test"),h(),l(42," framework as VS includes and integrates it, and doing a quick web browser comparison and research (not using Google) makes it likely to provide similar features as C# "),d(43,"a",5),l(44,"NUnit"),h(),l(45," framework (I currently have more experience in C# and NUnit and other similar frameworks).\n"),h(),d(46,"h2"),l(47,"Setup"),h(),d(48,"p"),l(49," I create a new (C++) "),d(50,"i"),l(51,"Windows Desktop Application"),h(),l(52," project naming it "),d(53,"code"),l(54,"AvatarHealth"),h(),l(55," and this also creates the solution for the project. For the unit tests I add within the solution a new (C++) "),d(56,"i"),l(57,"Google Test"),h(),l(58," project naming it "),d(59,"code"),l(60,"AvatarHealth-Test"),h(),l(61," (detailed in "),d(62,"a",6),l(63,"VS doc section"),h(),l(64,"), and configure it like the screenshot below:\n"),h(),d(65,"figure"),g(66,"img",7),d(67,"figcaption"),l(68,"VS new project: Google Test config"),h()(),d(69,"p"),l(70," To export the functions that you want to test, add the output .obj or .lib files to the dependencies of the test project detailed in this "),d(71,"a",8),l(72,"VS doc section"),h(),l(73,". "),h(),g(74,"div",9),d(75,"h2"),l(76,"Health Points starting value"),h(),d(77,"h3")(78,"span",10),l(79,"RED (does not compile)"),h()(),g(80,"div",9),d(81,"pre"),g(82,"code",11),h(),g(83,"div",9),d(84,"h3")(85,"span",10),l(86,"RED (test fails)"),h()(),g(87,"div",9),d(88,"pre"),g(89,"code",11),h(),g(90,"div",9)(91,"div",9),d(92,"h3")(93,"span",12),l(94,"GREEN"),h()(),g(95,"div",9),d(96,"pre"),g(97,"code",11),h(),d(98,"h3")(99,"span",13),l(100,"REFACTOR"),h()(),g(101,"div",9)(102,"div",9),d(103,"pre"),g(104,"code",11),h(),d(105,"p"),l(106," I create the "),d(107,"code"),l(108,"Health.cpp"),h(),l(109," file and write the implementation in it, and remove the 'green step' quick implementation (the hardcoded "),d(110,"code"),l(111,"12"),h(),l(112," value) from the "),d(113,"code"),l(114,"Health.h"),h(),l(115," header file. Going forward the header file will only contain definitions (that resolve 'red does not compile' steps) and temporary quick implementations for resolving some 'green' steps, thus the implementation will be in the "),d(116,"code"),l(117,".cpp"),h(),l(118," file.\n"),h(),d(119,"pre"),g(120,"code",11),h(),g(121,"div",9),d(122,"pre"),g(123,"code",11),h(),d(124,"h2"),l(125,"Handle invalid "),d(126,"span",14),l(127,"StartingPoints"),h(),l(128," values"),h(),g(129,"div",9),d(130,"h3")(131,"span",10),l(132,"RED"),h()(),g(133,"div",9),d(134,"pre"),g(135,"code",11),h(),g(136,"div",9),d(137,"h3")(138,"span",12),l(139,"GREEN"),h()(),d(140,"pre"),g(141,"code",11),h(),g(142,"div",9),d(143,"h3")(144,"span",13),l(145,"REFACTOR"),h()(),d(146,"pre"),g(147,"code",11),h(),g(148,"div",9),d(149,"figure"),g(150,"img",15),d(151,"figcaption"),l(152,"Test Runner: before parameterized refactor"),h()(),d(153,"h2"),l(154,"Testing more values for verification"),h(),g(155,"div",9),d(156,"h3")(157,"span",13),l(158,"REFACTOR"),h()(),g(159,"div",9)(160,"div",9),d(161,"pre"),g(162,"code",11),h(),g(163,"div",9)(164,"div",9)),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(64),E("innerHTML",i.requirements,fe),_(6),E("innerHTML",i.redDoesNotCompileStartingValue(),fe),_(2),E("highlight",i.codeTestRedDoesNotCompileStartingValue()),_(1),E("innerHTML",i.redAfterDoesNotCompileStartingValue(),fe),_(4),E("innerHTML",i.redStartingValue1(),fe),_(2),E("highlight",i.codeTestRedStartingValue()),_(1),E("innerHTML",i.redStartingValueImg(),fe),_(1),E("innerHTML",i.redStartingValue2(),fe),_(4),E("innerHTML",i.greenStartingValue(),fe),_(2),E("highlight",i.codeImplGreenStartingValue()),_(4),E("innerHTML",i.greenStartingValue1(),fe),_(1),E("innerHTML",i.greenStartingValue2(),fe),_(2),E("highlight",i.codeTestRefactorStartingValue()),_(16),E("highlight",i.codeImplRefactorHeaderStartingValue()),_(1),E("innerHTML",i.greenStartingValue3(),fe),_(2),E("highlight",i.codeImplRefactorStartingValue()),_(6),E("innerHTML",i.invalidStartingPoints(),fe),_(4),E("innerHTML",i.redInvalidStartingPoints1(),fe),_(2),E("highlight",i.codeTestRedInvalidStartingPoints()),_(1),E("innerHTML",i.testNamingConvention(),fe),_(5),E("highlight",i.codeImplGreenInvalidStartingPoints()),_(1),E("innerHTML",i.greenInvalidStartingPoints(),fe),_(5),E("highlight",i.codeImplRefactorInvalidStartingPoints()),_(1),E("innerHTML",i.refactorInvalidStartingPoints(),fe),_(7),E("innerHTML",i.testingMoreValues(),fe),_(4),E("innerHTML",i.parameterizedRefactor1(),fe),_(1),E("innerHTML",i.parameterizedRefactor2(),fe),_(2),E("highlight",i.codeTestRefactorParameterized()),_(1),E("innerHTML",i.parameterizedRefactor3(),fe),_(1),E("innerHTML",i.parameterizedRefactorImg(),fe))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function HU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class Bl extends Ii{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void CurrentPoints_Decrease()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.impl_1_Green="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic void TakeDamage(int damagePoints)\n{\n\tCurrentPoints -= damagePoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.TakeDamage(damagePoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='// Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (damagePoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {damagePoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(damagePoints), message);\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n',this.impl_2_Refactor='// Health.cs\npublic Health(int startingPoints)\n{\n\tValidatePoints(startingPoints, 1);\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1);\n\tCurrentPoints -= damagePoints;\n}\n\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\tif (points < lowestValidValue)\n\t{\n\t\tvar message = $"Value {points} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), message);\n\t}\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(Bl)))(i||Bl)}}();static#t=this.\u0275cmp=xt({type:Bl,selectors:[["app-post-tdd-4"]],features:[Fe],decls:232,vars:12,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","https://www.jetbrains.com/resharper/"],["href","https://www.jetbrains.com/help/resharper/2022.1/MemberCanBeMadeStatic.Local.html"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,HU,2,1,"small",1),h(),d(11,"h2"),l(12,"The first Taking Damage requirement"),h(),d(13,"p"),l(14," Let's recap the first requirement under "),d(15,"i"),l(16,"Taking Damage and Dying"),h(),l(17," from the user perspective:\n"),h(),d(18,"ul",2)(19,"li"),l(20,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),g(21,"br"),l(22," equal to the damage points taken (always losing at least 1 fraction)"),h()(),g(23,"div",3),d(24,"p"),l(25),h(),d(26,"ul",2)(27,"li"),l(28,"Avatar will lose Health "),d(29,"code"),l(30,"CurrentPoints"),h(),l(31," equal to Damage Points taken (always losing at last 1 Health Point)"),h()(),g(32,"div",3),d(33,"h2"),l(34,"Take Damage cycling"),h(),d(35,"h3")(36,"span",4),l(37,"RED"),h()(),d(38,"p"),l(39," I start by writing the test."),g(40,"br"),l(41," The entry point will be a new method named "),d(42,"code"),l(43,"TakeDamage"),h(),l(44,","),g(45,"br"),l(46," thus I write a nested class with same name,"),g(47,"br"),l(48," and within it I write the test case "),d(49,"code"),l(50,"CurrentPointsDecrease"),h(),g(51,"br"),l(52," (according to my naming convention, explained in "),d(53,"a",5),l(54,"Part 3"),h(),l(55,")."),g(56,"br"),h(),d(57,"pre"),g(58,"code",6),h(),d(59,"p"),l(60," The test fails as the "),d(61,"code"),l(62,"TakeDamage"),h(),l(63," method is not defined.\n"),h(),d(64,"h3")(65,"span",7),l(66,"GREEN"),h()(),d(67,"pre"),g(68,"code",6),h(),d(69,"p"),l(70," I'm confident that this effortless implementation"),g(71,"br"),l(72," fulfills the requirement for all valid inputs."),g(73,"br"),l(74," It's clean and thus does not need a "),d(75,"span",8),l(76,"REFACTOR"),h(),l(77," step."),g(78,"br"),l(79," But invalid values can be passed in, so I'll do a cycle for handling those.\n"),h(),d(80,"h2"),l(81,"Handle invalid input values"),h(),d(82,"h3")(83,"span",4),l(84,"RED"),h()(),d(85,"p"),l(86," A minus value for "),d(87,"code"),l(88,"damagePoints"),h(),l(89," is clearly invalid but what about "),d(90,"code"),l(91,"0"),h(),l(92," ?"),g(93,"br"),l(94," I conclude that "),d(95,"code"),l(96,"0"),h(),l(97," is also invalid,"),g(98,"br"),l(99," as an outside 'damage calculator' logic should take care of this earlier"),g(100,"br"),l(101," (thus "),d(102,"code"),l(103,"TakeDamage won't be invoked)"),h(),l(104,"."),g(105,"br"),l(106," This also makes the design streamlined as it ensures that"),g(107,"br"),d(108,"code"),l(109,"CurrentPoints"),h(),l(110," will always decrease on "),d(111,"code"),l(112,"TakeDamage"),h(),l(113," call."),g(114,"br")(115,"br"),l(116," This will be a similar test as the existing "),d(117,"code"),l(118,"ThrowsError_WhenStartingPointsIsInvalid"),h(),g(119,"br"),l(120," but now the "),d(121,"i"),l(122,"entry point"),h(),l(123," is method "),d(124,"code"),l(125,"TakeDamage"),h(),l(126,","),g(127,"br"),l(128," and thus it will be inside the nested class "),d(129,"code"),l(130,"TakeDamage."),h()(),d(131,"pre"),g(132,"code",6),h(),d(133,"p"),l(134," The value I pass into the constructor has no significance to this test,"),g(135,"br"),l(136," and thus is not a "),d(137,"i"),l(138,"TestCase"),h(),l(139," parameter.\n"),h(),d(140,"h3")(141,"span",7),l(142,"GREEN"),h()(),d(143,"p"),l(144,"I make the test pass by"),g(145,"br"),l(146," duplicating the exception throwing code from the constructor,"),g(147,"br"),l(148," and then renaming the parameter to "),d(149,"code"),l(150,"damagePoints"),h(),g(151,"br"),l(152," (knowing that I'll refactor this code smell right away in the next step).\n"),h(),d(153,"pre"),g(154,"code",6),h(),g(155,"br"),d(156,"h3")(157,"span",8),l(158,"REFACTOR"),h()(),d(159,"p"),l(160," I refactor the duplicated code smell away."),g(161,"br"),h(),d(162,"pre"),g(163,"code",6),h(),d(164,"p"),l(165," When exception is thrown,"),g(166,"br"),l(167," the message is followed by the stack trace in the console,"),g(168,"br"),l(169," and therefore it is sufficient that the param name will simply be "),d(170,"i"),l(171,"points"),h(),g(172,"br"),l(173," as you can follow the trace to see which method called "),d(174,"code"),l(175,"ValidatePoints"),h(),l(176,"."),g(177,"br")(178,"br"),l(179," Having "),d(180,"code"),l(181,"lowestValidValue"),h(),l(182," as sent in parameter for method "),d(183,"code"),l(184,"ValidatePoints"),h(),g(185,"br"),l(186," makes the method easy to reuse,"),g(187,"br"),l(188," if another case comes later with different "),d(189,"code"),l(190,"lowestValidValue"),h(),l(191,"."),g(192,"br")(193,"br"),d(194,"a",9),l(195,"ReSharper"),h(),l(196," hints that "),d(197,"code"),l(198,"ValidatePoints"),h(),l(199," method can be made "),d(200,"code"),l(201,"static"),h(),l(202,","),g(203,"br"),l(204," and I agree, as it doesn't hinder testability nor design (it's "),d(205,"code"),l(206,"private"),h(),l(207,")."),g(208,"br"),l(209," Making it "),d(210,"code"),l(211,"static "),h(),d(212,"a",10),l(213,"can yield a small performance benefit"),h(),l(214,"."),g(215,"br")(216,"br"),l(217," I ignore ReSharper's hint to 'invert "),d(218,"code"),l(219,"if"),h(),l(220," statement' as the current format"),g(221,"br"),l(222," is more readable IMO and the nested braces are only one-level deep."),g(223,"br")(224,"br"),l(225," I run all the tests (and also did as needed while refactoring) to verify everything works."),g(226,"br"),l(227," Now the Test Runner looks like this:\n"),h(),d(228,"figure"),g(229,"img",11),d(230,"figcaption"),l(231," Unity Test Runner: after refactoring 'ThrowsError' implementation "),h()()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(13),E("innerHTML",i.completeRequirementListHtml,fe),_(2),tt(" ",i.rewordRequirement,"\n"),_(7),E("innerHTML",i.aboutCodeHtml,fe),_(26),E("highlight",i.test_1_Red),_(10),E("highlight",i.impl_1_Green),_(64),E("highlight",i.test_2_Red),_(22),E("highlight",i.impl_2_Green),_(9),E("highlight",i.impl_2_Refactor))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function BU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class jl extends Ii{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Constructor\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = new Health(12);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.impl_1_green="// Health.cs\npublic bool IsDead => false;\n",this.test_2_red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void IsDead_AfterTwoInvocations()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(11);\n\tAssert.That(health.IsDead, Is.False);\n\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="// Health.cs\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="// Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1); // method not shown\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n}\n",this.test_4_red="// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(1, 4, 4)]\n[TestCase(1, 4, 5)]\n[TestCase(1, 4, 24)]\n[TestCase(-21, 4, 25)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.impl_4_green="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints < FullPoints\n\t\t|| CurrentPoints > damagePoints\n\t\t|| damagePoints > CurrentPoints + 20)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n\telse\n\t{\n\t\tCurrentPoints = 1;\n\t}\n}\n",this.impl_4_refactor="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints + 20)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n",this.impl_4_refactor_2="// Health.cs\npublic const int MaxNegativePointsForInstantKillProtection = -20;\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints - MaxNegativePointsForInstantKillProtection)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(jl)))(i||jl)}}();static#t=this.\u0275cmp=xt({type:jl,selectors:[["app-post-tdd-5"]],features:[Fe],decls:338,vars:17,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["href","./blog/tdd-health/part1"],[1,"list","inline"],[1,"greenRefactor"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,BU,2,1,"small",1),h(),d(11,"h2"),l(12,"The Dying requirements"),h(),d(13,"p"),l(14," Let's recap the rest of the "),d(15,"i"),l(16,"Taking Damage and Dying"),h(),l(17," requirements from the user perspective:\n"),h(),d(18,"ul",2)(19,"li"),l(20,"When Link loses all of his Hearts the game ends"),h(),d(21,"li"),l(22,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),g(23,"br"),l(24," and will instead be left alive with Hearth 1 fraction remaining"),h(),d(25,"ul")(26,"li"),l(27,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),h()()(),g(28,"div",3),d(29,"p"),l(30),h(),d(31,"ul",2)(32,"li"),l(33,"When Avatar loses all of his Health Points he dies (and game ends)"),h(),d(34,"li"),l(35,"The Avatar is protected from any damage that would instantly kill him as long as his Health Points are full"),g(36,"br"),l(37," and will instead be left alive with 1 Health Points remaining"),h(),d(38,"ul")(39,"li"),l(40,"However, if the damage is more than 20 points in addition to his full Health Points, he will still die"),h()()(),g(41,"div",3),d(42,"h2"),l(43,"Death cycling"),h(),d(44,"p"),l(45," I start cycling the first dying requirement."),g(46,"br"),l(47," The domain model focus will be a new property named "),d(48,"code"),l(49,"IsDead"),h(),l(50,".\n"),h(),d(51,"h3")(52,"span",4),l(53,"RED"),h()(),d(54,"p"),l(55," I write a new test case and it fails as "),d(56,"code"),l(57,"IsDead"),h(),l(58," is not defined.\n"),h(),d(59,"pre"),g(60,"code",5),h(),d(61,"h3")(62,"span",6),l(63,"GREEN"),h()(),d(64,"p"),l(65," I make "),d(66,"code"),l(67,"IsDead"),h(),l(68," simply return "),d(69,"code"),l(70,"false"),h(),l(71," to pass the test.\n"),h(),d(72,"pre"),g(73,"code",5),h(),d(74,"p"),l(75," I encapsulated the property into a 'getter' via "),d(76,"a",7),l(77,"Expression-Bodied Members syntax"),h(),l(78,"."),g(79,"br")(80,"br"),l(81," I know that simply returning "),d(82,"code"),l(83,"false"),h(),l(84," for "),d(85,"code"),l(86,"IsDead"),h(),l(87," will not hold as the generic solution that satisfies all cases,"),g(88,"br"),l(89," thus I'll now do a new cycle to achieve that."),g(90,"br"),h(),d(91,"h3")(92,"span",4),l(93,"RED"),h()(),d(94,"p"),l(95," Still Focusing on the first dying requirement, but also having the 'protected from instant kill' case in mind,"),g(96,"br"),l(97," I write a new test case that reduces the "),d(98,"code"),l(99,"CurrentPoints"),h(),l(100," to "),d(101,"code"),l(102,"0"),h(),l(103," after two "),d(104,"code"),l(105,"TakeDamage"),h(),l(106," invocations,"),g(107,"br"),l(108," as I know that that case should always kill the Avatar."),g(109,"br"),h(),d(110,"pre"),g(111,"code",5),h(),d(112,"p"),l(113," The "),d(114,"code"),l(115,"_After"),h(),l(116," in the name suits well for this scenario (better than "),d(117,"code"),l(118,"_When"),h(),l(119,")."),g(120,"br"),l(121," The test still checks only one exit point, although it asserts it twice."),g(122,"br"),l(123," As the test is readable, focused and meaningful,"),g(124,"br"),l(125," I'm still in line IMO with "),d(126,"i"),l(127,"What is a good Unit Test"),h(),l(128," section in "),d(129,"a",8),l(130,"Part 1"),h(),l(131,")."),g(132,"br")(133,"br"),l(134," The test fails as currently the Avatar is immortal!"),g(135,"br"),l(136," Of course that's no good, so let's fix that and make the test pass.\n"),h(),d(137,"h3")(138,"span",6),l(139,"GREEN"),h()(),d(140,"p"),l(141," I change the implementation of the "),d(142,"code"),l(143,"IsDead"),h(),l(144," property that makes the test (and the previous test) pass."),g(145,"br"),h(),d(146,"pre"),g(147,"code",5),h(),d(148,"p"),l(149," I'm confident that now I have the generic solution for this property,"),g(150,"br"),l(151," Thus I'll start a new cycle for the next requirement.\n"),h(),d(152,"h2"),l(153,"Protected from instant kill"),h(),d(154,"p"),l(155," Now focusing on the latter requirement (listed at start of this post),"),g(156,"br"),l(157," I now take further note of the concept 'full Health Points' in the requirement,"),g(158,"br"),l(159," and realize it is a definition with it's own simple requirement"),g(160,"br"),l(161," Let's cycle this, and then get back to the dying part.\n"),h(),d(162,"ul",9)(163,"li"),l(164,"Link starts with Full Health -> "),d(165,"code"),l(166,"FullPoints"),h(),l(167," start with same value as "),d(168,"code"),l(169,"startingPoints"),h()()(),d(170,"h2"),l(171,"Full Health Points cycle"),h(),d(172,"p"),l(173," The domain model focus will be a new property named "),d(174,"code"),l(175,"FullPoints"),h(),l(176,".\n"),h(),d(177,"h3")(178,"span",4),l(179,"RED"),h()(),d(180,"pre"),g(181,"code",5),h(),d(182,"p"),l(183," The test is very similar to the existing test for "),d(184,"i"),l(185,"exit point"),h(),d(186,"code"),l(187," CurrentPoints"),h(),g(188,"br"),l(189," but the key difference is that it's testing a different "),d(190,"i"),l(191,"exit point"),h(),l(192," (see "),d(193,"i"),l(194,"Good Unit Test definition"),h(),l(195," in "),d(196,"a",8),l(197,"part 1"),h(),l(198,").\n"),h(),d(199,"h3")(200,"span",6),l(201,"GREEN"),h()(),d(202,"pre"),g(203,"code",5),h(),d(204,"p"),l(205," I set "),d(206,"code"),l(207,"FullPoints"),h(),l(208," to the "),d(209,"code"),l(210,"startingPoints"),h(),l(211," parameter value (same as "),d(212,"code"),l(213,"CurrentPoints"),h(),l(214,")."),g(215,"br")(216,"br"),l(217," I also encapsulate "),d(218,"code"),l(219,"CurrentPoints"),h(),l(220," into a 'getter, private setter'."),g(221,"br")(222,"br"),l(223," This "),d(224,"code"),l(225,"FullPoints"),h(),l(226," implementation satisfies the current requirements,"),g(227,"br"),l(228," but likely will be extended on later with the Replenishing requirements."),g(229,"br"),l(230," Thus now I'll start a new cycle to fulfill the 'Protected from instant kill' requirement."),g(231,"br"),h(),d(232,"h2"),l(233,"Protected from instant kill cycling"),h(),d(234,"h3")(235,"span",4),l(236,"RED"),h()(),d(237,"pre"),g(238,"code",5),h(),d(239,"p"),l(240," I assert on the output "),d(241,"code"),l(242,"CurrentPoints"),h(),l(243," as the 'protected from instant kill' case should leave the value at "),d(244,"code"),l(245,"1"),h(),l(246,"."),g(247,"br"),l(248," The last "),d(249,"code"),l(250,"TestCase"),h(),l(251," tests the 'exception' case:"),g(252,"br"),l(253," when the damage is so much that it kills the Avatar regardless."),g(254,"br"),h(),d(255,"h3"),l(256,"Test code naming / structure convention"),h(),d(257,"p"),l(258," Elaborating further, the scenario starting with "),d(259,"code"),l(260,"_When"),h(),g(261,"br"),l(262," can continue with "),d(263,"code"),l(264,"_Then"),h(),l(265," as needed."),g(266,"br"),l(267," The whole scenario 'plays out' before the assertion / "),d(268,"i"),l(269,"exit point"),h(),l(270," check."),g(271,"br"),l(272," ("),d(273,"code"),l(274,"_Then"),h(),l(275," indicates occurring later in the internal scenario order).\n"),h(),d(276,"h2"),l(277,"Experience the value of TDD"),h(),d(278,"p"),l(279," Now the value of TDD starts to shine"),g(280,"br"),l(281," as my first attempts to make test pass failed and/or failed existing ones."),g(282,"br"),l(283," I suggest you try it out yourself before reading my "),d(284,"span",6),l(285,"GREEN"),h(),l(286," solution below.\n"),h(),d(287,"p"),l(288," Have you tried it out ?"),g(289,"br"),l(290," Great !"),g(291,"br"),l(292," Then you can compare with my solution below :)\n"),h(),d(293,"h3")(294,"span",6),l(295,"GREEN"),h()(),d(296,"pre"),g(297,"code",5),h(),d(298,"p"),l(299," I got all tests passing with this solution, but it could be cleaned up,"),g(300,"br"),l(301," thus onward to the refactoring step.\n"),h(),d(302,"h3")(303,"span",10),l(304,"REFACTOR"),h()(),d(305,"pre"),g(306,"code",5),h(),d(307,"p"),l(308," I 'flipped' the "),d(309,"code"),l(310,"if"),h(),l(311," check, which then checks for the 'protection' case,"),g(312,"br"),l(313," and returns early (instead of having "),d(314,"code"),l(315,"else"),h(),l(316,")."),g(317,"br"),l(318," This makes the code more readable and streamlined, IMO."),g(319,"br")(320,"br"),l(321," I don't like that the number "),d(322,"code"),l(323,"20"),h(),l(324," has no explanation to it ('magic' number),"),g(325,"br"),l(326," so I'll do an iteration on it.\n"),h(),d(327,"h3")(328,"span",10),l(329,"REFACTOR (2nd iteration)"),h()(),d(330,"pre"),g(331,"code",5),h(),d(332,"p"),l(333," I replaced the 'magic' number with a constant member"),g(334,"br"),l(335," and gave it a meaningful name that explains the number."),g(336,"br"),l(337," A negative value aligns with the naming of the const, so I 'flip' the value.\n"),h()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(18),E("innerHTML",i.completeRequirementListHtml,fe),_(2),tt(" ",i.rewordRequirement,"\n"),_(11),E("innerHTML",i.aboutCodeHtml,fe),_(19),E("highlight",i.test_1_red),_(13),E("highlight",i.impl_1_green),_(38),E("highlight",i.test_2_red),_(36),E("highlight",i.impl_2_green),_(34),E("highlight",i.test_3_red),_(22),E("highlight",i.impl_3_green),_(35),E("highlight",i.test_4_red),_(59),E("highlight",i.impl_4_green),_(9),E("highlight",i.impl_4_refactor),_(25),E("highlight",i.impl_4_refactor_2))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function jU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class Gl extends Ii{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(12));\n}\n",this.impl_1_green="// Health.cs\npublic void Replenish(int replenishPoints) { }\n",this.test_2_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenNotFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(2);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.test_2_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n",this.test_invalid_input_red='// HealthTest.cs\n// inside nested class Replenish\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenReplenishPointsIsInvalid(int replenishPoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.Replenish(replenishPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.test_invalid_input_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tValidatePoints(replenishPoints, 1); // method not shown\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(Gl)))(i||Gl)}}();static#t=this.\u0275cmp=xt({type:Gl,selectors:[["app-post-tdd-6"]],features:[Fe],decls:164,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["src","../assets/images/blog/tdd/TestRunner_after-replenish-tests.PNG","alt","Unity Test Runner: after adding Replenish tests","title","Unity Test Runner: after adding Replenish tests",1,"imageSmallText"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,jU,2,1,"small",1),h(),d(11,"h2"),l(12,"The requirement"),h(),d(13,"p"),l(14," Let's recap it from the user perspective:\n"),h(),d(15,"ul",2)(16,"li"),l(17,"Link's Life Gauge can be replenished by consuming certain food"),h()(),g(18,"div",3),d(19,"p"),l(20),h(),d(21,"ul",2)(22,"li"),l(23,"Avatar Health / "),d(24,"code"),l(25,"CurrentPoints"),h(),l(26," can be replenished by consuming food"),h()(),g(27,"div",3),d(28,"h2"),l(29,"Replenish cycling"),h(),d(30,"p"),l(31," The domain model focus will be a new method named "),d(32,"code"),l(33,"Replenish"),h(),l(34,"."),g(35,"br"),h(),d(36,"h3")(37,"span",4),l(38,"RED"),h()(),d(39,"p"),l(40," One case is if the player decides to make the Avatar"),g(41,"br"),l(42," use an item that replenishes when Health is full,"),g(43,"br"),l(44," a complete waste of an item as "),d(45,"code"),l(46,"CurrentPoints"),h(),l(47," don't increase,"),g(48,"br"),l(49," but a valid case regardless.\n"),h(),d(50,"pre"),g(51,"code",5),h(),d(52,"h3")(53,"span",6),l(54,"GREEN"),h()(),d(55,"p"),l(56," I effortlessly pass the test by adding an empty "),d(57,"code"),l(58,"Replenish"),h(),l(59," method.\n"),h(),d(60,"pre"),g(61,"code",5),h(),d(62,"p"),l(63," Of course this will not hold for other cases,"),g(64,"br"),l(65," so I'll cycle in more test cases to drive the implementation.\n"),h(),d(66,"h3")(67,"span",4),l(68,"RED"),h()(),d(69,"p"),l(70," Let's do a test for a more sensible valid case,"),g(71,"br"),l(72," when replenish will actually increase the "),d(73,"code"),l(74,"CurrentPoints"),h(),l(75,".\n"),h(),d(76,"pre"),g(77,"code",5),h(),d(78,"p"),l(79," I use the existing method "),d(80,"code"),l(81,"TakeDamage"),h(),l(82," to decrease the "),d(83,"code"),l(84,"CurrentPoints"),h(),g(85,"br"),l(86," before the method "),d(87,"code"),l(88,"Replenish"),h(),l(89," is invoked (the "),d(90,"i"),l(91,"entry point"),h(),l(92," of this test)."),g(93,"br"),l(94," ("),d(95,"code"),l(96,"TakeDamage"),h(),l(97," has already been tested and thus will work as expected).\n"),h(),d(98,"h3")(99,"span",6),l(100,"GREEN"),h()(),d(101,"pre"),g(102,"code",5),h(),d(103,"p"),l(104," I'm confident that this is the generic solution for any valid input"),g(105,"br"),l(106," so don't add more tests cases."),g(107,"br")(108,"br"),l(109," But I have to handle invalid input, so let's do a cycle for those.\n"),h(),d(110,"h2"),l(111,"Handle invalid input values"),h(),d(112,"h3")(113,"span",4),l(114,"RED"),h()(),d(115,"p"),l(116," As this will be similar to the 'take damage' handling,"),g(117,"br"),l(118," I copy the existing 'take damage throws error' test"),g(119,"br"),l(120," and paste it under the nested "),d(121,"code"),l(122,"Replenish"),h(),l(123," class"),g(124,"br"),l(125," and change to 'replenish' appropriately.\n"),h(),d(126,"pre"),g(127,"code",5),h(),d(128,"p"),l(129," This test case 'copy / paste' is valid"),g(130,"br"),l(131," as it's tests the same handling for a different "),d(132,"i"),l(133,"entry point"),h(),l(134," and "),d(135,"i"),l(136,"input"),h(),l(137,".\n"),h(),d(138,"h3")(139,"span",6),l(140,"GREEN"),h()(),d(141,"p"),l(142," I invoke the existing "),d(143,"code"),l(144,"ValidatePoints"),h(),l(145," method"),g(146,"br"),l(147," passing in "),d(148,"code"),l(149,"replenishPoints"),h(),l(150," and "),d(151,"code"),l(152,"1"),h(),l(153," for "),d(154,"code"),l(155,"lowestValidValue"),h()(),d(156,"pre"),g(157,"code",5),h(),d(158,"p"),l(159," Now the Unity Test Runner looks like this:\n"),h(),d(160,"figure"),g(161,"img",7),d(162,"figcaption"),l(163," Unity Test Runner: after adding Replenish tests "),h()()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(8),E("innerHTML",i.completeRequirementListHtml,fe),_(2),tt(" ",i.rewordRequirement,"\n"),_(7),E("innerHTML",i.aboutCodeHtml,fe),_(24),E("highlight",i.test_1_red),_(10),E("highlight",i.impl_1_green),_(16),E("highlight",i.test_2_red),_(25),E("highlight",i.test_2_green),_(25),E("highlight",i.test_invalid_input_red),_(30),E("highlight",i.test_invalid_input_green))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function GU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class $l extends Ii{constructor(){super(...arguments),this.refactorHealth="// Health.cs\npublic const int PointsPerUnit = 4;\npublic const int MaxNegativeUnitsForInstantKillProtection = -5;\n\npublic Health(int startingUnits)\n{\n\tValidatePoints(startingUnits, 1);\n\tFullPoints = CurrentPoints = startingUnits * PointsPerUnit;\n}\n\n// PointsPerUnit also used in InstantKillProtection calculation,\n// which is not shown.\n",this.refactorHealthTest="// HealthTest.cs\n[TestCase(3)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingUnits)\n{\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingUnits * health.PointsPerUnit));\n}\n\n// other similar refactoring not shown.\n",this.red_increaseByUnit_fullPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void FullPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.FullPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_fullPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n}\n",this.red_increaseByUnit_currentPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void CurrentPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_currentPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n",this.red_IsMaxUnitsReached="// HealthTest.cs\n// inside nested class IsMaxUnitsReached\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n\n[Test]\npublic void ReturnsFalse_WhenStartingUnitsNotAtMax()\n{\n\tint startingUnits = Health.MaxUnits - 1;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.False);\n}\n",this.green_IsMaxUnitsReached="// Health.cs\npublic const int MaxUnits = 30;\n\npublic bool IsMaxUnitsReached => MaxUnits == FullPoints / PointsPerUnit;\n",this.red_IncreaseByUnit_ThrowsError='// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void ThrowsError_WhenMaxUnitsReached()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tvar exception = Assert.Throws(Is.TypeOf<InvalidOperationException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.IncreaseByUnit();\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.green_IncreaseByUnit_ThrowsError='// Health.cs\npublic void IncreaseByUnit()\n{\n\tif (IsMaxUnitsReached)\n\t{\n\t\tvar message = $"Method invocation is invalid as {nameof(IsMaxUnitsReached)} is true";\n\t\tthrow new InvalidOperationException(message);\n\t}\n\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft($l)))(i||$l)}}();static#t=this.\u0275cmp=xt({type:$l,selectors:[["app-post-tdd-7"]],features:[Fe],decls:440,vars:16,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list","inline"],[3,"innerHTML"],[1,"center"],[1,"greenRefactor"],[3,"highlight"],[1,"redFail"],[1,"greenPass"],["href","./blog/tdd-health/part1"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["src","../assets/images/blog/tdd/TestRunner_after-increase-tests.png","alt","Unity Test Runner: after Increase and Max requirements","title","Unity Test Runner: after Increase and Max requirements",1,"imageSmallText"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,GU,2,1,"small",1),h(),d(11,"h2"),l(12,"The requirements"),h(),d(13,"p"),l(14," Let's recap this requirements from the user perspective:\n"),h(),d(15,"ul",2)(16,"li"),l(17,"The Life Gauge can be increased by 1 Heart at a time"),h(),d(18,"ul")(19,"li"),l(20,"Link's health will become full with the increase"),h()(),d(21,"li"),l(22,"The maximum of Hearts is 30"),h()(),d(23,"p"),l(24,"\nIncreasing the Health is a significant gameplay event In "),d(25,"i"),l(26,"Breath of the Wild"),h(),g(27,"br"),l(28,"\n(solving puzzles in shrines to get Spirit Orbs, then find and pray to a Goddess Statue),"),g(29,"br"),l(30,"\nand thus the increase is always 1 Heart each time, no more or less.\n"),h(),g(31,"div",3),d(32,"p"),l(33," Now it makes sense to define a new unit in "),d(34,"code"),l(35,"Health"),h(),l(36," that equals 4 "),d(37,"code"),l(38,"Points,"),h(),g(39,"br"),l(40,"\nthat is visually represented as a Heart (or something else),"),g(41,"br"),l(42," as the increase should always be in that unit."),g(43,"br"),h(),d(44,"h2"),l(45,"Domain / View mapping (revisited)"),h(),d(46,"p"),l(47," I add a new domain definition "),d(48,"i"),l(49,"Unit"),h(),l(50," that maps to the visualized "),d(51,"i"),l(52,"Heart"),h()(),d(53,"table")(54,"tr")(55,"th")(56,"b"),l(57,"Domain Model"),h()(),d(58,"th")(59,"b"),l(60,"View / GUI"),h()()(),d(61,"tr")(62,"td",4),l(63," (Avatar) Health "),h(),d(64,"td",4),l(65," Life Gauge "),h()(),d(66,"tr")(67,"td",4)(68,"b")(69,"i"),l(70,"Unit"),h()()(),d(71,"td",4),l(72," Heart (holds 4 Fractions) "),h()(),d(73,"tr")(74,"td",4),l(75," Points "),h(),d(76,"td",4),l(77," Heart Fractions "),h()()(),d(78,"p"),l(79,"\nWith "),d(80,"i"),l(81,"Unit"),h(),l(82," defined, I realize that it's beneficial to redefine some 'points' variables into 'unit':"),g(83,"br"),h(),d(84,"ul",2)(85,"li")(86,"code"),l(87,"startingPoints"),h(),l(88," -> "),d(89,"code"),l(90,"startingUnits"),h()(),d(91,"ul")(92,"li"),l(93,"In "),d(94,"i"),l(95,"Breath of the Wild"),h(),l(96," Link starts with 3 "),d(97,"code"),l(98,"Units"),h(),l(99,", thus fits the "),d(100,"code"),l(101,"Units"),h(),l(102," constraint"),h(),d(103,"li"),l(104,"This is also a very reasonable game-balance constraint, and will simplify the logic"),h(),d(105,"li"),l(106,"Note that for "),d(107,"code"),l(108,"FullPoints"),h(),l(109,", it makes sense to stay as points"),g(110,"br"),l(111," but will always be equivalent to a whole Unit/s, due to its requirements (via 'starting' and 'increasing')"),h()(),d(112,"li")(113,"code"),l(114,"MaxNegativePointsForInstantKillProtection"),h(),l(115," -> "),d(116,"code"),l(117,"MaxNegativeUnits..."),h()(),d(118,"ul")(119,"li"),l(120,"In "),d(121,"i"),l(122,"Breath of the Wild"),h(),l(123," it is 5 "),d(124,"code"),l(125,"Units"),h(),l(126,", thus fits the "),d(127,"code"),l(128,"Units"),h(),l(129," constraint"),h(),d(130,"li"),l(131,"This is also a very reasonable game-balance constraint, and will simplify the logic"),h()()(),d(132,"p"),l(133,"\nNow let's reword the requirements focusing on the domain model and using its updated terminology:\n"),h(),d(134,"ul",2)(135,"li")(136,"code"),l(137,"FullPoints"),h(),l(138," can be increased by 1 "),d(139,"code"),l(140,"Unit"),h(),l(141," at a time"),h(),d(142,"ul")(143,"li")(144,"code"),l(145,"CurrentPoints"),h(),l(146," get same value as "),d(147,"code"),l(148,"FullPoints"),h()()(),d(149,"li")(150,"code"),l(151,"MaxUnits"),h(),l(152," (hereby named) is 30"),h()(),g(153,"div",3),d(154,"h2"),l(155,"A wholistic refactoring"),h(),d(156,"p"),l(157,"\nWhen doing a wholistic refactoring with a clear goal,"),g(158,"br"),l(159,"it might make more sense to start with the production code, as is the case now.\n"),h(),d(160,"h3")(161,"span",5),l(162,"Refactor "),d(163,"code"),l(164,"Health"),h()()(),d(165,"p"),l(166,"\nI forsee that it will be beneficial to define a new constant "),d(167,"code"),l(168,"PointsPerUnits"),h(),l(169," in "),d(170,"code"),l(171,"Health"),h(),l(172," to make points <-> units conversation easy and readable."),g(173,"br"),l(174,"\nI then rename the variable names and convert the values using "),d(175,"code"),l(176,"PointsPerUnits"),h()(),d(177,"pre"),g(178,"code",6),h(),d(179,"h3")(180,"span",5),l(181,"Refactor "),d(182,"code"),l(183,"HealthTest"),h()()(),d(184,"p"),l(185,"\nNow obviously many tests "),d(186,"span",7),l(187,"fail"),h(),l(188," as the values need to converted to units."),g(189,"br"),l(190,"\nI rename accordingly and convert the values, using "),d(191,"code"),l(192,"PointsPerUnits"),h(),l(193," where appropriate."),g(194,"br"),h(),d(195,"pre"),g(196,"code",6),h(),d(197,"p"),l(198,"\nNow all the tests "),d(199,"span",5),l(200,"pass"),h(),l(201," again, and all is well in the universe.\n"),h(),d(202,"h2"),l(203,"TDD Cycling "),d(204,"code"),l(205,"IncreaseByUnit"),h()(),d(206,"p"),l(207," The domain model focus will be a new method named "),d(208,"code"),l(209,"IncreaseByUnit"),h(),l(210,"."),g(211,"br"),h(),d(212,"h3")(213,"span",7),l(214,"RED (exit point "),d(215,"code"),l(216,"FullPoints"),h(),l(217,")"),h()(),d(218,"p"),l(219," Focusing first on the "),d(220,"code"),l(221,"FullPoints"),h(),l(222," property.\n"),h(),d(223,"pre"),g(224,"code",6),h(),d(225,"h3")(226,"span",8),l(227,"GREEN"),h()(),d(228,"p"),l(229," I pass the test by using the defined constant "),d(230,"code"),l(231,"PointsPerUnit"),h()(),d(232,"pre"),g(233,"code",6),h(),d(234,"p"),l(235," Now I focus on the other "),d(236,"i"),l(237,"exit point"),h(),l(238,", the "),d(239,"code"),l(240,"CurrentPoints"),h(),l(241," property."),g(242,"br"),l(243," It ideally should be a new tests as it's about a different "),d(244,"i"),l(245,"exit point"),h(),g(246,"br"),l(247," (see Good Unit Test definition in "),d(248,"a",9),l(249,"part 1"),h(),l(250,").\n"),h(),d(251,"h3")(252,"span",7),l(253,"RED (exit point "),d(254,"code"),l(255,"CurrentPoints"),h(),l(256,")"),h()(),d(257,"pre"),g(258,"code",6),h(),d(259,"h3")(260,"span",8),l(261,"GREEN"),h()(),d(262,"pre"),g(263,"code",6),h(),d(264,"p"),l(265,"\nI simply add the line "),d(266,"code"),l(267,"CurrentPoints = FullPoints"),h(),l(268,","),g(269,"br"),l(270,"\nwhich is also the proper solution as the requirement is:"),g(271,"br"),l(272,"\n'"),d(273,"code"),l(274,"CurrentPoints"),h(),l(275," get same value as "),d(276,"code"),l(277,"FullPoints"),h(),l(278," (on increase)'.\n"),h(),d(279,"h2"),l(280,"Cycling the maximum"),h(),d(281,"p"),l(282,"\nAll that is left is the maximum requirement."),g(283,"br"),l(284,"\nThe game will only give the user the option to increase the health"),g(285,"br"),l(286,"\nif the "),d(287,"code"),l(288,"MaxUnits"),h(),l(289," has not been reached (and it costs 4 "),d(290,"i"),l(291,"Spirit Orbs"),h(),l(292,"),"),g(293,"br"),l(294,"\nThus the outside code should query "),d(295,"code"),l(296,"Health"),h(),l(297," if maximum has been reached,"),g(298,"br"),l(299,"\nand if not, only then invoke "),d(300,"code"),l(301,"IncreaseByUnit"),h(),l(302,"."),g(303,"br"),d(304,"code"),l(305,"IncreaseByUnit"),h(),l(306," should though also handle improper usage in this regard,"),g(307,"br"),l(308,"\nand I'll add this handling at the end of this post.\n"),h(),d(309,"h3")(310,"span",7),l(311,"RED"),h()(),d(312,"p"),l(313," The "),d(314,"i"),l(315,"entry point"),h(),l(316," will be a new property named "),d(317,"code"),l(318,"IsMaxUnitsReached"),h(),l(319,"."),g(320,"br"),h(),d(321,"pre"),g(322,"code",6),h(),d(323,"p"),l(324,"\nI added 2 test easily at the same time,"),g(325,"br"),l(326,"\nwhich should suffice to drive in the proper production implementation."),g(327,"br")(328,"br"),l(329,"\nHere I can concise the test names"),g(330,"br"),l(331,"\nas the "),d(332,"i"),l(333,"exit point"),h(),l(334," is the same as the "),d(335,"i"),l(336,"entry point"),h(),l(337,","),g(338,"br"),l(339,"\nthus I skip the "),d(340,"i"),l(341,"exit point"),h(),l(342," in the name (nested class already names it)."),g(343,"br")(344,"br"),l(345,"\nThere are compile errors as both"),g(346,"br"),d(347,"code"),l(348,"MaxFullPoints"),h(),l(349," and "),d(350,"code"),l(351,"IsMaxUnitsReached"),h(),l(352," are not defined.\n"),h(),d(353,"h3")(354,"span",8),l(355,"GREEN"),h()(),d(356,"pre"),g(357,"code",6),h(),d(358,"p"),l(359,"\nI define the constant and give it the proper value,"),g(360,"br"),l(361,"\nand I implement the read-only property as an "),d(362,"a",10),l(363,"Expression-Bodied Member"),h(),l(364,"."),g(365,"br"),h(),d(366,"h2"),l(367,"Handle improper usage of "),d(368,"code"),l(369,"IncreaseByUnit"),h()(),d(370,"p"),l(371,"\nIf the outside code invokes "),d(372,"code"),l(373,"IncreaseByUnit"),h(),l(374," when "),d(375,"code"),l(376,"IsMaxUnitsReached"),h(),l(377," is "),d(378,"code"),l(379,"true"),h(),l(380,","),g(381,"br"),l(382,"\nthe method should handle this improper usage.\n"),h(),d(383,"h3")(384,"span",7),l(385,"RED"),h()(),d(386,"pre"),g(387,"code",6),h(),d(388,"p"),l(389," I deem I can use existing "),d(390,"code"),l(391,"InvalidOperationException"),h(),l(392," from "),d(393,"code"),l(394,"System"),h(),l(395,","),g(396,"br"),l(397," if I include an informative message for my case."),g(398,"br")(399,"br"),l(400," I assert that the message contains string "),d(401,"i"),l(402,"invalid"),h(),l(403,", ignoring case."),g(404,"br"),l(405," I'm intentionally not being more specific"),g(406,"br"),l(407," to later minimize the chance the assert fails if the message is reworded."),g(408,"br"),l(409," This simple "),d(410,"i"),l(411,"Resistance to refactoring"),h(),l(412," makes this a better unit test."),g(413,"br"),l(414," (book "),d(415,"a",10),l(416,"Unit Testing Principles, Practices, and Patterns"),h(),l(417," by Vladimir Khorikov,"),g(418,"br"),l(419," lists "),d(420,"i"),l(421,"Resistance to refactoring"),h(),l(422," as one of the 4 pillars of good unit test).\n"),h(),d(423,"h3")(424,"span",8),l(425,"GREEN"),h()(),d(426,"pre"),g(427,"code",6),h(),d(428,"p"),l(429," I pass the test by adding the "),d(430,"i"),l(431,"if"),h(),l(432," condition at the start of the method."),g(433,"br")(434,"br"),l(435," Now the requirements hao been fulfilled and the Unity Test Runner looks like this:\n"),h(),d(436,"figure"),g(437,"img",11),d(438,"figcaption"),l(439," Unity Test Runner: after Increase and Max requirements "),h()()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(21),E("innerHTML",i.completeRequirementListHtml,fe),_(122),E("innerHTML",i.aboutCodeHtml,fe),_(25),E("highlight",i.refactorHealth),_(18),E("highlight",i.refactorHealthTest),_(28),E("highlight",i.red_increaseByUnit_fullPointsIncrease),_(9),E("highlight",i.green_increaseByUnit_fullPointsIncrease),_(25),E("highlight",i.red_increaseByUnit_currentPointsIncrease),_(5),E("highlight",i.green_increaseByUnit_currentPointsIncrease),_(59),E("highlight",i.red_IsMaxUnitsReached),_(35),E("highlight",i.green_IsMaxUnitsReached),_(30),E("highlight",i.red_IncreaseByUnit_ThrowsError),_(40),E("highlight",i.green_IncreaseByUnit_ThrowsError))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function $U(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class zl extends Ii{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, int.MinValue, -1)]\n\t\t[TestCase(-1, int.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, int.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, int.MinValue, -1)]\n\t\t[TestCase(1, int.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t{\n\t\tvar message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == int.MaxValue ? lowestValidV : highestValidV;\n\n\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingUnits, 1);\n\tStartingUnits = ProcessValidation(v, nameof(StartingUnits));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativeUnitsForInstantKillProtection, int.MinValue, -1);\n\tMaxNegativeUnitsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativeUnitsForInstantKillProtection));\n\n\tv = Validation.Validate(MaxUnits, StartingUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string fieldName)\n{\n\tif (!validation.IsValid)\n\t{\n\t\tDebug.LogWarning(validation.FailMessage + $\", for '{fieldName}'. Will set value to {validation.Value}.\");\n\t}\n\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.healthRefactor="// Health.cs\nprivate readonly GameConfig config;\n\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit => config.PointsPerUnit;\npublic int MaxUnits => config.MaxUnits;\npublic int MaxNegativeUnitsForInstantKillProtection => config.MaxNegativeUnitsForInstantKillProtection;\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tvar config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(zl)))(i||zl)}}();static#t=this.\u0275cmp=xt({type:zl,selectors:[["app-post-tdd-8"]],features:[Fe],decls:453,vars:15,consts:[[1,"byAndDate"],[4,"ngIf"],["href","./blog/tdd-health/part1"],[1,"list","inline"],["href","https://docs.unity3d.com/Manual/class-ScriptableObject.html"],[3,"highlight"],["src","../assets/images/blog/tdd/MenuItem_GameConfigInstance.png","alt","Create Game Config Instance via menu item","title","Create Game Config Instance via menu item",1,"imageSmallText"],["src","../assets/images/blog/tdd/Inspector_GameConfigInstance.png","alt","Game Config Instance via the Inspector window","title","Game Config Instance via the Inspector window",1,"imageSmallText"],[1,"redFail"],[1,"greenPass"],["src","../assets/images/blog/tdd/Unity_config-validation.gif","alt","Unity: Config Validation in the Inspector and Console","title","Unity: Config Validation in the Inspector and Console",1,"imageSmallText"],["src","../assets/images/blog/tdd/Unity_MaxUnits-validation.gif","alt","Unity: MaxUnits Validation in the Inspector and Console","title","Unity: MaxUnits Validation in the Inspector and Console",1,"imageSmallText"],[1,"greenRefactor"],["src","../assets/images/blog/tdd/TestRunner_after-config-added.png","alt","Test Runner after config added and used","title","Test Runner after config added and used",1,"imageSmallText"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,$U,2,1,"small",1),h(),d(11,"h2"),l(12,"The game balancing config"),h(),d(13,"p"),l(14,"\nThe thought came early (in "),d(15,"a",2),l(16,"part 3"),h(),l(17,") that a game balance config for values like "),d(18,"code"),l(19,"StartingUnits"),h(),l(20,","),g(21,"br"),l(22,"\nwould be valuable to have for balancing out during the development period."),g(23,"br"),l(24,"\nThe config should be accessible and validate the values (ideally immediately when changed),"),g(25,"br"),l(26,"\nand then later at runtime be injected to the "),d(27,"code"),l(28,"Health"),h(),l(29," instance."),g(30,"br"),l(31,"\nThere are other values in "),d(32,"code"),l(33,"Health"),h(),l(34," that are suitable, thus the config will include:\n"),h(),d(35,"ul",3)(36,"li")(37,"code"),l(38,"StartingUnits"),h()(),d(39,"li")(40,"code"),l(41,"PointsPerUnit"),h()(),d(42,"li")(43,"code"),l(44,"MaxUnits"),h()(),d(45,"li")(46,"code"),l(47,"MaxNegativeUnitsForInstantKillProtection"),h()()(),d(48,"h2"),l(49,"Using "),d(50,"code"),l(51,"ScriptableObject"),h()(),d(52,"p"),l(53,"\nAssuming that the game designer can do basic work in Unity and the version control system,"),g(54,"br"),l(55,"\nwe can keep the config solution completely within Unity."),g(56,"br"),l(57,"\nI'll thus base it on Unity's "),d(58,"a",4),l(59,"ScriptableObject"),h(),l(60,","),g(61,"br"),l(62,"\na data container that can be used to save large amounts of data."),g(63,"br"),l(64,"\nI create folder "),d(65,"i"),l(66,"ScriptableObjects/"),h(),l(67," at "),d(68,"i"),l(69,"Assets/Scripts/Runtime/"),h(),l(70," and create script "),d(71,"code"),l(72,"GameConfig"),h(),l(73," within it.\n"),h(),d(74,"pre"),g(75,"code",5),h(),d(76,"p"),l(77,"\nI create another folder "),d(78,"i"),l(79,"ScriptableObjectsInstances/"),h(),l(80," at "),d(81,"i"),l(82,"Assets/"),h(),g(83,"br"),l(84,"\nand because of the code above I can now right click on the folder / click at "),d(85,"i"),l(86,"Assets"),h(),l(87," at top menu,"),g(88,"br"),l(89,"\nand select menu item "),d(90,"i"),l(91,"Create > Avatar Health > Create GameConfig Instance"),h(),l(92,"."),g(93,"br"),l(94,"\nAs the name applies this creates a scriptable object instance based on the "),d(95,"code"),l(96,"GameConfig"),h(),l(97," class 'template'."),g(98,"br"),l(99,"\nI use the given default filename "),d(100,"code"),l(101,"GameConfigInstance"),h(),l(102," (file ends with "),d(103,"i"),l(104,".asset"),h(),l(105,").\n"),h(),d(106,"figure"),g(107,"img",6),d(108,"figcaption"),l(109,"Create GameConfig Instance via menu item"),h()(),d(110,"p"),l(111," I can now view and edit the "),d(112,"i"),l(113,"Game Config Instance"),h(),l(114," via the Inspector window.\n"),h(),d(115,"figure"),g(116,"img",7),d(117,"figcaption"),l(118,"Game Config Instance via the Inspector window"),h()(),d(119,"p"),l(120," I can change the values as I see fit and the change will be saved on the instance."),g(121,"br"),l(122," But there is no domain validation for the values, so I TDD cycle it.\n"),h(),d(123,"h2"),l(124,"TDD-ing the validation"),h(),d(125,"p"),l(126," Unit testing logic in scriptable objects can quickly become complicated."),g(127,"br"),l(128," For this reason, and also for Reusability and Separation of Concern,"),g(129,"br"),l(130," I will implement the generic validation logic in a utility class which will be easy to TDD."),g(131,"br"),l(132," Then I'll make the config process the validation using the utility logic.\n"),h(),d(133,"h3")(134,"span",8),l(135,"RED"),h()(),d(136,"p"),l(137," I create the folder "),d(138,"i"),l(139,"Utils"),h(),l(140," in the test folder"),g(141,"br"),l(142," ("),d(143,"i"),l(144,"Assets/Scripts/Tests/EditMode/"),h(),l(145,") and create script "),d(146,"code"),l(147,"ValidationTest"),h(),l(148," within it."),g(149,"br"),l(150," I take into consideration the requirements for both the config"),g(151,"br"),l(152," and the other validations that "),d(153,"code"),l(154,"Health"),h(),l(155," does, and then write the tests. "),h(),d(156,"pre"),g(157,"code",5),h(),d(158,"p"),l(159,"\nI wrote tests for all meaningful cases based on the requirements in one step."),g(160,"br"),l(161,"\nThe validation logic returns a tuple:\n"),h(),d(162,"pre"),g(163,"code",5),h(),d(164,"p"),l(165,"\nThe using code should then decide what to do.\n"),h(),d(166,"h3")(167,"span",9),l(168,"GREEN"),h()(),d(169,"p"),l(170,"\nI mirror the location of the test, thus create the folder "),d(171,"i"),l(172,"Utils"),h(),l(173," in the production code folder ("),d(174,"i"),l(175,"Assets/Scripts/Runtime/"),h(),l(176,") and create script "),d(177,"code"),l(178,"Validation"),h(),l(179," within it."),g(180,"br"),l(181,"\nI implement it gradually until I get all the tests passing.\n"),h(),d(182,"pre"),g(183,"code",5),h(),d(184,"h2"),l(185,"Processing the validation in the config"),h(),d(186,"p"),l(187,"\nI want to make sure the validation can't be bypassed"),g(188,"br"),l(189,"\nthus I'll prevent the game designer from saving invalid values to the config,"),g(190,"br"),l(191,"\nand provide some message in the Unity editor when an invalid value is corrected.\n"),h(),d(192,"pre"),g(193,"code",5),h(),d(194,"p"),l(195,"\nI use "),d(196,"code"),l(197,"OnValidate"),h(),l(198,", a editor-only function that Unity calls when the script is loaded or a value changes in the Inspector"),g(199,"br"),l(200,"\n(part of the "),d(201,"a",4),l(202,"ScriptableObject"),h(),l(203,").\n"),h(),d(204,"h2"),l(205,"The validation at work"),h(),d(206,"figure"),g(207,"img",10),d(208,"figcaption"),l(209,"Unity: Config Validation in the Inspector and Console"),h()(),d(210,"p"),l(211," As the gif shows above, the logic accepts valid values (the first one)"),g(212,"br"),l(213," but prevents invalid values being set by reverting to the valid 'edge' value, and logging a message to the Console."),g(214,"br"),h(),d(215,"ul",3)(216,"li"),l(217,"reverts to "),d(218,"code"),l(219,"1"),h(),l(220," for "),d(221,"code"),l(222,"StartingUnits"),h()(),d(223,"li"),l(224,"reverts to "),d(225,"code"),l(226,"2"),h(),l(227," for "),d(228,"code"),l(229,"PointsPerUnit"),h()(),d(230,"li"),l(231,"reverts to "),d(232,"code"),l(233,"-1"),h(),l(234," for "),d(235,"code"),l(236,"MaxNegativePointsForInstantKillProtection"),h()()(),d(237,"p"),l(238," Below is the gif for the "),d(239,"code"),l(240,"MaxUnits"),h(),l(241," validation.\n"),h(),d(242,"figure"),g(243,"img",11),d(244,"figcaption"),l(245,"Unity: MaxUnits Validation in the Inspector and Console"),h()(),d(246,"p")(247,"code"),l(248,"MaxUnits"),h(),l(249," validation is based on the values of "),d(250,"code"),l(251,"StartingUnits"),h(),g(252,"br"),l(253," thus "),d(254,"code"),l(255,"MaxUnits"),h(),l(256," can become invalid when "),d(257,"code"),l(258,"StartingUnits"),h(),l(259," is set to a valid value,"),g(260,"br"),l(261," (as the latter half of the gif conveys)."),g(262,"br"),l(263," The logged message in the Console clarifies this occurrence.\n"),h(),d(264,"h2"),l(265,"Make "),d(266,"code"),l(267,"Health"),h(),l(268," use the config"),h(),d(269,"p"),l(270,"\nI want "),d(271,"code"),l(272,"Health"),h(),l(273," to use the config"),g(274,"br"),l(275,"\nand not provide another way to inject those values,"),g(276,"br"),l(277,"\nthus I don't need to validate those values again in "),d(278,"code"),l(279,"Health"),h(),l(280,"."),g(281,"br"),l(282,"\n(I have ownership of the config code and"),g(283,"br"),l(284,"\nI am confident that its validation will always work as expected)."),g(285,"br")(286,"br"),l(287,"\nI will refactor the health code in the steps presented below."),g(288,"br"),l(289,"\nThis is about a design change in the production code (wholistic refactoring),"),g(290,"br"),l(291,"\nand it this case it makes more sense to start with the production code.\n"),h(),d(292,"h3")(293,"span",12),l(294,"Refactor "),d(295,"code"),l(296,"Health"),h()()(),d(297,"pre"),g(298,"code",5),h(),d(299,"p"),l(300,"\nI inject the "),d(301,"code"),l(302,"GameConfig"),h(),l(303," instance into the constructor,"),g(304,"br"),l(305,"\nand store it in a member and then access the values from the member."),g(306,"br"),l(307,"\nThe member is "),d(308,"code"),l(309,"private readonly"),h(),l(310," and thus encapsulated and immutable within the class."),g(311,"br"),l(312,"\nI remove the old "),d(313,"code"),l(314,"startingUnits"),h(),l(315," validation (as the config is already validated)."),g(316,"br"),h(),d(317,"pre"),g(318,"code",5),h(),d(319,"p"),l(320,"\nI refactor these constants into read-only properties,"),g(321,"br"),l(322,"\ngetting the value from the config."),g(323,"br"),l(324,"\nThis way the config values can't be set via the "),d(325,"code"),l(326,"Health"),h(),l(327," instance (encapsulation).\n"),h(),d(328,"h3")(329,"span",12),l(330,"Refactor "),d(331,"code"),l(332,"HealthTest"),h()()(),d(333,"p"),l(334," Now many tests will "),d(335,"span",8),l(336,"fail"),h(),l(337,","),g(338,"br"),l(339," mainly because they are not injecting the config into the constructor."),g(340,"br"),l(341," Let's refactor and fix them.\n"),h(),d(342,"pre"),g(343,"code",5),h(),d(344,"p"),l(345,"\nI create these helper methods above."),g(346,"br")(347,"br"),d(348,"code"),l(349,"MakeConfig"),h(),l(350," creates the config"),g(351,"br"),l(352,"\nand sets the "),d(353,"code"),l(354,"startingUnits"),h(),l(355," via parameter."),g(356,"br"),l(357,"\nIt also sets the other values for better "),d(358,"i"),l(359,"Resistance to refactoring"),h(),g(360,"br"),l(361,"\n(the tests will still work if the default values are changed in the scriptable object)."),g(362,"br")(363,"br"),d(364,"code"),l(365,"MakeHealth"),h(),l(366," creates and return a "),d(367,"code"),l(368,"Health"),h(),l(369," instance (using "),d(370,"code"),l(371,"MakeConfig"),h(),l(372,")."),g(373,"br")(374,"br"),l(375,"\nFor most tests it is sufficient to swap the "),d(376,"code"),l(377,"MakeHeath"),h(),g(378,"br"),l(379,"\nfor the "),d(380,"code"),l(381,"new Health"),h(),l(382," construction, as shown below"),g(383,"br"),l(384,"\n(one command execution with the IDE).\n"),h(),d(385,"pre"),g(386,"code",5),h(),d(387,"p"),l(388,"\nThere are 3 tests that refer to "),d(389,"code"),l(390,"maxUnits"),h(),l(391," to set up "),d(392,"code"),l(393,"StartingUnits"),h(),l(394," the the test."),g(395,"br"),l(396,"\nThese tests use "),d(397,"code"),l(398,"MakeConfig"),h(),l(399," directly and then create the "),d(400,"code"),l(401,"Health"),h(),l(402," instance."),g(403,"br"),h(),d(404,"pre"),g(405,"code",5),h(),d(406,"p"),l(407,"\nNow only test "),d(408,"code"),l(409,"ThrowsError_WhenStartingPointsIsInvalid"),h(),d(410,"span",8),l(411," fails"),h(),l(412,"."),g(413,"br"),l(414,"\nI remove it as I'm no longer validating "),d(415,"code"),l(416,"StartingUnits"),h(),l(417," in "),d(418,"code"),l(419,"Health"),h(),l(420,"."),g(421,"br"),l(422,"\nNow all the tests "),d(423,"span",9),l(424,"pass"),h(),l(425," again.\n"),h(),d(426,"h2"),l(427,"Reuse the utility "),d(428,"code"),l(429,"Validation"),h()(),d(430,"p"),l(431," Since now I have a utility "),d(432,"code"),l(433,"Validation"),h(),l(434," class"),g(435,"br"),l(436," I want to reuse it in the "),d(437,"code"),l(438,"Health"),h(),l(439," methods,"),g(440,"br"),l(441," thus I refactor the "),d(442,"code"),l(443,"ValidatePoints"),h(),l(444," method:\n"),h(),d(445,"pre"),g(446,"code",5),h(),d(447,"p"),l(448,"Now the config has been added and used, the Unity Test Runner looks like this:"),h(),d(449,"figure"),g(450,"img",13),d(451,"figcaption"),l(452,"Test Runner after config added and used"),h()()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate),_(65),E("highlight",i.gameConfigCs),_(82),E("highlight",i.redValidationTest),_(6),E("highlight",i.validationReturn),_(20),E("highlight",i.greenValidation),_(10),E("highlight",i.hookValidationIntoConfig),_(105),E("highlight",i.healthRefactor),_(20),E("highlight",i.healthRefactor1),_(25),E("highlight",i.healthTestRefactor),_(43),E("highlight",i.healthTestRefactorMostCases),_(19),E("highlight",i.healthTestUseMakeConfig),_(41),E("highlight",i.healthReuseValidation))},dependencies:[Sn,Rs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function zU(n,t){if(1&n&&(d(0,"small"),l(1),h()),2&n){const e=Pe();_(1),tt(" updated on ",e.updatedDateToString," ")}}class Wl extends Ii{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\nusing System;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, Int32.MinValue, -1)]\n\t\t[TestCase(-1, Int32.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = Int32.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, Int32.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, Int32.MinValue, -1)]\n\t\t[TestCase(1, Int32.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\nusing System;\n\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = Int32.MaxValue)\n\t{\n\t\tstring message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == Int32.MaxValue ? lowestValidV : highestValidV;\n\t\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar validation = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(validation, nameof(StartingPoints));\n\n\tvalidation = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(validation, nameof(PointsPerUnit));\n\n\tvalidation = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(validation, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tvalidation = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(validation, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string propertyName)\n{\n\tif (!validation.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(validation.FailMessage + $\", for '{propertyName}'. Will set value to {validation.Value}.\");\n\t\t}\n\t\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.hookingValidationInConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(v, nameof(StartingPoints));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tv = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) v, string fieldName)\n{\n\tif (!v.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(v.FailMessage + $\", for '{fieldName}'. Will set value to {v.Value}.\");\n\t\t}\n\t\treturn v.Value;\n}\n",this.healthRefactor="// Health.cs\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit\n{\n\tget { return config.PointsPerUnit; }\n}\npublic int MaxUnits\n{\n\tget { return config.MaxUnits; }\n}\n\tpublic int MaxNegativeUnitsForInstantKillProtection\n{\n\tget { return config.MaxNegativeUnitsForInstantKillProtection; }\n}\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tGameConfig config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ft(Wl)))(i||Wl)}}();static#t=this.\u0275cmp=xt({type:Wl,selectors:[["app-post-tdd-9"]],features:[Fe],decls:13,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"]],template:function(e,i){1&e&&(d(0,"h1"),l(1),h(),d(2,"h2"),l(3),h(),d(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),g(7,"br"),l(8),g(9,"br"),h(),xe(10,zU,2,1,"small",1),h(),d(11,"h2"),l(12,"SMU"),h()),2&e&&(_(1),ut(i.post.seriesTitle),_(2),ut(i.post.title),_(5),tt(" published on ",i.publishedDateToString,""),_(2),E("ngIf",i.hasUpdatedDate))},dependencies:[Sn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}const WU=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:ad},{path:"blog",component:cd,children:[{path:"tdd-health/part1",component:Vl},{path:"tdd-health/part2",component:Ul},{path:Is.tddHealthPart3,component:$o},{path:Is.tddHealthPart3Cpp,component:Hl},{path:"tdd-health/part4",component:Bl},{path:"tdd-health/part5",component:jl},{path:"tdd-health/part6",component:Gl},{path:"tdd-health/part7",component:$l},{path:"tdd-health/part8",component:zl},{path:"tdd-health/part9",component:Wl}]},{path:"music",component:Fl},{path:"music/:trackName",component:Fl},{path:"lifting",component:Id},{path:"**",component:Ad}];class Pd{static#e=this.\u0275fac=function(e){return new(e||Pd)};static#t=this.\u0275mod=bn({type:Pd});static#n=this.\u0275inj=ln({imports:[FC.forRoot(WU,{enableTracing:!1}),FC]})}let fm;try{fm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fm=!1}let ql=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?K1(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(N(Ka))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nH{constructor(t){this.total=t}call(t,e){return e.subscribe(new iH(t,this.total))}}class iH extends Me{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function mm(n,t){return e=>e.lift(new rH(n,t))}class rH{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new sH(t,this.compare,this.keySelector))}}class sH extends Me{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function DE(n){return t=>t.lift(new oH(n))}class oH{constructor(t){this.notifier=t}call(t,e){const i=new aH(t),r=vn(this.notifier,new At(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class aH extends qt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function EE(n){return Array.isArray(n)?n:[n]}const ME=new rr(dm);class cH{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new dH(t,this.dueTime,this.scheduler))}}class dH extends Me{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(hH,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function hH(n){n.debouncedNext()}const TE=new Set;let qo,fH=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):gH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function pH(n){if(!TE.has(n))try{qo||(qo=document.createElement("style"),qo.setAttribute("type","text/css"),document.head.appendChild(qo)),qo.sheet&&(qo.sheet.insertRule(`@media ${n} {body{ }}`,0),TE.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(N(ql))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let mH=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new K}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return SE(EE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=tg(SE(EE(e)).map(o=>this._registerQuery(o).observable));return s=Uc(s.pipe(Es(1)),s.pipe(function CE(n){return t=>t.lift(new nH(n))}(1),function uH(n,t=ME){return e=>e.lift(new cH(n,t))}(0))),s.pipe(G(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:c})=>{a.matches=a.matches||u,a.breakpoints[c]=u}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new q(o=>{const a=u=>this._zone.run(()=>o.next(u));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(T0(i),G(({matches:o})=>({query:e,matches:o})),DE(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(N(fH),N(_t))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function SE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const RE="cdk-high-contrast-black-on-white",LE="cdk-high-contrast-white-on-black",ym="cdk-high-contrast-active";let kH=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=qe(mH).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ym,RE,LE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(ym,RE):2===i&&e.add(ym,LE)}}}return n.\u0275fac=function(e){return new(e||n)(N(ql),N(Ht))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({}),n})();const LH=new X("mat-sanity-checks",{providedIn:"root",factory:function RH(){return!0}});let Ld=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function JU(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(N(kH),N(LH,8),N(Ht))},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[NE,NE]}),n})(),jE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[Ld,Ld]}),n})(),JH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[Ld,jE,Ld]}),n})();const qE={leading:!0,trailing:!1};function Nd(n,t=ME,e=qE){return i=>i.lift(new XH(n,t,e.leading,e.trailing))}class XH{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new e4(t,this.duration,this.scheduler,this.leading,this.trailing))}}class e4 extends Me{constructor(t,e,i,r,s){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(t4,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function t4(n){const{subscriber:t}=n;t.clearThrottle()}var KE=je(6202);const n4=["tooltipTemplate"],i4=["leftOuterSelectionBar"],r4=["rightOuterSelectionBar"],s4=["fullBar"],o4=["selectionBar"],a4=["minHandle"],l4=["maxHandle"],u4=["floorLabel"],c4=["ceilLabel"],d4=["minHandleLabel"],h4=["maxHandleLabel"],f4=["combinedLabel"],p4=["ticksElement"];function g4(n,t){if(1&n&&g(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=Pe().$implicit;E("template",Pe().tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function m4(n,t){1&n&&g(0,"span",32),2&n&&E("innerHTML",Pe().$implicit.legend,fe)}const y4=function(n){return{"ngx-slider-selected":n}};function v4(n,t){if(1&n&&(d(0,"span",27),g(1,"ngx-slider-tooltip-wrapper",28),xe(2,g4,1,4,"ngx-slider-tooltip-wrapper",29),xe(3,m4,1,1,"span",30),h()),2&n){const e=t.$implicit,i=Pe();E("ngClass",gr(7,y4,e.selected))("ngStyle",e.style),_(1),E("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),_(1),E("ngIf",null!=e.value),_(1),E("ngIf",null!=e.legend)}}function b4(n,t){}function _4(n,t){1&n&&xe(0,b4,0,0,"ng-template")}const w4=function(n,t,e){return{tooltip:n,placement:t,content:e}};function C4(n,t){if(1&n&&(Oa(0),xe(1,_4,1,0,null,1),Ra()),2&n){const e=Pe();_(1),E("ngTemplateOutlet",e.template)("ngTemplateOutletContext",tp(2,w4,e.tooltip,e.placement,e.content))}}function D4(n,t){if(1&n&&(Oa(0),d(1,"div",2),l(2),h(),Ra()),2&n){const e=Pe();_(1),Ln("title",e.tooltip)("data-tooltip-placement",e.placement),_(1),tt(" ",e.content," ")}}const gn={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};gn[gn.Low]="Low",gn[gn.High]="High",gn[gn.Floor]="Floor",gn[gn.Ceil]="Ceil",gn[gn.TickValue]="TickValue";class Fd{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const oe={Min:0,Max:1};oe[oe.Min]="Min",oe[oe.Max]="Max";class E4{}class L{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(s=>Math.abs(t-s.value));let r=0;for(let s=0;s<e.length;s++)i[s]!==i[r]&&i[s]<i[r]&&(r=s);return r}}class Xr{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Zt{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const r=Math.pow(10,-i);return Math.abs(t%e)<=r||Math.abs(Math.abs(t%e)-e)<=r}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class YE{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class JE{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,r){if(!0!==KE.Z.hasSupport)return this.attachEventListener(t,e,i,r);const s=new YE;s.eventName=e,s.events=new K;const o=a=>{s.events.next(a)};return t.addEventListener(e,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(L.isNullOrUndefined(r)?Tt(()=>{}):Nd(r,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),s}detachEventListener(t){L.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),L.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),L.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,r){const s=new YE;return s.eventName=e,s.events=new K,s.teardownCallback=this.renderer.listen(t,e,a=>{s.events.next(a)}),s.eventsSubscription=s.events.pipe(L.isNullOrUndefined(r)?Tt(()=>{}):Nd(r,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),s}}let es=(()=>{class n{constructor(e,i,r){this.elemRef=e,this.renderer=i,this.changeDetectionRef=r,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new JE(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,r){const s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}onPassive(e,i,r){const s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}off(e){let i,r;L.isNullOrUndefined(e)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(s=>s.eventName!==e),r=this.eventListeners.filter(s=>s.eventName===e));for(const s of r)this.eventListenerHelper.detachEventListener(s);this.eventListeners=i}isRefDestroyed(){return L.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(S(Gt),S(ei),S(ji))},n.\u0275dir=ye({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(e,i){2&e&&ic("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),bm=(()=>{class n extends es{constructor(e,i,r){super(e,i,r),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(S(Gt),S(ei),S(ji))},n.\u0275dir=ye({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(Ln("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),pi("ngx-slider-active",i.active))},features:[Fe]}),n})(),Yo=(()=>{class n extends es{constructor(e,i,r){super(e,i,r),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(L.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(S(Gt),S(ei),S(ji))},n.\u0275dir=ye({type:n,selectors:[["","ngxSliderLabel",""]],features:[Fe]}),n})();class M4{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class ZE{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Vd{static compare(t,e){return!(L.isNullOrUndefined(t)&&L.isNullOrUndefined(e)||L.isNullOrUndefined(t)!==L.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class QE extends Vd{static compare(t,e){return!(L.isNullOrUndefined(t)&&L.isNullOrUndefined(e)||L.isNullOrUndefined(t)!==L.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const T4={provide:Si,useExisting:ht(()=>XE),multi:!0};let XE=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.elementRef=i,this.changeDetectionRef=r,this.zone=s,this.value=null,this.valueChange=new Qe,this.highValue=null,this.highValueChange=new Qe,this.options=new Fd,this.userChangeStart=new Qe,this.userChange=new Qe,this.userChangeEnd=new Qe,this.initHasRun=!1,this.inputModelChangeSubject=new K,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new K,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Fd,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new ZE,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new JE(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!L.isNullOrUndefined(this.value)&&!L.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Fd,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){L.isNullOrUndefined(e.options)||this.onChangeOptions(),(!L.isNullOrUndefined(e.value)||!L.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(e){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(mm(QE.compare),Wn(i=>!i.forceChange&&!i.internalChange),L.isNullOrUndefined(e)?Tt(()=>{}):Nd(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(e){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(mm(QE.compare),L.isNullOrUndefined(e)?Tt(()=>{}):Nd(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Xr.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Xr.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){L.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){L.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){L.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){L.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){L.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){L.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===oe.Min?this.minHandleElement:e===oe.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===oe.Min?this.viewLowValue:this.currentTrackingPointer===oe.Max?this.viewHighValue:null}modelValueToViewValue(e){return L.isNullOrUndefined(e)?NaN:L.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:L.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return L.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return L.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),r=!Vd.compare(e,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),L.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),L.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new Vd;if(i.value=e.value,i.highValue=e.highValue,!L.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=L.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const s=L.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[s].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Zt.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Zt.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=e.value;i.value=e.highValue,i.highValue=r}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);Vd.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,r=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const s=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!L.areArraysEqual(r,s);e!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new Fd,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!L.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!L.isNullOrUndefined(this.viewOptions.tickStep)||!L.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),L.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),L.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,L.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(L.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),L.isNullOrUndefined(this.viewOptions.ceil)||L.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,L.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==oe.Min&&e!==oe.Max&&(e=oe.Min),e===oe.Min?this.minHandleElement.focus():this.range&&e===oe.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){L.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())L.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",L.isNullOrUndefined(this.viewOptions.ariaLabel)?L.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",L.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?L.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,gn.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,gn.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){L.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,L.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=L.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const r=L.isNullOrUndefined(this.viewOptions.tickValueStep)?L.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let s=!1;const o=e.map(a=>{let u=this.valueToPosition(a);this.viewOptions.vertical&&(u=this.maxHandlePosition-u);const c=i+"("+Math.round(u)+"px)",f=new M4;f.selected=this.isTickSelected(a),f.style={"-webkit-transform":c,"-moz-transform":c,"-o-transform":c,"-ms-transform":c,transform:c},f.selected&&!L.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(f.style["background-color"]=this.getSelectionBarColor()),!f.selected&&!L.isNullOrUndefined(this.viewOptions.getTickColor)&&(f.style["background-color"]=this.getTickColor(a)),L.isNullOrUndefined(this.viewOptions.ticksTooltip)||(f.tooltip=this.viewOptions.ticksTooltip(a),f.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!L.isNullOrUndefined(r)&&Zt.isModuloWithinPrecisionLimit(a,r,this.viewOptions.precisionLimit)&&(f.value=this.getDisplayValue(a,gn.TickValue),L.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(f.valueTooltip=this.viewOptions.ticksValuesTooltip(a),f.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let p=null;if(L.isNullOrUndefined(this.viewOptions.stepsArray))L.isNullOrUndefined(this.viewOptions.getLegend)||(p=this.viewOptions.getLegend(a));else{const m=this.viewOptions.stepsArray[a];L.isNullOrUndefined(m)||(p=m.legend)}return L.isNullOrUndefined(p)||(f.legend=p,s=!0),f});if(setTimeout(()=>{this.sliderElementWithLegendClass=s}),L.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let a=0;a<o.length;++a)Object.assign(this.ticks[a],o[a]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=L.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(Zt.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let s=0;s<r;++s)i.push(Zt.roundToPrecisionLimit(this.viewOptions.floor+e*s,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,gn.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,gn.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===oe.Min?this.updateLowHandle(i):e===oe.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const r=e===oe.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=i-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===oe.Min||!this.viewOptions.rightToLeft&&e===oe.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,gn.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(oe.Min,e)),L.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(oe.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,gn.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(oe.Max,e)),L.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(oe.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),u=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),s?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const c=this.combinedLabelElement.isVisible()?u:o,f=this.combinedLabelElement.isVisible()?a:r;c?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),f?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,s=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=s-2:i<=s+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,s=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=s+this.ceilLabelElement.dimension+2:i+e.dimension>=s-2}updateSelectionBar(){let e=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=s;else if(L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-a,e=a+this.handleHalfDimension):(i=a-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),L.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!L.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=o-e>0&&!r||o-e<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?a?"bottom":"top":a?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===oe.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,gn.Low),r=this.getDisplayValue(this.viewHighValue,gn.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(s);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!L.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const r=L.isNullOrUndefined(i)?this.viewOptions.step:i;let s=Zt.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return s=Math.round(s)*r,Zt.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(e){let i=L.linearValueToPosition;L.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=L.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(e=Zt.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return L.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=L.linearPositionToValue;L.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=L.logPositionToValue):r=this.viewOptions.customPositionToValue;const s=r(i,this.viewOptions.floor,this.viewOptions.ceil);return L.isNullOrUndefined(s)?0:s}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical?e.clientY:e.clientX;let r=0;const s=e.touches;if(!L.isNullOrUndefined(i))for(let o=0;o<s.length;o++)if(s[o].identifier===i){r=o;break}return this.viewOptions.vertical?s[r].clientY:s[r].clientX}getEventPosition(e,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(e,i)+s:this.getEventXY(e,i)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return oe.Min;const i=this.getEventPosition(e),r=Math.abs(i-this.minHandleElement.position),s=Math.abs(i-this.maxHandleElement.position);return r<s?oe.Min:r>s?oe.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?oe.Min:oe.Max:i<this.minHandleElement.position?oe.Min:oe.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(oe.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(oe.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(oe.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(oe.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(oe.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(oe.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(oe.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(oe.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(oe.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(oe.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())L.isNullOrUndefined(e)||e.off()}onBarStart(e,i,r,s,o,a,u){i?this.onDragStart(e,r,s,o):this.onStart(e,r,s,o,a,u)}onStart(e,i,r,s,o,a){i.stopPropagation(),(!Xr.isTouchEvent(i)||!KE.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),L.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const u=this.getPointerElement(e);if(u.active=!0,this.viewOptions.keyboardSupport&&u.focus(),r){this.unsubscribeOnMove();const c=f=>this.dragging.active?this.onDragMove(f):this.onMove(f);this.onMoveEventListener=Xr.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",c,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",c,this.viewOptions.mouseEventsInterval)}if(s){this.unsubscribeOnEnd();const c=f=>this.onEnd(f);this.onEndEventListener=Xr.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",c):this.eventListenerHelper.attachEventListener(document,"mouseup",c)}this.userChangeStart.emit(this.getChangeContext()),Xr.isTouchEvent(i)&&!L.isNullOrUndefined(i.changedTouches)&&L.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),a&&this.onEnd(i)}onMove(e,i){let r=null;if(Xr.isTouchEvent(e)){const c=e.changedTouches;for(let f=0;f<c.length;f++)if(c[f].identifier===this.touchId){r=c[f];break}if(L.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const s=L.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier);let o;s<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:s>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(s),o=i&&!L.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){Xr.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,L.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=e+this.viewOptions.step,s=e-this.viewOptions.step,o=e+i/10,a=e-i/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,s=e+this.viewOptions.step,o=e-i/10,a=e+i/10);const u={UP:r,DOWN:s,LEFT:s,RIGHT:r,PAGEUP:o,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(u.LEFT=r,u.RIGHT=s,this.viewOptions.vertical&&(u.UP=s,u.DOWN=r)),u}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),r=L.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,u=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(L.isNullOrUndefined(u)||L.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const c=Zt.clampToRange(u,this.viewOptions.floor,this.viewOptions.ceil),f=this.roundStep(c);if(this.viewOptions.draggableRangeOnly){const p=this.viewHighValue-this.viewLowValue;let m,y;this.currentTrackingPointer===oe.Min?(m=f,y=f+p,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,m=y-p)):this.currentTrackingPointer===oe.Max&&(y=f,m=f-p,m<this.viewOptions.floor&&(m=this.viewOptions.floor,y=m+p)),this.positionTrackingBar(m,y)}else this.positionTrackingHandle(f)}onDragStart(e,i,r,s){const o=this.getEventPosition(i);this.dragging=new ZE,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,r,s)}getMinValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(s?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let r,s,o,a;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,a=this.minHandleElement):(r=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,a=this.maxHandleElement);const c=i>=this.maxHandlePosition-r;let f,p;if(i<=s){if(0===o.position)return;f=this.getMinValue(i,!0,!1),p=this.getMaxValue(i,!0,!1)}else if(c){if(a.position===this.maxHandlePosition)return;p=this.getMaxValue(i,!0,!0),f=this.getMinValue(i,!0,!0)}else f=this.getMinValue(i,!1,!1),p=this.getMaxValue(i,!1,!1);this.positionTrackingBar(f,p)}positionTrackingBar(e,i){!L.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=Zt.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!L.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=Zt.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(oe.Min,this.valueToPosition(e)),this.updateHandles(oe.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===oe.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===oe.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===oe.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(oe.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=oe.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===oe.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(oe.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=oe.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===oe.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===oe.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!L.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!L.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const r=Math.abs(e-(this.currentTrackingPointer===oe.Min?this.viewHighValue:this.viewLowValue));if(!L.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===oe.Min)return Zt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===oe.Max)return Zt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!L.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===oe.Min)return Zt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===oe.Max)return Zt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===oe.Min?this.viewHighValue-e:e-this.viewLowValue,r=L.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===oe.Min?(this.viewHighValue=Zt.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=Zt.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oe.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===oe.Max&&(this.viewLowValue=Zt.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=Zt.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oe.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!L.isNullOrUndefined(s)&&i>s&&(this.currentTrackingPointer===oe.Min?(this.viewHighValue=Zt.roundToPrecisionLimit(e+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oe.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===oe.Max&&(this.viewLowValue=Zt.roundToPrecisionLimit(e-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(oe.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new E4;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(S(ei),S(Gt),S(ji),S(_t))},n.\u0275cmp=xt({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,r){if(1&e&&hc(r,n4,5),2&e){let s;vt(s=bt())&&(i.tooltipTemplate=s.first)}},viewQuery:function(e,i){if(1&e&&(Rt(i4,5,es),Rt(r4,5,es),Rt(s4,5,es),Rt(o4,5,es),Rt(a4,5,bm),Rt(l4,5,bm),Rt(u4,5,Yo),Rt(c4,5,Yo),Rt(d4,5,Yo),Rt(h4,5,Yo),Rt(f4,5,Yo),Rt(p4,5,es)),2&e){let r;vt(r=bt())&&(i.leftOuterSelectionBarElement=r.first),vt(r=bt())&&(i.rightOuterSelectionBarElement=r.first),vt(r=bt())&&(i.fullBarElement=r.first),vt(r=bt())&&(i.selectionBarElement=r.first),vt(r=bt())&&(i.minHandleElement=r.first),vt(r=bt())&&(i.maxHandleElement=r.first),vt(r=bt())&&(i.floorLabelElement=r.first),vt(r=bt())&&(i.ceilLabelElement=r.first),vt(r=bt())&&(i.minHandleLabelElement=r.first),vt(r=bt())&&(i.maxHandleLabelElement=r.first),vt(r=bt())&&(i.combinedLabelElement=r.first),vt(r=bt())&&(i.ticksElement=r.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(e,i){1&e&&lt("resize",function(s){return i.onResize(s)},0,cf),2&e&&(Ln("disabled",i.sliderElementDisabledAttr),pi("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[yt([T4]),Qn],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(d(0,"span",0,1),g(2,"span",2),h(),d(3,"span",3,4),g(5,"span",2),h(),d(6,"span",5,6),g(8,"span",2),h(),d(9,"span",7,8),g(11,"span",9),h(),g(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),d(26,"span",24,25),xe(28,v4,4,9,"span",26),h()),2&e&&(_(6),pi("ngx-slider-transparent",i.fullBarTransparentClass),_(3),pi("ngx-slider-draggable",i.selectionBarDraggableClass),_(2),E("ngStyle",i.barStyle),_(1),E("ngStyle",i.minPointerStyle),_(2),ic("display",i.range?"inherit":"none"),E("ngStyle",i.maxPointerStyle),_(12),pi("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),E("hidden",!i.showTicks),_(2),E("ngForOf",i.ticks))},dependencies:function(){return[Xa,el,Sn,G1,es,bm,Yo,S4]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),S4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=xt({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&(xe(0,C4,2,6,"ng-container",0),xe(1,D4,3,3,"ng-container",0)),2&e&&(E("ngIf",i.template),_(1),E("ngIf",!i.template))},dependencies:[Sn,$1],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),I4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({imports:[W1]}),n})();class A4 extends Ig.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}const P4=new class x4 extends rr{}(class k4 extends dm{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});class Ai{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return pe(this.value);case"E":return zi(this.error);case"C":return Hc()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new Ai("N",t):Ai.undefinedValueNotification}static createError(t){return new Ai("E",void 0,t)}static createComplete(){return Ai.completeNotification}}Ai.completeNotification=new Ai("C"),Ai.undefinedValueNotification=new Ai("N",void 0);class Ud extends Me{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Ud.dispatch,this.delay,new R4(t,this.destination)))}_next(t){this.scheduleMessage(Ai.createNext(t))}_error(t){this.scheduleMessage(Ai.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Ai.createComplete()),this.unsubscribe()}}class R4{constructor(t,e){this.notification=t,this.destination=e}}class L4 extends K{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new N4(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let o;if(this.closed)throw new C;if(this.isStopped||this.hasError?o=V.EMPTY:(this.observers.push(t),o=new M(this,t)),r&&t.add(t=new Ud(t,r)),e)for(let a=0;a<s&&!t.closed;a++)t.next(i[a]);else for(let a=0;a<s&&!t.closed;a++)t.next(i[a].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||P4).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(t-r[o].time<i);)o++;return s>e&&(o=Math.max(o,s-e)),o>0&&r.splice(0,o),r}}class N4{constructor(t,e){this.time=t,this.value=e}}function Jo(){return window}function _m(){return Jo().YT}function eM(){return _m().Player}const Ql={height:270,width:367};let wm=(()=>{class n{constructor(e){this.zone=e,this.api=new L4(1),this.createApi()}loadPlayerApi(e){const i=Jo().document;if(!n.ytApiLoaded){n.ytApiLoaded=!0;const r=i.createElement("script");r.type="text/javascript",r.src=`${e.protocol}://www.youtube.com/iframe_api`,i.body.appendChild(r)}}setupPlayer(e,i,r,s="",o){this.api.subscribe(()=>{eM&&this.createPlayer(e,i,r,s,o)})}play(e){e.playVideo()}pause(e){e.pauseVideo()}playVideo(e,i){i.loadVideoById(e.id.videoId?e.id.videoId:e.id),this.play(i)}isPlaying(e){const i=e&&e.getPlayerState,r=i?e.getPlayerState():{};return!!i&&r!==_m().PlayerState.ENDED&&r!==_m().PlayerState.PAUSED}createPlayer(e,i,r,s="",o={}){const a={height:r.height||Ql.height,width:r.width||Ql.width};return new(eM())(e,Object.assign(Object.assign({},a),{events:{onReady:c=>{this.zone.run(()=>i.ready&&i.ready.next(c.target))},onStateChange:c=>{this.zone.run(()=>i.change&&i.change.next(c))}},playerVars:o,videoId:s}))}toggleFullScreen(e,i){let{height:r,width:s}=Ql;i||(r=window.innerHeight,s=window.innerWidth),e.setSize(s,r)}generateUniqueId(){return Math.random().toString(35).substr(2,7)}createApi(){Jo().onYouTubeIframeAPIReady=()=>{Jo()&&(Jo().onYouTubeIframeAPIReadyCalled=!0,this.api.next())},Jo().onYouTubeIframeAPIReadyCalled&&this.api.next()}}return n.\u0275fac=function(e){return new(e||n)(N(_t))},n.ytApiLoaded=!1,n.\u0275prov=ee({factory:function(){return new n(N(_t))},token:n,providedIn:"root"}),n})(),F4=(()=>{class n{constructor(e,i,r){this.playerService=e,this.elementRef=i,this.renderer=r,this.videoId="",this.height=Ql.height,this.width=Ql.width,this.protocol=this.getProtocol(),this.playerVars={},this.ready=new Qe,this.change=new Qe}ngAfterContentInit(){const e=this.playerService.generateUniqueId(),i={height:this.height,width:this.width},r=this.renderer.selectRootElement("#yt-player-ngx-component");this.renderer.setAttribute(r,"id",e),this.playerService.loadPlayerApi({protocol:this.protocol}),this.playerService.setupPlayer(e,{change:this.change,ready:this.ready},i,this.videoId,this.playerVars)}getProtocol(){return window&&window.location?window.location.protocol.replace(":",""):"http"}}return n.\u0275fac=function(e){return new(e||n)(S(wm),S(Gt),S(ei))},n.\u0275cmp=xt({type:n,selectors:[["youtube-player"]],inputs:{videoId:"videoId",height:"height",width:"width",protocol:"protocol",playerVars:"playerVars"},outputs:{ready:"ready",change:"change"},decls:1,vars:0,consts:[["id","yt-player-ngx-component"]],template:function(e,i){1&e&&g(0,"div",0)},encapsulation:2,changeDetection:0}),n})(),V4=(()=>{class n{static forRoot(){return{ngModule:n,providers:[wm]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=bn({type:n}),n.\u0275inj=ln({providers:[wm]}),n})();const U4=["youtubePlayer"],H4=["webGlCanvas"],Cm=function(n){return{hide:n}},B4=function(n,t,e){return{playing:n,loading:t,stopped:e}},j4=function(n,t){return{shuffleOn:n,shuffleOff:t}},G4=function(n,t,e,i){return{mute:n,unmute:t,muteDisabled:e,unmuteDisabled:i}};class Hd{constructor(t,e,i,r){this.musicService=t,this.messageService=e,this.changeDetectorRef=i,this.htmlElementService=r,this.label="MusicPlayer",this._gainsDisabled=new A4(!1),this.ngInitiated=!1,this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=s=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,s?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.musicService.playerUiInitialized(this._gainsDisabled),this.subscription=this.messageService.onMessage().subscribe(s=>{"YoutubeVolumeChange"===s.type&&this.updateMuteUI()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get selectedTrackAsYoutubeTrack(){return this.musicService.selectedTrack}get selectedTrackAsRealtimeVisualTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.musicService.masterGain}set masterGain(t){this.musicService.masterGain=t}get masterMuted(){return this.musicService.masterMuted}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(t){return t<=.2?"#394A00":t<=.4?"#596A06":t<=.6?"#798A0A":t<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(t){return t<=.2?"#5D0800":t<=.4?"#7D2800":t<=.6?"#9D4800":t<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(t){return"#8B91A2"}ngAfterViewChecked(){!this.ngInitiated&&this.htmlElementService.isInitialized&&(this.ngInitiated=!0,this.onWindowResize(),this.musicService.init(this.youtubePlayerElement,this.WebGlCanvasElement))}ngOnDestroy(){this.subscription instanceof V&&this.subscription.unsubscribe()}onWindowResize(){this.musicService.onWindowResize(window.innerWidth,window.innerHeight)}onPlayerReady(t){this.musicService.onYoutubePlayerReady(t,window.innerWidth,window.innerHeight)}onPlayerStateChange(t){this.musicService.OnYoutubePlayerStateChange(t.data)}onPlayPauseBtn(){this.musicService.OnUiPlayOrPause()}onNextBtn(){this.musicService.onUiNextTrack()}onShuffleBtn(){this.musicService.toggleShuffle()}onMasterMuteBtn(){this._gainsDisabled.value||(this.musicService.masterMuted=!this.masterMuted)}updateMuteUI(){this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})}static#e=this.\u0275fac=function(e){return new(e||Hd)(S(xs),S(As),S(ji),S(ks))};static#t=this.\u0275cmp=xt({type:Hd,selectors:[["app-music-player"]],viewQuery:function(e,i){if(1&e&&(Rt(U4,5),Rt(H4,5)),2&e){let r;vt(r=bt())&&(i.youtubePlayerElement=r.first),vt(r=bt())&&(i.WebGlCanvasElement=r.first)}},hostBindings:function(e,i){1&e&&lt("resize",function(s){return i.onWindowResize(s)},0,cf)},decls:25,vars:28,consts:[[1,"playerContainer"],[1,"youtubePlayer",3,"ngClass"],["youtubePlayer",""],[3,"videoId","ready","change"],[1,"myPlayer","noSelect",3,"ngClass"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"],["id","webGlCanvas",3,"ngClass"],["webGlCanvas",""],["id","scWidget","width","100%","height","10","scrolling","no","frameborder","no","allow","autoplay","src","https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1255416709&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&buying=false&liking=false&download=false&sharing=false&show_artwork=false&show_playcount=false&start_track=0",1,"hide"]],template:function(e,i){1&e&&(d(0,"div",0)(1,"div",1,2)(3,"youtube-player",3),lt("ready",function(s){return i.onPlayerReady(s)})("change",function(s){return i.onPlayerStateChange(s)}),h()(),d(4,"div",4)(5,"span",5),lt("click",function(){return i.onPlayPauseBtn()}),g(6,"div",6),h(),d(7,"span",7),lt("click",function(){return i.onNextBtn()}),g(8,"div",8)(9,"div",9),h(),d(10,"span",10)(11,"span"),l(12),h()(),d(13,"span",11)(14,"span",12),lt("click",function(){return i.onShuffleBtn()}),g(15,"div",13),h(),d(16,"span",14),lt("click",function(){return i.onMasterMuteBtn()}),g(17,"div",6),h(),d(18,"span",15)(19,"span",16)(20,"ngx-slider",17),lt("valueChange",function(s){return i.masterGain=s}),h()()()()(),d(21,"div"),g(22,"canvas",18,19),h()(),g(24,"iframe",20)),2&e&&(_(1),E("ngClass",gr(10,Cm,"Youtube"!==i.selectedTrack.source||!1===i.selectedTrackAsYoutubeTrack.isGraphicsActive)),_(2),wn("videoId",i.selectedTrackAsYoutubeTrack.youtubeId),_(1),E("ngClass",gr(12,Cm,"Youtube"===i.selectedTrack.source&&!0===i.selectedTrackAsYoutubeTrack.isGraphicsActive)),_(2),E("ngClass",tp(14,B4,"Playing"===i.playState,"Loading"===i.playState,"Paused"===i.playState||"Stopped"===i.playState)),_(6),ut(i.selectedTrack.name),_(3),E("ngClass",Ga(18,j4,i.isShuffle,!i.isShuffle)),_(2),E("ngClass",function mw(n,t,e,i,r,s,o){return _w(F(),Bn(),n,t,e,i,r,s,o)}(21,G4,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),_(3),E("value",i.masterGain)("options",i.optionsMasterGain),_(2),E("ngClass",gr(26,Cm,"RealtimeVisual"!==i.selectedTrack.source||!1===i.selectedTrackAsRealtimeVisualTrack.isGraphicsActive)))},dependencies:[Xa,XE,F4],styles:['#webGlCanvas[_ngcontent-%COMP%]{border:none;position:absolute;padding:10px 0;margin:0 0%}.playerContainer[_ngcontent-%COMP%]{position:fixed;z-index:1;transform:translateY(40px);width:90%}.myPlayer[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--colorGrayLightMed);border-radius:1em;padding-top:9px;padding-bottom:7px;height:24px}.youtubePlayer[_ngcontent-%COMP%]{margin:0 0%}.trackName[_ngcontent-%COMP%]{position:fixed;margin-top:1.25px}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:6%;height:23px}.stopped[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:_ngcontent-%COMP%_rotationFastReverse .5s infinite linear}@keyframes _ngcontent-%COMP%_rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:0px;height:16px;transform:translate(8%,4%);animation-name:_ngcontent-%COMP%_rotate-pause;animation-duration:3s;animation-timing-function:linear;animation-iteration-count:infinite;transition:all .2s;border-style:double;border-width:0px 0 0px 16px}@keyframes _ngcontent-%COMP%_rotate-pause{0%{transform:rotate(0)}40%{transform:rotate(-180deg)}60%{transform:rotate(-180deg)}to{transform:rotate(-360deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;width:10px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:42%;height:24px;float:right}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.youtubeButtonContainer[_ngcontent-%COMP%]{float:left;height:16px;width:25px}.youtubeButton[_ngcontent-%COMP%]{width:256px;height:256px;display:block;transform:translate(-116px) translateY(-116px) scale(.1);background:transparent url(https://upload.wikimedia.org/wikipedia/commons/5/55/YouTube_icon_%282013-2017%29.svg)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\d\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%]{margin:0 0%}.playIconContainer[_ngcontent-%COMP%]{width:7%}.nextContainer[_ngcontent-%COMP%]{padding-right:2%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 452px) and (max-width: 703px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 0%}.playIconContainer[_ngcontent-%COMP%]{width:6%}.nextContainer[_ngcontent-%COMP%]{padding-right:3%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 704px) and (max-width: 1053px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 5%}.myPlayer[_ngcontent-%COMP%]{width:90%}.playIconContainer[_ngcontent-%COMP%]{width:5%}.nextContainer[_ngcontent-%COMP%]{padding-right:4%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 15%}.myPlayer[_ngcontent-%COMP%]{width:70%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 25%}.myPlayer[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 2001px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 30%}.myPlayer[_ngcontent-%COMP%]{width:40%}}']})}const $4=["headerContainer"],z4=["headerBackground"];function W4(n,t){1&n&&(d(0,"div")(1,"label"),l(2,"Has to be a valid email address"),h()())}function q4(n,t){if(1&n&&(d(0,"div",23),xe(1,W4,3,0,"div",20),h()),2&n){const e=Pe(3);_(1),E("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.pattern)}}function K4(n,t){if(1&n&&(d(0,"div")(1,"label"),l(2,"* Your Email:"),h(),g(3,"br")(4,"input",19),xe(5,q4,2,1,"div",22),g(6,"br")(7,"br"),h()),2&n){const e=Pe(2);_(4),wn("placeholder",e.placeholderEmail),wn("formControlName",e.emailName),wn("name",e.emailName),_(1),E("ngIf",e.emailControl.invalid)}}function Y4(n,t){if(1&n){const e=Fr();d(0,"div",15)(1,"form",16),g(2,"input",17),d(3,"label"),l(4),h(),g(5,"br")(6,"textarea",18)(7,"br")(8,"br"),d(9,"label"),l(10,"* Your Name / Handle:"),h(),g(11,"br")(12,"input",19)(13,"br")(14,"br"),xe(15,K4,8,4,"div",20),d(16,"button",21),lt("click",function(){return Pr(e),Or(Pe().onSendClick())}),l(17,"Send"),h()()()}if(2&n){const e=Pe();_(1),wn("name",e.formName),E("formGroup",e.messageForm),_(1),wn("value",e.formName),_(2),ut(e.messageLabel),_(2),wn("placeholder",e.placeholderText),wn("formControlName",e.messageName),wn("name",e.messageName),E("maxlength",300),_(6),wn("placeholder",e.placeholderHandle),wn("formControlName",e.handleName),wn("name",e.handleName),_(3),E("ngIf","/home"===e.urlEnd),_(1),E("disabled",e.messageForm.invalid)}}class Bd{constructor(t,e,i,r,s){this.fb=t,this.http=e,this.router=i,this.logService=r,this.htmlService=s,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* your comment will pend for moderation\n* this Comment-form will become hidden\nAfter approval I will publish your comment,\nI might also include a short response.",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(Wn(o=>o instanceof wr)).subscribe(o=>{this.showCommentForm=!0,this.urlEnd=o.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(Zr.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(Zr.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[Zr.required]],[this.handleName]:["",[Zr.required]],[this.emailName]:["",[Zr.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}ngAfterViewInit(){this.htmlService.set("headerBackground",this.headerBackgroundElement),this.htmlService.set("headerContainer",this.headerContainerElement),this.htmlService.isInitialized=!0}onSendClick(){let t=(new Sr).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);t=t.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",t),this.http.post("/",t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(e=>{this.logService.log("Info","result handler:",e),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},e=>{this.showCommentForm=!1,e instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",e.error),this.headerText="Something went wrong with sending"):200===e.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",e.status),this.logService.log("Error","Error body:",e.error))}),this.messageForm.reset()}static#e=this.\u0275fac=function(e){return new(e||Bd)(S(nE),S(um),S(Cn),S(mi),S(ks))};static#t=this.\u0275cmp=xt({type:Bd,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Rt($4,5),Rt(z4,5)),2&e){let r;vt(r=bt())&&(i.headerContainerElement=r.first),vt(r=bt())&&(i.headerBackgroundElement=r.first)}},decls:31,vars:2,consts:[[1,"headerContainer"],["headerContainer",""],[1,"headerBackground"],["headerBackground",""],[1,"noSelect"],["routerLink","/home","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],["routerLink","/lifting","routerLinkActive","active"],[1,"footer"],[1,"horizontalLine"],["class","messageForm",4,"ngIf"],[1,"tribute"],["href","https://icons8.com/icon/102034/mute"],["href","https://icons8.com/icon/108731/sound"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(e,i){1&e&&(d(0,"div",0,1),g(2,"div",2,3),d(4,"nav",4)(5,"li")(6,"a",5),l(7,"Home"),h()(),d(8,"li")(9,"a",6),l(10,"Music"),h()(),d(11,"li")(12,"a",7),l(13,"Blog"),h()(),d(14,"li")(15,"a",8),l(16,"Lifting"),h()()(),g(17,"app-music-player"),h(),g(18,"router-outlet"),d(19,"div",9),g(20,"div",10),d(21,"h2"),l(22),h(),xe(23,Y4,18,13,"div",11),d(24,"div",12)(25,"small")(26,"a",13),l(27,"Mute icon by Icons8"),h(),g(28,"br"),d(29,"a",14),l(30,"Sound icon by Icons8"),h()()()()),2&e&&(_(22),ut(i.headerText),_(1),E("ngIf",i.showCommentForm))},dependencies:[Qc,od,AC,Sn,Jg,Ml,Fg,Vg,Dd,Ol,Cd,Hd],encapsulation:2})}class jd{static#e=this.\u0275fac=function(e){return new(e||jd)};static#t=this.\u0275mod=bn({type:jd,bootstrap:[Bd]});static#n=this.\u0275inj=ln({providers:[{provide:ZC,useExisting:El},{provide:kd,useValue:{coreLibraryLoader:()=>je.e(358).then(je.bind(je,9358)),languages:{csharp:()=>je.e(285).then(je.bind(je,5285)),cpp:()=>je.e(739).then(je.bind(je,3739))}}}],imports:[Pd,XR,eU,jE,I4,JH,rm,FU,V4.forRoot()]})}QR().bootstrapModule(jd)},305:Dn=>{"use strict";Dn.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000,"url":"https://en.wikipedia.org/wiki/Blue_whale"},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis dinosaur"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus dinosaur","url":"https://en.wikipedia.org/wiki/Antarctosaurus#%22Antarctosaurus%22_giganteus"},{"kg":75900,"name":"Notocolossus gonzalezparejasi dinosaur"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum dinosaur"},{"kg":72600,"name":"Apatosaurus ajax dinosaur"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum dinosaur"},{"kg":60000,"name":"Sauroposeidon proteles dinosaur"},{"kg":59300,"name":"Dreadnoughtus schrani dinosaur"},{"kg":59000,"name":"Paralititan stromeri dinosaur"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus dinosaur"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex dinosaur"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus dinosaur"},{"kg":13800,"name":"Giganotosaurus carolinii dinosaur"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis dinosaur"},{"kg":7000,"name":"Oxalaia quilombensis dinosaur"},{"kg":6999,"name":"Tyrannotitan chubutensis dinosaur"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus dinosaur"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis dinosaur"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis dinosaur"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale","url":"https://en.wikipedia.org/wiki/Cuvier\'s_beaked_whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison","url":"https://en.wikipedia.org/wiki/American_bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger","url":"https://en.wikipedia.org/wiki/Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer","url":"https://en.wikipedia.org/wiki/Tufted_deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"Four-toed hedgehog","url":"https://en.wikipedia.org/wiki/Four-toed_hedgehog"}]')}},Dn=>{Dn(Dn.s=2850)}]);