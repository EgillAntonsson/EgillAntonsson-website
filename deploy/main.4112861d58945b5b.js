(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{6202:(Tn,en)=>{"use strict";var Ye={update:function(){if(typeof window<"u"&&"function"==typeof window.addEventListener){var tt=!1,te=Object.defineProperty({},"passive",{get:function(){tt=!0}}),dt=function(){};window.addEventListener("testPassiveEventSupport",dt,te),window.removeEventListener("testPassiveEventSupport",dt,te),Ye.hasSupport=tt}}};Ye.update(),en.Z=Ye},3105:Tn=>{"use strict";var Ye,en="object"==typeof Reflect?Reflect:null,$e=en&&"function"==typeof en.apply?en.apply:function(j,J,q){return Function.prototype.apply.call(j,J,q)};Ye=en&&"function"==typeof en.ownKeys?en.ownKeys:Object.getOwnPropertySymbols?function(j){return Object.getOwnPropertyNames(j).concat(Object.getOwnPropertySymbols(j))}:function(j){return Object.getOwnPropertyNames(j)};var tt=Number.isNaN||function(j){return j!=j};function te(){te.init.call(this)}Tn.exports=te,Tn.exports.once=function Oi(W,j){return new Promise(function(J,q){function ce(D){W.removeListener(j,he),q(D)}function he(){"function"==typeof W.removeListener&&W.removeListener("error",ce),J([].slice.call(arguments))}Cn(W,j,he,{once:!0}),"error"!==j&&function cn(W,j,J){"function"==typeof W.on&&Cn(W,"error",j,J)}(W,ce,{once:!0})})},te.EventEmitter=te,te.prototype._events=void 0,te.prototype._eventsCount=0,te.prototype._maxListeners=void 0;var dt=10;function Ze(W){if("function"!=typeof W)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof W)}function Wt(W){return void 0===W._maxListeners?te.defaultMaxListeners:W._maxListeners}function wi(W,j,J,q){var ce,he,D;if(Ze(J),void 0===(he=W._events)?(he=W._events=Object.create(null),W._eventsCount=0):(void 0!==he.newListener&&(W.emit("newListener",j,J.listener?J.listener:J),he=W._events),D=he[j]),void 0===D)D=he[j]=J,++W._eventsCount;else if("function"==typeof D?D=he[j]=q?[J,D]:[D,J]:q?D.unshift(J):D.push(J),(ce=Wt(W))>0&&D.length>ce&&!D.warned){D.warned=!0;var M=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+String(j)+" listeners added. Use emitter.setMaxListeners() to increase limit");M.name="MaxListenersExceededWarning",M.emitter=W,M.type=j,M.count=D.length,function Le(W){console&&console.warn&&console.warn(W)}(M)}return W}function P(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function V(W,j,J){var q={fired:!1,wrapFn:void 0,target:W,type:j,listener:J},ce=P.bind(q);return ce.listener=J,q.wrapFn=ce,ce}function le(W,j,J){var q=W._events;if(void 0===q)return[];var ce=q[j];return void 0===ce?[]:"function"==typeof ce?J?[ce.listener||ce]:[ce]:J?function Sn(W){for(var j=new Array(W.length),J=0;J<j.length;++J)j[J]=W[J].listener||W[J];return j}(ce):qt(ce,ce.length)}function Ne(W){var j=this._events;if(void 0!==j){var J=j[W];if("function"==typeof J)return 1;if(void 0!==J)return J.length}return 0}function qt(W,j){for(var J=new Array(j),q=0;q<j;++q)J[q]=W[q];return J}function Cn(W,j,J,q){if("function"==typeof W.on)q.once?W.once(j,J):W.on(j,J);else{if("function"!=typeof W.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof W);W.addEventListener(j,function ce(he){q.once&&W.removeEventListener(j,ce),J(he)})}}Object.defineProperty(te,"defaultMaxListeners",{enumerable:!0,get:function(){return dt},set:function(W){if("number"!=typeof W||W<0||tt(W))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+W+".");dt=W}}),te.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},te.prototype.setMaxListeners=function(j){if("number"!=typeof j||j<0||tt(j))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+j+".");return this._maxListeners=j,this},te.prototype.getMaxListeners=function(){return Wt(this)},te.prototype.emit=function(j){for(var J=[],q=1;q<arguments.length;q++)J.push(arguments[q]);var ce="error"===j,he=this._events;if(void 0!==he)ce=ce&&void 0===he.error;else if(!ce)return!1;if(ce){var D;if(J.length>0&&(D=J[0]),D instanceof Error)throw D;var M=new Error("Unhandled error."+(D?" ("+D.message+")":""));throw M.context=D,M}var B=he[j];if(void 0===B)return!1;if("function"==typeof B)$e(B,this,J);else{var K=B.length,ie=qt(B,K);for(q=0;q<K;++q)$e(ie[q],this,J)}return!0},te.prototype.on=te.prototype.addListener=function(j,J){return wi(this,j,J,!1)},te.prototype.prependListener=function(j,J){return wi(this,j,J,!0)},te.prototype.once=function(j,J){return Ze(J),this.on(j,V(this,j,J)),this},te.prototype.prependOnceListener=function(j,J){return Ze(J),this.prependListener(j,V(this,j,J)),this},te.prototype.off=te.prototype.removeListener=function(j,J){var q,ce,he,D,M;if(Ze(J),void 0===(ce=this._events))return this;if(void 0===(q=ce[j]))return this;if(q===J||q.listener===J)0==--this._eventsCount?this._events=Object.create(null):(delete ce[j],ce.removeListener&&this.emit("removeListener",j,q.listener||J));else if("function"!=typeof q){for(he=-1,D=q.length-1;D>=0;D--)if(q[D]===J||q[D].listener===J){M=q[D].listener,he=D;break}if(he<0)return this;0===he?q.shift():function Te(W,j){for(;j+1<W.length;j++)W[j]=W[j+1];W.pop()}(q,he),1===q.length&&(ce[j]=q[0]),void 0!==ce.removeListener&&this.emit("removeListener",j,M||J)}return this},te.prototype.removeAllListeners=function(j){var J,q,ce;if(void 0===(q=this._events))return this;if(void 0===q.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==q[j]&&(0==--this._eventsCount?this._events=Object.create(null):delete q[j]),this;if(0===arguments.length){var D,he=Object.keys(q);for(ce=0;ce<he.length;++ce)"removeListener"!==(D=he[ce])&&this.removeAllListeners(D);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(J=q[j]))this.removeListener(j,J);else if(void 0!==J)for(ce=J.length-1;ce>=0;ce--)this.removeListener(j,J[ce]);return this},te.prototype.listeners=function(j){return le(this,j,!0)},te.prototype.rawListeners=function(j){return le(this,j,!1)},te.listenerCount=function(W,j){return"function"==typeof W.listenerCount?W.listenerCount(j):Ne.call(W,j)},te.prototype.listenerCount=Ne,te.prototype.eventNames=function(){return this._eventsCount>0?Ye(this._events):[]}},593:function(Tn,en){var $e,Le;$e=function tt(){"use strict";var te=typeof self<"u"?self:typeof window<"u"?window:void 0!==te?te:{},dt=!te.document&&!!te.postMessage,Ze=dt&&/blob:/i.test((te.location||{}).protocol),Wt={},wi=0,P={parse:function(D,M){var B=(M=M||{}).dynamicTyping||!1;if(he(B)&&(M.dynamicTypingFunction=B,B={}),M.dynamicTyping=B,M.transform=!!he(M.transform)&&M.transform,M.worker&&P.WORKERS_SUPPORTED){var K=function(){if(!P.WORKERS_SUPPORTED)return!1;var Vt,ft,Ee=(Vt=te.URL||te.webkitURL||null,ft=tt.toString(),P.BLOB_URL||(P.BLOB_URL=Vt.createObjectURL(new Blob(["(",ft,")();"],{type:"text/javascript"})))),G=new te.Worker(Ee);return G.onmessage=W,G.id=wi++,Wt[G.id]=G}();return K.userStep=M.step,K.userChunk=M.chunk,K.userComplete=M.complete,K.userError=M.error,M.step=he(M.step),M.chunk=he(M.chunk),M.complete=he(M.complete),M.error=he(M.error),delete M.worker,void K.postMessage({input:D,config:M,workerId:K.id})}var ie=null;return"string"==typeof D?ie=M.download?new Ne(M):new Te(M):!0===D.readable&&he(D.read)&&he(D.on)?ie=new Sn(M):(te.File&&D instanceof File||D instanceof Object)&&(ie=new qt(M)),ie.stream(D)},unparse:function(D,M){var B=!1,K=!0,ie=",",Ee="\r\n",G='"',Vt=G+G,ft=!1,ue=null,Ot=!1;!function(){if("object"==typeof M){if("string"!=typeof M.delimiter||P.BAD_DELIMITERS.filter(function(x){return-1!==M.delimiter.indexOf(x)}).length||(ie=M.delimiter),("boolean"==typeof M.quotes||"function"==typeof M.quotes||Array.isArray(M.quotes))&&(B=M.quotes),"boolean"!=typeof M.skipEmptyLines&&"string"!=typeof M.skipEmptyLines||(ft=M.skipEmptyLines),"string"==typeof M.newline&&(Ee=M.newline),"string"==typeof M.quoteChar&&(G=M.quoteChar),"boolean"==typeof M.header&&(K=M.header),Array.isArray(M.columns)){if(0===M.columns.length)throw new Error("Option columns is empty");ue=M.columns}void 0!==M.escapeChar&&(Vt=M.escapeChar+G),"boolean"==typeof M.escapeFormulae&&(Ot=M.escapeFormulae)}}();var I=new RegExp(cn(G),"g");if("string"==typeof D&&(D=JSON.parse(D)),Array.isArray(D)){if(!D.length||Array.isArray(D[0]))return U(null,D,ft);if("object"==typeof D[0])return U(ue||Object.keys(D[0]),D,ft)}else if("object"==typeof D)return"string"==typeof D.data&&(D.data=JSON.parse(D.data)),Array.isArray(D.data)&&(D.fields||(D.fields=D.meta&&D.meta.fields),D.fields||(D.fields=Array.isArray(D.data[0])?D.fields:"object"==typeof D.data[0]?Object.keys(D.data[0]):[]),Array.isArray(D.data[0])||"object"==typeof D.data[0]||(D.data=[D.data])),U(D.fields||[],D.data||[],ft);throw new Error("Unable to serialize unrecognized input");function U(x,fe,Ie){var kt="";"string"==typeof x&&(x=JSON.parse(x)),"string"==typeof fe&&(fe=JSON.parse(fe));var Dt=Array.isArray(x)&&0<x.length,Ut=!Array.isArray(fe[0]);if(Dt&&K){for(var tn=0;tn<x.length;tn++)0<tn&&(kt+=ie),kt+=Q(x[tn],tn);0<fe.length&&(kt+=Ee)}for(var we=0;we<fe.length;we++){var at=Dt?x.length:fe[we].length,Et=!1,At=Dt?0===Object.keys(fe[we]).length:0===fe[we].length;if(Ie&&!Dt&&(Et="greedy"===Ie?""===fe[we].join("").trim():1===fe[we].length&&0===fe[we][0].length),"greedy"===Ie&&Dt){for(var rt=[],de=0;de<at;de++)rt.push(fe[we][Ut?x[de]:de]);Et=""===rt.join("").trim()}if(!Et){for(var ke=0;ke<at;ke++)0<ke&&!At&&(kt+=ie),kt+=Q(fe[we][Dt&&Ut?x[ke]:ke],ke);we<fe.length-1&&(!Ie||0<at&&!At)&&(kt+=Ee)}}return kt}function Q(x,fe){if(null==x)return"";if(x.constructor===Date)return JSON.stringify(x).slice(1,25);!0===Ot&&"string"==typeof x&&null!==x.match(/^[=+\-@].*$/)&&(x="'"+x);var Ie=x.toString().replace(I,Vt);return"boolean"==typeof B&&B||"function"==typeof B&&B(x,fe)||Array.isArray(B)&&B[fe]||function(Dt,Ut){for(var tn=0;tn<Ut.length;tn++)if(-1<Dt.indexOf(Ut[tn]))return!0;return!1}(Ie,P.BAD_DELIMITERS)||-1<Ie.indexOf(ie)||" "===Ie.charAt(0)||" "===Ie.charAt(Ie.length-1)?G+Ie+G:Ie}}};if(P.RECORD_SEP=String.fromCharCode(30),P.UNIT_SEP=String.fromCharCode(31),P.BYTE_ORDER_MARK="\ufeff",P.BAD_DELIMITERS=["\r","\n",'"',P.BYTE_ORDER_MARK],P.WORKERS_SUPPORTED=!dt&&!!te.Worker,P.NODE_STREAM_INPUT=1,P.LocalChunkSize=10485760,P.RemoteChunkSize=5242880,P.DefaultDelimiter=",",P.Parser=Cn,P.ParserHandle=Oi,P.NetworkStreamer=Ne,P.FileStreamer=qt,P.StringStreamer=Te,P.ReadableStreamStreamer=Sn,te.jQuery){var V=te.jQuery;V.fn.parse=function(D){var M=D.config||{},B=[];return this.each(function(Ee){if("INPUT"!==V(this).prop("tagName").toUpperCase()||"file"!==V(this).attr("type").toLowerCase()||!te.FileReader||!this.files||0===this.files.length)return!0;for(var G=0;G<this.files.length;G++)B.push({file:this.files[G],inputElem:this,instanceConfig:V.extend({},M)})}),K(),this;function K(){if(0!==B.length){var G,Vt,ft,ue=B[0];if(he(D.before)){var Ot=D.before(ue.file,ue.inputElem);if("object"==typeof Ot){if("abort"===Ot.action)return"AbortError",G=ue.file,Vt=ue.inputElem,ft=Ot.reason,void(he(D.error)&&D.error({name:"AbortError"},G,Vt,ft));if("skip"===Ot.action)return void ie();"object"==typeof Ot.config&&(ue.instanceConfig=V.extend(ue.instanceConfig,Ot.config))}else if("skip"===Ot)return void ie()}var I=ue.instanceConfig.complete;ue.instanceConfig.complete=function(U){he(I)&&I(U,ue.file,ue.inputElem),ie()},P.parse(ue.file,ue.instanceConfig)}else he(D.complete)&&D.complete()}function ie(){B.splice(0,1),K()}}}function le(D){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(M){var B=q(M);B.chunkSize=parseInt(B.chunkSize),M.step||M.chunk||(B.chunkSize=null),this._handle=new Oi(B),(this._handle.streamer=this)._config=B}.call(this,D),this.parseChunk=function(M,B){if(this.isFirstChunk&&he(this._config.beforeFirstChunk)){var K=this._config.beforeFirstChunk(M);void 0!==K&&(M=K)}this.isFirstChunk=!1,this._halted=!1;var ie=this._partialLine+M;this._partialLine="";var Ee=this._handle.parse(ie,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var G=Ee.meta.cursor;this._finished||(this._partialLine=ie.substring(G-this._baseIndex),this._baseIndex=G),Ee&&Ee.data&&(this._rowCount+=Ee.data.length);var Vt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Ze)te.postMessage({results:Ee,workerId:P.WORKER_ID,finished:Vt});else if(he(this._config.chunk)&&!B){if(this._config.chunk(Ee,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);Ee=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(Ee.data),this._completeResults.errors=this._completeResults.errors.concat(Ee.errors),this._completeResults.meta=Ee.meta),this._completed||!Vt||!he(this._config.complete)||Ee&&Ee.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Vt||Ee&&Ee.meta.paused||this._nextChunk(),Ee}this._halted=!0},this._sendError=function(M){he(this._config.error)?this._config.error(M):Ze&&this._config.error&&te.postMessage({workerId:P.WORKER_ID,error:M,finished:!1})}}function Ne(D){var M;(D=D||{}).chunkSize||(D.chunkSize=P.RemoteChunkSize),le.call(this,D),this._nextChunk=dt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(B){this._input=B,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(M=new XMLHttpRequest,this._config.withCredentials&&(M.withCredentials=this._config.withCredentials),dt||(M.onload=ce(this._chunkLoaded,this),M.onerror=ce(this._chunkError,this)),M.open(this._config.downloadRequestBody?"POST":"GET",this._input,!dt),this._config.downloadRequestHeaders){var B=this._config.downloadRequestHeaders;for(var K in B)M.setRequestHeader(K,B[K])}this._config.chunkSize&&M.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{M.send(this._config.downloadRequestBody)}catch(Ee){this._chunkError(Ee.message)}dt&&0===M.status&&this._chunkError()}},this._chunkLoaded=function(){var K;4===M.readyState&&(M.status<200||400<=M.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:M.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(K=M.getResponseHeader("Content-Range"))?-1:parseInt(K.substring(K.lastIndexOf("/")+1))),this.parseChunk(M.responseText)))},this._chunkError=function(B){this._sendError(new Error(M.statusText||B))}}function qt(D){var M,B;(D=D||{}).chunkSize||(D.chunkSize=P.LocalChunkSize),le.call(this,D);var K=typeof FileReader<"u";this.stream=function(ie){this._input=ie,B=ie.slice||ie.webkitSlice||ie.mozSlice,K?((M=new FileReader).onload=ce(this._chunkLoaded,this),M.onerror=ce(this._chunkError,this)):M=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var ie=this._input;if(this._config.chunkSize){var Ee=Math.min(this._start+this._config.chunkSize,this._input.size);ie=B.call(ie,this._start,Ee)}var G=M.readAsText(ie,this._config.encoding);K||this._chunkLoaded({target:{result:G}})},this._chunkLoaded=function(ie){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(ie.target.result)},this._chunkError=function(){this._sendError(M.error)}}function Te(D){var M;le.call(this,D=D||{}),this.stream=function(B){return M=B,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var B,K=this._config.chunkSize;return K?(B=M.substring(0,K),M=M.substring(K)):(B=M,M=""),this._finished=!M,this.parseChunk(B)}}}function Sn(D){le.call(this,D=D||{});var M=[],B=!0,K=!1;this.pause=function(){le.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){le.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(ie){this._input=ie,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){K&&1===M.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),M.length?this.parseChunk(M.shift()):B=!0},this._streamData=ce(function(ie){try{M.push("string"==typeof ie?ie:ie.toString(this._config.encoding)),B&&(B=!1,this._checkIsFinished(),this.parseChunk(M.shift()))}catch(Ee){this._streamError(Ee)}},this),this._streamError=ce(function(ie){this._streamCleanUp(),this._sendError(ie)},this),this._streamEnd=ce(function(){this._streamCleanUp(),K=!0,this._streamData("")},this),this._streamCleanUp=ce(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function Oi(D){var M,B,K,ie=Math.pow(2,53),Ee=-ie,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Vt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ft=this,ue=0,Ot=0,I=!1,U=!1,Q=[],x={data:[],errors:[],meta:{}};if(he(D.step)){var fe=D.step;D.step=function(we){if(x=we,Dt())kt();else{if(kt(),0===x.data.length)return;ue+=we.data.length,D.preview&&ue>D.preview?B.abort():(x.data=x.data[0],fe(x,ft))}}}function Ie(we){return"greedy"===D.skipEmptyLines?""===we.join("").trim():1===we.length&&0===we[0].length}function kt(){if(x&&K&&(tn("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+P.DefaultDelimiter+"'"),K=!1),D.skipEmptyLines)for(var we=0;we<x.data.length;we++)Ie(x.data[we])&&x.data.splice(we--,1);return Dt()&&function(){if(x)if(Array.isArray(x.data[0])){for(var Et=0;Dt()&&Et<x.data.length;Et++)x.data[Et].forEach(at);x.data.splice(0,1)}else x.data.forEach(at);function at(At,rt){he(D.transformHeader)&&(At=D.transformHeader(At,rt)),Q.push(At)}}(),function(){if(!x||!D.header&&!D.dynamicTyping&&!D.transform)return x;function at(At,rt){var de,Pt=D.header?{}:[];for(de=0;de<At.length;de++){var ke=de,Kt=At[de];D.header&&(ke=de>=Q.length?"__parsed_extra":Q[de]),D.transform&&(Kt=D.transform(Kt,ke)),Kt=Ut(ke,Kt),"__parsed_extra"===ke?(Pt[ke]=Pt[ke]||[],Pt[ke].push(Kt)):Pt[ke]=Kt}return D.header&&(de>Q.length?tn("FieldMismatch","TooManyFields","Too many fields: expected "+Q.length+" fields but parsed "+de,Ot+rt):de<Q.length&&tn("FieldMismatch","TooFewFields","Too few fields: expected "+Q.length+" fields but parsed "+de,Ot+rt)),Pt}var Et=1;return!x.data.length||Array.isArray(x.data[0])?(x.data=x.data.map(at),Et=x.data.length):x.data=at(x.data,0),D.header&&x.meta&&(x.meta.fields=Q),Ot+=Et,x}()}function Dt(){return D.header&&0===Q.length}function Ut(we,at){return Et=we,D.dynamicTypingFunction&&void 0===D.dynamicTyping[Et]&&(D.dynamicTyping[Et]=D.dynamicTypingFunction(Et)),!0===(D.dynamicTyping[Et]||D.dynamicTyping)?"true"===at||"TRUE"===at||"false"!==at&&"FALSE"!==at&&(function(At){if(G.test(At)){var rt=parseFloat(At);if(Ee<rt&&rt<ie)return!0}return!1}(at)?parseFloat(at):Vt.test(at)?new Date(at):""===at?null:at):at;var Et}function tn(we,at,Et,At){var rt={type:we,code:at,message:Et};void 0!==At&&(rt.row=At),x.errors.push(rt)}this.parse=function(we,at,Et){if(D.newline||(D.newline=function(Pt,ke){Pt=Pt.substring(0,1048576);var Kt=new RegExp(cn(ke)+"([^]*?)"+cn(ke),"gm"),_i=(Pt=Pt.replace(Kt,"")).split("\r"),Dn=Pt.split("\n");if(1===_i.length||1<Dn.length&&Dn[0].length<_i[0].length)return"\n";for(var Ci=0,Zn=0;Zn<_i.length;Zn++)"\n"===_i[Zn][0]&&Ci++;return Ci>=_i.length/2?"\r\n":"\r"}(we,D.quoteChar||'"')),K=!1,D.delimiter)he(D.delimiter)&&(D.delimiter=D.delimiter(we),x.meta.delimiter=D.delimiter);else{var rt=function(Pt,ke,Kt,_i,Dn){var xt,Ci,Zn,In;Dn=Dn||[",","\t","|",";",P.RECORD_SEP,P.UNIT_SEP];for(var Bn=0;Bn<Dn.length;Bn++){var nn=Dn[Bn],Pr=0,Xn=0,gc=0;Zn=void 0;for(var os=new Cn({comments:_i,delimiter:nn,newline:ke,preview:10}).parse(Pt),xr=0;xr<os.data.length;xr++)if(Kt&&Ie(os.data[xr]))gc++;else{var as=os.data[xr].length;Xn+=as,void 0!==Zn?0<as&&(Pr+=Math.abs(as-Zn),Zn=as):Zn=as}0<os.data.length&&(Xn/=os.data.length-gc),(void 0===Ci||Pr<=Ci)&&(void 0===In||In<Xn)&&1.99<Xn&&(Ci=Pr,xt=nn,In=Xn)}return{successful:!!(D.delimiter=xt),bestDelimiter:xt}}(we,D.newline,D.skipEmptyLines,D.comments,D.delimitersToGuess);rt.successful?D.delimiter=rt.bestDelimiter:(K=!0,D.delimiter=P.DefaultDelimiter),x.meta.delimiter=D.delimiter}var de=q(D);return D.preview&&D.header&&de.preview++,M=we,B=new Cn(de),x=B.parse(M,at,Et),kt(),I?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return I},this.pause=function(){I=!0,B.abort(),M=he(D.chunk)?"":M.substring(B.getCharIndex())},this.resume=function(){ft.streamer._halted?(I=!1,ft.streamer.parseChunk(M,!0)):setTimeout(ft.resume,3)},this.aborted=function(){return U},this.abort=function(){U=!0,B.abort(),x.meta.aborted=!0,he(D.complete)&&D.complete(x),M=""}}function cn(D){return D.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Cn(D){var M,B=(D=D||{}).delimiter,K=D.newline,ie=D.comments,Ee=D.step,G=D.preview,Vt=D.fastMode,ft=M=void 0===D.quoteChar?'"':D.quoteChar;if(void 0!==D.escapeChar&&(ft=D.escapeChar),("string"!=typeof B||-1<P.BAD_DELIMITERS.indexOf(B))&&(B=","),ie===B)throw new Error("Comment character same as delimiter");!0===ie?ie="#":("string"!=typeof ie||-1<P.BAD_DELIMITERS.indexOf(ie))&&(ie=!1),"\n"!==K&&"\r"!==K&&"\r\n"!==K&&(K="\n");var ue=0,Ot=!1;this.parse=function(I,U,Q){if("string"!=typeof I)throw new Error("Input must be a string");var x=I.length,fe=B.length,Ie=K.length,kt=ie.length,Dt=he(Ee),Ut=[],tn=[],we=[],at=ue=0;if(!I)return In();if(Vt||!1!==Vt&&-1===I.indexOf(M)){for(var Et=I.split(K),At=0;At<Et.length;At++){if(ue+=(we=Et[At]).length,At!==Et.length-1)ue+=K.length;else if(Q)return In();if(!ie||we.substring(0,kt)!==ie){if(Dt){if(Ut=[],Dn(we.split(B)),Bn(),Ot)return In()}else Dn(we.split(B));if(G&&G<=At)return Ut=Ut.slice(0,G),In(!0)}}return In()}for(var rt=I.indexOf(B,ue),de=I.indexOf(K,ue),Pt=new RegExp(cn(ft)+cn(M),"g"),ke=I.indexOf(M,ue);;)if(I[ue]!==M)if(ie&&0===we.length&&I.substring(ue,ue+kt)===ie){if(-1===de)return In();de=I.indexOf(K,ue=de+Ie),rt=I.indexOf(B,ue)}else if(-1!==rt&&(rt<de||-1===de))we.push(I.substring(ue,rt)),rt=I.indexOf(B,ue=rt+fe);else{if(-1===de)break;if(we.push(I.substring(ue,de)),Zn(de+Ie),Dt&&(Bn(),Ot))return In();if(G&&Ut.length>=G)return In(!0)}else for(ke=ue,ue++;;){if(-1===(ke=I.indexOf(M,ke+1)))return Q||tn.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Ut.length,index:ue}),Ci();if(ke===x-1)return Ci(I.substring(ue,ke).replace(Pt,M));if(M!==ft||I[ke+1]!==ft){if(M===ft||0===ke||I[ke-1]!==ft){-1!==rt&&rt<ke+1&&(rt=I.indexOf(B,ke+1)),-1!==de&&de<ke+1&&(de=I.indexOf(K,ke+1));var Kt=xt(-1===de?rt:Math.min(rt,de));if(I[ke+1+Kt]===B){we.push(I.substring(ue,ke).replace(Pt,M)),I[ue=ke+1+Kt+fe]!==M&&(ke=I.indexOf(M,ue)),rt=I.indexOf(B,ue),de=I.indexOf(K,ue);break}var _i=xt(de);if(I.substring(ke+1+_i,ke+1+_i+Ie)===K){if(we.push(I.substring(ue,ke).replace(Pt,M)),Zn(ke+1+_i+Ie),rt=I.indexOf(B,ue),ke=I.indexOf(M,ue),Dt&&(Bn(),Ot))return In();if(G&&Ut.length>=G)return In(!0);break}tn.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Ut.length,index:ue}),ke++}}else ke++}return Ci();function Dn(nn){Ut.push(nn),at=ue}function xt(nn){var Pr=0;if(-1!==nn){var Xn=I.substring(ke+1,nn);Xn&&""===Xn.trim()&&(Pr=Xn.length)}return Pr}function Ci(nn){return Q||(void 0===nn&&(nn=I.substring(ue)),we.push(nn),ue=x,Dn(we),Dt&&Bn()),In()}function Zn(nn){ue=nn,Dn(we),we=[],de=I.indexOf(K,ue)}function In(nn){return{data:Ut,errors:tn,meta:{delimiter:B,linebreak:K,aborted:Ot,truncated:!!nn,cursor:at+(U||0)}}}function Bn(){Ee(In()),Ut=[],tn=[]}},this.abort=function(){Ot=!0},this.getCharIndex=function(){return ue}}function W(D){var M=D.data,B=Wt[M.workerId],K=!1;if(M.error)B.userError(M.error,M.file);else if(M.results&&M.results.data){var ie={abort:function(){K=!0,j(M.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:J,resume:J};if(he(B.userStep)){for(var Ee=0;Ee<M.results.data.length&&(B.userStep({data:M.results.data[Ee],errors:M.results.errors,meta:M.results.meta},ie),!K);Ee++);delete M.results}else he(B.userChunk)&&(B.userChunk(M.results,ie,M.file),delete M.results)}M.finished&&!K&&j(M.workerId,M.results)}function j(D,M){var B=Wt[D];he(B.userComplete)&&B.userComplete(M),B.terminate(),delete Wt[D]}function J(){throw new Error("Not implemented.")}function q(D){if("object"!=typeof D||null===D)return D;var M=Array.isArray(D)?[]:{};for(var B in D)M[B]=q(D[B]);return M}function ce(D,M){return function(){D.apply(M,arguments)}}function he(D){return"function"==typeof D}return Ze&&(te.onmessage=function(D){var M=D.data;if(void 0===P.WORKER_ID&&M&&(P.WORKER_ID=M.workerId),"string"==typeof M.input)te.postMessage({workerId:P.WORKER_ID,results:P.parse(M.input,M.config),finished:!0});else if(te.File&&M.input instanceof File||M.input instanceof Object){var B=P.parse(M.input,M.config);B&&te.postMessage({workerId:P.WORKER_ID,results:B,finished:!0})}}),(Ne.prototype=Object.create(le.prototype)).constructor=Ne,(qt.prototype=Object.create(le.prototype)).constructor=qt,(Te.prototype=Object.create(Te.prototype)).constructor=Te,(Sn.prototype=Object.create(le.prototype)).constructor=Sn,P},void 0!==(Le=$e.apply(en,[]))&&(Tn.exports=Le)},5217:Tn=>{"use strict";var en=setTimeout;function $e(){}function Le(P){if(!(this instanceof Le))throw new TypeError("Promises must be constructed via new");if("function"!=typeof P)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],wi(P,this)}function tt(P,V){for(;3===P._state;)P=P._value;0!==P._state?(P._handled=!0,Le._immediateFn(function(){var le=1===P._state?V.onFulfilled:V.onRejected;if(null!==le){var Ne;try{Ne=le(P._value)}catch(qt){return void dt(V.promise,qt)}te(V.promise,Ne)}else(1===P._state?te:dt)(V.promise,P._value)})):P._deferreds.push(V)}function te(P,V){try{if(V===P)throw new TypeError("A promise cannot be resolved with itself.");if(V&&("object"==typeof V||"function"==typeof V)){var le=V.then;if(V instanceof Le)return P._state=3,P._value=V,void Ze(P);if("function"==typeof le)return void wi(function Ye(P,V){return function(){P.apply(V,arguments)}}(le,V),P)}P._state=1,P._value=V,Ze(P)}catch(Ne){dt(P,Ne)}}function dt(P,V){P._state=2,P._value=V,Ze(P)}function Ze(P){2===P._state&&0===P._deferreds.length&&Le._immediateFn(function(){P._handled||Le._unhandledRejectionFn(P._value)});for(var V=0,le=P._deferreds.length;V<le;V++)tt(P,P._deferreds[V]);P._deferreds=null}function Wt(P,V,le){this.onFulfilled="function"==typeof P?P:null,this.onRejected="function"==typeof V?V:null,this.promise=le}function wi(P,V){var le=!1;try{P(function(Ne){le||(le=!0,te(V,Ne))},function(Ne){le||(le=!0,dt(V,Ne))})}catch(Ne){if(le)return;le=!0,dt(V,Ne)}}Le.prototype.catch=function(P){return this.then(null,P)},Le.prototype.then=function(P,V){var le=new this.constructor($e);return tt(this,new Wt(P,V,le)),le},Le.prototype.finally=function(P){var V=this.constructor;return this.then(function(le){return V.resolve(P()).then(function(){return le})},function(le){return V.resolve(P()).then(function(){return V.reject(le)})})},Le.all=function(P){return new Le(function(V,le){if(!P||typeof P.length>"u")throw new TypeError("Promise.all accepts an array");var Ne=Array.prototype.slice.call(P);if(0===Ne.length)return V([]);var qt=Ne.length;function Te(Oi,cn){try{if(cn&&("object"==typeof cn||"function"==typeof cn)){var Cn=cn.then;if("function"==typeof Cn)return void Cn.call(cn,function(W){Te(Oi,W)},le)}Ne[Oi]=cn,0==--qt&&V(Ne)}catch(W){le(W)}}for(var Sn=0;Sn<Ne.length;Sn++)Te(Sn,Ne[Sn])})},Le.resolve=function(P){return P&&"object"==typeof P&&P.constructor===Le?P:new Le(function(V){V(P)})},Le.reject=function(P){return new Le(function(V,le){le(P)})},Le.race=function(P){return new Le(function(V,le){for(var Ne=0,qt=P.length;Ne<qt;Ne++)P[Ne].then(V,le)})},Le._immediateFn="function"==typeof setImmediate&&function(P){setImmediate(P)}||function(P){en(P,0)},Le._unhandledRejectionFn=function(V){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",V)},Tn.exports=Le},4120:(Tn,en,$e)=>{"use strict";var Ye=global.Promise||$e(5217),Le=$e(7021),tt=Object.freeze(["play","pause","toggle","seekTo","setVolume","next","prev","skip"]),te=Object.freeze(["getVolume","getDuration","getPosition","getSounds","getCurrentSound","getCurrentSoundIndex","isPaused"]),dt=Object.freeze({autoPlay:"auto_play",showArtwork:"show_artwork",showComments:"show_comments",showPlaycount:"show_playcount",showUser:"show_user",startTrack:"start_track"});function Ze(V){this._widget=Le(V)}function Wt(V){return function(){this._widget[V].apply(this._widget,arguments)}}Ze.events=Le.Events,Ze.prototype.load=function(V,le){return new Ye(function(Ne){(le=le||{}).callback=Ne,function P(V){for(var le in dt)dt.hasOwnProperty(le)&&null!=V[le]&&(V[dt[le]]=V[le])}(le),this._widget.load(V,le)}.bind(this))},Ze.prototype.on=Wt("bind"),Ze.prototype.bind=Ze.prototype.on,Ze.prototype.removeListener=Wt("unbind"),Ze.prototype.unbind=Ze.prototype.removeListener,tt.forEach(function(V){Ze.prototype[V]=Wt(V)}),te.forEach(function(V){Ze.prototype[V]=function wi(V){return function(){return new Ye(function(le,Ne){this._widget[V](function(qt){le(qt)})}.bind(this))}}(V)}),Tn.exports=Ze},7021:Tn=>{var en=en||{};en.Widget=function($e){function Ye(tt){if(Le[tt])return Le[tt].exports;var te=Le[tt]={exports:{},id:tt,loaded:!1};return $e[tt].call(te.exports,te,te.exports,Ye),te.loaded=!0,te.exports}var Le={};return Ye.m=$e,Ye.c=Le,Ye.p="",Ye(0)}([function($e,Ye,Le){function Wt(I){var U,Q;for(U=0,Q=Vt.length;U<Q&&!1!==I(Vt[U]);U++);}function P(I){return I.contentWindow?I.contentWindow:I.contentDocument&&"parentWindow"in I.contentDocument?I.contentDocument.parentWindow:null}function V(I){var U,Q=[];for(U in I)I.hasOwnProperty(U)&&Q.push(I[U]);return Q}function le(I,U,Q){Q.callbacks[I]=Q.callbacks[I]||[],Q.callbacks[I].push(U)}function Ne(I,U){var x=!0;return U.callbacks[I]=[],Wt(function(fe){if((fe.callbacks[I]||[]).length)return x=!1,!1}),x}function qt(I,U,Q){var x,fe,Ie=P(Q);return!!Ie.postMessage&&(x=Q.getAttribute("src").split("?")[0],fe=JSON.stringify({method:I,value:U}),"//"===x.substr(0,2)&&(x=window.location.protocol+x),x=x.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void Ie.postMessage(fe,x))}function Te(I){var U;return Wt(function(Q){if(Q.instance===I)return U=Q,!1}),U}function Sn(I){var U;return Wt(function(Q){if(P(Q.element)===I)return U=Q,!1}),U}function Oi(I,U){return function(Q){var x=function te(I){return!!(I&&I.constructor&&I.call&&I.apply)}(Q),fe=Te(this),Ie=!x&&U?Q:null,kt=x&&!U?Q:null;return kt&&le(I,kt,fe),qt(I,Ie,fe.element),this}}function cn(I,U,Q){var x,fe,Ie;for(x=0,fe=U.length;x<fe;x++)I[Ie=U[x]]=Oi(Ie,Q)}function Cn(I,U,Q){return I+"?url="+U+"&"+function W(I){var U,Q,x=[];for(U in I)I.hasOwnProperty(U)&&(Q=I[U],x.push(U+"="+("start_track"===U?parseInt(Q,10):Q?"true":"false")));return x.join("&")}(Q)}function j(I,U,Q){var x,fe,Ie=I.callbacks[U]||[];for(x=0,fe=Ie.length;x<fe;x++)Ie[x].apply(I.instance,Q);(function Ze(I){var U,Q=!1;for(U in B)if(B.hasOwnProperty(U)&&B[U]===I){Q=!0;break}return Q}(U)||U===ie.READY)&&(I.callbacks[U]=[])}function J(I){var U,Q,x,fe,Ie;try{Q=JSON.parse(I.data)}catch{return!1}return U=Sn(I.source),x=Q.method,fe=Q.value,(!U||q(I.origin)===q(U.domain))&&(U?(x===ie.READY&&(U.isReady=!0,j(U,ft),Ne(ft,U)),x!==ie.PLAY||U.playEventFired||(U.playEventFired=!0),x!==ie.PLAY_PROGRESS||U.playEventFired||(U.playEventFired=!0,j(U,ie.PLAY,[fe])),Ie=[],void 0!==fe&&Ie.push(fe),void j(U,x,Ie)):(x===ie.READY&&G.push(I.source),!1))}function q(I){return I.replace(Ot,"")}var ce,he,D,M=Le(1),B=Le(2),K=Le(3),ie=M.api,Ee=M.bridge,G=[],Vt=[],ft="__LATE_BINDING__",Ot=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",J,!1):window.attachEvent("onmessage",J),$e.exports=D=function(I,U,Q){if(function tt(I){return!!(""===I||I&&I.charCodeAt&&I.substr)}(I)&&(I=document.getElementById(I)),!function dt(I){return!(!I||1!==I.nodeType||"IFRAME"!==I.nodeName.toUpperCase())}(I))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");U&&(I.src=Cn("http://wt.soundcloud.dev:9200/",U,Q=Q||{}));var x,fe,Ie=Sn(P(I));return Ie&&Ie.instance?Ie.instance:(x=G.indexOf(P(I))>-1,fe=new ce(I),Vt.push(new he(fe,I,x)),fe)},D.Events=ie,window.SC=window.SC||{},window.SC.Widget=D,he=function(I,U,Q){this.instance=I,this.element=U,this.domain=function wi(I){var U,Q,x,fe="";for("//"===I.substr(0,2)&&(I=window.location.protocol+I),U=0,Q=(x=I.split("/")).length;U<Q&&U<3;U++)fe+=x[U],U<2&&(fe+="/");return fe}(U.getAttribute("src")),this.isReady=!!Q,this.callbacks={}},(ce=function(){}).prototype={constructor:ce,load:function(I,U){if(I){U=U||{};var Q=this,x=Te(this),fe=x.element,Ie=fe.src,kt=Ie.substr(0,Ie.indexOf("?"));x.isReady=!1,x.playEventFired=!1,fe.onload=function(){Q.bind(ie.READY,function(){var Dt,Ut=x.callbacks;for(Dt in Ut)Ut.hasOwnProperty(Dt)&&Dt!==ie.READY&&qt(Ee.ADD_LISTENER,Dt,x.element);U.callback&&U.callback()})},fe.src=Cn(kt,I,U)}},bind:function(I,U){var Q=this,x=Te(this);return x&&x.element&&(I===ie.READY&&x.isReady?setTimeout(U,1):x.isReady?(le(I,U,x),qt(Ee.ADD_LISTENER,I,x.element)):le(ft,function(){Q.bind(I,U)},x)),this},unbind:function(I){var U,Q=Te(this);Q&&Q.element&&(U=Ne(I,Q),I!==ie.READY&&U&&qt(Ee.REMOVE_LISTENER,I,Q.element))}},cn(ce.prototype,V(B)),cn(ce.prototype,V(K),!0)},function($e,Ye){Ye.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},Ye.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function($e,Ye){$e.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function($e,Ye){$e.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}]),Tn.exports=en.Widget},409:(Tn,en,$e)=>{"use strict";function Ye(n){return"function"==typeof n}let Le=!1;const tt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Le&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Le=n},get useDeprecatedSynchronousErrorHandling(){return Le}};function te(n){setTimeout(()=>{throw n},0)}const dt={closed:!0,next(n){},error(n){if(tt.useDeprecatedSynchronousErrorHandling)throw n;te(n)},complete(){}},Ze=Array.isArray||(n=>n&&"number"==typeof n.length);function Wt(n){return null!==n&&"object"==typeof n}const P=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class V{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof V)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(Ye(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){t=o instanceof P?le(o.errors):[o]}}if(Ze(s)){let o=-1,l=s.length;for(;++o<l;){const c=s[o];if(Wt(c))try{c.unsubscribe()}catch(h){t=t||[],h instanceof P?t=t.concat(le(h.errors)):t.push(h)}}}if(t)throw new P(t)}add(t){let e=t;if(!t)return V.EMPTY;switch(typeof t){case"function":e=new V(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof V)){const s=e;e=new V,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof V){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function le(n){return n.reduce((t,e)=>t.concat(e instanceof P?e.errors:e),[])}V.EMPTY=((n=new V).closed=!0,n);const Ne="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Te extends V{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=dt;break;case 1:if(!t){this.destination=dt;break}if("object"==typeof t){t instanceof Te?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Sn(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Sn(this,t,e,i)}}[Ne](){return this}static create(t,e,i){const r=new Te(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Sn extends Te{constructor(t,e,i,r){super(),this._parentSubscriber=t;let s,o=this;Ye(e)?s=e:e&&(s=e.next,i=e.error,r=e.complete,e!==dt&&(o=Object.create(e),Ye(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;tt.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=tt;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):te(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;te(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);tt.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),tt.useDeprecatedSynchronousErrorHandling)throw i;te(i)}}__tryOrSetError(t,e,i){if(!tt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return tt.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(te(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Cn="function"==typeof Symbol&&Symbol.observable||"@@observable";function W(n){return n}function J(n){return 0===n.length?W:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let q=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:s}=this,o=function cn(n,t,e){if(n){if(n instanceof Te)return n;if(n[Ne])return n[Ne]()}return n||t||e?new Te(n,t,e):new Te(dt)}(e,i,r);if(o.add(s?s.call(o,this.source):this.source||tt.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),tt.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){tt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function Oi(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Te?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=ce(i))((r,s)=>{let o;o=this.subscribe(l=>{try{e(l)}catch(c){s(c),o&&o.unsubscribe()}},s,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Cn](){return this}pipe(...e){return 0===e.length?this:J(e)(this)}toPromise(e){return new(e=ce(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function ce(n){if(n||(n=tt.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const D=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class M extends V{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class B extends Te{constructor(t){super(t),this.destination=t}}let K=(()=>{class n extends q{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ne](){return new B(this)}lift(e){const i=new ie(this,this);return i.operator=e,i}next(e){if(this.closed)throw new D;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(e)}}error(e){if(this.closed)throw new D;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new D;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new D;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new D;return this.hasError?(e.error(this.thrownError),V.EMPTY):this.isStopped?(e.complete(),V.EMPTY):(this.observers.push(e),new M(this,e))}asObservable(){const e=new q;return e.source=this,e}}return n.create=(t,e)=>new ie(t,e),n})();class ie extends K{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):V.EMPTY}}function Ee(n){return n&&"function"==typeof n.schedule}function G(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Vt(n,t))}}class Vt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new ft(t,this.project,this.thisArg))}}class ft extends Te{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const ue=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},U=function I(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),Ie=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function kt(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const Dt=n=>{if(n&&"function"==typeof n[Cn])return(n=>t=>{const e=n[Cn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(Ie(n))return ue(n);if(kt(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,te),t))(n);if(n&&"function"==typeof n[U])return(n=>t=>{const e=n[U]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Wt(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function we(n,t){return new q(e=>{const i=new V;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function de(n,t){return t?function rt(n,t){if(null!=n){if(function Et(n){return n&&"function"==typeof n[Cn]}(n))return function Ut(n,t){return new q(e=>{const i=new V;return i.add(t.schedule(()=>{const r=n[Cn]();i.add(r.subscribe({next(s){i.add(t.schedule(()=>e.next(s)))},error(s){i.add(t.schedule(()=>e.error(s)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(kt(n))return function tn(n,t){return new q(e=>{const i=new V;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(Ie(n))return we(n,t);if(function At(n){return n&&"function"==typeof n[U]}(n)||"string"==typeof n)return function at(n,t){if(!n)throw new Error("Iterable cannot be null");return new q(e=>{const i=new V;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[U](),i.add(t.schedule(function(){if(e.closed)return;let s,o;try{const l=r.next();s=l.value,o=l.done}catch(l){return void e.error(l)}o?e.complete():(e.next(s),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof q?n:new q(Dt(n))}class Pt extends Te{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Kt extends Te{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function Dn(n,t){if(t.closed)return;if(n instanceof q)return n.subscribe(t);let e;try{e=Dt(n)(t)}catch(i){t.error(i)}return e}function xt(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(xt((r,s)=>de(n(r,s)).pipe(G((o,l)=>t(r,o,s,l))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Ci(n,e)))}class Ci{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Zn(t,this.project,this.concurrent))}}class Zn extends Kt{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Pt(this),i=this.destination;i.add(e);const r=Dn(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function Bn(n=Number.POSITIVE_INFINITY){return xt(W,n)}function nn(n,t){return t?we(n,t):new q(ue(n))}function Xn(){return function(t){return t.lift(new gc(t))}}class gc{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new os(t,i),s=e.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class os extends Te{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class xr extends q{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new V,t.add(this.source.subscribe(new uM(this.getSubject(),this))),t.closed&&(this._connection=null,t=V.EMPTY)),t}refCount(){return Xn()(this)}}const as=(()=>{const n=xr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class uM extends B{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class fM{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(t);return s.add(e.subscribe(r)),s}}function pM(){return new K}function mt(n){for(let t in n)if(n[t]===mt)return t;throw Error("Could not find renamed property on target object.")}function Xd(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function yt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(yt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function eh(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const mM=mt({__forward_ref__:mt});function pt(n){return n.__forward_ref__=pt,n.toString=function(){return yt(this())},n}function Ce(n){return th(n)?n():n}function th(n){return"function"==typeof n&&n.hasOwnProperty(mM)&&n.__forward_ref__===pt}function nh(n){return n&&!!n.\u0275providers}const mc="https://g.co/ng/security#xss";class z extends Error{constructor(t,e){super(function yc(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function Oe(n){return"string"==typeof n?n:null==n?"":String(n)}function vc(n,t){throw new z(-201,!1)}function ai(n,t){null==n&&function ct(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function ee(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function un(n){return{providers:n.providers||[],imports:n.imports||[]}}function bc(n){return Km(n,wc)||Km(n,Jm)}function Km(n,t){return n.hasOwnProperty(t)?n[t]:null}function Ym(n){return n&&(n.hasOwnProperty(ih)||n.hasOwnProperty(MM))?n[ih]:null}const wc=mt({\u0275prov:mt}),ih=mt({\u0275inj:mt}),Jm=mt({ngInjectableDef:mt}),MM=mt({ngInjectorDef:mt});var De=(()=>((De=De||{})[De.Default=0]="Default",De[De.Host=1]="Host",De[De.Self=2]="Self",De[De.SkipSelf=4]="SkipSelf",De[De.Optional=8]="Optional",De))();let rh;function Di(n){const t=rh;return rh=n,t}function Qm(n,t,e){const i=bc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&De.Optional?null:void 0!==t?t:void vc(yt(n))}const Mt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ia={},sh="__NG_DI_FLAG__",_c="ngTempTokenPath",IM=/\n/gm,Zm="__source";let ra;function Hs(n){const t=ra;return ra=n,t}function AM(n,t=De.Default){if(void 0===ra)throw new z(-203,!1);return null===ra?Qm(n,void 0,t):ra.get(n,t&De.Optional?null:void 0,t)}function F(n,t=De.Default){return(function TM(){return rh}()||AM)(Ce(n),t)}function Je(n,t=De.Default){return F(n,Cc(t))}function Cc(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function oh(n){const t=[];for(let e=0;e<n.length;e++){const i=Ce(n[e]);if(Array.isArray(i)){if(0===i.length)throw new z(900,!1);let r,s=De.Default;for(let o=0;o<i.length;o++){const l=i[o],c=PM(l);"number"==typeof c?-1===c?r=l.token:s|=c:r=l}t.push(F(r,s))}else t.push(F(i))}return t}function sa(n,t){return n[sh]=t,n.prototype[sh]=t,n}function PM(n){return n[sh]}function Or(n){return{toString:n}.toString()}var Ri=(()=>((Ri=Ri||{})[Ri.OnPush=0]="OnPush",Ri[Ri.Default=1]="Default",Ri))(),Ki=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Ki||(Ki={})),Ki))();const lr={},ot=[],Dc=mt({\u0275cmp:mt}),ah=mt({\u0275dir:mt}),lh=mt({\u0275pipe:mt}),ey=mt({\u0275mod:mt}),cr=mt({\u0275fac:mt}),oa=mt({__NG_ELEMENT_ID__:mt});let RM=0;function Qe(n){return Or(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Ri.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||ot,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ki.Emulated,id:"c"+RM++,styles:n.styles||ot,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return r.inputs=iy(n.inputs,i),r.outputs=iy(n.outputs),o&&o.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(ty).filter(ny):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Gn).filter(ny):null,r})}function ty(n){return ut(n)||On(n)}function ny(n){return null!==n}function En(n){return Or(()=>({type:n.type,bootstrap:n.bootstrap||ot,declarations:n.declarations||ot,imports:n.imports||ot,exports:n.exports||ot,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iy(n,t){if(null==n)return lr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const ye=Qe;function jn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ut(n){return n[Dc]||null}function On(n){return n[ah]||null}function Gn(n){return n[lh]||null}function li(n,t){const e=n[ey]||null;if(!e&&!0===t)throw new Error(`Type ${yt(n)} does not have '\u0275mod' property.`);return e}function ei(n){return Array.isArray(n)&&"object"==typeof n[1]}function Fi(n){return Array.isArray(n)&&!0===n[1]}function dh(n){return 0!=(4&n.flags)}function Sc(n){return n.componentOffset>-1}function Ic(n){return 1==(1&n.flags)}function Ni(n){return null!==n.template}function HM(n){return 0!=(256&n[2])}function hs(n,t){return n.hasOwnProperty(cr)?n[cr]:null}class GM{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ti(){return oy}function oy(n){return n.type.prototype.ngOnChanges&&(n.setInput=zM),$M}function $M(){const n=ly(this),t=n?.current;if(t){const e=n.previous;if(e===lr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function zM(n,t,e,i){const r=this.declaredInputs[e],s=ly(n)||function WM(n,t){return n[ay]=t}(n,{previous:lr,current:null}),o=s.current||(s.current={}),l=s.previous,c=l[r];o[r]=new GM(c&&c.currentValue,t,l===lr),n[i]=t}ti.ngInherit=!0;const ay="__ngSimpleChanges__";function ly(n){return n[ay]||null}function dn(n){for(;Array.isArray(n);)n=n[0];return n}function kc(n,t){return dn(t[n])}function ui(n,t){return dn(t[n.index])}function mh(n,t){return n.data[t]}function zs(n,t){return n[t]}function di(n,t){const e=t[n];return ei(e)?e:e[0]}function Ac(n){return 64==(64&n[2])}function Rr(n,t){return null==t?null:n[t]}function cy(n){n[18]=0}function yh(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const Ae={lFrame:by(null),bindingsEnabled:!0};function dy(){return Ae.bindingsEnabled}function N(){return Ae.lFrame.lView}function Xe(){return Ae.lFrame.tView}function Ws(n){return Ae.lFrame.contextLView=n,n[8]}function qs(n){return Ae.lFrame.contextLView=null,n}function kn(){let n=hy();for(;null!==n&&64===n.type;)n=n.parent;return n}function hy(){return Ae.lFrame.currentTNode}function Yi(n,t){const e=Ae.lFrame;e.currentTNode=n,e.isParent=t}function vh(){return Ae.lFrame.isParent}function bh(){Ae.lFrame.isParent=!1}function $n(){const n=Ae.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Ks(){return Ae.lFrame.bindingIndex++}function dr(n){const t=Ae.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function aT(n,t){const e=Ae.lFrame;e.bindingIndex=e.bindingRootIndex=n,wh(t)}function wh(n){Ae.lFrame.currentDirectiveIndex=n}function my(){return Ae.lFrame.currentQueryIndex}function Ch(n){Ae.lFrame.currentQueryIndex=n}function cT(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function yy(n,t,e){if(e&De.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&De.Host||(r=cT(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=Ae.lFrame=vy();return i.currentTNode=t,i.lView=n,!0}function Dh(n){const t=vy(),e=n[1];Ae.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function vy(){const n=Ae.lFrame,t=null===n?null:n.child;return null===t?by(n):t}function by(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function wy(){const n=Ae.lFrame;return Ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _y=wy;function Eh(){const n=wy();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function zn(){return Ae.lFrame.selectedIndex}function fs(n){Ae.lFrame.selectedIndex=n}function Ht(){const n=Ae.lFrame;return mh(n.tView,n.selectedIndex)}function Pc(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),c&&(n.viewHooks||(n.viewHooks=[])).push(-e,c),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function xc(n,t,e){Cy(n,t,3,e)}function Oc(n,t,e,i){(3&n[2])===e&&Cy(n,t,e,i)}function Mh(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function Cy(n,t,e,i){const s=i??-1,o=t.length-1;let l=0;for(let c=void 0!==i?65535&n[18]:0;c<o;c++)if("number"==typeof t[c+1]){if(l=t[c],null!=i&&l>=i)break}else t[c]<0&&(n[18]+=65536),(l<s||-1==s)&&(vT(n,e,t,c),n[18]=(4294901760&n[18])+c+2),c++}function vT(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class ha{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Sh(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],l=e[i++];n.setAttribute(t,o,l,s)}else{const s=r,o=e[++i];Ey(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Dy(n){return 3===n||4===n||6===n}function Ey(n){return 64===n.charCodeAt(0)}function pa(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||My(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function My(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){o=-1;break}if(l>t){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Ty(n){return-1!==n}function Ys(n){return 32767&n}function Js(n,t){let e=function DT(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Ih=!0;function Rc(n){const t=Ih;return Ih=n,t}let ET=0;const Ji={};function Lc(n,t){const e=Ah(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,kh(i.data,n),kh(t,null),kh(i.blueprint,null));const r=Fc(n,t),s=n.injectorIndex;if(Ty(r)){const o=Ys(r),l=Js(r,t),c=l[1].data;for(let h=0;h<8;h++)t[s+h]=l[o+h]|c[o+h]}return t[s+8]=r,s}function kh(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Ah(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Fc(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=Ly(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Ph(n,t,e){!function MT(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(oa)&&(i=e[oa]),null==i&&(i=e[oa]=ET++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function ky(n,t,e){if(e&De.Optional||void 0!==n)return n;vc()}function Ay(n,t,e,i){if(e&De.Optional&&void 0===i&&(i=null),0==(e&(De.Self|De.Host))){const r=n[9],s=Di(void 0);try{return r?r.get(t,i,e&De.Optional):Qm(t,i,e&De.Optional)}finally{Di(s)}}return ky(i,0,e)}function Py(n,t,e,i=De.Default,r){if(null!==n){if(1024&t[2]){const o=function AT(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const l=xy(s,o,e,i|De.Self,Ji);if(l!==Ji)return l;let c=s.parent;if(!c){const h=o[21];if(h){const f=h.get(e,Ji,i);if(f!==Ji)return f}c=Ly(o),o=o[15]}s=c}return r}(n,t,e,i,Ji);if(o!==Ji)return o}const s=xy(n,t,e,i,Ji);if(s!==Ji)return s}return Ay(t,e,i,r)}function xy(n,t,e,i,r){const s=function IT(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(oa)?n[oa]:void 0;return"number"==typeof t?t>=0?255&t:kT:t}(e);if("function"==typeof s){if(!yy(t,n,i))return i&De.Host?ky(r,0,i):Ay(t,e,i,r);try{const o=s(i);if(null!=o||i&De.Optional)return o;vc()}finally{_y()}}else if("number"==typeof s){let o=null,l=Ah(n,t),c=-1,h=i&De.Host?t[16][6]:null;for((-1===l||i&De.SkipSelf)&&(c=-1===l?Fc(n,t):t[l+8],-1!==c&&Ry(i,!1)?(o=t[1],l=Ys(c),t=Js(c,t)):l=-1);-1!==l;){const f=t[1];if(Oy(s,l,f.data)){const p=ST(l,t,e,o,i,h);if(p!==Ji)return p}c=t[l+8],-1!==c&&Ry(i,t[1].data[l+8]===h)&&Oy(s,l,t)?(o=f,l=Ys(c),t=Js(c,t)):l=-1}}return r}function ST(n,t,e,i,r,s){const o=t[1],l=o.data[n+8],f=Nc(l,o,e,null==i?Sc(l)&&Ih:i!=o&&0!=(3&l.type),r&De.Host&&s===l);return null!==f?Qs(t,o,f,l):Ji}function Nc(n,t,e,i,r){const s=n.providerIndexes,o=t.data,l=1048575&s,c=n.directiveStart,f=s>>20,g=r?l+f:n.directiveEnd;for(let y=i?l:l+f;y<g;y++){const v=o[y];if(y<c&&e===v||y>=c&&v.type===e)return y}if(r){const y=o[c];if(y&&Ni(y)&&y.type===e)return c}return null}function Qs(n,t,e,i){let r=n[e];const s=t.data;if(function bT(n){return n instanceof ha}(r)){const o=r;o.resolving&&function yM(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${e}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Oe(n)}(s[e]));const l=Rc(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?Di(o.injectImpl):null;yy(n,i,De.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function yT(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=oy(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==c&&Di(c),Rc(l),o.resolving=!1,_y()}}return r}function Oy(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function Ry(n,t){return!(n&De.Self||n&De.Host&&t)}class Zs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Py(this._tNode,this._lView,t,Cc(i),e)}}function kT(){return new Zs(kn(),N())}function Ke(n){return Or(()=>{const t=n.prototype.constructor,e=t[cr]||xh(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[cr]||xh(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function xh(n){return th(n)?()=>{const t=xh(Ce(n));return t&&t()}:hs(n)}function Ly(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const eo="__parameters__";function no(n,t,e){return Or(()=>{const i=function Oh(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(c,h,f){const p=c.hasOwnProperty(eo)?c[eo]:Object.defineProperty(c,eo,{value:[]})[eo];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(o),c}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ee({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function hi(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),hi(i,t)):t!==n&&t.push(i)}return t}function ps(n,t){n.forEach(e=>Array.isArray(e)?ps(e,t):t(e))}function Ny(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function Vc(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function fi(n,t,e){let i=io(n,t);return i>=0?n[1|i]=e:(i=~i,function RT(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Lh(n,t){const e=io(n,t);if(e>=0)return n[1|e]}function io(n,t){return function Hy(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const ba=sa(no("Optional"),8),wa=sa(no("SkipSelf"),4);var ni=(()=>((ni=ni||{})[ni.Important=1]="Important",ni[ni.DashCase=2]="DashCase",ni))();const Bh=new Map;let iS=0;const Gh="__ngContext__";function Fn(n,t){ei(t)?(n[Gh]=t[20],function sS(n){Bh.set(n[20],n)}(t)):n[Gh]=t}function zh(n,t){return undefined(n,t)}function Ea(n){const t=n[3];return Fi(t)?t[3]:t}function Wh(n){return av(n[13])}function qh(n){return av(n[4])}function av(n){for(;null!==n&&!Fi(n);)n=n[4];return n}function so(n,t,e,i,r){if(null!=i){let s,o=!1;Fi(i)?s=i:ei(i)&&(o=!0,i=i[0]);const l=dn(i);0===n&&null!==e?null==r?fv(t,e,l):gs(t,e,l,r||null,!0):1===n&&null!==e?gs(t,e,l,r||null,!0):2===n?function ef(n,t,e){const i=jc(n,t);i&&function TS(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,l,o):3===n&&t.destroyNode(l),null!=s&&function kS(n,t,e,i,r){const s=e[7];s!==dn(e)&&so(t,n,i,s,r);for(let l=10;l<e.length;l++){const c=e[l];Ma(c[1],c,n,t,i,s)}}(t,n,s,e,r)}}function Yh(n,t,e){return n.createElement(t,e)}function cv(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,yh(r,-1)),e.splice(i,1)}function Jh(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&cv(r,i),t>0&&(n[e-1][4]=i[4]);const s=Vc(n,10+t);!function vS(n,t){Ma(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function uv(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Ma(n,t,e,3,null,null),function _S(n){let t=n[13];if(!t)return Qh(n[1],n);for(;t;){let e=null;if(ei(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)ei(t)&&Qh(t[1],t),t=t[3];null===t&&(t=n),ei(t)&&Qh(t[1],t),e=t&&t[4]}t=e}}(t)}}function Qh(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function MS(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof ha)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],c=s[o+1];try{c.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function ES(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&Fi(t[3])){e!==t[3]&&cv(e,t);const i=t[19];null!==i&&i.detachView(n)}!function oS(n){Bh.delete(n[20])}(t)}}function dv(n,t,e){return function hv(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ki.None||s===Ki.Emulated)return null}return ui(i,e)}}(n,t.parent,e)}function gs(n,t,e,i,r){n.insertBefore(t,e,i,r)}function fv(n,t,e){n.appendChild(t,e)}function pv(n,t,e,i,r){null!==i?gs(n,t,e,i,r):fv(n,t,e)}function jc(n,t){return n.parentNode(t)}let zc,rf,Wc,yv=function mv(n,t,e){return 40&n.type?ui(n,e):null};function Gc(n,t,e,i){const r=dv(n,i,t),s=t[11],l=function gv(n,t,e){return yv(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let c=0;c<e.length;c++)pv(s,r,e[c],l,!1);else pv(s,r,e,l,!1)}function $c(n,t){if(null!==t){const e=t.type;if(3&e)return ui(t,n);if(4&e)return Xh(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return $c(n,i);{const r=n[t.index];return Fi(r)?Xh(-1,r):dn(r)}}if(32&e)return zh(t,n)()||dn(n[t.index]);{const i=bv(n,t);return null!==i?Array.isArray(i)?i[0]:$c(Ea(n[16]),i):$c(n,t.next)}}return null}function bv(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Xh(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return $c(i,r)}return t[7]}function tf(n,t,e,i,r,s,o){for(;null!=e;){const l=i[e.index],c=e.type;if(o&&0===t&&(l&&Fn(dn(l),i),e.flags|=2),32!=(32&e.flags))if(8&c)tf(n,t,e.child,i,r,s,!1),so(t,n,r,l,s);else if(32&c){const h=zh(e,i);let f;for(;f=h();)so(t,n,r,f,s);so(t,n,r,l,s)}else 16&c?wv(n,t,i,e,r,s):so(t,n,r,l,s);e=o?e.projectionNext:e.next}}function Ma(n,t,e,i,r,s){tf(e,i,n.firstChild,t,r,s,!1)}function wv(n,t,e,i,r,s){const o=e[16],c=o[6].projection[i.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++)so(t,n,r,c[h],s);else tf(n,t,c,o[3],r,s,!0)}function _v(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Cv(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&Sh(n,t,i),null!==r&&_v(n,t,r),null!==s&&function PS(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function ms(n){return function nf(){if(void 0===zc&&(zc=null,Mt.trustedTypes))try{zc=Mt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return zc}()?.createHTML(n)||n}function sf(){if(void 0===Wc&&(Wc=null,Mt.trustedTypes))try{Wc=Mt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wc}function Ev(n){return sf()?.createHTML(n)||n}function Tv(n){return sf()?.createScriptURL(n)||n}class ys{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mc})`}}class FS extends ys{getTypeName(){return"HTML"}}class NS extends ys{getTypeName(){return"Style"}}class VS extends ys{getTypeName(){return"Script"}}class US extends ys{getTypeName(){return"URL"}}class HS extends ys{getTypeName(){return"ResourceURL"}}function pi(n){return n instanceof ys?n.changingThisBreaksApplicationSecurity:n}function Qi(n,t){const e=function BS(n){return n instanceof ys&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${mc})`)}return e===t}class qS{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(ms(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class KS{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=ms(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=ms(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const JS=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function qc(n){return(n=String(n)).match(JS)?n:"unsafe:"+n}function hr(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Ta(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Iv=hr("area,br,col,hr,img,wbr"),kv=hr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Av=hr("rp,rt"),af=Ta(Iv,Ta(kv,hr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ta(Av,hr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ta(Av,kv)),lf=hr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pv=Ta(lf,hr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),hr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),QS=hr("script,style,template");class ZS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!af.hasOwnProperty(e))return this.sanitizedSomething=!0,!QS.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,l=o.toLowerCase();if(!Pv.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let c=s.value;lf[l]&&(c=qc(c)),this.buf.push(" ",o,'="',xv(c),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();af.hasOwnProperty(e)&&!Iv.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(xv(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const XS=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,eI=/([^\#-~ |!])/g;function xv(n){return n.replace(/&/g,"&amp;").replace(XS,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(eI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Kc;function Ov(n,t){let e=null;try{Kc=Kc||function Sv(n){const t=new KS(n);return function YS(){try{return!!(new window.DOMParser).parseFromString(ms(""),"text/html")}catch{return!1}}()?new qS(t):t}(n);let i=t?String(t):"";e=Kc.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Kc.getInertBodyElement(i)}while(i!==s);return ms((new ZS).sanitizeChildren(cf(e)||e))}finally{if(e){const i=cf(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function cf(n){return"content"in n&&function tI(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var vt=(()=>((vt=vt||{})[vt.NONE=0]="NONE",vt[vt.HTML=1]="HTML",vt[vt.STYLE=2]="STYLE",vt[vt.SCRIPT=3]="SCRIPT",vt[vt.URL=4]="URL",vt[vt.RESOURCE_URL=5]="RESOURCE_URL",vt))();function oe(n){const t=Sa();return t?Ev(t.sanitize(vt.HTML,n)||""):Qi(n,"HTML")?Ev(pi(n)):Ov(function Dv(){return void 0!==rf?rf:typeof document<"u"?document:void 0}(),Oe(n))}function vs(n){const t=Sa();return t?t.sanitize(vt.URL,n)||"":Qi(n,"URL")?pi(n):qc(Oe(n))}function Rv(n){const t=Sa();if(t)return Tv(t.sanitize(vt.RESOURCE_URL,n)||"");if(Qi(n,"ResourceURL"))return Tv(pi(n));throw new z(904,!1)}function Sa(){const n=N();return n&&n[12]}const Yc=new X("ENVIRONMENT_INITIALIZER"),Fv=new X("INJECTOR",-1),Nv=new X("INJECTOR_DEF_TYPES");class Vv{get(t,e=ia){if(e===ia){const i=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw i.name="NullInjectorError",i}return e}}function lI(...n){return{\u0275providers:Uv(0,n),\u0275fromNgModule:!0}}function Uv(n,...t){const e=[],i=new Set;let r;return ps(t,s=>{const o=s;uf(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&Hv(r,e),e}function Hv(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];df(r,s=>{t.push(s)})}}function uf(n,t,e,i){if(!(n=Ce(n)))return!1;let r=null,s=Ym(n);const o=!s&&ut(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const c=n.ngModule;if(s=Ym(c),!s)return!1;r=c}const l=i.has(r);if(o){if(l)return!1;if(i.add(r),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of c)uf(h,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let h;i.add(r);try{ps(s.imports,f=>{uf(f,t,e,i)&&(h||(h=[]),h.push(f))})}finally{}void 0!==h&&Hv(h,t)}if(!l){const h=hs(r)||(()=>new r);t.push({provide:r,useFactory:h,deps:ot},{provide:Nv,useValue:r,multi:!0},{provide:Yc,useValue:()=>F(r),multi:!0})}const c=s.providers;null==c||l||df(c,f=>{t.push(f)})}}return r!==n&&void 0!==n.providers}function df(n,t){for(let e of n)nh(e)&&(e=e.\u0275providers),Array.isArray(e)?df(e,t):t(e)}const cI=mt({provide:String,useValue:mt});function hf(n){return null!==n&&"object"==typeof n&&cI in n}function bs(n){return"function"==typeof n}const ff=new X("Set Injector scope."),Jc={},dI={};let pf;function Qc(){return void 0===pf&&(pf=new Vv),pf}class fr{}class Gv extends fr{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mf(t,o=>this.processProvider(o)),this.records.set(Fv,oo(void 0,this)),r.has("environment")&&this.records.set(fr,oo(void 0,this));const s=this.records.get(ff);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Nv.multi,ot,De.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=Hs(this),i=Di(void 0);try{return t()}finally{Hs(e),Di(i)}}get(t,e=ia,i=De.Default){this.assertNotDestroyed(),i=Cc(i);const r=Hs(this),s=Di(void 0);try{if(!(i&De.SkipSelf)){let l=this.records.get(t);if(void 0===l){const c=function mI(n){return"function"==typeof n||"object"==typeof n&&n instanceof X}(t)&&bc(t);l=c&&this.injectableDefInScope(c)?oo(gf(t),Jc):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&De.Self?Qc():this.parent).get(t,e=i&De.Optional&&e===ia?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[_c]=o[_c]||[]).unshift(yt(t)),r)throw o;return function xM(n,t,e,i){const r=n[_c];throw t[Zm]&&r.unshift(t[Zm]),n.message=function OM(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=yt(t);if(Array.isArray(t))r=t.map(yt).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let l=t[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):yt(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(IM,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[_c]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Di(s),Hs(r)}}resolveInjectorInitializers(){const t=Hs(this),e=Di(void 0);try{const i=this.get(Yc.multi,ot,De.Self);for(const r of i)r()}finally{Hs(t),Di(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(yt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(t){let e=bs(t=Ce(t))?t:Ce(t&&t.provide);const i=function fI(n){return hf(n)?oo(void 0,n.useValue):oo($v(n),Jc)}(t);if(bs(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=oo(void 0,Jc,!0),r.factory=()=>oh(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===Jc&&(e.value=dI,e.value=e.factory()),"object"==typeof e.value&&e.value&&function gI(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=Ce(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function gf(n){const t=bc(n),e=null!==t?t.factory:hs(n);if(null!==e)return e;if(n instanceof X)throw new z(204,!1);if(n instanceof Function)return function hI(n){const t=n.length;if(t>0)throw function va(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new z(204,!1);const e=function DM(n){const t=n&&(n[wc]||n[Jm]);if(t){const e=function EM(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new z(204,!1)}function $v(n,t,e){let i;if(bs(n)){const r=Ce(n);return hs(r)||gf(r)}if(hf(n))i=()=>Ce(n.useValue);else if(function jv(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...oh(n.deps||[]));else if(function Bv(n){return!(!n||!n.useExisting)}(n))i=()=>F(Ce(n.useExisting));else{const r=Ce(n&&(n.useClass||n.provide));if(!function pI(n){return!!n.deps}(n))return hs(r)||gf(r);i=()=>new r(...oh(n.deps))}return i}function oo(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function mf(n,t){for(const e of n)Array.isArray(e)?mf(e,t):e&&nh(e)?mf(e.\u0275providers,t):t(e)}class yI{}class zv{}class bI{resolveComponentFactory(t){throw function vI(n){const t=Error(`No component factory found for ${yt(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ia=(()=>{class n{}return n.NULL=new bI,n})();function wI(){return ao(kn(),N())}function ao(n,t){return new $t(ui(n,t))}let $t=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=wI,n})();function _I(n){return n instanceof $t?n.nativeElement:n}class qv{}let ii=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function CI(){const n=N(),e=di(kn().index,n);return(ei(e)?e:n)[11]}(),n})(),DI=(()=>{class n{}return n.\u0275prov=ee({token:n,providedIn:"root",factory:()=>null}),n})();class ws{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const EI=new ws("15.0.1"),yf={};function bf(n){return n.ngOriginalError}class lo{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&bf(t);for(;e&&bf(e);)e=bf(e);return e||null}}function wf(n){return n.ownerDocument.defaultView}function pr(n){return n instanceof Function?n():n}function Yv(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const Jv="ng-template";function RI(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Yv(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Qv(n){return 4===n.type&&n.value!==Jv}function LI(n,t,e){return t===(4!==n.type||e?n.value:Jv)}function FI(n,t,e){let i=4;const r=n.attrs||[],s=function UI(n){for(let t=0;t<n.length;t++)if(Dy(n[t]))return t;return n.length}(r);let o=!1;for(let l=0;l<t.length;l++){const c=t[l];if("number"!=typeof c){if(!o)if(4&i){if(i=2|1&i,""!==c&&!LI(n,c,e)||""===c&&1===t.length){if(Vi(i))return!1;o=!0}}else{const h=8&i?c:t[++l];if(8&i&&null!==n.attrs){if(!RI(n.attrs,h,e)){if(Vi(i))return!1;o=!0}continue}const p=NI(8&i?"class":c,r,Qv(n),e);if(-1===p){if(Vi(i))return!1;o=!0;continue}if(""!==h){let g;g=p>s?"":r[p+1].toLowerCase();const y=8&i?g:null;if(y&&-1!==Yv(y,h,0)||2&i&&h!==g){if(Vi(i))return!1;o=!0}}}}else{if(!o&&!Vi(i)&&!Vi(c))return!1;if(o&&Vi(c))continue;o=!1,i=c|1&i}}return Vi(i)||o}function Vi(n){return 0==(1&n)}function NI(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function HI(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Zv(n,t,e=!1){for(let i=0;i<t.length;i++)if(FI(n,t[i],e))return!0;return!1}function Xv(n,t){return n?":not("+t.trim()+")":t}function jI(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const l=n[++e];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Vi(o)&&(t+=Xv(s,r),r=""),i=o,s=s||!Vi(i);e++}return""!==r&&(t+=Xv(s,r)),t}const Re={};function b(n){eb(Xe(),N(),zn()+n,!1)}function eb(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&xc(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Oc(t,s,0,e)}fs(e)}function rb(n,t=null,e=null,i){const r=sb(n,t,e,i);return r.resolveInjectorInitializers(),r}function sb(n,t=null,e=null,i,r=new Set){const s=[e||ot,lI(n)];return i=i||("object"==typeof n?void 0:yt(n)),new Gv(s,t||Qc(),i||null,r)}let gi=(()=>{class n{static create(e,i){if(Array.isArray(e))return rb({name:""},i,e,"");{const r=e.name??"";return rb({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=ia,n.NULL=new Vv,n.\u0275prov=ee({token:n,providedIn:"any",factory:()=>F(Fv)}),n.__NG_ELEMENT_ID__=-1,n})();function S(n,t=De.Default){const e=N();return null===e?F(n,t):Py(kn(),e,Ce(n),t)}function Mf(){throw new Error("invalid")}function Xc(n,t){return n<<17|t<<2}function Ui(n){return n>>17&32767}function Tf(n){return 2|n}function gr(n){return(131068&n)>>2}function Sf(n,t){return-131069&n|t<<2}function If(n){return 1|n}function Cb(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];Ch(r),o.contentQueries(2,t[s],s)}}}function nu(n,t,e,i,r,s,o,l,c,h,f){const p=t.blueprint.slice();return p[0]=r,p[2]=76|i,(null!==f||n&&1024&n[2])&&(p[2]|=1024),cy(p),p[3]=p[15]=n,p[8]=e,p[10]=o||n&&n[10],p[11]=l||n&&n[11],p[12]=c||n&&n[12]||null,p[9]=h||n&&n[9]||null,p[6]=s,p[20]=function rS(){return iS++}(),p[21]=f,p[16]=2==t.type?n[16]:p,p}function ho(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Ff(n,t,e,i,r){const s=hy(),o=vh(),c=n.data[t]=function Ek(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c)),c}(n,t,e,i,r),function oT(){return Ae.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function da(){const n=Ae.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Yi(s,!0),s}function ka(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function Nf(n,t,e){Dh(t);try{const i=n.viewQuery;null!==i&&qf(1,i,e);const r=n.template;null!==r&&Db(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Cb(n,t),n.staticViewQueries&&qf(2,n.viewQuery,e);const s=n.components;null!==s&&function _k(n,t){for(let e=0;e<t.length;e++)Gk(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Eh()}}function iu(n,t,e,i){const r=t[2];if(128!=(128&r)){Dh(t);try{cy(t),function py(n){return Ae.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Db(n,t,e,2,i);const o=3==(3&r);if(o){const h=n.preOrderCheckHooks;null!==h&&xc(t,h,null)}else{const h=n.preOrderHooks;null!==h&&Oc(t,h,0,null),Mh(t,0)}if(function Bk(n){for(let t=Wh(n);null!==t;t=qh(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&yh(s,1),r[2]|=512}}}(t),function Hk(n){for(let t=Wh(n);null!==t;t=qh(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Ac(i)&&iu(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Cb(n,t),o){const h=n.contentCheckHooks;null!==h&&xc(t,h)}else{const h=n.contentHooks;null!==h&&Oc(t,h,1),Mh(t,1)}!function bk(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)fs(~r);else{const s=r,o=e[++i],l=e[++i];aT(o,s),l(2,t[s])}}}finally{fs(-1)}}(n,t);const l=n.components;null!==l&&function wk(n,t){for(let e=0;e<t.length;e++)jk(n,t[e])}(t,l);const c=n.viewQuery;if(null!==c&&qf(2,c,i),o){const h=n.viewCheckHooks;null!==h&&xc(t,h)}else{const h=n.viewHooks;null!==h&&Oc(t,h,2),Mh(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,yh(t[3],-1))}finally{Eh()}}}function Db(n,t,e,i,r){const s=zn(),o=2&i;try{fs(-1),o&&t.length>22&&eb(n,t,22,!1),e(i,r)}finally{fs(s)}}function Vf(n,t,e){if(dh(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Uf(n,t,e){!dy()||(function Ak(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Lc(e,t),Fn(i,t);const o=e.initialInputs;for(let l=r;l<s;l++){const c=n.data[l],h=Ni(c);h&&Nk(t,e,c);const f=Qs(t,n,l,e);Fn(f,t),null!==o&&Vk(0,l-r,f,c,0,o),h&&(di(e.index,t)[8]=f)}}(n,t,e,ui(e,t)),64==(64&e.flags)&&Ab(n,t,e))}function Hf(n,t,e=ui){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?e(t,n):n[o];n[r++]=l}}}function Eb(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Bf(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Bf(n,t,e,i,r,s,o,l,c,h){const f=22+i,p=f+r,g=function Ck(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:Re);return e}(f,p),y="function"==typeof h?h():h;return g[1]={type:n,blueprint:g,template:e,queries:null,viewQuery:l,declTNode:t,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1}}function Mb(n,t,e,i){const r=xb(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&Ob(n).push(i,r.length-1))}function Tb(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?Sb(e,t,r,s):i.hasOwnProperty(r)&&Sb(e,t,i[r],s)}return e}function Sb(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function mi(n,t,e,i,r,s,o,l){const c=ui(t,e);let f,h=t.inputs;!l&&null!=h&&(f=h[i])?(Kf(n,e,f,i,r),Sc(t)&&Ib(e,t.index)):3&t.type&&(i=function Tk(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(c,i,r))}function Ib(n,t){const e=di(t,n);16&e[2]||(e[2]|=32)}function jf(n,t,e,i){let r=!1;if(dy()){const s=null===i?null:{"":-1},o=function xk(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Zv(t,o.selectors,!1))if(i||(i=[]),Ni(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),i.unshift(...l,o),Gf(n,t,l.length)}else i.unshift(o),Gf(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&(r=!0,kb(n,t,e,l,s,c)),s&&function Ok(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new z(-301,!1);i.push(t[r],s)}}}(e,i,s)}return e.mergedAttrs=pa(e.mergedAttrs,e.attrs),r}function kb(n,t,e,i,r,s){for(let h=0;h<i.length;h++)Ph(Lc(e,t),n,i[h].type);!function Lk(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let h=0;h<i.length;h++){const f=i[h];f.providersResolver&&f.providersResolver(f)}let o=!1,l=!1,c=ka(n,t,i.length,null);for(let h=0;h<i.length;h++){const f=i[h];e.mergedAttrs=pa(e.mergedAttrs,f.hostAttrs),Fk(n,e,t,c,f),Rk(c,f,r),null!==f.contentQueries&&(e.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=64);const p=f.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function Mk(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,l=[];let c=null,h=null;for(let f=t.directiveStart;f<r;f++){const p=s[f],g=e?e.get(p):null,v=g?g.outputs:null;c=Tb(p.inputs,f,c,g?g.inputs:null),h=Tb(p.outputs,f,h,v);const w=null===c||null===o||Qv(t)?null:Uk(c,f,o);l.push(w)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=c,t.outputs=h}(n,e,s)}function Ab(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function lT(){return Ae.lFrame.currentDirectiveIndex}();try{fs(s);for(let l=i;l<r;l++){const c=n.data[l],h=t[l];wh(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Pk(c,h)}}finally{fs(-1),wh(o)}}function Pk(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Gf(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function Rk(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Ni(t)&&(e[""]=n)}}function Fk(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=hs(r.type)),o=new ha(s,Ni(r),S);n.blueprint[i]=o,e[i]=o,function Ik(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function kk(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(e,i,s)}}(n,t,i,ka(n,e,r.hostVars,Re),r)}function Nk(n,t,e){const i=ui(t,n),r=Eb(e),s=n[10],o=ru(n,nu(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=o}function Zi(n,t,e,i,r,s){const o=ui(n,t);!function $f(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const l=null==o?Oe(s):o(s,i||"",r);n.setAttribute(t,r,l,e)}}(t[11],o,s,n.value,e,i,r)}function Vk(n,t,e,i,r,s){const o=s[t];if(null!==o){const l=i.setInput;for(let c=0;c<o.length;){const h=o[c++],f=o[c++],p=o[c++];null!==l?i.setInput(e,p,h,f):e[f]=p}}}function Uk(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let l=0;l<o.length;l+=2)if(o[l]===t){i.push(s,o[l+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function Pb(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function jk(n,t){const e=di(t,n);if(Ac(e)){const i=e[1];48&e[2]?iu(i,e,i.template,e[8]):e[5]>0&&zf(e)}}function zf(n){for(let i=Wh(n);null!==i;i=qh(i))for(let r=10;r<i.length;r++){const s=i[r];if(Ac(s))if(512&s[2]){const o=s[1];iu(o,s,o.template,s[8])}else s[5]>0&&zf(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=di(e[i],n);Ac(r)&&r[5]>0&&zf(r)}}function Gk(n,t){const e=di(t,n),i=e[1];(function $k(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),Nf(i,e,e[8])}function ru(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function Wf(n){for(;n;){n[2]|=32;const t=Ea(n);if(HM(n)&&!t)return n;n=t}return null}function su(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{iu(n,t,n.template,e)}catch(o){throw i&&Lb(t,o),o}finally{r.end&&r.end()}}function qf(n,t,e){Ch(0),t(n,e)}function xb(n){return n[7]||(n[7]=[])}function Ob(n){return n.cleanup||(n.cleanup=[])}function Lb(n,t){const e=n[9],i=e?e.get(lo,null):null;i&&i.handleError(t)}function Kf(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],l=e[s++],c=t[o],h=n.data[o];null!==h.setInput?h.setInput(c,r,i,l):c[l]=r}}function mr(n,t,e){const i=kc(t,n);!function lv(n,t,e){n.setValue(t,e)}(n[11],i,e)}function ou(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?s=l:1==s?r=eh(r,l):2==s&&(i=eh(i,l+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function au(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(dn(s)),Fi(s))for(let l=10;l<s.length;l++){const c=s[l],h=c[1].firstChild;null!==h&&au(c[1],c,h,i)}const o=e.type;if(8&o)au(n,t,e.child,i);else if(32&o){const l=zh(e,t);let c;for(;c=l();)i.push(c)}else if(16&o){const l=bv(t,e);if(Array.isArray(l))i.push(...l);else{const c=Ea(t[16]);au(c[1],c,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class Aa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return au(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Fi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Jh(t,i),Vc(e,i))}this._attachedToViewContainer=!1}uv(this._lView[1],this._lView)}onDestroy(t){Mb(this._lView[1],this._lView,null,t)}markForCheck(){Wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){su(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wS(n,t){Ma(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=t}}class zk extends Aa{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;su(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Yf extends Ia{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new Pa(e,this.ngModule)}}function Fb(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class qk{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=Cc(i);const r=this.injector.get(t,yf,i);return r!==yf||e===yf?r:this.parentInjector.get(t,e,i)}}class Pa extends zv{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function GI(n){return n.map(jI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Fb(this.componentDef.inputs)}get outputs(){return Fb(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof fr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new qk(t,s):t,l=o.get(qv,null);if(null===l)throw new z(407,!1);const c=o.get(DI,null),h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function Dk(n,t,e){return n.selectRootElement(t,e===Ki.ShadowDom)}(h,i,this.componentDef.encapsulation):Yh(h,f,function Wk(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),g=this.componentDef.onPush?288:272,y=Bf(0,null,null,1,0,null,null,null,null,null),v=nu(null,y,null,g,null,null,l,h,c,o,null);let w,_;Dh(v);try{const E=this.componentDef;let k,T=null;E.findHostDirectiveDefs?(k=[],T=new Map,E.findHostDirectiveDefs(E,k,T),k.push(E)):k=[E];const H=function Jk(n,t){const e=n[1];return n[22]=t,ho(e,22,2,"#host",null)}(v,p),$=function Qk(n,t,e,i,r,s,o,l){const c=r[1];!function Zk(n,t,e,i){for(const r of n)t.mergedAttrs=pa(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(ou(t,t.mergedAttrs,!0),null!==e&&Cv(i,e,t))}(i,n,t,o);const h=s.createRenderer(t,e),f=nu(r,Eb(e),null,e.onPush?32:16,r[n.index],n,s,h,l||null,null,null);return c.firstCreatePass&&Gf(c,n,i.length-1),ru(r,f),r[n.index]=f}(H,p,E,k,v,l,h);_=mh(y,22),p&&function eA(n,t,e,i){if(i)Sh(n,e,["ng-version",EI.full]);else{const{attrs:r,classes:s}=function $I(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!Vi(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&Sh(n,e,r),s&&s.length>0&&_v(n,e,s.join(" "))}}(h,E,p,i),void 0!==e&&function tA(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(_,this.ngContentSelectors,e),w=function Xk(n,t,e,i,r,s){const o=kn(),l=r[1],c=ui(o,r);kb(l,r,o,e,null,i);for(let f=0;f<e.length;f++)Fn(Qs(r,l,o.directiveStart+f,o),r);Ab(l,r,o),c&&Fn(c,r);const h=Qs(r,l,o.directiveStart+o.componentOffset,o);if(n[8]=r[8]=h,null!==s)for(const f of s)f(h,t);return Vf(l,o,n),h}($,E,k,T,v,[nA]),Nf(y,v,null)}finally{Eh()}return new Yk(this.componentType,w,ao(_,v),v,_)}}class Yk extends yI{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new zk(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Kf(s[1],s,r,t,e),Ib(s,this._tNode.index)}}get injector(){return new Zs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function nA(){const n=kn();Pc(N()[1],n)}function ve(n){let t=function Nb(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Ni(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new z(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Jf(n.inputs),o.declaredInputs=Jf(n.declaredInputs),o.outputs=Jf(n.outputs);const l=r.hostBindings;l&&oA(n,l);const c=r.viewQuery,h=r.contentQueries;if(c&&rA(n,c),h&&sA(n,h),Xd(n.inputs,r.inputs),Xd(n.declaredInputs,r.declaredInputs),Xd(n.outputs,r.outputs),Ni(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===ve&&(e=!1)}}t=Object.getPrototypeOf(t)}!function iA(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=pa(r.hostAttrs,e=pa(e,r.hostAttrs))}}(i)}function Jf(n){return n===lr?{}:n===ot?[]:n}function rA(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function sA(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function oA(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let lu=null;function _s(){if(!lu){const n=Mt.Symbol;if(n&&n.iterator)lu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(lu=i)}}}return lu}function xa(n){return!!Qf(n)&&(Array.isArray(n)||!(n instanceof Map)&&_s()in n)}function Qf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Xi(n,t,e){return n[t]=e}function Nn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Cs(n,t,e,i){const r=Nn(n,t,e);return Nn(n,t+1,i)||r}function Vn(n,t,e,i){const r=N();return Nn(r,Ks(),t)&&(Xe(),Zi(Ht(),r,n,t,e,i)),Vn}function po(n,t,e,i){return Nn(n,Ks(),e)?t+Oe(e)+i:Re}function go(n,t,e,i,r,s){const l=Cs(n,function ur(){return Ae.lFrame.bindingIndex}(),e,r);return dr(2),l?t+Oe(e)+i+Oe(r)+s:Re}function Pe(n,t,e,i,r,s,o,l){const c=N(),h=Xe(),f=n+22,p=h.firstCreatePass?function mA(n,t,e,i,r,s,o,l,c){const h=t.consts,f=ho(t,n,4,o||null,Rr(h,l));jf(t,e,f,Rr(h,c)),Pc(t,f);const p=f.tViews=Bf(2,f,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),p.queries=t.queries.embeddedTView(f)),f}(f,h,c,t,e,i,r,s,o):h.data[f];Yi(p,!1);const g=c[11].createComment("");Gc(h,c,g,p),Fn(g,c),ru(c,c[f]=Pb(g,c,g,p)),Ic(p)&&Uf(h,c,p),null!=o&&Hf(c,p,l)}function C(n,t,e){const i=N();return Nn(i,Ks(),t)&&mi(Xe(),Ht(),i,n,t,i[11],e,!1),C}function Zf(n,t,e,i,r){const o=r?"class":"style";Kf(n,e,t.inputs[o],o,i)}function u(n,t,e,i){const r=N(),s=Xe(),o=22+n,l=r[11],c=r[o]=Yh(l,t,function mT(){return Ae.lFrame.currentNamespace}()),h=s.firstCreatePass?function vA(n,t,e,i,r,s,o){const l=t.consts,h=ho(t,n,2,r,Rr(l,s));return jf(t,e,h,Rr(l,o)),null!==h.attrs&&ou(h,h.attrs,!1),null!==h.mergedAttrs&&ou(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,s,r,0,t,e,i):s.data[o];return Yi(h,!0),Cv(l,c,h),32!=(32&h.flags)&&Gc(s,r,c,h),0===function eT(){return Ae.lFrame.elementDepthCount}()&&Fn(c,r),function tT(){Ae.lFrame.elementDepthCount++}(),Ic(h)&&(Uf(s,r,h),Vf(s,h,r)),null!==i&&Hf(r,h),u}function d(){let n=kn();vh()?bh():(n=n.parent,Yi(n,!1));const t=n;!function nT(){Ae.lFrame.elementDepthCount--}();const e=Xe();return e.firstCreatePass&&(Pc(e,n),dh(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function _T(n){return 0!=(8&n.flags)}(t)&&Zf(e,t,N(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function CT(n){return 0!=(16&n.flags)}(t)&&Zf(e,t,N(),t.stylesWithoutHost,!1),d}function m(n,t,e,i){return u(n,t,e,i),d(),m}function Ra(n,t,e){const i=N(),r=Xe(),s=n+22,o=r.firstCreatePass?function bA(n,t,e,i,r){const s=t.consts,o=Rr(s,i),l=ho(t,n,8,"ng-container",o);return null!==o&&ou(l,o,!0),jf(t,e,l,Rr(s,r)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,i,t,e):r.data[s];Yi(o,!0);const l=i[s]=i[11].createComment("");return Gc(r,i,l,o),Fn(l,i),Ic(o)&&(Uf(r,i,o),Vf(r,o,i)),null!=e&&Hf(i,o),Ra}function La(){let n=kn();const t=Xe();return vh()?bh():(n=n.parent,Yi(n,!1)),t.firstCreatePass&&(Pc(t,n),dh(n)&&t.queries.elementEnd(n)),La}function Co(){return N()}function Fa(n){return!!n&&"function"==typeof n.then}const Xf=function Zb(n){return!!n&&"function"==typeof n.subscribe};function gt(n,t,e,i){const r=N(),s=Xe(),o=kn();return function ew(n,t,e,i,r,s,o){const l=Ic(i),h=n.firstCreatePass&&Ob(n),f=t[8],p=xb(t);let g=!0;if(3&i.type||o){const w=ui(i,t),_=o?o(w):w,E=p.length,k=o?H=>o(dn(H[i.index])):i.index;let T=null;if(!o&&l&&(T=function wA(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const l=t[7],c=r[s+2];return l.length>c?l[c]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==T)(T.__ngLastListenerFn__||T).__ngNextListenerFn__=s,T.__ngLastListenerFn__=s,g=!1;else{s=nw(i,t,f,s,!1);const H=e.listen(_,r,s);p.push(s,H),h&&h.push(r,k,E,E+1)}}else s=nw(i,t,f,s,!1);const y=i.outputs;let v;if(g&&null!==y&&(v=y[r])){const w=v.length;if(w)for(let _=0;_<w;_+=2){const $=t[v[_]][v[_+1]].subscribe(s),O=p.length;p.push(s,$),h&&h.push(r,i.index,O,-(O+1))}}}(s,r,r[11],o,n,t,i),gt}function tw(n,t,e,i){try{return!1!==e(i)}catch(r){return Lb(n,r),!1}}function nw(n,t,e,i,r){return function s(o){if(o===Function)return i;Wf(n.componentOffset>-1?di(n.index,t):t);let c=tw(t,0,i,o),h=s.__ngNextListenerFn__;for(;h;)c=tw(t,0,h,o)&&c,h=h.__ngNextListenerFn__;return r&&!1===c&&(o.preventDefault(),o.returnValue=!1),c}}function Fe(n=1){return function uT(n){return(Ae.lFrame.contextLView=function dT(n,t){for(;n>0;)t=t[15],n--;return t}(n,Ae.lFrame.contextLView))[8]}(n)}function fn(n,t,e){return Ds(n,"",t,"",e),fn}function Ds(n,t,e,i,r){const s=N(),o=po(s,t,e,i);return o!==Re&&mi(Xe(),Ht(),s,n,o,s[11],r,!1),Ds}function ep(n,t,e,i,r,s,o){const l=N(),c=go(l,t,e,i,r,s);return c!==Re&&mi(Xe(),Ht(),l,n,c,l[11],o,!1),ep}function hw(n,t,e,i,r){const s=n[e+1],o=null===t;let l=i?Ui(s):gr(s),c=!1;for(;0!==l&&(!1===c||o);){const f=n[l+1];EA(n[l],t)&&(c=!0,n[l+1]=i?If(f):Tf(f)),l=i?Ui(f):gr(f)}c&&(n[e+1]=i?Tf(s):If(s))}function EA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&io(n,t)>=0}function uu(n,t,e){return Hi(n,t,e,!1),uu}function yi(n,t){return Hi(n,t,null,!0),yi}function Hi(n,t,e,i){const r=N(),s=Xe(),o=dr(2);s.firstUpdatePass&&function ww(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[zn()],o=function bw(n,t){return t>=n.expandoStartIndex}(n,e);(function Ew(n,t){return 0!=(n.flags&(t?8:16))})(s,i)&&null===t&&!o&&(t=!1),t=function OA(n,t,e,i){const r=function _h(n){const t=Ae.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Na(e=tp(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=tp(r,n,t,e,i),null===s){let c=function RA(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==gr(i))return n[Ui(i)]}(n,t,i);void 0!==c&&Array.isArray(c)&&(c=tp(null,n,t,c[1],i),c=Na(c,t.attrs,i),function LA(n,t,e,i){n[Ui(e?t.classBindings:t.styleBindings)]=i}(n,t,i,c))}else s=function FA(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Na(i,n[s].hostAttrs,e);return Na(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function CA(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,l=Ui(o),c=gr(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const p=e;f=p[1],(null===f||io(p,f)>0)&&(h=!0)}else f=e;if(r)if(0!==c){const g=Ui(n[l+1]);n[i+1]=Xc(g,l),0!==g&&(n[g+1]=Sf(n[g+1],i)),n[l+1]=function ck(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=Xc(l,0),0!==l&&(n[l+1]=Sf(n[l+1],i)),l=i;else n[i+1]=Xc(c,0),0===l?l=i:n[c+1]=Sf(n[c+1],i),c=i;h&&(n[i+1]=Tf(n[i+1])),hw(n,f,i,!0),hw(n,f,i,!1),function DA(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&io(s,t)>=0&&(e[i+1]=If(e[i+1]))}(t,f,n,i,s),o=Xc(l,c),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}(s,n,o,i),t!==Re&&Nn(r,o,t)&&function Cw(n,t,e,i,r,s,o,l){if(!(3&t.type))return;const c=n.data,h=c[l+1];du(function pb(n){return 1==(1&n)}(h)?Dw(c,t,e,r,gr(h),o):void 0)||(du(s)||function fb(n){return 2==(2&n)}(h)&&(s=Dw(c,null,e,r,l,o)),function AS(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:ni.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ni.Important),n.setStyle(e,i,r,s))}}(i,o,kc(zn(),e),r,s))}(s,s.data[zn()],r,r[11],n,r[o+1]=function UA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=yt(pi(n)))),n}(t,e),i,o)}function tp(n,t,e,i,r){let s=null;const o=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<o&&(s=t[l],i=Na(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function Na(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fi(n,o,!!e||t[++s]))}return void 0===n?null:n}function Dw(n,t,e,i,r,s){const o=null===t;let l;for(;r>0;){const c=n[r],h=Array.isArray(c),f=h?c[1]:c,p=null===f;let g=e[r+1];g===Re&&(g=p?ot:void 0);let y=p?Lh(g,i):f===i?g:void 0;if(h&&!du(y)&&(y=Lh(c,i)),du(y)&&(l=y,o))return l;const v=n[r+1];r=o?Ui(v):gr(v)}if(null!==t){let c=s?t.residualClasses:t.residualStyles;null!=c&&(l=Lh(c,i))}return l}function du(n){return void 0!==n}function a(n,t=""){const e=N(),i=Xe(),r=n+22,s=i.firstCreatePass?ho(i,r,1,t,null):i.data[r],o=e[r]=function Kh(n,t){return n.createText(t)}(e[11],t);Gc(i,e,o,s),Yi(s,!1)}function Se(n){return Ue("",n,""),Se}function Ue(n,t,e){const i=N(),r=po(i,n,t,e);return r!==Re&&mr(i,zn(),r),Ue}function np(n,t,e,i,r){const s=N(),o=go(s,n,t,e,i,r);return o!==Re&&mr(s,zn(),o),np}const Es=void 0;var s2=["en",[["a","p"],["AM","PM"],Es],[["AM","PM"],Es,Es],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Es,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Es,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Es,"{1} 'at' {0}",Es],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function r2(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Eo={};function qn(n){const t=function o2(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=$w(t);if(e)return e;const i=t.split("-")[0];if(e=$w(i),e)return e;if("en"===i)return s2;throw new z(701,!1)}function $w(n){return n in Eo||(Eo[n]=Mt.ng&&Mt.ng.common&&Mt.ng.common.locales&&Mt.ng.common.locales[n]),Eo[n]}var re=(()=>((re=re||{})[re.LocaleId=0]="LocaleId",re[re.DayPeriodsFormat=1]="DayPeriodsFormat",re[re.DayPeriodsStandalone=2]="DayPeriodsStandalone",re[re.DaysFormat=3]="DaysFormat",re[re.DaysStandalone=4]="DaysStandalone",re[re.MonthsFormat=5]="MonthsFormat",re[re.MonthsStandalone=6]="MonthsStandalone",re[re.Eras=7]="Eras",re[re.FirstDayOfWeek=8]="FirstDayOfWeek",re[re.WeekendRange=9]="WeekendRange",re[re.DateFormat=10]="DateFormat",re[re.TimeFormat=11]="TimeFormat",re[re.DateTimeFormat=12]="DateTimeFormat",re[re.NumberSymbols=13]="NumberSymbols",re[re.NumberFormats=14]="NumberFormats",re[re.CurrencyCode=15]="CurrencyCode",re[re.CurrencySymbol=16]="CurrencySymbol",re[re.CurrencyName=17]="CurrencyName",re[re.Currencies=18]="Currencies",re[re.Directionality=19]="Directionality",re[re.PluralCase=20]="PluralCase",re[re.ExtraData=21]="ExtraData",re))();const Mo="en-US";let zw=Mo;function sp(n,t,e,i,r){if(n=Ce(n),Array.isArray(n))for(let s=0;s<n.length;s++)sp(n[s],t,e,i,r);else{const s=Xe(),o=N();let l=bs(n)?n:Ce(n.provide),c=$v(n);const h=kn(),f=1048575&h.providerIndexes,p=h.directiveStart,g=h.providerIndexes>>20;if(bs(n)||!n.multi){const y=new ha(c,r,S),v=ap(l,t,r?f:f+g,p);-1===v?(Ph(Lc(h,o),s,l),op(s,n,t.length),t.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(y),o.push(y)):(e[v]=y,o[v]=y)}else{const y=ap(l,t,f+g,p),v=ap(l,t,f,f+g),w=y>=0&&e[y],_=v>=0&&e[v];if(r&&!_||!r&&!w){Ph(Lc(h,o),s,l);const E=function iP(n,t,e,i,r){const s=new ha(n,e,S);return s.multi=[],s.index=t,s.componentProviders=0,m_(s,r,i&&!e),s}(r?nP:tP,e.length,r,i,c);!r&&_&&(e[v].providerFactory=E),op(s,n,t.length,0),t.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(E),o.push(E)}else op(s,n,y>-1?y:v,m_(e[r?v:y],c,!r&&i));!r&&i&&_&&e[v].componentProviders++}}}function op(n,t,e,i){const r=bs(t),s=function uI(n){return!!n.useClass}(t);if(r||s){const c=(s?Ce(t.useClass):t).prototype.ngOnDestroy;if(c){const h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const f=h.indexOf(e);-1===f?h.push(e,[i,c]):h[f+1].push(i,c)}else h.push(e,c)}}}function m_(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ap(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function tP(n,t,e,i){return lp(this.multi,[])}function nP(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=Qs(e,e[1],this.providerFactory.index,i);s=l.slice(0,o),lp(r,s);for(let c=o;c<l.length;c++)s.push(l[c])}else s=[],lp(r,s);return s}function lp(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function bt(n,t=[]){return e=>{e.providersResolver=(i,r)=>function eP(n,t,e){const i=Xe();if(i.firstCreatePass){const r=Ni(n);sp(e,i.data,i.blueprint,r,!0),sp(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Ms{}class y_{}class v_ extends Ms{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yf(this);const i=li(t);this._bootstrapComponents=pr(i.bootstrap),this._r3Injector=sb(t,e,[{provide:Ms,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver}],yt(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class cp extends y_{constructor(t){super(),this.moduleType=t}create(t){return new v_(this.moduleType,t)}}class sP extends Ms{constructor(t,e,i){super(),this.componentFactoryResolver=new Yf(this),this.instance=null;const r=new Gv([...t,{provide:Ms,useValue:this},{provide:Ia,useValue:this.componentFactoryResolver}],e||Qc(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function mu(n,t,e=null){return new sP(n,t,e).injector}let oP=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=Uv(0,e.type),r=i.length>0?mu([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=ee({token:n,providedIn:"environment",factory:()=>new n(F(fr))}),n})();function b_(n){n.getStandaloneInjector=t=>t.get(oP).getOrCreateStandaloneInjector(n)}function yr(n,t,e,i){return function S_(n,t,e,i,r,s){const o=t+e;return Nn(n,o,r)?Xi(n,o+1,s?i.call(s,r):i(r)):Ga(n,o+1)}(N(),$n(),n,t,e,i)}function yu(n,t,e,i,r){return I_(N(),$n(),n,t,e,i,r)}function dp(n,t,e,i,r,s){return function k_(n,t,e,i,r,s,o,l){const c=t+e;return function cu(n,t,e,i,r){const s=Cs(n,t,e,i);return Nn(n,t+2,r)||s}(n,c,r,s,o)?Xi(n,c+3,l?i.call(l,r,s,o):i(r,s,o)):Ga(n,c+3)}(N(),$n(),n,t,e,i,r,s)}function Ga(n,t){const e=n[t];return e===Re?void 0:e}function I_(n,t,e,i,r,s,o){const l=t+e;return Cs(n,l,r,s)?Xi(n,l+2,o?i.call(o,r,s):i(r,s)):Ga(n,l+2)}function A_(n,t,e,i,r,s,o,l,c){const h=t+e;return function Ti(n,t,e,i,r,s){const o=Cs(n,t,e,i);return Cs(n,t+2,r,s)||o}(n,h,r,s,o,l)?Xi(n,h+4,c?i.call(c,r,s,o,l):i(r,s,o,l)):Ga(n,h+4)}function vu(n,t){const e=Xe();let i;const r=n+22;e.firstCreatePass?(i=function _P(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=hs(i.type)),o=Di(S);try{const l=Rc(!1),c=s();return Rc(l),function yA(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,N(),r,c),c}finally{Di(o)}}function hp(n,t,e,i){const r=n+22,s=N(),o=zs(s,r);return $a(s,r)?I_(s,$n(),t,o.transform,e,i,o):o.transform(e,i)}function $a(n,t){return n[1].data[t].pure}function fp(n){return t=>{setTimeout(n,void 0,t)}}const nt=class MP extends K{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const c=t;r=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=fp(s),r&&(r=fp(r)),o&&(o=fp(o)));const l=super.subscribe({next:r,error:s,complete:o});return t instanceof V&&t.add(l),l}};function TP(){return this._results[_s()]()}class pp{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=_s(),i=pp.prototype;i[e]||(i[e]=TP)}get changes(){return this._changes||(this._changes=new nt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=hi(t);(this._changesDetected=!function xT(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let vr=(()=>{class n{}return n.__NG_ELEMENT_ID__=kP,n})();const SP=vr,IP=class extends SP{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=nu(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),Nf(i,r,t),new Aa(r)}};function kP(){return bu(kn(),N())}function bu(n,t){return 4&n.type?new IP(t,n,ao(n,t)):null}let ji=(()=>{class n{}return n.__NG_ELEMENT_ID__=AP,n})();function AP(){return L_(kn(),N())}const PP=ji,O_=class extends PP{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ao(this._hostTNode,this._hostLView)}get injector(){return new Zs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fc(this._hostTNode,this._hostLView);if(Ty(t)){const e=Js(t,this._hostLView),i=Ys(t);return new Zs(e[1].data[i+8],e)}return new Zs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=R_(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,i,r,s){const o=t&&!function ya(n){return"function"==typeof n}(t);let l;if(o)l=e;else{const p=e||{};l=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}const c=o?t:new Pa(ut(t)),h=i||this.parentInjector;if(!s&&null==c.ngModule){const g=(o?h:this.parentInjector).get(fr,null);g&&(s=g)}const f=c.create(h,r,void 0,s);return this.insert(f.hostView,l),f}insert(t,e){const i=t._lView,r=i[1];if(function XM(n){return Fi(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const p=i[3],g=new O_(p,p[6],p[3]);g.detach(g.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function CS(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],Ny(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function DS(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=64}(r,i,o,s);const l=Xh(s,o),c=i[11],h=jc(c,o[7]);return null!==h&&function bS(n,t,e,i,r,s){i[0]=r,i[6]=t,Ma(n,i,e,1,r,s)}(r,o[6],c,i,h,l),t.attachToViewContainerRef(),Ny(gp(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=R_(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Jh(this._lContainer,e);i&&(Vc(gp(this._lContainer),e),uv(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Jh(this._lContainer,e);return i&&null!=Vc(gp(this._lContainer),e)?new Aa(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function R_(n){return n[8]}function gp(n){return n[8]||(n[8]=[])}function L_(n,t){let e;const i=t[n.index];if(Fi(i))e=i;else{let r;if(8&n.type)r=dn(i);else{const s=t[11];r=s.createComment("");const o=ui(n,t);gs(s,jc(s,o),r,function SS(n,t){return n.nextSibling(t)}(s,o),!1)}t[n.index]=e=Pb(i,t,r,n),ru(t,e)}return new O_(e,n,t)}class mp{constructor(t){this.queryList=t,this.matches=null}clone(){return new mp(this.queryList)}setDirty(){this.queryList.setDirty()}}class yp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new yp(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==H_(t,e).matches&&this.queries[e].setDirty()}}class F_{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class vp{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new vp(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new bp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,RP(e,s)),this.matchTNodeWithReadOption(t,e,Nc(e,t,s,!1,!1))}else i===vr?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Nc(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===$t||r===ji||r===vr&&4&e.type)this.addMatch(e.index,-2);else{const s=Nc(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function RP(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function FP(n,t,e,i){return-1===e?function LP(n,t){return 11&n.type?ao(n,t):4&n.type?bu(n,t):null}(t,n):-2===e?function NP(n,t,e){return e===$t?ao(t,n):e===vr?bu(t,n):e===ji?L_(t,n):void 0}(n,t,i):Qs(n,n[1],e,t)}function N_(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,l=[];for(let c=0;c<o.length;c+=2){const h=o[c];l.push(h<0?null:FP(t,s[h],o[c+1],e.metadata.read))}r.matches=l}return r.matches}function wp(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=N_(n,t,r,e);for(let l=0;l<s.length;l+=2){const c=s[l];if(c>0)i.push(o[l/2]);else{const h=s[l+1],f=t[-c];for(let p=10;p<f.length;p++){const g=f[p];g[17]===g[3]&&wp(g[1],g,h,i)}if(null!==f[9]){const p=f[9];for(let g=0;g<p.length;g++){const y=p[g];wp(y[1],y,h,i)}}}}}return i}function wt(n){const t=N(),e=Xe(),i=my();Ch(i+1);const r=H_(e,i);if(n.dirty&&function ZM(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?wp(e,t,i,[]):N_(e,t,r,i);n.reset(s,_I),n.notifyOnChanges()}return!0}return!1}function Lt(n,t,e){const i=Xe();i.firstCreatePass&&(U_(i,new F_(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),V_(i,N(),t)}function wu(n,t,e,i){const r=Xe();if(r.firstCreatePass){const s=kn();U_(r,new F_(t,e,i),s.index),function UP(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}V_(r,N(),e)}function _t(){return function VP(n,t){return n[19].queries[t].queryList}(N(),my())}function V_(n,t,e){const i=new pp(4==(4&e));Mb(n,t,i,i.destroy),null===t[19]&&(t[19]=new yp),t[19].queries.push(new mp(i))}function U_(n,t,e){null===n.queries&&(n.queries=new vp),n.queries.track(new bp(t,e))}function H_(n,t){return n.queries.getByIndex(t)}function Cu(...n){}const Du=new X("Application Initializer");let Eu=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Cu,this.reject=Cu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Fa(s))e.push(s);else if(Xf(s)){const o=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(F(Du,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Wa=new X("AppId",{providedIn:"root",factory:function o1(){return`${Mp()}${Mp()}${Mp()}`}});function Mp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const a1=new X("Platform Initializer"),qa=new X("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),l1=new X("appBootstrapListener");let ax=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const nr=new X("LocaleId",{providedIn:"root",factory:()=>Je(nr,De.Optional|De.SkipSelf)||function lx(){return typeof $localize<"u"&&$localize.locale||Mo}()});class ux{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let Tp=(()=>{class n{compileModuleSync(e){return new cp(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=pr(li(e).declarations).reduce((o,l)=>{const c=ut(l);return c&&o.push(new Pa(c)),o},[]);return new ux(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fx=(()=>Promise.resolve(0))();function Sp(n){typeof Zone>"u"?fx.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ct{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function px(){let n=Mt.requestAnimationFrame,t=Mt.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function yx(n){const t=()=>{!function mx(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Mt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kp(n),n.isCheckStableRunning=!0,Ip(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kp(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,l)=>{try{return d1(n),e.invokeTask(r,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),h1(n)}},onInvoke:(e,i,r,s,o,l,c)=>{try{return d1(n),e.invoke(r,s,o,l,c)}finally{n.shouldCoalesceRunChangeDetection&&t(),h1(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,kp(n),Ip(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ct.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Ct.isInAngularZone())throw new z(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,gx,Cu,Cu);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const gx={};function Ip(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kp(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function d1(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function h1(n){n._nesting--,Ip(n)}class vx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const f1=new X(""),Mu=new X("");let xp,Ap=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,xp||(function bx(n){xp=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ct.assertNotInAngularZone(),Sp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Sp(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(F(Ct),F(Pp),F(Mu))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})(),Pp=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return xp?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Vr=null;const p1=new X("AllowMultipleToken"),Op=new X("PlatformDestroyListeners");class g1{constructor(t,e){this.name=t,this.token=e}}function y1(n,t,e=[]){const i=`Platform: ${t}`,r=new X(i);return(s=[])=>{let o=Rp();if(!o||o.injector.get(p1,!1)){const l=[...e,...s,{provide:r,useValue:!0}];n?n(l):function Cx(n){if(Vr&&!Vr.get(p1,!1))throw new z(400,!1);Vr=n;const t=n.get(b1);(function m1(n){const t=n.get(a1,null);t&&t.forEach(e=>e())})(n)}(function v1(n=[],t){return gi.create({name:t,providers:[{provide:ff,useValue:"platform"},{provide:Op,useValue:new Set([()=>Vr=null])},...n]})}(l,i))}return function Ex(n){const t=Rp();if(!t)throw new z(401,!1);return t}()}}function Rp(){return Vr?.get(b1)??null}let b1=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function _1(n,t){let e;return e="noop"===n?new vx:("zone.js"===n?void 0:n)||new Ct(t),e}(i?.ngZone,function w1(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:Ct,useValue:r}];return r.run(()=>{const o=gi.create({providers:s,parent:this.injector,name:e.moduleType.name}),l=e.create(o),c=l.injector.get(lo,null);if(!c)throw new z(402,!1);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:f=>{c.handleError(f)}});l.onDestroy(()=>{Su(this._modules,l),h.unsubscribe()})}),function C1(n,t,e){try{const i=e();return Fa(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(c,r,()=>{const h=l.injector.get(Eu);return h.runInitializers(),h.donePromise.then(()=>(function Ww(n){ai(n,"Expected localeId to be defined"),"string"==typeof n&&(zw=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(nr,Mo)||Mo),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,i=[]){const r=D1({},i);return function wx(n,t,e){const i=new cp(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Tu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new z(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Op,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(F(gi))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function D1(n,t){return Array.isArray(t)?t.reduce(D1,n):{...n,...t}}let Tu=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new q(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),o=new q(l=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),Sp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{c.unsubscribe(),h.unsubscribe()}});this.isStable=function Pr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return Ee(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof q?n[0]:Bn(t)(nn(n,e))}(s,o.pipe(function gM(){return n=>Xn()(function hM(n,t){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new fM(r,t));const s=Object.create(i,as);return s.source=i,s.subjectFactory=r,s}}(pM)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof zv;if(!this._injector.get(Eu).done)throw!r&&function Bs(n){const t=ut(n)||On(n)||Gn(n);return null!==t&&t.standalone}(e),new z(405,false);let o;o=r?e:this._injector.get(Ia).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const l=function _x(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Ms),h=o.create(gi.NULL,[],i||o.selector,l),f=h.location.nativeElement,p=h.injector.get(f1,null);return p?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Su(this.components,h),p?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Su(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(l1,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Su(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new z(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(F(Ct),F(fr),F(lo))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Su(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let $i=(()=>{class n{}return n.__NG_ELEMENT_ID__=Tx,n})();function Tx(n){return function Sx(n,t,e){if(Sc(n)&&!e){const i=di(n.index,t);return new Aa(i,i)}return 47&n.type?new Aa(t[16],t):null}(kn(),N(),16==(16&n))}class I1{constructor(){}supports(t){return xa(t)}create(t){return new Ox(t)}}const xx=(n,t)=>t;class Ox{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||xx}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<A1(i,r,s)?e:i,l=A1(o,r,s),c=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const h=l-r,f=c-r;if(h!=f){for(let g=0;g<h;g++){const y=g<s.length?s[g]:s[g]=0,v=y+g;f<=v&&v<h&&(s[g]=y+1)}s[o.previousIndex]=f-h}}l!==c&&t(o,l,c)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xa(t))throw new z(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],o=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,l),i=!0),e=e._next}else r=0,function fA(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[_s()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{o=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,l,o,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Rx(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new k1),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new k1),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Rx{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class k1{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Lx,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function A1(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class P1{constructor(){}supports(t){return t instanceof Map||Qf(t)}create(){return new Fx}}class Fx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Qf(t)))throw new z(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Nx(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Nx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function x1(){return new Au([new I1])}let Au=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||x1()),deps:[[n,new wa,new ba]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new z(901,!1)}}return n.\u0275prov=ee({token:n,providedIn:"root",factory:x1}),n})();function O1(){return new Ka([new P1])}let Ka=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||O1()),deps:[[n,new wa,new ba]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new z(901,!1)}}return n.\u0275prov=ee({token:n,providedIn:"root",factory:O1}),n})();const Hx=y1(null,"core",[]);let Bx=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(F(Tu))},n.\u0275mod=En({type:n}),n.\u0275inj=un({}),n})();function Io(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Pu=null;function ir(){return Pu}class $x{}const Bt=new X("DocumentToken");let Up=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return function zx(){return F(R1)}()},providedIn:"platform"}),n})();const Wx=new X("Location Initialized");let R1=(()=>{class n extends Up{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(e){const i=ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=ir().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){L1()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){L1()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(F(Bt))},n.\u0275prov=ee({token:n,factory:function(){return function qx(){return new R1(F(Bt))}()},providedIn:"platform"}),n})();function L1(){return!!window.history.pushState}function Hp(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function F1(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function wr(n){return n&&"?"!==n[0]?"?"+n:n}let Ur=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return Je(Bp)},providedIn:"root"}),n})();const N1=new X("appBaseHref");let Bp=(()=>{class n extends Ur{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Je(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Hp(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+wr(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+wr(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+wr(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Up),F(N1,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kx=(()=>{class n extends Ur{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Hp(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+wr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+wr(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Up),F(N1,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})(),Ya=(()=>{class n{constructor(e){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=F1(V1(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+wr(i))}normalize(e){return n.stripTrailingSlash(function Jx(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,V1(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wr(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+wr(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=wr,n.joinWithSlash=Hp,n.stripTrailingSlash=F1,n.\u0275fac=function(e){return new(e||n)(F(Ur))},n.\u0275prov=ee({token:n,factory:function(){return function Yx(){return new Ya(F(Ur))}()},providedIn:"root"}),n})();function V1(n){return n.replace(/\/index.html$/,"")}var Yt=(()=>((Yt=Yt||{})[Yt.Format=0]="Format",Yt[Yt.Standalone=1]="Standalone",Yt))(),qe=(()=>((qe=qe||{})[qe.Narrow=0]="Narrow",qe[qe.Abbreviated=1]="Abbreviated",qe[qe.Wide=2]="Wide",qe[qe.Short=3]="Short",qe))(),jt=(()=>((jt=jt||{})[jt.Short=0]="Short",jt[jt.Medium=1]="Medium",jt[jt.Long=2]="Long",jt[jt.Full=3]="Full",jt))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function xu(n,t){return Ii(qn(n)[re.DateFormat],t)}function Ou(n,t){return Ii(qn(n)[re.TimeFormat],t)}function Ru(n,t){return Ii(qn(n)[re.DateTimeFormat],t)}function Si(n,t){const e=qn(n),i=e[re.NumberSymbols][t];if(typeof i>"u"){if(t===_e.CurrencyDecimal)return e[re.NumberSymbols][_e.Decimal];if(t===_e.CurrencyGroup)return e[re.NumberSymbols][_e.Group]}return i}function H1(n){if(!n[re.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[re.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ii(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Gp(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const cO=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ja={},uO=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var gn=(()=>((gn=gn||{})[gn.Short=0]="Short",gn[gn.ShortGMT=1]="ShortGMT",gn[gn.Long=2]="Long",gn[gn.Extended=3]="Extended",gn))(),Me=(()=>((Me=Me||{})[Me.FullYear=0]="FullYear",Me[Me.Month=1]="Month",Me[Me.Date=2]="Date",Me[Me.Hours=3]="Hours",Me[Me.Minutes=4]="Minutes",Me[Me.Seconds=5]="Seconds",Me[Me.FractionalSeconds=6]="FractionalSeconds",Me[Me.Day=7]="Day",Me))(),je=(()=>((je=je||{})[je.DayPeriods=0]="DayPeriods",je[je.Days=1]="Days",je[je.Months=2]="Months",je[je.Eras=3]="Eras",je))();function dO(n,t,e,i){let r=function wO(n){if(G1(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(l=>+l);return Lu(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(cO))return function _O(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,l=Number(n[5]||0)-i,c=Number(n[6]||0),h=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,l,c,h),t}(i)}const t=new Date(n);if(!G1(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=_r(e,t)||t;let l,o=[];for(;t;){if(l=uO.exec(t),!l){o.push(t);break}{o=o.concat(l.slice(1));const f=o.pop();if(!f)break;t=f}}let c=r.getTimezoneOffset();i&&(c=j1(i,c),r=function bO(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function vO(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(j1(t,r)-r))}(r,i,!0));let h="";return o.forEach(f=>{const p=function yO(n){if(zp[n])return zp[n];let t;switch(n){case"G":case"GG":case"GGG":t=St(je.Eras,qe.Abbreviated);break;case"GGGG":t=St(je.Eras,qe.Wide);break;case"GGGGG":t=St(je.Eras,qe.Narrow);break;case"y":t=sn(Me.FullYear,1,0,!1,!0);break;case"yy":t=sn(Me.FullYear,2,0,!0,!0);break;case"yyy":t=sn(Me.FullYear,3,0,!1,!0);break;case"yyyy":t=sn(Me.FullYear,4,0,!1,!0);break;case"Y":t=Uu(1);break;case"YY":t=Uu(2,!0);break;case"YYY":t=Uu(3);break;case"YYYY":t=Uu(4);break;case"M":case"L":t=sn(Me.Month,1,1);break;case"MM":case"LL":t=sn(Me.Month,2,1);break;case"MMM":t=St(je.Months,qe.Abbreviated);break;case"MMMM":t=St(je.Months,qe.Wide);break;case"MMMMM":t=St(je.Months,qe.Narrow);break;case"LLL":t=St(je.Months,qe.Abbreviated,Yt.Standalone);break;case"LLLL":t=St(je.Months,qe.Wide,Yt.Standalone);break;case"LLLLL":t=St(je.Months,qe.Narrow,Yt.Standalone);break;case"w":t=$p(1);break;case"ww":t=$p(2);break;case"W":t=$p(1,!0);break;case"d":t=sn(Me.Date,1);break;case"dd":t=sn(Me.Date,2);break;case"c":case"cc":t=sn(Me.Day,1);break;case"ccc":t=St(je.Days,qe.Abbreviated,Yt.Standalone);break;case"cccc":t=St(je.Days,qe.Wide,Yt.Standalone);break;case"ccccc":t=St(je.Days,qe.Narrow,Yt.Standalone);break;case"cccccc":t=St(je.Days,qe.Short,Yt.Standalone);break;case"E":case"EE":case"EEE":t=St(je.Days,qe.Abbreviated);break;case"EEEE":t=St(je.Days,qe.Wide);break;case"EEEEE":t=St(je.Days,qe.Narrow);break;case"EEEEEE":t=St(je.Days,qe.Short);break;case"a":case"aa":case"aaa":t=St(je.DayPeriods,qe.Abbreviated);break;case"aaaa":t=St(je.DayPeriods,qe.Wide);break;case"aaaaa":t=St(je.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":t=St(je.DayPeriods,qe.Abbreviated,Yt.Standalone,!0);break;case"bbbb":t=St(je.DayPeriods,qe.Wide,Yt.Standalone,!0);break;case"bbbbb":t=St(je.DayPeriods,qe.Narrow,Yt.Standalone,!0);break;case"B":case"BB":case"BBB":t=St(je.DayPeriods,qe.Abbreviated,Yt.Format,!0);break;case"BBBB":t=St(je.DayPeriods,qe.Wide,Yt.Format,!0);break;case"BBBBB":t=St(je.DayPeriods,qe.Narrow,Yt.Format,!0);break;case"h":t=sn(Me.Hours,1,-12);break;case"hh":t=sn(Me.Hours,2,-12);break;case"H":t=sn(Me.Hours,1);break;case"HH":t=sn(Me.Hours,2);break;case"m":t=sn(Me.Minutes,1);break;case"mm":t=sn(Me.Minutes,2);break;case"s":t=sn(Me.Seconds,1);break;case"ss":t=sn(Me.Seconds,2);break;case"S":t=sn(Me.FractionalSeconds,1);break;case"SS":t=sn(Me.FractionalSeconds,2);break;case"SSS":t=sn(Me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Nu(gn.Short);break;case"ZZZZZ":t=Nu(gn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Nu(gn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Nu(gn.Long);break;default:return null}return zp[n]=t,t}(f);h+=p?p(r,e,c):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Lu(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function _r(n,t){const e=function Qx(n){return qn(n)[re.LocaleId]}(n);if(Ja[e]=Ja[e]||{},Ja[e][t])return Ja[e][t];let i="";switch(t){case"shortDate":i=xu(n,jt.Short);break;case"mediumDate":i=xu(n,jt.Medium);break;case"longDate":i=xu(n,jt.Long);break;case"fullDate":i=xu(n,jt.Full);break;case"shortTime":i=Ou(n,jt.Short);break;case"mediumTime":i=Ou(n,jt.Medium);break;case"longTime":i=Ou(n,jt.Long);break;case"fullTime":i=Ou(n,jt.Full);break;case"short":const r=_r(n,"shortTime"),s=_r(n,"shortDate");i=Fu(Ru(n,jt.Short),[r,s]);break;case"medium":const o=_r(n,"mediumTime"),l=_r(n,"mediumDate");i=Fu(Ru(n,jt.Medium),[o,l]);break;case"long":const c=_r(n,"longTime"),h=_r(n,"longDate");i=Fu(Ru(n,jt.Long),[c,h]);break;case"full":const f=_r(n,"fullTime"),p=_r(n,"fullDate");i=Fu(Ru(n,jt.Full),[f,p])}return i&&(Ja[e][t]=i),i}function Fu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function zi(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function sn(n,t,e=0,i=!1,r=!1){return function(s,o){let l=function fO(n,t){switch(n){case Me.FullYear:return t.getFullYear();case Me.Month:return t.getMonth();case Me.Date:return t.getDate();case Me.Hours:return t.getHours();case Me.Minutes:return t.getMinutes();case Me.Seconds:return t.getSeconds();case Me.FractionalSeconds:return t.getMilliseconds();case Me.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||l>-e)&&(l+=e),n===Me.Hours)0===l&&-12===e&&(l=12);else if(n===Me.FractionalSeconds)return function hO(n,t){return zi(n,3).substring(0,t)}(l,t);const c=Si(o,_e.MinusSign);return zi(l,t,c,i,r)}}function St(n,t,e=Yt.Format,i=!1){return function(r,s){return function pO(n,t,e,i,r,s){switch(e){case je.Months:return function eO(n,t,e){const i=qn(n),s=Ii([i[re.MonthsFormat],i[re.MonthsStandalone]],t);return Ii(s,e)}(t,r,i)[n.getMonth()];case je.Days:return function Xx(n,t,e){const i=qn(n),s=Ii([i[re.DaysFormat],i[re.DaysStandalone]],t);return Ii(s,e)}(t,r,i)[n.getDay()];case je.DayPeriods:const o=n.getHours(),l=n.getMinutes();if(s){const h=function rO(n){const t=qn(n);return H1(t),(t[re.ExtraData][2]||[]).map(i=>"string"==typeof i?Gp(i):[Gp(i[0]),Gp(i[1])])}(t),f=function sO(n,t,e){const i=qn(n);H1(i);const s=Ii([i[re.ExtraData][0],i[re.ExtraData][1]],t)||[];return Ii(s,e)||[]}(t,r,i),p=h.findIndex(g=>{if(Array.isArray(g)){const[y,v]=g,w=o>=y.hours&&l>=y.minutes,_=o<v.hours||o===v.hours&&l<v.minutes;if(y.hours<v.hours){if(w&&_)return!0}else if(w||_)return!0}else if(g.hours===o&&g.minutes===l)return!0;return!1});if(-1!==p)return f[p]}return function Zx(n,t,e){const i=qn(n),s=Ii([i[re.DayPeriodsFormat],i[re.DayPeriodsStandalone]],t);return Ii(s,e)}(t,r,i)[o<12?0:1];case je.Eras:return function tO(n,t){return Ii(qn(n)[re.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Nu(n){return function(t,e,i){const r=-1*i,s=Si(e,_e.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case gn.Short:return(r>=0?"+":"")+zi(o,2,s)+zi(Math.abs(r%60),2,s);case gn.ShortGMT:return"GMT"+(r>=0?"+":"")+zi(o,1,s);case gn.Long:return"GMT"+(r>=0?"+":"")+zi(o,2,s)+":"+zi(Math.abs(r%60),2,s);case gn.Extended:return 0===i?"Z":(r>=0?"+":"")+zi(o,2,s)+":"+zi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function B1(n){return Lu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function $p(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=B1(e),o=function mO(n){const t=Lu(n,0,1).getDay();return Lu(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return zi(r,n,Si(i,_e.MinusSign))}}function Uu(n,t=!1){return function(e,i){return zi(B1(e).getFullYear(),n,Si(i,_e.MinusSign),t)}}const zp={};function j1(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function G1(n){return n instanceof Date&&!isNaN(n.valueOf())}function q1(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let Za=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(xa(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${yt(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(S(Au),S(Ka),S($t),S(ii))},n.\u0275dir=ye({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class RO{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xa=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new RO(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,o),J1(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{J1(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(S(ji),S(vr),S(Au))},n.\u0275dir=ye({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function J1(n,t){n.context.$implicit=t.item}let An=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new FO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Q1("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Q1("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(S(ji),S(vr))},n.\u0275dir=ye({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class FO{constructor(){this.$implicit=null,this.ngIf=null}}function Q1(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${yt(t)}'.`)}let X1=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:ni.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(S($t),S(Ka),S(ii))},n.\u0275dir=ye({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),e0=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(S(ji))},n.\u0275dir=ye({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ti]}),n})();const JO=new X("DATE_PIPE_DEFAULT_TIMEZONE"),QO=new X("DATE_PIPE_DEFAULT_OPTIONS");let Xp=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return dO(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Wi(n,t){return new z(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(S(nr,16),S(JO,24),S(QO,24))},n.\u0275pipe=jn({name:"date",type:n,pure:!0,standalone:!0}),n})(),n0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({}),n})();const r0="browser";function s0(n){return n===r0}let dR=(()=>{class n{}return n.\u0275prov=ee({token:n,providedIn:"root",factory:()=>new hR(F(Bt),window)}),n})();class hR{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function fR(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=o0(this.window.history)||o0(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function o0(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class a0{}class HR extends $x{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class rg extends HR{static makeCurrent(){!function Gx(n){Pu||(Pu=n)}(new rg)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function BR(){return tl=tl||document.querySelector("base"),tl?tl.getAttribute("href"):null}();return null==e?null:function jR(n){ju=ju||document.createElement("a"),ju.setAttribute("href",n);const t=ju.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){tl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return q1(document.cookie,t)}}let ju,tl=null;const f0=new X("TRANSITION_ID"),$R=[{provide:Du,useFactory:function GR(n,t,e){return()=>{e.get(Eu).donePromise.then(()=>{const i=ir(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[f0,Bt,gi],multi:!0}];let WR=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const Gu=new X("EventManagerPlugins");let $u=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(F(Gu),F(Ct))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();class p0{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=ir().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let g0=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})(),nl=(()=>{class n extends g0{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(m0),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(m0))}}return n.\u0275fac=function(e){return new(e||n)(F(Bt))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function m0(n){ir().remove(n)}const sg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},og=/%COMP%/g;function zu(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?zu(n,r,e):(r=r.replace(og,n),e.push(r))}return e}function b0(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ag=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new lg(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case Ki.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new ZR(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case Ki.ShadowDom:return new XR(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=zu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(F($u),F(nl),F(Wa))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();class lg{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(sg[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(_0(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(_0(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=sg[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=sg[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(ni.DashCase|ni.Important)?t.style.setProperty(e,i,r&ni.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ni.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,b0(i)):this.eventManager.addEventListener(t,e,b0(i))}}function _0(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ZR extends lg{constructor(t,e,i,r){super(t),this.component=i;const s=zu(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function YR(n){return"_ngcontent-%COMP%".replace(og,n)}(r+"-"+i.id),this.hostAttr=function JR(n){return"_nghost-%COMP%".replace(og,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class XR extends lg{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zu(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let eL=(()=>{class n extends p0{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(F(Bt))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const C0=["alt","control","meta","shift"],tL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let iL=(()=>{class n extends p0{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),o="code."),C0.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),o+=h+".")}),o+=s,0!=i.length||0===s.length)return null;const c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(e,i){let r=tL[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),C0.forEach(o=>{o!==r&&(0,nL[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(F(Bt))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const E0=[{provide:qa,useValue:r0},{provide:a1,useValue:function rL(){rg.makeCurrent()},multi:!0},{provide:Bt,useFactory:function oL(){return function LS(n){rf=n}(document),document},deps:[]}],aL=y1(Hx,"browser",E0),M0=new X(""),T0=[{provide:Mu,useClass:class zR{addToWindow(t){Mt.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Mt.getAllAngularTestabilities=()=>t.getAllTestabilities(),Mt.getAllAngularRootElements=()=>t.getAllRootElements(),Mt.frameworkStabilizers||(Mt.frameworkStabilizers=[]),Mt.frameworkStabilizers.push(i=>{const r=Mt.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(c){o=o||c,s--,0==s&&i(o)};r.forEach(function(c){c.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?ir().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:f1,useClass:Ap,deps:[Ct,Pp,Mu]},{provide:Ap,useClass:Ap,deps:[Ct,Pp,Mu]}],S0=[{provide:ff,useValue:"root"},{provide:lo,useFactory:function sL(){return new lo},deps:[]},{provide:Gu,useClass:eL,multi:!0,deps:[Bt,Ct,qa]},{provide:Gu,useClass:iL,multi:!0,deps:[Bt]},{provide:ag,useClass:ag,deps:[$u,nl,Wa]},{provide:qv,useExisting:ag},{provide:g0,useExisting:nl},{provide:nl,useClass:nl,deps:[Bt]},{provide:$u,useClass:$u,deps:[Gu,Ct]},{provide:a0,useClass:WR,deps:[]},[]];let lL=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:Wa,useValue:e.appId},{provide:f0,useExisting:Wa},$R]}}}return n.\u0275fac=function(e){return new(e||n)(F(M0,12))},n.\u0275mod=En({type:n}),n.\u0275inj=un({providers:[...S0,...T0],imports:[n0,Bx]}),n})(),I0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(F(Bt))},n.\u0275prov=ee({token:n,factory:function(e){let i=null;return i=e?new e:function uL(){return new I0(F(Bt))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let P0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(e){let i=null;return i=e?new(e||n):F(x0),i},providedIn:"root"}),n})(),x0=(()=>{class n extends P0{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case vt.NONE:return i;case vt.HTML:return Qi(i,"HTML")?pi(i):Ov(this._doc,String(i)).toString();case vt.STYLE:return Qi(i,"Style")?pi(i):i;case vt.SCRIPT:if(Qi(i,"Script"))return pi(i);throw new Error("unsafe value used in a script context");case vt.URL:return Qi(i,"URL")?pi(i):qc(String(i));case vt.RESOURCE_URL:if(Qi(i,"ResourceURL"))return pi(i);throw new Error(`unsafe value used in a resource URL context (see ${mc})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${mc})`)}}bypassSecurityTrustHtml(e){return function jS(n){return new FS(n)}(e)}bypassSecurityTrustStyle(e){return function GS(n){return new NS(n)}(e)}bypassSecurityTrustScript(e){return function $S(n){return new VS(n)}(e)}bypassSecurityTrustUrl(e){return function zS(n){return new US(n)}(e)}bypassSecurityTrustResourceUrl(e){return function WS(n){return new HS(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(F(Bt))},n.\u0275prov=ee({token:n,factory:function(e){let i=null;return i=e?new e:function yL(n){return new x0(n.get(Bt))}(F(gi)),i},providedIn:"root"}),n})();function pe(...n){let t=n[n.length-1];return Ee(t)?(n.pop(),we(n,t)):nn(n)}class Un extends K{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D;return this._value}next(t){super.next(this._value=t)}}const Wu=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();class vL extends Te{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class bL extends Te{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function wL(n,t,e,i,r=new bL(n,e,i)){if(!r.closed)return t instanceof q?t.subscribe(r):Dt(t)(r)}const O0={};function dg(...n){let t,e;return Ee(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Ze(n[0])&&(n=n[0]),nn(n,e).lift(new _L(t))}class _L{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new CL(t,this.resultSelector))}}class CL extends vL{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(O0),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(wL(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,o=this.toRespond?r[i]===O0?--this.toRespond:this.toRespond:0;r[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function qu(...n){return function DL(){return Bn(1)}()(pe(...n))}const Br=new q(n=>n.complete());function Ku(n){return n?function EL(n){return new q(t=>n.schedule(()=>t.complete()))}(n):Br}function R0(n){return new q(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?de(e):Ku()).subscribe(t)})}function qi(n,t){return new q(t?e=>t.schedule(ML,0,{error:n,subscriber:e}):e=>e.error(n))}function ML({error:n,subscriber:t}){t.error(n)}function vi(n,t){return"function"==typeof t?e=>e.pipe(vi((i,r)=>de(n(i,r)).pipe(G((s,o)=>t(i,s,r,o))))):e=>e.lift(new TL(n))}class TL{constructor(t){this.project=t}call(t,e){return e.subscribe(new SL(t,this.project))}}class SL extends Kt{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Pt(this),r=this.destination;r.add(i),this.innerSubscription=Dn(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const L0=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Ss(n){return t=>0===n?Ku():t.lift(new IL(n))}class IL{constructor(t){if(this.total=t,this.total<0)throw new L0}call(t,e){return e.subscribe(new kL(t,this.total))}}class kL extends Te{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function F0(...n){const t=n[n.length-1];return Ee(t)?(n.pop(),e=>qu(n,e,t)):e=>qu(n,e)}function Yn(n,t){return function(i){return i.lift(new AL(n,t))}}class AL{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new PL(t,this.predicate,this.thisArg))}}class PL extends Te{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Yu(n=null){return t=>t.lift(new xL(n))}class xL{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new OL(t,this.defaultValue))}}class OL extends Te{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function N0(n=FL){return t=>t.lift(new RL(n))}class RL{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new LL(t,this.errorFactory))}}class LL extends Te{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function FL(){return new Wu}function jr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Yn((r,s)=>n(r,s,i)):W,Ss(1),e?Yu(t):N0(()=>new Wu))}function Gr(n,t){return xt(n,t,1)}function $r(){}function It(n,t,e){return function(r){return r.lift(new NL(n,t,e))}}class NL{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new VL(t,this.nextOrObserver,this.error,this.complete))}}class VL extends Te{constructor(t,e,i,r){super(t),this._tapNext=$r,this._tapError=$r,this._tapComplete=$r,this._tapError=i||$r,this._tapComplete=r||$r,Ye(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||$r,this._tapError=e.error||$r,this._tapComplete=e.complete||$r)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function zr(n){return function(e){const i=new UL(n),r=e.lift(i);return i.caught=r}}class UL{constructor(t){this.selector=t}call(t,e){return e.subscribe(new HL(t,this.selector,this.caught))}}class HL extends Kt{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new Pt(this);this.add(i);const r=Dn(e,i);r!==i&&this.add(r)}}}function V0(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new BL(n,t,e))}}class BL{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new jL(t,this.accumulator,this.seed,this.hasSeed))}}class jL extends Te{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function hg(n){return function(e){return 0===n?Ku():e.lift(new GL(n))}}class GL{constructor(t){if(this.total=t,this.total<0)throw new L0}call(t,e){return e.subscribe(new $L(t,this.total))}}class $L extends Te{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=e++%i;t.next(r[o])}}t.complete()}}function U0(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Yn((r,s)=>n(r,s,i)):W,hg(1),e?Yu(t):N0(()=>new Wu))}class WL{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new qL(t,this.predicate,this.inclusive))}}class qL extends Te{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class YL{constructor(t){this.value=t}call(t,e){return e.subscribe(new JL(t,this.value))}}class JL extends Te{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function fg(n){return t=>t.lift(new QL(n))}class QL{constructor(t){this.callback=t}call(t,e){return e.subscribe(new ZL(t,this.callback))}}class ZL extends Te{constructor(t,e){super(t),this.add(new V(e))}}const ze="primary",il=Symbol("RouteTitle");class XL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ko(n){return new XL(n)}function eF(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],l=n[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function rr(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!H0(n[r],t[r]))return!1;return!0}function H0(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function B0(n){return Array.prototype.concat.apply([],n)}function j0(n){return n.length>0?n[n.length-1]:null}function Pn(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Wr(n){return Xf(n)?n:Fa(n)?de(Promise.resolve(n)):pe(n)}const Ju=!1,nF={exact:function z0(n,t,e){if(!ks(n.segments,t.segments)||!Qu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!z0(n.children[i],t.children[i],e))return!1;return!0},subset:W0},G0={exact:function iF(n,t){return rr(n,t)},subset:function rF(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>H0(n[e],t[e]))},ignored:()=>!0};function $0(n,t,e){return nF[e.paths](n.root,t.root,e.matrixParams)&&G0[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function W0(n,t,e){return q0(n,t,t.segments,e)}function q0(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ks(r,e)||t.hasChildren()||!Qu(r,e,i))}if(n.segments.length===e.length){if(!ks(n.segments,e)||!Qu(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!W0(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(ks(n.segments,r)&&Qu(n.segments,r,i)&&n.children[ze])&&q0(n.children[ze],t,s,i)}}function Qu(n,t,e){return t.every((i,r)=>G0[e](n[r].parameters,i.parameters))}class Is{constructor(t=new We([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ko(this.queryParams)),this._queryParamMap}toString(){return aF.serialize(this)}}class We{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Pn(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zu(this)}}class rl{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ko(this.parameters)),this._parameterMap}toString(){return Q0(this)}}function ks(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let K0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return new pg},providedIn:"root"}),n})();class pg{parse(t){const e=new mF(t);return new Is(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${sl(t.root,!0)}`,i=function uF(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${Xu(e)}=${Xu(r)}`).join("&"):`${Xu(e)}=${Xu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function lF(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const aF=new pg;function Zu(n){return n.segments.map(t=>Q0(t)).join("/")}function sl(n,t){if(!n.hasChildren())return Zu(n);if(t){const e=n.children[ze]?sl(n.children[ze],!1):"",i=[];return Pn(n.children,(r,s)=>{s!==ze&&i.push(`${s}:${sl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function oF(n,t){let e=[];return Pn(n.children,(i,r)=>{r===ze&&(e=e.concat(t(i,r)))}),Pn(n.children,(i,r)=>{r!==ze&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===ze?[sl(n.children[ze],!1)]:[`${r}:${sl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ze]?`${Zu(n)}/${e[0]}`:`${Zu(n)}/(${e.join("//")})`}}function Y0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xu(n){return Y0(n).replace(/%3B/gi,";")}function gg(n){return Y0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ed(n){return decodeURIComponent(n)}function J0(n){return ed(n.replace(/\+/g,"%20"))}function Q0(n){return`${gg(n.path)}${function cF(n){return Object.keys(n).map(t=>`;${gg(t)}=${gg(n[t])}`).join("")}(n.parameters)}`}const dF=/^[^\/()?;=#]+/;function td(n){const t=n.match(dF);return t?t[0]:""}const hF=/^[^=?&#]+/,pF=/^[^&#]+/;class mF{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new We([],{}):new We([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[ze]=new We(t,e)),i}parseSegment(){const t=td(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new z(4009,Ju);return this.capture(t),new rl(ed(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=td(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=td(this.remaining);r&&(i=r,this.capture(i))}t[ed(e)]=ed(i)}parseQueryParam(t){const e=function fF(n){const t=n.match(hF);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function gF(n){const t=n.match(pF);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=J0(e),s=J0(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=td(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new z(4010,Ju);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ze);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[ze]:new We([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new z(4011,Ju)}}function mg(n){return n.segments.length>0?new We([],{[ze]:n}):n}function nd(n){const t={};for(const i of Object.keys(n.children)){const s=nd(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function yF(n){if(1===n.numberOfChildren&&n.children[ze]){const t=n.children[ze];return new We(n.segments.concat(t.segments),t.children)}return n}(new We(n.segments,t))}function As(n){return n instanceof Is}function wF(n,t,e,i,r){if(0===e.length)return Ao(t.root,t.root,t.root,i,r);const s=function eC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new X0(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Pn(s.outlets,(c,h)=>{l[h]="string"==typeof c?c.split("/"):c}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,c)=>{0==c&&"."===l||(0==c&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new X0(e,t,i)}(e);return s.toRoot()?Ao(t.root,t.root,new We([],{}),i,r):function o(c){const h=function CF(n,t,e,i){if(n.isAbsolute)return new Po(t.root,!0,0);if(-1===i)return new Po(e,e===t.root,0);return function tC(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new z(4005,!1);r=i.segments.length}return new Po(i,!1,r-s)}(e,i+(ol(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,c),f=h.processChildren?ll(h.segmentGroup,h.index,s.commands):vg(h.segmentGroup,h.index,s.commands);return Ao(t.root,h.segmentGroup,f,i,r)}(n.snapshot?._lastPathIndex)}function ol(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function al(n){return"object"==typeof n&&null!=n&&n.outlets}function Ao(n,t,e,i,r){let o,s={};i&&Pn(i,(c,h)=>{s[h]=Array.isArray(c)?c.map(f=>`${f}`):`${c}`}),o=n===t?e:Z0(n,t,e);const l=mg(nd(o));return new Is(l,s,r)}function Z0(n,t,e){const i={};return Pn(n.children,(r,s)=>{i[s]=r===t?e:Z0(r,t,e)}),new We(n.segments,i)}class X0{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ol(i[0]))throw new z(4003,!1);const r=i.find(al);if(r&&r!==j0(i))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Po{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function vg(n,t,e){if(n||(n=new We([],{})),0===n.segments.length&&n.hasChildren())return ll(n,t,e);const i=function EF(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],l=e[i];if(al(l))break;const c=`${l}`,h=i<e.length-1?e[i+1]:null;if(r>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!iC(c,h,o))return s;i+=2}else{if(!iC(c,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new We(n.segments.slice(0,i.pathIndex),{});return s.children[ze]=new We(n.segments.slice(i.pathIndex),n.children),ll(s,0,r)}return i.match&&0===r.length?new We(n.segments,{}):i.match&&!n.hasChildren()?bg(n,t,e):i.match?ll(n,0,r):bg(n,t,e)}function ll(n,t,e){if(0===e.length)return new We(n.segments,{});{const i=function DF(n){return al(n[0])?n[0].outlets:{[ze]:n}}(e),r={};return Pn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=vg(n.children[o],t,s))}),Pn(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new We(n.segments,r)}}function bg(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(al(s)){const c=MF(s.outlets);return new We(i,c)}if(0===r&&ol(e[0])){i.push(new rl(n.segments[t].path,nC(e[0]))),r++;continue}const o=al(s)?s.outlets[ze]:`${s}`,l=r<e.length-1?e[r+1]:null;o&&l&&ol(l)?(i.push(new rl(o,nC(l))),r+=2):(i.push(new rl(o,{})),r++)}return new We(i,{})}function MF(n){const t={};return Pn(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=bg(new We([],{}),0,e))}),t}function nC(n){const t={};return Pn(n,(e,i)=>t[i]=`${e}`),t}function iC(n,t,e){return n==e.path&&rr(t,e.parameters)}class Cr{constructor(t,e){this.id=t,this.url=e}}class wg extends Cr{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dr extends Cr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class id extends Cr{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rC extends Cr{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TF extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SF extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IF extends Cr{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kF extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AF extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PF{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class xF{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class OF{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RF{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LF{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FF{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=_g(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=_g(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Cg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Cg(t,this._root).map(e=>e.value)}}function _g(n,t){if(n===t.value)return t;for(const e of t.children){const i=_g(n,e);if(i)return i}return null}function Cg(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Cg(n,e);if(i.length)return i.unshift(t),i}return[]}class Er{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function xo(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class aC extends oC{constructor(t,e){super(t),this.snapshot=e,Dg(this,t)}toString(){return this.snapshot.toString()}}function lC(n,t){const e=function VF(n,t){const o=new rd([],{},{},"",{},ze,t,null,n.root,-1,{});return new uC("",new Er(o,[]))}(n,t),i=new Un([new rl("",{})]),r=new Un({}),s=new Un({}),o=new Un({}),l=new Un(""),c=new Mr(i,r,o,l,s,ze,t,e.root);return c.snapshot=e.root,new aC(new Er(c,[]),e)}class Mr{constructor(t,e,i,r,s,o,l,c){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.pipe(G(h=>h[il]))??pe(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(G(t=>ko(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(G(t=>ko(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cC(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function UF(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class rd{constructor(t,e,i,r,s,o,l,c,h,f,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=c,this._urlSegment=h,this._lastPathIndex=f,this._resolve=p}get title(){return this.data?.[il]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ko(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ko(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uC extends oC{constructor(t,e){super(e),this.url=t,Dg(this,e)}toString(){return dC(this._root)}}function Dg(n,t){t.value._routerState=n,t.children.forEach(e=>Dg(n,e))}function dC(n){const t=n.children.length>0?` { ${n.children.map(dC).join(", ")} } `:"";return`${n.value}${t}`}function Eg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,rr(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),rr(t.params,e.params)||n.params.next(e.params),function tF(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!rr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),rr(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mg(n,t){const e=rr(n.params,t.params)&&function sF(n,t){return ks(n,t)&&n.every((e,i)=>rr(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Mg(n.parent,t.parent))}function cl(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function BF(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return cl(n,i,r);return cl(n,i)})}(n,t,e);return new Er(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(l=>cl(n,l)),o}}const i=function jF(n){return new Mr(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>cl(n,s));return new Er(i,r)}}const Tg="ngNavigationCancelingError";function hC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=As(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=fC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function fC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Tg]=!0,i.cancellationCode=t,e&&(i.url=e),i}function pC(n){return gC(n)&&As(n.url)}function gC(n){return n&&n[Tg]}class GF{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ul,this.attachRef=null}}let ul=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new GF,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const sd=!1;let od=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ze,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=Je(ul),this.location=Je(ji),this.changeDetector=Je($i),this.environmentInjector=Je(fr)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,sd);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,sd);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,sd);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new z(4013,sd);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new $F(e,l,r.injector);if(i&&function zF(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(o);this.activated=r.createComponent(h,r.length,c)}else this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ye({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ti]}),n})();class $F{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Mr?this.route:t===ul?this.childContexts:this.parent.get(t,e)}}let Sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["ng-component"]],standalone:!0,features:[b_],decls:1,vars:0,template:function(e,i){1&e&&m(0,"router-outlet")},dependencies:[od],encapsulation:2}),n})();function mC(n,t){return n.providers&&!n._injector&&(n._injector=mu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function kg(n){const t=n.children&&n.children.map(kg),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ze&&(e.component=Sg),e}function ki(n){return n.outlet||ze}function yC(n,t){const e=n.filter(i=>ki(i)===t);return e.push(...n.filter(i=>ki(i)!==t)),e}function dl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class JF{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Eg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=xo(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Pn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=xo(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=xo(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=xo(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new FF(s.value.snapshot))}),t.children.length&&this.forwardEvent(new RF(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(Eg(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),Eg(l.route.value),this.activateChildRoutes(t,null,o.children)}else{const l=dl(r.snapshot),c=l?.get(Ia)??null;o.attachRef=null,o.route=r,o.resolver=c,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class vC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ad{constructor(t,e){this.component=t,this.route=e}}function QF(n,t,e){const i=n._root;return hl(i,t?t._root:null,e,[i.value])}function Oo(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function CM(n){return null!==bc(n)}(n)?t.get(n):n:i}function hl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=xo(t);return n.children.forEach(o=>{(function XF(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function eN(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ks(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ks(n.url,t.url)||!rr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mg(n,t)||!rr(n.queryParams,t.queryParams);default:return!Mg(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new vC(i)):(s.data=o.data,s._resolvedData=o._resolvedData),hl(n,t,s.component?l?l.children:null:e,i,r),c&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new ad(l.outlet.component,o))}else o&&fl(t,l,r),r.canActivateChecks.push(new vC(i)),hl(n,null,s.component?l?l.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Pn(s,(o,l)=>fl(o,e.getContext(l),r)),r}function fl(n,t,e){const i=xo(n),r=n.value;Pn(i,(s,o)=>{fl(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new ad(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function pl(n){return"function"==typeof n}function Ag(n){return n instanceof Wu||"EmptyError"===n?.name}const ld=Symbol("INITIAL_VALUE");function Ro(){return vi(n=>dg(n.map(t=>t.pipe(Ss(1),F0(ld)))).pipe(G(t=>{for(const e of t)if(!0!==e){if(e===ld)return ld;if(!1===e||e instanceof Is)return e}return!0}),Yn(t=>t!==ld),Ss(1)))}function bC(n){return function j(...n){return J(n)}(It(t=>{if(As(t))throw hC(0,t)}),G(t=>!0===t))}const Pg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function wC(n,t,e,i,r){const s=xg(n,t,e);return s.matched?function yN(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?pe(r.map(o=>{const l=Oo(o,n);return Wr(function oN(n){return n&&pl(n.canMatch)}(l)?l.canMatch(t,e):n.runInContext(()=>l(t,e)))})).pipe(Ro(),bC()):pe(!0)}(i=mC(t,i),t,e).pipe(G(o=>!0===o?s:{...Pg})):pe(s)}function xg(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Pg}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||eF)(e,n,t);if(!r)return{...Pg};const s={};Pn(r.posParams,(l,c)=>{s[c]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function cd(n,t,e,i){if(e.length>0&&function wN(n,t,e){return e.some(i=>ud(n,t,i)&&ki(i)!==ze)}(n,e,i)){const s=new We(t,function bN(n,t,e,i){const r={};r[ze]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ki(s)!==ze){const o=new We([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[ki(s)]=o}return r}(n,t,i,new We(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function _N(n,t,e){return e.some(i=>ud(n,t,i))}(n,e,i)){const s=new We(n.segments,function vN(n,t,e,i,r){const s={};for(const o of i)if(ud(n,e,o)&&!r[ki(o)]){const l=new We([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,s[ki(o)]=l}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new We(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function ud(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function _C(n,t,e,i){return!!(ki(n)===i||i!==ze&&ud(t,e,n))&&("**"===n.path||xg(t,n,e).matched)}function CC(n,t,e){return 0===t.length&&!n.children[e]}const dd=!1;class hd{constructor(t){this.segmentGroup=t||null}}class DC{constructor(t){this.urlTree=t}}function gl(n){return qi(new hd(n))}function EC(n){return qi(new DC(n))}class MN{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=cd(this.urlTree.root,[],[],this.config).segmentGroup,e=new We(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,ze).pipe(G(s=>this.createUrlTree(nd(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zr(s=>{if(s instanceof DC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof hd?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,ze).pipe(G(r=>this.createUrlTree(nd(r),t.queryParams,t.fragment))).pipe(zr(r=>{throw r instanceof hd?this.noMatchError(r):r}))}noMatchError(t){return new z(4002,dd)}createUrlTree(t,e,i){const r=mg(t);return new Is(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(G(s=>new We([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return de(r).pipe(Gr(s=>{const o=i.children[s],l=yC(e,s);return this.expandSegmentGroup(t,l,o,s).pipe(G(c=>({segment:c,outlet:s})))}),V0((s,o)=>(s[o.outlet]=o.segment,s),{}),U0())}expandSegment(t,e,i,r,s,o){return de(i).pipe(Gr(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,o).pipe(zr(h=>{if(h instanceof hd)return pe(null);throw h}))),jr(l=>!!l),zr((l,c)=>{if(Ag(l))return CC(e,r,s)?pe(new We([],{})):gl(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,o,l){return _C(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):gl(e):gl(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?EC(s):this.lineralizeSegments(i,s).pipe(xt(o=>{const l=new We(o,{});return this.expandSegment(t,l,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:l,consumedSegments:c,remainingSegments:h,positionalParamSegments:f}=xg(e,r,s);if(!l)return gl(e);const p=this.applyRedirectCommands(c,r.redirectTo,f);return r.redirectTo.startsWith("/")?EC(p):this.lineralizeSegments(r,p).pipe(xt(g=>this.expandSegment(t,e,i,g.concat(h),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=mC(i,t),i.loadChildren?(i._loadedRoutes?pe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(G(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new We(r,{})))):pe(new We(r,{}))):wC(e,i,r,t).pipe(vi(({matched:o,consumedSegments:l,remainingSegments:c})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(xt(f=>{const p=f.injector??t,g=f.routes,{segmentGroup:y,slicedSegments:v}=cd(e,l,c,g),w=new We(y.segments,y.children);if(0===v.length&&w.hasChildren())return this.expandChildren(p,g,w).pipe(G(T=>new We(l,T)));if(0===g.length&&0===v.length)return pe(new We(l,{}));const _=ki(i)===s;return this.expandSegment(p,w,g,v,_?ze:s,!0).pipe(G(k=>new We(l.concat(k.segments),k.children)))})):gl(e)))}getChildConfig(t,e,i){return e.children?pe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?pe({routes:e._loadedRoutes,injector:e._loadedInjector}):function mN(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?pe(!0):pe(r.map(o=>{const l=Oo(o,n);return Wr(function nN(n){return n&&pl(n.canLoad)}(l)?l.canLoad(t,e):n.runInContext(()=>l(t,e)))})).pipe(Ro(),bC())}(t,e,i).pipe(xt(r=>r?this.configLoader.loadChildren(t,e).pipe(It(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function DN(n){return qi(fC(dd,3))}())):pe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return pe(i);if(r.numberOfChildren>1||!r.children[ze])return qi(new z(4e3,dd));r=r.children[ze]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Is(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Pn(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Pn(e.children,(l,c)=>{o[c]=this.createSegmentGroup(t,l,i,r)}),new We(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new z(4001,dd);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class SN{}class AN{constructor(t,e,i,r,s,o,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l}recognize(){const t=cd(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,ze).pipe(G(e=>{if(null===e)return null;const i=new rd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ze,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Er(i,e),s=new uC(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=cC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return de(Object.keys(i.children)).pipe(Gr(r=>{const s=i.children[r],o=yC(e,r);return this.processSegmentGroup(t,o,s,r)}),V0((r,s)=>r&&s?(r.push(...s),r):null),function zL(n,t=!1){return e=>e.lift(new WL(n,t))}(r=>null!==r),Yu(null),U0(),G(r=>{if(null===r)return null;const s=TC(r);return function PN(n){n.sort((t,e)=>t.value.outlet===ze?-1:e.value.outlet===ze?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return de(e).pipe(Gr(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),jr(o=>!!o),zr(o=>{if(Ag(o))return CC(i,r,s)?pe([]):pe(null);throw o}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!_C(e,i,r,s))return pe(null);let o;if("**"===e.path){const l=r.length>0?j0(r).parameters:{},c=IC(i)+r.length;o=pe({snapshot:new rd(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kC(e),ki(e),e.component??e._loadedComponent??null,e,SC(i),c,AC(e)),consumedSegments:[],remainingSegments:[]})}else o=wC(i,e,r,t).pipe(G(({matched:l,consumedSegments:c,remainingSegments:h,parameters:f})=>{if(!l)return null;const p=IC(i)+c.length;return{snapshot:new rd(c,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,kC(e),ki(e),e.component??e._loadedComponent??null,e,SC(i),p,AC(e)),consumedSegments:c,remainingSegments:h}}));return o.pipe(vi(l=>{if(null===l)return pe(null);const{snapshot:c,consumedSegments:h,remainingSegments:f}=l;t=e._injector??t;const p=e._loadedInjector??t,g=function xN(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:y,slicedSegments:v}=cd(i,h,f,g.filter(_=>void 0===_.redirectTo));if(0===v.length&&y.hasChildren())return this.processChildren(p,g,y).pipe(G(_=>null===_?null:[new Er(c,_)]));if(0===g.length&&0===v.length)return pe([new Er(c,[])]);const w=ki(e)===s;return this.processSegment(p,g,y,v,w?ze:s).pipe(G(_=>null===_?null:[new Er(c,_)]))}))}}function ON(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function TC(n){const t=[],e=new Set;for(const i of n){if(!ON(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=TC(i.children);t.push(new Er(i.value,r))}return t.filter(i=>!e.has(i))}function SC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function IC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function kC(n){return n.data||{}}function AC(n){return n.resolve||{}}function PC(n){return"string"==typeof n.title||null===n.title}function Og(n){return vi(t=>{const e=n(t);return e?de(e).pipe(G(()=>t)):pe(t)})}class BN{constructor(t){this.router=t,this.currentNavigation=null}setupNavigations(t){const e=this.router.events;return t.pipe(Yn(i=>0!==i.id),G(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),vi(i=>{let r=!1,s=!1;return pe(i).pipe(It(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),vi(o=>{const l=this.router.browserUrlTree.toString(),c=!this.router.navigated||o.extractedUrl.toString()!==l||l!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||c)&&this.router.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return OC(o.source)&&(this.router.browserUrlTree=o.extractedUrl),pe(o).pipe(vi(f=>{const p=this.router.transitions.getValue();return e.next(new wg(f.id,this.router.serializeUrl(f.extractedUrl),f.source,f.restoredState)),p!==this.router.transitions.getValue()?Br:Promise.resolve(f)}),function TN(n,t,e,i){return vi(r=>function EN(n,t,e,i,r){return new MN(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(G(s=>({...r,urlAfterRedirects:s}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),It(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},i.urlAfterRedirects=f.urlAfterRedirects}),function LN(n,t,e,i,r){return xt(s=>function kN(n,t,e,i,r,s,o="emptyOnly"){return new AN(n,t,e,i,r,o,s).recognize().pipe(vi(l=>null===l?function IN(n){return new q(t=>t.error(n))}(new SN):pe(l)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(G(o=>({...s,targetSnapshot:o}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),It(f=>{if(i.targetSnapshot=f.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!f.extras.skipLocationChange){const g=this.router.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.router.setBrowserUrl(g,f)}this.router.browserUrlTree=f.urlAfterRedirects}const p=new TF(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);e.next(p)}));if(c&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:p,extractedUrl:g,source:y,restoredState:v,extras:w}=o,_=new wg(p,this.router.serializeUrl(g),y,v);e.next(_);const E=lC(g,this.router.rootComponentType).snapshot;return pe(i={...o,targetSnapshot:E,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=o.rawUrl,o.resolve(null),Br}),It(o=>{const l=new SF(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.router.triggerEvent(l)}),G(o=>i={...o,guards:QF(o.targetSnapshot,o.currentSnapshot,this.router.rootContexts)}),function lN(n,t){return xt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?pe({...e,guardsResult:!0}):function cN(n,t,e,i){return de(n).pipe(xt(r=>function gN(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?pe(s.map(l=>{const c=dl(t)??r,h=Oo(l,c);return Wr(function sN(n){return n&&pl(n.canDeactivate)}(h)?h.canDeactivate(n,t,e,i):c.runInContext(()=>h(n,t,e,i))).pipe(jr())})).pipe(Ro()):pe(!0)}(r.component,r.route,e,t,i)),jr(r=>!0!==r,!0))}(o,i,r,n).pipe(xt(l=>l&&function tN(n){return"boolean"==typeof n}(l)?function uN(n,t,e,i){return de(t).pipe(Gr(r=>qu(function hN(n,t){return null!==n&&t&&t(new OF(n)),pe(!0)}(r.route.parent,i),function dN(n,t){return null!==n&&t&&t(new LF(n)),pe(!0)}(r.route,i),function pN(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function ZF(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>R0(()=>pe(o.guards.map(c=>{const h=dl(o.node)??e,f=Oo(c,h);return Wr(function rN(n){return n&&pl(n.canActivateChild)}(f)?f.canActivateChild(i,n):h.runInContext(()=>f(i,n))).pipe(jr())})).pipe(Ro())));return pe(s).pipe(Ro())}(n,r.path,e),function fN(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return pe(!0);const r=i.map(s=>R0(()=>{const o=dl(t)??e,l=Oo(s,o);return Wr(function iN(n){return n&&pl(n.canActivate)}(l)?l.canActivate(t,n):o.runInContext(()=>l(t,n))).pipe(jr())}));return pe(r).pipe(Ro())}(n,r.route,e))),jr(r=>!0!==r,!0))}(i,s,n,t):pe(l)),G(l=>({...e,guardsResult:l})))})}(this.router.ngModule.injector,o=>this.router.triggerEvent(o)),It(o=>{if(i.guardsResult=o.guardsResult,As(o.guardsResult))throw hC(0,o.guardsResult);const l=new IF(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.router.triggerEvent(l)}),Yn(o=>!!o.guardsResult||(this.router.restoreHistory(o),this.router.cancelNavigationTransition(o,"",3),!1)),Og(o=>{if(o.guards.canActivateChecks.length)return pe(o).pipe(It(l=>{const c=new kF(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(c)}),vi(l=>{let c=!1;return pe(l).pipe(function FN(n,t){return xt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return pe(e);let s=0;return de(r).pipe(Gr(o=>function NN(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!PC(r)&&(s[il]=r.title),function VN(n,t,e,i){const r=function UN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return pe({});const s={};return de(r).pipe(xt(o=>function HN(n,t,e,i){const r=dl(t)??i,s=Oo(n,r);return Wr(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(jr(),It(l=>{s[o]=l}))),hg(1),function KL(n){return t=>t.lift(new YL(n))}(s),zr(o=>Ag(o)?Br:qi(o)))}(s,n,t,i).pipe(G(o=>(n._resolvedData=o,n.data=cC(n,e).resolve,r&&PC(r)&&(n.data[il]=r.title),null)))}(o.route,i,n,t)),It(()=>s++),hg(1),xt(o=>s===r.length?pe(e):Br))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),It({next:()=>c=!0,complete:()=>{c||(this.router.restoreHistory(l),this.router.cancelNavigationTransition(l,"",2))}}))}),It(l=>{const c=new AF(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(c)}))}),Og(o=>{const l=c=>{const h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.router.configLoader.loadComponent(c.routeConfig).pipe(It(f=>{c.component=f}),G(()=>{})));for(const f of c.children)h.push(...l(f));return h};return dg(l(o.targetSnapshot.root)).pipe(Yu(),Ss(1))}),Og(()=>this.router.afterPreactivation()),G(o=>{const l=function HF(n,t,e){const i=cl(n,t._root,e?e._root:void 0);return new aC(i,t)}(this.router.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:l}}),It(o=>{this.router.currentUrlTree=o.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.router.routerState=o.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(o.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,o),this.router.browserUrlTree=o.urlAfterRedirects)}),((n,t,e)=>G(i=>(new JF(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.router.rootContexts,this.router.routeReuseStrategy,o=>this.router.triggerEvent(o)),It({next(){r=!0},complete(){r=!0}}),fg(()=>{r||s||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),zr(o=>{if(s=!0,gC(o)){pC(o)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const l=new id(i.id,this.router.serializeUrl(i.extractedUrl),o.message,o.cancellationCode);if(e.next(l),pC(o)){const c=this.router.urlHandlingStrategy.merge(o.url,this.router.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||OC(i.source)};this.router.scheduleNavigation(c,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const l=new rC(i.id,this.router.serializeUrl(i.extractedUrl),o,i.targetSnapshot??void 0);e.next(l);try{i.resolve(this.router.errorHandler(o))}catch(c){i.reject(c)}}return Br}))}))}}function OC(n){return"imperative"!==n}let RC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===ze);return i}getResolvedTitleForRoute(e){return e.data[il]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return Je(jN)},providedIn:"root"}),n})(),jN=(()=>{class n extends RC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(F(I0))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return Je(zN)},providedIn:"root"}),n})();class $N{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let zN=(()=>{class n extends $N{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(n)))(i||n)}}(),n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fd=new X("",{providedIn:"root",factory:()=>({})}),Lo=new X("ROUTES");let Rg=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return pe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Wr(e.loadComponent()).pipe(G(FC),It(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),fg(()=>{this.componentLoaders.delete(e)})),r=new xr(i,()=>new K).pipe(Xn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return pe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(G(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let c,h,f=!1;Array.isArray(l)?h=l:(c=l.create(e).injector,h=B0(c.get(Lo,[],De.Self|De.Optional)));return{routes:h.map(kg),injector:c}}),fg(()=>{this.childrenLoaders.delete(i)})),o=new xr(s,()=>new K).pipe(Xn());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return Wr(e()).pipe(G(FC),xt(r=>r instanceof y_||Array.isArray(r)?pe(r):de(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(F(gi),F(Tp))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FC(n){return function KN(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let YN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:function(){return Je(JN)},providedIn:"root"}),n})(),JN=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function QN(n){throw n}function ZN(n,t,e){return t.parse("/")}const XN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},e3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function VC(){const n=Je(K0),t=Je(ul),e=Je(Ya),i=Je(gi),r=Je(Tp),s=Je(Lo,{optional:!0})??[],o=Je(fd,{optional:!0})??{},l=new yn(null,n,t,e,i,r,B0(s));return function t3(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),l}let yn=(()=>{class n{constructor(e,i,r,s,o,l,c){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=c,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new K,this.errorHandler=QN,this.malformedUriErrorHandler=ZN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>pe(void 0),this.urlHandlingStrategy=Je(YN),this.routeReuseStrategy=Je(GN),this.titleStrategy=Je(RC),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new BN(this),this.configLoader=o.get(Rg),this.configLoader.onLoadEndListener=g=>this.triggerEvent(new xF(g)),this.configLoader.onLoadStartListener=g=>this.triggerEvent(new PF(g)),this.ngModule=o.get(Ms),this.console=o.get(ax);const p=o.get(Ct);this.isNgZoneEnabled=p instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Is,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lC(this.currentUrlTree,this.rootComponentType),this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(e.state){const l={...e.state};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(kg),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:c}=i,h=r||this.routerState.root,f=c?this.currentUrlTree.fragment:o;let p=null;switch(l){case"merge":p={...this.currentUrlTree.queryParams,...s};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}return null!==p&&(p=this.removeEmptyProps(p)),wF(h,this.currentUrlTree,e,p,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=As(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function n3(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new z(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...XN}:!1===i?{...e3}:i,As(e))return $0(this.currentUrlTree,e,r);const s=this.parseUrl(e);return $0(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Dr(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,c,h;o?(l=o.resolve,c=o.reject,h=o.promise):h=new Promise((g,y)=>{l=g,c=y});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),p=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:e,extras:s,resolve:l,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(g=>Promise.reject(g))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new id(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Mf()},n.\u0275prov=ee({token:n,factory:function(){return VC()},providedIn:"root"}),n})(),pd=(()=>{class n{constructor(e,i,r,s,o,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new K;const c=o.nativeElement.tagName;this.isAnchorElement="A"===c||"AREA"===c,this.isAnchorElement?this.subscription=e.events.subscribe(h=>{h instanceof Dr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=Io(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=Io(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=Io(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function Lv(n,t,e){return function oI(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?Rv:vs}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(S(yn),S(Mr),function ga(n){return function TT(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Dy(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(kn(),n)}("tabindex"),S(ii),S($t),S(Ur))},n.\u0275dir=ye({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&gt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&Vn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ti]}),n})(),UC=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new nt,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Dr&&this.update()})}ngAfterContentInit(){pe(this.links.changes,pe(null)).pipe(Bn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=de(e).pipe(Bn()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function r3(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(S(yn),S($t),S(ii),S($i),S(pd,8))},n.\u0275dir=ye({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&wu(r,pd,5),2&e){let s;wt(s=_t())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ti]}),n})();class HC{}let s3=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yn(e=>e instanceof Dr),Gr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=mu(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,l=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return de(r).pipe(Bn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):pe(null);const s=r.pipe(xt(o=>null===o?pe(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?de([s,this.loader.loadComponent(i)]).pipe(Bn()):s})}}return n.\u0275fac=function(e){return new(e||n)(F(yn),F(Tp),F(fr),F(HC),F(Rg))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lg=new X("");let BC=(()=>{class n{constructor(e,i,r,s={}){this.router=e,this.viewportScroller=i,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof wg?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Dr&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new sC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Mf()},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function No(n,t){return{\u0275kind:n,\u0275providers:t}}function GC(){const n=Je(gi);return t=>{const e=n.get(Tu);if(t!==e.components[0])return;const i=n.get(yn),r=n.get($C);1===n.get(Ng)&&i.initialNavigation(),n.get(zC,null,De.Optional)?.setUpPreloading(),n.get(Lg,null,De.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const $C=new X("",{factory:()=>new K}),Ng=new X("",{providedIn:"root",factory:()=>1});const zC=new X("");function u3(n){return No(0,[{provide:zC,useExisting:s3},{provide:HC,useExisting:n}])}const WC=new X("ROUTER_FORROOT_GUARD"),d3=[Ya,{provide:K0,useClass:pg},{provide:yn,useFactory:VC},ul,{provide:Mr,useFactory:function jC(n){return n.routerState.root},deps:[yn]},Rg,[]];function h3(){return new g1("Router",yn)}let qC=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[d3,[],{provide:Lo,multi:!0,useValue:e},{provide:WC,useFactory:m3,deps:[[yn,new ba,new wa]]},{provide:fd,useValue:i||{}},i?.useHash?{provide:Ur,useClass:Kx}:{provide:Ur,useClass:Bp},{provide:Lg,useFactory:()=>{const n=Je(yn),t=Je(dR),e=Je(Ct),i=Je(fd);return i.scrollOffset&&t.setOffset(i.scrollOffset),new BC(n,t,e,i)}},i?.preloadingStrategy?u3(i.preloadingStrategy).\u0275providers:[],{provide:g1,multi:!0,useFactory:h3},i?.initialNavigation?y3(i):[],[{provide:KC,useFactory:GC},{provide:l1,multi:!0,useExisting:KC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Lo,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(F(WC,8))},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[Sg]}),n})();function m3(n){return"guarded"}function y3(n){return["disabled"===n.initialNavigation?No(3,[{provide:Du,multi:!0,useFactory:()=>{const t=Je(yn);return()=>{t.setUpLocationChangeListener()}}},{provide:Ng,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?No(2,[{provide:Ng,useValue:0},{provide:Du,multi:!0,deps:[gi],useFactory:t=>{const e=t.get(Wx,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const s=t.get(yn),o=t.get($C);(function i(r){t.get(yn).events.pipe(Yn(o=>o instanceof Dr||o instanceof id||o instanceof rC),G(o=>o instanceof Dr||o instanceof id&&(0===o.code||1===o.code)&&null),Yn(o=>null!==o),Ss(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),o.closed?pe(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const KC=new X("");class gd{static#e=this.\u0275fac=function(e){return new(e||gd)};static#t=this.\u0275cmp=Qe({type:gd,selectors:[["app-home"]],decls:30,vars:0,consts:[["href","https://www.resolutiongames.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri and Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri and Andri Reyr Ragnarsson",1,"image"],["href","/music/pesi-year-1974"]],template:function(e,i){1&e&&(u(0,"h1"),a(1,"Egill Antonsson"),d(),u(2,"h2"),a(3,"Software developer, music artist, weightlifter, earthling, stardust"),d(),u(4,"p"),a(5,"\nWelcome to my website, where I share and blog about music, audio and software development. You access these amazing things via the menu above.\n"),d(),u(6,"p"),a(7,"\nMy profession is Software Development, and I work as a Sound Programmer at "),u(8,"a",0),a(9,"Resolution Games"),d(),a(10,".\nMy "),u(11,"a",1),a(12,"LinkedIn profile"),d(),a(13," sums up my work experience.\n"),d(),u(14,"h2"),a(15,"Background and Family"),d(),u(16,"figure"),m(17,"img",2),u(18,"figcaption"),a(19,"\nThe Family, from left to right:"),m(20,"br"),a(21,"\nEgill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri and Andri Reyr Ragnarsson\n"),d()(),u(22,"p"),a(23,"\nI was born in 1982 and raised in Reykjavik, Iceland. Since 2014 I live in Sweden with my wonderful wife Jantra Phosri, daughter Soff\xeda R\xf3s Egilsd\xf3ttir and son Andri Reyr Ragnarsson."),m(24,"br"),d(),u(25,"p"),a(26,"\nI'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir, and brother to J\xf3nas B. Antonsson. Our two older brothers and namesakes passed away before I was born. They played music and painted pictures and according to family and friends were good boys. I digitalized their music that they recorded on a cassette in the early 1970s that you can listen to "),u(27,"a",3),a(28,"here"),d(),a(29,".\n"),d())},encapsulation:2})}function YC(n,t,e,i,r,s,o){try{var l=n[s](o),c=l.value}catch(h){return void e(h)}l.done?t(c):Promise.resolve(c).then(i,r)}function Jt(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(c){YC(s,i,r,o,l,"next",c)}function l(c){YC(s,i,r,o,l,"throw",c)}o(void 0)})}}class Tr{static validateNumberForRange(t,e,i){if(e>=i)throw new Vo(Vo.msgLowerLimitMustBeLowerThanUpperLimit);if(t>i)throw new Vo(Vo.msgNumberMustNotBeHigherThenUpperLimit);if(t<e)throw new Vo(Vo.msgNumberMustNotBeLowerThenLowerLimit);return t}}class Vo{constructor(t){this.name="SoundUtilError",this.message=t}static#e=this.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit";static#t=this.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit";static#n=this.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit"}class b3{constructor(t,e,i,r,s,o,l){this._instanceMuted=!1,this.log=l,this._gainNode=t,this.maxGain=e,this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.soundType=o,this.value=this.defaultValue,[i,r].forEach(c=>{c.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),c.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(t){this._gainNode.gain.value=this.muted?0:this.calculateGain(Tr.validateNumberForRange(t,0,1))}get gainNode(){return this._gainNode}calculateGain(t){const e=t*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===e)return 0;if("SFX"===this.soundType){const r=this.dynamicRange.getRangeCenter()+(e-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${r}`),r}return e}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(t=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=t,this}setValueAtTime(t,e){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(t),e),this}exponentialRampToValueAtTime(t,e){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(t),e),this}linearRampToValueAtTime(t,e){return this.muted?this._gainNode?.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(t),e),this)}setTargetAtTime(t,e,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(t),e,i),this)}setValueCurveAtTime(t,e,i){if(this.muted)return this._gainNode.gain;for(let r=0;r<t.length;r++)t[r]=this.calculateGain(t[r]);return this._gainNode.gain.setValueCurveAtTime(t,e,i),this}cancelScheduledValues(t){return this._gainNode.gain.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._gainNode.gain.cancelAndHoldAtTime(t),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(t=>{t.removeAllListeners("GainChange"),t.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class w3{constructor(t,e,i,r,s){this.audioContext=t,this.sourceNode=e,this.analyzerNode=i,this.gainWrapper=r,this.id=s}}class _3{constructor(t,e,i,r,s,o,l){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=t,this.log=l,this.configMaxNrPlayingAtOnce=e,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?Tr.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,e):this.soundData.loop?1:e,this.maxGainValidated=Tr.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(t=!0){var e=this;return Jt(function*(){let i;e.reachedMaxNumberOfPlayingAtOnce&&e.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${e.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),e.firstInstancePromise?(e.log("Info",`[${e.label}]`,"play(): awaiting first instance promise"),i=yield e.firstInstancePromise,e.firstInstancePromise=void 0):(e.log("Info",`[${e.label}]`,"play(): createSoundInstance"),i=yield e.createSoundInstance(t)),e.instances.set(e.id,i),e.log("Info",`Added soundInstance with id '${e.id}' to the instances list which now has the size '${e.instances.size}'`);const r=e.createEndedPromise(i);return e.playSoundInstance(i),{instance:i,endedPromise:r}})()}createEndedPromise(t){return new Promise(e=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(t),e(t),this.instances.delete(t.id)||this.log("Warn",`deleting map with instance id '${t.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${t.id}, list with new size ${this.instances.size}`)},t.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(t){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t.sourceNode.start()}createSoundInstance(t){var e=this;return Jt(function*(){const i=e.audioCtx.createBufferSource();i.buffer=e.sourceNodeBuffer?e.sourceNodeBuffer:e.sourceNodeBuffer=yield e.loadSound(),i.loop=e.soundData.loop;const r=e.audioCtx.createGain(),s=new b3(r,e.maxGainValidated,e.soundTypeGain,e.masterGain,e.dynamicRange,e.soundData.soundType,e.log),o=e.audioCtx.createAnalyser();return t&&i.connect(s.gainNode).connect(o).connect(e.audioCtx.destination),++e.id,e.log("Info",`Creating sound instance for key '${e.soundData.key}' with id '${e.id}'`),new w3(e.audioCtx,i,o,s,e.id)})()}loadSound(){var t=this;return Jt(function*(){t.log("Info",`Loading sound with key '${t.soundData.key}'`);const i=yield(yield fetch(t.soundData.url)).arrayBuffer();return yield t.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.id=-1)}disposeInstance(t){return t.sourceNode.removeEventListener("ended",this.endedListener),t.sourceNode.stop(),t.gainWrapper.dispose(),t.sourceNode.disconnect(),t.analyzerNode.disconnect(),t}dispose(){this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var Vg=$e(3105);class C3 extends Vg.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}class Ug extends C3{constructor(t,e){super(t),this._muted=e}get muted(){return this._muted}set muted(t){this._muted=t}}class D3 extends Vg.EventEmitter{constructor(t,e){super(),this._lowValue=0,this._highValue=1,this.lowValue=t,this.highValue=e}get lowValue(){return this._lowValue}set lowValue(t){this._lowValue=t}get highValue(){return this._highValue}set highValue(t){this._highValue=t}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class E3{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new D3(0,1),this._musicGain=new Ug(1,!1),this._sfxGain=new Ug(1,!1),this._masterGain=new Ug(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(t){this._musicGain.value=Tr.validateNumberForRange(t,0,1),this._musicGain.emit("GainChange")}set musicMuted(t){this._musicGain.muted=t,this._musicGain.emit("MuteChange")}set sfxGain(t){this._sfxGain.value=Tr.validateNumberForRange(t,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(t){this._sfxGain.muted=t,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(t){this._masterGain.value=Tr.validateNumberForRange(t,0,1),this._masterGain.emit("GainChange")}set masterMuted(t){this._masterGain.muted=t,this._masterGain.emit("MuteChange")}get masterMuted(){return this._masterGain.muted}set maxNrPlayingAtOncePerSound(t){this._maxNrPlayingAtOncePerSound=Tr.validateNumberForRange(t,1,24),this.sounds.forEach(e=>{e.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(t,e){this.log=e,this.audioContext=new(t.AudioContext||t.webkitAudioContext)}setDynamicRange(t,e){t>e&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${t}' must be lower than highValue '${e}', not setting new Dynamic Range`),this.dynamicRange.lowValue=Tr.validateNumberForRange(t,0,1),this.dynamicRange.highValue=Tr.validateNumberForRange(e,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(t){const e="Music"===t.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new _3(t,this._maxNrPlayingAtOncePerSound,e,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(t.key,i),i}updateEmitterMaxListeners(t){const e=2*t*24;this._masterGain.setMaxListeners(e),this._musicGain.setMaxListeners(e),this._sfxGain.setMaxListeners(e),this.dynamicRange.setMaxListeners(e)}addToList(t,e){this.sounds.has(t)?this.log("Warn",`Sound with the key '${t}' is already in to SoundManager, not adding it again`):this.sounds.set(t,e)}playSound(t){const e=this.sounds.get(t);return e?e.play():(this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${t}', not in SoundManager`),null)}getSound(t){const e=this.sounds.get(t);if(!e)throw new JC(JC.msgSoundNotInManager);return e}hasSound(t){return this.sounds.has(t)}stopSound(t){const e=this.sounds.get(t);e?e.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}pause(){this.audioContext.suspend()}resume(){this.audioContext.resume()}stopMusic(){this.sounds.forEach(t=>{"Music"===t.soundData.soundType&&t.stop()})}stopAllSounds(){this.sounds.forEach(t=>{t.stop()})}purge(){this.sounds.forEach(t=>{t.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}class JC{constructor(t){this.name="SoundManagerError",this.message=t}static#e=this.msgSoundNotInManager="Sound Not In Manager"}class vn{constructor(t,e,i,r,s,o,l,c,h,f){this.source=t,this.name=i,this.artworkPath=r,""===r&&(this.artworkPath=vn.defaultArtworkPath),this.about=s,this.lyrics=f,this.rootUrl=e,this.soundcloudUrl=o,this.spotifyUrl=l,this.qobuzUrl=c,this.bandcampUrl=h}static#e=this.dir="../../assets/tracks";static#t=this.defaultArtworkPath=`${vn.dir}/Egill_Antonsson.png`}class Jn extends vn{constructor(t,e,i,r,s="",o="",l="",c="",h="",f="",p=""){super("Local",i,r,s,o,l,c,h,f,p),this.soundDatas=t,this.play=e}}class M3 extends vn{constructor(t,e,i,r,s="",o="",l="",c="",h="",f="",p=""){super("RealtimeVisual",i,r,s,o,l,c,h,f,p),this.soundDatas=t,this.play=e,this.isGraphicsActive=!0}}class qr extends vn{constructor(t,e,i="",r,s="",o="",l="",c="",h="",f="",p=""){super("Youtube",i,r,s,o,l,c,h,f,p),this.youtubeId=t,this.displayOnYoutube=e,this.isGraphicsActive=e}}class xe extends vn{constructor(t,e,i,r="",s="",o="",l="",c="",h=""){super("Soundcloud",e,i,r,s,t,o,l,c,h)}}class yl extends Jn{constructor(t,e,i,r,s,o="",l=""){super(e,i,r,s,o,l),this.layeredMusicController=t}}class Uo{constructor(){this._instance=new E3}get instance(){return this._instance}playFromStart(t,e){if(!this.instance.hasSound(t.soundDatas[0].key))for(let i=0;i<t.soundDatas.length;i++)this.instance.addSound(t.soundDatas[i]);t.play()(),t instanceof yl&&(t.layeredMusicController.gainsDisabled=e)}play(){this.instance.resume()}stop(t){this.instance.stopMusic(),t instanceof yl&&t.layeredMusicController&&t.layeredMusicController.stop()}injectMocksForTests(t){this._instance=t}static#e=this.\u0275fac=function(e){return new(e||Uo)};static#t=this.\u0275prov=ee({token:Uo,factory:Uo.\u0275fac,providedIn:"root"})}class bi{static#e=this.IS_ENABLED=!1;log(t,e,...i){if(bi.IS_ENABLED)switch(t){case"Error":console.error(e,i.join(" "));break;case"Warn":console.warn(e,i.join(" "));break;case"Info":console.log(e,i.join(" "))}}static#t=this.\u0275fac=function(e){return new(e||bi)};static#n=this.\u0275prov=ee({token:bi,factory:bi.\u0275fac,providedIn:"root"})}class vl{constructor(t){this.logService=t,this._volume=100,this.isMuted=!1,this._isInitialized=!1,this.loadedUrl="",this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}init(){if(this.logService.log("Info","Soundcloud player service: init"),!0!==this._isInitialized){this._isInitialized=!0;var t=$e(4120);this.widget=new t("scWidget"),this.widget.on(t.events.FINISH,()=>{this.logService.log("Info","soundcloud track finished / ended"),this.instanceEndedListeners.forEach(i=>i(!0))})}}load(t,e){this.logService.log("Info","Soundcloud player service: load with url",t),this.widget.load(t,{auto_play:!1,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1,start_track:0}).then(()=>{this.logService.log("Info","Soundcloud player service: load completed with url",t),this.loadedUrl=t,e&&this.playViaWidget()})}play(){this.logService.log("Info","Soundcloud player service: play"),this.playViaWidget()}playFromStart(t){this.logService.log("Info","Soundcloud player service: playFromStart",t),this.load(t.soundcloudUrl,!0),this.widget.setVolume(this._volume)}playViaWidget(){this.widget.play(),this.instancePlayedListeners.forEach(t=>t())}pause(){void 0!==this.widget?this.widget.pause():this.logService.log("Info","Soundcloud player service: pause, no widget defined returning early")}set volume(t){void 0!==this.widget?this.isMuted||(this._volume=t,this.widget.setVolume(this._volume)):this.logService.log("Info","Soundcloud player service: pause, no widget defined returning early")}set muted(t){this.isMuted=t,this.widget.setVolume(t?0:this._volume)}static#e=this.\u0275fac=function(e){return new(e||vl)(F(bi))};static#t=this.\u0275prov=ee({token:vl,factory:vl.\u0275fac,providedIn:"root"})}class Ho{constructor(){this.bodyMargin=.05}getCurrentWidthRange(t){return t<=451?it.XXS:t<=703?it.XS:t<=1053?it.S:t<=1403?it.M:t<=2e3?it.L:it.XL}getRectSizeForHorizontalCenter(t,e,i){const r=this.getCurrentWidthRange(t);let s=e.get(r);void 0===s&&(s=e.get(it.Default),void 0===s&&(s=0));let o=i.get(r);void 0===o&&(o=i.get(it.Default),void 0===o&&(o=0));let c=t*(1-2*this.bodyMargin)*(1-2*s);return c-=o,{width:c,height:.5625*c}}static#e=this.\u0275fac=function(e){return new(e||Ho)};static#t=this.\u0275prov=ee({token:Ho,factory:Ho.\u0275fac,providedIn:"root"})}var it=(()=>(function(n){n[n.Default=0]="Default",n[n.XXS=1]="XXS",n[n.XS=2]="XS",n[n.S=3]="S",n[n.M=4]="M",n[n.L=5]="L",n[n.XL=6]="XL"}(it||(it={})),it))();class Bo{constructor(){}get nativeWindow(){return function T3(){return window}()}static#e=this.\u0275fac=function(e){return new(e||Bo)};static#t=this.\u0275prov=ee({token:Bo,factory:Bo.\u0275fac,providedIn:"root"})}class Ps{constructor(){this.subject=new K}sendMessage(t){this.subject.next(t)}onMessage(){return this.subject.asObservable()}static#e=this.\u0275fac=function(e){return new(e||Ps)};static#t=this.\u0275prov=ee({token:Ps,factory:Ps.\u0275fac,providedIn:"root"})}class bl{constructor(t,e,i,r){this.windowRef=t,this.messageService=e,this.screenService=i,this.logService=r,this.playWhenReady=!1,this.isFullScreen=!1,this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}savePlayerElement(t){this.playerElement=t}onWindowResize(t,e){if(void 0===this.player)return 0;const i=this.getPlayerSize(t);return this.player.setSize(i.width,i.height),i.height}getPlayerSize(t){return this.screenService.getRectSizeForHorizontalCenter(t,new Map([[it.Default,0],[it.S,.05],[it.M,.15],[it.L,.25],[it.XL,.3]]),new Map([[it.Default,0],[it.XXS,16],[it.XS,16],[it.S,8],[it.M,6],[it.L,3]]))}onPlayerReady(t,e,i,r,s){this.player=t;let o=0;if(i){const c=this.getPlayerSize(r);this.player.setSize(c.width,c.height),o=c.height}this.volume=e,this.playWhenReady&&this.play(),t.getIframe().onfullscreenchange=()=>{this.isFullScreen=!this.isFullScreen,this.logService.log("Info","isFullScreen",this.isFullScreen),this.logService.log("Info","playerElement",this.playerElement)};let l=this.player.getIframe().contentWindow;return this.windowRef.nativeWindow.addEventListener("message",c=>{if(c.source===l){var h=JSON.parse(c.data);"infoDelivery"===h.event&&h.info&&h.info.volume&&this.messageService.sendMessage({type:"YoutubeVolumeChange"})}}),o}toFullScreen(){this.player?.getIframe().requestFullscreen()}play(){this.playWhenReady=!1,this.player?.playVideo(),this.instancePlayedListeners.forEach(t=>t())}playFromStart(t){if(this.logService.log("Info","YoutubeService:playFromStart"),void 0===this.player)return void(this.playWhenReady=!0);let e=this.getIdFromVideoUrl(this.player.getVideoUrl());this.logService.log("Info","currentIdInPlayer",e),t.youtubeId!==e?(this.logService.log("Info","loading new youtube id",t.youtubeId),this.player.loadVideoById(t.youtubeId)):this.play()}getIdFromVideoUrl(t){return t?t.split("?v=")[1]:""}pause(){this.logService.log("Info","pause() in YoutubeService"),this.player?.pauseVideo()}get volume(){return void 0===this.player?.getVolume()?0:this.player.getVolume()}set volume(t){this.player?.setVolume(t)}get muted(){return void 0===this.player?.isMuted()||this.player.isMuted()}set muted(t){t?this.player?.mute():this.player?.unMute()}static#e=this.\u0275fac=function(e){return new(e||bl)(F(Bo),F(Ps),F(Ho),F(bi))};static#t=this.\u0275prov=ee({token:bl,factory:bl.\u0275fac,providedIn:"root"})}r=function(s,o){for(var l=["webgl","experimental-webgl","webkit-3d","moz-webgl"],c=null,h=0;h<l.length;++h){try{c=s.getContext(l[h],o)}catch{}if(c)break}return c};var r,S3_setupWebGL=function(s,o,l){l=l||function c(f){var p=document.getElementsByTagName("body")[0];if(p){var g=window.WebGLRenderingContext?'It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org">Click here for more information.</a>':'This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>';f&&(g+="<br/><br/>Status: "+f),p.innerHTML=function(s){return'<div style="margin: auto; width:500px;z-index:10000;margin-top:20em;text-align:center;">'+s+"</div>"}(g)}},s.addEventListener&&s.addEventListener("webglcontextcreationerror",function(f){l(f.statusMessage)},!1);var h=r(s,o);return h||(window,l("")),h};window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n,t){window.setTimeout(n,1e3/60)}),window.cancelAnimationFrame||(window.cancelAnimationFrame=window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelAnimationFrame||window.msCancelRequestAnimationFrame||window.oCancelAnimationFrame||window.oCancelRequestAnimationFrame||window.clearTimeout);var Ft=function(){var t=null,e=!1,i=null,r=0,o={};let l=!1;var v=function(O){i=O;var se=r=.001*performance.now(),Y=function(be){if(!isNaN(be)){var me=.001*be,Ge=me-se;se=me;var et=Math.max(0,me-r);O(t,et,Ge)}e||requestAnimationFrame(Y)};Y()},T={compile:function(O){var se=document.getElementById(O);if(!se)return console.log("Can't find element "+O),null;if("x-shader/x-fragment"==se.type)T=t.createShader(t.FRAGMENT_SHADER);else{if("x-shader/x-vertex"!=se.type)return console.log("Unsupported shader type: "+se.type),null;T=t.createShader(t.VERTEX_SHADER)}var Y=se[null===document.textContent?"textContent":"innerText"].trim();return t.shaderSource(T,Y),t.compileShader(T),t.getShaderParameter(T,t.COMPILE_STATUS)?T:(console.log("Can't compile shader "+O,t.getShaderInfoLog(T)),null)},link:function(O,se){var Y=t.createProgram();return t.attachShader(Y,O),t.attachShader(Y,se),t.linkProgram(Y),t.getProgramParameter(Y,t.LINK_STATUS)?Y:(console.log("Can't link program "),null)}},H=function(O,se){this.id=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(vertices),t.DYNAMIC_DRAW),this.elements=se.length/O,this.stride=O};H.prototype.bind=function(){t.bindBuffer(t.ARRAY_BUFFER,this.id)},H.prototype.update=function(O,se){t.bindBuffer(t.ARRAY_BUFFER,this.id),t.bufferSubData(t.ARRAY_BUFFER,O,new Float32Array(se))};var $=function(O,se){if(this.shaderid=O+se,this.a={},this.u={},void 0!==o[this.shaderid])this.program=o[this.shaderid].program;else{var be=Ft.shader.compile(O),me=Ft.shader.compile(se);this.program=Ft.shader.link(be,me),o[this.shaderid]={program:this.program}}if(null===this.program)throw"Can't create Program<"+O+", "+se+">"};return $.prototype.use=function(){(void 0===window.activeShader||window.activeShader!==this.shaderid)&&t.useProgram(this.program),window.activeShader=this.shaderid},$.prototype.attribute=function(O){this.a[O]=t.getAttribLocation(this.program,O),this.a[O]<0&&console.log("Attribute "+O+" was not found")},$.prototype.uniform=function(O){this.u[O]=t.getUniformLocation(this.program,O),void 0===this.u[O]&&console.log("Uniform "+O+" was not found")},{initialize:function f(O,se,Y){O.width=se,O.height=Y;try{return(t=S3_setupWebGL(O)).getExtension("OES_standard_derivatives"),t.viewport(0,0,O.width,O.height),l=!0,t}catch{return null}},resize:function(O,se){if(!l)return;const Y=t.canvas;Y.width=O,Y.height=se,t.viewport(0,0,O,se)},fullscreen:function(){document},doPause:function(){e=!0},resume:function(){null!==i&&(e=!1,v(i))},loop:v,loadImage:function(O,se){var Y=new Image;Y.onload=function(){var be=document.createElement("canvas");be.width=Y.width,be.height=Y.height;var me=be.getContext("2d");me.drawImage(Y,0,0);var Ge=me.getImageData(0,0,be.width,be.height);se(Y.width,Y.height,Ge)},Y.src=O},loadText:function(O){var se=document.createElement("canvas");se.width=400,se.height=40;var Y=se.getContext("2d");return Y.fillStyle="#00FF00",Y.textAlign="center",Y.textBaseline="top",Y.font="32px monospace",Y.fillText(O,se.width/2,0),Y.getImageData(0,0,se.width,se.height)},staticBuffer:function(O,se){var Y=t.createBuffer();return t.bindBuffer(t.ARRAY_BUFFER,Y),t.bufferData(t.ARRAY_BUFFER,new Float32Array(se),t.STATIC_DRAW),Y.elements=se.length/O,Y.stride=O,Y},shader:T,Program:$,Buffer:H,setStartTime:function(O){r=O},getStartTime:function(){return r}}}(),QC_quad=function(e){var i=Ft.staticBuffer(3,[-e,-e,0,e,-e,0,-e,e,0,e,e,0]);return{bind:function(r,s){r.bindBuffer(r.ARRAY_BUFFER,i),r.enableVertexAttribArray(s),r.vertexAttribPointer(s,i.stride,r.FLOAT,!1,0,0)},draw:function(r){r.drawArrays(r.TRIANGLE_STRIP,0,i.elements)}}},QC_cube=function(e){var r=Ft.staticBuffer(3,[e,-e,-e,e,-e,e,-e,-e,-e,-e,-e,e,-e,e,e,e,-e,e,e,e,e,e,e,-e,-e,e,e,-e,e,-e,-e,-e,-e,e,e,-e,e,-e,-e,e,-e,e]);return{bind:function(s,o){s.bindBuffer(s.ARRAY_BUFFER,r),s.enableVertexAttribArray(o),s.vertexAttribPointer(o,r.stride,s.FLOAT,!1,0,0)},draw:function(s){s.drawArrays(s.TRIANGLE_STRIP,0,r.elements)}}},R=function(){var n=1.4166666666666667,t=n/8,e=function(g){return g/n},o=function(g,y,v){var w=e(g);return w<=y?0:w>=y+v?1:(w-y)/v},l=function(g,y,v){return 1-o(g,y,v)};return{init:function(g){n=g},fadein:o,fadeout:l,interval:function(g,y,v,w,_){return o(g,y,v)*l(g,w,_)},unit:function(g,y){return e(g)%y/y},tounit:e,totime:function(g){return g*n},get16partIndex:function(g){return Math.floor(g/t)%16},step:function(g,y){return e(g)>=y?1:0},smoothstep:function p(g,y,v){var w=Math.max(0,Math.min(1,(v-g)/(y-g)));return w*w*(3-2*w)}}}(),ZC=function(n,t,e){return Math.min(e,Math.max(t,n))},jo_inOut=function(n,t,e,i){return n<0?t:n>i?t+e:(n/=i/2)<1?e/2*n*n*n+t:e/2*((n-=2)*n*n+2)+t},Hg={in:function(n,t,e){return n<=t?0:n>=t+e?1:(n-t)/e},out:function(n,t,e){return 1-Hg.in(n,t,e)}},XC=function(){return function(n){var t=0,e=0,i=0,r=1;0==n.length&&(n=[+new Date]);var s=I3();t=s(" "),e=s(" "),i=s(" ");for(var o=0;o<n.length;o++)(t-=s(n[o]))<0&&(t+=1),(e-=s(n[o]))<0&&(e+=1),(i-=s(n[o]))<0&&(i+=1);s=null;var l=function(){var c=2091639*t+2.3283064365386963e-10*r;return t=e,e=i,i=c-(r=0|c)};return l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+11102230246251565e-32*(2097152*l()|0)},l.version="Alea 0.9",l.args=n,l}(Array.prototype.slice.call(arguments))};function I3(){var n=4022871197,t=function(e){e=e.toString();for(var i=0;i<e.length;i++){var r=.02519603282416938*(n+=e.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)};return t.version="Mash 0.9",t}var He=function(n){var t,e,i;if(n&&"object"==typeof n&&n.hasOwnProperty("elements")){for(e=n.elements,i=new Float32Array(16),t=0;t<16;++t)i[t]=e[t];this.elements=i}else this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])};He.prototype.setIdentity=function(){var n=this.elements;return n[0]=1,n[4]=0,n[8]=0,n[12]=0,n[1]=0,n[5]=1,n[9]=0,n[13]=0,n[2]=0,n[6]=0,n[10]=1,n[14]=0,n[3]=0,n[7]=0,n[11]=0,n[15]=1,this},He.prototype.set=function(n){var t,e,i;if((e=n.elements)!==(i=this.elements)){for(t=0;t<16;++t)i[t]=e[t];return this}},He.prototype.multiply=He.prototype.concat=function(n){var t,e,i,r,s,o,l,c;if(i=this.elements,(e=this.elements)===(r=n.elements))for(r=new Float32Array(16),t=0;t<16;++t)r[t]=e[t];for(t=0;t<4;t++)e[t]=(s=i[t])*r[0]+(o=i[t+4])*r[1]+(l=i[t+8])*r[2]+(c=i[t+12])*r[3],e[t+4]=s*r[4]+o*r[5]+l*r[6]+c*r[7],e[t+8]=s*r[8]+o*r[9]+l*r[10]+c*r[11],e[t+12]=s*r[12]+o*r[13]+l*r[14]+c*r[15];return this},He.prototype.multiplyVector3=function(n){var t=this.elements,e=n.elements,i=new eD,r=i.elements;return r[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+t[11],r[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+t[12],r[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+t[13],i},He.prototype.multiplyVector4=function(n){var t=this.elements,e=n.elements,i=new k3,r=i.elements;return r[0]=e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],r[1]=e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],r[2]=e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],r[3]=e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15],i},He.prototype.transpose=function(){var n,t;return t=(n=this.elements)[1],n[1]=n[4],n[4]=t,t=n[2],n[2]=n[8],n[8]=t,t=n[3],n[3]=n[12],n[12]=t,t=n[6],n[6]=n[9],n[9]=t,t=n[7],n[7]=n[13],n[13]=t,t=n[11],n[11]=n[14],n[14]=t,this},He.prototype.setInverseOf=function(n){var t,e,i,r,s;if(e=n.elements,i=this.elements,(r=new Float32Array(16))[0]=e[5]*e[10]*e[15]-e[5]*e[11]*e[14]-e[9]*e[6]*e[15]+e[9]*e[7]*e[14]+e[13]*e[6]*e[11]-e[13]*e[7]*e[10],r[4]=-e[4]*e[10]*e[15]+e[4]*e[11]*e[14]+e[8]*e[6]*e[15]-e[8]*e[7]*e[14]-e[12]*e[6]*e[11]+e[12]*e[7]*e[10],r[8]=e[4]*e[9]*e[15]-e[4]*e[11]*e[13]-e[8]*e[5]*e[15]+e[8]*e[7]*e[13]+e[12]*e[5]*e[11]-e[12]*e[7]*e[9],r[12]=-e[4]*e[9]*e[14]+e[4]*e[10]*e[13]+e[8]*e[5]*e[14]-e[8]*e[6]*e[13]-e[12]*e[5]*e[10]+e[12]*e[6]*e[9],r[1]=-e[1]*e[10]*e[15]+e[1]*e[11]*e[14]+e[9]*e[2]*e[15]-e[9]*e[3]*e[14]-e[13]*e[2]*e[11]+e[13]*e[3]*e[10],r[5]=e[0]*e[10]*e[15]-e[0]*e[11]*e[14]-e[8]*e[2]*e[15]+e[8]*e[3]*e[14]+e[12]*e[2]*e[11]-e[12]*e[3]*e[10],r[9]=-e[0]*e[9]*e[15]+e[0]*e[11]*e[13]+e[8]*e[1]*e[15]-e[8]*e[3]*e[13]-e[12]*e[1]*e[11]+e[12]*e[3]*e[9],r[13]=e[0]*e[9]*e[14]-e[0]*e[10]*e[13]-e[8]*e[1]*e[14]+e[8]*e[2]*e[13]+e[12]*e[1]*e[10]-e[12]*e[2]*e[9],r[2]=e[1]*e[6]*e[15]-e[1]*e[7]*e[14]-e[5]*e[2]*e[15]+e[5]*e[3]*e[14]+e[13]*e[2]*e[7]-e[13]*e[3]*e[6],r[6]=-e[0]*e[6]*e[15]+e[0]*e[7]*e[14]+e[4]*e[2]*e[15]-e[4]*e[3]*e[14]-e[12]*e[2]*e[7]+e[12]*e[3]*e[6],r[10]=e[0]*e[5]*e[15]-e[0]*e[7]*e[13]-e[4]*e[1]*e[15]+e[4]*e[3]*e[13]+e[12]*e[1]*e[7]-e[12]*e[3]*e[5],r[14]=-e[0]*e[5]*e[14]+e[0]*e[6]*e[13]+e[4]*e[1]*e[14]-e[4]*e[2]*e[13]-e[12]*e[1]*e[6]+e[12]*e[2]*e[5],r[3]=-e[1]*e[6]*e[11]+e[1]*e[7]*e[10]+e[5]*e[2]*e[11]-e[5]*e[3]*e[10]-e[9]*e[2]*e[7]+e[9]*e[3]*e[6],r[7]=e[0]*e[6]*e[11]-e[0]*e[7]*e[10]-e[4]*e[2]*e[11]+e[4]*e[3]*e[10]+e[8]*e[2]*e[7]-e[8]*e[3]*e[6],r[11]=-e[0]*e[5]*e[11]+e[0]*e[7]*e[9]+e[4]*e[1]*e[11]-e[4]*e[3]*e[9]-e[8]*e[1]*e[7]+e[8]*e[3]*e[5],r[15]=e[0]*e[5]*e[10]-e[0]*e[6]*e[9]-e[4]*e[1]*e[10]+e[4]*e[2]*e[9]+e[8]*e[1]*e[6]-e[8]*e[2]*e[5],0==(s=e[0]*r[0]+e[1]*r[4]+e[2]*r[8]+e[3]*r[12]))return this;for(s=1/s,t=0;t<16;t++)i[t]=r[t]*s;return this},He.prototype.invert=function(){return this.setInverseOf(this)},He.prototype.setOrtho=function(n,t,e,i,r,s){var o,l,c,h;if(n===t||e===i||r===s)throw"null frustum";return c=1/(i-e),h=1/(s-r),(o=this.elements)[0]=2*(l=1/(t-n)),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*c,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=-2*h,o[11]=0,o[12]=-(t+n)*l,o[13]=-(i+e)*c,o[14]=-(s+r)*h,o[15]=1,this},He.prototype.ortho=function(n,t,e,i,r,s){return this.concat((new He).setOrtho(n,t,e,i,r,s))},He.prototype.setFrustum=function(n,t,e,i,r,s){var o,l,c,h;if(n===t||i===e||r===s)throw"null frustum";if(r<=0)throw"near <= 0";if(s<=0)throw"far <= 0";return c=1/(i-e),h=1/(s-r),(o=this.elements)[0]=2*r*(l=1/(t-n)),o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=2*r*c,o[6]=0,o[7]=0,o[8]=(t+n)*l,o[9]=(i+e)*c,o[10]=-(s+r)*h,o[11]=-1,o[12]=0,o[13]=0,o[14]=-2*r*s*h,o[15]=0,this},He.prototype.frustum=function(n,t,e,i,r,s){return this.concat((new He).setFrustum(n,t,e,i,r,s))},He.prototype.setPerspective=function(n,t,e,i){var r,s,o,l;if(e===i||0===t)throw"null frustum";if(e<=0)throw"near <= 0";if(i<=0)throw"far <= 0";if(n=Math.PI*n/180/2,0===(o=Math.sin(n)))throw"null frustum";return s=1/(i-e),l=Math.cos(n)/o,(r=this.elements)[0]=l/t,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=l,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=-(i+e)*s,r[11]=-1,r[12]=0,r[13]=0,r[14]=-2*e*i*s,r[15]=0,this},He.prototype.perspective=function(n,t,e,i){return this.concat((new He).setPerspective(n,t,e,i))},He.prototype.setScale=function(n,t,e){var i=this.elements;return i[0]=n,i[4]=0,i[8]=0,i[12]=0,i[1]=0,i[5]=t,i[9]=0,i[13]=0,i[2]=0,i[6]=0,i[10]=e,i[14]=0,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},He.prototype.scale=function(n,t,e){var i=this.elements;return i[0]*=n,i[4]*=t,i[8]*=e,i[1]*=n,i[5]*=t,i[9]*=e,i[2]*=n,i[6]*=t,i[10]*=e,i[3]*=n,i[7]*=t,i[11]*=e,this},He.prototype.setTranslate=function(n,t,e){var i=this.elements;return i[0]=1,i[4]=0,i[8]=0,i[12]=n,i[1]=0,i[5]=1,i[9]=0,i[13]=t,i[2]=0,i[6]=0,i[10]=1,i[14]=e,i[3]=0,i[7]=0,i[11]=0,i[15]=1,this},He.prototype.translate=function(n,t,e){var i=this.elements;return i[12]+=i[0]*n+i[4]*t+i[8]*e,i[13]+=i[1]*n+i[5]*t+i[9]*e,i[14]+=i[2]*n+i[6]*t+i[10]*e,i[15]+=i[3]*n+i[7]*t+i[11]*e,this},He.prototype.setRotate=function(n,t,e,i){var r,s,o,l,c,h,f,p,g,y,v,w;return n=Math.PI*n/180,r=this.elements,s=Math.sin(n),o=Math.cos(n),0!==t&&0===e&&0===i?(t<0&&(s=-s),r[0]=1,r[4]=0,r[8]=0,r[12]=0,r[1]=0,r[5]=o,r[9]=-s,r[13]=0,r[2]=0,r[6]=s,r[10]=o,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):0===t&&0!==e&&0===i?(e<0&&(s=-s),r[0]=o,r[4]=0,r[8]=s,r[12]=0,r[1]=0,r[5]=1,r[9]=0,r[13]=0,r[2]=-s,r[6]=0,r[10]=o,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):0===t&&0===e&&0!==i?(i<0&&(s=-s),r[0]=o,r[4]=-s,r[8]=0,r[12]=0,r[1]=s,r[5]=o,r[9]=0,r[13]=0,r[2]=0,r[6]=0,r[10]=1,r[14]=0,r[3]=0,r[7]=0,r[11]=0,r[15]=1):(1!==(l=Math.sqrt(t*t+e*e+i*i))&&(t*=c=1/l,e*=c,i*=c),f=t*e,p=e*i,g=i*t,y=t*s,v=e*s,w=i*s,r[0]=t*t*(h=1-o)+o,r[1]=f*h+w,r[2]=g*h-v,r[3]=0,r[4]=f*h-w,r[5]=e*e*h+o,r[6]=p*h+y,r[7]=0,r[8]=g*h+v,r[9]=p*h-y,r[10]=i*i*h+o,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1),this},He.prototype.rotate=function(n,t,e,i){return this.concat((new He).setRotate(n,t,e,i))},He.prototype.setLookAt=function(n,t,e,i,r,s,o,l,c){var h,f,p,g,y,v,w,_,E,k,T,H;return f=i-n,p=r-t,g=s-e,v=(p*=y=1/Math.sqrt(f*f+p*p+g*g))*c-(g*=y)*l,w=g*o-(f*=y)*c,_=f*l-p*o,k=(w*=E=1/Math.sqrt(v*v+w*w+_*_))*g-(_*=E)*p,T=_*f-(v*=E)*g,H=v*p-w*f,(h=this.elements)[0]=v,h[1]=k,h[2]=-f,h[3]=0,h[4]=w,h[5]=T,h[6]=-p,h[7]=0,h[8]=_,h[9]=H,h[10]=-g,h[11]=0,h[12]=0,h[13]=0,h[14]=0,h[15]=1,this.translate(-n,-t,-e)},He.prototype.lookAt=function(n,t,e,i,r,s,o,l,c){return this.concat((new He).setLookAt(n,t,e,i,r,s,o,l,c))},He.prototype.dropShadow=function(n,t){var e=new He,i=e.elements,r=n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3];return i[0]=r-t[0]*n[0],i[1]=-t[1]*n[0],i[2]=-t[2]*n[0],i[3]=-t[3]*n[0],i[4]=-t[0]*n[1],i[5]=r-t[1]*n[1],i[6]=-t[2]*n[1],i[7]=-t[3]*n[1],i[8]=-t[0]*n[2],i[9]=-t[1]*n[2],i[10]=r-t[2]*n[2],i[11]=-t[3]*n[2],i[12]=-t[0]*n[3],i[13]=-t[1]*n[3],i[14]=-t[2]*n[3],i[15]=r-t[3]*n[3],this.concat(e)},He.prototype.dropShadowDirectionally=function(n,t,e,i,r,s,o,l,c){return this.dropShadow([n,t,e,-(i*n+r*t+s*e)],[o,l,c,0])};var eD=function(n){var t=new Float32Array(3);n&&"object"==typeof n&&(t[0]=n[0],t[1]=n[1],t[2]=n[2]),this.elements=t};eD.prototype.normalize=function(){var n=this.elements,t=n[0],e=n[1],i=n[2],r=Math.sqrt(t*t+e*e+i*i);return r?(1==r||(n[0]=t*(r=1/r),n[1]=e*r,n[2]=i*r),this):(n[0]=0,n[1]=0,n[2]=0,this)};var k3=function(n){var t=new Float32Array(4);n&&"object"==typeof n&&(t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3]),this.elements=t},Kr=function(){var n=new He,t=new He,i=(new He,10),r=10,s=15,o=0,l=0,c=0,p=function(v,w){o=(i=w+10*v)+2,l=r=5,c=10+(s=-10)},g=function(v,w){o=(i=w+5*v)-2,l=r=5,c=(s=15)-10-v};return{initialize:function(v){v.disable(v.CULL_FACE),n.setPerspective(90,16/9,.1,1e3)},update:function(v,w,_){var k,T,E=R.tounit(w);if(E<2)i=10*w-300,o=-250,l=r=20,c=150+(s=-50);else if(E<4)k=w-R.totime(2),o=2+(i=10*k-300),l=r=10,c=10+(s=-20);else if(E<6)p(w-R.totime(4),-300);else if(E<12)!function(v,w){o=(i=5*v-220)-2,l=(r=5)-1,c=s=5}(w-R.totime(8));else if(E<16)g(w-R.totime(12),-280);else if(E<20)k=w-R.totime(18),o=(i=2*k-160)-4,l=.5+(r=1),c=s=5;else if(E<24)p(w-R.totime(20),-260);else if(E<28)g(w-R.totime(24),-240);else if(E<32)k=w-R.totime(28),o=(i=2*k-120)-2,l=(r=15)-2,c=s=5;else if(E<72){k=w-R.totime(32);var H=jo_inOut(w-R.totime(54),0,1,R.totime(10));o=-100+jo_inOut(w-R.totime(44),0,24,R.totime(20)),l=1,c=4,T=15+10*R.fadein(k,0,8)-jo_inOut(w-R.totime(62),0,10,R.totime(6));var $=3+.1*jo_inOut(k,0,R.totime(23),R.totime(23));i=o+Math.sin($)*T+2*H,r=8+16*R.fadein(k,0,8)-4*H,s=c+Math.cos($)*T-4*H}else k=w-R.totime(72),o=-60,l=1,c=4,T=40+jo_inOut(k,0,30,R.totime(24)),i=o+Math.sin(.25*k)*T,r=15+jo_inOut(k,0,35,R.totime(24)),s=c+Math.cos(.25*k)*T;t.setLookAt(i,r,s,o,l,c,0,1,0)},projection:function(){return n},view:function(){return t}}}(),tD=function(){var n,t,e=new He,r=[],s=[],o="#...###...###.#.#.###.####...#.....#...#.#.#.#.#..#...##....#...#.#.###.##.#...#.....#...#.#.#.#.#..###.###...###.###.###.###",l=Math.sqrt(2)-1;return{initialize:function(p){p.disable(p.CULL_FACE),n=QC_cube(1),(t=new Ft.Program("v_solid","f_solid")).attribute("vertex"),t.uniform("uProjection"),t.uniform("uView"),t.uniform("uModel"),t.uniform("uColor");var g,y,v,w,_=new XC(1),E=[-250,1,0];for(g=o.length-1;g>=0;g--)if("."!=o.charAt(g)){var k=g%25,T=parseInt(g/25);s.push([y=E[0]+2*k,v=E[1],w=E[2]+2*T])}var $=null,O=null,se=-1,Y=0;for(g=0;g<60;g++){if(se!=(w=s[g][2])&&(se=w,$=O,O=[],Y=Math.floor(4*_())),Y+=1+Math.floor(3*_()),null!==$)for(var be=0;be<$.length;be++)if(s[g][0]-2*Y===$[be]){Y++;break}O.push(s[g][0]-2*Y),y=s[g][0]-2*Y,v=s[g][1],s[g][0]+=150,r.push([y,v,w])}},update:function(p,g,y){var v=g-R.totime(7.5);v+=.1*R.step(g,32);var w=R.step(v,0),E=w*(2*v*60/85%1),k=w*Math.floor(R.tounit(2*v))*2,$=[.5*R.interval(g,4,4,62,2),0,0],O=Kr.projection(),se=Kr.view();t.use(),n.bind(p,t.a.vertex),p.uniformMatrix4fv(t.u.uProjection,!1,O.elements),p.uniformMatrix4fv(t.u.uView,!1,se.elements),p.uniform3f(t.u.uColor,$[0],$[1],$[2]),function(p,g){var y=-2*g,v=Math.sin(3.1415*g)*l;p.setIdentity(),p.translate(-y,v,0),p.rotate(-90*g,0,0,1)}(e,ZC(1.2*E,0,1));for(var Y=new He,be=0;be<60;be++){var me=r[be];s[be][0]<=me[0]+k?Y.setTranslate((me=s[be])[0],me[1],me[2]):(Y.setTranslate(me[0]+k,me[1],me[2]),Y.concat(e)),p.uniformMatrix4fv(t.u.uModel,!1,Y.elements),n.draw(p)}}}}();const A3=.5*(Math.sqrt(3)-1),wl=(3-Math.sqrt(3))/6,Sr=(Math.sqrt(5),Math.sqrt(5),n=>0|Math.floor(n)),nD=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]);var e,i,iD={initialize:function(o){for(var l=[],c=function O3(n=Math.random){const t=function jg(n){const e=new Uint8Array(512);for(let i=0;i<256;i++)e[i]=i;for(let i=0;i<255;i++){const r=i+~~(n()*(256-i)),s=e[i];e[i]=e[r],e[r]=s}for(let i=256;i<512;i++)e[i]=e[i-256];return e}(n),e=new Float64Array(t).map(r=>nD[r%12*2]),i=new Float64Array(t).map(r=>nD[r%12*2+1]);return function(s,o){let l=0,c=0,h=0;const f=(s+o)*A3,p=Sr(s+f),g=Sr(o+f),y=(p+g)*wl,_=s-(p-y),E=o-(g-y);let k,T;_>E?(k=1,T=0):(k=0,T=1);const H=_-k+wl,$=E-T+wl,O=_-1+2*wl,se=E-1+2*wl,Y=255&p,be=255&g;let me=.5-_*_-E*E;if(me>=0){const st=Y+t[be];me*=me,l=me*me*(e[st]*_+i[st]*E)}let Ge=.5-H*H-$*$;if(Ge>=0){const st=Y+k+t[be+T];Ge*=Ge,c=Ge*Ge*(e[st]*H+i[st]*$)}let et=.5-O*O-se*se;if(et>=0){const st=Y+1+t[be+1];et*=et,h=et*et*(e[st]*O+i[st]*se)}return 70*(l+c+h)}}(new XC(2)),f=function(H,$){var Y=Math.max(0,H*H/6e3-.1)+Math.max(0,$*$/8e4-1);l.push($),l.push(function(H,$){var O=0;return O+=Math.abs(1*c(.005*H,.005*$)),O+=.5*c(.01*H,.01*$),5*((O+=.25*c(.02*H,.02*$))+.12*c(.04*H,.04*$))}(H,$)*Y),l.push(H)},g=0;g<200;g++)for(var y=1&g,v=0;v<100;v++){var _=g,E=8*((y?100-v-1:v)-Math.floor(50)),k=8*(_-Math.floor(100)),T=k+8;g>0&&0==(1&g)&&0===v&&f(E,k),f(E,k),f(E,T),1==(1&g)&&v+1===100&&f(E,k)}e=Ft.staticBuffer(3,l),(i=new Ft.Program("v_solid","f_plasma")).attribute("vertex"),i.uniform("uProjection"),i.uniform("uView"),i.uniform("uModel"),i.uniform("uTime"),i.uniform("uMix")},update:function(o,l,c){var h=Kr.projection(),f=Kr.view(),p=new He,g=R.interval(l,28,4,84,4),y=R.interval(l,64,2,80,4);i.use(),o.bindBuffer(o.ARRAY_BUFFER,e),o.enableVertexAttribArray(i.a.vertex),o.vertexAttribPointer(i.a.vertex,e.stride,o.FLOAT,!1,0,0),o.uniformMatrix4fv(i.u.uProjection,!1,h.elements),o.uniformMatrix4fv(i.u.uView,!1,f.elements),o.uniformMatrix4fv(i.u.uModel,!1,p.elements),o.uniform1f(i.u.uTime,l),o.uniform2f(i.u.uMix,g,y),o.uniform3f(i.u.uColor,1,0,1),o.drawArrays(o.TRIANGLE_STRIP,0,e.elements)}},Gg=function(){var r,s,n=new R3(20),t="GIOMJL0AMOIG0IGMO0COMGI0OMGILJ0CBN0OMGIUS0AMGIO0GHN0GHTS0AMIKO0BN0MGHNHIO0MGIO0GIOMG0SGIOM0UIGMO0MGI0IGJLOM0BNO0GMOI0GJNLI0GMNHNOI0GOKMI0GMOIUS0GIMO0GIOMG0IO0GILJMO0GILJLOM0GJLIO0IGJLOM0IGMOLJ0IHKLFDMO0CBQR0ABQP0IEGJR0GEILP0".split(0),i=function(p){var g=function(p){var E,k,g=0,y=[],v=0,w=function(Y,be){var Ge=1*(Y+v);y.push(Ge),y.push(1*-be),y.push(0),Ge>g&&(g=Ge)},_=function(Y,be){w(Y%3,Math.floor(Y/3)),w(be%3,Math.floor(be/3))};for(E=0;E<p.length;E++){var T=p.charCodeAt(E)-65;"0"==p[E]&&(T=26),"1"==p[E]&&(T=27),"2"==p[E]&&(T=28),"3"==p[E]&&(T=29),"4"==p[E]&&(T=30),"5"==p[E]&&(T=31),"6"==p[E]&&(T=32),"@"==p[E]&&(T=33),"["==p[E]&&(T=34),"]"==p[E]&&(T=35),"<"==p[E]&&(T=36),">"==p[E]&&(T=37);var H=t[T];if(H){for(k=1;k<H.length;k++)_(H.charCodeAt(k-1)-65,H.charCodeAt(k)-65);("I"===p[E]||"J"===p[E])&&_(3,4),("F"===p[E]||"T"===p[E])&&_(3,5)}"-"===p[E]&&_(9,11),":"===p[E]&&(_(4,7),_(10,13)),"="===p[E]&&(_(6,8),_(9,11)),"+"===p[E]&&(_(7,13),_(9,11)),","===p[E]&&_(13,16),"."===p[E]&&(_(12,13),_(13,16),_(15,16),_(12,15)),v+=3}var Y,be,me,O=y.length/6;for(E=0;E<y.length;E+=6){var se=6*Math.floor(n()*O);for(k=0;k<6;k++)void 0,me=y[Y=E+k],y[Y]=y[be=se+k],y[be]=me}return[y,g]}(p),v=g[1],w=Ft.staticBuffer(3,g[0]);return{bind:function(_,E){_.bindBuffer(_.ARRAY_BUFFER,w),_.enableVertexAttribArray(E),_.vertexAttribPointer(E,w.stride,_.FLOAT,!1,0,0)},draw:function(_){_.drawArrays(_.LINES,0,w.elements)},drawPartially:function(_,E){var k=Math.floor(ZC(E,0,1)*w.elements);_.drawArrays(_.LINES,0,k)},biggestXPos:v}},h=new He;return{create:i,initialize:function(p){var g=["GEOMETRY","SOLID","OBJECT","CONFORMITY","SQUARE","SINGULAR","6 FACES","CUBE","VERTEX","REGULAR","HEXAHEDRON","PLATONIC","CUBOID","STRAIGHT","PRISM","TRIGONAL","SYMMETRY","ORDER","PERPENDICULAR","OCTAHEDRON","CUBICAL","LINE","FACETS","EQUILATERAL"];s=[];for(var y=0;y<g.length;y++)s.push(i(g[y]));(r=new Ft.Program("v_solid","f_text")).attribute("vertex"),r.uniform("uProjection"),r.uniform("uView"),r.uniform("uModel"),r.uniform("uColor")},update:function(p,g,y){p.lineWidth(3);var v=Kr.projection(),w=Kr.view();r.use(),p.uniformMatrix4fv(r.u.uProjection,!1,v.elements),p.uniformMatrix4fv(r.u.uView,!1,w.elements);var _=R.interval(g,64,2,80,4),E=.3*R.tounit(20*g),k=.4*(1-_)+_*(.5*Math.sin(E+0)+.5),T=.4*(1-_)+_*(.5*Math.sin(E+2)+.5),H=.4*(1-_)+_*(.5*Math.sin(E+4)+.5);p.uniform3f(r.u.uColor,k,T,H);for(var $=s.length,O=0;O<$;O++){var se=O/$,be=0,Ge=0;h.setIdentity(),O>$/2?(be=800*(4*(se-.5)-1),Ge=250):(be=800*(4*se-1),Ge=-250),h.translate(be,60,Ge),h.scale(3,3,3),O>$/2&&h.rotate(180,0,1,0),p.uniformMatrix4fv(r.u.uModel,!1,h.elements);var et=s[O];et.bind(p,r.a.vertex),et.draw(p)}}}}();function R3(){return function(n){var t=0,e=0,i=0,r=1;0==n.length&&(n=[+new Date]);var s=L3();t=s(" "),e=s(" "),i=s(" ");for(var o=0;o<n.length;o++)(t-=s(n[o]))<0&&(t+=1),(e-=s(n[o]))<0&&(e+=1),(i-=s(n[o]))<0&&(i+=1);s=null;var l=function(){var c=2091639*t+2.3283064365386963e-10*r;return t=e,e=i,i=c-(r=0|c)};return l.uint32=function(){return 4294967296*l()},l.fract53=function(){return l()+11102230246251565e-32*(2097152*l()|0)},l.version="Alea 0.9",l.args=n,l}(Array.prototype.slice.call(arguments))}function L3(){var n=4022871197,t=function(e){e=e.toString();for(var i=0;i<e.length;i++){var r=.02519603282416938*(n+=e.charCodeAt(i));r-=n=r>>>0,n=(r*=n)>>>0,n+=4294967296*(r-=n)}return 2.3283064365386963e-10*(n>>>0)};return t.version="Mash 0.9",t}var rD=function(){var n,t;return{initialize:function(r){n=QC_quad(1),(t=new Ft.Program("v_background","f_background")).attribute("vertex"),t.uniform("uColor"),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA)},update:function(r,s,o){var l=1-R.interval(s,0,1,95,1);t.use(),n.bind(r),r.uniform4f(t.u.uColor,1,1,1,l),r.enable(r.BLEND),n.draw(r),r.disable(r.BLEND)}}}(),sD=function(){var n,t,e=new He,i=new He,r=new He,o=0,l=0,h=function(p,g,y){var v=t[y];if(!(void 0===v||g<v.start||v.stop<g)){var _=v.message,E=v.scale||.02;r.setIdentity(),r.translate(-.98,.5475,-1),r.scale(E,E,E),p.uniformMatrix4fv(n.u.uModel,!1,r.elements),p.uniform3f(n.u.uColor,v.color[0],v.color[1],v.color[2]);var $=v.fadeTime||R.totime(1),O=Hg.in(g,v.start,$)*Hg.out(g,v.stop-$,$);_.bind(p,n.a.vertex),_.drawPartially(p,O)}};return{initialize:function(p){t=[{text:"WARNING! THINKING OUTSIDE THE BOX MAY CAUSE PERMANENT BRAIN DAMAGE. SIDE EFFECTS MAY INCLUDE, BUT IS NOT LIMITED TO: ANXIETY, CONFUSION, NERVOUSNESS AND INSOMNIA",start:0,stop:R.totime(8),x:[1,-6],y:[-.5,-.5],scale:.01,color:[.8,.2,.2]},{text:"KLOVMAN: CODE",start:R.totime(2),stop:R.totime(3.75),fadeTime:R.totime(.25),color:[1,1,1]},{text:"VULKANOMAN: MUSIC + CODE",start:R.totime(4),stop:R.totime(5.75),fadeTime:R.totime(.25),color:[1,1,1]},{text:"             LE CUBE",start:R.totime(6),stop:R.totime(8),fadeTime:R.totime(.25),color:[1,1,1]},{text:"            FROM 2014",start:R.totime(9),stop:R.totime(11),fadeTime:R.totime(.25),color:[1,1,1]},{text:"FROM 2023 WITH MASS PSYCHOSIS",start:R.totime(12),stop:R.totime(15),fadeTime:R.totime(.25),color:[1,1,1]},{text:"SPHERES ARE BORING",start:R.totime(16),stop:R.totime(19),fadeTime:R.totime(.25),color:[1,1,1]},{text:"LINES ARE TOO THIN",start:R.totime(20),stop:R.totime(23),fadeTime:R.totime(.25),color:[1,1,1]},{text:"CUBE IS THE NEW BLACK",start:R.totime(24),stop:R.totime(27),fadeTime:R.totime(.25),color:[1,1,1]},{text:"WE ARE CUBING",start:R.totime(72),stop:R.totime(74),fadeTime:R.totime(.25),color:[1,1,1]},{text:"PANDA DESIGN",start:R.totime(74),stop:R.totime(75),fadeTime:R.totime(.25),color:[1,1,1]},{text:"ZWORP",start:R.totime(75),stop:R.totime(76),fadeTime:R.totime(.25),color:[1,1,1]},{text:"DERIL",start:R.totime(76),stop:R.totime(77),fadeTime:R.totime(.25),color:[1,1,1]},{text:"PILGRIM",start:R.totime(77),stop:R.totime(78),fadeTime:R.totime(.25),color:[1,1,1]},{text:"JONAS + DAVID",start:R.totime(78),stop:R.totime(79),fadeTime:R.totime(.25),color:[1,1,1]},{text:"ORREBORRE",start:R.totime(79),stop:R.totime(80),fadeTime:R.totime(.25),color:[1,1,1]},{text:"BAN",start:R.totime(80),stop:R.totime(81),fadeTime:R.totime(.25),color:[1,1,1]},{text:"ELIN",start:R.totime(81),stop:R.totime(82),fadeTime:R.totime(.25),color:[1,1,1]},{text:"SASQ",start:R.totime(82),stop:R.totime(83),fadeTime:R.totime(.25),color:[1,1,1]},{text:"IRIDON",start:R.totime(83),stop:R.totime(84),fadeTime:R.totime(.25),color:[1,1,1]},{text:"PIXELJUICE",start:R.totime(84),stop:R.totime(85),fadeTime:R.totime(.25),color:[1,1,1]},{text:"XOOMIE",start:R.totime(85),stop:R.totime(86),fadeTime:R.totime(.25),color:[1,1,1]},{text:"TANIS",start:R.totime(86),stop:R.totime(87),fadeTime:R.totime(.25),color:[1,1,1]},{text:"GEEZER",start:R.totime(87),stop:R.totime(88),fadeTime:R.totime(.25),color:[1,1,1]},{text:"MATHMAN",start:R.totime(88),stop:R.totime(89),fadeTime:R.totime(.25),color:[1,1,1]},{text:"YOU",start:R.totime(89),stop:R.totime(91),fadeTime:R.totime(.5),color:[1,1,1]}];for(var g=0;g<t.length;g++)t[g].message=Gg.create(t[g].text);(n=new Ft.Program("v_solid","f_text")).attribute("vertex"),n.uniform("uProjection"),n.uniform("uView"),n.uniform("uModel"),n.uniform("uColor"),p.lineWidth(3),e.ortho(-1,1,-9/16,9/16,.1,100)},update:function(p,g,y){n.use(),p.uniformMatrix4fv(n.u.uProjection,!1,e.elements),p.uniformMatrix4fv(n.u.uView,!1,i.elements),p.lineWidth(2),R.tounit(g)<88&&function(p,g,y,v){var w=t[0];if(!(g<w.start||w.stop<g)){var _=(g-w.start)/(w.stop-w.start),E=w.x[0]+_*(w.x[1]-w.x[0]),k=w.y[0]+_*(w.y[1]-w.y[0]),H=w.scale||.02;r.setIdentity(),r.translate(E,k,-1),r.scale(H,H,H),p.uniformMatrix4fv(n.u.uModel,!1,r.elements),p.uniform3f(n.u.uColor,w.color[0],w.color[1],w.color[2]);var $=w.message;$.bind(p,n.a.vertex);var O=R.interval(v,64,4,80,4);$.drawPartially(p,1-O*l),v>=o&&(o=v+.1,l=Math.random())}}(p,(g-R.totime(8))%R.totime(8),0,g),h(p,g,1),h(p,g,2),h(p,g,3),h(p,g,4),h(p,g,5),h(p,g,6),h(p,g,7),h(p,g,8),h(p,g,9),h(p,g,10),h(p,g,11),h(p,g,12),h(p,g,13),h(p,g,14),h(p,g,15),h(p,g,16),h(p,g,17),h(p,g,18),h(p,g,19),h(p,g,20),h(p,g,21),h(p,g,22),h(p,g,23),h(p,g,24)}}}();class _l{constructor(t,e){this.logService=t,this.screenService=e,this.playerWidth=400,this.playerHeight=300,this.initialized=!1}init(t){var e=Ft.initialize(t.nativeElement,this.playerWidth,this.playerHeight);return null===e?this.logService.log("Error","Could not initialize WebGL"):(R.init(85/60),this.initialize(e),this.initialized=!0),this.playerHeight}onWindowResize(t,e){const s=this.screenService.getRectSizeForHorizontalCenter(t,new Map([[it.Default,0],[it.S,.05],[it.M,.15],[it.L,.25],[it.XL,.3]]),new Map([[it.Default,0],[it.XXS,16],[it.XS,16],[it.S,8],[it.M,6],[it.L,3]]));return Ft.resize(s.width,s.height),this.playerWidth=s.width,this.playerHeight=s.height,this.playerHeight}initialize(t){t.enable(t.DEPTH_TEST),t.enable(t.CULL_FACE),Kr.initialize(t),tD.initialize(t),iD.initialize(t),Gg.initialize(t),rD.initialize(t),sD.initialize(t),Ft.loop(this.main);const e=this.getRandomStartTimeForStillImage();Ft.setStartTime(e),Ft.doPause()}playFromStart(){!this.initialized||(Ft.setStartTime(0),Ft.resume())}getRandomStartTimeForStillImage(){return 138*Math.random()-136}main(t,e,i){var s=R.unit(e,2),o=.1*(Math.sin(3.1415*s)+1);e>=136&&(o=1),t.clearColor(o,o,o,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),e>=136?Ft.doPause():(Kr.update(t,e,i),iD.update(t,e,i),tD.update(t,e,i),Gg.update(t,e,i),sD.update(t,e,i),rD.update(t,e,i))}pause(){!this.initialized||Ft.doPause()}resume(){if(this.initialized){var t=Ft.getStartTime();Ft.resume(),Ft.setStartTime(t+.6)}}static#e=this.\u0275fac=function(e){return new(e||_l)(F(bi),F(Ho))};static#t=this.\u0275prov=ee({token:_l,factory:_l.\u0275fac,providedIn:"root"})}class ge{constructor(t,e,i,r,s,o=1){this.key=t,this.url=e,this.maxGain=i,this.soundType=r,this.loop=s,this.maxNrPlayingAtOnce=o}static music(t,e,i=1){return new ge(t,e,i,"Music",!1,1)}static musicLoop(t,e,i=1){return new ge(t,e,i,"Music",!0,1)}static sfx(t,e,i){return new ge(t,e,i,"SFX",!1,1)}static sfxLoop(t,e,i){return new ge(t,e,i,"SFX",!0,1)}}class oD{constructor(t,e,i=3,r=30,s=20,o=!0,l=0,c=0){this.instanceEndedListeners=t,this.log=e,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=r,this.fadeDurationSec=s,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=l,this.maxLayerValue=c,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=l}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(t){this._gainsDisabled=t}start(t){this._layerSoundInstances=t,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let e=this.layerIndexToBeDecremented+1;e<this._layerSoundInstances.length;e++)this._layerSoundInstances[e].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,t),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(t){t&&!this._gainsDisabled.value&&(this._gainsDisabled.value=t,this._gainsDisabled.emit("Change",t))}setFadeTimeout(t,e,i){t.set(e,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),t.delete(e),0===t.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===e&&this.instanceEndedListeners.forEach(r=>r(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const t=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);t&&clearTimeout(t),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.unmuteInstance(e.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeInTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}class Cl{constructor(t,e){this.soundManager=t,this.logService=e,this._isInitialized=!1,this.dirEgillAntonsson=`${vn.dir}/egillantonsson/`,this.dirKanez=`${vn.dir}/kanez/`,this.dirTribeOfOranges=`${vn.dir}/too/`,this.dirGameMusicLayered=`${vn.dir}/game/music-layered/`,this.dirGameMusic=`${vn.dir}/game/music`,this.dirBraedraminning=`${vn.dir}/braedraminning/`,this.pathBraedraminningArtwork=`${this.dirBraedraminning}braedraminning.jpeg`,this.dirKuai=`${vn.dir}/kuai/`,this.pathKuaiArtwork=`${this.dirKuai}KUAI.jpg`,this.urlGogogic='<a href=https://www.facebook.com/gogogic target="_blank">Gogogic</a>',this.aboutGameMusicLayered=`When Head of Sound at the company ${this.urlGogogic} from 2008 to 2013 I developed a method called "Layered Music" to balance rich musical experiences with minimal resource usage and monotony. This technique fades in and fades out music layers based on user activity.`,this.aboutGameMusic=`When I was Head of Sound at the company ${this.urlGogogic} from 2008 to 2013  I composed, designed and produced the Music and SFX for the games.`,this.braedraminning70s="Recorded with their band Lazarus or Fl\xf3 (not sure which one)",this.circa70sYear="I'm guessing a bit on the year of this recording",this.lazarusOrFlo="guitar: \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson, bass: P\xe1ll Hartmannsson or Einar Arngr\xedmsson, drums: Hermann T\xf3masson or Vignir Hallgr\xedmsson",this._instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}getTrackByRootUrl(t){return this._tracksByRootUrl.get(t)}get instancePlayedListeners(){return this._instancePlayedListeners}get timeout(){return this._timeout}set timeout(t){this._timeout=t}urlSindri(t=!1){let e="Sindri";return t&&(e="Sindri Bergmann \xde\xf3rarinsson"),`<a href="https://www.f6s.com/member/sindribergmannrarinsson#about" target="_blank">${e}</a>`}urlSteini(t=!1){let e="Steini";return t&&(e="Gu\xf0mundur Steinn Gunnarsson"),`<a href="https://gudmundursteinn.net" target="_blank">${e}</a>`}urlSiggi(t=!1){let e="Siggi";return t&&(e="Sigur\xf0ur \xde\xf3r R\xf6gnvaldsson"),`<a href="https://www.last.fm/music/Sigurdur+R%C3%B6gnvaldsson" target="_blank">${e}</a>`}urlDori(t=!1){let e="D\xf3ri";return t&&(e="Halld\xf3r Andri Bjarnason"),`<a href="http://www.77.is" target="_blank">${e}</a>`}get aboutEgillAntonsson(){return`I began my musical journey at around age 8 with the piano. In my early teens, I was drawn to the guitar, inspired by icons like <a href="https://www.slashonline.com/"  target="_blank">Slash</a>. Alongside my two friends, all of us guitarists, we formed a band and I embraced the electric bass, recognizing its significance (alongside the drums) in modern music genres. Growing up in choirs my mother Halla Soff\xeda J\xf3nasd\xf3ttir sung in, I started myself singing more and more.<br>\n\t\t<br>\n\t\tIn my late teens, my passion for the piano resurfaced, leading me to focus on jazz piano, and a bit of bass, at F\xcdH music school. There, I had the privilege of learning from exceptional mentors, including <a href="https://www.agnarmagnusson.com" target="_blank">Agnar M\xe1r Magn\xfasson</a>, <a href="https://open.spotify.com/artist/1mtaJAxoe50UVhxjG3BRDd?si=da5LV9aAT6mNstXEwgnoeA" target="_blank">Ey\xfe\xf3r Gunnarsson</a>, <a href="https://open.spotify.com/artist/07AnAQ7ktaTxhqaAJvSCRG?si=vJpKq05ORHyxWWrFSVpSrA" target="_blank">J\xf3hann \xc1smundsson</a>, and <a href="https://www.sigurdurflosason.com" target="_blank">Sigur\xf0ur Flosason</a>.<br>\n\t\t<br>\n\t\tAround the turn of this century, I was in the band <a href="https://egill.rocks/music/pirringur" target="_blank">KUAI</a> which shone brightly before fading out. Throughout my journey, I collaborated with many talented musicians, yet my most enduring partnership remains with ${this.urlSindri()}. Currently we produce music as <a href="https://egill.rocks/music/tonis-time-machine" target="_blank">Kanez Kane</a>.<br>\n\t\t<br>You can find more details about these collaborations in the 'About' section of the corresponding tracks.`}get aboutKanez(){return'A partnership with my friend <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a>. While we have created a vast amount of music together, we have only released a small portion of it to the world. However, we are excited to announce that we will be releasing more of our music soon, so stay tuned for updates.'}get aboutBraedraminning(){return"My parents kept a cassette with the recordings of the songs my older brothers made. To make sure the songs survived that old cassette, I published the album Br\xe6\xf0raminning, which also includes my takes on their songs."}get aboutTribeOfOranges(){return'A partnership with my friend <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a>. Some of our music is under Tribe Of Oranges.'}get aboutKuai(){return`The instrumental post-rock band KUAI was formed in Reykjavik, Iceland, in the summer of 1998. The band consisted of Baldur Ingvar Sigur\xf0sson on drums, Egill Antonsson on bass, and ${this.urlSteini(!0)} (called Steini) and ${this.urlSiggi(!0)} (called Siggi) on guitars. When asked to describe their music, the band explained that it is difficult to put into words, but it can be categorized as instrumental rock with experimental elements. They draw inspiration from their roots in rock and heavy metal, and the guitars often improvise lines influenced by jazz improvisation, while the bass and drums provide powerful patterns as the foundation.<br><br>\n\t\tThe album "kuai" was recorded between September 2000 and June 2001 by <a href="https://open.spotify.com/artist/1bh1wQxtLdKOi9gCAEglwl" target="_blank">Elmar \xde\xf3r Gilbertsson</a>, then the band mixed the album themselves. One track, "Rover," was recorded and mixed by J\xf3n Elvar Hafsteinsson in 1999. The album cover was designed by ${this.urlDori()}. From October 2001, the band assembled the CDs and sent to Hlj\xf3malind music store and sold at concerts.<br>\n\t\tTo capture the raw energy and spontaneity of their performances, the band opted for a "live" studio recording (without an audience). However, some parts were recorded separately afterwards, including some guitar parts, organ and piano played by Egill, saxophone in "Andefni" played by Steinar Sigur\xf0sson, and cellos in "Lesblinda I" and "Lesblinda II" played by Hallgr\xedmur J\xf3nas Jensson and Rannveig Bjarnad\xf3ttir ( ${this.urlSteini()} arranged the cello parts).<br>\n\t\tDue to an accidental finger cut on his "fretting" hand at the beginning of the recording period,  ${this.urlSteini()} re-tuned his guitar, and the band transposed many tracks to D in order to minimize strain on his injured hand while playing. Egill also re-tuned his deepest string to D on his 4 string bass in many of the tracks.<br>`}get aboutBraedraminningTake2002(){return`My take on this song, recorded and mixed in 2001-2002. ${this.urlSindri(!0)} mastered in 2022 (as well as could be done).`}init(){this._isInitialized||(this._byTracks=[{name:"Egill Antonsson",tracks:[this.leCube(),this.votThemeSong(),this.goneIsMyFriendJohnny(),this.laughingAndSmiling(),this.harmoniesOfShadeAndLight(),this.weWillMeetAgain(),this.magmaMerryGoRound(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace()],about:this.aboutEgillAntonsson},{name:"Kanez Kane",tracks:[this.glory(),this.tonisTimeMachine(),this.winterQueen(),this.komaKoma(),this.strawberryCityLights(),this.freeYourMime()],about:this.aboutKanez},{name:"KUAI",tracks:[this.andefniLive(),this.pirringurLive(),this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()],about:this.aboutKuai},{name:"Tribe Of Oranges",tracks:[this.introduction(),this.routine(),this.hhiCommercial()],about:this.aboutTribeOfOranges},{name:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()],about:this.aboutGameMusicLayered},{name:"Game Music",tracks:[this.godsrule(),this.vot(),this.tinyPlaces(),this.cakePopParty(),this.softFreakFiesta(),this.symbol6(),this.habitarium(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.crisisGame()],about:this.aboutGameMusic},{name:"Br\xe6\xf0raminning",tracks:[this.pesi2002(),this.mouse2002(),this.rubber2002(),this.solos2002(),this.takeCare2002(),this.beLikeYou2002(),this.story2002(),this.frumlag2002(),this.world2002(),this.withoutThem2002(),this.myDearOldBrothers(),this.pesi1974(),this.mouse1975(),this.rubber1975(),this.solos1975(),this.takeCare1976(),this.beLikeYou1976(),this.story1976(),this.frumlag1977(),this.world1977(),this.withoutThem1977()],about:this.aboutBraedraminning}],this.flattenTracks(),this._isInitialized=!0)}flattenTracks(){this._tracksByRootUrl=new Map,this._flatTracks=[];let t=0;for(let e=0;e<this._byTracks.length;e++)for(let i=0;i<this._byTracks[e].tracks.length;i++){const r=this._byTracks[e].tracks[i];r.index=t++;const s=this._byTracks[e];r.artistName=s.name,r.artistAbout=s.about,this._flatTracks.push(r),this._tracksByRootUrl.set(r.rootUrl,r)}}leCube(){var t=this;const e="le-cube",r=`${this.dirEgillAntonsson}${e}.jpg`,f=new M3([ge.music(e,`${this.dirEgillAntonsson}/${e}.ogg`)],()=>Jt(function*(){const p=t.soundManager.instance.getSound(f.soundDatas[0].key),{instance:g,endedPromise:y}=yield p.play();t.instancePlayedListeners.forEach(v=>v(g)),yield y,t.instanceEndedListeners.forEach(v=>v(!0))}),e,"Le Cube \u25c7 Mass Psychosis",r,"A demoscene entry collaboration with my friend Erik Bystr\xf6m (klovman) in 2014. He created and programmed the visuals and I (Vulkanoman) created the music. In 2023 I enhanced the music a la Mass Psychosis.","https://soundcloud.com/egill-antonsson/le-cube","https://open.spotify.com/track/6dJIAyez5tXoVwfXQwETHH?si=614ffdade4af4478","https://www.qobuz.com/se-en/album/le-cube-mass-psychosis-egill-antonsson/qf9lx3dv514cb","https://www.qobuz.com/se-en/album/le-cube-mass-psychosis-egill-antonsson/qf9lx3dv514cb");return f}goneIsMyFriendJohnny(){const t="gone-is-my-friend-johnny";return new xe("https://soundcloud.com/egill-antonsson/gone-is-my-friend-johnny",t,"Gone is my friend Johnny",`${this.dirEgillAntonsson}${t}.jpg`,"I created this song in my teens after a friend of my brother passed away in a car crash. At the time, I recorded it with MIDI instruments on my keyboard and roughly mixed it down into an audio track on a CD. I had the title and couple of words of the lyrics thus I simply recorded a cheesy MIDI saxophone for the Vocals.<br>\n<br>\nLast year my friend and fellow musician Milosh passed away. We had plans to collaborate on music projects together by playing live and record and finish some of his songs. We didn't get far with this but at least we jammed together during family visits and events.<br>\n<br>\nOne day, while playing the piano, this old song came into my mind. I felt it was time to properly work, finish and share it. I bought a CD player to import the song from the dusty CD to my computer as a starting point. I wrote the rest of the lyrics and improved the melody. I recorded the song with voice (bye bye cheesy MIDI sax) and real instruments and slowed the tempo down. Feeling it fitting to honor Milosh's memory, I decided to feature the guitar prominently throughout the song with both the solo and the chord strumming.<br>\n<br>\nThe song is dedicated to Milosh, Johnny/J\xf3i, and all our friends that have passed away that we'll always remember.","https://open.spotify.com/track/6dcm94SPl7ehPR4ZMlCfah?si=76a90062d2034ab2","https://www.qobuz.com/se-en/album/gone-is-my-friend-johnny-egill-antonsson/svqlqxedzfkwc","https://egillantonsson.bandcamp.com/track/gone-is-my-friend-johnny","Gone is my Johnny.<br>\n<br>\nGone is my friend Johnny.<br>\nFaded away, far away.<br>\nAnd now, I'm talking to Valery.<br>\nAbout the days, the yesterdays.<br>\n<br>\nBut gravity comes and pulls you down, down, down.<br>\nOut of the blue, and there's nothing you can do.<br>\nBut we'll never stop to love and think of you.<br>\nThe memories light the darkness away.<br>\nWe're singing and playing today.<br>\n<br>\nBut gravity comes and pulls you down, down, down.<br>\nOut of the blue, and there's nothing you can do.<br>\nBut we'll never stop to love and think of you.<br>\nOne of these days we will meet again.<br>\nAnd you'll say then,<br>\n<br>\n\"Gone, gone was my Johnny.<br>\nNow you've found, you found your friend Johnny.<br>\nTogether again, here we are.<br>\nTogether we are.\"")}laughingAndSmiling(){const t="laughing-and-smiling";return new xe("https://soundcloud.com/egill-antonsson/laughing-and-smiling",t,"Laughing and Smiling",`${this.dirEgillAntonsson}${t}.jpg`,"I wrote this song in my early teens (along with a bulk of others) that I recorded with midi instruments (the vocals also being midi (often saxophone for some reason...)) and roughly mixed them down into audio tracks. I recorded this song again with voice and real instruments (but some still based on midi), wrote the lyrics as I'd only had a couple of sentences marinading in my head over the decades, tweaked the melody and chord progression and the form of the song. My intention is to publish more songs from the bulk and put it under a new album called 'Echoes from the Past'.","https://open.spotify.com/track/6EROZs18jEgWCpkMwj6yw5","https://www.qobuz.com/se-en/album/laughing-and-smiling-egill-antonsson/qsdjm7m3l3hnb","https://www.qobuz.com/se-en/album/laughing-and-smiling-egill-antonsson/qsdjm7m3l3hnb","My all and everything, light of my life.<br>\nOf joy we dance and sing, wonderful life.<br>\nThe now and future we'd mold.<br>\nOf love and life, and growing old.<br>\nLaughing and smiling we were.<br>\n<br>\nBut then the raging rain fell from the sky.<br>\nBefore we used to sing, now we just cry.<br>\nAnd the future we'd planned.<br>\nGot washed away into the sand.<br>\nLaughing and smiling we were.<br>\n<br>\nThe now and future we'd mold.<br>\nOf love and life, and growing so old.<br>\nBut that future we'd planned.<br>\nGot washed away into the sand.<br>\nBack then laughing and smiling you were.<br>\nLaughing and smiling were were.")}glory(){const t="glory";return new qr("-W7u-pE1BzE",!1,t,"Glory",`${this.dirKanez}${t}.jpg`,'The 6th and latest Kanez Kane song release, 13th December 2024. Composed during the 1st Stockholm music session (<a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri</a> visited me).',"","https://open.spotify.com/track/5IQHx1OTLkUaOh8BjVyY1Z?si=2f60e86f363d41af","https://www.qobuz.com/se-en/album/glory-kanez-kane/imvcfi7srgbya","","Mother, mother don't you cry.<br>\nThey don't always realize.<br>\nMeaning well, but yet decide<br>\nto do the bad things, it's alright.<br>\n<br>\nGod-fearing, doing good.<br>\nGreater world and glory.<br>\nMeet the hangman, meet the night / knight.<br>\nWe didn't write the story.<br>\n<br>\n<br>\nFather, father feel the love.<br>\nThey're sending your way.<br>\nCan it be the poison that you insist?<br>\nLook the other way.<br>\n<br>\nFeel the green green grass of home.<br>\nBright and beauty sunlight.<br>\nYou should thank them, our hope.<br>\nDeath is on our side.<br>\n<br>\n<br>\nLittle baby don't you cry<br>\nThey're coming your way.<br>\nThat means you will be alright.<br>\nIt's your time to play.<br>\n<br>\nMy dear everything will change.<br>\nLove will be the story.<br>\n(But) not what runs through your veins.<br>\nIt's time for glory.")}winterQueen(){const t="winter-queen";return new qr("gNL39MCw8Jw",!1,t,"Winter Queen",`${this.dirKanez}${t}.jpg`,'The 3rd song release by Kanez Kane, 7th February 2023. Composed during the 1st Stockholm music session (<a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri</a> visited me). Fittingly the weather both in Sweden and Iceland was cold throughout the whole production period.',"","https://open.spotify.com/track/56X0rSJh8MRO2aJTZfSgpF?si=ec263723abbf4f29","https://www.qobuz.com/album/winter-queen-kanez-kane/i0evkfp38ctac","","Josefine, the frostbites and scars.<br>\nJosefine, you're cold from afar.<br>\nEvery night I pray for... Every night I scream...<br>\nI'm afraid I'll end up like my queen.<br>\n<br>\nJosefine, the north wind is harsh.<br>\nJosefine, my shivering dreams.<br>\nEvery day I beg you... Every day I try...<br>\nNothing but the icing on your heart.<br>\n<br>\nOh, the long, cold winter nights.<br>\nCold breath, nothing seems right.<br>\nJosefine, winter queen.<br>\nJosefine, don't be so mean, my winter queen.<br>\n<br>\nJosefine, a cold summer day.<br>\nJosefine, I'm melting away.<br>\nEvery time I feel you... Every time I cry...<br>\nYour frosty tongue is waiting in the dark.<br>\n<br>\nOh, the long, cold winter nights.<br>\nCold breath, nothing seems right.<br>\nJosefine, winter queen.<br>\nJosefine, don't be so mean, my winter queen.<br>\n<br>\nIt seems like there's a storm, coming...<br>\n<br>\nJosefine, Josefine, Josefine...")}komaKoma(){const t="koma-koma";return new qr("Ww4w8prWBxM",!1,t,"Koma Koma",`${this.dirKanez}${t}.jpg`,"This 2nd song release by Kanez Kane, 15th January 2023. Jump and join the Revolution!","","https://open.spotify.com/track/0Hbv3lJZvM3Bb9vhEcAAhi?si=c9036966188848a9","https://www.qobuz.com/album/koma-koma-kanez-kane/vmzznxtf4kyna","","His name was Koma Koma, he had to move around.<br>\nHeard he came from Bangaboo, the dark side of town.<br>\n50 years in coma, still looking 22, I thought he was a miracle too.<br>\n<br>\nOh, he sees you, feels you, calls out your name, and tells us stories of time.<br>\nOh, the nights were so long, we kept playing along, talking about revolution.<br>\nOh, the people were kind, they got into your mind, talking about revolution.<br>\nRevolution (everybody do what I say), in the mind (everybody jump).<br>\nRevolution (everybody do what I say), in the heart (everybody jump).<br>\n<br>\nHe was always moving, never standing still.<br>\nHad a vision of the world, was willing to kill.<br>\nPut you in a koma, there's magic in his eyes, you would always follow his will.<br>\n<br>\nOh, he sees you, feels you, calls out your name, and tells us stories of time.<br>\nOh, the nights were so long, we kept playing along, talking about revolution.<br>\nOh, the people were kind, they got into your mind, talking about revolution.<br>\nRevolution (everybody do what I say), in the mind (everybody jump).<br>\nRevolution (everybody do what I say), in the heart (everybody jump).<br>\n<br>\nJump, jump, jump, jump, jump, jump, jump, jump...<br>\nRevolution, revolution, revolution of the mind.<br>\nBut they're out of their mind, of their mind, of their mind!<br>\n<br>\nOh, he sees you, feels you, calls out your name, and tells us stories of time.<br>\nOh, the nights were so long, we kept playing along, talking about revolution.<br>\nOh, the people were kind, they got into your mind, talking about revolution.<br>\nRevolution (everybody do what I say), in the mind (everybody jump).<br>\nRevolution (everybody do what I say), in the heart (everybody jump).<br>\nRevolution (got a message to the whole / free generation).<br>\nRevolution (got a message to the heart).<br>")}strawberryCityLights(){const t="strawberry-city-lights";return new qr("DTmPz-vSTFI",!1,t,"Strawberry City Lights",`${this.dirKanez}${t}.jpg`,"This 1st song release by Kanez Kane, 15th December 2022.","","https://open.spotify.com/track/0lRUvYevsLK5pBrTYfl3be?si=04526be015af456e","https://www.qobuz.com/album/strawberry-city-lights-kanez-kane/qhcm8paksnp5a","","Rose, fame, forever, forever.<br>\nGoing home, oh, it went sideways.<br>\nBirds, bees, forever, forever.<br>\nGrowing tall, oh, wait for Fridays.<br>\n<br>\nStrawberry city lights, angels shine every night.<br>\nNo turn here makes it right, I'm waiting at the gate.<br>\nPerfume and ecstasy, Candyman sets you free.<br>\nLove, guns and sticky nuns, they'll / please help me find my way.<br>\n<br>\nGone, dead, forever, forever.<br>\nGoing home, oh, 6 feet under.<br>\nStars, light, oh never, oh never.<br>\nGrowing old, oh, makes you wonder.<br>\n<br>\nStrawberry city lights, angels shine every night.<br>\nNo turn here makes it right, I'm waiting at the gate.<br>\nPerfume and ecstasy, Candyman sets you free.<br>\nLove, guns and sticky nuns, they'll / please help me find my way.<br>\n<br>\nRose, fame, forever, forever.<br>\nGoing home, oh, 6 feet under.")}freeYourMime(){const t="free-your-mime";return new qr("N3r3mA7FvQw",!1,t,"Free your Mime",`${this.dirKanez}${t}.jpg`,'The 5th Kanez Kane song release, 28th May 2024. Composed during the 1st Stockholm music session (<a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri</a> visited me).',"","https://open.spotify.com/track/5IyGlS4LP5ew4RyGd6bbJ7?si=60dbc1377b5f4ebb","https://www.qobuz.com/se-en/album/free-your-mime-kanez-kane/hm6rjyzfmrk8b","",'John takes care of the groceries.<br>\nOh, cooking and all.<br>\nMakes plans for the savings and and blasphemies.<br>\nOh, he\'ll put you in awe.<br>\n<br>\nBut every single time she tells her:<br>\n"Oh, be here with me".<br>\nThen every single time he tells her:<br>\n"Oh, queen, it\'s great to be seen".<br>\nBut she never sees the world in his ass.<br>\n<br>\nFree your mime.<br>\nThinking like a hurricane.<br>\nFree your mime.<br>\nBroken glass of cheap champagne.<br>\n<br>\nHey no go.<br>\nOh phony world come back to me.<br>\nOh phony world better run, better run, better run, better run oh.<br>\nOh phony world please look at me.<br>\nOh phony world better run, better run while you can.<br>\n<br>\nChristina takes care of the elderly.<br>\nWishing they\'d die.<br>\nHas dreams of the weekends and free pharmacies,<br>\nand a break up with Mike.<br>\n<br>\nBut every single time she tells her:<br>\n"Oh, be here with me".<br>\nThen every single time he tells her:<br>\n"Oh, queen, it\'s great to be seen".<br>\nBut she never sees the world in his ass.<br>\n<br>\nFree your mime.<br>\nThinking like a hurricane.<br>\nFree your mime.<br>\nBroken glass of cheap champagne.<br>\n<br>\nHey no go, oh phony world come back to me.<br>\nOh phony world better run, better run, better run, better run oh.<br>\nOh phony world please look at me.<br>\nOh phony world better run, better run while you can.<br>\n<br>\nLet your stupid be,<br>\nits hoping to get free,<br>\nsinging hallelujah.<br>\nLet your bondage be,<br>\nyour hoping to get free,<br>\nSinging hallelujah, hallelujah.<br>\nCHORUS IN FIVE! 3,2,5,5<br>\n<br>\nFree your mime.<br>\nThinking like a hurricane.<br>\nFree your mime.<br>\nBroken glass of cheap champagne.<br>\n<br>\nHey no go, oh phony world come back to me.<br>\nOh phony world better run, better run, better run, better run oh.<br>\nOh phony world please look at me.<br>\nOh phony world better run, better run while you can.')}tonisTimeMachine(){const t="tonis-time-machine";return new qr("J4h4s7IQSSs",!1,t,"Toni's Time Machine",`${this.dirKanez}${t}.jpg`,'Currently the latest Kanez Kane song release, 26th May 2023. Composed during the 1st Stockholm music session (<a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri</a> visited me).',"","https://open.spotify.com/track/2RLL2jOutw0X6xoJuxOl2u?si=4d0cc6b104f943a0","https://www.qobuz.com/album/tonis-time-machine-kanez-kane/f0thz4tnngdxc","","Toni's living in the past...<br>\n<br>\nToni was a man, trapped, lost in the past.<br>\nLived in his stories, old times were his way but,<br>\nToni was ashamed, felt guilty of lies.<br>\nInvented the greatest machine of all time.<br>\n<br>\nToni's living in the past...<br>\n<br>\nToni traveled time, loved getting away.<br>\nWhile sitting still in his room every day, but<br>\nToni's mission failed when blowing a fuse.<br>\nShort circuit accident, stuck in the room.<br>\n<br>\nToni's living in the past...")}pesi2002(){return new xe("https://soundcloud.com/egill-antonsson/pesi-year-2002?in=egill-antonsson/sets/braedraminning","pesi-year-2002","P\xe9si (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/6viU3JhxNEKkY2paBuOEaP","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}mouse2002(){return new xe("https://soundcloud.com/egill-antonsson/mouse-year-2002?in=egill-antonsson/sets/braedraminning","mouse-year-2002","Mouse (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+" I did my take on the lyrics, thus differing to some extent.","https://open.spotify.com/track/1f2eGiZiCMOMZZbKc52IIH","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}rubber2002(){return new xe("https://soundcloud.com/egill-antonsson/rubber-year-2002?in=egill-antonsson/sets/braedraminning","rubber-year-2002","Rubber (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/23kZ3ftMMyigpXU49Rq35Q","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}solos2002(){return new xe("https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","solos-year-2002","Solos (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/5J8kU1mdqcqKZ0Wb3sxrqj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}takeCare2002(){return new xe("https://soundcloud.com/egill-antonsson/take-care-year-2002?in=egill-antonsson/sets/braedraminning","take-care-year-2002","Take Care (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/6xiCd9HFh0SaJEngXtgldj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}beLikeYou2002(){return new xe("https://soundcloud.com/egill-antonsson/be-like-you-year-2002?in=egill-antonsson/sets/braedraminning","be-like-you-year-2002","Be Like You (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/4zcgAvMsU46YVTKGmS8vJA","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}story2002(){return new xe("https://soundcloud.com/egill-antonsson/story-year-2002?in=egill-antonsson/sets/braedraminning","story-year-2002","Story (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+"I increased the drama in the lyrics e.g. by knocking the headmaster OUT, instead of DOWN (I don't remember if it specific thing was intentional or not.","https://open.spotify.com/track/0zcnfEWqzmaCfp7hsbcA9Z","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}frumlag2002(){return new xe("https://soundcloud.com/egill-antonsson/frumlag-year-2002?in=egill-antonsson/sets/braedraminning","frumlag-year-2002","Frumlag (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/5fFuGjJMqLS0iPMmiZ3SBc","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}world2002(){return new xe("https://soundcloud.com/egill-antonsson/world-year-2002?in=egill-antonsson/sets/braedraminning","world-year-2002","World (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+" I think I increased the drama in the lyrics with 'The world is nothing except hate' as it could be that Egill sung 'The world is nothing I say Hey'. I also added lyrics where they were missing or unclear.","https://open.spotify.com/track/5EFT7M2r9kiJqPn2EtXNoz","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}withoutThem2002(){return new xe("https://soundcloud.com/egill-antonsson/without-them-year-2002?in=egill-antonsson/sets/braedraminning","without-them-year-2002","Without them (year 2002)",this.pathBraedraminningArtwork,this.aboutBraedraminningTake2002+" I kept with the 'no no no' like in the original, and additionally went ALL IN on other verbal sounds.","https://open.spotify.com/track/5cfstB4Y5eIFI79e4KBAk8","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}myDearOldBrothers(){return new xe("https://soundcloud.com/egill-antonsson/my-dear-old-brothers?in=egill-antonsson/sets/braedraminning","my-dear-old-brothers","My Dear Old Brothers",this.pathBraedraminningArtwork,"I saw a chord progression with the title 'Lady Lobo' written in a note book that belonged to my brothers. I thought this might be an original song and thus wanted to bring it to life for the album. I shaped the song, found the melody and lyrics and re-titled and performed it. It ends with traveling back in time to the 70s and the original songs.\n","https://open.spotify.com/track/6mnJyUYVPeoEx8oKUBu4Zw","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}pesi1974(){return new xe("https://soundcloud.com/egill-antonsson/pesi-year-1974?in=egill-antonsson/sets/braedraminning","pesi-year-1974","P\xe9si (year 1974)",this.pathBraedraminningArtwork,`J\xf3nas wrote this song for Egill to play on the wurlitzer piano. ${this.braedraminning70s}. ${this.circa70sYear}. Wurlitzer piano: Egill,\nguitar: J\xf3nas, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/5wmAzE3Mc0uWjhjxRf95OQ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}mouse1975(){return new xe("https://soundcloud.com/egill-antonsson/mouse-year-1975?in=egill-antonsson/sets/braedraminning","mouse-year-1975","Mouse (year 1975)",this.pathBraedraminningArtwork,`${this.braedraminning70s}. ${this.circa70sYear}. Vocals and wurlitzer piano: Egill, guitar: J\xf3nas, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/3qtGfywTgrjxBMQcCdN1xo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}rubber1975(){return new xe("https://soundcloud.com/egill-antonsson/rubber-year-1975?in=egill-antonsson/sets/braedraminning","rubber-year-1975","Rubber (year 1975)",this.pathBraedraminningArtwork,`${this.braedraminning70s}. ${this.circa70sYear}. Vocals and wurlitzer piano: Egill, guitar: J\xf3nas and background vocals, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/700fVJsCrH4BBpsMW7B60t","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}solos1975(){return new xe("https://soundcloud.com/egill-antonsson/solos-year-1975?in=egill-antonsson/sets/braedraminning","solos-year-1975","Solos (year 1975)",this.pathBraedraminningArtwork,`${this.braedraminning70s}. ${this.circa70sYear}. Organ: Egill, guitar: J\xf3nas, ${this.lazarusOrFlo}.`,"https://open.spotify.com/track/3X7wZlcTxFwkLs7rvEkkWZ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}takeCare1976(){return new xe("https://soundcloud.com/egill-antonsson/take-care-year-1976?in=egill-antonsson/sets/braedraminning","take-care-year-1976","Take Care (year 1976)",this.pathBraedraminningArtwork,`Egill playing by himself. It feels to me that this is shortly after J\xf3nas is gone but I'm not sure, ${this.circa70sYear}.`,"https://open.spotify.com/track/2V0X8p2Tefcg5MTrnuuplo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}beLikeYou1976(){return new xe("https://soundcloud.com/egill-antonsson/be-like-you-year-1976?in=egill-antonsson/sets/braedraminning","be-like-you-year-1976","Be Like You (year 1976)",this.pathBraedraminningArtwork,`Egill playing by himself. It feels to me that this is shortly after J\xf3nas is gone but I'm not sure, ${this.circa70sYear}.`,"https://open.spotify.com/track/23YxXCBVwziMTdJnIGqLZx","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}story1976(){return new xe("https://soundcloud.com/egill-antonsson/story-year-1976?in=egill-antonsson/sets/braedraminning","story-year-1976","Story (year 1976)",this.pathBraedraminningArtwork,`Egill playing by himself. It feels to me that this is shortly after J\xf3nas is gone but I'm not sure, ${this.circa70sYear}.`,"https://open.spotify.com/track/47Tf6lPTTaibh0LFGi6ULh","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}frumlag1977(){return new xe("https://soundcloud.com/egill-antonsson/frumlag-year-1977?in=egill-antonsson/sets/braedraminning","frumlag-year-1977","Frumlag (year 1977)",this.pathBraedraminningArtwork,"Egill playing the organ with couple of band mates who play guitar, bass and a 'drum', who could be (I'm not sure) \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson or P\xe1ll Hartmannsson or Einar Arngr\xedmsson or Hermann T\xf3masson or Vignir Hallgr\xedmsson.","https://open.spotify.com/track/1TV6QGFbW0mdtO8GqXCfay","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}world1977(){return new xe("https://soundcloud.com/egill-antonsson/world-year-1977?in=egill-antonsson/sets/braedraminning","world-year-1977","World (year 1977)",this.pathBraedraminningArtwork,"Egill playing the organ and singing with couple of band mates who play guitar and bass, who could be (I'm not sure) \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson, P\xe1ll Hartmannsson or Einar Arngr\xedmsson","https://open.spotify.com/track/6dI0WypRxmbUK7Rw9TaHpT","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}withoutThem1977(){return new xe("https://soundcloud.com/egill-antonsson/without-them-year-1977?in=egill-antonsson/sets/braedraminning","without-them-year-1977","Without them (year 1977)",this.pathBraedraminningArtwork,"Egill singing and playing the guitar with the drums from the Yamaha organ. But it could be that someone else is playing the guitar and then likely \xc1rni Bj\xf6rnsson or J\xfal\xedus J\xf3nasson.","https://open.spotify.com/track/0rcIAwxbRtRhYbKX0bq142","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}votThemeSong(){const t="vikings-of-thule-theme-song";return new qr("udM5Zr83El4",!0,t,"Vikings of Thule Theme Song",`${this.dirEgillAntonsson}${t}.PNG`,'The song for the Vikings of Thule video teaser for the game made by the company Gogogic. This is the 2025 Remastered version, where I revisited the song in the recording, mixing and mastering. Lyrics by <a href="https://www.linkedin.com/in/jonasantonsson/" target="_blank">J\xf3nas Antonsson</a>, composed by J\xf3nas and me, performed by me and mixed and produced by J\xfal\xedus J\xf3nasson. <a href="http://www.77.is" target="_blank">D\xf3ri</a> created the video and synced to the song. Image artwork made by <a href="https://www.linkedin.com/in/thorirkarlcelin/" target="_blank">\xde\xf3rir Karl Bragason Celin</a>.',"https://soundcloud.com/egill-antonsson/sets/vikings-of-thule-game-soundtrack","https://open.spotify.com/track/35LOjco7IykC60Pqq3DjuU?si=7245ec4caae24d82","https://www.qobuz.com/gb-en/album/vikings-of-thule-original-game-soundtrack-egill-antonsson/t52dkfwuie6hb","https://egillantonsson.bandcamp.com/album/vikings-of-thule-game-soundtrack","Snj\xf3ar kaldri str\xf6ndu \xe1, sefur j\xf6kulfoldin.<br>\nVarin \xf6llum v\xe6ttum \xfe\xe1, vistinn bl\xf3\xf0i goldin.<br>\nTungl er horfi\xf0 s\xf3l er sest, enn\xfe\xe1 mun h\xfan r\xedsa.<br>\nV\xedkingum h\xfan vandar mest, \xed vonar landi \xedsa.<br>\n<br><br>\nTranslated to English:<br>\nSnow falls on a cold beach, the frozen earth is sleeping.<br>\nGuarded by all wights, thus staying will cost blood.<br>\nThe moon has gone the sun has set, but she will rise again.<br>\nFor the vikings that settled and stayed, in a land of ice and hope.")}harmoniesOfShadeAndLight(){const t="harmonies-of-shade-and-light";return new xe("https://soundcloud.com/egill-antonsson/harmonies-of-shade-and-light",t,"Harmonies of Shade and Light",`${this.dirEgillAntonsson}${t}.jpg`,'I got the idea of this song when I was with the family in Thailand at the beginning of 2017. I borrowed a guitar with missing strings and created a harmony pattern and sung a melody over it. In circa 2019 I recorded the guitars and arranged the percussions from <a href="https://www.thelooploft.com/collections/drum-loops" target="_blank">The Loop Loft</a>. In the spring of 2021 my friend and music partner <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a> helped me structure the song and write the lyrics,\nand he recorded my vocals in his studio in Reykjavik. In April 2022 I recorded the rest of the instruments, processed and mixed the song.',"https://open.spotify.com/track/1xHXUKERh3a6elM9VdPIUW","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc","Someday's, the skies are cloudy.<br>\nSomeday's, there is no light.<br>\nAnd I thank you, for all the times we had.<br>\nAnd I thank you, for the moments that you cared.<br>\n<br>\nStars are shining bright tonight.<br>\nHarmonies of shade and light.<br>\nAnd everything's alright.<br>\n<br>\nI smile, though the skies are cloudy.<br>\nAnd I shine, when there's no light.<br>\nAnd I thank you, for all the times we had.<br>\nAnd I thank you, for the moments that you cared.<br>\n<br>\nStars are shining bright tonight.<br>\nHarmonies of shade and light.<br>\nHarmonies of shade and light.<br>\nAnd everything's alright.<br>\n<br>\nAnd everything's alright... And everything's alright")}weWillMeetAgain(){const t="we-will-meet-again";return new xe("https://soundcloud.com/egill-antonsson/we-will-meet-again",t,"We Will Meet Again",`${this.dirEgillAntonsson}${t}.jpg`,'In the spring of 2021, my friend and music partner, <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a>, approached me with an exciting proposition: to collaborate on a pop song. While we had dabbled in pop music in the past, this was the first time we dedicated ourselves to crafting and producing a contemporary pop track. We set ourselves a tight deadline of just a couple of days (both to train our production speed, and as I would return to Stockholm shortly after). Together we crafted both the music and lyrics (inspired by the reality that due to Covid restrictions it had been awhile since we\'d met). I contributed my vocals to the lyrics, while Sindri expertly mixed and polished the song.',"https://open.spotify.com/track/06bQmD7bI6N1qGDeIVsGYR","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib","Woke up this morning late, it was half past 8, still stuck in the rhythm.<br>\nYou feel so far away, life's so dull and grey, when we're not together.<br>\n<br>\nBut I know, there's a place, you and I will meet again.<br>\nAnd I know, that in time, you and I will meet again.<br>\nThough it feels far away, do the walk day by day, you and I will meet again.<br>\nThough you are far away, we can talk every day, you and I will meet again.<br>\n<br>\nI tried to dance alone, to our favorite song, in front of the mirror.<br>\nI miss your beat so much, and your caring touch, us two in the rhythm.<br>\n<br>\nBut I know, there's a place, you and I will meet again.<br>\nAnd I know, that in time, you and I will meet again.<br>\nThough it feels far away, do the walk day by day, you and I will meet again.<br>\nThough you are far away, we can talk every day, you and I will meet again.<br>\n<br>\nAnd we'll dance, you and I, to the off beat and the rhythm.<br>\nAnd we'll joke, and we'll laugh, what a great time we'll have, when I'll meet you in heaven.<br>\nThough it feels far away, do the walk day by day, you and I will meet again.<br>\nThough you are far away, we can talk every day, you and I will meet again.")}magmaMerryGoRound(){const t="magma-merrygoround";return new xe("https://soundcloud.com/egill-antonsson/magma-merrygoround",t,"Magma MerryGoRound",`${this.dirEgillAntonsson}${t}.jpg`,'Debuted at the 2021 <a href="https://edisonparty.com" target="_blank">Edison demoparty</a> under my pseudonym, Vulkanoman, this creation was initially named \'Tivoli Chase Cop 27/16.\' However, the inspiration struck me during the then recent journey where I witnessed the live volcanic eruption at <a href="https://en.wikipedia.org/wiki/Fagradalsfjall">Fagradallsfjall in Iceland</a>, leading me to retitle the track.',"https://open.spotify.com/track/27t1JaFQlOX6hhkVC6d59Z","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja")}justInTime(){return new xe("https://soundcloud.com/egill-antonsson/just-in-time","just-in-time","Just in Time",vn.defaultArtworkPath,'Debuted at the 2020 <a href="https://edisonparty.com" target="_blank">Edison demoparty</a> under my pseudonym Undur (now my current pseudonym is Vulkanoman). The title is a reference to the fact that I finished the song just in time for the party, and having missed the deadline the year before...',"","","https://soundcloud.com/egill-antonsson/just-in-time")}icelandSocksIntro(){const t="iceland-socks-intro";return new xe("https://soundcloud.com/egill-antonsson/iceland-socks-intro",t,"Iceland Socks: Intro",`${this.dirEgillAntonsson}${t}.jpg`,`<a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a> and me made this for an Icelandic travel industry campaign that the company ${this.urlGogogic} created in 2008. The talented Gogogic employees were the puppeteers and you can watch the Iceland Socks Outtakes on <a href="https://youtu.be/6n3_NF0g2dg" target="_blank">YouTube</a>`,"","","https://soundcloud.com/egill-antonsson/iceland-socks-intro")}fortidin(){const t="fortidin";return new xe("https://soundcloud.com/egill-antonsson/fortidin",t,"Fort\xed\xf0in",`${this.dirEgillAntonsson}${t}.jpg`,'Composed by Sigurj\xf3n Alexandersson and me. Sigurj\xf3n played the guitar, Sandra \xd3sk Sn\xe6bj\xf6rnsd\xf3ttir played the cello, vocals and other instruments performed by me. <a href="https://www.f6s.com/member/sindribergmannrarinsson#about">Sindri Bergmann Thorarinsson</a> assisted me with recording and mixing.',"https://open.spotify.com/track/5m9pYmJVkgX4Kk1RyWuCdh?si=4e658375ac824121","https://www.qobuz.com/se-en/album/fortidin-with-sigurjon-alexandersson-sandra-osk-snaebjornsdottir-sindri-bergmann-thorarinsson-egill-antonsson/bzcsmrqkt9sab","https://www.qobuz.com/se-en/album/fortidin-with-sigurjon-alexandersson-sandra-osk-snaebjornsdottir-sindri-bergmann-thorarinsson-egill-antonsson/bzcsmrqkt9sab","\xdeitt bl\xed\xf0a bros, g\xe6ti br\xe6tt allan heiminn.<br>\nAugun bl\xe1, svo himnesk og dreymin.<br>\nHl\xe6jandi, hamingjan smitar mig.<br>\nSyngjandi, beint fr\xe1 s\xe1linni.<br>\n<br>\nEr \xe9g horfi \xe1 \xfeig \xfe\xe1 finn \xe9g k\xe6rleik \xfeinn.<br>\nEr \xe9g hlusta \xe1 \xfeig \xfe\xe1 sefast hugur minn.<br>\nEn \xfe\xfa ert fort\xed\xf0in.<br>\n<br>\n\xd6rl\xf6gin, t\xf3ku \xfeig fr\xe1 m\xe9r.<br>\n\xd6rl\xf6gin, skildu mig eftir h\xe9r.<br>\n\xdea\xf0 eina sem hj\xe1 m\xe9r eftir er, eru myndir upp \xe1 vegg, gamlar uppt\xf6kur, og g\xf3\xf0ar minningar.<br>\n<br>\nEr \xe9g horfi \xe1 \xfeig \xfe\xe1 finn \xe9g k\xe6rleik \xfeinn.<br>\nEr \xe9g hlusta \xe1 \xfeig \xfe\xe1 sefast hugur minn.<br>\nEn \xfe\xfa ert fort\xed\xf0in.<br>")}toddlerTune(){const t="toddlers-tune";return new xe("https://soundcloud.com/egill-antonsson/toddler-tune",t,"Toddlers Tune",`${this.dirEgillAntonsson}${t}.jpg`,"When my daughter, Soff\xeda R\xf3s Egilsd\xf3ttir, was around 3 years old, I captured a precious moment of her singing a delightful melody. Inspired by her tune, I embarked on a creative journey, crafting chords and rhythm to complement her sweet voice. This harmonious fusion evolved into this song, that I aptly titled 'Toddler's Tune'")}oddTimesInSpace(){return new xe("https://soundcloud.com/egill-antonsson/odd-times-in-space","odd-times-in-space","Odd Times in Space",vn.defaultArtworkPath,"Inaugurated at the 2016 <a href=\"https://edisonparty.com\" target=\"_blank\">Edison demoparty</a> under my former pseudonym 'Undur' (now known as 'Vulkanoman'), the composition bears a title inspired by its odd time signature, odd drum beat emphasis at times, and 'space-like' ambiance (whatever that means).")}introduction(){const t="introduction",i=`${this.dirTribeOfOranges}${t}.jpg`,l=`${this.urlSindri()} and I created this track for a theater play, we called it Introduction as it was played in the beginning. We incorporated drums played by <a href="https://www.discogs.com/artist/429294-Birgir-Baldursson" target="_blank">Birgir Baldursson</a>, that we initially recorded for another track I had composed (yet to be released). We took great care to produce the bassdrum sound, and we gave it a lot of space in the lower frequencies as the bass guitar only joins in the climax, while the guitar, piano and our voices float above in the higher frequencies. <a href="https://soundcloud.com/maniacs-of-noise" target="_blank">Maniacs of Noise / Jeroen Tel</a> commented on this track on Soundcloud, saying: "The best thing about this song is the bassdrum (that's not meant as an insult, it truly stands out!). :-)".<br>\nWhen I decided to share this track with the world, I opted for a distinct track artwork unrelated to the play. The artwork chosen was Ind\xed\xe1nah\xf6fu\xf0i\xf0, a sculpture created by my oldest brother, J\xf3nas. This potent piece holds immense sentimental value as a treasured family artifact, representing a Native American figure. Listening to the track, I envision a captivating tale of the clash of cultures, where the old meets the new, the past intertwines with the present, and the native converges with the foreign.`;return new xe("https://soundcloud.com/egill-antonsson/introduction",t,"Introduction",i,l,"https://open.spotify.com/track/76WTYWzVduUif8shAtmhyS?si=a1554403c9f84436","https://www.qobuz.com/se-en/album/introduction-tribeoforanges/od9kw6695qwdc")}routine(){const i=`${this.dirTribeOfOranges}tribe-of-oranges.jpg`,l=`${this.urlSindri()} and I explored the untapped potential of everyday household objects found within the confines of my apartment. We crafted a composition that entailed a minimalist electric piano chord progression complemented by a touch of didgeridoo randomness. The artwork for this track captures a candid moment of camaraderie, as we engaged in a friendly game of chess on my apartment's balcony. The photo reveals us adorned in cozy gloves and hats, testament to the sunny yet brisk winter day that accompanied our artistic pursuits.`;return new xe("https://soundcloud.com/egill-antonsson/routine","routine","Routine",i,l,"https://open.spotify.com/track/0Az5Fk3OLdkejiWE4iVQJW?si=705f0f0c3d7041a4","https://www.qobuz.com/se-en/album/routine-tribeoforanges/tpfekpv2d8pwc")}hhiCommercial(){const i=`${this.dirTribeOfOranges}tribe-of-oranges.jpg`,s=`${this.urlSindri()} and I performed a song for Happdr\xe6tti H\xe1sk\xf3la \xcdslands (University of Iceland Lottery) for their video commercial campaign where the company provided the predefined lyrics, melody and chord guideline. Since this was for a lottery commercial we recorded various coins sounds and made that part of the song. The best entries were filmed as commercials with the artists and aired, and we were among those. It was aired in the winter of 2008, if memory serves me right.`;return new xe("https://soundcloud.com/egill-antonsson/song-for-hhi-commercial","song-for-hhi-commercial","Song for HHI commercial",i,s)}get kuaiBuyUrl(){return"https://www.qobuz.com/album/kuai-kuai/kqeu1azl013da"}andefniLive(){const s=`Performed Live in Laugardalsh\xf6ll 2nd of june 2001 at the Reykjavik Mini Festival. In the end ${this.urlSiggi()} shreds his guitar to smithereens.`;return new qr("6cLPGWQJ2Vs",!0,"andefni-live","Andefni - Live",this.pathKuaiArtwork,s,"https://soundcloud.com/egill-antonsson/andefni","https://open.spotify.com/track/0BeH2MfJp85TtdE5PZ16PU?si=50aea94a99c5455f",this.kuaiBuyUrl)}pirringurLive(){return new xe("https://soundcloud.com/kuai-iceland/pirringur-live","pirringur-live","Pirringur - Live",this.pathKuaiArtwork,"Performed Live in Laugardalsh\xf6ll 2nd of June 2001 at the Reykjavik Mini Festival. We started with this track on concerts and thus also on this concert.","https://open.spotify.com/track/1MnsPzWXUWDdBjLGreX9mp?si=bbfd84374fd24935",this.kuaiBuyUrl)}pirringur(){const s=`Pirringur means irritation in Icelandic. We started with this track on concerts and thus it was fitting to start the album with it. The Hammond organ in the end was played by my and recorded by ${this.urlSteini()} in the F\xcdH concert hall.`;return new xe("https://soundcloud.com/egill-antonsson/pirringur","pirringur","Pirringur",this.pathKuaiArtwork,s,"https://open.spotify.com/track/1MnsPzWXUWDdBjLGreX9mp?si=bbfd84374fd24935",this.kuaiBuyUrl)}apollo(){return new xe("https://soundcloud.com/egill-antonsson/apollo","apollo","Apollo",this.pathKuaiArtwork,'"The name of this track draws inspiration from the Apollo program (an iconic chapter in space history named after Apollo, the Greek god of light, music, and the Sun). In my artistic vision, this track embodies a space mission that ultimately culminates in a dramatic and intense catastrophic failure.',"https://open.spotify.com/track/3ayL6r8u4hkHZzLFSGLq5j?si=42bf7eb320d14012",this.kuaiBuyUrl)}andsetinn(){return new xe("https://soundcloud.com/egill-antonsson/andsetinn","andsetinn","Andsetinn",this.pathKuaiArtwork,"Andsetinn means possessed in Icelandic which is fitting for this track. The Yamaha C-35 organ and Hammond organ in the end were played by me.","https://open.spotify.com/track/7MRGsSRocQ9CUEP7MzzutU?si=39de5d4ba04f4ded",this.kuaiBuyUrl)}hamskipti(){return new xe("https://soundcloud.com/egill-antonsson/hamskipti","hamskipti","Hamskipti",this.pathKuaiArtwork,"Hamskipti means shape-shifting or transformation in Icelandic, and are common themes in mythology and folklore, including the Icelandic Viking sagas. I heavily slap the bass in this one.","https://open.spotify.com/track/03YyiL49fyp9pPoynSk0e5?si=cd62c0313293492f",this.kuaiBuyUrl)}rover(){const s=`Rover was recorded and mixed by J\xf3n Elvar Hafsteinsson in 1999. J\xf3n said that he had never recorded so much anger before (you can hear ${this.urlSteini()} and me screaming in the background in the metal parts which ends with the word "Mamma").  When we were thinking about what to name the track we found the name Rover on some card board in my parents garage which was our main rehearsal space at the time.`;return new xe("https://soundcloud.com/egill-antonsson/rover","rover","Rover",this.pathKuaiArtwork,s,"https://open.spotify.com/track/2nM3ir2HXQIYx9HHdYgu3c?si=731010727fb94acc",this.kuaiBuyUrl)}andefni(){const s=`Andefni means antimatter in Icelandic. Steinar Sigur\xf0sson plays the saxophone where the wired guitar play from ${this.urlSteini()} fills in the void. Then in the end ${this.urlSiggi()} shreds his guitar to smithereens.`;return new xe("https://soundcloud.com/egill-antonsson/andefni","andefni","Andefni",this.pathKuaiArtwork,s,"https://open.spotify.com/track/0BeH2MfJp85TtdE5PZ16PU?si=50aea94a99c5455f",this.kuaiBuyUrl)}agndofa(){return new xe("https://soundcloud.com/egill-antonsson/agndofa","agndofa","Agndofa",this.pathKuaiArtwork,"Andefni means stunned in Icelandic. By coincidence during the long guitar feedback some radio broadcast came through the speakers, and we decided to keep it in the track.","https://open.spotify.com/track/39v1wVL4fWnPWEt8D8tl40?si=500e84677daa4aec",this.kuaiBuyUrl)}ofurte(){const s=`Ofurte translates to "super tea" in Icelandic. Both during concerts and on the album, this track marks the final part of the musical journey, starting with a mellow melody pattern. The  Hammond organ solo at the end was played by me and recorded by ${this.urlSteini()} at the F\xcdH concert hall.`;return new xe("https://soundcloud.com/egill-antonsson/ofurte","ofurte","Ofurte",this.pathKuaiArtwork,s,"https://open.spotify.com/track/1deKl4F86Lns3pgbeQspyw?si=536593297c194d76",this.kuaiBuyUrl)}get aboutLesblinda(){return`Lesblinda means dyslexia in Icelandic. Initially, we called both parts (I and II) "Korteri\xf0," meaning quarter in Icelandic, as it typically spanned about a quarter of an hour in performance time. However, the length remained open-ended due to the improvised and interwoven guitar melodies, guided by occasional cues signaling section changes. A memorable aspect of our live performances was concluding with "Korteri\xf0," where part I exudes a mellow ambiance and Part II serves as a contrasting, climactic power blast. In the studio recording ${this.urlSiggi} played the piano, and I played the Hammond organ.`}lesblindaI(){return new xe("https://soundcloud.com/egill-antonsson/lesblinda-i","lesblinda-i","Lesblinda I",this.pathKuaiArtwork,this.aboutLesblinda,"https://open.spotify.com/track/6ZPVNTF0o9B79SGKRulrUh?si=4a0d989e1c674d53",this.kuaiBuyUrl)}lesblindaII(){return new xe("https://soundcloud.com/egill-antonsson/lesblinda-ii","lesblinda-ii","Lesblinda II",this.pathKuaiArtwork,this.aboutLesblinda,"https://open.spotify.com/track/6tOuId7SigO9IMiUwaavCU?si=e1bf6a3f596c4da6",this.kuaiBuyUrl)}godsruleLayered(){var t=this;const r=`I composed and produced the music and sfx for this game. The Village music track has 4 layers \u2014 village ambience, string and male choir (me) harmony chords, harp arpeggio chords, and piano melody. Developed by ${this.urlGogogic} and published by Sega.`,s=new yl(new oD(this.instanceEndedListeners,this.logService.log),[ge.musicLoop("godsruleEnvironmentLayer",`${this.dirGameMusicLayered}/loton_MusicVillageEnvironmentLayer.ogg`,.075),ge.musicLoop("godsruleStringLayer",`${this.dirGameMusicLayered}/loton_MusicVillageStringLayer.ogg`,.55),ge.musicLoop("godsruleHarpLayer",`${this.dirGameMusicLayered}/loton_MusicVillageHarpLayer.ogg`,.4),ge.musicLoop("godsrulePianoLayer",`${this.dirGameMusicLayered}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>Jt(function*(){const o=[t.soundManager.instance.getSound(s.soundDatas[0].key),t.soundManager.instance.getSound(s.soundDatas[1].key),t.soundManager.instance.getSound(s.soundDatas[2].key),t.soundManager.instance.getSound(s.soundDatas[3].key)],l=[];for(let c=0;c<o.length;c++){const h=o[c],{instance:f}=yield h.play();l.push(f),t.instancePlayedListeners.forEach(p=>p(f))}s.layeredMusicController.start(l)}),"godsrule-village","Godsrule: Village",`${vn.dir}/game/music-layered/godsrule-village.webp`,r);return s}votLayered(){var t=this;const e="vikings-of-thule-map",r=`I composed and produced the music and sfx for this game. The Map music track has 4 layers \u2014 village ambience, string and male choir (me) harmony chords, harp arpeggio chords, and piano melody. Developed and published by ${this.urlGogogic}.`,s=new yl(new oD(this.instanceEndedListeners,this.logService.log),[ge.musicLoop("votWindLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_0.mp3`),ge.musicLoop("votChoirLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_3.ogg`),ge.musicLoop("votHarpLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_2.ogg`),ge.musicLoop("votMelodyLayer",`${this.dirGameMusicLayered}/VOT_InterfaceMusic_1.ogg`)],()=>Jt(function*(){const o=[t.soundManager.instance.getSound(s.soundDatas[0].key),t.soundManager.instance.getSound(s.soundDatas[1].key),t.soundManager.instance.getSound(s.soundDatas[2].key),t.soundManager.instance.getSound(s.soundDatas[3].key)],l=[];for(let c=0;c<o.length;c++){const h=o[c],{instance:f}=yield h.play();l.push(f),t.instancePlayedListeners.forEach(p=>p(f))}s.layeredMusicController.start(l)}),e,"Vikings of Thule: Map",`${this.dirGameMusicLayered}/${e}.jpg`,r);return s}cakePopParty(){var t=this;const r=`I composed and produced the music and sfx for this game. I was inspired by the intro of <a href="https://open.spotify.com/track/3qI94hINNNeb4S7xQi18lS?si=daef63ec063e4901" target="_blank">Blame it on the Boogie by The Jacksons</a>. This track starts with the Intro music looped twice, then goes into the in-game 'Make the Pop' music. Then the whole thing is looped twice. A short description of the game: A social entertainment game for the iPad and iPhone. The key ingredient of the game is the ability of players to create, design and share their unique cake pop creations globally within the app and on the social networks for added fun. Developed by ${this.urlGogogic} and published by <a href="https://www.facebook.com/profile.php?id=100063882670798" target="_blank">FreshGames</a>.`,s=new Jn([ge.music("cppMusicIntro",`${this.dirGameMusic}/CPP_workMusicIntroScreen.ogg`,.7),ge.music("cppMusicScaleBeat",`${this.dirGameMusic}/CPP_musicTransitionBeatFade.ogg`,.6),ge.music("cppMusicMakePop",`${this.dirGameMusic}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key);let h,f=2;do{h=yield o.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield o.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield l.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield c.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p(1===f)),f--}while(f>0)}),"cake-pop-party","Cake Pop Party",`${this.dirGameMusic}/cake-pop-party.png`,r);return s}symbol6(){var t=this;const r=`I composed and produced the music and sfx for this game. I was a bit inspired by the song <a href="https://soundcloud.com/r-nar-li-bjarnason/easy-cream?in=r-nar-li-bjarnason/sets/fiff" target="_blank">Easy Cream by the band Fiff</a> as I use the same verse chord progression, but I change the time signature from 4 to 6. This track starts with the drum beat that was during the menu, then goes into the in-game music, and goes into the old version of the in-game music (with less drums). Then the whole thing is looped twice. Developed and published by ${this.urlGogogic}.`,s=new Jn([ge.music("ssixMenu",`${this.dirGameMusic}/SSIX_menu.ogg`),ge.music("ssixGame",`${this.dirGameMusic}/SSIX_game.ogg`),ge.music("ssixHexago",`${this.dirGameMusic}/SSIX_HexagoTune.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key);let h,f=2;do{h=yield o.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield l.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield c.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p(1===f)),f--}while(f>0)}),"symbol-6","Symbol 6",`${this.dirGameMusic}/symbol-6.jpg`,r);return s}softFreakFiesta(){var t=this;const r=`I composed and produced the music and sfx for this game. This track starts with the Intro into menu music, then goes into in-game music. First with default level, then with bubbling acid / lava ambience level. Then the You Loose jingle is played, then the whole thing is looped twice, but now it ends with You Win jingle. Developed and published by ${this.urlGogogic}.`,s=new Jn([ge.music("sffIntroMenuMusic",`${this.dirGameMusic}/SFF_IntroMenuMusic.ogg`,.9),ge.music("sffMenuMusic",`${this.dirGameMusic}/SFF_MenuMusic.ogg`,.9),ge.music("sffLevelMusicNoEnv",`${this.dirGameMusic}/SFF_LevelMusic_noEnv.ogg`),ge.music("sffLevelMusicBubbling",`${this.dirGameMusic}/SFF_LevelMusic_bubbling.ogg`),ge.music("sffLoseJingle",`${this.dirGameMusic}/SFF_LoseJingle.ogg`,.9),ge.music("sffWinJingle",`${this.dirGameMusic}/SFF_WinJingle.ogg`,.9)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key),h=t.soundManager.instance.getSound(s.soundDatas[3].key),f=t.soundManager.instance.getSound(s.soundDatas[4].key),p=t.soundManager.instance.getSound(s.soundDatas[5].key);let y,g=!0;y=yield o.play(),t.instancePlayedListeners.forEach(w=>w(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(w=>w());let v=2;do{y=yield l.play(),t.instancePlayedListeners.forEach(w=>w(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(w=>w()),y=yield c.play(),t.instancePlayedListeners.forEach(w=>w(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(w=>w()),y=yield h.play(),t.instancePlayedListeners.forEach(w=>w(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(w=>w()),y=g?yield f.play():yield p.play(),g=!g,t.instancePlayedListeners.forEach(w=>w(y.instance)),yield y.endedPromise,t.instanceEndedListeners.forEach(w=>w(1===v)),--v}while(v>0)}),"soft-freak-fiesta","Soft Freak Fiesta",`${this.dirGameMusic}/soft-freak-fiesta.jpg`,r);return s}habitarium(){var t=this;const r=`I composed and produced the music and sfx for this <a href="https://www.neopets.com/habitarium/" target="_blank">game</a> that was developed by ${this.urlGogogic} but was for Neopets that was then owned by <a href="https://www.nickelodeon.com" target="_blank">Nickelodeon</a>. This track starts with the main theme music and then goes into in-game music, then the whole thing is looped twice. After the delivery at some point the owners (maybe after change of ownership) added a music track that was not done by me.`,s=new Jn([ge.music("habitariumMainTheme",`${this.dirGameMusic}/Habitarium_main_theme.ogg`,.9),ge.music("habitariumInGameLoop",`${this.dirGameMusic}/Habitarium_InGameLoop.ogg`,.8)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key);let c,h=2;do{c=yield o.play(),t.instancePlayedListeners.forEach(f=>f(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(f=>f()),c=yield l.play(),t.instancePlayedListeners.forEach(f=>f(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(f=>f(1===h)),h--}while(h>0)}),"habitarium","Habitarium",`${this.dirGameMusic}/habitarium.png`,r);return s}tinyPlaces(){var t=this;const r=`I composed and produced the music and sfx for this game. This track starts with the intro music and then goes to the main theme music, where I was inspired by the <a href="https://open.spotify.com/track/5duZVZ4m1TaJDTCbeHG8TG?si=a7ac919c95274a51" target="_blank">Indiana Jones theme</a>. Then it goes to the Space Bonus Level where Nap floats in space, and where I was inspired by communication by the melody line in the movie <a href="https://www.youtube.com/watch?v=nkykqyMEarA" target="_blank">Close Encounters of the Third Kind</a>. Then it goes to the Pyramid Tomb Bonus Level. Then it goes the 'Lazy style', then it goes to a short xylophone cut scene and then the in-game music, and it ends with The Time is Running Out and Game Over. Developed by ${this.urlGogogic} and published by <a href="https://www.bigfishgames.com" target="_blank">Big Fish Games</a>.`,s=new Jn([ge.music("tpMainThemeIntro",`${this.dirGameMusic}/TP_mainThemeIntro.ogg`,.8),ge.music("tpMainThemeBridge",`${this.dirGameMusic}/TP_mainThemeBridge.ogg`,.8),ge.music("tpSpaceWorld",`${this.dirGameMusic}/TP_spaceWorld.ogg`,.8),ge.music("tpTomb",`${this.dirGameMusic}/TP_tomb.ogg`,.8),ge.music("tpLazyStyle",`${this.dirGameMusic}/TP_lazyStyle.ogg`,.8),ge.music("tpCutScene",`${this.dirGameMusic}/TP_cutScene.ogg`,.8),ge.music("tpInGame",`${this.dirGameMusic}/TP_inGame.ogg`,.8),ge.music("tpOutOfTime",`${this.dirGameMusic}/TP_outoftime.ogg`,.8)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key),h=t.soundManager.instance.getSound(s.soundDatas[3].key),f=t.soundManager.instance.getSound(s.soundDatas[4].key),p=t.soundManager.instance.getSound(s.soundDatas[5].key),g=t.soundManager.instance.getSound(s.soundDatas[6].key),y=t.soundManager.instance.getSound(s.soundDatas[7].key);let v;v=yield o.play(),t.instancePlayedListeners.forEach(_=>_(v.instance));const w=o.audioCtx.currentTime;v.instance.gainWrapper.setValueAtTime(.4,w).exponentialRampToValueAtTime(.8,w+.3),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield l.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield c.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield c.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield h.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield h.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield f.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield f.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield p.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield g.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_()),v=yield y.play(),t.instancePlayedListeners.forEach(_=>_(v.instance)),yield v.endedPromise,t.instanceEndedListeners.forEach(_=>_(!0))}),"tiny-places","Tiny Places",`${this.dirGameMusic}/tiny-places.jpg`,r);return s}jol2008(){var t=this;const r=`I composed and produced the music and sfx for the 2008 Gogogic Christmas Game. It was a ${this.urlGogogic} tradition to publish a game each Christmas that people could play for free and get int the holiday spirit. This year the game was packaging christmas correctly and in due time. This track plays the the main music twice and  then ends with the Game Over jingle.`,s=new Jn([ge.music("jol2008mainMusic",`${this.dirGameMusic}/jolagogo2008_main_music.ogg`),ge.music("jol2008gameOver",`${this.dirGameMusic}/jolagogo2008_game_over.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key);let c;c=yield o.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h()),c=yield o.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h()),c=yield l.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h(!0))}),"christmas-game-2008","Christmas Game 2008",`${this.dirGameMusic}/christmas-gogogic.jpg`,r);return s}jol2009(){var t=this;const r=`I composed and produced the music and sfx for the 2009 Gogogic Christmas Game. It was a ${this.urlGogogic} tradition to publish a game each Christmas that people could play for free and get int the holiday spirit. This year the game was solving the christmas puzzle that pushing out slimy balls through some pipes, thus I shuffled and juiced up the comp around the same melody tones from last year's game. This track starts with the Bridge and then goes to the Chorus. Then the whole thing is looped twice.`,s=new Jn([ge.music("jol2009bridge",`${this.dirGameMusic}/jolagogo2009_Bridge.ogg`),ge.music("jol2009chorus",`${this.dirGameMusic}/jolagogo2009_Chorus.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key);let c,h=2;do{if(c=yield o.play(),t.instancePlayedListeners.forEach(f=>f(c.instance)),2===h){const f=o.audioCtx.currentTime;c.instance.gainWrapper.setValueAtTime(.1,f).exponentialRampToValueAtTime(1,f+.25)}yield c.endedPromise,t.instanceEndedListeners.forEach(f=>f()),c=yield l.play(),t.instancePlayedListeners.forEach(f=>f(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(f=>f(1===h)),h--}while(h>0)}),"christmas-game-2009","Christmas Game 2009",`${this.dirGameMusic}/jol-gogogic.jpg`,r);return s}whosYourFriend(){var t=this;const r=`I composed and produced the music and sfx for this game that was about knowing as many of your Facebook friend profile pictures (selected randomly) in 90 seconds, thus the track is the same length as the game sessions 90 seconds. Developed and published by ${this.urlGogogic}.`,s=new Jn([ge.music("wyf",`${this.dirGameMusic}/WYF_ThemeSong.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),{instance:l,endedPromise:c}=yield o.play();t.instancePlayedListeners.forEach(h=>h(l)),yield c,t.instanceEndedListeners.forEach(h=>h(!0))}),"whos-your-friend","Who's Your Friend",vn.defaultArtworkPath,r);return s}knowYourFriend(){var t=this;const r=`I composed and produced the music and sfx for this game that was about knowing as many of your Facebook friend profile pictures (presented 4 choices randomly) in 90 seconds. The track starts with 90 seconds game session then goes to the Game Finished and Result music with applause ambience (looped twice). Developed and published by ${this.urlGogogic}.`,s=new Jn([ge.music("kyfIntroMusic",`${this.dirGameMusic}/KYF_IntroMusic_WithAudience.ogg`),ge.music("kyf90secMusic",`${this.dirGameMusic}/KYF_90secondsMusic.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key);let c;c=yield l.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h()),c=yield o.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h()),c=yield o.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h(!0))}),"know-your-friend","Know Your Friend",`${this.dirGameMusic}/know-your-friend.jpg`,r);return s}stackem(){var t=this;const r=`I composed and produced the music and sfx for this game by ${this.urlGogogic} that was about stacking your sheep as high as you can, competing for the high score with your fellow farmers. This track is looped twice.`,s=new Jn([ge.music("stackem",`${this.dirGameMusic}/Stackem_Tune_loop.ogg`,.9)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key);let l=2;do{const{instance:c,endedPromise:h}=yield o.play();t.instancePlayedListeners.forEach(f=>f(c)),yield h,t.instanceEndedListeners.forEach(f=>f()),l--}while(l>0)}),"stack-em","Stack'em",`${this.dirGameMusic}/stack-em.webp`,r);return s}glowbulleville(){var t=this;const r=`I composed and produced the music and sfx for this game which was the first one I did at ${this.urlGogogic}. This track starts with the main music, then goes to the village music (looped twice), then goes to the in-game music, then the whole thing is looped twice.`,s=new Jn([ge.music("glowMainMusic",`${this.dirGameMusic}/GLOB_main_music.mp3`,.8),ge.music("glowVillageMusic",`${this.dirGameMusic}/GLOB_village_music.mp3`),ge.music("glowWack",`${this.dirGameMusic}/GLOB_wack_a_mole.mp3`,.8)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key);let h,f=2;do{h=yield o.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield o.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield l.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield l.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p()),h=yield c.play(),t.instancePlayedListeners.forEach(p=>p(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(p=>p(1===f)),f--}while(f>0)}),"glowbulleville","Glowbulleville",vn.defaultArtworkPath,r);return s}godsrule(){var t=this;const r=`I composed and produced the music and sfx for this game. This track starts with the battle music, then goes to Combat Ended with Defeat music, then goes to Combat Ended with Victory (to showcase both, though would not happen in the actual game). Developed by ${this.urlGogogic} and published by Sega.`,s=new Jn([ge.music("godsruleBattle",`${this.dirGameMusic}/LOTON_BattleBaseLayer.ogg`),ge.music("godsruleDefeat",`${this.dirGameMusic}/LOTON_CombatDefeatMusic.ogg`),ge.music("godsruleVictory",`${this.dirGameMusic}/LOTON_CombatVictory.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key);let h,f=2;do{h=yield o.play(),t.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(y=>y()),h=yield l.play(),t.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(y=>y()),h=yield c.play(),t.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(y=>y()),f--}while(f>0);h=yield o.play(),t.instancePlayedListeners.forEach(y=>y(h.instance));const g=h.instance.sourceNode.buffer?.duration||10;h.instance.gainWrapper.setTargetAtTime(0,o.audioCtx.currentTime+g/2,g/6),yield h.endedPromise,t.instanceEndedListeners.forEach(y=>y(!0))}),"godsrule-battle","Godsrule: Battle",`${this.dirGameMusic}/godsrule-battle.jpg`,r);return s}vot(){var t=this;const e="vikings-of-thule-duel",r=`I composed and produced the music and sfx for this game. This track starts with the drums when the duel initiated popup displays, then goes to the duel music when the duel starts. The duel end popup queues the duel end music where the music ends (and wind ambience continues). Developed and published by ${this.urlGogogic}.`,s=new Jn([ge.music("votFeudDrums",`${this.dirGameMusic}/VOT_FeudMusic_drums.ogg`),ge.music("votFeud",`${this.dirGameMusic}/VOT_FeudMusic.ogg`),ge.music("votFeudEnding",`${this.dirGameMusic}/VOT_FeudEnding.ogg`)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key),c=t.soundManager.instance.getSound(s.soundDatas[2].key);let h;h=yield o.play(),t.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(y=>y()),h=yield l.play(),t.instancePlayedListeners.forEach(y=>y(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(y=>y()),h=yield l.play(),t.instancePlayedListeners.forEach(y=>y(h.instance)),h.instance.gainWrapper.setTargetAtTime(0,l.audioCtx.currentTime+(h.instance.sourceNode.buffer?.duration||10)-.799,1);const g=function(){var y=Jt(function*(){t.instanceEndedListeners.forEach(v=>v()),h=yield c.play(),t.instancePlayedListeners.forEach(v=>v(h.instance)),yield h.endedPromise,t.instanceEndedListeners.forEach(v=>v(!0))});return function(){return y.apply(this,arguments)}}();t.timeout=setTimeout(()=>{g()},1e3*(h.instance.sourceNode.buffer?.duration||10)-799)}),e,"Vikings of Thule: Duel",`${this.dirGameMusic}/${e}.jpg`,r);return s}crisisGame(){var t=this;const r=`The Crisis Game or Kreppuspili\xf0 in Icelandic was a board game created after the Icelandic financial crisis that ${this.urlGogogic} produced. I created the jingle for the the video shorts campaign which is available <a href="https://www.youtube.com/@kreppur/videos" target="_blank">here</a>.`,s=new Jn([ge.music("crisisBegin",`${this.dirGameMusic}/Krepp_Byrjun.ogg`,.9),ge.music("crisisEnd",`${this.dirGameMusic}/Krepp_Endir.ogg`,.9)],()=>Jt(function*(){const o=t.soundManager.instance.getSound(s.soundDatas[0].key),l=t.soundManager.instance.getSound(s.soundDatas[1].key);let c;c=yield o.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h()),c=yield l.play(),t.instancePlayedListeners.forEach(h=>h(c.instance)),yield c.endedPromise,t.instanceEndedListeners.forEach(h=>h(!0))}),"the-crisis-game","The Crisis Game",`${this.dirGameMusic}/the-crisis-game.jpg`,r);return s}static#e=this.\u0275fac=function(e){return new(e||Cl)(F(Uo),F(bi))};static#t=this.\u0275prov=ee({token:Cl,factory:Cl.\u0275fac,providedIn:"root"})}class aD{}class Dl{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(t){return Math.floor(t*Math.random())}startUniqueNumberTracking(t){if(t<=0)throw new lD(lD.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=t,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let t=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let e=0;e<=this.uniqueNumbers.size;e++)if(!this.uniqueNumbers.has(e)){t=e;break}}else do{t=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(t));return this.uniqueNumbers.set(t,!0),t}static#e=this.\u0275fac=function(e){return new(e||Dl)};static#t=this.\u0275prov=ee({token:Dl,factory:Dl.\u0275fac,providedIn:"root"})}class lD{constructor(t){this.name="RandomNumberError",this.message=t}static#e=this.msgNumberMustBeHigherThanZero="Number must be > 0"}class xs{constructor(){this.isInitialized=!1,this.elements={}}set(t,e){return this.has(t)?this.elements[t].next(e):this.elements[t]=new Un(e),this.elements[t]}get(t){return this.has(t)||(this.elements[t]=new Un(null)),this.elements[t]}delete(t){this.has(t)&&(this.elements[t].next(null),delete this.elements[t])}clear(){for(const t in Object.keys(this.elements))this.elements.hasOwnProperty(t)&&(this.elements[t].next(null),delete this.elements[t]);this.elements={}}has(t){return this.elements[t]instanceof Un}static#e=this.\u0275fac=function(e){return new(e||xs)};static#t=this.\u0275prov=ee({token:xs,factory:xs.\u0275fac,providedIn:"root"})}class Yr{constructor(t,e,i,r,s,o,l,c,h,f){this.soundManager=t,this.musicStreamer=e,this.youtubeService=i,this.realtimeVisualService=r,this.windowRef=s,this.myTracks=o,this.randomNumber=l,this.messageService=c,this.htmlService=h,this.logService=f,this.label="MusicService",this.urlPathRoot="music/",this.windowWidth=400,this.windowHeight=300,this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!1,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,f.log),this.myTracks.init(),this._byTracks=o.byTracks,this.tracks=o.flatTracks,this._isShuffle?(l.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[l.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack,this.subscription=this.messageService.onMessage().subscribe(p=>{"YoutubeVolumeChange"===p.type&&this.setVolumeAndMutedFromYoutubePlayer()})}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}setSelectTrackByRootUrl(t){let e=this.myTracks.getTrackByRootUrl(t);void 0===e&&(this.logService.log("Error",`could not get track by rootUrl ${t}, returning first track`),e=this.tracks[0]),this._selectedTrack=this.nextSelectedTrack=e,this.isSelectedTrackWithActiveYoutubeVisuals||this.setHeaderContainerHeightForMyPlayer()}get playState(){return this._playState}get isShuffle(){return this._isShuffle}ngOnDestroy(){this.subscription instanceof V&&this.subscription.unsubscribe()}init(t,e){this.youtubeService.savePlayerElement(t),this.initSoundCloudStreamer(),this.realtimeVisualService.init(e)}onWindowResize(t,e){if("RealtimeVisual"==this._selectedTrack.source){var i=this.realtimeVisualService.onWindowResize(t,e);this.setHeaderContainerHeightForRealtimeVisual(i)}else if(this.isSelectedTrackWithActiveYoutubeVisuals){let r=this.youtubeService.onWindowResize(t,e);this.setHeaderContainerHeight(r)}else this.setHeaderContainerHeightForMyPlayer();this.windowWidth=t,this.windowHeight=e}get isSelectedTrackWithActiveYoutubeVisuals(){return"Youtube"==this._selectedTrack.source&&!0===this._selectedTrack.isGraphicsActive}setHeaderContainerHeightForMyPlayer(){this.setHeaderContainerHeight(this.getMyPlayerHeight())}getMyPlayerHeight(){return 41}setHeaderContainerHeightForRealtimeVisual(t){this.setHeaderContainerHeight(t+this.getMyPlayerHeight()+10+3)}setHeaderContainerHeight(t){let e=this.htmlService.get("headerContainer"),i=this.htmlService.get("headerBackground");this.logService.log("Info","setHeaderContainerHeight",t=t+35+22),e.value.nativeElement.style.height=t+"px",i.value.nativeElement.style.height=t+"px"}onYoutubePlayerReady(t,e,i){let r=this.youtubeService.onPlayerReady(t,100*this.masterGain,this.isSelectedTrackWithActiveYoutubeVisuals,e,i);r>0&&this.setHeaderContainerHeight(r)}OnYoutubePlayerStateChange(t){"Youtube"===this._selectedTrack.source&&(t===YT.PlayerState.PAUSED&&"Paused"!==this.playState?this.pause():t!==YT.PlayerState.PLAYING&&t!==YT.PlayerState.BUFFERING||"Playing"===this.playState?t===YT.PlayerState.ENDED&&this.NextTrackAndPlayFromStart():this.play())}toggleMinimizeMusicPlayer(t){if("Youtube"===this.selectedTrack.source&&this.selectedTrack.displayOnYoutube){if(t)this.setHeaderContainerHeightForMyPlayer();else{let e=this.youtubeService.onWindowResize(this.windowWidth,this.windowHeight);this.setHeaderContainerHeight(e)}this.selectedTrack.isGraphicsActive=!t}if("RealtimeVisual"===this.selectedTrack.source){if(t)this.setHeaderContainerHeightForMyPlayer();else{let e=this.realtimeVisualService.onWindowResize(this.windowWidth,this.windowHeight);this.setHeaderContainerHeightForRealtimeVisual(e)}this.selectedTrack.isGraphicsActive=!t}}initSoundCloudStreamer(){if(!this.musicStreamer.isInitialized){this.musicStreamer.init();var t=this.getStreamUrl(this._selectedTrack);""!=t&&this.musicStreamer.load(t,!1)}}playerUiInitialized(t){this.playerUiGainsDisabled=t}getStreamUrl(t){return t.soundcloudUrl}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}OnUiPlayOrPause(){switch(this.playState){case"Playing":this.pause();break;case"Paused":this.play();break;case"Stopped":this.playFromStart();break;default:return}}onUiNextTrack(){this.nextTrack(),this.playFromStart()}onUiTrackSelected(t){this.nextSelectedTrack=t,this.playFromStart()}playFromStart(){switch(this.logService.log("Info","playFromStart() in MusicService"),this.stop(),this._playState="Loading",this._selectedTrack=this.nextSelectedTrack,this.onWindowResize(this.windowWidth,this.windowHeight),this._selectedTrack.source){case"Youtube":this.youtubeService.playFromStart(this._selectedTrack);break;case"RealtimeVisual":this.playFromStartRealtimeVisual();break;case"Soundcloud":this.musicStreamer.playFromStart(this._selectedTrack);break;case"Local":this.playFromStartLocalPlayer()}}playFromStartRealtimeVisual(){this.playFromStartLocalPlayer()}playFromStartLocalPlayer(){this.soundManager.playFromStart(this._selectedTrack,this.playerUiGainsDisabled)}pause(){switch(this.logService.log("Info","pause() in MusicService"),this._selectedTrack.source){case"Youtube":this.youtubeService.pause();break;case"Soundcloud":this.musicStreamer.pause();break;case"RealtimeVisual":this.pauseRealtimeVisual();break;default:this.pauseLocalPlayer()}this._playState="Paused"}pauseRealtimeVisual(){this.realtimeVisualService.pause(),this.pauseLocalPlayer()}pauseLocalPlayer(){this.soundManager.instance.pause()}stop(){switch(this.logService.log("Info","stop() in MusicService"),this._selectedTrack.source){case"Soundcloud":this.musicStreamer.pause();break;case"RealtimeVisual":this.stopRealtimeVisual();break;case"Local":this.stopLocalPlayer();break;case"Youtube":this.youtubeService.pause()}this._playState="Stopped"}stopRealtimeVisual(){this.realtimeVisualService.pause(),this.stopLocalPlayer()}stopLocalPlayer(){this.soundManager.stop(this._selectedTrack),this.myTracks.instanceEndedListeners.forEach(t=>t(!1))}play(){switch(this._selectedTrack.source){case"Youtube":this.youtubeService.play();break;case"Soundcloud":this.musicStreamer.play();break;case"RealtimeVisual":this.playRealtimeVisualPlayer();break;default:this.playLocalPlayer()}}playRealtimeVisualPlayer(){this.realtimeVisualService.resume(),this.playLocalPlayer()}playLocalPlayer(){this.soundManager.play(),this._playState="Playing"}nextTrack(){let t;t=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index===this.tracks.length-1?0:this._selectedTrack.index+1,this.logService.log("Info","nextIndex",t),this.nextSelectedTrack=this.tracks[t]}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(t){this.soundManager.instance.masterGain=t,this.musicStreamer.volume=100*t,this.youtubeService.volume=100*t}get masterMuted(){return this.soundManager.instance.masterMuted}set masterMuted(t){this.soundManager.instance.masterMuted=t,this.musicStreamer.muted=t,this.youtubeService.muted=t}setVolumeAndMutedFromYoutubePlayer(){let t=this.youtubeService.volume;this.soundManager.instance.masterGain=t/100,this.musicStreamer.volume=t;let e=this.youtubeService.muted;this.soundManager.instance.masterMuted!==e&&(this.soundManager.instance.masterMuted=e,this.musicStreamer.muted=e)}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,t=>{this.onPlayed()}),this.addInstanceEndedListener(`${this.label} endedListener`,(t,e)=>{t&&this.NextTrackAndPlayFromStart(),this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0)})}NextTrackAndPlayFromStart(){this.nextTrack(),this.playFromStart()}onPlayed(){this._playState="Playing",this._playStateChangeListener(),"RealtimeVisual"===this._selectedTrack.source&&(this.realtimeVisualService.onWindowResize(this.windowWidth,this.windowHeight),this.realtimeVisualService.playFromStart())}addInstancePlayedListener(t,e){this.myTracks.instancePlayedListeners.set(t,e),this.musicStreamer.instancePlayedListeners.set(t,e),this.youtubeService.instancePlayedListeners.set(t,e)}addInstanceEndedListener(t,e){this.myTracks.instanceEndedListeners.set(t,e),this.musicStreamer.instanceEndedListeners.set(t,e),this.youtubeService.instanceEndedListeners.set(t,e)}addPlayStateChangeListener(t){this._playStateChangeListener=t}removeInstancePlayedListener(t){this.myTracks.instancePlayedListeners.delete(t)}removeInstanceEndedListener(t){this.myTracks.instanceEndedListeners.delete(t),this.musicStreamer.instanceEndedListeners.delete(t)}static#e=this.\u0275fac=function(e){return new(e||Yr)(F(Uo),F(vl),F(bl),F(_l),F(Bo),F(Cl),F(aD),F(Ps),F(xs),F(bi))};static#t=this.\u0275prov=ee({token:Yr,factory:Yr.\u0275fac,providedIn:"root"})}class vd{constructor(t,e,i){this.router=t,this.route=e,this.musicService=i,this.openedUiSeriesIndex=0,this.router.events.pipe(Yn(r=>r instanceof Dr)).subscribe(r=>{const s=r.urlAfterRedirects;if(s===this.urlEnd)this.selectedPost=this.defaultPost,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route});else{const o=this.getPost(s);o&&(this.selectedPost=o,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),this.onSeriesClick(o.seriesIndex),this.onPostClick(o))}}),this.musicService.toggleMinimizeMusicPlayer(!0)}ngAfterViewChecked(){this.musicService.toggleMinimizeMusicPlayer(!0)}ngOnDestroy(){this.musicService.toggleMinimizeMusicPlayer(!1)}onSeriesClick(t){this.openedUiSeriesIndex=t}onPostClick(t){this.selectedPost=t,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route})}static#e=this.\u0275fac=function(e){return new(e||vd)(S(yn),S(Mr),S(Yr))};static#t=this.\u0275cmp=Qe({type:vd,selectors:[["app-abstract-content-display"]],decls:0,vars:0,template:function(e,i){},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Os{constructor(){this.series=[];const t="FMOD";this.series.push({title:t,posts:[new bn("Batch Rename",ht.fmodBatchRename,t,new Date(2025,3,8)),new bn("Add keyboard shortcut for 'Scripts: Reload'",ht.fmodReloadShortcut,t,new Date(2025,8,10)),new bn("Setup the Unity game example",ht.fmodUnitySetup,t,new Date(2025,8,14)),new bn("Build All Banks / Platforms and also do custom a step",ht.fmodBuildAllPlatforms,t,new Date(2025,8,14))]});const e="ReaScripts for Cockos REAPER";this.series.push({title:e,posts:[new bn("Antonsson Scripts",ht.antonssonScripts,e,new Date(2025,7,6)),new bn("The Shipment Evaluator",ht.shipmentEvaluator,e,new Date(2025,7,6)),new bn("Rename selected tracks from clipboard lines of format 'oldName, newName'",ht.renameTracks,e,new Date(2025,7,6))]}),this.series.push({title:"Test-Focused Development",posts:[new bn("The What, How, Why and When",ht.tddWhatHowWhyWhen,"Test-Focused Development",new Date(2021,11,30),new Date(2023,10,13))]});const r="TDD-ing Avatar Health in C# and C++";this.series.push({title:r,posts:[new bn("Part 1&2 - The Avatar Health assignment","tdd-health/part2",r,new Date(2021,11,30),new Date(2023,10,13)),new bn("Part 3 - Implementation begins - C#",ht.tddHealthPart3,r,new Date(2021,11,30),new Date(2023,5,8)),new bn("Part 3 - Implementation begins - C++",ht.tddHealthPart3_Cpp,r,new Date(2023,5,8)),new bn("Part 4 - Taking Damage","tdd-health/part4",r,new Date(2022,0,4),new Date(2022,4,14)),new bn("Part 5 - The Dying part","tdd-health/part5",r,new Date(2022,1,1),new Date(2022,4,14)),new bn("Part 6 - The Replenishing part","tdd-health/part6",r,new Date(2022,4,9),new Date(2022,4,14)),new bn("Part 7 - The Increasing and Max part","tdd-health/part7",r,new Date(2022,4,14),new Date(2022,7,16)),new bn("Part 8 - Adding the Config","tdd-health/part8",r,new Date(2022,7,16))]});const s="TDD-ing Chess in C#";this.series.push({title:s,posts:[new bn("Part 1 - The Position - C#",ht.tddChessPart1,s,new Date(2023,9,23),new Date(2023,10,13))]}),this.series.push({title:"Lifting",posts:[new bn("Kg to Creature Calculator",ht.kgToCreature,t,new Date(2025,3,8)),new bn("J\xf3n P\xe1ll Sigmarsson and me",ht.jonAndMe,t,new Date(2025,3,8))]}),this.selectedPost=this.series[0].posts[0],this.posts=[];for(let l=0;l<this.series.length;l++)for(let c=0;c<this.series[l].posts.length;c++){const h=this.series[l].posts[c];h.index=c,h.seriesIndex=l,this.posts.push(h)}}get defaultPost(){return this.posts[0]}get urlEnd(){return"/blog"}getPost(t){return this.posts.find(e=>"/blog/"+e.routePath===t)}static#e=this.\u0275fac=function(e){return new(e||Os)};static#t=this.\u0275prov=ee({token:Os,factory:Os.\u0275fac,providedIn:"root"})}var ht=(()=>(function(n){n.tddWhatHowWhyWhen="tdd/what-how-why-when",n.tddHealthPart3="tdd-health/part3",n.tddHealthPart3_Cpp="tdd-health/part3-cpp",n.tddChessPart1="tdd-chess/part1-csharp",n.fmodUnitySetup="fmod/unity-game-example",n.fmodBatchRename="fmod/batch-rename",n.fmodReloadShortcut="fmod/reload-shortcut",n.fmodBuildAllPlatforms="fmod/build-all-banks",n.antonssonScripts="rea-scripts/antonsson-scripts",n.renameTracks="rea-scripts/rename-selected-tracks-from-clipboard-lines-of-format-oldname-newname",n.shipmentEvaluator="rea-scripts/shipment-evaluator",n.kgToCreature="lifting/kg-to-creature-calculator",n.jonAndMe="lifting/jan-pall-sigmarsson-and-me"}(ht||(ht={})),ht))();class bn{constructor(t,e,i,r,s){this.title=t,this.routePath=e,this.seriesTitle=i,this.publishedDate=r,this.updatedDate=s}toString(){return this.title+" - "+this.routePath+" - "+this.seriesTitle+" - "+this.publishedDate.toLocaleDateString()+(this.updatedDate?" - "+this.updatedDate.toLocaleDateString()+'index: "'+this.index+'"':"")}}const cD=function(n){return{nodeSelected:n}};function F3(n,t){if(1&n){const e=Co();u(0,"div",8),gt("click",function(){const s=Ws(e).$implicit;return qs(Fe(3).onPostClick(s))}),a(1),d()}if(2&n){const e=t.$implicit,i=Fe(3);C("ngClass",yr(2,cD,e===i.selectedPost)),b(1),Ue(" ",e.title," ")}}function N3(n,t){if(1&n&&(u(0,"div",6),Pe(1,F3,2,4,"div",7),d()),2&n){const e=Fe().$implicit;b(1),C("ngForOf",e.posts)}}const V3=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function U3(n,t){if(1&n){const e=Co();u(0,"div")(1,"div",2),gt("click",function(){const s=Ws(e).index;return qs(Fe().onSeriesClick(s))}),u(2,"div",3),m(3,"div",4),d(),u(4,"span",4),a(5),d()(),Pe(6,N3,2,1,"div",5),d()}if(2&n){const e=t.$implicit,i=t.index,r=Fe();b(3),C("ngClass",yu(4,V3,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),b(1),C("ngClass",yr(7,cD,e.title===r.selectedPost.seriesTitle)),b(1),Se(e.title),b(1),C("ngIf",r.openedUiSeriesIndex===i)}}class bd extends vd{constructor(t,e,i,r){super(e,i,r),this.blogService=t}get series(){return this.blogService.series}getPost(t){return this.blogService.getPost(t)}get defaultPost(){return this.blogService.defaultPost}get urlEnd(){return this.blogService.urlEnd}get selectedPost(){return this.blogService.selectedPost}set selectedPost(t){this.blogService.selectedPost=t}static#e=this.\u0275fac=function(e){return new(e||bd)(S(Os),S(yn),S(Mr),S(Yr))};static#t=this.\u0275cmp=Qe({type:bd,selectors:[["app-blog-content-display"]],features:[ve],decls:2,vars:1,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(u(0,"div",0),Pe(1,U3,7,9,"div",1),d()),2&e&&(b(1),C("ngForOf",i.series))},dependencies:[Za,Xa,An],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class wd{static#e=this.\u0275fac=function(e){return new(e||wd)};static#t=this.\u0275cmp=Qe({type:wd,selectors:[["app-blog"]],decls:4,vars:0,template:function(e,i){1&e&&(u(0,"h2"),a(1,"The Blog"),d(),m(2,"app-blog-content-display")(3,"router-outlet"))},dependencies:[od,bd],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}const H3=["trackGraphicContainer"],B3=["canvas0"],j3=["canvas1"],G3=["canvas2"],$3=["canvas3"],z3=["topLine"],uD=function(n){return{nodeSelected:n}};function W3(n,t){if(1&n){const e=Co();u(0,"div",24),gt("click",function(){const s=Ws(e).$implicit;return qs(Fe(3).onTrackClick(s))}),a(1),d()}if(2&n){const e=t.$implicit,i=Fe(3);C("ngClass",yr(2,uD,e.name===i.selectedTrack.name)),b(1),Ue(" ",e.name," ")}}function q3(n,t){if(1&n&&(u(0,"div",22),Pe(1,W3,2,4,"div",23),d()),2&n){const e=Fe().$implicit;b(1),C("ngForOf",e.tracks)}}const K3=function(n,t){return{branchAnimateClose:n,branchAnimateOpen:t}};function Y3(n,t){if(1&n){const e=Co();u(0,"div")(1,"div",17),gt("click",function(){const s=Ws(e).index;return qs(Fe().onByClick(s))}),u(2,"div",18),m(3,"div",19),d(),u(4,"span",20),a(5),d()(),Pe(6,q3,2,1,"div",21),d()}if(2&n){const e=t.$implicit,i=t.index,r=Fe();b(3),C("ngClass",yu(4,K3,r.openedUiByIndex!=i,r.openedUiByIndex===i)),b(1),C("ngClass",yr(7,uD,r.selectedTrack.artistName===e.name)),b(1),Se(e.name),b(1),C("ngIf",r.openedUiByIndex===i)}}function J3(n,t){if(1&n&&(u(0,"div")(1,"figure"),m(2,"img",25),d()()),2&n){const e=Fe();b(2),fn("src",e.selectedTrack.artworkPath,vs),ep("alt","Artwork for ",e.selectedTrack.name," by ",e.selectedTrack.artistName,"")("title","Artwork for ",e.selectedTrack.name," by ",e.selectedTrack.artistName,"")}}function Q3(n,t){if(1&n&&(u(0,"span",26)(1,"a",27),m(2,"img",28),d()()),2&n){const e=Fe();b(1),fn("href",e.selectedTrack.bandcampUrl,vs),b(1),Ds("alt","Play ",e.selectedTrack.name," on Bandcamp")("title","Play ",e.selectedTrack.name," on Bandcamp")}}function Z3(n,t){if(1&n&&(u(0,"span",29)(1,"a",27),m(2,"img",30),d()()),2&n){const e=Fe();b(1),fn("href",e.selectedTrack.qobuzUrl,vs),b(1),Ds("alt","Play ",e.selectedTrack.name," on Bandcamp")("title","Play ",e.selectedTrack.name," on Bandcamp")}}function X3(n,t){if(1&n&&(u(0,"span",31)(1,"a",27),m(2,"img",32),d()()),2&n){const e=Fe();b(1),fn("href",e.selectedTrack.soundcloudUrl,vs),b(1),Ds("alt","Play ",e.selectedTrack.name," on SoundCloud")("title","Play ",e.selectedTrack.name," on SoundCloud")}}function eV(n,t){if(1&n&&(u(0,"span",31)(1,"a",27),m(2,"img",33),d()()),2&n){const e=Fe();b(1),fn("href",e.selectedTrack.spotifyUrl,vs),b(1),Ds("alt","Play ",e.selectedTrack.name," on Spotify")("title","Play ",e.selectedTrack.name," on Spotify")}}function tV(n,t){if(1&n&&(u(0,"div"),m(1,"div",7),u(2,"h3"),a(3),d(),m(4,"p",34),d()),2&n){const e=Fe();b(3),Ue("About ",e.selectedTrack.name,""),b(1),C("innerHTML",e.selectedTrack.about,oe)}}function nV(n,t){if(1&n&&(u(0,"div"),m(1,"div",7),u(2,"h3"),a(3,"Lyrics"),d(),m(4,"p",34),d()),2&n){const e=Fe();b(4),C("innerHTML",e.selectedTrack.lyrics,oe)}}function iV(n,t){if(1&n&&(u(0,"div"),m(1,"div",7),u(2,"h3"),a(3),d(),m(4,"p",34),d()),2&n){const e=Fe();b(3),Ue("About ",e.selectedTrack.artistName,""),b(1),C("innerHTML",e.selectedTrack.artistAbout,oe)}}class El{constructor(t,e,i,r){this.musicService=t,this.logService=e,this.route=i,this.location=r,this.label="MusicPage",this.drawVisuals=[],this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.currentCanvasNr=0,this.canvasNrAscending=!1,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=-1}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}get selectedTrackAsYoutubeTrack(){return this.musicService.selectedTrack}ngOnInit(){this.route.paramMap.subscribe(t=>{const e=t.get("trackName");null!==e?this.musicService.setSelectTrackByRootUrl(e):this.replaceUrlState()}),this.musicService.addInstancePlayedListener(this.playedListenerName,t=>{const e=this.getNextCanvas(),i=this.tryGetCanvasContext(e);i&&t&&this.visualize(t,e,i,this.drawVisuals),this.replaceUrlState()}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.clearVisuals()}),this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}replaceUrlState(){this.location.replaceState(`${this.musicService.urlPathRoot}${this.selectedTrack.rootUrl}`)}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}onTrackClick(t){"Loading"!==this.musicService.playState?this.musicService.onUiTrackSelected(t):this.logService.log("Info","MusicPage onTrackClick: is loading, returning without processing")}onByClick(t){this.openedUiByIndex=this.openedUiByIndex===t?-1:t}get layerText(){if(this.musicService.selectedTrack instanceof yl&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const t=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(t[t.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}tryGetCanvasContext(t){const e=t.nativeElement.getContext("2d");return e||this.logService.log("Error",'"canvasContext" was "null"'),e}visualize(t,e,i,r){const s=t.analyzerNode;s.fftSize=2048;const o=s.fftSize,l=new Uint8Array(o),c=e.nativeElement.width,h=e.nativeElement.height;i.clearRect(0,0,c,h),e.nativeElement.classList.remove("hide");const f=()=>{r.push(requestAnimationFrame(f)),s.getByteTimeDomainData(l),i.fillStyle="#111",i.fillRect(0,0,c,h),i.lineWidth=3,i.strokeStyle="#B9CA4A",i.beginPath();const p=1*c/o;let g=0;for(let y=0;y<o;y++){const w=l[y]/128*h/2;0===y?i.moveTo(g,w):i.lineTo(g,w),g+=p}i.lineTo(c,h/2),i.stroke()};f()}clearVisuals(){this.drawVisuals.forEach(t=>{window.cancelAnimationFrame(t)}),this.drawVisuals=[],this.canvases.forEach(t=>{this.tryGetCanvasContext(t)?.clearRect(0,0,t.nativeElement.width,t.nativeElement.height),t.nativeElement.classList.add("hide")}),this.currentCanvasNr=1,this.canvasNrAscending=!1}static#e=this.\u0275fac=function(e){return new(e||El)(S(Yr),S(bi),S(Mr),S(Ya))};static#t=this.\u0275cmp=Qe({type:El,selectors:[["app-music-page"]],viewQuery:function(e,i){if(1&e&&(Lt(H3,5),Lt(B3,7),Lt(j3,7),Lt(G3,7),Lt($3,7),Lt(z3,7)),2&e){let r;wt(r=_t())&&(i.trackGraphicContainerElement=r.first),wt(r=_t())&&(i.canvas0=r.first),wt(r=_t())&&(i.canvas1=r.first),wt(r=_t())&&(i.canvas2=r.first),wt(r=_t())&&(i.canvas3=r.first),wt(r=_t())&&(i.topLine=r.first)}},features:[bt([Ya,{provide:Ur,useClass:Bp}])],decls:34,vars:9,consts:[[1,"canvas","hide"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"horizontalLine"],[1,"trackGraphicContainer"],["trackGraphicContainer",""],[4,"ngIf"],[1,"buttonContainer"],["class","iconButton bgGradientQobuzBlue",4,"ngIf"],["class","iconButton bgGradientBlueQobuz",4,"ngIf"],["class","iconButton bgGradientGray",4,"ngIf"],[1,"trackRightContainer"],[1,"trackRightInner"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[1,"branchIcon",3,"ngClass"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"image",3,"src","alt","title"],[1,"iconButton","bgGradientQobuzBlue"],["target","\u201d_blank\u201d",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/0/06/Bandcamp-logotype-light.svg",1,"spotifyIcon",3,"alt","title"],[1,"iconButton","bgGradientBlueQobuz"],["src","https://upload.wikimedia.org/wikipedia/commons/1/17/New_logo_qobuz_2015.jpg",1,"spotifyIcon",3,"alt","title"],[1,"iconButton","bgGradientGray"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Soundcloud_logo.svg",1,"soundcloudIcon",3,"alt","title"],["src","https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg ",1,"spotifyIcon",3,"alt","title"],[3,"innerHTML"]],template:function(e,i){1&e&&(u(0,"div"),m(1,"canvas",0,1)(3,"canvas",0,2)(5,"canvas",0,3)(7,"canvas",0,4),d(),u(9,"div",5),Pe(10,Y3,7,9,"div",6),d(),m(11,"div",7),u(12,"div",8,9),Pe(14,J3,3,5,"div",10),u(15,"div",11),Pe(16,Q3,3,3,"span",12),Pe(17,Z3,3,3,"span",13),Pe(18,X3,3,3,"span",14),Pe(19,eV,3,3,"span",14),d(),a(20," Click on the buttons above to buy (via "),u(21,"i"),a(22,"Bandcamp"),d(),a(23," and/or "),u(24,"i"),a(25,"Qubuz"),d(),a(26,") or stream the track on the respective service."),m(27,"br")(28,"br"),Pe(29,tV,5,2,"div",10),d(),u(30,"div",15)(31,"div",16),Pe(32,nV,5,1,"div",10),Pe(33,iV,5,2,"div",10),d()()),2&e&&(b(10),C("ngForOf",i.byTracks),b(4),C("ngIf",""!==i.selectedTrack.artworkPath),b(2),C("ngIf",""!==i.selectedTrack.bandcampUrl),b(1),C("ngIf",""!==i.selectedTrack.qobuzUrl),b(1),C("ngIf",""!==i.selectedTrack.soundcloudUrl),b(1),C("ngIf",""!==i.selectedTrack.spotifyUrl),b(10),C("ngIf",""!==i.selectedTrack.about),b(3),C("ngIf",""!==i.selectedTrack.lyrics),b(1),C("ngIf",""!==i.selectedTrack.artistAbout))},dependencies:[Za,Xa,An],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid var(--colorGrayLight);border-radius:.3em}.trackGraphicContainer[_ngcontent-%COMP%]{float:left;width:50%}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.trackRightContainer[_ngcontent-%COMP%]{float:right;width:50%}.trackRightInner[_ngcontent-%COMP%]{float:left;margin-left:2%}.iconButton[_ngcontent-%COMP%]{width:100px;height:30px;border:1px solid var(--colorGrayDarkMed);border-radius:1em;text-align:center;padding-top:3px;margin-left:1em;margin-right:1em}.bgGradientQobuzBlue[_ngcontent-%COMP%]{background:linear-gradient(180deg,var(--colorBlueLightQobuz) 0%,var(--colorBlueDarkQobuz) 100%)}.spotifyIcon[_ngcontent-%COMP%]{height:90%;width:80%}.soundcloudIcon[_ngcontent-%COMP%]{height:90%;width:96%}.IconLink[_ngcontent-%COMP%]{vertical-align:middle}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0;left:0;width:72px;height:72px;opacity:0}}@media screen and (max-width: 451px){.trackGraphicContainer[_ngcontent-%COMP%], .trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}.trackRightContainer[_ngcontent-%COMP%]{width:102%}}@media screen and (min-width: 452px) and (max-width: 703px){.canvas[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;width:96%}.trackGraphicContainer[_ngcontent-%COMP%], .trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}.trackRightContainer[_ngcontent-%COMP%]{width:102%}}@media screen and (min-width: 704px) and (max-width: 1053px){.trackGraphicContainer[_ngcontent-%COMP%]{width:100%}.canvas[_ngcontent-%COMP%]{margin-left:4%;margin-right:4%;width:92%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:102%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.canvas[_ngcontent-%COMP%]{margin-left:6%;margin-right:6%;width:88%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.canvas[_ngcontent-%COMP%]{margin-left:8%;margin-right:8%;width:84%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 2001px){.canvas[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}"]})}class _d{static#e=this.\u0275fac=function(e){return new(e||_d)};static#t=this.\u0275cmp=Qe({type:_d,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,i){1&e&&(u(0,"h1"),a(1,"Page not found for this url"),d())},encapsulation:2})}class Qt{constructor(t){this.blogService=t}get post(){return this.blogService.selectedPost}get publishedDateToString(){return this.dateToString(this.post.publishedDate)}get hasUpdatedDate(){return void 0!==this.post.updatedDate}get updatedDateToString(){return void 0===this.post.updatedDate?"":this.dateToString(this.post.updatedDate)}dateToString(t){const i=new Xp("en-US").transform(t,"YYYY MMM dd");return null===i?"":i}usingUnity(t){return`<h2>Using Unity</h2>\n\t\t<p>\n\t\t\tI will use <a href="https://unity.com">Unity</a> and its packages  <a href="https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html" target="_blank">Test Framework</a>, a Unity integration of the <a href="https://nunit.org" target="_blank">NUnit</a> framework, and <a href="https://docs.unity3d.com/Packages/com.unity.testtools.codecoverage@1.2/manual/index.html" target="_blank">Code Coverage</a> analysis tool. Other C# .NET framework could be used instead, but Unity was the handiest for me to use. The whole project is on <a href="${t}">GitHub</a>.</p>`}get setup(){return'<h2>Setup</h2>\n<p>\n\tI create a new Unity project (3D). Both packages <i>Test Framework</i> and <i>Code Coverage</i> are already installed as they are part of the already installed <i>Engineering</i> feature set. The package <a href="https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html">doc</a> detail how to setup tests for a project. My project structure starts simple:\n</p>\n<ul class="list inline">\n\t<li>Test code: <i>Scripts/Tests/EditMode/[ClassName]Test.cs</i></li>\n\t<li>Production code: <i>Scripts/Runtime/[ClassName].cs</i></li>\n</ul>\n<p>\n\tAs the folder structure implies I\'ll do <i>EditMode</i> tests for the <i>Runtime</i> production code. My main reasons to prefer <i>EditMode</i> (over <i>PlayMode</i>) tests are:\n</p>\n<ul class="list inline">\n\t<li>They run faster as there is no PlayMode startup cost (in line with <i>What is a good Unit Test</i> section in <a href="./blog/tdd-health/part1">Part 1</a>)</li>\n\t<li>Tests for the domain logic should not need the <i>PlayMode</i> test feature to run as <a href="https://docs.unity3d.com/Manual/Coroutines.html">Coroutine</a> to wait or step through frames."</li>\n</ul>\n<p>\n\tThe doc <a href="https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html">EditMode vs. PlayMode tests</a> explains the difference further.\n</p>'}get aboutCodeHtml(){return'<h2>The code</h2>\n<p>\n\tThe code shown below is focused on the current cycle step, thus only showing the relevant lines\t.<br>\n\tThe complete code and the Unity project is on <a href="https://github.com/EgillAntonsson/tdd-avatar-health-in-unity">GitHub</a>.\n</p>'}get completeRequirementListHtml(){return'<sup>The complete requirement list from the user perspective is in <a href="./blog/tdd-health/part2">Part 2</a></sup>'}get rewordRequirement(){return"Let's reword this focusing on the domain model and using its terminology:"}static#e=this.\u0275fac=function(e){return new(e||Qt)(S(Os))};static#t=this.\u0275cmp=Qe({type:Qt,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,i){1&e&&(u(0,"h1"),a(1,"base class template not used"),d())},encapsulation:2})}class Ml extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Ml)))(i||Ml)}}();static#t=this.\u0275cmp=Qe({type:Ml,selectors:[["app-post-fmod-batch-rename"]],features:[ve],decls:27,vars:3,consts:[[1,"byAndDate"],["controls","","width","640","height","360","title","FMOD Batch Rename",1,"image"],["src","../assets/videos/blog-fmod-batch-rename.mp4","type","video/mp4","alt","FMOD Batch Rename"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"h2"),a(11,"The Why"),d(),u(12,"p"),a(13," To quickly rename multiple events at once, especially if you have a lot of them and want to keep your project organized.\n"),d(),u(14,"h2"),a(15,"The How"),d(),u(16,"p"),a(17," Here's a short video showing how to batch rename events by using the "),u(18,"i"),a(19,"Batch Rename"),d(),a(20," script that comes bundled with FMOD Studio. Zoom in or fullscreen the video for better visibility.\n"),d(),u(21,"figure")(22,"video",1),m(23,"source",2),a(24," Your browser does not support the video tag. "),d(),u(25,"figcaption"),a(26,"FMOD Batch Rename: Learn how to batch rename events in FMOD Studio"),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Tl extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Tl)))(i||Tl)}}();static#t=this.\u0275cmp=Qe({type:Tl,selectors:[["not-using"]],features:[ve],decls:108,vars:3,consts:[[1,"byAndDate"],["href","https://www.reaper.fm"],["href","http://www.reapack.com"],["href","https://github.com/cfillion/"],[1,"list","inline"],["href","https://reapack.com/user-guide#installation"],["href","https://raw.githubusercontent.com/EgillAntonsson/REAPER-ReaScripts/refs/heads/master/index.xml"],["src","../assets/images/reapack-repos.png","title","Reapack repositories","alt","Reapack repositories",1,"image"],["href","./blog/rea-scripts/shipment-evaluator"],["href","./blog/rea-scripts/rename-selected-tracks-from-clipboard-lines-of-format-oldname-newname"],["href","https://github.com/EgillAntonsson/REAPER-ReaScripts/tree/master"],["href","https://github.com/cfillion/reapack-repository-template"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"p"),a(11," These are my scripts for "),u(12,"a",1),a(13,"REAPER"),d(),a(14," DAW (Digital Audio Workstation).\n"),d(),u(15,"h2"),a(16,"How to get my scripts in REAPER"),d(),u(17,"p"),a(18," The best way to get the scripts is via the "),u(19,"a",2),a(20,"ReaPack"),d(),a(21," REAPER extension, the package manager for REAPER made by "),u(22,"a",3),a(23,"cfillion"),d(),a(24,"..\n"),d(),u(25,"ol",4)(26,"li"),a(27,"Install "),u(28,"a",5),a(29,"ReaPack"),d()(),u(30,"li"),a(31,"In REAPER click menu item "),u(32,"i"),a(33,"Extensions > ReaPack > Manage repositories..."),d()(),u(34,"li"),a(35,"Click "),u(36,"i"),a(37,"Import/export... > Import repositories"),d()(),u(38,"li"),a(39,"Insert as text: "),u(40,"a",6),a(41,"https://raw.githubusercontent.com/EgillAntonsson/REAPER-ReaScripts/refs/heads/master/index.xml"),d()()(),u(42,"figure"),m(43,"img",7),u(44,"figcaption"),a(45,"Reapack repositories, you should see "),u(46,"i"),a(47,"Antonsson Scripts"),d(),a(48," name in the list."),d()(),u(49,"p"),a(50," You easily make ReaPack check for updates and install them with menu item "),u(51,"i"),a(52,"Extensions > ReaPack > Synchronize packages"),d(),a(53,"."),m(54,"br"),a(55," I recommend making sure that new packages are always installed by clicking "),u(56,"i"),a(57,"Options..."),d(),a(58," and checkmark "),u(59,"i"),a(60,"install new packages when synchronizing"),d(),a(61,".\n"),d(),u(62,"h2"),a(63,"How to use"),d(),u(64,"h3"),a(65,"The FX Plugins"),d(),u(66,"p"),a(67," Add it to a Track or Item by doing the "),u(68,"i"),a(69,"Add FX..."),d(),a(70," step on and search for the name of the FX, e.g. "),u(71,"i"),a(72,"Shipment Evaluator"),d(),a(73,". Play and be flabbergasted by the result. Below is the list, click for further info:\n"),d(),u(74,"ul",4)(75,"li")(76,"a",8),a(77,"--\x3e> The Shipment Evaluator <<--"),d()()(),u(78,"h3"),a(79,"The Scripts"),d(),u(80,"p"),a(81," Open the "),u(82,"i"),a(83,"Actions"),d(),a(84," window by pressing key '?' or via menu item "),u(85,"i"),a(86,"Actions > Show Action list..."),d(),a(87," and search for the script name, or "),u(88,"i"),a(89,"'antonsson_'"),d(),a(90," as they all have this prefix. Run it by double clicking and be flabbergasted by the result. Below is the list, click for further info:\n"),d(),u(91,"ul",4)(92,"li")(93,"a",9),a(94,"Rename selected tracks from clipboard lines of format 'oldName, newName'"),d()()(),u(95,"h2"),a(96,"The source code"),d(),u(97,"p"),a(98," The source code is in "),u(99,"a",10),a(100,"REAPER-ReaScripts"),d(),a(101," GitHub repository, that I created from the "),u(102,"a",11),a(103,"Reapack repository template"),d(),a(104," by "),u(105,"a",3),a(106,"cfillion"),d(),a(107,". I also link to the specific code within each blog post, so you can easily find the code that corresponds to the Script or FX Plugin.\n"),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Sl extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Sl)))(i||Sl)}}();static#t=this.\u0275cmp=Qe({type:Sl,selectors:[["not-using"]],features:[ve],decls:78,vars:3,consts:[[1,"byAndDate"],["controls","","width","640","height","360","title","Rename selected tracks from clipboard lines of format 'oldname, newname'",1,"image"],["src","../assets/videos/rename-selected-tracks-from-clipboard-lines-of-format-oldname-newname.mp4","type","video/mp4","alt","Rename selected tracks from clipboard lines of format 'oldname, newname'"],[1,"list","inline"],["href","https://github.com/EgillAntonsson/REAPER-ReaScripts/blob/master/Tracks%20Properties/antonsson_Rename%20selected%20tracks%20from%20clipboard%20lines%20of%20format%20'oldName%2C%20newName'.lua"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"h2"),a(11,"Video showcasing this Script"),d(),u(12,"figure")(13,"video",1),m(14,"source",2),a(15," Your browser does not support the video tag. "),d(),u(16,"figcaption"),a(17,"Rename selected tracks from clipboard lines usage example"),d()(),u(18,"p"),a(19," You can "),u(20,"i"),a(21,"Undo"),d(),a(22," this action afterwards if needed. The text input format should be in the CVS format 'oldName, newName' (without a header line), the text below was used in the video:\n"),d(),u(23,"p")(24,"code"),a(25,"\noldName, newName"),m(26,"br"),a(27,"\nsay_old_stuff, say_new_stuff\n"),d()(),u(28,"h2"),a(29,"Dependencies"),d(),u(30,"p"),a(31," The script uses these dependencies and will notify at execution start if they are not met.\n"),d(),u(32,"ul",3)(33,"li"),a(34,"REAPER minimum version: 6.24"),d(),u(35,"li"),a(36,"ReaPack extension (latest version)"),d(),u(37,"li"),a(38,"SWS/S&M extension (latest version)"),d()(),u(39,"p"),a(40," Here is the "),u(41,"a",4),a(42,"source code"),d(),a(43,".\n"),d(),u(44,"h2"),a(45,"When to use"),d(),u(46,"h3"),a(47,"Processing "),u(48,"i"),a(49,"Voice Over"),d(),a(50," for all characters in a video game"),d(),u(51,"p"),a(52," A narrative driven game will have a lot of Voice Over lines. Given the below workflow is used:\n"),d(),u(53,"ol",3)(54,"li"),a(55,"Each text line has been assigned a unique "),u(56,"i"),a(57,"key"),d(),a(58," that will be the filename of each "),u(59,"i"),a(60,".wav"),d(),a(61," file that corresponds to each Voice Over line in the game"),d(),u(62,"li"),a(63,"The "),u(64,"i"),a(65,"REAPER"),d(),a(66," project is set up that each Track has the "),u(67,"i"),a(68,"key"),d(),a(69," name, and then each track is batch Rendered with the filename wildcard "),u(70,"i"),a(71,"$track"),d(),a(72,"."),d()(),u(73,"p"),a(74," If changing a huge number of existing "),u(75,"i"),a(76,"key"),d(),a(77," is needed then the script can batch update the corresponding Tracks in one go, both saving time and minimizing errors.\n"),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Il extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Il)))(i||Il)}}();static#t=this.\u0275cmp=Qe({type:Il,selectors:[["not-using"]],features:[ve],decls:35,vars:3,consts:[[1,"byAndDate"],["controls","","width","640","height","360","title","Shipment Evaluator",1,"image"],["src","../assets/videos/shipment-evaluator.mp4","type","video/mp4","alt","Shipment Evaluator"],["href","https://github.com/EgillAntonsson/REAPER-ReaScripts/blob/master/Utility/antonsson_Shipment%20Evaluator.jsfx"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"h2"),a(11,"Video showcasing this FX Plugin"),d(),u(12,"figure")(13,"video",1),m(14,"source",2),a(15," Your browser does not support the video tag. "),d(),u(16,"figcaption"),a(17,"Shipment Evaluator usage example"),d()(),u(18,"h2"),a(19,"Disclaimer"),d(),u(20,"p"),a(21,' Use this plugin is on your own risk as it goes to 11 and provides a powerful encouragement to "SHIP IT !"'),m(22,"br"),a(23," Thus you need to be careful about when to use it (e.g. when making the video for this blogpost I almost shipped the song too soon! )."),m(24,"br"),a(25,' The evaluation result will always be "SHIP IT !" and no AI is used.'),m(26,"br"),a(27," This plugin does no audio processing."),m(28,"br"),a(29," No humans were harmed in the making of this plugin.\n"),d(),u(30,"p"),a(31," Here is the "),u(32,"a",3),a(33,"source code"),d(),a(34,".\n"),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function rV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class kl extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(kl)))(i||kl)}}();static#t=this.\u0275cmp=Qe({type:kl,selectors:[["app-post-tdd-1"]],features:[ve],decls:344,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition","target","_blank"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-10/point-18329-140-147-0","target","_blank"],[1,"list"],["href","https://romainbrunie.medium.com/f-i-r-s-t-principles-4eec4b9c1cde","target","_blank"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-10/38"],[1,"list","inline"],["src","../assets/images/blog/tdd/what/unit-of-work-with-3-exit-points-triangle.svg","alt","Unit of Work with all 3 exit point types","title","Unit of Work with all 3 exit point types",1,"imageSmallTextNoBorder"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-10/point-18331-89-89-0","target","_blank"],["href","https://livebook.manning.com/book/functional-programming-in-scala-second-edition/","target","_blank"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-10/206","target","_blank"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://www.oreilly.com/library/view/clean-code-a/9780136083238/","target","_blank"],["src","../assets/images/blog/tdd/what/tdd-red-green-refactor.svg","alt","TDD: RED GREEN REFACTOR","title","TDD: RED GREEN REFACTOR",1,"imageSmallTextNoBorder"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","http://thecleancoder.blogspot.com/2010/10/craftsman-62-dark-path.html","target","_blank"],["href","https://osherove.com/blog/2007/10/8/the-various-meanings-of-tdd.html","target","_blank"],["href","https://www.goodreads.com/book/show/387190.Test_Driven_Development","target","_blank"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],[1,"horizontalLine"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,rV,2,1,"small",1),d(),u(11,"h2"),a(12,"The What and How"),d(),u(13,"p"),a(14," Test-Focused Development is a broad term that encompasses a variety of methodologies that prioritize writing unit tests as a significant part of the development process. The main methodology and skill is Test-Driven Development (TDD) that focuses on "),u(15,"i"),a(16,"when"),d(),a(17," to write unit tests, thus there are 2 underlying skills needed to be applied as well to reap the benefits of TDD / Test-Focused Development: Writing "),u(18,"b"),a(19,"Good"),d(),a(20," unit tests and designing "),u(21,"b"),a(22,"Good"),d(),a(23," architecture. Let's go through these 3 skills.\n"),d(),u(24,"h2"),a(25,"Good unit test"),d(),u(26,"p"),a(27," The book "),u(28,"a",2),a(29,"The Art of Unit testing, 3rd edition"),d(),a(30," by "),u(31,"b"),a(32,"Roy Osherove"),d(),a(33," focuses on writing good unit tests and I recommend reading it. Below is summarized definitions in the 1st chapter of his book (I rephrased a bit and add some of my own thoughts).\n"),d(),u(34,"h3")(35,"a",3),a(36,"Good automated test"),d(),a(37," (not just unit test)"),d(),u(38,"ul",4)(39,"li"),a(40,"Should be easy to read and understand and to write."),d(),u(41,"li"),a(42,"Should always return the same result if you don't change anything between test runs."),d(),u(43,"li"),a(44,"Should be useful and provide actionable results."),d(),u(45,"li"),a(46,"Anyone should be able to run it at the push of a button."),d(),u(47,"li"),a(48,"When it fails, it should be easy to detect what was expected and pinpoint the problem."),d(),u(49,"li"),a(50,"Should be Self validating / it passes or fail without manual interpretation (the 'S' in "),u(51,"a",5),a(52,"F.I.R.S.T "),d(),a(53,")."),d()(),u(54,"h3")(55,"a",3),a(56,"Good unit test"),d()(),u(57,"ul",4)(58,"li"),a(59,"Should run fast and frequently. Slow runs will lead to less frequent runs, that will lead to problems found out late and thus harder to fix, that leads to code rot (the 'F' in F.I.R.S.T)."),d(),u(60,"li"),a(61,"Should have the control of the code under test that is needed to write all meaningful test cases."),d(),u(62,"li"),a(63,"Should be fully independently / isolated from of other tests (the 'I' in F.I.R.S.T)."),d(),u(64,"li"),a(65,"Should run in memory without requiring system files, networks or databases, and be Repeatable in any environment (the 'R' in F.I.R.S.T)"),d(),u(66,"li"),a(67,"Should be as synchronous and linear as possible, i.e. no parallel threads if possible."),d()(),u(68,"h3")(69,"a",6),a(70,"Unit of Work"),d()(),u(71,"p"),a(72," A "),u(73,"i"),a(74,"Unit of Work"),d(),a(75," is the sum of actions that take place between the invocation of an "),u(76,"i"),a(77,"Entry Point"),d(),a(78," (what is triggered) up until a noticeable end result through one or more "),u(79,"i"),a(80,"Exit Points"),d(),a(81,".\n"),d(),u(82,"p"),a(83," Given a publicly visible function:\n"),d(),u(84,"ul",7)(85,"li"),a(86,"The function's body is all or part of the "),u(87,"i"),a(88,"Unit of Work"),d(),a(89,"."),d(),u(90,"li"),a(91,"The function's declaration and signature are the "),u(92,"i"),a(93,"Entry Point"),d(),a(94," into the body."),d(),u(95,"li"),a(96,"The resulting outputs or behaviors of the function are its "),u(97,"i"),a(98,"Exit Points"),d(),a(99,"."),d()(),u(100,"figure"),m(101,"img",8),u(102,"figcaption")(103,"a",9),a(104,"Unit of Work with all 3 exit point types"),d()()(),u(105,"h4"),a(106,"The 3 types of Exit Points"),d(),u(107,"p"),a(108," A good unit test should check only one of the 3 types of Exit Points. The 3 types are:\n"),d(),u(109,"p")(110,"b"),a(111,"Return value"),d(),a(112," is the easiest to test. You trigger an entry point, you get something back, you check the value you get back. A function with only this type of exit point aligns with the "),u(113,"a",10),a(114,"Functional programming"),d(),a(115," (FP) principle of having "),u(116,"i"),a(117,"pure functions"),d(),a(118," i.e. functions that have no side effects (the other types of entry points).\n"),d(),u(119,"p")(120,"b"),a(121,"State change"),d(),a(122," that is noticeable (and public / external) usually require more effort. You call something that triggers the state change, then you check that the state has changed. An example is a method of a class that changes the value of its public property (a function with side-effects).\n"),d(),u(123,"p")(124,"b"),a(125,"Dependency call"),d(),a(126," is the hardest to test as it likely interferes with our tests in one or more of the following way: the tests are hard to write and run, maintain, keep consistent / not brittle, and run fast. Some examples: loggers that write to files, code communicating to the network, code controlled by other teams, code that takes a very long time (calculations, threads, database access). This forces us to isolate the code under test from the dependency by using Fake techniques (described when they occur in other blog posts).\n"),d(),u(127,"h3")(128,"a",11),a(129,"Good unit test summarized"),d()(),u(130,"p"),a(131," A Good unit test focuses on a observable and meaningful requirement of the "),u(132,"i"),a(133,"Unit of Work"),d(),a(134," and invokes it through an "),u(135,"i"),a(136,"Entry Point"),d(),a(137,", and then checks one of its "),u(138,"i"),a(139,"Exit Points"),d(),a(140,". It can be written easily and runs quickly. "),u(141,"b"),a(142,"It's trustworthy, readable & maintainable. It is consistent as long as the production code we control has not changed."),d()(),u(143,"p"),a(144," Most of the tests should be checking return values or state change, thus avoiding checking dependencies as they complicate and worsen the maintainability of the tests. Thus if a function has both a return value and a dependency call, prefer to only check the return value (checking also the dependency likely provides less value, e.g. checking the log output vs the actual calculation). Furthermore you should avoid introducing dependencies into the unit of work (and even state change) to begin with. This aligns with both Object Oriented (OO) and FP principles to strive to minimize dependencies.\n"),d(),u(145,"h2"),a(146,"Good code architecture"),d(),u(147,"p"),a(148," Designing good code architecture is a fundamental skill and valuable on its own, but it is also needed to be applied to reap the benefits of Test-Focused Development. This also goes the other way as TDD (done correctly) pushes for good code design and maintainability (for both the production and the test code). Some principles and patterns have already been mentioned above, let's go through them again and add some more.\n"),d(),u(149,"ul",7)(150,"li"),a(151,"The FP principle of having "),u(152,"i"),a(153,"pure functions"),d(),a(154," i.e. functions that have no side effects (the other types of entry points than return value). Pure functions promotes effortless test- and maintainability (but is though not a deal breaking requirement for test focused development)."),d(),u(155,"li")(156,"a",12),a(157,"Separation of Concerns (SoC)"),d()(),u(158,"li"),a(159,"code should be low "),u(160,"a",13),a(161,"coupled"),d(),a(162," / have minimal dependencies"),d(),u(163,"li"),a(164,"each unit should have a readable and requirement focused interface and internals should be "),u(165,"a",14),a(166,"encapsulated"),d()()(),u(167,"p"),a(168," Designing good code architecture is a broad topic and I won't delve further into to it here and instead recommend the books "),u(169,"a",15),a(170,"Clean Code"),d(),a(171," by "),u(172,"b"),a(173,"Robert C. Martin"),d(),a(174," (OO focused) and "),u(175,"a",10),a(176,"Functional Programming in Scala"),d(),a(177," by "),u(178,"b"),a(179,"Paul Chiusano"),d(),a(180," and "),u(181,"b"),a(182,"R\xfanar Bjarnason"),d(),a(183," (FP focused).\n"),d(),u(184,"h2"),a(185,"Test-Driven Development"),d(),u(186,"p"),a(187," TDD is a workflow discipline that is focused on "),u(188,"i"),a(189,"when"),d(),a(190," to write unit tests and requires 2 underlying skills ("),u(191,"i"),a(192,"Good"),d(),a(193," unit tests and "),u(194,"i"),a(195,"Good"),d(),a(196," code design) to be applied to reap the benefits of TDD (as mentioned above). The heart of TDD is the TDD cycle:\n"),d(),u(197,"figure"),m(198,"img",16),u(199,"figcaption"),a(200," The three steps of the TDD cycle "),d()(),u(201,"ol",4)(202,"li")(203,"span",17),a(204,"RED:"),d(),a(205," Write a "),u(206,"i"),a(207,"good"),d(),a(208," unit test and see it fail to prove a meaningful functionality is missing in the production code and verifying that the test is not passing when it should not"),d(),u(209,"li")(210,"span",18),a(211,"GREEN:"),d(),a(212," Make the test pass with minimal effort by adding functionality to the production code that meets the expectations of the test."),d(),u(213,"li")(214,"span",19),a(215,"REFACTOR:"),d(),a(216," Clean up "),u(217,"a",20),a(218,"code smells"),d(),a(219," / improve the design and readability (both production and test code). The step should be very small and incremental (if needed), and we run all the tests after each iteration to make sure we didn't break anything with our changes."),d()(),u(220,"p"),a(221," The cycle should be repeated until you are confident that the unit of work handles all meaningful cases of a specific requirement. Due to the repeating nature of the cycle then step 2. "),u(222,"span",18),a(223,"GREEN"),d(),a(224," can be a na\xefve functionality as the next cycle will improve and generalize it (with more test cases the more generic the unit of work functionality should become).\n"),d(),u(225,"p"),a(226," Some upfront and in-between cycles thinking about the requirement breakdown and cycle order is needed to avoid missing the big picture and "),u(227,"a",21),a(228,"getting stuck"),d(),a(229,". At some interval (every hour or two) we should stop to evaluate if the architecture of the overall system is still sound and clean. If not then iterate the "),u(230,"span",19),a(231,"REFACTOR"),d(),a(232," step until it becomes sound and clean again.\n"),d(),u(233,"p"),a(234," There are various meanings of TDD out there so I'll clarify what I mean here by paraphrasing "),u(235,"a",22),a(236,"Roy's blog post"),d(),a(237,": "),u(238,"q"),a(239,"TDD cycling the meaningful requirements while also allowing it to evolve your design as an added bonus. You may already have some design in place before starting to code, but it could very well change because the tests point out various smells"),d(),a(240," (Roy coins this as TDDAD (Development and Design) to differentiate from other meanings).\n"),d(),u(241,"p"),a(242," My TDD blog series take on a specific assignment cycle by cycle, and I also recommend the book "),u(243,"a",23),a(244,"Test-Driven Development: by Example"),d(),a(245," by "),u(246,"b"),a(247,"Kent Beck"),d(),a(248,".\n"),d(),u(249,"h2"),a(250,"Why do TDD ?"),d(),u(251,"p"),a(252,"Done correctly (including with good unit test and design), TDD can provide these benefits:"),d(),u(253,"ol",7)(254,"li"),a(255,"Clean the code / improve the code design fast and continuously without fear of breaking it."),d(),u(256,"li"),a(257,"Decrease the number of bugs and shorten the time it takes to find bugs."),d(),u(258,"li"),a(259,"The bulletin 1. and 2. increase the product quality and the team's confidence to ship it and improve it further."),d(),u(260,"li"),a(261,"The tests are accurate and up-to-date (developer focused) documentation on the behavior of the units under test."),d(),u(262,"li"),a(263,"Less time spent in the debugger."),d()(),u(264,"p"),a(265," If TDD is done incorrectly, it can cause the project schedule to slip, waste time, lower motivation, and lower code quality, thus it's a double-edged battle axe, hence there are some criticisms out there on TDD, e.g. the post "),u(266,"a",24),a(267,"TDD is dead. Long live testing"),d(),a(268,", the post follow-up YouTube series "),u(269,"a",25),a(270,"Is TDD dead ?"),d(),a(271,", and counter responses to it e.g the post "),u(272,"a",26),a(273,"Monogamous TDD"),d(),a(274,".\n"),d(),u(275,"h2"),a(276,"Is TDD suitable for all situations ?"),d(),u(277,"p"),a(278," Below are the main situations where test focused development can be tricky to apply (or provide little value like in the prototype phase), but there are ways to achieve it as described below.\n"),d(),u(279,"h3"),a(280,"Prototype phase code"),d(),u(281,"p"),a(282," The focus of prototyping is to get out an idea as fast as possible to get feedback on it. It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not. If so the prototype code should be thrown away. It is fine to not (or sparsely) use TDD in the prototyping phase if the consensus is it slows things down, but TDD should be used when the production project codebase is started from scratch.\n"),d(),u(283,"h3"),a(284,"Legacy Code"),d(),u(285,"p"),a(286," Legacy code in a sentence is "),u(287,"a",27),a(288,"valuable code you are afraid to change"),d(),a(289,". It typically:\n"),d(),u(290,"ul",7)(291,"li"),a(292,"Has been developed for some time."),d(),u(293,"li"),a(294,"Is already 'working' (for most common scenarios / most of the time)."),d(),u(295,"li"),a(296,"Has technical debt, e.g. bad code smells and design that has crept in with time (e.g. static things and high coupling)."),d(),u(297,"li"),a(298,"Is hard to read and understand and reason about."),d(),u(299,"li"),a(300,"Has no or few good unit tests / very low test coverage (or many very bad and fragile tests that are hard to read and understand)."),d()(),u(301,"p"),a(302," When you need to fix or change legacy code it is hard to do and have the confidence that the change did not break something else. A breakage is discovered late (QA manual testing or live production) which is costly as it always takes effort to get again into the context to fix the bug and a new QA and release cycle takes time.\n"),d(),u(303,"p"),a(304," I think it's hard to prevent technical debt to creep up with time by strictly upholding great design principles without writing unit tests, but using TDD (or test focused development) helps with upholding the prevention as the above sections should convey.\n"),d(),u(305,"p"),a(306," One of the negative consequence of legacy code is that it's very hard and complex to write unit tests for it as the tests likely need a lot of Fakes(described when they occur in other blog posts) and extra code to mute dependency interference in the tests, where static things especially become a pain. Legacy code should be first covered with tests (as painful as it may be), and then refactored into a cleaner state (and meanwhile improving the tests). Then afterwards TDD can be used effortlessly and to it's full potential.\n"),d(),u(307,"p"),a(308," Improving legacy code is a broad topic thus I'll leave it here by referencing the book "),u(309,"a",28),a(310,"Working Effectively with Legacy Code"),d(),a(311," and this blog post "),u(312,"a",29),a(313,"Starting TDD with legacy code"),d(),a(314,".\n"),d(),u(315,"h3"),a(316,"Boundary layers"),d(),u(317,"p"),a(318," A big part of a game and many apps is the graphic user interface and visual effects, user input and sound. Should these parts be unit tested ? These parts can be described as being close to the physical output / input boundaries layers (e.g. screen, speaker). The design can be driven to make these boundary layers thin and "),u(319,"a",30),a(320,"humble"),d(),a(321," that only focus on the responsibility of the boundary (e.g. disable/enable button), and extracting all other logic into other modules that can be easily tested.\n"),d(),u(322,"p"),a(323," It's likely that the logic being extracted is in fact the domain / business logic, the code that makes boundary independent decisions and thus belongs to the "),u(324,"a",31),a(325,"domain model"),d(),a(326," and then should be moved there. The domain model should not depend on any boundaries, thus be easily unit testable.\n"),d(),u(327,"p"),a(328," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen. If boundary bugs begin slipping into the production as the project grows, then it's time to replace some of the manual testing effort with automated tests (e.g integration and / or UI tests). The "),u(329,"a",32),a(330,"Test Pyramid"),d(),a(331," could be a guide for that process.\n"),d(),m(332,"div",33),u(333,"h2"),a(334,"Comments"),d(),u(335,"h4"),a(336,"Fabio Paes Pedro"),d(),u(337,"p"),a(338," I'm no expert but the value TDD provides became clear to me quite fast. I believe this requires a mindset/process change though, a different way of thinking things through that might extend outside of our team, into a company level. I can't wait to read the rest of this series!\n"),d(),u(339,"h4"),a(340,"My response"),d(),u(341,"p"),a(342," Thank you for your comment Fabio. I agree that TDD requires a mindset/process change where ideally the whole team and the company are aligned on using TDD to reap its benefits. I aim to continue writing blog post and complete this series, so stay tuned :)\n"),d(),m(343,"div",33)),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate))},dependencies:[An],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function sV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Al extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Al)))(i||Al)}}();static#t=this.\u0275cmp=Qe({type:Al,selectors:[["app-post-tdd-2"]],features:[ve],decls:190,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://www.youtube.com/watch?v=R1aO4Tmw3zA&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","./blog/tdd/what-how-why-when"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","https://www.youtube.com/watch?v=_vd2JyX6C1Y&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=8"],["href","https://www.youtube.com/watch?v=LPlH87XaWC8&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=9"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"list"],[1,"noBulletinPoint"],[1,"center"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,sV,2,1,"small",1),d(),u(11,"h2"),a(12,"Preparing the assignment"),d(),u(13,"h3"),a(14,"My TDD workshop"),d(),u(15,"p"),a(16," I did a workshop about TDD at work and for preparation I browsed the internet looking for a fitting assignment, and I came across "),u(17,"a",2),a(18,"TDD in Unity - Part 1"),d(),a(19," by Charles Amat, where he sets up his assignment: implementing the "),u(20,"i"),a(21,"Life Gauge"),d(),a(22," from "),u(23,"i"),a(24,"Zelda: Breath of the Wild"),d(),a(25," game.\n"),d(),u(26,"p"),a(27," I thought this assignment was fitting for the workshop, thus I read the "),u(28,"a",3),a(29,"Life Gauge page on the Zelda wiki"),d(),a(30," (which was linked in the 'Part 1' post), and also played the game a bit, focusing on the "),u(31,"i"),a(32,"Life Gauge"),d(),a(33," behavior. But I did not go through the 'TDD in Unity' series, as I was running out of preparation time.\n"),d(),u(34,"p"),a(35," My focus and task order in both my preparations and workshop were:"),m(36,"br"),d(),u(37,"ol",4)(38,"li"),a(39,"Write down the "),u(40,"i"),a(41,"Life Gauge"),d(),a(42," behavior from the user perspective (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),u(43,"i"),a(44,"Zelda: Breath of the Wild"),d(),a(45,")."),d(),u(46,"li"),a(47,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill, as TDD is fully effective and effortless in the domain model."),d(),u(48,"li"),a(49,"Afterwards, if there still was time, the focus would shift to the visual GUI, where the value of TDD likely would diminish the closer I got to the physical boundary of the screen, ending with just manually testing with my eyes. (More info in the "),u(50,"a",5),a(51,"Boundary layer"),d(),a(52," section)."),d()(),u(53,"p"),a(54," I only had time prepare the first couple of domain logic requirements and during the workshop we collaboratively completed those together before the time was up.\n"),d(),u(55,"h3"),a(56,"Comparing approaches on the assignment"),d(),u(57,"p"),a(58," After the workshop I was curious how Charles Amat solved it, thus I watched the whole "),u(59,"a",2),a(60,"TDD in Unity"),d(),a(61," series. I both enjoyed and learned from watching Charles Amat "),u(62,"a",6),a(63,"live coding"),d(),a(64," and implementing the "),u(65,"i"),a(66,"Life Gauge"),d(),a(67," and his end result solution is good and sound, and I thank Charles for his contribution. But I noticed that his focus and task order quite differed from mine, as he:"),m(68,"br"),d(),u(69,"ol",4)(70,"li"),a(71,"Starts planning how to create the heart container in Unity from a GUI perspective."),d(),u(72,"li"),a(73,"Then starts TDD-ing logic close to the GUI."),d(),u(74,"li"),a(75,"Ends with TDD-ing the domain logic ("),u(76,"a",7),a(77,"Part 7"),d(),a(78," and "),u(79,"a",8),a(80,"Part 8"),d(),a(81,") and simplifies the domain requirements from the "),u(82,"i"),a(83,"Breath of the Wild"),d(),a(84,"."),d()(),u(85,"h3"),a(86,"Same assignment, but with a different focus"),d(),u(87,"p"),a(88," This is why I think it's worth doing another series with the same assignment, but with my focus, task order, and format.\n"),d(),u(89,"p"),a(90," My format will be blog posts focused on the TDD cycles displaying the appropriate code for each step. I'll demonstrate how the requirements and the cycles guide and shape the code and my reasoning, that will read like poetry of rhythmic "),u(91,"span",9),a(92,"RED "),d(),u(93,"span",10),a(94,"GREEN "),d(),u(95,"span",11),a(96,"REFACTOR "),d(),a(97," loops (at least that's my ambition).\n"),d(),u(98,"h2"),a(99,"The Life Gauge behavior"),d(),u(100,"p"),a(101,"\nThe below list is user perspective behaviour summary from the "),u(102,"a",3),a(103,"Life Gauge page on the Zelda Wiki"),d(),a(104," for the "),u(105,"i"),a(106,"Breath of the Wild"),d(),a(107," game. I've simplified some requirements to keep the scope within a sensible limit. I've also provided more detail where needed by playing and observing the game. (In real 'gameplay in development' scenario it's important to get the needed details of the requirements as early as possible from the game designer).\n"),d(),u(108,"ul",12)(109,"li",13)(110,"b"),a(111,"Definition and Start State"),d()(),u(112,"li"),a(113,"The Life Gauge measures Link's (the avatar) current amount of health."),d(),u(114,"li"),a(115,"Health is visually represented in the form of Hearts, and they are in fractions of 4."),d(),u(116,"li"),a(117,"The Life Gauge starts with 3 Hearts."),d(),m(118,"br"),u(119,"li",13)(120,"b"),a(121,"Taking Damage and Dying"),d()(),u(122,"li"),a(123,"Whenever Link takes damage he will lose a certain amount of Heart fractions equal to the damage points taken (always losing at least 1 fraction)"),d(),u(124,"li"),a(125,"When Link loses all of his Hearts the game ends."),d(),u(126,"li"),a(127,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full and will instead be left alive with Hearth 1 fraction remaining."),d(),u(128,"ul")(129,"li"),a(130,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die."),d()(),m(131,"br"),u(132,"li",13)(133,"b"),a(134,"Replenish and Increase"),d()(),u(135,"li"),a(136,"The Life Gauge can be replenished by consuming certain items."),d(),u(137,"li"),a(138,"The Life Gauge can be increased by 1 Heart at a time."),d(),u(139,"ul")(140,"li"),a(141,"Link's health will become full with the increase."),d()(),u(142,"li"),a(143,"The maximum of Hearts is 30."),d()(),u(144,"h3"),a(145,"Model / View mapping of "),u(146,"i"),a(147,"Life Gauge"),d()(),u(148,"table")(149,"tr")(150,"th")(151,"b"),a(152,"Domain Model"),d()(),u(153,"th")(154,"b"),a(155,"View / GUI"),d()()(),u(156,"tr")(157,"td",14),a(158," (Avatar) Health "),d(),u(159,"td",14),a(160," Life Gauge "),d()(),u(161,"tr")(162,"td",14)(163,"i"),a(164,"TBD later"),d()(),u(165,"td",14),a(166," Heart (holds 4 Fractions) "),d()(),u(167,"tr")(168,"td",14),a(169," Points "),d(),u(170,"td",14),a(171," Heart Fractions "),d()()(),u(172,"p"),a(173,"\nThis mapping is good to start on early: The Heart Container (with its Hearts and fractions) is a specific view representation of the Avatar Health, the domain model. This is a good start of separating the concerns and I'll break them further down below.\n"),d(),u(174,"p"),a(175,"\nI'll apply the approach in the "),u(176,"a",5),a(177,"Boundary layer"),d(),a(178," section, making sure that the code dependency is minimal and one-way:\n"),d(),u(179,"ul",4)(180,"li"),a(181,"the view can depend in minimal way on the model, but not vice-versa."),d(),u(182,"li"),a(183,"all the domain logic should be in the model."),d(),u(184,"li"),a(185,"the view should be thin and humble."),d()(),u(186,"p"),a(187," Thus when future change requests on the GUI arrive (which is likely in a real scenario) it will be effortless to handle as both the domain and its logic, and the model naming and terms, will remain unaffected. This also makes it effortless to display simultaneously more than one GUI representations"),m(188,"br"),a(189,"\nof the same model (which is quite common in game UI).\n"),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate))},dependencies:[An],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class aV{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new lV(t,this.resultSelector))}}class lV extends Te{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Ze(t)?e.push(new uV(t)):e.push("function"==typeof t[U]?new cV(t[U]()):new dV(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let l=t[o];if("function"==typeof l.hasValue&&!l.hasValue())return}let r=!1;const s=[];for(let o=0;o<e;o++){let l=t[o],c=l.next();if(l.hasCompleted()&&(r=!0),c.done)return void i.complete();s.push(c.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),r&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class cV{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class uV{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[U](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class dV extends Kt{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[U](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Dn(this.observable,new Pt(this))}}class hV extends V{constructor(t,e){super()}schedule(t,e=0){return this}}class $g extends hV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let dD=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class or extends dD{constructor(t,e=dD.now){super(t,()=>or.delegate&&or.delegate!==this?or.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return or.delegate&&or.delegate!==this?or.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const zg=new class pV extends or{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class fV extends $g{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),Cd=new X("HIGHLIGHT_OPTIONS");let gV=(()=>{class n{constructor(e,i,r){this.doc=e,this._options=r,this._ready=new Un(null),this.ready=this._ready.asObservable().pipe(Yn(s=>!!s),G(s=>s),Ss(1)),s0(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(vi(s=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=s,this.loadLineNumbers().pipe(It(()=>this._ready.next(s)))):(this._ready.next(s),Br)),zr(s=>(console.error("[HLJS] ",s),Br))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return qi("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return qi("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return qi("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return qi("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(vi(e=>this._loadLanguages(e)))}return qi("Highlight.js library was not imported!")}_loadLanguages(e){const i=Object.entries(this._options.languages).map(([r,s])=>Dd(s()).pipe(It(o=>e.registerLanguage(r,o))));return function oV(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),nn(n,void 0).lift(new aV(t))}(...i).pipe(G(()=>e))}loadCoreLibrary(){return Dd(this._options.coreLibraryLoader())}loadFullLibrary(){return Dd(this._options.fullLibraryLoader())}loadLineNumbers(){return Dd(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(F(Bt),F(qa),F(Cd,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dd=n=>de(n).pipe(Yn(t=>!!t&&!!t.default),G(t=>t.default));let mV=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe(G(s=>s.highlight(e,{language:i,ignoreIllegals:r})))}highlightAuto(e,i){return this._loader.ready.pipe(G(r=>r.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(G(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(G(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(G(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(It(r=>r.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(It(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(It(r=>r.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(G(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(G(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(G(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(G(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(Yn(i=>!!i.lineNumbersBlock),It(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(F(gV),F(Cd,8))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ir=(()=>{class n{constructor(e,i,r,s){this._hljs=i,this._sanitizer=r,this._options=s,this.highlighted=new nt,this._nativeElement=e.nativeElement}ngOnChanges(e){this.code&&e?.code?.currentValue&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(r=>{this.setInnerHTML(r.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),zg.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){zg.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){zg.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(vt.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(S($t),S(mV),S(P0),S(Cd,8))},n.\u0275dir=ye({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&yi("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[ti]}),n})(),yV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({}),n})();function vV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Go extends Qt{get requirements(){return"<h2>The start state requirements</h2>\n<p>Let's recap these requirements from the user perspective</p>\n<ul class=\"list inline\">\n\t<li>The Life Gauge measures Link's (the avatar) current amount of health</li>\n\t<li>Health is visually represented in the form of Hearts, and they are in fractions of 4</li>\n\t<li>The Life Gauge starts with 3 Hearts</li>\n</ul>"+this.completeRequirementListHtml+'<p>Focusing only on the domain logic I filter and reword into one requirement:</p>\n<ul class="list inline">\n\t<li>Avatar Health starts with 12 Health Points (equals to the visual representation of 3 Hearts * 4 Fractions)</li>\n</ul>\n'}redDoesNotCompileStartingValue(){return"<p>The domain model focus will be the <code>Health</code> class (not created yet), thus I create the test file and write the first test and see it fail (as the code does not compile).\n</p>"}codeTestRedDoesNotCompileStartingValue(){return"// HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void Points_HasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n"}redAfterDoesNotCompileStartingValue(){return'<p>I create and name a nested class after the <i>entry point</i> of the test (<i>entry point</i> is defined in <i>What is a good Unit Test section</i> in <a href="./blog/tdd-health/part1">Part 1</a>), thus is named <code>Constructor</code> in this case. I got the idea from post <a href="https://daedtech.com/tdd-and-modeling-a-chess-game/">TDD and modeling a chess game</a> (author Erik Dietrich) that references <a href="https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/">Structuring Unit Tests</a> (author Phil Haack).</p>\n<p>I\'m using the <a href="https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models">Constraint Model of Assertions.</a>.</p>'}redStartingValue1(){return"<p>I write the minimal production code to compile successfully and intentionally make the test fail to verify that the test is not passing when it should not (testing the test).</p>"}codeTestRedStartingValue(){return"// Health.cs\npublic class Health\n{\n\tpublic int points;\n}\n"}redStartingValueImgUrl(){return"../assets/images/blog/tdd/part3/TestRunner_first-test-fails.PNG"}redStartingValueImgCaption(){return"The test runner after first test fail"}redStartingValueImg(){return'<figure>\n<img src="'+this.redStartingValueImgUrl()+'"alt="'+this.redStartingValueImgCaption()+'"title="'+this.redStartingValueImgCaption()+'"class="imageSmallText">\n<figcaption>'+this.redStartingValueImgCaption()+"</figcaption>\n</figure>"}redStartingValue2(){return"<p>Going forward I will usually skip demonstrating both RED steps and only demonstrate one and simply call it RED, But I do both steps when coding as it is important to test the test.\n\t</p>"}greenStartingValue(){return"<p>I make the test pass with this very simple implementation:</p>"}codeImplGreenStartingValue(){return"// Health.cs\npublic class Health\n{\n\tpublic int points = 12;\n}\n"}greenStartingValue1(){return"<p>It comes to mind that it's good to be able to tweak the starting points at compile time for game design balancing, thus I refactor the value to be passed as param into the constructor.</p>"}greenStartingValue2(){return'<p>\n\t\tI rename the member variable and thus the test case to current points. I name the constructor param <span class="code">startingPoints</span>.\n\t\t</p>'}codeTestRefactorStartingValue(){return"// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void CurrentPoints_HasStartingValue()\n{\n\tint startingPoints = 12;\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n"}greenStartingValue3(){return"<p>I encapsulate current points by providing a 'getter'. I want to <a href=\"https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57\">encapsulate</a> the production code so that the only exposure comes from the requirements that the TDD cycles drives (more exposure could be required in certain cases but should be kept to the bare minimum).</p>"}codeImplRefactorStartingValue(){return"// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic Health(int startingPoints)\n{\n\tCurrentPoints = startingPoints;\n}\n"}invalidStartingPoints(){return"<p>It comes to mind that invalid values can be passed into the constructor, as our avatar should never start with less than 1 points (starting up being dead is a 'no show'). I deem it appropriate that the production code throws an exception when the value is invalid and I write a test that expects this, and it expectedly fails as the throwing has not been implemented.</p>\n<p>Going forward I'll present only the code that's the focus of the current TDD step.</p>\n"}codeTestRedInvalidStartingPoints(){return'// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(), delegate\n\t\t{\n\t\t\tnew Health(0);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}redInvalidStartingPoints1(){return'<p>I deem I can use an existing system exception for this case. I choose the value <code>0</code> for the <span class="code">StartingPoints</span> param because it\'s on the edge of the invalidation (as <code>1</code> is valid).</p>'}redInvalidStartingPoints2(){return'<p>I assert that the message contains "invalid" (ignoring the case), intentionally not being more specific so the assert does not fail later because of potential rewording improvements.</p>'}testNamingConvention(){return"<h4>My test naming convention</h4>\n<p>After the <i>entry point</i> has been stated (as I've already done) the rest of the test naming should be one of the following:</p>\n<ul class=\"list\">\n\t<li>[ <i>Exit point</i> ] _ [ will be in state (after 'happy success path') ]</li>\n\t\t<ul><li>e.g. <code>CurrentPoints_HasStartingValue</code></li></ul>\n\t<li>[ <i>Exit point</i> ] _ When [ Scenario (other than 'happy success path') ]</li>\n\t<li>[ Expected behavior of <i>Unit of Work</i> ] _ When [ Scenario ]</li>\n\t<ul><li>e.g. <code>ThrowsEx_WhenStartingPointsIsInvalid</code></li></ul>\n</ul>\n<p><i>Exit point</i> and <i>Unit of Work</i> are defined in <i>What is a good Unit Test section</i> in <a href=\"./blog/tdd-health/part1\">Part 1</a>. Underscores are skipped if not allowed.</p>"}codeImplGreenInvalidStartingPoints(){return'//Health.cs\npublic int CurrentPoints { get;  private set; }\n\npublic Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), "Invalid value");\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n'}greenInvalidStartingPoints(){return"<p>I'm confident that the implementation of the <code>if</code> conditional handles all potential input values properly. However I just did the bare minimum for the exception message and I will refactor it in the next step:</p>"}codeImplRefactorInvalidStartingPoints(){return'//Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n'}refactorInvalidStartingPoints(){return"<p>\n\t\tI define <code>lowestValidValue</code> and use it both in the condition and the message. This makes the message informative and makes sure the conditional and message will always be in sync. I verify the message displays as expected (with debug breakpoint):\n\t<i>Value 0 is invalid, it should be equal or higher than 1.</i></p>"}testingMoreValues(){return"<p>I'm confident that this implementation works for any passed in param value. But I'll test a few more values to verify it and demonstrate how to do it in a maintainable way.</p>"}parameterizedRefactor1(){return"<p>I refactor the tests and add test cases where the value is close to the valid/invalid edge.</p>"}parameterizedRefactor2(){return'<p>To achieve this in a maintainable way I use <a href="https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html">Parameterized Tests</a> with inline <a href="https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html">TestCase</a> attribute.</p>'}codeTestRefactorParameterized(){return'// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(startingPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}parameterizedRefactor3(){return"<p>Now total 4 test cases are run and the test runner looks like this:</p>"}parameterizedRefactorImgUrl(){return"../assets/images/blog/tdd/part3/TestRunner_after-parameterized-refactor.PNG"}parameterizedRefactorImgCaption(){return"The test runner after parameterized refactor"}parameterizedRefactorImg(){return'<figure>\n<img src="'+this.parameterizedRefactorImgUrl()+'"alt="'+this.parameterizedRefactorImgCaption()+'"title="'+this.parameterizedRefactorImgCaption()+'"class="imageSmallText">\n<figcaption>'+this.parameterizedRefactorImgCaption()+"</figcaption>\n</figure>"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Go)))(i||Go)}}();static#t=this.\u0275cmp=Qe({type:Go,selectors:[["app-post-tdd-3"]],features:[ve],decls:85,vars:36,consts:[[1,"byAndDate"],[4,"ngIf"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],[1,"code"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,vV,2,1,"small",1),d(),m(11,"div",2)(12,"div",2)(13,"div",2),u(14,"h2"),a(15,"Health Points starting value"),d(),u(16,"h3")(17,"span",3),a(18,"RED (does not compile)"),d()(),m(19,"div",2),u(20,"pre"),m(21,"code",4),d(),m(22,"div",2),u(23,"h3")(24,"span",3),a(25,"RED (test fails)"),d()(),m(26,"div",2),u(27,"pre"),m(28,"code",4),d(),m(29,"div",2)(30,"div",2),u(31,"h3")(32,"span",5),a(33,"GREEN"),d()(),m(34,"div",2),u(35,"pre"),m(36,"code",4),d(),u(37,"h3")(38,"span",6),a(39,"REFACTOR"),d()(),m(40,"div",2)(41,"div",2),u(42,"pre"),m(43,"code",4),d(),m(44,"div",2),u(45,"pre"),m(46,"code",4),d(),u(47,"h2"),a(48,"Handle invalid "),u(49,"span",7),a(50,"StartingPoints"),d(),a(51," values"),d(),m(52,"div",2),u(53,"h3")(54,"span",3),a(55,"RED"),d()(),m(56,"div",2),u(57,"pre"),m(58,"code",4),d(),m(59,"div",2)(60,"div",2),u(61,"h3")(62,"span",5),a(63,"GREEN"),d()(),u(64,"pre"),m(65,"code",4),d(),m(66,"div",2),u(67,"h3")(68,"span",6),a(69,"REFACTOR"),d()(),u(70,"pre"),m(71,"code",4),d(),m(72,"div",2),u(73,"h2"),a(74,"Testing more values for verification"),d(),m(75,"div",2),u(76,"h3")(77,"span",6),a(78,"REFACTOR"),d()(),m(79,"div",2)(80,"div",2),u(81,"pre"),m(82,"code",4),d(),m(83,"div",2)(84,"div",2)),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(1),C("innerHTML",i.usingUnity("https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"),oe),b(1),C("innerHTML",i.setup,oe),b(1),C("innerHTML",i.requirements,oe),b(6),C("innerHTML",i.redDoesNotCompileStartingValue(),oe),b(2),C("highlight",i.codeTestRedDoesNotCompileStartingValue()),b(1),C("innerHTML",i.redAfterDoesNotCompileStartingValue(),oe),b(4),C("innerHTML",i.redStartingValue1(),oe),b(2),C("highlight",i.codeTestRedStartingValue()),b(1),C("innerHTML",i.redStartingValueImg(),oe),b(1),C("innerHTML",i.redStartingValue2(),oe),b(4),C("innerHTML",i.greenStartingValue(),oe),b(2),C("highlight",i.codeImplGreenStartingValue()),b(4),C("innerHTML",i.greenStartingValue1(),oe),b(1),C("innerHTML",i.greenStartingValue2(),oe),b(2),C("highlight",i.codeTestRefactorStartingValue()),b(1),C("innerHTML",i.greenStartingValue3(),oe),b(2),C("highlight",i.codeImplRefactorStartingValue()),b(6),C("innerHTML",i.invalidStartingPoints(),oe),b(4),C("innerHTML",i.redInvalidStartingPoints1(),oe),b(2),C("highlight",i.codeTestRedInvalidStartingPoints()),b(1),C("innerHTML",i.redInvalidStartingPoints2(),oe),b(1),C("innerHTML",i.testNamingConvention(),oe),b(5),C("highlight",i.codeImplGreenInvalidStartingPoints()),b(1),C("innerHTML",i.greenInvalidStartingPoints(),oe),b(5),C("highlight",i.codeImplRefactorInvalidStartingPoints()),b(1),C("innerHTML",i.refactorInvalidStartingPoints(),oe),b(3),C("innerHTML",i.testingMoreValues(),oe),b(4),C("innerHTML",i.parameterizedRefactor1(),oe),b(1),C("innerHTML",i.parameterizedRefactor2(),oe),b(2),C("highlight",i.codeTestRefactorParameterized()),b(1),C("innerHTML",i.parameterizedRefactor3(),oe),b(1),C("innerHTML",i.parameterizedRefactorImg(),oe))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function bV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Pl extends Go{codeTestRedDoesNotCompileStartingValue(){return'// HealthTest.cpp\n#include "pch.h"\n#include "../AvatarHealth/Health.h"\n\nTEST(Constructor, PointsHasStartingValue)\n{\n\tHealth health;\n\tEXPECT_EQ(health.points, 12);\n}\n'}redAfterDoesNotCompileStartingValue(){return'<p>I name the first param in the <a href=http://google.github.io/googletest/reference/testing.html#TEST">TEST</a> macro after the <i>entry point</i> of the test (<i>entry point</i> is defined in <i>What is a good Unit Test section</i> in <a href="./blog/tdd-health/part1">Part 1</a>), thus is named <code>Constructor</code> in this case. The rest of the test case naming goes into the second param (Google Test docs states that it should not contain underscores). You can see how this lays out in the Test Explorer in the screenshots below.</p>'}redStartingValueImgUrl(){let t=super.redStartingValueImgUrl();return t.substring(0,t.length-3)+"jpg"}codeTestRedStartingValue(){return"// Health.h\n#pragma once\n\nclass Health\n{\npublic:\n\tint points;\n};\n"}codeImplGreenStartingValue(){return"// Health.h\nclass Health\n{\npublic:\n\tint points = 12;\n};\n"}codeTestRefactorStartingValue(){return"// HealthTest.cpp\nTEST(Constructor, CurrentPointsHasStartingValue)\n{\n\tauto startingPoints = 12;\n\tHealth health = Health(startingPoints);\n\tEXPECT_EQ(health.GetCurrentPoints(), startingPoints);\n}\n"}codeImplRefactorHeaderStartingValue(){return"// Health.h\n#pragma once\n\nclass Health\n{\npublic:\n\tHealth(int startingPoints);\n\tint GetCurrentPoints();\n\nprivate:\n\tint currentPoints;\n};\n"}codeImplRefactorStartingValue(){return'// Health.cpp\n#include "Health.h"\n\nHealth::Health(int startingPoints)\n{\n\tHealth::currentPoints = startingPoints;\n}\n\nint Health::GetCurrentPoints()\n{\n\treturn currentPoints;\n}\n'}codeTestRedInvalidStartingPoints(){return"// HealthTest.cpp\nTEST(Constructor, ThrowsExWhenStartingPointsIsInvalid)\n{\n\tEXPECT_THROW(\n\t\t{\n\t\t\tHealth health = Health(0);\n\t\t}, std::out_of_range);\n}\n"}codeImplGreenInvalidStartingPoints(){return'//Health.cpp\nHealth::Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow std::out_of_range(std::string("Invalid value"));\n\t}\n\n\tHealth::currentPoints = startingPoints;\n}\n'}codeImplRefactorInvalidStartingPoints(){return'//Health.cpp\n#include <format>\n\nusing namespace std;\n\nHealth::Health(int startingPoints)\n{\n\tauto lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tauto msg = format("Value {} is invalid, it should be equal or higher than {}", startingPoints, lowestValidValue);\n\t\tthrow out_of_range(msg);\n\t}\n\n\tHealth::currentPoints = startingPoints;\n}\n'}parameterizedRefactor2(){return'<p>To achieve this in a maintainable way I use the <a href=http://google.github.io/googletest/reference/testing.html#TEST">TEST_P</a> macro and define the needed structure for it:</p>'}codeTestRefactorParameterized(){return"// HealthTest.cpp\nusing namespace std;\nusing ::testing::TestWithParam;\nusing ::testing::Values;\n\nclass CurrentPointsHasStartingValues : public TestWithParam<int> { };\nINSTANTIATE_TEST_CASE_P(Constructor, CurrentPointsHasStartingValues,\n\tValues(1, 12)\n);\nTEST_P(CurrentPointsHasStartingValues, Value)\n{\n\tauto param = GetParam();\n\tHealth health = Health(param);\n\tEXPECT_EQ(health.GetCurrentPoints(), param);\n}\n\nclass ThrowsExWhenStartingPoints : public TestWithParam<int> { };\nINSTANTIATE_TEST_CASE_P(Constructor, ThrowsExWhenStartingPoints,\n\tValues(0, -1)\n);\nTEST_P(ThrowsExWhenStartingPoints, Value)\n{\n\tEXPECT_THROW(\n\t\t{\n\t\t\tHealth health = Health(GetParam());\n\t\t}, out_of_range);\n}\n"}parameterizedRefactor3(){return"<p>I try to map the naming to follow my naming convention and to display according in the test runner that now runs 4 tests in total:</p>"}parameterizedRefactorImgUrl(){let t=super.parameterizedRefactorImgUrl();return t.substring(0,t.length-3)+"jpg"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Pl)))(i||Pl)}}();static#t=this.\u0275cmp=Qe({type:Pl,selectors:[["app-post-tdd-3-cpp"]],features:[ve],decls:165,vars:34,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://visualstudio.microsoft.com"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","http://google.github.io/googletest/"],["href","https://nunit.org"],["href","https://learn.microsoft.com/en-us/visualstudio/test/writing-unit-tests-for-c-cpp?view=vs-2022#create-a-test-project-in-visual-studio-2022"],["src","../assets/images/blog/tdd/part3/VS-new-project_GoogleTests-config.jpg","alt","Test Runner: first test fail","title","VS new project: Google Test config",1,"imageSmallText"],["href","https://learn.microsoft.com/en-us/visualstudio/test/writing-unit-tests-for-c-cpp?view=vs-2022#link-to-object-or-library-files"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],[1,"code"],["src","../assets/images/blog/tdd/part3/TestRunner_before-parameterized-refactor.jpg","alt","Test Runner: before parameterized refactor","title","Test Runner: before parameterized refactor",1,"imageSmallText"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,bV,2,1,"small",1),d(),u(11,"h2"),a(12,"Using Visual Studio"),d(),u(13,"p"),a(14," I'll use "),u(15,"a",2),a(16,"Visual Studio"),d(),a(17," (VS) and the whole project is on "),u(18,"a",3),a(19,"GitHub"),d(),a(20," (including the VS project files). I'm using the free VS "),u(21,"i"),a(22,"Community"),d(),a(23," edition which is sufficient for this blog series, but it's worth mentioning that the paid "),u(24,"i"),a(25,"Enterprise"),d(),a(26," edition includes the productivity feature "),u(27,"i"),a(28,"Live Unit Testing"),d(),a(29," which provides real-time feedback directly in the editor, which is convenient for the TDD cycles, other test related features e.g. "),u(30,"i"),a(31,"Code Coverage"),d(),a(32,". Using the "),u(33,"i"),a(34,"Community"),d(),a(35," edition I'll need to manually trigger the test run (and Code Coverage will not be the focus of this blog series).\n"),d(),u(36,"h2"),a(37,"Using Google Test"),d(),u(38,"p"),a(39," I'll use "),u(40,"a",4),a(41,"Google Test"),d(),a(42," framework as VS includes and integrates it, and doing a quick web browser comparison and research (not using Google) makes it likely to provide similar features as C# "),u(43,"a",5),a(44,"NUnit"),d(),a(45," framework (I currently have more experience in C# and NUnit and other similar frameworks).\n"),d(),u(46,"h2"),a(47,"Setup"),d(),u(48,"p"),a(49," I create a new (C++) "),u(50,"i"),a(51,"Windows Desktop Application"),d(),a(52," project naming it "),u(53,"code"),a(54,"AvatarHealth"),d(),a(55," and this also creates the solution for the project. For the unit tests I add within the solution a new (C++) "),u(56,"i"),a(57,"Google Test"),d(),a(58," project naming it "),u(59,"code"),a(60,"AvatarHealth-Test"),d(),a(61," (detailed in "),u(62,"a",6),a(63,"VS doc section"),d(),a(64,"), and configure it like the screenshot below:\n"),d(),u(65,"figure"),m(66,"img",7),u(67,"figcaption"),a(68,"VS new project: Google Test config"),d()(),u(69,"p"),a(70," To export the functions that you want to test, add the output .obj or .lib files to the dependencies of the test project detailed in this "),u(71,"a",8),a(72,"VS doc section"),d(),a(73,". "),d(),m(74,"div",9),u(75,"h2"),a(76,"Health Points starting value"),d(),u(77,"h3")(78,"span",10),a(79,"RED (does not compile)"),d()(),m(80,"div",9),u(81,"pre"),m(82,"code",11),d(),m(83,"div",9),u(84,"h3")(85,"span",10),a(86,"RED (test fails)"),d()(),m(87,"div",9),u(88,"pre"),m(89,"code",11),d(),m(90,"div",9)(91,"div",9),u(92,"h3")(93,"span",12),a(94,"GREEN"),d()(),m(95,"div",9),u(96,"pre"),m(97,"code",11),d(),u(98,"h3")(99,"span",13),a(100,"REFACTOR"),d()(),m(101,"div",9)(102,"div",9),u(103,"pre"),m(104,"code",11),d(),u(105,"p"),a(106," I create the "),u(107,"code"),a(108,"Health.cpp"),d(),a(109," file and write the implementation in it, and remove the 'green step' quick implementation (the hardcoded "),u(110,"code"),a(111,"12"),d(),a(112," value) from the "),u(113,"code"),a(114,"Health.h"),d(),a(115," header file. Going forward the header file will only contain definitions (that resolve 'red does not compile' steps) and temporary quick implementations for resolving some 'green' steps, thus the implementation will be in the "),u(116,"code"),a(117,".cpp"),d(),a(118," file.\n"),d(),u(119,"pre"),m(120,"code",11),d(),m(121,"div",9),u(122,"pre"),m(123,"code",11),d(),u(124,"h2"),a(125,"Handle invalid "),u(126,"span",14),a(127,"StartingPoints"),d(),a(128," values"),d(),m(129,"div",9),u(130,"h3")(131,"span",10),a(132,"RED"),d()(),m(133,"div",9),u(134,"pre"),m(135,"code",11),d(),m(136,"div",9),u(137,"h3")(138,"span",12),a(139,"GREEN"),d()(),u(140,"pre"),m(141,"code",11),d(),m(142,"div",9),u(143,"h3")(144,"span",13),a(145,"REFACTOR"),d()(),u(146,"pre"),m(147,"code",11),d(),m(148,"div",9),u(149,"figure"),m(150,"img",15),u(151,"figcaption"),a(152,"Test Runner: before parameterized refactor"),d()(),u(153,"h2"),a(154,"Testing more values for verification"),d(),m(155,"div",9),u(156,"h3")(157,"span",13),a(158,"REFACTOR"),d()(),m(159,"div",9)(160,"div",9),u(161,"pre"),m(162,"code",11),d(),m(163,"div",9)(164,"div",9)),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(64),C("innerHTML",i.requirements,oe),b(6),C("innerHTML",i.redDoesNotCompileStartingValue(),oe),b(2),C("highlight",i.codeTestRedDoesNotCompileStartingValue()),b(1),C("innerHTML",i.redAfterDoesNotCompileStartingValue(),oe),b(4),C("innerHTML",i.redStartingValue1(),oe),b(2),C("highlight",i.codeTestRedStartingValue()),b(1),C("innerHTML",i.redStartingValueImg(),oe),b(1),C("innerHTML",i.redStartingValue2(),oe),b(4),C("innerHTML",i.greenStartingValue(),oe),b(2),C("highlight",i.codeImplGreenStartingValue()),b(4),C("innerHTML",i.greenStartingValue1(),oe),b(1),C("innerHTML",i.greenStartingValue2(),oe),b(2),C("highlight",i.codeTestRefactorStartingValue()),b(16),C("highlight",i.codeImplRefactorHeaderStartingValue()),b(1),C("innerHTML",i.greenStartingValue3(),oe),b(2),C("highlight",i.codeImplRefactorStartingValue()),b(6),C("innerHTML",i.invalidStartingPoints(),oe),b(4),C("innerHTML",i.redInvalidStartingPoints1(),oe),b(2),C("highlight",i.codeTestRedInvalidStartingPoints()),b(1),C("innerHTML",i.testNamingConvention(),oe),b(5),C("highlight",i.codeImplGreenInvalidStartingPoints()),b(1),C("innerHTML",i.greenInvalidStartingPoints(),oe),b(5),C("highlight",i.codeImplRefactorInvalidStartingPoints()),b(1),C("innerHTML",i.refactorInvalidStartingPoints(),oe),b(7),C("innerHTML",i.testingMoreValues(),oe),b(4),C("innerHTML",i.parameterizedRefactor1(),oe),b(1),C("innerHTML",i.parameterizedRefactor2(),oe),b(2),C("highlight",i.codeTestRefactorParameterized()),b(1),C("innerHTML",i.parameterizedRefactor3(),oe),b(1),C("innerHTML",i.parameterizedRefactorImg(),oe))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function wV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class xl extends Qt{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void CurrentPoints_Decrease()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.impl_1_Green="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic void TakeDamage(int damagePoints)\n{\n\tCurrentPoints -= damagePoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.TakeDamage(damagePoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='// Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (damagePoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {damagePoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(damagePoints), message);\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n',this.impl_2_Refactor='// Health.cs\npublic Health(int startingPoints)\n{\n\tValidatePoints(startingPoints, 1);\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1);\n\tCurrentPoints -= damagePoints;\n}\n\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\tif (points < lowestValidValue)\n\t{\n\t\tvar message = $"Value {points} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), message);\n\t}\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(xl)))(i||xl)}}();static#t=this.\u0275cmp=Qe({type:xl,selectors:[["app-post-tdd-4"]],features:[ve],decls:232,vars:12,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","https://www.jetbrains.com/resharper/"],["href","https://www.jetbrains.com/help/resharper/2022.1/MemberCanBeMadeStatic.Local.html"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,wV,2,1,"small",1),d(),u(11,"h2"),a(12,"The first Taking Damage requirement"),d(),u(13,"p"),a(14," Let's recap the first requirement under "),u(15,"i"),a(16,"Taking Damage and Dying"),d(),a(17," from the user perspective:\n"),d(),u(18,"ul",2)(19,"li"),a(20,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),m(21,"br"),a(22," equal to the damage points taken (always losing at least 1 fraction)"),d()(),m(23,"div",3),u(24,"p"),a(25),d(),u(26,"ul",2)(27,"li"),a(28,"Avatar will lose Health "),u(29,"code"),a(30,"CurrentPoints"),d(),a(31," equal to Damage Points taken (always losing at last 1 Health Point)"),d()(),m(32,"div",3),u(33,"h2"),a(34,"Take Damage cycling"),d(),u(35,"h3")(36,"span",4),a(37,"RED"),d()(),u(38,"p"),a(39," I start by writing the test."),m(40,"br"),a(41," The entry point will be a new method named "),u(42,"code"),a(43,"TakeDamage"),d(),a(44,","),m(45,"br"),a(46," thus I write a nested class with same name,"),m(47,"br"),a(48," and within it I write the test case "),u(49,"code"),a(50,"CurrentPointsDecrease"),d(),m(51,"br"),a(52," (according to my naming convention, explained in "),u(53,"a",5),a(54,"Part 3"),d(),a(55,")."),m(56,"br"),d(),u(57,"pre"),m(58,"code",6),d(),u(59,"p"),a(60," The test fails as the "),u(61,"code"),a(62,"TakeDamage"),d(),a(63," method is not defined.\n"),d(),u(64,"h3")(65,"span",7),a(66,"GREEN"),d()(),u(67,"pre"),m(68,"code",6),d(),u(69,"p"),a(70," I'm confident that this effortless implementation"),m(71,"br"),a(72," fulfills the requirement for all valid inputs."),m(73,"br"),a(74," It's clean and thus does not need a "),u(75,"span",8),a(76,"REFACTOR"),d(),a(77," step."),m(78,"br"),a(79," But invalid values can be passed in, so I'll do a cycle for handling those.\n"),d(),u(80,"h2"),a(81,"Handle invalid input values"),d(),u(82,"h3")(83,"span",4),a(84,"RED"),d()(),u(85,"p"),a(86," A minus value for "),u(87,"code"),a(88,"damagePoints"),d(),a(89," is clearly invalid but what about "),u(90,"code"),a(91,"0"),d(),a(92," ?"),m(93,"br"),a(94," I conclude that "),u(95,"code"),a(96,"0"),d(),a(97," is also invalid,"),m(98,"br"),a(99," as an outside 'damage calculator' logic should take care of this earlier"),m(100,"br"),a(101," (thus "),u(102,"code"),a(103,"TakeDamage won't be invoked)"),d(),a(104,"."),m(105,"br"),a(106," This also makes the design streamlined as it ensures that"),m(107,"br"),u(108,"code"),a(109,"CurrentPoints"),d(),a(110," will always decrease on "),u(111,"code"),a(112,"TakeDamage"),d(),a(113," call."),m(114,"br")(115,"br"),a(116," This will be a similar test as the existing "),u(117,"code"),a(118,"ThrowsError_WhenStartingPointsIsInvalid"),d(),m(119,"br"),a(120," but now the "),u(121,"i"),a(122,"entry point"),d(),a(123," is method "),u(124,"code"),a(125,"TakeDamage"),d(),a(126,","),m(127,"br"),a(128," and thus it will be inside the nested class "),u(129,"code"),a(130,"TakeDamage."),d()(),u(131,"pre"),m(132,"code",6),d(),u(133,"p"),a(134," The value I pass into the constructor has no significance to this test,"),m(135,"br"),a(136," and thus is not a "),u(137,"i"),a(138,"TestCase"),d(),a(139," parameter.\n"),d(),u(140,"h3")(141,"span",7),a(142,"GREEN"),d()(),u(143,"p"),a(144,"I make the test pass by"),m(145,"br"),a(146," duplicating the exception throwing code from the constructor,"),m(147,"br"),a(148," and then renaming the parameter to "),u(149,"code"),a(150,"damagePoints"),d(),m(151,"br"),a(152," (knowing that I'll refactor this code smell right away in the next step).\n"),d(),u(153,"pre"),m(154,"code",6),d(),m(155,"br"),u(156,"h3")(157,"span",8),a(158,"REFACTOR"),d()(),u(159,"p"),a(160," I refactor the duplicated code smell away."),m(161,"br"),d(),u(162,"pre"),m(163,"code",6),d(),u(164,"p"),a(165," When exception is thrown,"),m(166,"br"),a(167," the message is followed by the stack trace in the console,"),m(168,"br"),a(169," and therefore it is sufficient that the param name will simply be "),u(170,"i"),a(171,"points"),d(),m(172,"br"),a(173," as you can follow the trace to see which method called "),u(174,"code"),a(175,"ValidatePoints"),d(),a(176,"."),m(177,"br")(178,"br"),a(179," Having "),u(180,"code"),a(181,"lowestValidValue"),d(),a(182," as sent in parameter for method "),u(183,"code"),a(184,"ValidatePoints"),d(),m(185,"br"),a(186," makes the method easy to reuse,"),m(187,"br"),a(188," if another case comes later with different "),u(189,"code"),a(190,"lowestValidValue"),d(),a(191,"."),m(192,"br")(193,"br"),u(194,"a",9),a(195,"ReSharper"),d(),a(196," hints that "),u(197,"code"),a(198,"ValidatePoints"),d(),a(199," method can be made "),u(200,"code"),a(201,"static"),d(),a(202,","),m(203,"br"),a(204," and I agree, as it doesn't hinder testability nor design (it's "),u(205,"code"),a(206,"private"),d(),a(207,")."),m(208,"br"),a(209," Making it "),u(210,"code"),a(211,"static "),d(),u(212,"a",10),a(213,"can yield a small performance benefit"),d(),a(214,"."),m(215,"br")(216,"br"),a(217," I ignore ReSharper's hint to 'invert "),u(218,"code"),a(219,"if"),d(),a(220," statement' as the current format"),m(221,"br"),a(222," is more readable IMO and the nested braces are only one-level deep."),m(223,"br")(224,"br"),a(225," I run all the tests (and also did as needed while refactoring) to verify everything works."),m(226,"br"),a(227," Now the Test Runner looks like this:\n"),d(),u(228,"figure"),m(229,"img",11),u(230,"figcaption"),a(231," Unity Test Runner: after refactoring 'ThrowsError' implementation "),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(13),C("innerHTML",i.completeRequirementListHtml,oe),b(2),Ue(" ",i.rewordRequirement,"\n"),b(7),C("innerHTML",i.aboutCodeHtml,oe),b(26),C("highlight",i.test_1_Red),b(10),C("highlight",i.impl_1_Green),b(64),C("highlight",i.test_2_Red),b(22),C("highlight",i.impl_2_Green),b(9),C("highlight",i.impl_2_Refactor))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function _V(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Ol extends Qt{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Constructor\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = new Health(12);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.impl_1_green="// Health.cs\npublic bool IsDead => false;\n",this.test_2_red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void IsDead_AfterTwoInvocations()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(11);\n\tAssert.That(health.IsDead, Is.False);\n\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="// Health.cs\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="// Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1); // method not shown\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n}\n",this.test_4_red="// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(1, 4, 4)]\n[TestCase(1, 4, 5)]\n[TestCase(1, 4, 24)]\n[TestCase(-21, 4, 25)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.impl_4_green="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints < FullPoints\n\t\t|| CurrentPoints > damagePoints\n\t\t|| damagePoints > CurrentPoints + 20)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n\telse\n\t{\n\t\tCurrentPoints = 1;\n\t}\n}\n",this.impl_4_refactor="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints + 20)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n",this.impl_4_refactor_2="// Health.cs\npublic const int MaxNegativePointsForInstantKillProtection = -20;\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints - MaxNegativePointsForInstantKillProtection)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Ol)))(i||Ol)}}();static#t=this.\u0275cmp=Qe({type:Ol,selectors:[["app-post-tdd-5"]],features:[ve],decls:338,vars:17,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["href","./blog/tdd-health/part1"],[1,"list","inline"],[1,"greenRefactor"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,_V,2,1,"small",1),d(),u(11,"h2"),a(12,"The Dying requirements"),d(),u(13,"p"),a(14," Let's recap the rest of the "),u(15,"i"),a(16,"Taking Damage and Dying"),d(),a(17," requirements from the user perspective:\n"),d(),u(18,"ul",2)(19,"li"),a(20,"When Link loses all of his Hearts the game ends"),d(),u(21,"li"),a(22,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),m(23,"br"),a(24," and will instead be left alive with Hearth 1 fraction remaining"),d(),u(25,"ul")(26,"li"),a(27,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),d()()(),m(28,"div",3),u(29,"p"),a(30),d(),u(31,"ul",2)(32,"li"),a(33,"When Avatar loses all of his Health Points he dies (and game ends)"),d(),u(34,"li"),a(35,"The Avatar is protected from any damage that would instantly kill him as long as his Health Points are full"),m(36,"br"),a(37," and will instead be left alive with 1 Health Points remaining"),d(),u(38,"ul")(39,"li"),a(40,"However, if the damage is more than 20 points in addition to his full Health Points, he will still die"),d()()(),m(41,"div",3),u(42,"h2"),a(43,"Death cycling"),d(),u(44,"p"),a(45," I start cycling the first dying requirement."),m(46,"br"),a(47," The domain model focus will be a new property named "),u(48,"code"),a(49,"IsDead"),d(),a(50,".\n"),d(),u(51,"h3")(52,"span",4),a(53,"RED"),d()(),u(54,"p"),a(55," I write a new test case and it fails as "),u(56,"code"),a(57,"IsDead"),d(),a(58," is not defined.\n"),d(),u(59,"pre"),m(60,"code",5),d(),u(61,"h3")(62,"span",6),a(63,"GREEN"),d()(),u(64,"p"),a(65," I make "),u(66,"code"),a(67,"IsDead"),d(),a(68," simply return "),u(69,"code"),a(70,"false"),d(),a(71," to pass the test.\n"),d(),u(72,"pre"),m(73,"code",5),d(),u(74,"p"),a(75," I encapsulated the property into a 'getter' via "),u(76,"a",7),a(77,"Expression-Bodied Members syntax"),d(),a(78,"."),m(79,"br")(80,"br"),a(81," I know that simply returning "),u(82,"code"),a(83,"false"),d(),a(84," for "),u(85,"code"),a(86,"IsDead"),d(),a(87," will not hold as the generic solution that satisfies all cases,"),m(88,"br"),a(89," thus I'll now do a new cycle to achieve that."),m(90,"br"),d(),u(91,"h3")(92,"span",4),a(93,"RED"),d()(),u(94,"p"),a(95," Still Focusing on the first dying requirement, but also having the 'protected from instant kill' case in mind,"),m(96,"br"),a(97," I write a new test case that reduces the "),u(98,"code"),a(99,"CurrentPoints"),d(),a(100," to "),u(101,"code"),a(102,"0"),d(),a(103," after two "),u(104,"code"),a(105,"TakeDamage"),d(),a(106," invocations,"),m(107,"br"),a(108," as I know that that case should always kill the Avatar."),m(109,"br"),d(),u(110,"pre"),m(111,"code",5),d(),u(112,"p"),a(113," The "),u(114,"code"),a(115,"_After"),d(),a(116," in the name suits well for this scenario (better than "),u(117,"code"),a(118,"_When"),d(),a(119,")."),m(120,"br"),a(121," The test still checks only one exit point, although it asserts it twice."),m(122,"br"),a(123," As the test is readable, focused and meaningful,"),m(124,"br"),a(125," I'm still in line IMO with "),u(126,"i"),a(127,"What is a good Unit Test"),d(),a(128," section in "),u(129,"a",8),a(130,"Part 1"),d(),a(131,")."),m(132,"br")(133,"br"),a(134," The test fails as currently the Avatar is immortal!"),m(135,"br"),a(136," Of course that's no good, so let's fix that and make the test pass.\n"),d(),u(137,"h3")(138,"span",6),a(139,"GREEN"),d()(),u(140,"p"),a(141," I change the implementation of the "),u(142,"code"),a(143,"IsDead"),d(),a(144," property that makes the test (and the previous test) pass."),m(145,"br"),d(),u(146,"pre"),m(147,"code",5),d(),u(148,"p"),a(149," I'm confident that now I have the generic solution for this property,"),m(150,"br"),a(151," Thus I'll start a new cycle for the next requirement.\n"),d(),u(152,"h2"),a(153,"Protected from instant kill"),d(),u(154,"p"),a(155," Now focusing on the latter requirement (listed at start of this post),"),m(156,"br"),a(157," I now take further note of the concept 'full Health Points' in the requirement,"),m(158,"br"),a(159," and realize it is a definition with it's own simple requirement"),m(160,"br"),a(161," Let's cycle this, and then get back to the dying part.\n"),d(),u(162,"ul",9)(163,"li"),a(164,"Link starts with Full Health -> "),u(165,"code"),a(166,"FullPoints"),d(),a(167," start with same value as "),u(168,"code"),a(169,"startingPoints"),d()()(),u(170,"h2"),a(171,"Full Health Points cycle"),d(),u(172,"p"),a(173," The domain model focus will be a new property named "),u(174,"code"),a(175,"FullPoints"),d(),a(176,".\n"),d(),u(177,"h3")(178,"span",4),a(179,"RED"),d()(),u(180,"pre"),m(181,"code",5),d(),u(182,"p"),a(183," The test is very similar to the existing test for "),u(184,"i"),a(185,"exit point"),d(),u(186,"code"),a(187," CurrentPoints"),d(),m(188,"br"),a(189," but the key difference is that it's testing a different "),u(190,"i"),a(191,"exit point"),d(),a(192," (see "),u(193,"i"),a(194,"Good Unit Test definition"),d(),a(195," in "),u(196,"a",8),a(197,"part 1"),d(),a(198,").\n"),d(),u(199,"h3")(200,"span",6),a(201,"GREEN"),d()(),u(202,"pre"),m(203,"code",5),d(),u(204,"p"),a(205," I set "),u(206,"code"),a(207,"FullPoints"),d(),a(208," to the "),u(209,"code"),a(210,"startingPoints"),d(),a(211," parameter value (same as "),u(212,"code"),a(213,"CurrentPoints"),d(),a(214,")."),m(215,"br")(216,"br"),a(217," I also encapsulate "),u(218,"code"),a(219,"CurrentPoints"),d(),a(220," into a 'getter, private setter'."),m(221,"br")(222,"br"),a(223," This "),u(224,"code"),a(225,"FullPoints"),d(),a(226," implementation satisfies the current requirements,"),m(227,"br"),a(228," but likely will be extended on later with the Replenishing requirements."),m(229,"br"),a(230," Thus now I'll start a new cycle to fulfill the 'Protected from instant kill' requirement."),m(231,"br"),d(),u(232,"h2"),a(233,"Protected from instant kill cycling"),d(),u(234,"h3")(235,"span",4),a(236,"RED"),d()(),u(237,"pre"),m(238,"code",5),d(),u(239,"p"),a(240," I assert on the output "),u(241,"code"),a(242,"CurrentPoints"),d(),a(243," as the 'protected from instant kill' case should leave the value at "),u(244,"code"),a(245,"1"),d(),a(246,"."),m(247,"br"),a(248," The last "),u(249,"code"),a(250,"TestCase"),d(),a(251," tests the 'exception' case:"),m(252,"br"),a(253," when the damage is so much that it kills the Avatar regardless."),m(254,"br"),d(),u(255,"h3"),a(256,"Test code naming / structure convention"),d(),u(257,"p"),a(258," Elaborating further, the scenario starting with "),u(259,"code"),a(260,"_When"),d(),m(261,"br"),a(262," can continue with "),u(263,"code"),a(264,"_Then"),d(),a(265," as needed."),m(266,"br"),a(267," The whole scenario 'plays out' before the assertion / "),u(268,"i"),a(269,"exit point"),d(),a(270," check."),m(271,"br"),a(272," ("),u(273,"code"),a(274,"_Then"),d(),a(275," indicates occurring later in the internal scenario order).\n"),d(),u(276,"h2"),a(277,"Experience the value of TDD"),d(),u(278,"p"),a(279," Now the value of TDD starts to shine"),m(280,"br"),a(281," as my first attempts to make test pass failed and/or failed existing ones."),m(282,"br"),a(283," I suggest you try it out yourself before reading my "),u(284,"span",6),a(285,"GREEN"),d(),a(286," solution below.\n"),d(),u(287,"p"),a(288," Have you tried it out ?"),m(289,"br"),a(290," Great !"),m(291,"br"),a(292," Then you can compare with my solution below :)\n"),d(),u(293,"h3")(294,"span",6),a(295,"GREEN"),d()(),u(296,"pre"),m(297,"code",5),d(),u(298,"p"),a(299," I got all tests passing with this solution, but it could be cleaned up,"),m(300,"br"),a(301," thus onward to the refactoring step.\n"),d(),u(302,"h3")(303,"span",10),a(304,"REFACTOR"),d()(),u(305,"pre"),m(306,"code",5),d(),u(307,"p"),a(308," I 'flipped' the "),u(309,"code"),a(310,"if"),d(),a(311," check, which then checks for the 'protection' case,"),m(312,"br"),a(313," and returns early (instead of having "),u(314,"code"),a(315,"else"),d(),a(316,")."),m(317,"br"),a(318," This makes the code more readable and streamlined, IMO."),m(319,"br")(320,"br"),a(321," I don't like that the number "),u(322,"code"),a(323,"20"),d(),a(324," has no explanation to it ('magic' number),"),m(325,"br"),a(326," so I'll do an iteration on it.\n"),d(),u(327,"h3")(328,"span",10),a(329,"REFACTOR (2nd iteration)"),d()(),u(330,"pre"),m(331,"code",5),d(),u(332,"p"),a(333," I replaced the 'magic' number with a constant member"),m(334,"br"),a(335," and gave it a meaningful name that explains the number."),m(336,"br"),a(337," A negative value aligns with the naming of the const, so I 'flip' the value.\n"),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(18),C("innerHTML",i.completeRequirementListHtml,oe),b(2),Ue(" ",i.rewordRequirement,"\n"),b(11),C("innerHTML",i.aboutCodeHtml,oe),b(19),C("highlight",i.test_1_red),b(13),C("highlight",i.impl_1_green),b(38),C("highlight",i.test_2_red),b(36),C("highlight",i.impl_2_green),b(34),C("highlight",i.test_3_red),b(22),C("highlight",i.impl_3_green),b(35),C("highlight",i.test_4_red),b(59),C("highlight",i.impl_4_green),b(9),C("highlight",i.impl_4_refactor),b(25),C("highlight",i.impl_4_refactor_2))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function CV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Rl extends Qt{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(12));\n}\n",this.impl_1_green="// Health.cs\npublic void Replenish(int replenishPoints) { }\n",this.test_2_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenNotFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(2);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.test_2_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n",this.test_invalid_input_red='// HealthTest.cs\n// inside nested class Replenish\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenReplenishPointsIsInvalid(int replenishPoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.Replenish(replenishPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.test_invalid_input_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tValidatePoints(replenishPoints, 1); // method not shown\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Rl)))(i||Rl)}}();static#t=this.\u0275cmp=Qe({type:Rl,selectors:[["app-post-tdd-6"]],features:[ve],decls:164,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["src","../assets/images/blog/tdd/TestRunner_after-replenish-tests.PNG","alt","Unity Test Runner: after adding Replenish tests","title","Unity Test Runner: after adding Replenish tests",1,"imageSmallText"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,CV,2,1,"small",1),d(),u(11,"h2"),a(12,"The requirement"),d(),u(13,"p"),a(14," Let's recap it from the user perspective:\n"),d(),u(15,"ul",2)(16,"li"),a(17,"Link's Life Gauge can be replenished by consuming certain food"),d()(),m(18,"div",3),u(19,"p"),a(20),d(),u(21,"ul",2)(22,"li"),a(23,"Avatar Health / "),u(24,"code"),a(25,"CurrentPoints"),d(),a(26," can be replenished by consuming food"),d()(),m(27,"div",3),u(28,"h2"),a(29,"Replenish cycling"),d(),u(30,"p"),a(31," The domain model focus will be a new method named "),u(32,"code"),a(33,"Replenish"),d(),a(34,"."),m(35,"br"),d(),u(36,"h3")(37,"span",4),a(38,"RED"),d()(),u(39,"p"),a(40," One case is if the player decides to make the Avatar"),m(41,"br"),a(42," use an item that replenishes when Health is full,"),m(43,"br"),a(44," a complete waste of an item as "),u(45,"code"),a(46,"CurrentPoints"),d(),a(47," don't increase,"),m(48,"br"),a(49," but a valid case regardless.\n"),d(),u(50,"pre"),m(51,"code",5),d(),u(52,"h3")(53,"span",6),a(54,"GREEN"),d()(),u(55,"p"),a(56," I effortlessly pass the test by adding an empty "),u(57,"code"),a(58,"Replenish"),d(),a(59," method.\n"),d(),u(60,"pre"),m(61,"code",5),d(),u(62,"p"),a(63," Of course this will not hold for other cases,"),m(64,"br"),a(65," so I'll cycle in more test cases to drive the implementation.\n"),d(),u(66,"h3")(67,"span",4),a(68,"RED"),d()(),u(69,"p"),a(70," Let's do a test for a more sensible valid case,"),m(71,"br"),a(72," when replenish will actually increase the "),u(73,"code"),a(74,"CurrentPoints"),d(),a(75,".\n"),d(),u(76,"pre"),m(77,"code",5),d(),u(78,"p"),a(79," I use the existing method "),u(80,"code"),a(81,"TakeDamage"),d(),a(82," to decrease the "),u(83,"code"),a(84,"CurrentPoints"),d(),m(85,"br"),a(86," before the method "),u(87,"code"),a(88,"Replenish"),d(),a(89," is invoked (the "),u(90,"i"),a(91,"entry point"),d(),a(92," of this test)."),m(93,"br"),a(94," ("),u(95,"code"),a(96,"TakeDamage"),d(),a(97," has already been tested and thus will work as expected).\n"),d(),u(98,"h3")(99,"span",6),a(100,"GREEN"),d()(),u(101,"pre"),m(102,"code",5),d(),u(103,"p"),a(104," I'm confident that this is the generic solution for any valid input"),m(105,"br"),a(106," so don't add more tests cases."),m(107,"br")(108,"br"),a(109," But I have to handle invalid input, so let's do a cycle for those.\n"),d(),u(110,"h2"),a(111,"Handle invalid input values"),d(),u(112,"h3")(113,"span",4),a(114,"RED"),d()(),u(115,"p"),a(116," As this will be similar to the 'take damage' handling,"),m(117,"br"),a(118," I copy the existing 'take damage throws error' test"),m(119,"br"),a(120," and paste it under the nested "),u(121,"code"),a(122,"Replenish"),d(),a(123," class"),m(124,"br"),a(125," and change to 'replenish' appropriately.\n"),d(),u(126,"pre"),m(127,"code",5),d(),u(128,"p"),a(129," This test case 'copy / paste' is valid"),m(130,"br"),a(131," as it's tests the same handling for a different "),u(132,"i"),a(133,"entry point"),d(),a(134," and "),u(135,"i"),a(136,"input"),d(),a(137,".\n"),d(),u(138,"h3")(139,"span",6),a(140,"GREEN"),d()(),u(141,"p"),a(142," I invoke the existing "),u(143,"code"),a(144,"ValidatePoints"),d(),a(145," method"),m(146,"br"),a(147," passing in "),u(148,"code"),a(149,"replenishPoints"),d(),a(150," and "),u(151,"code"),a(152,"1"),d(),a(153," for "),u(154,"code"),a(155,"lowestValidValue"),d()(),u(156,"pre"),m(157,"code",5),d(),u(158,"p"),a(159," Now the Unity Test Runner looks like this:\n"),d(),u(160,"figure"),m(161,"img",7),u(162,"figcaption"),a(163," Unity Test Runner: after adding Replenish tests "),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(8),C("innerHTML",i.completeRequirementListHtml,oe),b(2),Ue(" ",i.rewordRequirement,"\n"),b(7),C("innerHTML",i.aboutCodeHtml,oe),b(24),C("highlight",i.test_1_red),b(10),C("highlight",i.impl_1_green),b(16),C("highlight",i.test_2_red),b(25),C("highlight",i.test_2_green),b(25),C("highlight",i.test_invalid_input_red),b(30),C("highlight",i.test_invalid_input_green))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function DV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Ll extends Qt{constructor(){super(...arguments),this.refactorHealth="// Health.cs\npublic const int PointsPerUnit = 4;\npublic const int MaxNegativeUnitsForInstantKillProtection = -5;\n\npublic Health(int startingUnits)\n{\n\tValidatePoints(startingUnits, 1);\n\tFullPoints = CurrentPoints = startingUnits * PointsPerUnit;\n}\n\n// PointsPerUnit also used in InstantKillProtection calculation,\n// which is not shown.\n",this.refactorHealthTest="// HealthTest.cs\n[TestCase(3)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingUnits)\n{\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingUnits * health.PointsPerUnit));\n}\n\n// other similar refactoring not shown.\n",this.red_increaseByUnit_fullPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void FullPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.FullPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_fullPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n}\n",this.red_increaseByUnit_currentPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void CurrentPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_currentPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n",this.red_IsMaxUnitsReached="// HealthTest.cs\n// inside nested class IsMaxUnitsReached\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n\n[Test]\npublic void ReturnsFalse_WhenStartingUnitsNotAtMax()\n{\n\tint startingUnits = Health.MaxUnits - 1;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.False);\n}\n",this.green_IsMaxUnitsReached="// Health.cs\npublic const int MaxUnits = 30;\n\npublic bool IsMaxUnitsReached => MaxUnits == FullPoints / PointsPerUnit;\n",this.red_IncreaseByUnit_ThrowsError='// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void ThrowsError_WhenMaxUnitsReached()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tvar exception = Assert.Throws(Is.TypeOf<InvalidOperationException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.IncreaseByUnit();\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.green_IncreaseByUnit_ThrowsError='// Health.cs\npublic void IncreaseByUnit()\n{\n\tif (IsMaxUnitsReached)\n\t{\n\t\tvar message = $"Method invocation is invalid as {nameof(IsMaxUnitsReached)} is true";\n\t\tthrow new InvalidOperationException(message);\n\t}\n\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Ll)))(i||Ll)}}();static#t=this.\u0275cmp=Qe({type:Ll,selectors:[["app-post-tdd-7"]],features:[ve],decls:440,vars:16,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list","inline"],[3,"innerHTML"],[1,"center"],[1,"greenRefactor"],[3,"highlight"],[1,"redFail"],[1,"greenPass"],["href","./blog/tdd-health/part1"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["src","../assets/images/blog/tdd/TestRunner_after-increase-tests.png","alt","Unity Test Runner: after Increase and Max requirements","title","Unity Test Runner: after Increase and Max requirements",1,"imageSmallText"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,DV,2,1,"small",1),d(),u(11,"h2"),a(12,"The requirements"),d(),u(13,"p"),a(14," Let's recap this requirements from the user perspective:\n"),d(),u(15,"ul",2)(16,"li"),a(17,"The Life Gauge can be increased by 1 Heart at a time"),d(),u(18,"ul")(19,"li"),a(20,"Link's health will become full with the increase"),d()(),u(21,"li"),a(22,"The maximum of Hearts is 30"),d()(),u(23,"p"),a(24,"\nIncreasing the Health is a significant gameplay event In "),u(25,"i"),a(26,"Breath of the Wild"),d(),m(27,"br"),a(28,"\n(solving puzzles in shrines to get Spirit Orbs, then find and pray to a Goddess Statue),"),m(29,"br"),a(30,"\nand thus the increase is always 1 Heart each time, no more or less.\n"),d(),m(31,"div",3),u(32,"p"),a(33," Now it makes sense to define a new unit in "),u(34,"code"),a(35,"Health"),d(),a(36," that equals 4 "),u(37,"code"),a(38,"Points,"),d(),m(39,"br"),a(40,"\nthat is visually represented as a Heart (or something else),"),m(41,"br"),a(42," as the increase should always be in that unit."),m(43,"br"),d(),u(44,"h2"),a(45,"Domain / View mapping (revisited)"),d(),u(46,"p"),a(47," I add a new domain definition "),u(48,"i"),a(49,"Unit"),d(),a(50," that maps to the visualized "),u(51,"i"),a(52,"Heart"),d()(),u(53,"table")(54,"tr")(55,"th")(56,"b"),a(57,"Domain Model"),d()(),u(58,"th")(59,"b"),a(60,"View / GUI"),d()()(),u(61,"tr")(62,"td",4),a(63," (Avatar) Health "),d(),u(64,"td",4),a(65," Life Gauge "),d()(),u(66,"tr")(67,"td",4)(68,"b")(69,"i"),a(70,"Unit"),d()()(),u(71,"td",4),a(72," Heart (holds 4 Fractions) "),d()(),u(73,"tr")(74,"td",4),a(75," Points "),d(),u(76,"td",4),a(77," Heart Fractions "),d()()(),u(78,"p"),a(79,"\nWith "),u(80,"i"),a(81,"Unit"),d(),a(82," defined, I realize that it's beneficial to redefine some 'points' variables into 'unit':"),m(83,"br"),d(),u(84,"ul",2)(85,"li")(86,"code"),a(87,"startingPoints"),d(),a(88," -> "),u(89,"code"),a(90,"startingUnits"),d()(),u(91,"ul")(92,"li"),a(93,"In "),u(94,"i"),a(95,"Breath of the Wild"),d(),a(96," Link starts with 3 "),u(97,"code"),a(98,"Units"),d(),a(99,", thus fits the "),u(100,"code"),a(101,"Units"),d(),a(102," constraint"),d(),u(103,"li"),a(104,"This is also a very reasonable game-balance constraint, and will simplify the logic"),d(),u(105,"li"),a(106,"Note that for "),u(107,"code"),a(108,"FullPoints"),d(),a(109,", it makes sense to stay as points"),m(110,"br"),a(111," but will always be equivalent to a whole Unit/s, due to its requirements (via 'starting' and 'increasing')"),d()(),u(112,"li")(113,"code"),a(114,"MaxNegativePointsForInstantKillProtection"),d(),a(115," -> "),u(116,"code"),a(117,"MaxNegativeUnits..."),d()(),u(118,"ul")(119,"li"),a(120,"In "),u(121,"i"),a(122,"Breath of the Wild"),d(),a(123," it is 5 "),u(124,"code"),a(125,"Units"),d(),a(126,", thus fits the "),u(127,"code"),a(128,"Units"),d(),a(129," constraint"),d(),u(130,"li"),a(131,"This is also a very reasonable game-balance constraint, and will simplify the logic"),d()()(),u(132,"p"),a(133,"\nNow let's reword the requirements focusing on the domain model and using its updated terminology:\n"),d(),u(134,"ul",2)(135,"li")(136,"code"),a(137,"FullPoints"),d(),a(138," can be increased by 1 "),u(139,"code"),a(140,"Unit"),d(),a(141," at a time"),d(),u(142,"ul")(143,"li")(144,"code"),a(145,"CurrentPoints"),d(),a(146," get same value as "),u(147,"code"),a(148,"FullPoints"),d()()(),u(149,"li")(150,"code"),a(151,"MaxUnits"),d(),a(152," (hereby named) is 30"),d()(),m(153,"div",3),u(154,"h2"),a(155,"A wholistic refactoring"),d(),u(156,"p"),a(157,"\nWhen doing a wholistic refactoring with a clear goal,"),m(158,"br"),a(159,"it might make more sense to start with the production code, as is the case now.\n"),d(),u(160,"h3")(161,"span",5),a(162,"Refactor "),u(163,"code"),a(164,"Health"),d()()(),u(165,"p"),a(166,"\nI forsee that it will be beneficial to define a new constant "),u(167,"code"),a(168,"PointsPerUnits"),d(),a(169," in "),u(170,"code"),a(171,"Health"),d(),a(172," to make points <-> units conversation easy and readable."),m(173,"br"),a(174,"\nI then rename the variable names and convert the values using "),u(175,"code"),a(176,"PointsPerUnits"),d()(),u(177,"pre"),m(178,"code",6),d(),u(179,"h3")(180,"span",5),a(181,"Refactor "),u(182,"code"),a(183,"HealthTest"),d()()(),u(184,"p"),a(185,"\nNow obviously many tests "),u(186,"span",7),a(187,"fail"),d(),a(188," as the values need to converted to units."),m(189,"br"),a(190,"\nI rename accordingly and convert the values, using "),u(191,"code"),a(192,"PointsPerUnits"),d(),a(193," where appropriate."),m(194,"br"),d(),u(195,"pre"),m(196,"code",6),d(),u(197,"p"),a(198,"\nNow all the tests "),u(199,"span",5),a(200,"pass"),d(),a(201," again, and all is well in the universe.\n"),d(),u(202,"h2"),a(203,"TDD Cycling "),u(204,"code"),a(205,"IncreaseByUnit"),d()(),u(206,"p"),a(207," The domain model focus will be a new method named "),u(208,"code"),a(209,"IncreaseByUnit"),d(),a(210,"."),m(211,"br"),d(),u(212,"h3")(213,"span",7),a(214,"RED (exit point "),u(215,"code"),a(216,"FullPoints"),d(),a(217,")"),d()(),u(218,"p"),a(219," Focusing first on the "),u(220,"code"),a(221,"FullPoints"),d(),a(222," property.\n"),d(),u(223,"pre"),m(224,"code",6),d(),u(225,"h3")(226,"span",8),a(227,"GREEN"),d()(),u(228,"p"),a(229," I pass the test by using the defined constant "),u(230,"code"),a(231,"PointsPerUnit"),d()(),u(232,"pre"),m(233,"code",6),d(),u(234,"p"),a(235," Now I focus on the other "),u(236,"i"),a(237,"exit point"),d(),a(238,", the "),u(239,"code"),a(240,"CurrentPoints"),d(),a(241," property."),m(242,"br"),a(243," It ideally should be a new tests as it's about a different "),u(244,"i"),a(245,"exit point"),d(),m(246,"br"),a(247," (see Good Unit Test definition in "),u(248,"a",9),a(249,"part 1"),d(),a(250,").\n"),d(),u(251,"h3")(252,"span",7),a(253,"RED (exit point "),u(254,"code"),a(255,"CurrentPoints"),d(),a(256,")"),d()(),u(257,"pre"),m(258,"code",6),d(),u(259,"h3")(260,"span",8),a(261,"GREEN"),d()(),u(262,"pre"),m(263,"code",6),d(),u(264,"p"),a(265,"\nI simply add the line "),u(266,"code"),a(267,"CurrentPoints = FullPoints"),d(),a(268,","),m(269,"br"),a(270,"\nwhich is also the proper solution as the requirement is:"),m(271,"br"),a(272,"\n'"),u(273,"code"),a(274,"CurrentPoints"),d(),a(275," get same value as "),u(276,"code"),a(277,"FullPoints"),d(),a(278," (on increase)'.\n"),d(),u(279,"h2"),a(280,"Cycling the maximum"),d(),u(281,"p"),a(282,"\nAll that is left is the maximum requirement."),m(283,"br"),a(284,"\nThe game will only give the user the option to increase the health"),m(285,"br"),a(286,"\nif the "),u(287,"code"),a(288,"MaxUnits"),d(),a(289," has not been reached (and it costs 4 "),u(290,"i"),a(291,"Spirit Orbs"),d(),a(292,"),"),m(293,"br"),a(294,"\nThus the outside code should query "),u(295,"code"),a(296,"Health"),d(),a(297," if maximum has been reached,"),m(298,"br"),a(299,"\nand if not, only then invoke "),u(300,"code"),a(301,"IncreaseByUnit"),d(),a(302,"."),m(303,"br"),u(304,"code"),a(305,"IncreaseByUnit"),d(),a(306," should though also handle improper usage in this regard,"),m(307,"br"),a(308,"\nand I'll add this handling at the end of this post.\n"),d(),u(309,"h3")(310,"span",7),a(311,"RED"),d()(),u(312,"p"),a(313," The "),u(314,"i"),a(315,"entry point"),d(),a(316," will be a new property named "),u(317,"code"),a(318,"IsMaxUnitsReached"),d(),a(319,"."),m(320,"br"),d(),u(321,"pre"),m(322,"code",6),d(),u(323,"p"),a(324,"\nI added 2 test easily at the same time,"),m(325,"br"),a(326,"\nwhich should suffice to drive in the proper production implementation."),m(327,"br")(328,"br"),a(329,"\nHere I can concise the test names"),m(330,"br"),a(331,"\nas the "),u(332,"i"),a(333,"exit point"),d(),a(334," is the same as the "),u(335,"i"),a(336,"entry point"),d(),a(337,","),m(338,"br"),a(339,"\nthus I skip the "),u(340,"i"),a(341,"exit point"),d(),a(342," in the name (nested class already names it)."),m(343,"br")(344,"br"),a(345,"\nThere are compile errors as both"),m(346,"br"),u(347,"code"),a(348,"MaxFullPoints"),d(),a(349," and "),u(350,"code"),a(351,"IsMaxUnitsReached"),d(),a(352," are not defined.\n"),d(),u(353,"h3")(354,"span",8),a(355,"GREEN"),d()(),u(356,"pre"),m(357,"code",6),d(),u(358,"p"),a(359,"\nI define the constant and give it the proper value,"),m(360,"br"),a(361,"\nand I implement the read-only property as an "),u(362,"a",10),a(363,"Expression-Bodied Member"),d(),a(364,"."),m(365,"br"),d(),u(366,"h2"),a(367,"Handle improper usage of "),u(368,"code"),a(369,"IncreaseByUnit"),d()(),u(370,"p"),a(371,"\nIf the outside code invokes "),u(372,"code"),a(373,"IncreaseByUnit"),d(),a(374," when "),u(375,"code"),a(376,"IsMaxUnitsReached"),d(),a(377," is "),u(378,"code"),a(379,"true"),d(),a(380,","),m(381,"br"),a(382,"\nthe method should handle this improper usage.\n"),d(),u(383,"h3")(384,"span",7),a(385,"RED"),d()(),u(386,"pre"),m(387,"code",6),d(),u(388,"p"),a(389," I deem I can use existing "),u(390,"code"),a(391,"InvalidOperationException"),d(),a(392," from "),u(393,"code"),a(394,"System"),d(),a(395,","),m(396,"br"),a(397," if I include an informative message for my case."),m(398,"br")(399,"br"),a(400," I assert that the message contains string "),u(401,"i"),a(402,"invalid"),d(),a(403,", ignoring case."),m(404,"br"),a(405," I'm intentionally not being more specific"),m(406,"br"),a(407," to later minimize the chance the assert fails if the message is reworded."),m(408,"br"),a(409," This simple "),u(410,"i"),a(411,"Resistance to refactoring"),d(),a(412," makes this a better unit test."),m(413,"br"),a(414," (book "),u(415,"a",10),a(416,"Unit Testing Principles, Practices, and Patterns"),d(),a(417," by Vladimir Khorikov,"),m(418,"br"),a(419," lists "),u(420,"i"),a(421,"Resistance to refactoring"),d(),a(422," as one of the 4 pillars of good unit test).\n"),d(),u(423,"h3")(424,"span",8),a(425,"GREEN"),d()(),u(426,"pre"),m(427,"code",6),d(),u(428,"p"),a(429," I pass the test by adding the "),u(430,"i"),a(431,"if"),d(),a(432," condition at the start of the method."),m(433,"br")(434,"br"),a(435," Now the requirements hao been fulfilled and the Unity Test Runner looks like this:\n"),d(),u(436,"figure"),m(437,"img",11),u(438,"figcaption"),a(439," Unity Test Runner: after Increase and Max requirements "),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(21),C("innerHTML",i.completeRequirementListHtml,oe),b(122),C("innerHTML",i.aboutCodeHtml,oe),b(25),C("highlight",i.refactorHealth),b(18),C("highlight",i.refactorHealthTest),b(28),C("highlight",i.red_increaseByUnit_fullPointsIncrease),b(9),C("highlight",i.green_increaseByUnit_fullPointsIncrease),b(25),C("highlight",i.red_increaseByUnit_currentPointsIncrease),b(5),C("highlight",i.green_increaseByUnit_currentPointsIncrease),b(59),C("highlight",i.red_IsMaxUnitsReached),b(35),C("highlight",i.green_IsMaxUnitsReached),b(30),C("highlight",i.red_IncreaseByUnit_ThrowsError),b(40),C("highlight",i.green_IncreaseByUnit_ThrowsError))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function EV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Fl extends Qt{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, int.MinValue, -1)]\n\t\t[TestCase(-1, int.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, int.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, int.MinValue, -1)]\n\t\t[TestCase(1, int.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t{\n\t\tvar message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == int.MaxValue ? lowestValidV : highestValidV;\n\n\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingUnits, 1);\n\tStartingUnits = ProcessValidation(v, nameof(StartingUnits));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativeUnitsForInstantKillProtection, int.MinValue, -1);\n\tMaxNegativeUnitsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativeUnitsForInstantKillProtection));\n\n\tv = Validation.Validate(MaxUnits, StartingUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string fieldName)\n{\n\tif (!validation.IsValid)\n\t{\n\t\tDebug.LogWarning(validation.FailMessage + $\", for '{fieldName}'. Will set value to {validation.Value}.\");\n\t}\n\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.healthRefactor="// Health.cs\nprivate readonly GameConfig config;\n\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit => config.PointsPerUnit;\npublic int MaxUnits => config.MaxUnits;\npublic int MaxNegativeUnitsForInstantKillProtection => config.MaxNegativeUnitsForInstantKillProtection;\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tvar config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Fl)))(i||Fl)}}();static#t=this.\u0275cmp=Qe({type:Fl,selectors:[["app-post-tdd-8"]],features:[ve],decls:453,vars:15,consts:[[1,"byAndDate"],[4,"ngIf"],["href","./blog/tdd-health/part1"],[1,"list","inline"],["href","https://docs.unity3d.com/Manual/class-ScriptableObject.html"],[3,"highlight"],["src","../assets/images/blog/tdd/MenuItem_GameConfigInstance.png","alt","Create Game Config Instance via menu item","title","Create Game Config Instance via menu item",1,"imageSmallText"],["src","../assets/images/blog/tdd/Inspector_GameConfigInstance.png","alt","Game Config Instance via the Inspector window","title","Game Config Instance via the Inspector window",1,"imageSmallText"],[1,"redFail"],[1,"greenPass"],["src","../assets/images/blog/tdd/Unity_config-validation.gif","alt","Unity: Config Validation in the Inspector and Console","title","Unity: Config Validation in the Inspector and Console",1,"imageSmallText"],["src","../assets/images/blog/tdd/Unity_MaxUnits-validation.gif","alt","Unity: MaxUnits Validation in the Inspector and Console","title","Unity: MaxUnits Validation in the Inspector and Console",1,"imageSmallText"],[1,"greenRefactor"],["src","../assets/images/blog/tdd/TestRunner_after-config-added.png","alt","Test Runner after config added and used","title","Test Runner after config added and used",1,"imageSmallText"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,EV,2,1,"small",1),d(),u(11,"h2"),a(12,"The game balancing config"),d(),u(13,"p"),a(14,"\nThe thought came early (in "),u(15,"a",2),a(16,"part 3"),d(),a(17,") that a game balance config for values like "),u(18,"code"),a(19,"StartingUnits"),d(),a(20,","),m(21,"br"),a(22,"\nwould be valuable to have for balancing out during the development period."),m(23,"br"),a(24,"\nThe config should be accessible and validate the values (ideally immediately when changed),"),m(25,"br"),a(26,"\nand then later at runtime be injected to the "),u(27,"code"),a(28,"Health"),d(),a(29," instance."),m(30,"br"),a(31,"\nThere are other values in "),u(32,"code"),a(33,"Health"),d(),a(34," that are suitable, thus the config will include:\n"),d(),u(35,"ul",3)(36,"li")(37,"code"),a(38,"StartingUnits"),d()(),u(39,"li")(40,"code"),a(41,"PointsPerUnit"),d()(),u(42,"li")(43,"code"),a(44,"MaxUnits"),d()(),u(45,"li")(46,"code"),a(47,"MaxNegativeUnitsForInstantKillProtection"),d()()(),u(48,"h2"),a(49,"Using "),u(50,"code"),a(51,"ScriptableObject"),d()(),u(52,"p"),a(53,"\nAssuming that the game designer can do basic work in Unity and the version control system,"),m(54,"br"),a(55,"\nwe can keep the config solution completely within Unity."),m(56,"br"),a(57,"\nI'll thus base it on Unity's "),u(58,"a",4),a(59,"ScriptableObject"),d(),a(60,","),m(61,"br"),a(62,"\na data container that can be used to save large amounts of data."),m(63,"br"),a(64,"\nI create folder "),u(65,"i"),a(66,"ScriptableObjects/"),d(),a(67," at "),u(68,"i"),a(69,"Assets/Scripts/Runtime/"),d(),a(70," and create script "),u(71,"code"),a(72,"GameConfig"),d(),a(73," within it.\n"),d(),u(74,"pre"),m(75,"code",5),d(),u(76,"p"),a(77,"\nI create another folder "),u(78,"i"),a(79,"ScriptableObjectsInstances/"),d(),a(80," at "),u(81,"i"),a(82,"Assets/"),d(),m(83,"br"),a(84,"\nand because of the code above I can now right click on the folder / click at "),u(85,"i"),a(86,"Assets"),d(),a(87," at top menu,"),m(88,"br"),a(89,"\nand select menu item "),u(90,"i"),a(91,"Create > Avatar Health > Create GameConfig Instance"),d(),a(92,"."),m(93,"br"),a(94,"\nAs the name applies this creates a scriptable object instance based on the "),u(95,"code"),a(96,"GameConfig"),d(),a(97," class 'template'."),m(98,"br"),a(99,"\nI use the given default filename "),u(100,"code"),a(101,"GameConfigInstance"),d(),a(102," (file ends with "),u(103,"i"),a(104,".asset"),d(),a(105,").\n"),d(),u(106,"figure"),m(107,"img",6),u(108,"figcaption"),a(109,"Create GameConfig Instance via menu item"),d()(),u(110,"p"),a(111," I can now view and edit the "),u(112,"i"),a(113,"Game Config Instance"),d(),a(114," via the Inspector window.\n"),d(),u(115,"figure"),m(116,"img",7),u(117,"figcaption"),a(118,"Game Config Instance via the Inspector window"),d()(),u(119,"p"),a(120," I can change the values as I see fit and the change will be saved on the instance."),m(121,"br"),a(122," But there is no domain validation for the values, so I TDD cycle it.\n"),d(),u(123,"h2"),a(124,"TDD-ing the validation"),d(),u(125,"p"),a(126," Unit testing logic in scriptable objects can quickly become complicated."),m(127,"br"),a(128," For this reason, and also for Reusability and Separation of Concern,"),m(129,"br"),a(130," I will implement the generic validation logic in a utility class which will be easy to TDD."),m(131,"br"),a(132," Then I'll make the config process the validation using the utility logic.\n"),d(),u(133,"h3")(134,"span",8),a(135,"RED"),d()(),u(136,"p"),a(137," I create the folder "),u(138,"i"),a(139,"Utils"),d(),a(140," in the test folder"),m(141,"br"),a(142," ("),u(143,"i"),a(144,"Assets/Scripts/Tests/EditMode/"),d(),a(145,") and create script "),u(146,"code"),a(147,"ValidationTest"),d(),a(148," within it."),m(149,"br"),a(150," I take into consideration the requirements for both the config"),m(151,"br"),a(152," and the other validations that "),u(153,"code"),a(154,"Health"),d(),a(155," does, and then write the tests. "),d(),u(156,"pre"),m(157,"code",5),d(),u(158,"p"),a(159,"\nI wrote tests for all meaningful cases based on the requirements in one step."),m(160,"br"),a(161,"\nThe validation logic returns a tuple:\n"),d(),u(162,"pre"),m(163,"code",5),d(),u(164,"p"),a(165,"\nThe using code should then decide what to do.\n"),d(),u(166,"h3")(167,"span",9),a(168,"GREEN"),d()(),u(169,"p"),a(170,"\nI mirror the location of the test, thus create the folder "),u(171,"i"),a(172,"Utils"),d(),a(173," in the production code folder ("),u(174,"i"),a(175,"Assets/Scripts/Runtime/"),d(),a(176,") and create script "),u(177,"code"),a(178,"Validation"),d(),a(179," within it."),m(180,"br"),a(181,"\nI implement it gradually until I get all the tests passing.\n"),d(),u(182,"pre"),m(183,"code",5),d(),u(184,"h2"),a(185,"Processing the validation in the config"),d(),u(186,"p"),a(187,"\nI want to make sure the validation can't be bypassed"),m(188,"br"),a(189,"\nthus I'll prevent the game designer from saving invalid values to the config,"),m(190,"br"),a(191,"\nand provide some message in the Unity editor when an invalid value is corrected.\n"),d(),u(192,"pre"),m(193,"code",5),d(),u(194,"p"),a(195,"\nI use "),u(196,"code"),a(197,"OnValidate"),d(),a(198,", a editor-only function that Unity calls when the script is loaded or a value changes in the Inspector"),m(199,"br"),a(200,"\n(part of the "),u(201,"a",4),a(202,"ScriptableObject"),d(),a(203,").\n"),d(),u(204,"h2"),a(205,"The validation at work"),d(),u(206,"figure"),m(207,"img",10),u(208,"figcaption"),a(209,"Unity: Config Validation in the Inspector and Console"),d()(),u(210,"p"),a(211," As the gif shows above, the logic accepts valid values (the first one)"),m(212,"br"),a(213," but prevents invalid values being set by reverting to the valid 'edge' value, and logging a message to the Console."),m(214,"br"),d(),u(215,"ul",3)(216,"li"),a(217,"reverts to "),u(218,"code"),a(219,"1"),d(),a(220," for "),u(221,"code"),a(222,"StartingUnits"),d()(),u(223,"li"),a(224,"reverts to "),u(225,"code"),a(226,"2"),d(),a(227," for "),u(228,"code"),a(229,"PointsPerUnit"),d()(),u(230,"li"),a(231,"reverts to "),u(232,"code"),a(233,"-1"),d(),a(234," for "),u(235,"code"),a(236,"MaxNegativePointsForInstantKillProtection"),d()()(),u(237,"p"),a(238," Below is the gif for the "),u(239,"code"),a(240,"MaxUnits"),d(),a(241," validation.\n"),d(),u(242,"figure"),m(243,"img",11),u(244,"figcaption"),a(245,"Unity: MaxUnits Validation in the Inspector and Console"),d()(),u(246,"p")(247,"code"),a(248,"MaxUnits"),d(),a(249," validation is based on the values of "),u(250,"code"),a(251,"StartingUnits"),d(),m(252,"br"),a(253," thus "),u(254,"code"),a(255,"MaxUnits"),d(),a(256," can become invalid when "),u(257,"code"),a(258,"StartingUnits"),d(),a(259," is set to a valid value,"),m(260,"br"),a(261," (as the latter half of the gif conveys)."),m(262,"br"),a(263," The logged message in the Console clarifies this occurrence.\n"),d(),u(264,"h2"),a(265,"Make "),u(266,"code"),a(267,"Health"),d(),a(268," use the config"),d(),u(269,"p"),a(270,"\nI want "),u(271,"code"),a(272,"Health"),d(),a(273," to use the config"),m(274,"br"),a(275,"\nand not provide another way to inject those values,"),m(276,"br"),a(277,"\nthus I don't need to validate those values again in "),u(278,"code"),a(279,"Health"),d(),a(280,"."),m(281,"br"),a(282,"\n(I have ownership of the config code and"),m(283,"br"),a(284,"\nI am confident that its validation will always work as expected)."),m(285,"br")(286,"br"),a(287,"\nI will refactor the health code in the steps presented below."),m(288,"br"),a(289,"\nThis is about a design change in the production code (wholistic refactoring),"),m(290,"br"),a(291,"\nand it this case it makes more sense to start with the production code.\n"),d(),u(292,"h3")(293,"span",12),a(294,"Refactor "),u(295,"code"),a(296,"Health"),d()()(),u(297,"pre"),m(298,"code",5),d(),u(299,"p"),a(300,"\nI inject the "),u(301,"code"),a(302,"GameConfig"),d(),a(303," instance into the constructor,"),m(304,"br"),a(305,"\nand store it in a member and then access the values from the member."),m(306,"br"),a(307,"\nThe member is "),u(308,"code"),a(309,"private readonly"),d(),a(310," and thus encapsulated and immutable within the class."),m(311,"br"),a(312,"\nI remove the old "),u(313,"code"),a(314,"startingUnits"),d(),a(315," validation (as the config is already validated)."),m(316,"br"),d(),u(317,"pre"),m(318,"code",5),d(),u(319,"p"),a(320,"\nI refactor these constants into read-only properties,"),m(321,"br"),a(322,"\ngetting the value from the config."),m(323,"br"),a(324,"\nThis way the config values can't be set via the "),u(325,"code"),a(326,"Health"),d(),a(327," instance (encapsulation).\n"),d(),u(328,"h3")(329,"span",12),a(330,"Refactor "),u(331,"code"),a(332,"HealthTest"),d()()(),u(333,"p"),a(334," Now many tests will "),u(335,"span",8),a(336,"fail"),d(),a(337,","),m(338,"br"),a(339," mainly because they are not injecting the config into the constructor."),m(340,"br"),a(341," Let's refactor and fix them.\n"),d(),u(342,"pre"),m(343,"code",5),d(),u(344,"p"),a(345,"\nI create these helper methods above."),m(346,"br")(347,"br"),u(348,"code"),a(349,"MakeConfig"),d(),a(350," creates the config"),m(351,"br"),a(352,"\nand sets the "),u(353,"code"),a(354,"startingUnits"),d(),a(355," via parameter."),m(356,"br"),a(357,"\nIt also sets the other values for better "),u(358,"i"),a(359,"Resistance to refactoring"),d(),m(360,"br"),a(361,"\n(the tests will still work if the default values are changed in the scriptable object)."),m(362,"br")(363,"br"),u(364,"code"),a(365,"MakeHealth"),d(),a(366," creates and return a "),u(367,"code"),a(368,"Health"),d(),a(369," instance (using "),u(370,"code"),a(371,"MakeConfig"),d(),a(372,")."),m(373,"br")(374,"br"),a(375,"\nFor most tests it is sufficient to swap the "),u(376,"code"),a(377,"MakeHeath"),d(),m(378,"br"),a(379,"\nfor the "),u(380,"code"),a(381,"new Health"),d(),a(382," construction, as shown below"),m(383,"br"),a(384,"\n(one command execution with the IDE).\n"),d(),u(385,"pre"),m(386,"code",5),d(),u(387,"p"),a(388,"\nThere are 3 tests that refer to "),u(389,"code"),a(390,"maxUnits"),d(),a(391," to set up "),u(392,"code"),a(393,"StartingUnits"),d(),a(394," the the test."),m(395,"br"),a(396,"\nThese tests use "),u(397,"code"),a(398,"MakeConfig"),d(),a(399," directly and then create the "),u(400,"code"),a(401,"Health"),d(),a(402," instance."),m(403,"br"),d(),u(404,"pre"),m(405,"code",5),d(),u(406,"p"),a(407,"\nNow only test "),u(408,"code"),a(409,"ThrowsError_WhenStartingPointsIsInvalid"),d(),u(410,"span",8),a(411," fails"),d(),a(412,"."),m(413,"br"),a(414,"\nI remove it as I'm no longer validating "),u(415,"code"),a(416,"StartingUnits"),d(),a(417," in "),u(418,"code"),a(419,"Health"),d(),a(420,"."),m(421,"br"),a(422,"\nNow all the tests "),u(423,"span",9),a(424,"pass"),d(),a(425," again.\n"),d(),u(426,"h2"),a(427,"Reuse the utility "),u(428,"code"),a(429,"Validation"),d()(),u(430,"p"),a(431," Since now I have a utility "),u(432,"code"),a(433,"Validation"),d(),a(434," class"),m(435,"br"),a(436," I want to reuse it in the "),u(437,"code"),a(438,"Health"),d(),a(439," methods,"),m(440,"br"),a(441," thus I refactor the "),u(442,"code"),a(443,"ValidatePoints"),d(),a(444," method:\n"),d(),u(445,"pre"),m(446,"code",5),d(),u(447,"p"),a(448,"Now the config has been added and used, the Unity Test Runner looks like this:"),d(),u(449,"figure"),m(450,"img",13),u(451,"figcaption"),a(452,"Test Runner after config added and used"),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(65),C("highlight",i.gameConfigCs),b(82),C("highlight",i.redValidationTest),b(6),C("highlight",i.validationReturn),b(20),C("highlight",i.greenValidation),b(10),C("highlight",i.hookValidationIntoConfig),b(105),C("highlight",i.healthRefactor),b(20),C("highlight",i.healthRefactor1),b(25),C("highlight",i.healthTestRefactor),b(43),C("highlight",i.healthTestRefactorMostCases),b(19),C("highlight",i.healthTestUseMakeConfig),b(41),C("highlight",i.healthReuseValidation))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function MV(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Nl extends Qt{get posColRowRedCompileText(){return"<p>I create the test file and write the first test and see it fail, as the code does not compile.</p>"}get posColRowRedCompileCode(){return"// PositionTest.cs\nusing NUnit.Framework;\n\nnamespace PositionTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void ColumnAndRow_AreInitialized()\n\t\t{\n\t\t\tvar position = new Position(0, 1);\n\t\t\tAssert.That(position.Column, Is.EqualTo(0));\n\t\t\tAssert.That(position.Row, Is.EqualTo(1));\n\t\t}\n\t}\n}\n"}get posColRowRedTestFailsText(){return"<p>I write the minimal production code to compile successfully and intentionally make the test fail to verify that the test is not passing when it should not.</p>"}get posColRowRedTestFailsCode(){return"// Position.cs\npublic struct Position\n{\n\tpublic int Column;\n\tpublic int Row;\n\n\tpublic Position(int column, int row)\n\t{\n\t\tColumn = -1;\n\t\tRow = -1;\n\t}\n}\n"}get posColRowGreenText(){return"<p>It make the test pass by providing the obvious solution that holds for all cases.</p>"}get posColRowGreenCode(){return"// Position.cs\npublic struct Position\n{\n\tpublic int Row;\n\tpublic int Column;\n\n\tpublic Position(int column, int row)\n\t{\n\t\tColumn = column;\n\t\tRow = row;\n\t}\n}\n"}get posColRowRefactorText(){return'<p>I encapsulate the properties with getters and declare the structure as immutable with the  <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/struct#readonly-struct" target="_blank">readonly</a> keyword.</p>'}get posColRowRefactorCode(){return"// Position.cs\npublic readonly struct Position\n{\n\tpublic int Column { get; }\n\tpublic int Row { get; }\n\n\tpublic Position(int column, int row)\n\t{\n\t\tColumn = column;\n\t\tRow = row;\n\t}\n}\n"}get posEqualsIntroText(){return"<p>I'm certain that the domain logic will be comparing positions thus I write the tests for it.</p>"}get posEqualsTestCode(){return"// PositionTest.cs\npublic class Equals\n{\n\t[Test]\n\tpublic void AreEqual_WhenWithSameRowAndSameColumn()\n\t{\n\t\tvar pos1 = new Position(0, 0);\n\t\tvar pos2 = new Position(0, 0);\n\t\tAssert.That(pos1.Equals(pos2), Is.True);\n\t}\n\n\t[Test]\n\tpublic void AreNotEqual_WhenNotWithSameRowAndSameColumn()\n\t{\n\t\tvar pos1 = new Position(1, 0);\n\t\tvar pos2 = new Position(0, 0);\n\t\tAssert.That(pos1.Equals(pos2), Is.False);\n\t}\n}\n"}get posEqualsGreenText(){return'<p>I ran this test and expected it to fail as I had not implemented anything, but it passes. Then I remember that <i>struct</i> has a default implementation of<i>Equals</i> that makes these tests pass, paraphrasing from the <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type" target="_blank">Microsoft doc</a>: "Any struct has a default implementation of value equality that it inherits from the <i>System.ValueType</i>. This implementation uses reflection which is relatively slow compared to a custom implementation that you write specifically for the type."</p>\n<p>Before I go any further I will add tests for the equals operator.</p>\t'}get posEqualsOpRedCode(){return"// PositionTest.cs\n[Test]\npublic void AreEqual_WhenWithSameRowAndSameColumn_UsingOperator()\n{\n\tvar pos1 = new Position(0, 0);\n\tvar pos2 = new Position(0, 0);\n\tAssert.That(pos1 == pos2, Is.True);\n}\n\n[Test]\npublic void AreNotEqual_WhenNotWithSameRowAndSameColumn_UsingOperator()\n{\n\tvar pos1 = new Position(1, 0);\n\tvar pos2 = new Position(0, 0);\n\tAssert.That(pos1 != pos2, Is.True);\n}\n"}get posEqualsOpRedText(){return"<p>These tests produce the compile errors: Cannot apply operator '==' / '!=' to operands of type 'Position' and 'Position'</p>"}get posEqualsRefactorText(){return"<p>Although my default approach is to use the profiler to identify performance bottlenecks and verify improvements, I will this time take the Microsoft doc words as gospel truth and thus do a custom equality implementation. I use the IDEA (Rider) to do it in an automatic manner and thus also deem it safe to jump over Red (tests fail) step</p>"}get posEqualsRefactorCode(){return"// Position.cs\npublic readonly struct Position : IEquatable<Position>\n{\n\t// ...\n\tpublic bool Equals(Position other)\n\t{\n\t\treturn Column == other.Column && Row == other.Row;\n\t}\n\n\tpublic override bool Equals(object obj)\n\t{\n\t\treturn obj is Position other && Equals(other);\n\t}\n\n\tpublic override int GetHashCode()\n\t{\n\t\treturn HashCode.Combine(Column, Row);\n\t}\n\n\tpublic static bool operator ==(Position left, Position right)\n\t{\n\t\treturn left.Equals(right);\n\t}\n\n\tpublic static bool operator !=(Position left, Position right)\n\t{\n\t\treturn !left.Equals(right);\n\t}\n}\n"}get posEqualsRefactorText1(){return"<p>I make <i>Position</i> inherit <i>IEquatable</i> and execute the action <i>generate equality members</i> which makes the tests pass and provides the clear refactored solution.</p>"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Nl)))(i||Nl)}}();static#t=this.\u0275cmp=Qe({type:Nl,selectors:[["app-post-chess-1"]],features:[ve],decls:118,vars:22,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://daedtech.com/tdd-and-modeling-a-chess-game/","target","_blank"],["href","./blog/tdd-health/part3","target","_blank"],[3,"innerHTML"],[1,"list","inline"],["src","../assets/images/blog/tdd/chess/positions-on-board.svg","alt","Each board square is a position (column, row)","title","Each board square is a position (column, row)",1,"imageSmallTextNoBorder"],["href","https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/language-specification/structs#161-general","target","_blank"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,MV,2,1,"small",1),d(),u(11,"h2"),a(12,"Introduction"),d(),u(13,"p"),a(14," This is the first post in a series of posts where I will implement a chess game in the TDD workflow. Though others have already done something similar (e.g. "),u(15,"a",2)(16,"i"),a(17,"TDD and modeling a chess game"),d(),a(18," by "),u(19,"i"),a(20,"Erik Dietrich"),d()(),a(21,"), I'm doing this to craft my TDD workflow and share its values and result with you. Some explanations will be skipped here as they are already covered in that series "),u(22,"a",3),a(23,"TTD-ing Avatar Health in C# and C++"),d(),a(24,". "),d(),m(25,"div",4)(26,"div",4),u(27,"h2"),a(28,"The rules"),d(),u(29,"p"),a(30," Chess has been played for over a thousand years and it evolved roughly into its current form by about 1500. The chess rules are known to many and the basic rules are:\n"),d(),u(31,"ul",5)(32,"li"),a(33,"The game of chess is a two player turn based game where each player controls sixteen pieces on a chessboard"),d(),u(34,"li"),a(35,"The board is 8x8 squares, 8 horizontal rows that are called Ranks (and presented as letters from 'a' to 'h'), and 8 vertical columns that are called Files (presented numbers as 1 to 8)"),d(),u(36,"li"),a(37,"Each piece has a position in one of the squares and can move to a new position, capturing an opponent piece if in that position"),d(),u(38,"li"),a(39,"Each piece type (King, Queen, Rook, Knight, Bishop, Pawn) moves in its unique way"),d(),u(40,"li"),a(41,"The object of the game is to checkmate the opponent's King"),d()(),u(42,"h2"),a(43,"The Position"),d(),u(44,"figure"),m(45,"img",6),u(46,"figcaption"),a(47," Each board square is a position (column, row) "),d()(),u(48,"p"),a(49," A "),u(50,"i"),a(51,"Position"),d(),a(52," data structure seems to be at the base of the domain model. The board squares are positions, and the pieces have a position and move into a new position. To streamline calculations in the domain model the "),u(53,"i"),a(54,"Position"),d(),a(55," will be defined as 0-based "),u(56,"i"),a(57,"Column"),d(),a(58," and "),u(59,"i"),a(60,"Row"),d(),a(61,", although the presentation / view will be 'a' to 'h' Rank and 1-based File. I deem it well fitting to define "),u(62,"i"),a(63,"Position"),d(),a(64," as a "),u(65,"a",7),a(66,"Struct"),d(),a(67,".\n"),d(),u(68,"p"),a(69," Some upfront design like this fits well with the TDD workflow, as long as it does go towards wholistic water flow design phase, as the TDD cycles should drive most of the design by taking on the next rule / requirement, one at a time.\n"),d(),u(70,"h2"),a(71,"Cycling the Position"),d(),u(72,"h3")(73,"span",8),a(74,"RED (does not compile)"),d()(),m(75,"div",4),u(76,"pre"),m(77,"code",9),d(),u(78,"h3")(79,"span",8),a(80,"RED (test fails)"),d()(),m(81,"div",4),u(82,"pre"),m(83,"code",9),d(),u(84,"h3")(85,"span",10),a(86,"GREEN"),d()(),m(87,"div",4),u(88,"pre"),m(89,"code",9),d(),u(90,"h3")(91,"span",11),a(92,"REFACTOR"),d()(),m(93,"div",4),u(94,"pre"),m(95,"code",9),d(),u(96,"h2"),a(97,"Comparing positions"),d(),m(98,"div",4),u(99,"h3")(100,"span",10),a(101,"GREEN"),d()(),u(102,"pre"),m(103,"code",9),d(),m(104,"div",4),u(105,"h3")(106,"span",8),a(107,"RED (does not compile)"),d()(),u(108,"pre"),m(109,"code",9),d(),m(110,"div",4),u(111,"h3")(112,"span",11),a(113,"GREEN and REFACTOR"),d()(),m(114,"div",4),u(115,"pre"),m(116,"code",9),d(),m(117,"div",4)),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(15),C("innerHTML",i.usingUnity("https://github.com/EgillAntonsson/chess"),oe),b(1),C("innerHTML",i.setup,oe),b(49),C("innerHTML",i.posColRowRedCompileText,oe),b(2),C("highlight",i.posColRowRedCompileCode),b(4),C("innerHTML",i.posColRowRedTestFailsText,oe),b(2),C("highlight",i.posColRowRedTestFailsCode),b(4),C("innerHTML",i.posColRowGreenText,oe),b(2),C("highlight",i.posColRowGreenCode),b(4),C("innerHTML",i.posColRowRefactorText,oe),b(2),C("highlight",i.posColRowRefactorCode),b(3),C("innerHTML",i.posEqualsIntroText,oe),b(5),C("highlight",i.posEqualsTestCode),b(1),C("innerHTML",i.posEqualsGreenText,oe),b(5),C("highlight",i.posEqualsOpRedCode),b(1),C("innerHTML",i.posEqualsOpRedText,oe),b(4),C("innerHTML",i.posEqualsRefactorText,oe),b(2),C("highlight",i.posEqualsRefactorCode),b(1),C("innerHTML",i.posEqualsRefactorText1,oe))},dependencies:[An,Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}function Ed(n,t){return new q(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const c=de(n[l]);let h=!1;e.add(c.subscribe({next:f=>{h||(h=!0,o++),r[l]=f},error:f=>e.error(f),complete:()=>{s++,(s===i||!h)&&(o===i&&e.next(t?t.reduce((f,p,g)=>(f[p]=r[g],f),{}):r),e.complete())}}))}})}let hD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(S(ii),S($t))},n.\u0275dir=ye({type:n}),n})(),Rs=(()=>{class n extends hD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(n)))(i||n)}}(),n.\u0275dir=ye({type:n,features:[ve]}),n})();const Ai=new X("NgValueAccessor"),IV={provide:Ai,useExisting:pt(()=>Vl),multi:!0},AV=new X("CompositionEventMode");let Vl=(()=>{class n extends hD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kV(){const n=ir()?ir().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(S(ii),S($t),S(AV,8))},n.\u0275dir=ye({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&gt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[bt([IV]),ve]}),n})();function Jr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function pD(n){return null!=n&&"number"==typeof n.length}const Hn=new X("NgValidators"),Qr=new X("NgAsyncValidators"),xV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Zr{static min(t){return function gD(n){return t=>{if(Jr(t.value)||Jr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function mD(n){return t=>{if(Jr(t.value)||Jr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function yD(n){return Jr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function vD(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function bD(n){return Jr(n.value)||xV.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function wD(n){return t=>Jr(t.value)||!pD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return _D(t)}static pattern(t){return function CD(n){if(!n)return Md;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Jr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return ID(t)}static composeAsync(t){return kD(t)}}function _D(n){return t=>pD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Md(n){return null}function DD(n){return null!=n}function ED(n){return Fa(n)?de(n):n}function MD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function TD(n,t){return t.map(e=>e(n))}function SD(n){return n.map(t=>function OV(n){return!n.validate}(t)?t:e=>t.validate(e))}function ID(n){if(!n)return null;const t=n.filter(DD);return 0==t.length?null:function(e){return MD(TD(e,t))}}function Wg(n){return null!=n?ID(SD(n)):null}function kD(n){if(!n)return null;const t=n.filter(DD);return 0==t.length?null:function(e){return function TV(...n){if(1===n.length){const t=n[0];if(Ze(t))return Ed(t,null);if(Wt(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Ed(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Ed(n=1===n.length&&Ze(n[0])?n[0]:n,null).pipe(G(e=>t(...e)))}return Ed(n,null)}(TD(e,t).map(ED)).pipe(G(MD))}}function qg(n){return null!=n?kD(SD(n)):null}function AD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function PD(n){return n._rawValidators}function xD(n){return n._rawAsyncValidators}function Kg(n){return n?Array.isArray(n)?n:[n]:[]}function Td(n,t){return Array.isArray(n)?n.includes(t):n===t}function OD(n,t){const e=Kg(t);return Kg(n).forEach(r=>{Td(e,r)||e.push(r)}),e}function RD(n,t){return Kg(t).filter(e=>!Td(n,e))}class LD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=qg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qn extends LD{get formDirective(){return null}get path(){return null}}class Xr extends LD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yg=(()=>{class n extends FD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Xr,2))},n.\u0275dir=ye({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&yi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ve]}),n})(),Jg=(()=>{class n extends FD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(S(Qn,10))},n.\u0275dir=ye({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&yi("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ve]}),n})();const Ul="VALID",Id="INVALID",$o="PENDING",Hl="DISABLED";function em(n){return(kd(n)?n.validators:n)||null}function tm(n,t){return(kd(t)?t.asyncValidators:n)||null}function kd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function VD(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new z(1e3,"");if(!i[e])throw new z(1001,"")}function UD(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new z(1002,"")})}class Ad{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ul}get invalid(){return this.status===Id}get pending(){return this.status==$o}get disabled(){return this.status===Hl}get enabled(){return this.status!==Hl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(OD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(OD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(RD(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(RD(t,this._rawAsyncValidators))}hasValidator(t){return Td(this._rawValidators,t)}hasAsyncValidator(t){return Td(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$o,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Hl,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ul,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ul||this.status===$o)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Hl:Ul}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$o,this._hasOwnPendingAsyncValidator=!0;const e=ED(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?Hl:this.errors?Id:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($o)?$o:this._anyControlsHaveStatus(Id)?Id:Ul}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){kd(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function HV(n){return Array.isArray(n)?Wg(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function BV(n){return Array.isArray(n)?qg(n):n||null}(this._rawAsyncValidators)}}class Bl extends Ad{constructor(t,e,i){super(em(e),tm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){UD(this,0,t),Object.keys(t).forEach(i=>{VD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class HD extends Bl{}const jl=new X("CallSetDisabledState",{providedIn:"root",factory:()=>nm}),nm="always";function Gl(n,t,e=nm){im(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function GV(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BD(n,t)})}(n,t),function zV(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function $V(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BD(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function jV(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function xd(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Rd(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Od(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function im(n,t){const e=PD(n);null!==t.validator?n.setValidators(AD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=xD(n);null!==t.asyncValidator?n.setAsyncValidators(AD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Od(t._rawValidators,r),Od(t._rawAsyncValidators,r)}function Rd(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=PD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=xD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Od(t._rawValidators,i),Od(t._rawAsyncValidators,i),e}function BD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function $D(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function zD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zl=class extends Ad{constructor(t=null,e,i){super(em(e),tm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kd(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=zD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$D(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$D(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){zD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ye({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const e4={provide:Ai,useExisting:pt(()=>cm),multi:!0};let cm=(()=>{class n extends Rs{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(n)))(i||n)}}(),n.\u0275dir=ye({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&gt("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[bt([e4]),ve]}),n})(),JD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({}),n})();const um=new X("NgModelWithFormControlWarning"),s4={provide:Qn,useExisting:pt(()=>Wl)};let Wl=(()=>{class n extends Qn{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new nt,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Rd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Gl(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){xd(e.control||null,e,!1),function YV(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function GD(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(xd(i||null,e),(n=>n instanceof zl)(r)&&(Gl(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function jD(n,t){im(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function WV(n,t){return Rd(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){im(this.form,this),this._oldForm&&Rd(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(S(Hn,10),S(Qr,10),S(jl,8))},n.\u0275dir=ye({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&gt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[bt([s4]),ve,ti]}),n})();const l4={provide:Xr,useExisting:pt(()=>Ld)};let Ld=(()=>{class n extends Xr{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new nt,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function om(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Vl?e=s:function KV(n){return Object.getPrototypeOf(n.constructor)===Rs}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function sm(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Pd(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(S(Qn,13),S(Hn,10),S(Qr,10),S(Ai,10),S(um,8))},n.\u0275dir=ye({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[bt([l4]),ve,ti]}),n})();let Ls=(()=>{class n{constructor(){this._validator=Md}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Md,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ye({type:n,features:[ti]}),n})();const _4={provide:Hn,useExisting:pt(()=>Fd),multi:!0};let Fd=(()=>{class n extends Ls{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function iE(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>_D(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(n)))(i||n)}}(),n.\u0275dir=ye({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&Vn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[bt([_4]),ve]}),n})(),D4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[JD]}),n})(),mm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:um,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:jl,useValue:e.callSetDisabledState??nm}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[D4]}),n})();class dE extends Ad{constructor(t,e,i){super(em(e),tm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){UD(this,0,t),t.forEach((i,r)=>{VD(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function hE(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let E4=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return hE(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Bl(r,s)}record(e,i=null){const r=this._reduceControls(e);return new HD(r,i)}control(e,i,r){let s={};return this.useNonNullable?(hE(i)?s=i:(s.validators=i,s.asyncValidators=r),new zl(e,{...s,nonNullable:!0})):new zl(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new dE(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof zl||e instanceof Ad?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:mm}),n})(),fE=(()=>{class n extends E4{group(e,i=null){return super.group(e,i)}control(e,i,r){return super.control(e,i,r)}array(e,i,r){return super.array(e,i,r)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(n)))(i||n)}}(),n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:mm}),n})();var M4=$e(593);class Nd{}class ym{}class kr{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof kr?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new kr;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof kr?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class T4{encodeKey(t){return pE(t)}encodeValue(t){return pE(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const I4=/%(\d[a-f0-9])/gi,k4={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pE(n){return encodeURIComponent(n).replace(I4,(t,e)=>k4[e]??t)}function Vd(n){return`${n}`}class Ar{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new T4,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function S4(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],c=e.get(o)||[];c.push(l),e.set(o,c)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(Vd):[Vd(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ar({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Vd(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(Vd(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class A4{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function gE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function mE(n){return typeof Blob<"u"&&n instanceof Blob}function yE(n){return typeof FormData<"u"&&n instanceof FormData}class ql{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function P4(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new kr),this.context||(this.context=new A4),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+o}}else this.params=new Ar,this.urlWithParams=e}serializeBody(){return null===this.body?null:gE(this.body)||mE(this.body)||yE(this.body)||function x4(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ar?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||yE(this.body)?null:mE(this.body)?this.body.type||null:gE(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ar?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,h=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((p,g)=>p.set(g,t.setHeaders[g]),c)),t.setParams&&(h=Object.keys(t.setParams).reduce((p,g)=>p.set(g,t.setParams[g]),h)),new ql(e,i,s,{params:h,headers:c,context:f,reportProgress:l,responseType:r,withCredentials:o})}}var on=(()=>((on=on||{})[on.Sent=0]="Sent",on[on.UploadProgress=1]="UploadProgress",on[on.ResponseHeader=2]="ResponseHeader",on[on.DownloadProgress=3]="DownloadProgress",on[on.Response=4]="Response",on[on.User=5]="User",on))();class vm{constructor(t,e=200,i="OK"){this.headers=t.headers||new kr,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bm extends vm{constructor(t={}){super(t),this.type=on.ResponseHeader}clone(t={}){return new bm({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ud extends vm{constructor(t={}){super(t),this.type=on.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ud({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class vE extends vm{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wm(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let _m=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof ql)s=e;else{let c,h;c=r.headers instanceof kr?r.headers:new kr(r.headers),r.params&&(h=r.params instanceof Ar?r.params:new Ar({fromObject:r.params})),s=new ql(e,i,void 0!==r.body?r.body:null,{headers:c,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=pe(s).pipe(Gr(c=>this.handler.handle(c)));if(e instanceof ql||"events"===r.observe)return o;const l=o.pipe(Yn(c=>c instanceof Ud));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(G(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(G(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(G(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return l.pipe(G(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ar).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,wm(r,i))}post(e,i,r={}){return this.request("POST",e,wm(r,i))}put(e,i,r={}){return this.request("PUT",e,wm(r,i))}}return n.\u0275fac=function(e){return new(e||n)(F(Nd))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function bE(n,t){return t(n)}function O4(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const L4=new X("HTTP_INTERCEPTORS"),Kl=new X("HTTP_INTERCEPTOR_FNS");function F4(){let n=null;return(t,e)=>(null===n&&(n=(Je(L4,{optional:!0})??[]).reduceRight(O4,bE)),n(t,e))}let wE=(()=>{class n extends Nd{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Kl)));this.chain=i.reduceRight((r,s)=>function R4(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),bE)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(F(ym),F(fr))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const H4=/^\)\]\}',?\n/;let CE=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new q(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((y,v)=>r.setRequestHeader(y,v.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=e.serializeBody();let o=null;const l=()=>{if(null!==o)return o;const y=r.statusText||"OK",v=new kr(r.getAllResponseHeaders()),w=function B4(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new bm({headers:v,status:r.status,statusText:y,url:w}),o},c=()=>{let{headers:y,status:v,statusText:w,url:_}=l(),E=null;204!==v&&(E=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=E?200:0);let k=v>=200&&v<300;if("json"===e.responseType&&"string"==typeof E){const T=E;E=E.replace(H4,"");try{E=""!==E?JSON.parse(E):null}catch(H){E=T,k&&(k=!1,E={error:H,text:E})}}k?(i.next(new Ud({body:E,headers:y,status:v,statusText:w,url:_||void 0})),i.complete()):i.error(new vE({error:E,headers:y,status:v,statusText:w,url:_||void 0}))},h=y=>{const{url:v}=l(),w=new vE({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(w)};let f=!1;const p=y=>{f||(i.next(l()),f=!0);let v={type:on.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===e.responseType&&!!r.responseText&&(v.partialText=r.responseText),i.next(v)},g=y=>{let v={type:on.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),i.next(v)};return r.addEventListener("load",c),r.addEventListener("error",h),r.addEventListener("timeout",h),r.addEventListener("abort",h),e.reportProgress&&(r.addEventListener("progress",p),null!==s&&r.upload&&r.upload.addEventListener("progress",g)),r.send(s),i.next({type:on.Sent}),()=>{r.removeEventListener("error",h),r.removeEventListener("abort",h),r.removeEventListener("load",c),r.removeEventListener("timeout",h),e.reportProgress&&(r.removeEventListener("progress",p),null!==s&&r.upload&&r.upload.removeEventListener("progress",g)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(F(a0))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();const Cm=new X("XSRF_ENABLED"),DE="XSRF-TOKEN",EE=new X("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>DE}),ME="X-XSRF-TOKEN",TE=new X("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>ME});class SE{}let j4=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=q1(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(F(Bt),F(qa),F(EE))},n.\u0275prov=ee({token:n,factory:n.\u0275fac}),n})();function G4(n,t){const e=n.url.toLowerCase();if(!Je(Cm)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Je(SE).getToken(),r=Je(TE);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Zt=(()=>((Zt=Zt||{})[Zt.Interceptors=0]="Interceptors",Zt[Zt.LegacyInterceptors=1]="LegacyInterceptors",Zt[Zt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Zt[Zt.NoXsrfProtection=3]="NoXsrfProtection",Zt[Zt.JsonpSupport=4]="JsonpSupport",Zt[Zt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Zt))();function zo(n,t){return{\u0275kind:n,\u0275providers:t}}function $4(...n){const t=[_m,CE,wE,{provide:Nd,useExisting:wE},{provide:ym,useExisting:CE},{provide:Kl,useValue:G4,multi:!0},{provide:Cm,useValue:!0},{provide:SE,useClass:j4}];for(const e of n)t.push(...e.\u0275providers);return function aI(n){return{\u0275providers:n}}(t)}const IE=new X("LEGACY_INTERCEPTOR_FN");function W4({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:EE,useValue:n}),void 0!==t&&e.push({provide:TE,useValue:t}),zo(Zt.CustomXsrfConfiguration,e)}let q4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({providers:[$4(zo(Zt.LegacyInterceptors,[{provide:IE,useFactory:F4},{provide:Kl,useExisting:IE,multi:!0}]),W4({cookieName:DE,headerName:ME}))]}),n})();class Yl{constructor(t,e){this.http=t,this.logService=e,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=$e(305),this.creatureList.sort((i,r)=>i.kg>r.kg?-1:1)}loadAndCalculateMyLog(t){this.hasCalculatedMyStats&&t(this.myLiftingStats);let e=0;this.http.get("../../assets/data/FitNotes_Export_Processed.csv",{responseType:"text"}).subscribe(r=>{const o=M4.parse(r,{header:!0,skipEmptyLines:!0}),l=o.data,c=o.errors;let h;for(let v=c.length-1;v>=0;v--)h=c[v],this.logService.log("Warn",'Removing row "'+h.row+'". '+h.type+". "+h.code+". "+h.message),l.splice(h.row,1);var f=!1;l.forEach(v=>{const w=v.Weight,_=v.Reps;if(""!==w&&""!==_){const E=parseFloat(w)*parseFloat(_);e+=E,isNaN(e)&&(f||(this.logService.log("Error",`totalKgLifted is NaN. FitNoteRow: Date: ${v.Date}, Exercise:  ${v.Exercise}, Weight: ${w}, Reps: ${_}`),f=!0))}});const p=this.weightInCreatures(e),g=new Date(l[0].Date),y=new Date(l[l.length-1].Date);this.myLiftingStats={totalKgLifted:e,totalCreaturesLifted:p,firstDate:g,lastDate:y},this.hasCalculatedMyStats=!0,t(this.myLiftingStats)})}weightInCreatures(t){let e=t;const i=[];return this.creatureList.forEach(r=>{let s=0;for(;r.kg<=e;)e-=r.kg,s++;s>0&&i.push({count:s,creature:r})}),i}static#e=this.\u0275fac=function(e){return new(e||Yl)(F(_m),F(bi))};static#t=this.\u0275prov=ee({token:Yl,factory:Yl.\u0275fac,providedIn:"root"})}class Hd{transform(t,e=0,i="*",r=1){let s;switch(i){case"/":s=t/r;break;case"*":s=t*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let o=e;t===Math.trunc(t)&&(o=0);const l=s.toFixed(o),c=[];let h=l.includes(".")?l.indexOf("."):l.length;if(h<3)return l;let p=!0;for(;h>0;)h-=3,h<=0?c.unshift(l.substr(0,3+h)):p?(c.unshift(l.substr(h)),p=!1):c.unshift(l.substr(h,3));return c.join("'")}static#e=this.\u0275fac=function(e){return new(e||Hd)};static#t=this.\u0275pipe=jn({name:"mynumber",type:Hd,pure:!0})}function K4(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}function Y4(n,t){1&n&&(u(0,"div"),a(1," Only numbers are allowed (and ' . ' for fraction) "),d())}function J4(n,t){1&n&&(u(0,"div"),a(1," number is too big, reduce it "),d())}function Q4(n,t){1&n&&(u(0,"div"),a(1," number is to small, increase it "),d())}function Z4(n,t){if(1&n&&(u(0,"div",13),Pe(1,Y4,2,0,"div",1),Pe(2,J4,2,0,"div",1),Pe(3,Q4,2,0,"div",1),d()),2&n){const e=Fe();b(1),C("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.pattern),b(1),C("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.max),b(1),C("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.min)}}function X4(n,t){1&n&&m(0,"li",14),2&n&&C("innerHTML",t.$implicit.render(),oe)}function eU(n,t){if(1&n&&(u(0,"table")(1,"tr")(2,"th"),a(3,"KGs"),d(),u(4,"th"),a(5,"Creatures"),d()(),u(6,"tr")(7,"td",9),a(8),d(),u(9,"td")(10,"ul"),Pe(11,X4,1,1,"li",10),d()()()()),2&n){const e=Fe();b(8),Se(e.convertLastInputSubmit),b(3),C("ngForOf",e.convertResult)}}function tU(n,t){1&n&&m(0,"li",14),2&n&&C("innerHTML",t.$implicit.render(),oe)}class Bd extends Qt{constructor(t,e,i){super(i),this.liftingService=t,this.fb=e,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,t.loadAndCalculateMyLog(s=>{this.totalKgLifted=s.totalKgLifted,this.totalCreaturesLifted=[];for(const o of s.totalCreaturesLifted)this.totalCreaturesLifted.push(new kE(o.count,o.creature));this.firstDate=s.firstDate,this.lastDate=s.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[Zr.pattern(/^\d+\.*\d*$/),Zr.max(this.maximumInputAllowed),Zr.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const t=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||t===this.convertLastInputSubmit||(this.convertLastInputSubmit=t,this.convert(t))}convert(t){const e=this.liftingService.weightInCreatures(t);this.convertResult=[];for(const i of e)this.convertResult.push(new kE(i.count,i.creature))}static#e=this.\u0275fac=function(e){return new(e||Bd)(S(Yl),S(fE),S(Os))};static#t=this.\u0275cmp=Qe({type:Bd,selectors:[["app-kg-to-creature"]],features:[ve],decls:65,vars:23,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],[1,"center"],[3,"innerHTML",4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],[1,"alert"],[3,"innerHTML"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,K4,2,1,"small",1),d(),u(11,"h1"),a(12,"Kg to Creatures converter"),d(),u(13,"div",2)(14,"form",3)(15,"div")(16,"input",4),gt("input",function(){return i.inputEvent()}),d()(),u(17,"sub"),a(18,"kg number in text field is converts to below:"),d(),m(19,"br"),Pe(20,Z4,4,3,"div",5),d()(),Pe(21,eU,12,2,"table",1),u(22,"p"),a(23," The sources for the creature weight list:"),m(24,"br"),u(25,"a",6),a(26,"Metallic dragons of the Forgotten Realms"),d(),m(27,"br"),u(28,"a",7),a(29,"Dinosaur size"),d(),m(30,"br"),u(31,"a",8),a(32,"Adult mammals weight"),d()(),u(33,"h2"),a(34,"Progressing on my path to lift the Platinum Dragon!"),d(),u(35,"p"),a(36),vu(37,"date"),vu(38,"date"),d(),u(39,"table")(40,"tr")(41,"th"),a(42,"Tons lifted"),d(),u(43,"th"),a(44,"Creatures lifted"),d()(),u(45,"tr")(46,"td",9),a(47),vu(48,"mynumber"),d(),u(49,"td")(50,"ul"),Pe(51,tU,1,1,"li",10),d()()()(),u(52,"p"),a(53," I use "),u(54,"a",11),a(55,"FitNotes"),d(),a(56," app to log my lifting,"),m(57,"br"),a(58," and export the log from it and use it for the above calculation."),m(59,"br"),a(60," No creatures were hurt during the lifting :)\n"),d(),u(61,"figure"),m(62,"img",12),u(63,"figcaption"),a(64,"Egill Antonsson dealing with the the dragon's breath"),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate),b(4),C("formGroup",i.convertForm),b(2),C("maxlength",16),b(4),C("ngIf",i.inputKgControl.invalid),b(1),C("ngIf",i.convertResult.length>0),b(15),np("\nHere is my personal progress during the period ",hp(37,12,i.firstDate,"d. MMMM yyyy")," - ",hp(38,15,i.lastDate,"d. MMMM yyyy"),":\n"),b(11),Se(function x_(n,t,e,i,r,s){const o=n+22,l=N(),c=zs(l,o);return $a(l,o)?A_(l,$n(),t,c.transform,e,i,r,s,c):c.transform(e,i,r,s)}(48,18,i.totalKgLifted,3,"/",1e3)),b(4),C("ngForOf",i.totalCreaturesLifted))},dependencies:[Xa,An,lm,Vl,cm,Yg,Jg,Fd,Wl,Ld,Xp,Hd],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class kE{constructor(t,e){this.count=t,this.creature=e}render(){let t=this.creature.name;return""!==this.creature.url&&void 0!==this.creature.url&&(t=`<a href="${this.creature.url}" target="_blank">${this.creature.name}</a>`),console.log("creatureName",t),`${this.count}x ${t}`}}function nU(n,t){if(1&n&&(u(0,"small"),a(1),d()),2&n){const e=Fe();b(1),Ue(" updated on ",e.updatedDateToString," ")}}class Jl extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Jl)))(i||Jl)}}();static#t=this.\u0275cmp=Qe({type:Jl,selectors:[["app-jon-and-me"]],features:[ve],decls:24,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],["href","https://www.youtube.com/watch?v=ZWUcHKAj_tc"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d(),Pe(10,nU,2,1,"small",1),d(),u(11,"p")(12,"a",2),a(13,"J\xf3n P\xe1ll Sigmarsson"),d(),a(14," who was the first man in history to win the World Strongest Man four times. He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining. My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\n"),d(),u(15,"figure"),m(16,"img",3),u(17,"figcaption"),a(18,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),d()(),u(19,"p"),a(20," In 1987 while Deadlifting 455 kg (his final lift was 523 kg), J\xf3n shouted "),u(21,"a",4),a(22,'"There is no reason to be alive if you can\'t do Deadlift!"'),d(),a(23,", and as fate would have it he died in 1993, 32 years of age, while Deadlifting in his gym, but his spirit lives on in the hearts of many.\n"),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(2),C("ngIf",i.hasUpdatedDate))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Ql extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Ql)))(i||Ql)}}();static#t=this.\u0275cmp=Qe({type:Ql,selectors:[["app-post-fmod-reload-shortcut"]],features:[ve],decls:40,vars:3,consts:[[1,"byAndDate"],["src","../assets/images/blog/fmod/reload-shortcut.png","alt","Adding 'Scripts: Reload' shortcut in FMOD","title","Adding 'Scripts: Reload' shortcut in FMOD",1,"imageSmallTextNoBorder"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"h2"),a(11,"The Why"),d(),u(12,"p"),a(13," Before you start FMOD scripting like there's no tomorrow you should set this shortcut to speed up your development cycle. This is because you need to reload so the script run runs your changes you did after the last reload.\n"),d(),u(14,"h2"),a(15,"The How"),d(),u(16,"p"),a(17," Press "),u(18,"i"),a(19,"'Ctrl+Shift+P'"),d(),a(20," to open the "),u(21,"i"),a(22,"Preferences"),d(),a(23," window and press the "),u(24,"i"),a(25,"'Shortcuts'"),d(),a(26," tab. Add a shortcut to Action "),u(27,"i"),a(28,"'Scripts: Reload'"),d(),a(29,", I recommend "),u(30,"i"),a(31,"'Ctrl+R'"),d(),a(32," that is available by default.\n"),d(),u(33,"figure"),m(34,"img",1),u(35,"figcaption"),a(36," Adding "),u(37,"i"),a(38,"Scripts: Reload"),d(),a(39," shortcut in FMOD "),d()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Zl extends Qt{get buildBanksAndDoCustomStep(){return'// Assets/Code/Editor/BuildBanksAndDoCustomStep.cs\n[MenuItem("Audio/Build Banks and do custom step %#&b")] // Ctrl+Shift+Alt+B\npublic static void BuildSoundBanksAndDoCustomStep()\n{\n\tstring msg = "Building all the banks to all the platforms listed in the build tab of the preferences dialog."\n\tEditorUtility.DisplayProgressBar("Building FMOD Banks", msg, 0.5f);\n\tbool success = FMODUnity.EditorUtils.SendScriptCommand("studio.project.build();");\n\tif(!success)\n\t{\n\t\tmsg = "Likely because FMOD is not running. Cancelling the process.";\n\t\tEditorUtility.ClearProgressBar();\n\t\tEditorUtility.DisplayDialog("FAILED to connect to FMOD Studio", msg, "Ok");\n\t\t// This is what likely causes the failure but we do not get what exactly failed back from the FMOD API.\n\t\t// This script command does not check if you are building banks for the correct FMOD project so we need to make sure the correct one is open in FMOD Studio.\n\t\treturn;\n\t}\n\t// TODO: to the custom step here, for example generate a Voice Over file with the duration of each VO .wav file.\n\tEditorUtility.ClearProgressBar();\n\t// Show a dialog that the process is done, with errors if any.\n}'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Zl)))(i||Zl)}}();static#t=this.\u0275cmp=Qe({type:Zl,selectors:[["app-post-fmod-build-all-platforms"]],features:[ve],decls:25,vars:4,consts:[[1,"byAndDate"],["href","https://www.fmod.com/docs/2.03/studio/fmod-studio-concepts.html#building"],[3,"highlight"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"h2"),a(11,"The Why"),d(),u(12,"p")(13,"a",1),a(14,"Building"),d(),a(15," is an essential part of the FMOD workflow but we might also require to always do an additional step. For example to generate a file with the duration of each Voice Over "),u(16,"i"),a(17,".wav"),d(),a(18," file if we need it at the game engine author time (not only at runtime). Without a solution we need to do two steps every time: First build the banks and then run your custom script. This can be tedious and easy to forget.\n"),d(),u(19,"h2"),a(20,"Solution: Use Unity Editor Scripting"),d(),u(21,"p"),a(22," It is easy to add Unity editor code for our game specific needs in general, such as generating this file. It is also straight forward to call the FMOD Unity integration to build the banks. So we make a menu item that does both steps.\n"),d(),u(23,"pre"),m(24,"code",2),d()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""),b(16),C("highlight",i.buildBanksAndDoCustomStep))},dependencies:[Ir],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Xl extends Qt{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Ke(Xl)))(i||Xl)}}();static#t=this.\u0275cmp=Qe({type:Xl,selectors:[["app-post-fmod-unity-setup"]],features:[ve],decls:52,vars:3,consts:[[1,"byAndDate"],["href","https://unity.com"],["href","https://github.com/EgillAntonsson/unity-fmod-game-example"],["href","https://www.fmod.com/docs/2.03/unity/user-guide.html"],["href","https://www.fmod.com/download"],[1,"list"]],template:function(e,i){1&e&&(u(0,"h1"),a(1),d(),u(2,"h2"),a(3),d(),u(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),m(7,"br"),a(8),m(9,"br"),d()(),u(10,"h2"),a(11,"Create the Unity project"),d(),u(12,"p"),a(13," This "),u(14,"a",1),a(15,"Unity"),d(),a(16," 'game' will demonstrate the FMOD Unity integration and my suggested extensions to it (see the blog post series) for a typical game audio workflow, This 'game' will not be complete as it is not meant to be played as such. The code repository is on "),u(17,"a",2),a(18,"GitHub"),d(),a(19,".\n"),d(),u(20,"h2"),a(21,"Integrate FMOD"),d(),u(22,"h3"),a(23,"Download"),d(),u(24,"p"),a(25," Read the "),u(26,"a",3),a(27,"FMOD Unity integration user guide"),d(),a(28,". Create and FMOD account on go to the "),u(29,"a",4),a(30,"Download page"),d(),a(31,".\n"),d(),u(32,"ol",5)(33,"li"),a(34,"Download and install FMOD Engine"),d(),u(35,"li"),a(36,"Download and install the FMOD Studio (latest matching version that is marked with 'Unity Verified')"),d(),u(37,"li"),a(38,"Download the FMOD Unity integration package (latest matching version that is marked with 'Unity Verified') from the FMOD website (thus not from the Unity Asset Store) "),u(39,"ul")(40,"li"),a(41,"In Unity, go to "),u(42,"code"),a(43,"Assets > Import Package > Custom Package..."),d(),a(44," and select the downloaded package"),d(),u(45,"li"),a(46,"In the import dialog, click "),u(47,"code"),a(48,"All"),d(),a(49," and then "),u(50,"code"),a(51,"Import"),d()()()()()),2&e&&(b(1),Se(i.post.seriesTitle),b(2),Se(i.post.title),b(5),Ue(" published on ",i.publishedDateToString,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}const iU=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:gd},{path:"blog",component:wd,children:[{path:ht.fmodReloadShortcut,component:Ql},{path:ht.fmodBatchRename,component:Ml},{path:ht.fmodUnitySetup,component:Xl},{path:ht.fmodBuildAllPlatforms,component:Zl},{path:ht.antonssonScripts,component:Tl},{path:ht.renameTracks,component:Sl},{path:ht.shipmentEvaluator,component:Il},{path:ht.tddWhatHowWhyWhen,component:kl},{path:"tdd-health/part2",component:Al},{path:ht.tddHealthPart3,component:Go},{path:ht.tddHealthPart3_Cpp,component:Pl},{path:"tdd-health/part4",component:xl},{path:"tdd-health/part5",component:Ol},{path:"tdd-health/part6",component:Rl},{path:"tdd-health/part7",component:Ll},{path:"tdd-health/part8",component:Fl},{path:ht.tddChessPart1,component:Nl},{path:ht.kgToCreature,component:Bd},{path:ht.jonAndMe,component:Jl}]},{path:"music",component:El},{path:"music/:trackName",component:El},{path:"**",component:_d}];class jd{static#e=this.\u0275fac=function(e){return new(e||jd)};static#t=this.\u0275mod=En({type:jd});static#n=this.\u0275inj=un({imports:[qC.forRoot(iU,{enableTracing:!1}),qC]})}let Dm;try{Dm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dm=!1}let ec=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?s0(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(F(qa))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fU{constructor(t){this.total=t}call(t,e){return e.subscribe(new pU(t,this.total))}}class pU extends Te{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Tm(n,t){return e=>e.lift(new gU(n,t))}class gU{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mU(t,this.compare,this.keySelector))}}class mU extends Te{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function xE(n){return t=>t.lift(new yU(n))}class yU{constructor(t){this.notifier=t}call(t,e){const i=new vU(t),r=Dn(this.notifier,new Pt(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class vU extends Kt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function OE(n){return Array.isArray(n)?n:[n]}const RE=new or($g);class _U{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new CU(t,this.dueTime,this.scheduler))}}class CU extends Te{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(DU,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function DU(n){n.debouncedNext()}const LE=new Set;let Ko,EU=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):TU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function MU(n){if(!LE.has(n))try{Ko||(Ko=document.createElement("style"),Ko.setAttribute("type","text/css"),document.head.appendChild(Ko)),Ko.sheet&&(Ko.sheet.insertRule(`@media ${n} {body{ }}`,0),LE.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(F(ec))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let SU=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new K}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return FE(OE(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=dg(FE(OE(e)).map(o=>this._registerQuery(o).observable));return s=qu(s.pipe(Ss(1)),s.pipe(function PE(n){return t=>t.lift(new fU(n))}(1),function wU(n,t=RE){return e=>e.lift(new _U(n,t))}(0))),s.pipe(G(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:h})=>{l.matches=l.matches||c,l.breakpoints[h]=c}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new q(o=>{const l=c=>this._zone.run(()=>o.next(c));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(F0(i),G(({matches:o})=>({query:e,matches:o})),xE(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(F(EU),F(Ct))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const GE="cdk-high-contrast-black-on-white",$E="cdk-high-contrast-white-on-black",Sm="cdk-high-contrast-active";let BU=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Je(SU).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Sm,GE,$E),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Sm,GE):2===i&&e.add(Sm,$E)}}}return n.\u0275fac=function(e){return new(e||n)(F(ec),F(Bt))},n.\u0275prov=ee({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({}),n})();const WU=new X("mat-sanity-checks",{providedIn:"root",factory:function zU(){return!0}});let zd=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function aU(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(F(BU),F(WU,8),F(Bt))},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[zE,zE]}),n})(),QE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[zd,zd]}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[zd,QE,zd]}),n})();const nM={leading:!0,trailing:!1};function Wd(n,t=RE,e=nM){return i=>i.lift(new uH(n,t,e.leading,e.trailing))}class uH{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new dH(t,this.duration,this.scheduler,this.leading,this.trailing))}}class dH extends Te{constructor(t,e,i,r,s){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(hH,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function hH(n){const{subscriber:t}=n;t.clearThrottle()}var iM=$e(6202);const fH=["tooltipTemplate"],pH=["leftOuterSelectionBar"],gH=["rightOuterSelectionBar"],mH=["fullBar"],yH=["selectionBar"],vH=["minHandle"],bH=["maxHandle"],wH=["floorLabel"],_H=["ceilLabel"],CH=["minHandleLabel"],DH=["maxHandleLabel"],EH=["combinedLabel"],MH=["ticksElement"];function TH(n,t){if(1&n&&m(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=Fe().$implicit;C("template",Fe().tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function SH(n,t){1&n&&m(0,"span",32),2&n&&C("innerHTML",Fe().$implicit.legend,oe)}const IH=function(n){return{"ngx-slider-selected":n}};function kH(n,t){if(1&n&&(u(0,"span",27),m(1,"ngx-slider-tooltip-wrapper",28),Pe(2,TH,1,4,"ngx-slider-tooltip-wrapper",29),Pe(3,SH,1,1,"span",30),d()),2&n){const e=t.$implicit,i=Fe();C("ngClass",yr(7,IH,e.selected))("ngStyle",e.style),b(1),C("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),b(1),C("ngIf",null!=e.value),b(1),C("ngIf",null!=e.legend)}}function AH(n,t){}function PH(n,t){1&n&&Pe(0,AH,0,0,"ng-template")}const xH=function(n,t,e){return{tooltip:n,placement:t,content:e}};function OH(n,t){if(1&n&&(Ra(0),Pe(1,PH,1,0,null,1),La()),2&n){const e=Fe();b(1),C("ngTemplateOutlet",e.template)("ngTemplateOutletContext",dp(2,xH,e.tooltip,e.placement,e.content))}}function RH(n,t){if(1&n&&(Ra(0),u(1,"div",2),a(2),d(),La()),2&n){const e=Fe();b(1),Vn("title",e.tooltip)("data-tooltip-placement",e.placement),b(1),Ue(" ",e.content," ")}}const wn={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};wn[wn.Low]="Low",wn[wn.High]="High",wn[wn.Floor]="Floor",wn[wn.Ceil]="Ceil",wn[wn.TickValue]="TickValue";class qd{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const ae={Min:0,Max:1};ae[ae.Min]="Min",ae[ae.Max]="Max";class LH{}class L{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(s=>Math.abs(t-s.value));let r=0;for(let s=0;s<e.length;s++)i[s]!==i[r]&&i[s]<i[r]&&(r=s);return r}}class es{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Xt{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const r=Math.pow(10,-i);return Math.abs(t%e)<=r||Math.abs(Math.abs(t%e)-e)<=r}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class rM{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class sM{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,r){if(!0!==iM.Z.hasSupport)return this.attachEventListener(t,e,i,r);const s=new rM;s.eventName=e,s.events=new K;const o=l=>{s.events.next(l)};return t.addEventListener(e,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(L.isNullOrUndefined(r)?It(()=>{}):Wd(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{i(l)}),s}detachEventListener(t){L.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),L.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),L.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,r){const s=new rM;return s.eventName=e,s.events=new K,s.teardownCallback=this.renderer.listen(t,e,l=>{s.events.next(l)}),s.eventsSubscription=s.events.pipe(L.isNullOrUndefined(r)?It(()=>{}):Wd(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{i(l)}),s}}let ts=(()=>{class n{constructor(e,i,r){this.elemRef=e,this.renderer=i,this.changeDetectionRef=r,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new sM(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,r){const s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}onPassive(e,i,r){const s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}off(e){let i,r;L.isNullOrUndefined(e)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(s=>s.eventName!==e),r=this.eventListeners.filter(s=>s.eventName===e));for(const s of r)this.eventListenerHelper.detachEventListener(s);this.eventListeners=i}isRefDestroyed(){return L.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(S($t),S(ii),S($i))},n.\u0275dir=ye({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(e,i){2&e&&uu("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),km=(()=>{class n extends ts{constructor(e,i,r){super(e,i,r),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(S($t),S(ii),S($i))},n.\u0275dir=ye({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(Vn("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),yi("ngx-slider-active",i.active))},features:[ve]}),n})(),Jo=(()=>{class n extends ts{constructor(e,i,r){super(e,i,r),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(L.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(S($t),S(ii),S($i))},n.\u0275dir=ye({type:n,selectors:[["","ngxSliderLabel",""]],features:[ve]}),n})();class FH{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class oM{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Kd{static compare(t,e){return!(L.isNullOrUndefined(t)&&L.isNullOrUndefined(e)||L.isNullOrUndefined(t)!==L.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class aM extends Kd{static compare(t,e){return!(L.isNullOrUndefined(t)&&L.isNullOrUndefined(e)||L.isNullOrUndefined(t)!==L.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const NH={provide:Ai,useExisting:pt(()=>lM),multi:!0};let lM=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.elementRef=i,this.changeDetectionRef=r,this.zone=s,this.value=null,this.valueChange=new nt,this.highValue=null,this.highValueChange=new nt,this.options=new qd,this.userChangeStart=new nt,this.userChange=new nt,this.userChangeEnd=new nt,this.initHasRun=!1,this.inputModelChangeSubject=new K,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new K,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new qd,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new oM,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new sM(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!L.isNullOrUndefined(this.value)&&!L.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new qd,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){L.isNullOrUndefined(e.options)||this.onChangeOptions(),(!L.isNullOrUndefined(e.value)||!L.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(e){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Tm(aM.compare),Yn(i=>!i.forceChange&&!i.internalChange),L.isNullOrUndefined(e)?It(()=>{}):Wd(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(e){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Tm(aM.compare),L.isNullOrUndefined(e)?It(()=>{}):Wd(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){es.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){es.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){L.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){L.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){L.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){L.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){L.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){L.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===ae.Min?this.minHandleElement:e===ae.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===ae.Min?this.viewLowValue:this.currentTrackingPointer===ae.Max?this.viewHighValue:null}modelValueToViewValue(e){return L.isNullOrUndefined(e)?NaN:L.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:L.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return L.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return L.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),r=!Kd.compare(e,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),L.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),L.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new Kd;if(i.value=e.value,i.highValue=e.highValue,!L.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=L.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const s=L.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[s].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Xt.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Xt.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=e.value;i.value=e.highValue,i.highValue=r}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);Kd.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,r=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const s=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!L.areArraysEqual(r,s);e!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new qd,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!L.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!L.isNullOrUndefined(this.viewOptions.tickStep)||!L.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),L.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),L.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,L.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(L.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),L.isNullOrUndefined(this.viewOptions.ceil)||L.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,L.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==ae.Min&&e!==ae.Max&&(e=ae.Min),e===ae.Min?this.minHandleElement.focus():this.range&&e===ae.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){L.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())L.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",L.isNullOrUndefined(this.viewOptions.ariaLabel)?L.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",L.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?L.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,wn.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,wn.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){L.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,L.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=L.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const r=L.isNullOrUndefined(this.viewOptions.tickValueStep)?L.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let s=!1;const o=e.map(l=>{let c=this.valueToPosition(l);this.viewOptions.vertical&&(c=this.maxHandlePosition-c);const h=i+"("+Math.round(c)+"px)",f=new FH;f.selected=this.isTickSelected(l),f.style={"-webkit-transform":h,"-moz-transform":h,"-o-transform":h,"-ms-transform":h,transform:h},f.selected&&!L.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(f.style["background-color"]=this.getSelectionBarColor()),!f.selected&&!L.isNullOrUndefined(this.viewOptions.getTickColor)&&(f.style["background-color"]=this.getTickColor(l)),L.isNullOrUndefined(this.viewOptions.ticksTooltip)||(f.tooltip=this.viewOptions.ticksTooltip(l),f.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!L.isNullOrUndefined(r)&&Xt.isModuloWithinPrecisionLimit(l,r,this.viewOptions.precisionLimit)&&(f.value=this.getDisplayValue(l,wn.TickValue),L.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(f.valueTooltip=this.viewOptions.ticksValuesTooltip(l),f.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let p=null;if(L.isNullOrUndefined(this.viewOptions.stepsArray))L.isNullOrUndefined(this.viewOptions.getLegend)||(p=this.viewOptions.getLegend(l));else{const g=this.viewOptions.stepsArray[l];L.isNullOrUndefined(g)||(p=g.legend)}return L.isNullOrUndefined(p)||(f.legend=p,s=!0),f});if(setTimeout(()=>{this.sliderElementWithLegendClass=s}),L.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let l=0;l<o.length;++l)Object.assign(this.ticks[l],o[l]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=L.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(Xt.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let s=0;s<r;++s)i.push(Xt.roundToPrecisionLimit(this.viewOptions.floor+e*s,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,wn.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,wn.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===ae.Min?this.updateLowHandle(i):e===ae.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const r=e===ae.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=i-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===ae.Min||!this.viewOptions.rightToLeft&&e===ae.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,wn.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(ae.Min,e)),L.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(ae.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,wn.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(ae.Max,e)),L.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(ae.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),l=this.isLabelBelowFloorLabel(this.combinedLabelElement),c=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),s?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const h=this.combinedLabelElement.isVisible()?c:o,f=this.combinedLabelElement.isVisible()?l:r;h?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),f?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,s=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=s-2:i<=s+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,s=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=s+this.ceilLabelElement.dimension+2:i+e.dimension>=s-2}updateSelectionBar(){let e=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=s;else if(L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,l=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-l,e=l+this.handleHalfDimension):(i=l-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),L.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!L.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=L.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),l=o-e>0&&!r||o-e<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?l?"bottom":"top":l?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(l?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(l?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===ae.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,wn.Low),r=this.getDisplayValue(this.viewHighValue,wn.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(s);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!L.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const r=L.isNullOrUndefined(i)?this.viewOptions.step:i;let s=Xt.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return s=Math.round(s)*r,Xt.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(e){let i=L.linearValueToPosition;L.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=L.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(e=Xt.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return L.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=L.linearPositionToValue;L.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=L.logPositionToValue):r=this.viewOptions.customPositionToValue;const s=r(i,this.viewOptions.floor,this.viewOptions.ceil);return L.isNullOrUndefined(s)?0:s}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical?e.clientY:e.clientX;let r=0;const s=e.touches;if(!L.isNullOrUndefined(i))for(let o=0;o<s.length;o++)if(s[o].identifier===i){r=o;break}return this.viewOptions.vertical?s[r].clientY:s[r].clientX}getEventPosition(e,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(e,i)+s:this.getEventXY(e,i)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return ae.Min;const i=this.getEventPosition(e),r=Math.abs(i-this.minHandleElement.position),s=Math.abs(i-this.maxHandleElement.position);return r<s?ae.Min:r>s?ae.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?ae.Min:ae.Max:i<this.minHandleElement.position?ae.Min:ae.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(ae.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(ae.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(ae.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(ae.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(ae.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(ae.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(ae.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(ae.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(ae.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(ae.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())L.isNullOrUndefined(e)||e.off()}onBarStart(e,i,r,s,o,l,c){i?this.onDragStart(e,r,s,o):this.onStart(e,r,s,o,l,c)}onStart(e,i,r,s,o,l){i.stopPropagation(),(!es.isTouchEvent(i)||!iM.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),L.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const c=this.getPointerElement(e);if(c.active=!0,this.viewOptions.keyboardSupport&&c.focus(),r){this.unsubscribeOnMove();const h=f=>this.dragging.active?this.onDragMove(f):this.onMove(f);this.onMoveEventListener=es.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",h,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",h,this.viewOptions.mouseEventsInterval)}if(s){this.unsubscribeOnEnd();const h=f=>this.onEnd(f);this.onEndEventListener=es.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",h):this.eventListenerHelper.attachEventListener(document,"mouseup",h)}this.userChangeStart.emit(this.getChangeContext()),es.isTouchEvent(i)&&!L.isNullOrUndefined(i.changedTouches)&&L.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),l&&this.onEnd(i)}onMove(e,i){let r=null;if(es.isTouchEvent(e)){const h=e.changedTouches;for(let f=0;f<h.length;f++)if(h[f].identifier===this.touchId){r=h[f];break}if(L.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const s=L.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier);let o;s<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:s>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(s),o=i&&!L.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){es.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,L.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=e+this.viewOptions.step,s=e-this.viewOptions.step,o=e+i/10,l=e-i/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,s=e+this.viewOptions.step,o=e-i/10,l=e+i/10);const c={UP:r,DOWN:s,LEFT:s,RIGHT:r,PAGEUP:o,PAGEDOWN:l,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(c.LEFT=r,c.RIGHT=s,this.viewOptions.vertical&&(c.UP=s,c.DOWN=r)),c}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),r=L.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,c=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(L.isNullOrUndefined(c)||L.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const h=Xt.clampToRange(c,this.viewOptions.floor,this.viewOptions.ceil),f=this.roundStep(h);if(this.viewOptions.draggableRangeOnly){const p=this.viewHighValue-this.viewLowValue;let g,y;this.currentTrackingPointer===ae.Min?(g=f,y=f+p,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,g=y-p)):this.currentTrackingPointer===ae.Max&&(y=f,g=f-p,g<this.viewOptions.floor&&(g=this.viewOptions.floor,y=g+p)),this.positionTrackingBar(g,y)}else this.positionTrackingHandle(f)}onDragStart(e,i,r,s){const o=this.getEventPosition(i);this.dragging=new oM,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,r,s)}getMinValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(s?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let r,s,o,l;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,l=this.minHandleElement):(r=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,l=this.maxHandleElement);const h=i>=this.maxHandlePosition-r;let f,p;if(i<=s){if(0===o.position)return;f=this.getMinValue(i,!0,!1),p=this.getMaxValue(i,!0,!1)}else if(h){if(l.position===this.maxHandlePosition)return;p=this.getMaxValue(i,!0,!0),f=this.getMinValue(i,!0,!0)}else f=this.getMinValue(i,!1,!1),p=this.getMaxValue(i,!1,!1);this.positionTrackingBar(f,p)}positionTrackingBar(e,i){!L.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=Xt.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!L.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=Xt.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(ae.Min,this.valueToPosition(e)),this.updateHandles(ae.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===ae.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===ae.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===ae.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(ae.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ae.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===ae.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(ae.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ae.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===ae.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===ae.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!L.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!L.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const r=Math.abs(e-(this.currentTrackingPointer===ae.Min?this.viewHighValue:this.viewLowValue));if(!L.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===ae.Min)return Xt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ae.Max)return Xt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!L.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===ae.Min)return Xt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ae.Max)return Xt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===ae.Min?this.viewHighValue-e:e-this.viewLowValue,r=L.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===ae.Min?(this.viewHighValue=Xt.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=Xt.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ae.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ae.Max&&(this.viewLowValue=Xt.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=Xt.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ae.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!L.isNullOrUndefined(s)&&i>s&&(this.currentTrackingPointer===ae.Min?(this.viewHighValue=Xt.roundToPrecisionLimit(e+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ae.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ae.Max&&(this.viewLowValue=Xt.roundToPrecisionLimit(e-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ae.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new LH;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(S(ii),S($t),S($i),S(Ct))},n.\u0275cmp=Qe({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,r){if(1&e&&wu(r,fH,5),2&e){let s;wt(s=_t())&&(i.tooltipTemplate=s.first)}},viewQuery:function(e,i){if(1&e&&(Lt(pH,5,ts),Lt(gH,5,ts),Lt(mH,5,ts),Lt(yH,5,ts),Lt(vH,5,km),Lt(bH,5,km),Lt(wH,5,Jo),Lt(_H,5,Jo),Lt(CH,5,Jo),Lt(DH,5,Jo),Lt(EH,5,Jo),Lt(MH,5,ts)),2&e){let r;wt(r=_t())&&(i.leftOuterSelectionBarElement=r.first),wt(r=_t())&&(i.rightOuterSelectionBarElement=r.first),wt(r=_t())&&(i.fullBarElement=r.first),wt(r=_t())&&(i.selectionBarElement=r.first),wt(r=_t())&&(i.minHandleElement=r.first),wt(r=_t())&&(i.maxHandleElement=r.first),wt(r=_t())&&(i.floorLabelElement=r.first),wt(r=_t())&&(i.ceilLabelElement=r.first),wt(r=_t())&&(i.minHandleLabelElement=r.first),wt(r=_t())&&(i.maxHandleLabelElement=r.first),wt(r=_t())&&(i.combinedLabelElement=r.first),wt(r=_t())&&(i.ticksElement=r.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(e,i){1&e&&gt("resize",function(s){return i.onResize(s)},0,wf),2&e&&(Vn("disabled",i.sliderElementDisabledAttr),yi("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[bt([NH]),ti],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(u(0,"span",0,1),m(2,"span",2),d(),u(3,"span",3,4),m(5,"span",2),d(),u(6,"span",5,6),m(8,"span",2),d(),u(9,"span",7,8),m(11,"span",9),d(),m(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),u(26,"span",24,25),Pe(28,kH,4,9,"span",26),d()),2&e&&(b(6),yi("ngx-slider-transparent",i.fullBarTransparentClass),b(3),yi("ngx-slider-draggable",i.selectionBarDraggableClass),b(2),C("ngStyle",i.barStyle),b(1),C("ngStyle",i.minPointerStyle),b(2),uu("display",i.range?"inherit":"none"),C("ngStyle",i.maxPointerStyle),b(12),yi("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),C("hidden",!i.showTicks),b(2),C("ngForOf",i.ticks))},dependencies:function(){return[Za,Xa,An,X1,ts,km,Jo,VH]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),VH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Qe({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&(Pe(0,OH,2,6,"ng-container",0),Pe(1,RH,3,3,"ng-container",0)),2&e&&(C("ngIf",i.template),b(1),C("ngIf",!i.template))},dependencies:[An,e0],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({imports:[n0]}),n})();class HH extends Vg.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}const GH=new class jH extends or{}(class BH extends $g{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(t,e,i):t.flush(this)}});class Pi{constructor(t,e,i){this.kind=t,this.value=e,this.error=i,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,i){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return i&&i()}}accept(t,e,i){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,i)}toObservable(){switch(this.kind){case"N":return pe(this.value);case"E":return qi(this.error);case"C":return Ku()}throw new Error("unexpected notification kind value")}static createNext(t){return typeof t<"u"?new Pi("N",t):Pi.undefinedValueNotification}static createError(t){return new Pi("E",void 0,t)}static createComplete(){return Pi.completeNotification}}Pi.completeNotification=new Pi("C"),Pi.undefinedValueNotification=new Pi("N",void 0);class Yd extends Te{constructor(t,e,i=0){super(t),this.scheduler=e,this.delay=i}static dispatch(t){const{notification:e,destination:i}=t;e.observe(i),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Yd.dispatch,this.delay,new zH(t,this.destination)))}_next(t){this.scheduleMessage(Pi.createNext(t))}_error(t){this.scheduleMessage(Pi.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Pi.createComplete()),this.unsubscribe()}}class zH{constructor(t,e){this.notification=t,this.destination=e}}class WH extends K{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new qH(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,i=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let o;if(this.closed)throw new D;if(this.isStopped||this.hasError?o=V.EMPTY:(this.observers.push(t),o=new M(this,t)),r&&t.add(t=new Yd(t,r)),e)for(let l=0;l<s&&!t.closed;l++)t.next(i[l]);else for(let l=0;l<s&&!t.closed;l++)t.next(i[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||GH).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(t-r[o].time<i);)o++;return s>e&&(o=Math.max(o,s-e)),o>0&&r.splice(0,o),r}}class qH{constructor(t,e){this.time=t,this.value=e}}function Qo(){return window}function Am(){return Qo().YT}function cM(){return Am().Player}const sc={height:270,width:367};let Pm=(()=>{class n{constructor(e){this.zone=e,this.api=new WH(1),this.createApi()}loadPlayerApi(e){const i=Qo().document;if(!n.ytApiLoaded){n.ytApiLoaded=!0;const r=i.createElement("script");r.type="text/javascript",r.src=`${e.protocol}://www.youtube.com/iframe_api`,i.body.appendChild(r)}}setupPlayer(e,i,r,s="",o){this.api.subscribe(()=>{cM&&this.createPlayer(e,i,r,s,o)})}play(e){e.playVideo()}pause(e){e.pauseVideo()}playVideo(e,i){i.loadVideoById(e.id.videoId?e.id.videoId:e.id),this.play(i)}isPlaying(e){const i=e&&e.getPlayerState,r=i?e.getPlayerState():{};return!!i&&r!==Am().PlayerState.ENDED&&r!==Am().PlayerState.PAUSED}createPlayer(e,i,r,s="",o={}){const l={height:r.height||sc.height,width:r.width||sc.width};return new(cM())(e,Object.assign(Object.assign({},l),{events:{onReady:h=>{this.zone.run(()=>i.ready&&i.ready.next(h.target))},onStateChange:h=>{this.zone.run(()=>i.change&&i.change.next(h))}},playerVars:o,videoId:s}))}toggleFullScreen(e,i){let{height:r,width:s}=sc;i||(r=window.innerHeight,s=window.innerWidth),e.setSize(s,r)}generateUniqueId(){return Math.random().toString(35).substr(2,7)}createApi(){Qo().onYouTubeIframeAPIReady=()=>{Qo()&&(Qo().onYouTubeIframeAPIReadyCalled=!0,this.api.next())},Qo().onYouTubeIframeAPIReadyCalled&&this.api.next()}}return n.\u0275fac=function(e){return new(e||n)(F(Ct))},n.ytApiLoaded=!1,n.\u0275prov=ee({factory:function(){return new n(F(Ct))},token:n,providedIn:"root"}),n})(),KH=(()=>{class n{constructor(e,i,r){this.playerService=e,this.elementRef=i,this.renderer=r,this.videoId="",this.height=sc.height,this.width=sc.width,this.protocol=this.getProtocol(),this.playerVars={},this.ready=new nt,this.change=new nt}ngAfterContentInit(){const e=this.playerService.generateUniqueId(),i={height:this.height,width:this.width},r=this.renderer.selectRootElement("#yt-player-ngx-component");this.renderer.setAttribute(r,"id",e),this.playerService.loadPlayerApi({protocol:this.protocol}),this.playerService.setupPlayer(e,{change:this.change,ready:this.ready},i,this.videoId,this.playerVars)}getProtocol(){return window&&window.location?window.location.protocol.replace(":",""):"http"}}return n.\u0275fac=function(e){return new(e||n)(S(Pm),S($t),S(ii))},n.\u0275cmp=Qe({type:n,selectors:[["youtube-player"]],inputs:{videoId:"videoId",height:"height",width:"width",protocol:"protocol",playerVars:"playerVars"},outputs:{ready:"ready",change:"change"},decls:1,vars:0,consts:[["id","yt-player-ngx-component"]],template:function(e,i){1&e&&m(0,"div",0)},encapsulation:2,changeDetection:0}),n})(),YH=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Pm]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=En({type:n}),n.\u0275inj=un({providers:[Pm]}),n})();const JH=["youtubePlayer"],QH=["webGlCanvas"],xm=function(n){return{hide:n}},ZH=function(n,t,e){return{playing:n,loading:t,stopped:e}},XH=function(n,t){return{shuffleOn:n,shuffleOff:t}},eB=function(n,t,e,i){return{mute:n,unmute:t,muteDisabled:e,unmuteDisabled:i}};class Jd{constructor(t,e,i,r){this.musicService=t,this.messageService=e,this.changeDetectorRef=i,this.htmlElementService=r,this.label="MusicPlayer",this._gainsDisabled=new HH(!1),this.ngInitiated=!1,this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=s=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,s?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.musicService.playerUiInitialized(this._gainsDisabled),this.subscription=this.messageService.onMessage().subscribe(s=>{"YoutubeVolumeChange"===s.type&&this.updateMuteUI()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get selectedTrackAsYoutubeTrack(){return this.musicService.selectedTrack}get selectedTrackAsRealtimeVisualTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.musicService.masterGain}set masterGain(t){this.musicService.masterGain=t}get masterMuted(){return this.musicService.masterMuted}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(t){return t<=.2?"#485905":t<=.4?"#596A06":t<=.6?"#798A0A":t<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(t){return t<=.2?"#6C1700":t<=.4?"#7D2800":t<=.6?"#9D4800":t<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(t){return"#8B91A2"}ngAfterViewChecked(){!this.ngInitiated&&this.htmlElementService.isInitialized&&(this.ngInitiated=!0,this.onWindowResize(),this.musicService.init(this.youtubePlayerElement,this.WebGlCanvasElement))}ngOnDestroy(){this.subscription instanceof V&&this.subscription.unsubscribe()}onWindowResize(){this.musicService.onWindowResize(window.innerWidth,window.innerHeight)}onPlayerReady(t){this.musicService.onYoutubePlayerReady(t,window.innerWidth,window.innerHeight)}onPlayerStateChange(t){this.musicService.OnYoutubePlayerStateChange(t.data)}onPlayPauseBtn(){this.musicService.OnUiPlayOrPause()}onNextBtn(){this.musicService.onUiNextTrack()}onShuffleBtn(){this.musicService.toggleShuffle()}onMasterMuteBtn(){this._gainsDisabled.value||(this.musicService.masterMuted=!this.masterMuted)}updateMuteUI(){this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})}static#e=this.\u0275fac=function(e){return new(e||Jd)(S(Yr),S(Ps),S($i),S(xs))};static#t=this.\u0275cmp=Qe({type:Jd,selectors:[["app-music-player"]],viewQuery:function(e,i){if(1&e&&(Lt(JH,5),Lt(QH,5)),2&e){let r;wt(r=_t())&&(i.youtubePlayerElement=r.first),wt(r=_t())&&(i.WebGlCanvasElement=r.first)}},hostBindings:function(e,i){1&e&&gt("resize",function(s){return i.onWindowResize(s)},0,wf)},decls:25,vars:28,consts:[[1,"playerContainer"],[1,"youtubePlayer",3,"ngClass"],["youtubePlayer",""],[3,"videoId","ready","change"],[1,"myPlayer","noSelect","bgGradientGray",3,"ngClass"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"],["id","webGlCanvas",3,"ngClass"],["webGlCanvas",""],["id","scWidget","width","100%","height","10","scrolling","no","frameborder","no","allow","autoplay","src","https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1255416709&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&buying=false&liking=false&download=false&sharing=false&show_artwork=false&show_playcount=false&start_track=0",1,"hide"]],template:function(e,i){1&e&&(u(0,"div",0)(1,"div",1,2)(3,"youtube-player",3),gt("ready",function(s){return i.onPlayerReady(s)})("change",function(s){return i.onPlayerStateChange(s)}),d()(),u(4,"div",4)(5,"span",5),gt("click",function(){return i.onPlayPauseBtn()}),m(6,"div",6),d(),u(7,"span",7),gt("click",function(){return i.onNextBtn()}),m(8,"div",8)(9,"div",9),d(),u(10,"span",10)(11,"span"),a(12),d()(),u(13,"span",11)(14,"span",12),gt("click",function(){return i.onShuffleBtn()}),m(15,"div",13),d(),u(16,"span",14),gt("click",function(){return i.onMasterMuteBtn()}),m(17,"div",6),d(),u(18,"span",15)(19,"span",16)(20,"ngx-slider",17),gt("valueChange",function(s){return i.masterGain=s}),d()()()()(),u(21,"div"),m(22,"canvas",18,19),d()(),m(24,"iframe",20)),2&e&&(b(1),C("ngClass",yr(10,xm,"Youtube"!==i.selectedTrack.source||!1===i.selectedTrackAsYoutubeTrack.isGraphicsActive)),b(2),fn("videoId",i.selectedTrackAsYoutubeTrack.youtubeId),b(1),C("ngClass",yr(12,xm,"Youtube"===i.selectedTrack.source&&!0===i.selectedTrackAsYoutubeTrack.isGraphicsActive)),b(2),C("ngClass",dp(14,ZH,"Playing"===i.playState,"Loading"===i.playState,"Paused"===i.playState||"Stopped"===i.playState)),b(6),Se(i.selectedTrack.name),b(3),C("ngClass",yu(18,XH,i.isShuffle,!i.isShuffle)),b(2),C("ngClass",function T_(n,t,e,i,r,s,o){return A_(N(),$n(),n,t,e,i,r,s,o)}(21,eB,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),b(3),C("value",i.masterGain)("options",i.optionsMasterGain),b(2),C("ngClass",yr(26,xm,"RealtimeVisual"!==i.selectedTrack.source||!1===i.selectedTrackAsRealtimeVisualTrack.isGraphicsActive)))},dependencies:[Za,lM,KH],styles:['#webGlCanvas[_ngcontent-%COMP%]{border:none;position:absolute;padding:10px 0;margin:0 0%}.playerContainer[_ngcontent-%COMP%]{position:fixed;z-index:1;transform:translateY(40px);width:90%}.myPlayer[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--colorGrayDarkMed);border-radius:1em;padding-top:9px;padding-bottom:7px;height:24px}.youtubePlayer[_ngcontent-%COMP%]{margin:0 0%}.trackName[_ngcontent-%COMP%]{position:fixed;margin-top:1.25px}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:6%;height:23px}.stopped[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:_ngcontent-%COMP%_rotationFastReverse .5s infinite linear}@keyframes _ngcontent-%COMP%_rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:0px;height:16px;transform:translate(8%,4%);animation-name:_ngcontent-%COMP%_rotate-pause;animation-duration:3s;animation-timing-function:linear;animation-iteration-count:infinite;transition:all .2s;border-style:double;border-width:0px 0 0px 16px}@keyframes _ngcontent-%COMP%_rotate-pause{0%{transform:rotate(0)}40%{transform:rotate(-180deg)}60%{transform:rotate(-180deg)}to{transform:rotate(-360deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;width:10px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:42%;height:24px;float:right}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.youtubeButtonContainer[_ngcontent-%COMP%]{float:left;height:16px;width:25px}.youtubeButton[_ngcontent-%COMP%]{width:256px;height:256px;display:block;transform:translate(-116px) translateY(-116px) scale(.1);background:transparent url(https://upload.wikimedia.org/wikipedia/commons/5/55/YouTube_icon_%282013-2017%29.svg)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\d\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%]{margin:0 0%}.playIconContainer[_ngcontent-%COMP%]{width:7%}.nextContainer[_ngcontent-%COMP%]{padding-right:2%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 452px) and (max-width: 703px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 0%}.playIconContainer[_ngcontent-%COMP%]{width:6%}.nextContainer[_ngcontent-%COMP%]{padding-right:3%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 704px) and (max-width: 1053px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 5%}.myPlayer[_ngcontent-%COMP%]{width:90%}.playIconContainer[_ngcontent-%COMP%]{width:5%}.nextContainer[_ngcontent-%COMP%]{padding-right:4%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 15%}.myPlayer[_ngcontent-%COMP%]{width:70%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 25%}.myPlayer[_ngcontent-%COMP%]{width:50%}}@media screen and (min-width: 2001px){.youtubePlayer[_ngcontent-%COMP%], #webGlCanvas[_ngcontent-%COMP%], .myPlayer[_ngcontent-%COMP%]{margin:0 30%}.myPlayer[_ngcontent-%COMP%]{width:40%}}']})}const tB=["headerContainer"],nB=["headerBackground"];function iB(n,t){1&n&&(u(0,"div")(1,"label"),a(2,"Has to be a valid email address"),d()())}function rB(n,t){if(1&n&&(u(0,"div",23),Pe(1,iB,3,0,"div",20),d()),2&n){const e=Fe(3);b(1),C("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.pattern)}}function sB(n,t){if(1&n&&(u(0,"div")(1,"label"),a(2,"* Your Email:"),d(),m(3,"br")(4,"input",19),Pe(5,rB,2,1,"div",22),m(6,"br")(7,"br"),d()),2&n){const e=Fe(2);b(4),fn("placeholder",e.placeholderEmail),fn("formControlName",e.emailName),fn("name",e.emailName),b(1),C("ngIf",e.emailControl.invalid)}}function oB(n,t){if(1&n){const e=Co();u(0,"div",15)(1,"form",16),m(2,"input",17),u(3,"label"),a(4),d(),m(5,"br")(6,"textarea",18)(7,"br")(8,"br"),u(9,"label"),a(10,"* Your Name / Handle:"),d(),m(11,"br")(12,"input",19)(13,"br")(14,"br"),Pe(15,sB,8,4,"div",20),u(16,"button",21),gt("click",function(){return Ws(e),qs(Fe().onSendClick())}),a(17,"Send"),d()()()}if(2&n){const e=Fe();b(1),fn("name",e.formName),C("formGroup",e.messageForm),b(1),fn("value",e.formName),b(2),Se(e.messageLabel),b(2),fn("placeholder",e.placeholderText),fn("formControlName",e.messageName),fn("name",e.messageName),C("maxlength",300),b(6),fn("placeholder",e.placeholderHandle),fn("formControlName",e.handleName),fn("name",e.handleName),b(3),C("ngIf","/home"===e.urlEnd),b(1),C("disabled",e.messageForm.invalid)}}class Qd{constructor(t,e,i,r,s){this.fb=t,this.http=e,this.router=i,this.logService=r,this.htmlService=s,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* your comment will pend for moderation\n* this Comment-form will become hidden\nAfter approval I will publish your comment,\nI might also include a short response.",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(Yn(o=>o instanceof Dr)).subscribe(o=>{this.showCommentForm=!0,this.urlEnd=o.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(Zr.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(Zr.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[Zr.required]],[this.handleName]:["",[Zr.required]],[this.emailName]:["",[Zr.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}ngAfterViewInit(){this.htmlService.set("headerBackground",this.headerBackgroundElement),this.htmlService.set("headerContainer",this.headerContainerElement),this.htmlService.isInitialized=!0}onSendClick(){let t=(new Ar).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);t=t.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",t),this.http.post("/",t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(e=>{this.logService.log("Info","result handler:",e),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},e=>{this.showCommentForm=!1,e instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",e.error),this.headerText="Something went wrong with sending"):200===e.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",e.status),this.logService.log("Error","Error body:",e.error))}),this.messageForm.reset()}static#e=this.\u0275fac=function(e){return new(e||Qd)(S(fE),S(_m),S(yn),S(bi),S(xs))};static#t=this.\u0275cmp=Qe({type:Qd,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&(Lt(tB,5),Lt(nB,5)),2&e){let r;wt(r=_t())&&(i.headerContainerElement=r.first),wt(r=_t())&&(i.headerBackgroundElement=r.first)}},decls:36,vars:2,consts:[[1,"headerContainer"],["headerContainer",""],[1,"headerBackground"],["headerBackground",""],[1,"noSelect"],["routerLink","/home","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],[1,"footer"],[1,"horizontalLine"],["href","https://www.paypal.com/donate/?hosted_button_id=9PSFWJT92K8U4"],["class","messageForm",4,"ngIf"],[1,"tribute"],["href","https://icons8.com/icon/102034/mute"],["href","https://icons8.com/icon/108731/sound"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(e,i){1&e&&(u(0,"div",0,1),m(2,"div",2,3),u(4,"nav",4)(5,"li")(6,"a",5),a(7,"Home"),d()(),u(8,"li")(9,"a",6),a(10,"Music"),d()(),u(11,"li")(12,"a",7),a(13,"Blog"),d()()(),m(14,"app-music-player"),d(),m(15,"router-outlet"),u(16,"div",8),m(17,"div",9),u(18,"h2"),a(19,"Donations are welcome"),d(),u(20,"p"),a(21," Feel free to donate via this "),u(22,"a",10),a(23,"link"),d(),a(24," if some content on this site has given you value. "),d(),m(25,"div",9),u(26,"h2"),a(27),d(),Pe(28,oB,18,13,"div",11),u(29,"div",12)(30,"small")(31,"a",13),a(32,"Mute icon by Icons8"),d(),m(33,"br"),u(34,"a",14),a(35,"Sound icon by Icons8"),d()()()()),2&e&&(b(27),Se(i.headerText),b(1),C("ngIf",i.showCommentForm))},dependencies:[od,pd,UC,An,lm,Vl,Yg,Jg,Fd,Wl,Ld,Jd],encapsulation:2})}class Zd{static#e=this.\u0275fac=function(e){return new(e||Zd)};static#t=this.\u0275mod=En({type:Zd,bootstrap:[Qd]});static#n=this.\u0275inj=un({providers:[{provide:aD,useExisting:Dl},{provide:Cd,useValue:{coreLibraryLoader:()=>$e.e(358).then($e.bind($e,9358)),languages:{csharp:()=>$e.e(285).then($e.bind($e,5285)),cpp:()=>$e.e(739).then($e.bind($e,3739))}}}],imports:[jd,lL,q4,QE,UH,aH,mm,yV,YH.forRoot()]})}aL().bootstrapModule(Zd)},305:Tn=>{"use strict";Tn.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000,"url":"https://en.wikipedia.org/wiki/Blue_whale"},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis dinosaur"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus dinosaur","url":"https://en.wikipedia.org/wiki/Antarctosaurus#%22Antarctosaurus%22_giganteus"},{"kg":75900,"name":"Notocolossus gonzalezparejasi dinosaur"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum dinosaur"},{"kg":72600,"name":"Apatosaurus ajax dinosaur"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum dinosaur"},{"kg":60000,"name":"Sauroposeidon proteles dinosaur"},{"kg":59300,"name":"Dreadnoughtus schrani dinosaur"},{"kg":59000,"name":"Paralititan stromeri dinosaur"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus dinosaur"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex dinosaur"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus dinosaur"},{"kg":13800,"name":"Giganotosaurus carolinii dinosaur"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis dinosaur"},{"kg":7000,"name":"Oxalaia quilombensis dinosaur"},{"kg":6999,"name":"Tyrannotitan chubutensis dinosaur"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus dinosaur"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis dinosaur"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis dinosaur"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale","url":"https://en.wikipedia.org/wiki/Cuvier\'s_beaked_whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison","url":"https://en.wikipedia.org/wiki/American_bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger","url":"https://en.wikipedia.org/wiki/Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer","url":"https://en.wikipedia.org/wiki/Tufted_deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"Four-toed hedgehog","url":"https://en.wikipedia.org/wiki/Four-toed_hedgehog"}]')}},Tn=>{Tn(Tn.s=409)}]);