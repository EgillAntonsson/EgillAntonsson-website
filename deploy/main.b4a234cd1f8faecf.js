(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{327:(on,Vt,Re)=>{"use strict";function Ne(n){return"function"==typeof n}let De=!1;const He={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else De&&console.log("RxJS: Back to a better error behavior. Thank you. <3");De=n},get useDeprecatedSynchronousErrorHandling(){return De}};function K(n){setTimeout(()=>{throw n},0)}const Je={closed:!0,next(n){},error(n){if(He.useDeprecatedSynchronousErrorHandling)throw n;K(n)},complete(){}},Ve=Array.isArray||(n=>n&&"number"==typeof n.length);function Pt(n){return null!==n&&"object"==typeof n}const S=(()=>{function n(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((t,i)=>`${i+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return n.prototype=Object.create(Error.prototype),n})();class O{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof O)t.remove(this);else if(null!==t)for(let o=0;o<t.length;++o)t[o].remove(this);if(Ne(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){e=o instanceof S?te(o.errors):[o]}}if(Ve(s)){let o=-1,l=s.length;for(;++o<l;){const u=s[o];if(Pt(u))try{u.unsubscribe()}catch(h){e=e||[],h instanceof S?e=e.concat(te(h.errors)):e.push(h)}}}if(e)throw new S(e)}add(e){let t=e;if(!e)return O.EMPTY;switch(typeof e){case"function":t=new O(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof O)){const s=t;t=new O,t._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=t;if(null===i)t._parentOrParents=this;else if(i instanceof O){if(i===this)return t;t._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return t;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const i=t.indexOf(e);-1!==i&&t.splice(i,1)}}}var n;function te(n){return n.reduce((e,t)=>e.concat(t instanceof S?t.errors:t),[])}O.EMPTY=((n=new O).closed=!0,n);const Se="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ye extends O{constructor(e,t,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Je;break;case 1:if(!e){this.destination=Je;break}if("object"==typeof e){e instanceof ye?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new an(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new an(this,e,t,i)}}[Se](){return this}static create(e,t,i){const r=new ye(e,t,i);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class an extends ye{constructor(e,t,i,r){super(),this._parentSubscriber=e;let s,o=this;Ne(t)?s=t:t&&(s=t.next,i=t.error,r=t.complete,t!==Je&&(o=Object.create(t),Ne(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;He.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:i}=He;if(this._error)i&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)i?(t.syncErrorValue=e,t.syncErrorThrown=!0):K(e),this.unsubscribe();else{if(this.unsubscribe(),i)throw e;K(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);He.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(i){if(this.unsubscribe(),He.useDeprecatedSynchronousErrorHandling)throw i;K(i)}}__tryOrSetError(e,t,i){if(!He.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,i)}catch(r){return He.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(K(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const en="function"==typeof Symbol&&Symbol.observable||"@@observable";function B(n){return n}function G(n){return 0===n.length?B:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let j=(()=>{class n{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const{operator:s}=this,o=function Wt(n,e,t){if(n){if(n instanceof ye)return n;if(n[Se])return n[Se]()}return n||e||t?new ye(n,e,t):new ye(Je)}(t,i,r);if(o.add(s?s.call(o,this.source):this.source||He.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),He.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){He.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=i),function hi(n){for(;n;){const{closed:e,destination:t,isStopped:i}=n;if(e||i)return!1;n=t&&t instanceof ye?t:null}return!0}(t)?t.error(i):console.warn(i)}}forEach(t,i){return new(i=ne(i))((r,s)=>{let o;o=this.subscribe(l=>{try{t(l)}catch(u){s(u),o&&o.unsubscribe()}},s,r)})}_subscribe(t){const{source:i}=this;return i&&i.subscribe(t)}[en](){return this}pipe(...t){return 0===t.length?this:G(t)(this)}toPromise(t){return new(t=ne(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function ne(n){if(n||(n=He.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const _=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class w extends O{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const i=t.indexOf(this.subscriber);-1!==i&&t.splice(i,1)}}class N extends ye{constructor(e){super(e),this.destination=e}}let $=(()=>{class n extends j{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Se](){return new N(this)}lift(t){const i=new J(this,this);return i.operator=t,i}next(t){if(this.closed)throw new _;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(t)}}error(t){if(this.closed)throw new _;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(t);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:t}=this,i=t.length,r=t.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new _;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new _;return this.hasError?(t.error(this.thrownError),O.EMPTY):this.isStopped?(t.complete(),O.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new j;return t.source=this,t}}return n.create=(e,t)=>new J(e,t),n})();class J extends ${constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):O.EMPTY}}function ge(n){return n&&"function"==typeof n.schedule}function U(n,e){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new Dt(n,e))}}class Dt{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new Xe(e,this.project,this.thisArg))}}class Xe extends ye{constructor(e,t,i){super(e),this.project=t,this.count=0,this.thisArg=i||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}const ie=n=>e=>{for(let t=0,i=n.length;t<i&&!e.closed;t++)e.next(n[t]);e.complete()},L=function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ve=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function gt(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const at=n=>{if(n&&"function"==typeof n[en])return(n=>e=>{const t=n[en]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)})(n);if(ve(n))return ie(n);if(gt(n))return(n=>e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,K),e))(n);if(n&&"function"==typeof n[L])return(n=>e=>{const t=n[L]();for(;;){let i;try{i=t.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof t.return&&e.add(()=>{t.return&&t.return()}),e})(n);{const t=`You provided ${Pt(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(t)}};function de(n,e){return new j(t=>{const i=new O;let r=0;return i.add(e.schedule(function(){r!==n.length?(t.next(n[r++]),t.closed||i.add(this.schedule())):t.complete()})),i})}function re(n,e){return e?function je(n,e){if(null!=n){if(function lt(n){return n&&"function"==typeof n[en]}(n))return function Et(n,e){return new j(t=>{const i=new O;return i.add(e.schedule(()=>{const r=n[en]();i.add(r.subscribe({next(s){i.add(e.schedule(()=>t.next(s)))},error(s){i.add(e.schedule(()=>t.error(s)))},complete(){i.add(e.schedule(()=>t.complete()))}}))})),i})}(n,e);if(gt(n))return function Ut(n,e){return new j(t=>{const i=new O;return i.add(e.schedule(()=>n.then(r=>{i.add(e.schedule(()=>{t.next(r),i.add(e.schedule(()=>t.complete()))}))},r=>{i.add(e.schedule(()=>t.error(r)))}))),i})}(n,e);if(ve(n))return de(n,e);if(function mt(n){return n&&"function"==typeof n[L]}(n)||"string"==typeof n)return function We(n,e){if(!n)throw new Error("Iterable cannot be null");return new j(t=>{const i=new O;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=n[L](),i.add(e.schedule(function(){if(t.closed)return;let s,o;try{const l=r.next();s=l.value,o=l.done}catch(l){return void t.error(l)}o?t.complete():(t.next(s),this.schedule())}))})),i})}(n,e)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,e):n instanceof j?n:new j(at(n))}class yt extends ye{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Rt extends ye{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function tn(n,e){if(e.closed)return;if(n instanceof j)return n.subscribe(e);let t;try{t=at(n)(e)}catch(i){e.error(i)}return t}function vt(n,e,t=Number.POSITIVE_INFINITY){return"function"==typeof e?i=>i.pipe(vt((r,s)=>re(n(r,s)).pipe(U((o,l)=>e(r,o,s,l))),t)):("number"==typeof e&&(t=e),i=>i.lift(new Xn(n,t)))}class Xn{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new xn(e,this.project,this.concurrent))}}class xn extends Rt{constructor(e,t,i=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new yt(this),i=this.destination;i.add(t);const r=tn(e,t);r!==t&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function _n(n=Number.POSITIVE_INFINITY){return vt(B,n)}function Ht(n,e){return e?de(n,e):new j(ie(n))}function Pn(){return function(e){return e.lift(new ml(e))}}class ml{constructor(e){this.connectable=e}call(e,t){const{connectable:i}=this;i._refCount++;const r=new Lr(e,i),s=t.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class Lr extends ye{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:i}=this,r=e._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class ar extends j{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new O,e.add(this.source.subscribe(new B1(this.getSubject(),this))),e.closed&&(this._connection=null,e=O.EMPTY)),e}refCount(){return Pn()(this)}}const Nr=(()=>{const n=ar.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class B1 extends N{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class G1{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(e);return s.add(t.subscribe(r)),s}}function z1(){return new $}function tt(n){for(let e in n)if(n[e]===tt)return e;throw Error("Could not find renamed property on target object.")}function Qc(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(nt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Jc(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const q1=tt({__forward_ref__:tt});function et(n){return n.__forward_ref__=et,n.toString=function(){return nt(this())},n}function fe(n){return Xc(n)?n():n}function Xc(n){return"function"==typeof n&&n.hasOwnProperty(q1)&&n.__forward_ref__===et}function ed(n){return n&&!!n.\u0275providers}const yl="https://g.co/ng/security#xss";class H extends Error{constructor(e,t){super(function vl(n,e){return`NG0${Math.abs(n)}${e?": "+e.trim():""}`}(e,t)),this.code=e}}function we(n){return"string"==typeof n?n:null==n?"":String(n)}function bl(n,e){throw new H(-201,!1)}function Un(n,e){null==n&&function Ke(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function Y(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function qt(n){return{providers:n.providers||[],imports:n.imports||[]}}function _l(n){return Og(n,wl)||Og(n,Lg)}function Og(n,e){return n.hasOwnProperty(e)?n[e]:null}function Rg(n){return n&&(n.hasOwnProperty(td)||n.hasOwnProperty(nE))?n[td]:null}const wl=tt({\u0275prov:tt}),td=tt({\u0275inj:tt}),Lg=tt({ngInjectableDef:tt}),nE=tt({ngInjectorDef:tt});var pe=(()=>((pe=pe||{})[pe.Default=0]="Default",pe[pe.Host=1]="Host",pe[pe.Self=2]="Self",pe[pe.SkipSelf=4]="SkipSelf",pe[pe.Optional=8]="Optional",pe))();let nd;function ei(n){const e=nd;return nd=n,e}function Ng(n,e,t){const i=_l(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&pe.Optional?null:void 0!==e?e:void bl(nt(n))}const ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),bo={},id="__NG_DI_FLAG__",Cl="ngTempTokenPath",sE=/\n/gm,Fg="__source";let _o;function us(n){const e=_o;return _o=n,e}function aE(n,e=pe.Default){if(void 0===_o)throw new H(-203,!1);return null===_o?Ng(n,void 0,e):_o.get(n,e&pe.Optional?null:void 0,e)}function R(n,e=pe.Default){return(function iE(){return nd}()||aE)(fe(n),e)}function Fe(n,e=pe.Default){return R(n,Dl(e))}function Dl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function rd(n){const e=[];for(let t=0;t<n.length;t++){const i=fe(n[t]);if(Array.isArray(i)){if(0===i.length)throw new H(900,!1);let r,s=pe.Default;for(let o=0;o<i.length;o++){const l=i[o],u=lE(l);"number"==typeof u?-1===u?r=l.token:s|=u:r=l}e.push(R(r,s))}else e.push(R(i))}return e}function wo(n,e){return n[id]=e,n.prototype[id]=e,n}function lE(n){return n[id]}function lr(n){return{toString:n}.toString()}var fi=(()=>((fi=fi||{})[fi.OnPush=0]="OnPush",fi[fi.Default=1]="Default",fi))(),Ii=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(Ii||(Ii={})),Ii))();const Bi={},Ge=[],El=tt({\u0275cmp:tt}),sd=tt({\u0275dir:tt}),od=tt({\u0275pipe:tt}),Ug=tt({\u0275mod:tt}),ji=tt({\u0275fac:tt}),Co=tt({__NG_ELEMENT_ID__:tt});let dE=0;function wt(n){return lr(()=>{const t=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===fi.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Ge,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Ii.Emulated,id:"c"+dE++,styles:n.styles||Ge,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return r.inputs=jg(n.inputs,i),r.outputs=jg(n.outputs),o&&o.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Hg).filter(Bg):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(Cn).filter(Bg):null,r})}function Hg(n){return Ye(n)||dn(n)}function Bg(n){return null!==n}function nn(n){return lr(()=>({type:n.type,bootstrap:n.bootstrap||Ge,declarations:n.declarations||Ge,imports:n.imports||Ge,exports:n.exports||Ge,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function jg(n,e){if(null==n)return Bi;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const ue=wt;function wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ye(n){return n[El]||null}function dn(n){return n[sd]||null}function Cn(n){return n[od]||null}function Hn(n,e){const t=n[Ug]||null;if(!t&&!0===e)throw new Error(`Type ${nt(n)} does not have '\u0275mod' property.`);return t}function On(n){return Array.isArray(n)&&"object"==typeof n[1]}function gi(n){return Array.isArray(n)&&!0===n[1]}function ud(n){return 0!=(4&n.flags)}function Il(n){return n.componentOffset>-1}function Al(n){return 1==(1&n.flags)}function mi(n){return null!==n.template}function yE(n){return 0!=(256&n[2])}function Br(n,e){return n.hasOwnProperty(ji)?n[ji]:null}class _E{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Rn(){return zg}function zg(n){return n.type.prototype.ngOnChanges&&(n.setInput=CE),wE}function wE(){const n=qg(this),e=n?.current;if(e){const t=n.previous;if(t===Bi)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function CE(n,e,t,i){const r=this.declaredInputs[t],s=qg(n)||function DE(n,e){return n[Wg]=e}(n,{previous:Bi,current:null}),o=s.current||(s.current={}),l=s.previous,u=l[r];o[r]=new _E(u&&u.currentValue,e,l===Bi),n[i]=e}Rn.ngInherit=!0;const Wg="__ngSimpleChanges__";function qg(n){return n[Wg]||null}function Kt(n){for(;Array.isArray(n);)n=n[0];return n}function kl(n,e){return Kt(e[n])}function jn(n,e){return Kt(e[n.index])}function pd(n,e){return n.data[e]}function ps(n,e){return n[e]}function $n(n,e){const t=e[n];return On(t)?t:t[0]}function xl(n){return 64==(64&n[2])}function ur(n,e){return null==e?null:n[e]}function Kg(n){n[18]=0}function gd(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const _e={lFrame:rm(null),bindingsEnabled:!0};function Zg(){return _e.bindingsEnabled}function P(){return _e.lFrame.lView}function Ue(){return _e.lFrame.tView}function cr(n){return _e.lFrame.contextLView=n,n[8]}function dr(n){return _e.lFrame.contextLView=null,n}function un(){let n=Qg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Qg(){return _e.lFrame.currentTNode}function Ai(n,e){const t=_e.lFrame;t.currentTNode=n,t.isParent=e}function md(){return _e.lFrame.isParent}function yd(){_e.lFrame.isParent=!1}function Dn(){const n=_e.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function gs(){return _e.lFrame.bindingIndex++}function Gi(n){const e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function VE(n,e){const t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,vd(e)}function vd(n){_e.lFrame.currentDirectiveIndex=n}function tm(){return _e.lFrame.currentQueryIndex}function _d(n){_e.lFrame.currentQueryIndex=n}function HE(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function nm(n,e,t){if(t&pe.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&pe.Host||(r=HE(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=_e.lFrame=im();return i.currentTNode=e,i.lView=n,!0}function wd(n){const e=im(),t=n[1];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function im(){const n=_e.lFrame,e=null===n?null:n.child;return null===e?rm(n):e}function rm(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function sm(){const n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const om=sm;function Cd(){const n=sm();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function En(){return _e.lFrame.selectedIndex}function jr(n){_e.lFrame.selectedIndex=n}function Mt(){const n=_e.lFrame;return pd(n.tView,n.selectedIndex)}function Pl(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),l&&((n.contentHooks||(n.contentHooks=[])).push(t,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,l)),u&&(n.viewHooks||(n.viewHooks=[])).push(-t,u),h&&((n.viewHooks||(n.viewHooks=[])).push(t,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(t,f)}}function Ol(n,e,t){am(n,e,3,t)}function Rl(n,e,t,i){(3&n[2])===t&&am(n,e,t,i)}function Dd(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function am(n,e,t,i){const s=i??-1,o=e.length-1;let l=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(l=e[u],null!=i&&l>=i)break}else e[u]<0&&(n[18]+=65536),(l<s||-1==s)&&(YE(n,t,e,u),n[18]=(4294901760&n[18])+u+2),u++}function YE(n,e,t,i){const r=t[i]<0,s=t[i+1],l=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Io{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Md(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],l=t[i++];n.setAttribute(e,o,l,s)}else{const s=r,o=t[++i];um(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function lm(n){return 3===n||4===n||6===n}function um(n){return 64===n.charCodeAt(0)}function ko(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||cm(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function cm(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===e){o=-1;break}if(l>e){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function dm(n){return-1!==n}function ms(n){return 32767&n}function ys(n,e){let t=function eM(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Td=!0;function Ll(n){const e=Td;return Td=n,e}let tM=0;const ki={};function Nl(n,e){const t=Id(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Sd(i.data,n),Sd(e,null),Sd(i.blueprint,null));const r=Fl(n,e),s=n.injectorIndex;if(dm(r)){const o=ms(r),l=ys(r,e),u=l[1].data;for(let h=0;h<8;h++)e[s+h]=l[o+h]|u[o+h]}return e[s+8]=r,s}function Sd(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Id(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Fl(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=_m(r),null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Ad(n,e,t){!function nM(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Co)&&(i=t[Co]),null==i&&(i=t[Co]=tM++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function pm(n,e,t){if(t&pe.Optional||void 0!==n)return n;bl()}function gm(n,e,t,i){if(t&pe.Optional&&void 0===i&&(i=null),0==(t&(pe.Self|pe.Host))){const r=n[9],s=ei(void 0);try{return r?r.get(e,i,t&pe.Optional):Ng(e,i,t&pe.Optional)}finally{ei(s)}}return pm(i,0,t)}function mm(n,e,t,i=pe.Default,r){if(null!==n){if(1024&e[2]){const o=function aM(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const l=ym(s,o,t,i|pe.Self,ki);if(l!==ki)return l;let u=s.parent;if(!u){const h=o[21];if(h){const f=h.get(t,ki,i);if(f!==ki)return f}u=_m(o),o=o[15]}s=u}return r}(n,e,t,i,ki);if(o!==ki)return o}const s=ym(n,e,t,i,ki);if(s!==ki)return s}return gm(e,t,i,r)}function ym(n,e,t,i,r){const s=function sM(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Co)?n[Co]:void 0;return"number"==typeof e?e>=0?255&e:oM:e}(t);if("function"==typeof s){if(!nm(e,n,i))return i&pe.Host?pm(r,0,i):gm(e,t,i,r);try{const o=s(i);if(null!=o||i&pe.Optional)return o;bl()}finally{om()}}else if("number"==typeof s){let o=null,l=Id(n,e),u=-1,h=i&pe.Host?e[16][6]:null;for((-1===l||i&pe.SkipSelf)&&(u=-1===l?Fl(n,e):e[l+8],-1!==u&&bm(i,!1)?(o=e[1],l=ms(u),e=ys(u,e)):l=-1);-1!==l;){const f=e[1];if(vm(s,l,f.data)){const g=rM(l,e,t,o,i,h);if(g!==ki)return g}u=e[l+8],-1!==u&&bm(i,e[1].data[l+8]===h)&&vm(s,l,e)?(o=f,l=ms(u),e=ys(u,e)):l=-1}}return r}function rM(n,e,t,i,r,s){const o=e[1],l=o.data[n+8],f=Vl(l,o,t,null==i?Il(l)&&Td:i!=o&&0!=(3&l.type),r&pe.Host&&s===l);return null!==f?vs(e,o,f,l):ki}function Vl(n,e,t,i,r){const s=n.providerIndexes,o=e.data,l=1048575&s,u=n.directiveStart,f=s>>20,m=r?l+f:n.directiveEnd;for(let y=i?l:l+f;y<m;y++){const v=o[y];if(y<u&&t===v||y>=u&&v.type===t)return y}if(r){const y=o[u];if(y&&mi(y)&&y.type===t)return u}return null}function vs(n,e,t,i){let r=n[t];const s=e.data;if(function ZE(n){return n instanceof Io}(r)){const o=r;o.resolving&&function K1(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new H(-200,`Circular dependency in DI detected for ${n}${t}`)}(function qe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():we(n)}(s[t]));const l=Ll(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ei(o.injectImpl):null;nm(n,i,pe.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function KE(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=zg(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==u&&ei(u),Ll(l),o.resolving=!1,om()}}return r}function vm(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function bm(n,e){return!(n&pe.Self||n&pe.Host&&e)}class bs{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return mm(this._tNode,this._lView,e,Dl(i),t)}}function oM(){return new bs(un(),P())}function it(n){return lr(()=>{const e=n.prototype.constructor,t=e[ji]||kd(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[ji]||kd(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function kd(n){return Xc(n)?()=>{const e=kd(fe(n));return e&&e()}:Br(n)}function _m(n){const e=n[1],t=e.type;return 2===t?e.declTNode:1===t?n[6]:null}const ws="__parameters__";function Ds(n,e,t){return lr(()=>{const i=function xd(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(u,h,f){const g=u.hasOwnProperty(ws)?u[ws]:Object.defineProperty(u,ws,{value:[]})[ws];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class W{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Y({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Gn(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),Gn(i,e)):e!==n&&e.push(i)}return e}function $r(n,e){n.forEach(t=>Array.isArray(t)?$r(t,e):e(t))}function Cm(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ul(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function zn(n,e,t){let i=Es(n,e);return i>=0?n[1|i]=t:(i=~i,function dM(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Od(n,e){const t=Es(n,e);if(t>=0)return n[1|t]}function Es(n,e){return function Mm(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Lo=wo(Ds("Optional"),8),No=wo(Ds("SkipSelf"),4);var Ln=(()=>((Ln=Ln||{})[Ln.Important=1]="Important",Ln[Ln.DashCase=2]="DashCase",Ln))();const Ud=new Map;let OM=0;const Bd="__ngContext__";function pn(n,e){On(e)?(n[Bd]=e[20],function LM(n){Ud.set(n[20],n)}(e)):n[Bd]=e}function $d(n,e){return undefined(n,e)}function Ho(n){const e=n[3];return gi(e)?e[3]:e}function Gd(n){return Wm(n[13])}function zd(n){return Wm(n[4])}function Wm(n){for(;null!==n&&!gi(n);)n=n[4];return n}function Ts(n,e,t,i,r){if(null!=i){let s,o=!1;gi(i)?s=i:On(i)&&(o=!0,i=i[0]);const l=Kt(i);0===n&&null!==t?null==r?Jm(e,t,l):Gr(e,t,l,r||null,!0):1===n&&null!==t?Gr(e,t,l,r||null,!0):2===n?function Jd(n,e,t){const i=$l(n,e);i&&function nT(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,l,o):3===n&&e.destroyNode(l),null!=s&&function sT(n,e,t,i,r){const s=t[7];s!==Kt(t)&&Ts(e,n,i,s,r);for(let l=10;l<t.length;l++){const u=t[l];Bo(u[1],u,n,e,i,s)}}(e,n,s,t,r)}}function qd(n,e,t){return n.createElement(e,t)}function Km(n,e){const t=n[9],i=t.indexOf(e),r=e[3];512&e[2]&&(e[2]&=-513,gd(r,-1)),t.splice(i,1)}function Kd(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&Km(r,i),e>0&&(n[t-1][4]=i[4]);const s=Ul(n,10+e);!function KM(n,e){Bo(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Ym(n,e){if(!(128&e[2])){const t=e[11];t.destroyNode&&Bo(n,e,t,3,null,null),function QM(n){let e=n[13];if(!e)return Yd(n[1],n);for(;e;){let t=null;if(On(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)On(e)&&Yd(e[1],e),e=e[3];null===e&&(e=n),On(e)&&Yd(e[1],e),t=e&&e[4]}e=t}}(e)}}function Yd(n,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function tT(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Io)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],u=s[o+1];try{u.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function eT(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();e[7]=null}}(n,e),1===e[1].type&&e[11].destroy();const t=e[17];if(null!==t&&gi(e[3])){t!==e[3]&&Km(t,e);const i=e[19];null!==i&&i.detachView(n)}!function NM(n){Ud.delete(n[20])}(e)}}function Zm(n,e,t){return function Qm(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ii.None||s===Ii.Emulated)return null}return jn(i,t)}}(n,e.parent,t)}function Gr(n,e,t,i,r){n.insertBefore(e,t,i,r)}function Jm(n,e,t){n.appendChild(e,t)}function Xm(n,e,t,i,r){null!==i?Gr(n,e,t,i,r):Jm(n,e,t)}function $l(n,e){return n.parentNode(e)}let Wl,th,ql,ny=function ty(n,e,t){return 40&n.type?jn(n,t):null};function Gl(n,e,t,i){const r=Zm(n,i,e),s=e[11],l=function ey(n,e,t){return ny(n,e,t)}(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let u=0;u<t.length;u++)Xm(s,r,t[u],l,!1);else Xm(s,r,t,l,!1)}function zl(n,e){if(null!==e){const t=e.type;if(3&t)return jn(e,n);if(4&t)return Qd(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return zl(n,i);{const r=n[e.index];return gi(r)?Qd(-1,r):Kt(r)}}if(32&t)return $d(e,n)()||Kt(n[e.index]);{const i=ry(n,e);return null!==i?Array.isArray(i)?i[0]:zl(Ho(n[16]),i):zl(n,e.next)}}return null}function ry(n,e){return null!==e?n[16][6].projection[e.projection]:null}function Qd(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return zl(i,r)}return e[7]}function Xd(n,e,t,i,r,s,o){for(;null!=t;){const l=i[t.index],u=t.type;if(o&&0===e&&(l&&pn(Kt(l),i),t.flags|=2),32!=(32&t.flags))if(8&u)Xd(n,e,t.child,i,r,s,!1),Ts(e,n,r,l,s);else if(32&u){const h=$d(t,i);let f;for(;f=h();)Ts(e,n,r,f,s);Ts(e,n,r,l,s)}else 16&u?sy(n,e,i,t,r,s):Ts(e,n,r,l,s);t=o?t.projectionNext:t.next}}function Bo(n,e,t,i,r,s){Xd(t,i,n.firstChild,e,r,s,!1)}function sy(n,e,t,i,r,s){const o=t[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)Ts(e,n,r,u[h],s);else Xd(n,e,u,o[3],r,s,!0)}function oy(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function ay(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&Md(n,e,i),null!==r&&oy(n,e,r),null!==s&&function aT(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function zr(n){return function eh(){if(void 0===Wl&&(Wl=null,ut.trustedTypes))try{Wl=ut.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Wl}()?.createHTML(n)||n}function nh(){if(void 0===ql&&(ql=null,ut.trustedTypes))try{ql=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ql}function uy(n){return nh()?.createHTML(n)||n}function dy(n){return nh()?.createScriptURL(n)||n}class Wr{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${yl})`}}class hT extends Wr{getTypeName(){return"HTML"}}class fT extends Wr{getTypeName(){return"Style"}}class pT extends Wr{getTypeName(){return"Script"}}class gT extends Wr{getTypeName(){return"URL"}}class mT extends Wr{getTypeName(){return"ResourceURL"}}function Wn(n){return n instanceof Wr?n.changingThisBreaksApplicationSecurity:n}function xi(n,e){const t=function yT(n){return n instanceof Wr&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${yl})`)}return t===e}class DT{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(zr(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class ET{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const i=this.inertDocument.createElement("body");t.appendChild(i)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=zr(e),t;const i=this.inertDocument.createElement("body");return i.innerHTML=zr(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const o=t.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&e.removeAttribute(o)}let i=e.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const TT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Kl(n){return(n=String(n)).match(TT)?n:"unsafe:"+n}function zi(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function jo(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const fy=zi("area,br,col,hr,img,wbr"),py=zi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gy=zi("rp,rt"),ih=jo(fy,jo(py,zi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),jo(gy,zi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jo(gy,py)),rh=zi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),my=jo(rh,zi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),zi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ST=zi("script,style,template");class IT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ih.hasOwnProperty(t))return this.sanitizedSomething=!0,!ST.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,l=o.toLowerCase();if(!my.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=s.value;rh[l]&&(u=Kl(u)),this.buf.push(" ",o,'="',yy(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ih.hasOwnProperty(t)&&!fy.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(yy(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const AT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kT=/([^\#-~ |!])/g;function yy(n){return n.replace(/&/g,"&amp;").replace(AT,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kT,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yl;function vy(n,e){let t=null;try{Yl=Yl||function hy(n){const e=new ET(n);return function MT(){try{return!!(new window.DOMParser).parseFromString(zr(""),"text/html")}catch{return!1}}()?new DT(e):e}(n);let i=e?String(e):"";t=Yl.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=Yl.getInertBodyElement(i)}while(i!==s);return zr((new IT).sanitizeChildren(sh(t)||t))}finally{if(t){const i=sh(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function sh(n){return"content"in n&&function xT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rt=(()=>((rt=rt||{})[rt.NONE=0]="NONE",rt[rt.HTML=1]="HTML",rt[rt.STYLE=2]="STYLE",rt[rt.SCRIPT=3]="SCRIPT",rt[rt.URL=4]="URL",rt[rt.RESOURCE_URL=5]="RESOURCE_URL",rt))();function ii(n){const e=$o();return e?uy(e.sanitize(rt.HTML,n)||""):xi(n,"HTML")?uy(Wn(n)):vy(function ly(){return void 0!==th?th:typeof document<"u"?document:void 0}(),we(n))}function fr(n){const e=$o();return e?e.sanitize(rt.URL,n)||"":xi(n,"URL")?Wn(n):Kl(we(n))}function by(n){const e=$o();if(e)return dy(e.sanitize(rt.RESOURCE_URL,n)||"");if(xi(n,"ResourceURL"))return dy(Wn(n));throw new H(904,!1)}function $o(){const n=P();return n&&n[12]}const Zl=new W("ENVIRONMENT_INITIALIZER"),wy=new W("INJECTOR",-1),Cy=new W("INJECTOR_DEF_TYPES");class Dy{get(e,t=bo){if(t===bo){const i=new Error(`NullInjectorError: No provider for ${nt(e)}!`);throw i.name="NullInjectorError",i}return t}}function VT(...n){return{\u0275providers:Ey(0,n),\u0275fromNgModule:!0}}function Ey(n,...e){const t=[],i=new Set;let r;return $r(e,s=>{const o=s;oh(o,t,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&My(r,t),t}function My(n,e){for(let t=0;t<n.length;t++){const{providers:r}=n[t];ah(r,s=>{e.push(s)})}}function oh(n,e,t,i){if(!(n=fe(n)))return!1;let r=null,s=Rg(n);const o=!s&&Ye(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=Rg(u),!s)return!1;r=u}const l=i.has(r);if(o){if(l)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of u)oh(h,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let h;i.add(r);try{$r(s.imports,f=>{oh(f,e,t,i)&&(h||(h=[]),h.push(f))})}finally{}void 0!==h&&My(h,e)}if(!l){const h=Br(r)||(()=>new r);e.push({provide:r,useFactory:h,deps:Ge},{provide:Cy,useValue:r,multi:!0},{provide:Zl,useValue:()=>R(r),multi:!0})}const u=s.providers;null==u||l||ah(u,f=>{e.push(f)})}}return r!==n&&void 0!==n.providers}function ah(n,e){for(let t of n)ed(t)&&(t=t.\u0275providers),Array.isArray(t)?ah(t,e):e(t)}const UT=tt({provide:String,useValue:tt});function lh(n){return null!==n&&"object"==typeof n&&UT in n}function qr(n){return"function"==typeof n}const uh=new W("Set Injector scope."),Ql={},BT={};let ch;function Jl(){return void 0===ch&&(ch=new Dy),ch}class Wi{}class Iy extends Wi{constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hh(e,o=>this.processProvider(o)),this.records.set(wy,Ss(void 0,this)),r.has("environment")&&this.records.set(Wi,Ss(void 0,this));const s=this.records.get(uh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Cy.multi,Ge,pe.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const t=us(this),i=ei(void 0);try{return e()}finally{us(t),ei(i)}}get(e,t=bo,i=pe.Default){this.assertNotDestroyed(),i=Dl(i);const r=us(this),s=ei(void 0);try{if(!(i&pe.SkipSelf)){let l=this.records.get(e);if(void 0===l){const u=function WT(n){return"function"==typeof n||"object"==typeof n&&n instanceof W}(e)&&_l(e);l=u&&this.injectableDefInScope(u)?Ss(dh(e),Ql):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&pe.Self?Jl():this.parent).get(e,t=i&pe.Optional&&t===bo?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Cl]=o[Cl]||[]).unshift(nt(e)),r)throw o;return function uE(n,e,t,i){const r=n[Cl];throw e[Fg]&&r.unshift(e[Fg]),n.message=function cE(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=nt(e);if(Array.isArray(e))r=e.map(nt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let l=e[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):nt(l)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(sE,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Cl]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{ei(s),us(r)}}resolveInjectorInitializers(){const e=us(this),t=ei(void 0);try{const i=this.get(Zl.multi,Ge,pe.Self);for(const r of i)r()}finally{us(e),ei(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(nt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new H(205,!1)}processProvider(e){let t=qr(e=fe(e))?e:fe(e&&e.provide);const i=function $T(n){return lh(n)?Ss(void 0,n.useValue):Ss(Ay(n),Ql)}(e);if(qr(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=Ss(void 0,Ql,!0),r.factory=()=>rd(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Ql&&(t.value=BT,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=fe(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function dh(n){const e=_l(n),t=null!==e?e.factory:Br(n);if(null!==t)return t;if(n instanceof W)throw new H(204,!1);if(n instanceof Function)return function jT(n){const e=n.length;if(e>0)throw function Ro(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new H(204,!1);const t=function eE(n){const e=n&&(n[wl]||n[Lg]);if(e){const t=function tE(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new H(204,!1)}function Ay(n,e,t){let i;if(qr(n)){const r=fe(n);return Br(r)||dh(r)}if(lh(n))i=()=>fe(n.useValue);else if(function Sy(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...rd(n.deps||[]));else if(function Ty(n){return!(!n||!n.useExisting)}(n))i=()=>R(fe(n.useExisting));else{const r=fe(n&&(n.useClass||n.provide));if(!function GT(n){return!!n.deps}(n))return Br(r)||dh(r);i=()=>new r(...rd(n.deps))}return i}function Ss(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function hh(n,e){for(const t of n)Array.isArray(t)?hh(t,e):t&&ed(t)?hh(t.\u0275providers,e):e(t)}class qT{}class ky{}class ZT{resolveComponentFactory(e){throw function KT(n){const e=Error(`No component factory found for ${nt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let Go=(()=>{class n{}return n.NULL=new ZT,n})();function QT(){return Is(un(),P())}function Is(n,e){return new kt(jn(n,e))}let kt=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=QT,n})();function JT(n){return n instanceof kt?n.nativeElement:n}class Py{}let Nn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function XT(){const n=P(),t=$n(un().index,n);return(On(t)?t:n)[11]}(),n})(),eS=(()=>{class n{}return n.\u0275prov=Y({token:n,providedIn:"root",factory:()=>null}),n})();class Kr{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const tS=new Kr("15.0.1"),fh={};function gh(n){return n.ngOriginalError}class As{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&gh(e);for(;t&&gh(t);)t=gh(t);return t||null}}function mh(n){return n.ownerDocument.defaultView}function qi(n){return n instanceof Function?n():n}function Ry(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const Ly="ng-template";function dS(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==Ry(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ny(n){return 4===n.type&&n.value!==Ly}function hS(n,e,t){return e===(4!==n.type||t?n.value:Ly)}function fS(n,e,t){let i=4;const r=n.attrs||[],s=function mS(n){for(let e=0;e<n.length;e++)if(lm(n[e]))return e;return n.length}(r);let o=!1;for(let l=0;l<e.length;l++){const u=e[l];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!hS(n,u,t)||""===u&&1===e.length){if(yi(i))return!1;o=!0}}else{const h=8&i?u:e[++l];if(8&i&&null!==n.attrs){if(!dS(n.attrs,h,t)){if(yi(i))return!1;o=!0}continue}const g=pS(8&i?"class":u,r,Ny(n),t);if(-1===g){if(yi(i))return!1;o=!0;continue}if(""!==h){let m;m=g>s?"":r[g+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==Ry(y,h,0)||2&i&&h!==m){if(yi(i))return!1;o=!0}}}}else{if(!o&&!yi(i)&&!yi(u))return!1;if(o&&yi(u))continue;o=!1,i=u|1&i}}return yi(i)||o}function yi(n){return 0==(1&n)}function pS(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=e[++r];for(;"string"==typeof l;)l=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function yS(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Fy(n,e,t=!1){for(let i=0;i<e.length;i++)if(fS(n,e[i],t))return!0;return!1}function Vy(n,e){return n?":not("+e.trim()+")":e}function bS(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const l=n[++t];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!yi(o)&&(e+=Vy(s,r),r=""),i=o,s=s||!yi(i);t++}return""!==r&&(e+=Vy(s,r)),e}const Ce={};function b(n){Uy(Ue(),P(),En()+n,!1)}function Uy(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Ol(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Rl(e,s,0,t)}jr(t)}function $y(n,e=null,t=null,i){const r=Gy(n,e,t,i);return r.resolveInjectorInitializers(),r}function Gy(n,e=null,t=null,i,r=new Set){const s=[t||Ge,VT(n)];return i=i||("object"==typeof n?void 0:nt(n)),new Iy(s,e||Jl(),i||null,r)}let qn=(()=>{class n{static create(t,i){if(Array.isArray(t))return $y({name:""},i,t,"");{const r=t.name??"";return $y({name:r},t.parent,t.providers,r)}}}return n.THROW_IF_NOT_FOUND=bo,n.NULL=new Dy,n.\u0275prov=Y({token:n,providedIn:"any",factory:()=>R(wy)}),n.__NG_ELEMENT_ID__=-1,n})();function D(n,e=pe.Default){const t=P();return null===t?R(n,e):mm(un(),t,fe(n),e)}function wh(){throw new Error("invalid")}function eu(n,e){return n<<17|e<<2}function vi(n){return n>>17&32767}function Ch(n){return 2|n}function Ki(n){return(131068&n)>>2}function Dh(n,e){return-131069&n|e<<2}function Eh(n){return 1|n}function av(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];_d(r),o.contentQueries(2,e[s],s)}}}function iu(n,e,t,i,r,s,o,l,u,h,f){const g=e.blueprint.slice();return g[0]=r,g[2]=76|i,(null!==f||n&&1024&n[2])&&(g[2]|=1024),Kg(g),g[3]=g[15]=n,g[8]=t,g[10]=o||n&&n[10],g[11]=l||n&&n[11],g[12]=u||n&&n[12]||null,g[9]=h||n&&n[9]||null,g[6]=s,g[20]=function RM(){return OM++}(),g[21]=f,g[16]=2==e.type?n[16]:g,g}function Ps(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Ph(n,e,t,i,r){const s=Qg(),o=md(),u=n.data[e]=function tI(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,e,t,i,r),function FE(){return _e.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function So(){const n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ai(s,!0),s}function zo(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Oh(n,e,t){wd(e);try{const i=n.viewQuery;null!==i&&$h(1,i,t);const r=n.template;null!==r&&lv(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&av(n,e),n.staticViewQueries&&$h(2,n.viewQuery,t);const s=n.components;null!==s&&function JS(n,e){for(let t=0;t<e.length;t++)_I(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Cd()}}function ru(n,e,t,i){const r=e[2];if(128!=(128&r)){wd(e);try{Kg(e),function Xg(n){return _e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&lv(n,e,t,2,i);const o=3==(3&r);if(o){const h=n.preOrderCheckHooks;null!==h&&Ol(e,h,null)}else{const h=n.preOrderHooks;null!==h&&Rl(e,h,0,null),Dd(e,0)}if(function vI(n){for(let e=Gd(n);null!==e;e=zd(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(512&r[2])&&gd(s,1),r[2]|=512}}}(e),function yI(n){for(let e=Gd(n);null!==e;e=zd(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];xl(i)&&ru(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&av(n,e),o){const h=n.contentCheckHooks;null!==h&&Ol(e,h)}else{const h=n.contentHooks;null!==h&&Rl(e,h,1),Dd(e,1)}!function ZS(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)jr(~r);else{const s=r,o=t[++i],l=t[++i];VE(o,s),l(2,e[s])}}}finally{jr(-1)}}(n,e);const l=n.components;null!==l&&function QS(n,e){for(let t=0;t<e.length;t++)bI(n,e[t])}(e,l);const u=n.viewQuery;if(null!==u&&$h(2,u,i),o){const h=n.viewCheckHooks;null!==h&&Ol(e,h)}else{const h=n.viewHooks;null!==h&&Rl(e,h,2),Dd(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,gd(e[3],-1))}finally{Cd()}}}function lv(n,e,t,i,r){const s=En(),o=2&i;try{jr(-1),o&&e.length>22&&Uy(n,e,22,!1),t(i,r)}finally{jr(s)}}function Rh(n,e,t){if(ud(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function Lh(n,e,t){!Zg()||(function aI(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Nl(t,e),pn(i,e);const o=t.initialInputs;for(let l=r;l<s;l++){const u=n.data[l],h=mi(u);h&&pI(e,t,u);const f=vs(e,n,l,t);pn(f,e),null!==o&&gI(0,l-r,f,u,0,o),h&&($n(t.index,e)[8]=f)}}(n,e,t,jn(t,e)),64==(64&t.flags)&&gv(n,e,t))}function Nh(n,e,t=jn){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?t(e,n):n[o];n[r++]=l}}}function uv(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Fh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Fh(n,e,t,i,r,s,o,l,u,h){const f=22+i,g=f+r,m=function XS(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Ce);return t}(f,g),y="function"==typeof h?h():h;return m[1]={type:n,blueprint:m,template:t,queries:null,viewQuery:l,declTNode:e,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function cv(n,e,t,i){const r=yv(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&vv(n).push(i,r.length-1))}function dv(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?hv(t,e,r,s):i.hasOwnProperty(r)&&hv(t,e,i[r],s)}return t}function hv(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Kn(n,e,t,i,r,s,o,l){const u=jn(e,t);let f,h=e.inputs;!l&&null!=h&&(f=h[i])?(Gh(n,t,f,i,r),Il(e)&&fv(t,e.index)):3&e.type&&(i=function iI(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(u,i,r))}function fv(n,e){const t=$n(e,n);16&t[2]||(t[2]|=32)}function Vh(n,e,t,i){let r=!1;if(Zg()){const s=null===i?null:{"":-1},o=function uI(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(Fy(e,o.selectors,!1))if(i||(i=[]),mi(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),i.unshift(...l,o),Uh(n,e,l.length)}else i.unshift(o),Uh(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let l,u;null===o?l=u=null:[l,u]=o,null!==l&&(r=!0,pv(n,e,t,l,s,u)),s&&function cI(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new H(-301,!1);i.push(e[r],s)}}}(t,i,s)}return t.mergedAttrs=ko(t.mergedAttrs,t.attrs),r}function pv(n,e,t,i,r,s){for(let h=0;h<i.length;h++)Ad(Nl(t,e),n,i[h].type);!function hI(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let h=0;h<i.length;h++){const f=i[h];f.providersResolver&&f.providersResolver(f)}let o=!1,l=!1,u=zo(n,e,i.length,null);for(let h=0;h<i.length;h++){const f=i[h];t.mergedAttrs=ko(t.mergedAttrs,f.hostAttrs),fI(n,t,e,u,f),dI(u,f,r),null!==f.contentQueries&&(t.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(t.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),o=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),u++}!function nI(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,l=[];let u=null,h=null;for(let f=e.directiveStart;f<r;f++){const g=s[f],m=t?t.get(g):null,v=m?m.outputs:null;u=dv(g.inputs,f,u,m?m.inputs:null),h=dv(g.outputs,f,h,v);const M=null===u||null===o||Ny(e)?null:mI(u,f,o);l.push(M)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=u,e.outputs=h}(n,t,s)}function gv(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function UE(){return _e.lFrame.currentDirectiveIndex}();try{jr(s);for(let l=i;l<r;l++){const u=n.data[l],h=e[l];vd(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&lI(u,h)}}finally{jr(-1),vd(o)}}function lI(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Uh(n,e,t){e.componentOffset=t,(n.components||(n.components=[])).push(e.index)}function dI(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;mi(e)&&(t[""]=n)}}function fI(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Br(r.type)),o=new Io(s,mi(r),D);n.blueprint[i]=o,t[i]=o,function sI(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~e.index;(function oI(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=l&&o.push(l),o.push(t,i,s)}}(n,e,i,zo(n,t,r.hostVars,Ce),r)}function pI(n,e,t){const i=jn(e,n),r=uv(t),s=n[10],o=su(n,iu(n,r,null,t.onPush?32:16,i,e,s,s.createRenderer(i,t),null,null,null));n[e.index]=o}function Pi(n,e,t,i,r,s){const o=jn(n,e);!function Hh(n,e,t,i,r,s,o){if(null==s)n.removeAttribute(e,r,t);else{const l=null==o?we(s):o(s,i||"",r);n.setAttribute(e,r,l,t)}}(e[11],o,s,n.value,t,i,r)}function gI(n,e,t,i,r,s){const o=s[e];if(null!==o){const l=i.setInput;for(let u=0;u<o.length;){const h=o[u++],f=o[u++],g=o[u++];null!==l?i.setInput(t,g,h,f):t[f]=g}}}function mI(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let l=0;l<o.length;l+=2)if(o[l]===e){i.push(s,o[l+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function mv(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function bI(n,e){const t=$n(e,n);if(xl(t)){const i=t[1];48&t[2]?ru(i,t,i.template,t[8]):t[5]>0&&Bh(t)}}function Bh(n){for(let i=Gd(n);null!==i;i=zd(i))for(let r=10;r<i.length;r++){const s=i[r];if(xl(s))if(512&s[2]){const o=s[1];ru(o,s,o.template,s[8])}else s[5]>0&&Bh(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=$n(t[i],n);xl(r)&&r[5]>0&&Bh(r)}}function _I(n,e){const t=$n(e,n),i=t[1];(function wI(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Oh(i,t,t[8])}function su(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function jh(n){for(;n;){n[2]|=32;const e=Ho(n);if(yE(n)&&!e)return n;n=e}return null}function ou(n,e,t,i=!0){const r=e[10];r.begin&&r.begin();try{ru(n,e,n.template,t)}catch(o){throw i&&_v(e,o),o}finally{r.end&&r.end()}}function $h(n,e,t){_d(0),e(n,t)}function yv(n){return n[7]||(n[7]=[])}function vv(n){return n.cleanup||(n.cleanup=[])}function _v(n,e){const t=n[9],i=t?t.get(As,null):null;i&&i.handleError(e)}function Gh(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],u=e[o],h=n.data[o];null!==h.setInput?h.setInput(u,r,i,l):u[l]=r}}function Yi(n,e,t){const i=kl(e,n);!function qm(n,e,t){n.setValue(e,t)}(n[11],i,t)}function au(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const l=e[o];"number"==typeof l?s=l:1==s?r=Jc(r,l):2==s&&(i=Jc(i,l+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function lu(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Kt(s)),gi(s))for(let l=10;l<s.length;l++){const u=s[l],h=u[1].firstChild;null!==h&&lu(u[1],u,h,i)}const o=t.type;if(8&o)lu(n,e,t.child,i);else if(32&o){const l=$d(t,e);let u;for(;u=l();)i.push(u)}else if(16&o){const l=ry(e,t);if(Array.isArray(l))i.push(...l);else{const u=Ho(e[16]);lu(u[1],u,l,i,!0)}}t=r?t.projectionNext:t.next}return i}class Wo{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return lu(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(gi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Kd(e,i),Ul(t,i))}this._attachedToViewContainer=!1}Ym(this._lView[1],this._lView)}onDestroy(e){cv(this._lView[1],this._lView,null,e)}markForCheck(){jh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ou(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZM(n,e){Bo(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e}}class CI extends Wo{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ou(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class zh extends Go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ye(e);return new qo(t,this.ngModule)}}function wv(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class EI{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Dl(i);const r=this.injector.get(e,fh,i);return r!==fh||t===fh?r:this.parentInjector.get(e,t,i)}}class qo extends ky{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function _S(n){return n.map(bS).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return wv(this.componentDef.inputs)}get outputs(){return wv(this.componentDef.outputs)}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof Wi?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new EI(e,s):e,l=o.get(Py,null);if(null===l)throw new H(407,!1);const u=o.get(eS,null),h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=i?function eI(n,e,t){return n.selectRootElement(e,t===Ii.ShadowDom)}(h,i,this.componentDef.encapsulation):qd(h,f,function DI(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(f)),m=this.componentDef.onPush?288:272,y=Fh(0,null,null,1,0,null,null,null,null,null),v=iu(null,y,null,m,null,null,l,h,u,o,null);let M,C;wd(v);try{const F=this.componentDef;let q,k=null;F.findHostDirectiveDefs?(q=[],k=new Map,F.findHostDirectiveDefs(F,q,k),q.push(F)):q=[F];const le=function SI(n,e){const t=n[1];return n[22]=e,Ps(t,22,2,"#host",null)}(v,g),ze=function II(n,e,t,i,r,s,o,l){const u=r[1];!function AI(n,e,t,i){for(const r of n)e.mergedAttrs=ko(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(au(e,e.mergedAttrs,!0),null!==t&&ay(i,t,e))}(i,n,e,o);const h=s.createRenderer(e,t),f=iu(r,uv(t),null,t.onPush?32:16,r[n.index],n,s,h,l||null,null,null);return u.firstCreatePass&&Uh(u,n,i.length-1),su(r,f),r[n.index]=f}(le,g,F,q,v,l,h);C=pd(y,22),g&&function xI(n,e,t,i){if(i)Md(n,t,["ng-version",tS.full]);else{const{attrs:r,classes:s}=function wS(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!yi(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&Md(n,t,r),s&&s.length>0&&oy(n,t,s.join(" "))}}(h,F,g,i),void 0!==t&&function PI(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(C,this.ngContentSelectors,t),M=function kI(n,e,t,i,r,s){const o=un(),l=r[1],u=jn(o,r);pv(l,r,o,t,null,i);for(let f=0;f<t.length;f++)pn(vs(r,l,o.directiveStart+f,o),r);gv(l,r,o),u&&pn(u,r);const h=vs(r,l,o.directiveStart+o.componentOffset,o);if(n[8]=r[8]=h,null!==s)for(const f of s)f(h,e);return Rh(l,o,n),h}(ze,F,q,k,v,[OI]),Oh(y,v,null)}finally{Cd()}return new TI(this.componentType,M,Is(C,v),v,C)}}class TI extends qT{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new CI(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){const s=this._rootLView;Gh(s[1],s,r,e,t),fv(s,this._tNode.index)}}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function OI(){const n=un();Pl(P()[1],n)}function ke(n){let e=function Cv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(mi(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const o=n;o.inputs=Wh(n.inputs),o.declaredInputs=Wh(n.declaredInputs),o.outputs=Wh(n.outputs);const l=r.hostBindings;l&&FI(n,l);const u=r.viewQuery,h=r.contentQueries;if(u&&LI(n,u),h&&NI(n,h),Qc(n.inputs,r.inputs),Qc(n.declaredInputs,r.declaredInputs),Qc(n.outputs,r.outputs),mi(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===ke&&(t=!1)}}e=Object.getPrototypeOf(e)}!function RI(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=ko(r.hostAttrs,t=ko(t,r.hostAttrs))}}(i)}function Wh(n){return n===Bi?{}:n===Ge?[]:n}function LI(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function NI(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,s)=>{e(i,r,s),t(i,r,s)}:e}function FI(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}let uu=null;function Yr(){if(!uu){const n=ut.Symbol;if(n&&n.iterator)uu=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(uu=i)}}}return uu}function Ko(n){return!!qh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Yr()in n)}function qh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Oi(n,e,t){return n[e]=t}function gn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Zr(n,e,t,i){const r=gn(n,e,t);return gn(n,e+1,i)||r}function mn(n,e,t,i){const r=P();return gn(r,gs(),e)&&(Ue(),Pi(Mt(),r,n,e,t,i)),mn}function Rs(n,e,t,i){return gn(n,gs(),t)?e+we(t)+i:Ce}function Ls(n,e,t,i,r,s){const l=Zr(n,function $i(){return _e.lFrame.bindingIndex}(),t,r);return Gi(2),l?e+we(t)+i+we(r)+s:Ce}function Ee(n,e,t,i,r,s,o,l){const u=P(),h=Ue(),f=n+22,g=h.firstCreatePass?function qI(n,e,t,i,r,s,o,l,u){const h=e.consts,f=Ps(e,n,4,o||null,ur(h,l));Vh(e,t,f,ur(h,u)),Pl(e,f);const g=f.tViews=Fh(2,f,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,h);return null!==e.queries&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}(f,h,u,e,t,i,r,s,o):h.data[f];Ai(g,!1);const m=u[11].createComment("");Gl(h,u,m,g),pn(m,u),su(u,u[f]=mv(m,u,m,g)),Al(g)&&Lh(h,u,g),null!=o&&Nh(u,g,l)}function T(n,e,t){const i=P();return gn(i,gs(),e)&&Kn(Ue(),Mt(),i,n,e,i[11],t,!1),T}function Kh(n,e,t,i,r){const o=r?"class":"style";Gh(n,t,e.inputs[o],o,i)}function c(n,e,t,i){const r=P(),s=Ue(),o=22+n,l=r[11],u=r[o]=qd(l,e,function qE(){return _e.lFrame.currentNamespace}()),h=s.firstCreatePass?function YI(n,e,t,i,r,s,o){const l=e.consts,h=Ps(e,n,2,r,ur(l,s));return Vh(e,t,h,ur(l,o)),null!==h.attrs&&au(h,h.attrs,!1),null!==h.mergedAttrs&&au(h,h.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,h),h}(o,s,r,0,e,t,i):s.data[o];return Ai(h,!0),ay(l,u,h),32!=(32&h.flags)&&Gl(s,r,u,h),0===function xE(){return _e.lFrame.elementDepthCount}()&&pn(u,r),function PE(){_e.lFrame.elementDepthCount++}(),Al(h)&&(Lh(s,r,h),Rh(s,h,r)),null!==i&&Nh(r,h),c}function d(){let n=un();md()?yd():(n=n.parent,Ai(n,!1));const e=n;!function OE(){_e.lFrame.elementDepthCount--}();const t=Ue();return t.firstCreatePass&&(Pl(t,n),ud(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function JE(n){return 0!=(8&n.flags)}(e)&&Kh(t,e,P(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function XE(n){return 0!=(16&n.flags)}(e)&&Kh(t,e,P(),e.stylesWithoutHost,!1),d}function p(n,e,t,i){return c(n,e,t,i),d(),p}function Zo(n,e,t){const i=P(),r=Ue(),s=n+22,o=r.firstCreatePass?function ZI(n,e,t,i,r){const s=e.consts,o=ur(s,i),l=Ps(e,n,8,"ng-container",o);return null!==o&&au(l,o,!0),Vh(e,t,l,ur(s,r)),null!==e.queries&&e.queries.elementStart(e,l),l}(s,r,i,e,t):r.data[s];Ai(o,!0);const l=i[s]=i[11].createComment("");return Gl(r,i,l,o),pn(l,i),Al(o)&&(Lh(r,i,o),Rh(r,o,i)),null!=t&&Nh(i,o),Zo}function Qo(){let n=un();const e=Ue();return md()?yd():(n=n.parent,Ai(n,!1)),e.firstCreatePass&&(Pl(e,n),ud(n)&&e.queries.elementEnd(n)),Qo}function mr(){return P()}function Jo(n){return!!n&&"function"==typeof n.then}const Yh=function Fv(n){return!!n&&"function"==typeof n.subscribe};function Ze(n,e,t,i){const r=P(),s=Ue(),o=un();return function Uv(n,e,t,i,r,s,o){const l=Al(i),h=n.firstCreatePass&&vv(n),f=e[8],g=yv(e);let m=!0;if(3&i.type||o){const M=jn(i,e),C=o?o(M):M,F=g.length,q=o?le=>o(Kt(le[i.index])):i.index;let k=null;if(!o&&l&&(k=function QI(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const l=e[7],u=r[s+2];return l.length>u?l[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=s,k.__ngLastListenerFn__=s,m=!1;else{s=Bv(i,e,f,s,!1);const le=t.listen(C,r,s);g.push(s,le),h&&h.push(r,q,F,F+1)}}else s=Bv(i,e,f,s,!1);const y=i.outputs;let v;if(m&&null!==y&&(v=y[r])){const M=v.length;if(M)for(let C=0;C<M;C+=2){const ze=e[v[C]][v[C+1]].subscribe(s),bt=g.length;g.push(s,ze),h&&h.push(r,i.index,bt,-(bt+1))}}}(s,r,r[11],o,n,e,i),Ze}function Hv(n,e,t,i){try{return!1!==t(i)}catch(r){return _v(n,r),!1}}function Bv(n,e,t,i,r){return function s(o){if(o===Function)return i;jh(n.componentOffset>-1?$n(n.index,e):e);let u=Hv(e,0,i,o),h=s.__ngNextListenerFn__;for(;h;)u=Hv(e,0,h,o)&&u,h=h.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Me(n=1){return function BE(n){return(_e.lFrame.contextLView=function jE(n,e){for(;n>0;)e=e[15],n--;return e}(n,_e.lFrame.contextLView))[8]}(n)}function Bt(n,e,t){return Xo(n,"",e,"",t),Bt}function Xo(n,e,t,i,r){const s=P(),o=Rs(s,e,t,i);return o!==Ce&&Kn(Ue(),Mt(),s,n,o,s[11],r,!1),Xo}function Zh(n,e,t,i,r,s,o){const l=P(),u=Ls(l,e,t,i,r,s);return u!==Ce&&Kn(Ue(),Mt(),l,n,u,l[11],o,!1),Zh}function Qv(n,e,t,i,r){const s=n[t+1],o=null===e;let l=i?vi(s):Ki(s),u=!1;for(;0!==l&&(!1===u||o);){const f=n[l+1];tA(n[l],e)&&(u=!0,n[l+1]=i?Eh(f):Ch(f)),l=i?vi(f):Ki(f)}u&&(n[t+1]=i?Ch(s):Eh(s))}function tA(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Es(n,e)>=0}function du(n,e,t){return bi(n,e,t,!1),du}function Yn(n,e){return bi(n,e,null,!0),Yn}function bi(n,e,t,i){const r=P(),s=Ue(),o=Gi(2);s.firstUpdatePass&&function sb(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[En()],o=function rb(n,e){return e>=n.expandoStartIndex}(n,t);(function ub(n,e){return 0!=(n.flags&(e?8:16))})(s,i)&&null===e&&!o&&(e=!1),e=function cA(n,e,t,i){const r=function bd(n){const e=_e.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=ea(t=Qh(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Qh(r,n,e,t,i),null===s){let u=function dA(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ki(i))return n[vi(i)]}(n,e,i);void 0!==u&&Array.isArray(u)&&(u=Qh(null,n,e,u[1],i),u=ea(u,e.attrs,i),function hA(n,e,t,i){n[vi(t?e.classBindings:e.styleBindings)]=i}(n,e,i,u))}else s=function fA(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ea(i,n[s].hostAttrs,t);return ea(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function XI(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,l=vi(o),u=Ki(o);n[i]=t;let f,h=!1;if(Array.isArray(t)){const g=t;f=g[1],(null===f||Es(g,f)>0)&&(h=!0)}else f=t;if(r)if(0!==u){const m=vi(n[l+1]);n[i+1]=eu(m,l),0!==m&&(n[m+1]=Dh(n[m+1],i)),n[l+1]=function HS(n,e){return 131071&n|e<<17}(n[l+1],i)}else n[i+1]=eu(l,0),0!==l&&(n[l+1]=Dh(n[l+1],i)),l=i;else n[i+1]=eu(u,0),0===l?l=i:n[u+1]=Dh(n[u+1],i),u=i;h&&(n[i+1]=Ch(n[i+1])),Qv(n,f,i,!0),Qv(n,f,i,!1),function eA(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Es(s,e)>=0&&(t[i+1]=Eh(t[i+1]))}(e,f,n,i,s),o=eu(l,u),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==Ce&&gn(r,o,e)&&function ab(n,e,t,i,r,s,o,l){if(!(3&e.type))return;const u=n.data,h=u[l+1];hu(function Xy(n){return 1==(1&n)}(h)?lb(u,e,t,r,Ki(h),o):void 0)||(hu(s)||function Jy(n){return 2==(2&n)}(h)&&(s=lb(u,null,t,r,l,o)),function oT(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:Ln.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Ln.Important),n.setStyle(t,i,r,s))}}(i,o,kl(En(),t),r,s))}(s,s.data[En()],r,r[11],n,r[o+1]=function mA(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=nt(Wn(n)))),n}(e,t),i,o)}function Qh(n,e,t,i,r){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=e[l],i=ea(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(t.directiveStylingLast=l),i}function ea(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),zn(n,o,!!t||e[++s]))}return void 0===n?null:n}function lb(n,e,t,i,r,s){const o=null===e;let l;for(;r>0;){const u=n[r],h=Array.isArray(u),f=h?u[1]:u,g=null===f;let m=t[r+1];m===Ce&&(m=g?Ge:void 0);let y=g?Od(m,i):f===i?m:void 0;if(h&&!hu(y)&&(y=Od(u,i)),hu(y)&&(l=y,o))return l;const v=n[r+1];r=o?vi(v):Ki(v)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(l=Od(u,i))}return l}function hu(n){return void 0!==n}function a(n,e=""){const t=P(),i=Ue(),r=n+22,s=i.firstCreatePass?Ps(i,r,1,e,null):i.data[r],o=t[r]=function Wd(n,e){return n.createText(e)}(t[11],e);Gl(i,t,o,s),Ai(s,!1)}function Qe(n){return $e("",n,""),Qe}function $e(n,e,t){const i=P(),r=Rs(i,n,e,t);return r!==Ce&&Yi(i,En(),r),$e}function ta(n,e,t,i,r){const s=P(),o=Ls(s,n,e,t,i,r);return o!==Ce&&Yi(s,En(),o),ta}const Qr=void 0;var NA=["en",[["a","p"],["AM","PM"],Qr],[["AM","PM"],Qr,Qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qr,"{1} 'at' {0}",Qr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LA(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let $s={};function Tn(n){const e=function FA(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Ab(e);if(t)return t;const i=e.split("-")[0];if(t=Ab(i),t)return t;if("en"===i)return NA;throw new H(701,!1)}function Ab(n){return n in $s||($s[n]=ut.ng&&ut.ng.common&&ut.ng.common.locales&&ut.ng.common.locales[n]),$s[n]}var X=(()=>((X=X||{})[X.LocaleId=0]="LocaleId",X[X.DayPeriodsFormat=1]="DayPeriodsFormat",X[X.DayPeriodsStandalone=2]="DayPeriodsStandalone",X[X.DaysFormat=3]="DaysFormat",X[X.DaysStandalone=4]="DaysStandalone",X[X.MonthsFormat=5]="MonthsFormat",X[X.MonthsStandalone=6]="MonthsStandalone",X[X.Eras=7]="Eras",X[X.FirstDayOfWeek=8]="FirstDayOfWeek",X[X.WeekendRange=9]="WeekendRange",X[X.DateFormat=10]="DateFormat",X[X.TimeFormat=11]="TimeFormat",X[X.DateTimeFormat=12]="DateTimeFormat",X[X.NumberSymbols=13]="NumberSymbols",X[X.NumberFormats=14]="NumberFormats",X[X.CurrencyCode=15]="CurrencyCode",X[X.CurrencySymbol=16]="CurrencySymbol",X[X.CurrencyName=17]="CurrencyName",X[X.Currencies=18]="Currencies",X[X.Directionality=19]="Directionality",X[X.PluralCase=20]="PluralCase",X[X.ExtraData=21]="ExtraData",X))();const Gs="en-US";let kb=Gs;function ef(n,e,t,i,r){if(n=fe(n),Array.isArray(n))for(let s=0;s<n.length;s++)ef(n[s],e,t,i,r);else{const s=Ue(),o=P();let l=qr(n)?n:fe(n.provide),u=Ay(n);const h=un(),f=1048575&h.providerIndexes,g=h.directiveStart,m=h.providerIndexes>>20;if(qr(n)||!n.multi){const y=new Io(u,r,D),v=nf(l,e,r?f:f+m,g);-1===v?(Ad(Nl(h,o),s,l),tf(s,n,e.length),e.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),t.push(y),o.push(y)):(t[v]=y,o[v]=y)}else{const y=nf(l,e,f+m,g),v=nf(l,e,f,f+m),M=y>=0&&t[y],C=v>=0&&t[v];if(r&&!C||!r&&!M){Ad(Nl(h,o),s,l);const F=function Rk(n,e,t,i,r){const s=new Io(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,t_(s,r,i&&!t),s}(r?Ok:Pk,t.length,r,i,u);!r&&C&&(t[v].providerFactory=F),tf(s,n,e.length,0),e.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),t.push(F),o.push(F)}else tf(s,n,y>-1?y:v,t_(t[r?v:y],u,!r&&i));!r&&i&&C&&t[v].componentProviders++}}}function tf(n,e,t,i){const r=qr(e),s=function HT(n){return!!n.useClass}(e);if(r||s){const u=(s?fe(e.useClass):e).prototype.ngOnDestroy;if(u){const h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const f=h.indexOf(t);-1===f?h.push(t,[i,u]):h[f+1].push(i,u)}else h.push(t,u)}}}function t_(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function nf(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function Pk(n,e,t,i){return rf(this.multi,[])}function Ok(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=vs(t,t[1],this.providerFactory.index,i);s=l.slice(0,o),rf(r,s);for(let u=o;u<l.length;u++)s.push(l[u])}else s=[],rf(r,s);return s}function rf(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function st(n,e=[]){return t=>{t.providersResolver=(i,r)=>function xk(n,e,t){const i=Ue();if(i.firstCreatePass){const r=mi(n);ef(t,i.data,i.blueprint,r,!0),ef(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Jr{}class n_{}class i_ extends Jr{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new zh(this);const i=Hn(e);this._bootstrapComponents=qi(i.bootstrap),this._r3Injector=Gy(e,t,[{provide:Jr,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],nt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class sf extends n_{constructor(e){super(),this.moduleType=e}create(e){return new i_(this.moduleType,e)}}class Nk extends Jr{constructor(e,t,i){super(),this.componentFactoryResolver=new zh(this),this.instance=null;const r=new Iy([...e,{provide:Jr,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],t||Jl(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function yu(n,e,t=null){return new Nk(n,e,t).injector}let Fk=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const i=Ey(0,t.type),r=i.length>0?yu([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,r)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Y({token:n,providedIn:"environment",factory:()=>new n(R(Wi))}),n})();function r_(n){n.getStandaloneInjector=e=>e.get(Fk).getOrCreateStandaloneInjector(n)}function yr(n,e,t,i){return function h_(n,e,t,i,r,s){const o=e+t;return gn(n,o,r)?Oi(n,o+1,s?i.call(s,r):i(r)):la(n,o+1)}(P(),Dn(),n,e,t,i)}function aa(n,e,t,i,r){return f_(P(),Dn(),n,e,t,i,r)}function lf(n,e,t,i,r,s){return function p_(n,e,t,i,r,s,o,l){const u=e+t;return function cu(n,e,t,i,r){const s=Zr(n,e,t,i);return gn(n,e+2,r)||s}(n,u,r,s,o)?Oi(n,u+3,l?i.call(l,r,s,o):i(r,s,o)):la(n,u+3)}(P(),Dn(),n,e,t,i,r,s)}function la(n,e){const t=n[e];return t===Ce?void 0:t}function f_(n,e,t,i,r,s,o){const l=e+t;return Zr(n,l,r,s)?Oi(n,l+2,o?i.call(o,r,s):i(r,s)):la(n,l+2)}function g_(n,e,t,i,r,s,o,l,u){const h=e+t;return function ri(n,e,t,i,r,s){const o=Zr(n,e,t,i);return Zr(n,e+2,r,s)||o}(n,h,r,s,o,l)?Oi(n,h+4,u?i.call(u,r,s,o,l):i(r,s,o,l)):la(n,h+4)}function zs(n,e){const t=Ue();let i;const r=n+22;t.firstCreatePass?(i=function Jk(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=Br(i.type)),o=ei(D);try{const l=Ll(!1),u=s();return Ll(l),function KI(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,P(),r,u),u}finally{ei(o)}}function ua(n,e,t,i){const r=n+22,s=P(),o=ps(s,r);return ca(s,r)?f_(s,Dn(),e,o.transform,t,i,o):o.transform(t,i)}function ca(n,e){return n[1].data[e].pure}function uf(n){return e=>{setTimeout(n,void 0,e)}}const Be=class nx extends ${constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const u=e;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=uf(s),r&&(r=uf(r)),o&&(o=uf(o)));const l=super.subscribe({next:r,error:s,complete:o});return e instanceof O&&e.add(l),l}};function ix(){return this._results[Yr()]()}class cf{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Yr(),i=cf.prototype;i[t]||(i[t]=ix)}get changes(){return this._changes||(this._changes=new Be)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=Gn(e);(this._changesDetected=!function uM(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Zi=(()=>{class n{}return n.__NG_ELEMENT_ID__=ox,n})();const rx=Zi,sx=class extends rx{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e,t){const i=this._declarationTContainer.tViews,r=iu(this._declarationLView,i,e,16,null,i.declTNode,null,null,null,null,t||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),Oh(i,r,e),new Wo(r)}};function ox(){return vu(un(),P())}function vu(n,e){return 4&n.type?new sx(e,n,Is(n,e)):null}let wi=(()=>{class n{}return n.__NG_ELEMENT_ID__=ax,n})();function ax(){return __(un(),P())}const lx=wi,v_=class extends lx{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Is(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const e=Fl(this._hostTNode,this._hostLView);if(dm(e)){const t=ys(e,this._hostLView),i=ms(e);return new bs(t[1].data[i+8],t)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=b_(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=e.createEmbeddedView(t||{},s);return this.insert(o,r),o}createComponent(e,t,i,r,s){const o=e&&!function Oo(n){return"function"==typeof n}(e);let l;if(o)l=t;else{const g=t||{};l=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new qo(Ye(e)),h=i||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?h:this.parentInjector).get(Wi,null);m&&(s=m)}const f=u.create(h,r,void 0,s);return this.insert(f.hostView,l),f}insert(e,t){const i=e._lView,r=i[1];if(function kE(n){return gi(n[3])}(i)){const f=this.indexOf(e);if(-1!==f)this.detach(f);else{const g=i[3],m=new v_(g,g[6],g[3]);m.detach(m.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function JM(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],Cm(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function XM(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const l=e[19];null!==l&&l.insertView(n),e[2]|=64}(r,i,o,s);const l=Qd(s,o),u=i[11],h=$l(u,o[7]);return null!==h&&function YM(n,e,t,i,r,s){i[0]=r,i[6]=e,Bo(n,i,t,1,r,s)}(r,o[6],u,i,h,l),e.attachToViewContainerRef(),Cm(df(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=b_(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Kd(this._lContainer,t);i&&(Ul(df(this._lContainer),t),Ym(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Kd(this._lContainer,t);return i&&null!=Ul(df(this._lContainer),t)?new Wo(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function b_(n){return n[8]}function df(n){return n[8]||(n[8]=[])}function __(n,e){let t;const i=e[n.index];if(gi(i))t=i;else{let r;if(8&n.type)r=Kt(i);else{const s=e[11];r=s.createComment("");const o=jn(n,e);Gr(s,$l(s,o),r,function iT(n,e){return n.nextSibling(e)}(s,o),!1)}e[n.index]=t=mv(i,e,r,n),su(e,t)}return new v_(t,n,e)}class hf{constructor(e){this.queryList=e,this.matches=null}clone(){return new hf(this.queryList)}setDirty(){this.queryList.setDirty()}}class ff{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new ff(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==M_(e,t).matches&&this.queries[t].setDirty()}}class w_{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class pf{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new pf(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class gf{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new gf(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,dx(t,s)),this.matchTNodeWithReadOption(e,t,Vl(t,e,s,!1,!1))}else i===Zi?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Vl(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===kt||r===wi||r===Zi&&4&t.type)this.addMatch(t.index,-2);else{const s=Vl(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function dx(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function fx(n,e,t,i){return-1===t?function hx(n,e){return 11&n.type?Is(n,e):4&n.type?vu(n,e):null}(e,n):-2===t?function px(n,e,t){return t===kt?Is(e,n):t===Zi?vu(e,n):t===wi?__(e,n):void 0}(n,e,i):vs(n,n[1],t,e)}function C_(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,l=[];for(let u=0;u<o.length;u+=2){const h=o[u];l.push(h<0?null:fx(e,s[h],o[u+1],t.metadata.read))}r.matches=l}return r.matches}function mf(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=C_(n,e,r,t);for(let l=0;l<s.length;l+=2){const u=s[l];if(u>0)i.push(o[l/2]);else{const h=s[l+1],f=e[-u];for(let g=10;g<f.length;g++){const m=f[g];m[17]===m[3]&&mf(m[1],m,h,i)}if(null!==f[9]){const g=f[9];for(let m=0;m<g.length;m++){const y=g[m];mf(y[1],y,h,i)}}}}}return i}function dt(n){const e=P(),t=Ue(),i=tm();_d(i+1);const r=M_(t,i);if(n.dirty&&function AE(n){return 4==(4&n[2])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?mf(t,e,i,[]):C_(t,e,r,i);n.reset(s,JT),n.notifyOnChanges()}return!0}return!1}function Tt(n,e,t){const i=Ue();i.firstCreatePass&&(E_(i,new w_(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),D_(i,P(),e)}function bu(n,e,t,i){const r=Ue();if(r.firstCreatePass){const s=un();E_(r,new w_(e,t,i),s.index),function mx(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}D_(r,P(),t)}function ht(){return function gx(n,e){return n[19].queries[e].queryList}(P(),tm())}function D_(n,e,t){const i=new cf(4==(4&t));cv(n,e,i,i.destroy),null===e[19]&&(e[19]=new ff),e[19].queries.push(new hf(i))}function E_(n,e,t){null===n.queries&&(n.queries=new pf),n.queries.track(new gf(e,t))}function M_(n,e){return n.queries.getByIndex(e)}function wu(...n){}const Cu=new W("Application Initializer");let Du=(()=>{class n{constructor(t){this.appInits=t,this.resolve=wu,this.reject=wu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Jo(s))t.push(s);else if(Yh(s)){const o=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(R(Cu,8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ha=new W("AppId",{providedIn:"root",factory:function G_(){return`${wf()}${wf()}${wf()}`}});function wf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z_=new W("Platform Initializer"),fa=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W_=new W("appBootstrapListener");let Vx=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ni=new W("LocaleId",{providedIn:"root",factory:()=>Fe(Ni,pe.Optional|pe.SkipSelf)||function Ux(){return typeof $localize<"u"&&$localize.locale||Gs}()});class Bx{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let Cf=(()=>{class n{compileModuleSync(t){return new sf(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=qi(Hn(t).declarations).reduce((o,l)=>{const u=Ye(l);return u&&o.push(new qo(u)),o},[]);return new Bx(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gx=(()=>Promise.resolve(0))();function Df(n){typeof Zone>"u"?Gx.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class ot{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Be(!1),this.onMicrotaskEmpty=new Be(!1),this.onStable=new Be(!1),this.onError=new Be(!1),typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function zx(){let n=ut.requestAnimationFrame,e=ut.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function Kx(n){const e=()=>{!function qx(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(ut,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Mf(n),n.isCheckStableRunning=!0,Ef(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Mf(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,l)=>{try{return Y_(n),t.invokeTask(r,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),Z_(n)}},onInvoke:(t,i,r,s,o,l,u)=>{try{return Y_(n),t.invoke(r,s,o,l,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),Z_(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Mf(n),Ef(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ot.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(ot.isInAngularZone())throw new H(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,Wx,wu,wu);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const Wx={};function Ef(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Mf(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Y_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Z_(n){n._nesting--,Ef(n)}class Yx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Be,this.onMicrotaskEmpty=new Be,this.onStable=new Be,this.onError=new Be}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const Q_=new W(""),Eu=new W("");let If,Tf=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,If||(function Zx(n){If=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ot.assertNotInAngularZone(),Df(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Df(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(R(ot),R(Sf),R(Eu))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),Sf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return If?.findTestabilityInTree(this,t,i)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),vr=null;const J_=new W("AllowMultipleToken"),Af=new W("PlatformDestroyListeners");class X_{constructor(e,t){this.name=e,this.token=t}}function tw(n,e,t=[]){const i=`Platform: ${e}`,r=new W(i);return(s=[])=>{let o=kf();if(!o||o.injector.get(J_,!1)){const l=[...t,...s,{provide:r,useValue:!0}];n?n(l):function Xx(n){if(vr&&!vr.get(J_,!1))throw new H(400,!1);vr=n;const e=n.get(iw);(function ew(n){const e=n.get(z_,null);e&&e.forEach(t=>t())})(n)}(function nw(n=[],e){return qn.create({name:e,providers:[{provide:uh,useValue:"platform"},{provide:Af,useValue:new Set([()=>vr=null])},...n]})}(l,i))}return function tP(n){const e=kf();if(!e)throw new H(401,!1);return e}()}}function kf(){return vr?.get(iw)??null}let iw=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function sw(n,e){let t;return t="noop"===n?new Yx:("zone.js"===n?void 0:n)||new ot(e),t}(i?.ngZone,function rw(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:ot,useValue:r}];return r.run(()=>{const o=qn.create({providers:s,parent:this.injector,name:t.moduleType.name}),l=t.create(o),u=l.injector.get(As,null);if(!u)throw new H(402,!1);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:f=>{u.handleError(f)}});l.onDestroy(()=>{Tu(this._modules,l),h.unsubscribe()})}),function ow(n,e,t){try{const i=t();return Jo(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(u,r,()=>{const h=l.injector.get(Du);return h.runInitializers(),h.donePromise.then(()=>(function xb(n){Un(n,"Expected localeId to be defined"),"string"==typeof n&&(kb=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ni,Gs)||Gs),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,i=[]){const r=aw({},i);return function Qx(n,e,t){const i=new sf(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Mu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new H(403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new H(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(Af,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(R(qn))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function aw(n,e){return Array.isArray(e)?e.reduce(aw,n):{...n,...e}}let Mu=(()=>{class n{constructor(t,i,r){this._zone=t,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new j(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),o=new j(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{ot.assertNotInAngularZone(),Df(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{ot.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=function or(...n){let e=Number.POSITIVE_INFINITY,t=null,i=n[n.length-1];return ge(i)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof i&&(e=n.pop()),null===t&&1===n.length&&n[0]instanceof j?n[0]:_n(e)(Ht(n,t))}(s,o.pipe(function W1(){return n=>Pn()(function $1(n,e){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof e)return i.lift(new G1(r,e));const s=Object.create(i,Nr);return s.source=i,s.subjectFactory=r,s}}(z1)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof ky;if(!this._injector.get(Du).done)throw!r&&function cs(n){const e=Ye(n)||dn(n)||Cn(n);return null!==e&&e.standalone}(t),new H(405,false);let o;o=r?t:this._injector.get(Go).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const l=function Jx(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Jr),h=o.create(qn.NULL,[],i||o.selector,l),f=h.location.nativeElement,g=h.injector.get(Q_,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),Tu(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new H(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;Tu(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(W_,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Tu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)(R(ot),R(Wi),R(As))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let Di=(()=>{class n{}return n.__NG_ELEMENT_ID__=iP,n})();function iP(n){return function rP(n,e,t){if(Il(n)&&!t){const i=$n(n.index,e);return new Wo(i,i)}return 47&n.type?new Wo(e[16],e):null}(un(),P(),16==(16&n))}class hw{constructor(){}supports(e){return Ko(e)}create(e){return new cP(e)}}const uP=(n,e)=>e;class cP{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||uP}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<pw(i,r,s)?t:i,l=pw(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const h=l-r,f=u-r;if(h!=f){for(let m=0;m<h;m++){const y=m<s.length?s[m]:s[m]=0,v=y+m;f<=v&&v<h&&(s[m]=y+1)}s[o.previousIndex]=f-h}}l!==u&&e(o,l,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ko(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)s=e[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),i=!0),t=t._next}else r=0,function GI(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Yr()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,l=>{o=this._trackByFn(r,l),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,l,o,r)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new dP(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new fw),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new fw),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class dP{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hP{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class fw{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new hP,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pw(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class gw{constructor(){}supports(e){return e instanceof Map||qh(e)}create(){return new fP}}class fP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||qh(e)))throw new H(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new pP(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class pP{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function mw(){return new Au([new hw])}let Au=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||mw()),deps:[[n,new No,new Lo]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new H(901,!1)}}return n.\u0275prov=Y({token:n,providedIn:"root",factory:mw}),n})();function yw(){return new pa([new gw])}let pa=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||yw()),deps:[[n,new No,new Lo]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new H(901,!1)}}return n.\u0275prov=Y({token:n,providedIn:"root",factory:yw}),n})();const yP=tw(null,"core",[]);let vP=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(R(Mu))},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({}),n})();function Ks(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let ku=null;function Fi(){return ku}class wP{}const St=new W("DocumentToken");let Lf=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(){return function CP(){return R(vw)}()},providedIn:"platform"}),n})();const DP=new W("Location Initialized");let vw=(()=>{class n extends Lf{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(t){const i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){bw()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){bw()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(R(St))},n.\u0275prov=Y({token:n,factory:function(){return function EP(){return new vw(R(St))}()},providedIn:"platform"}),n})();function bw(){return!!window.history.pushState}function Nf(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function _w(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ji(n){return n&&"?"!==n[0]?"?"+n:n}let br=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(){return Fe(Ff)},providedIn:"root"}),n})();const ww=new W("appBaseHref");let Ff=(()=>{class n extends br{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Fe(St).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Nf(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ji(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+Ji(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+Ji(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(R(Lf),R(ww,8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MP=(()=>{class n extends br{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Nf(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+Ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+Ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(R(Lf),R(ww,8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),ga=(()=>{class n{constructor(t){this._subject=new Be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=_w(Cw(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ji(i))}normalize(t){return n.stripTrailingSlash(function SP(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Cw(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ji(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ji,n.joinWithSlash=Nf,n.stripTrailingSlash=_w,n.\u0275fac=function(t){return new(t||n)(R(br))},n.\u0275prov=Y({token:n,factory:function(){return function TP(){return new ga(R(br))}()},providedIn:"root"}),n})();function Cw(n){return n.replace(/\/index.html$/,"")}var Lt=(()=>((Lt=Lt||{})[Lt.Format=0]="Format",Lt[Lt.Standalone=1]="Standalone",Lt))(),Le=(()=>((Le=Le||{})[Le.Narrow=0]="Narrow",Le[Le.Abbreviated=1]="Abbreviated",Le[Le.Wide=2]="Wide",Le[Le.Short=3]="Short",Le))(),It=(()=>((It=It||{})[It.Short=0]="Short",It[It.Medium=1]="Medium",It[It.Long=2]="Long",It[It.Full=3]="Full",It))(),he=(()=>((he=he||{})[he.Decimal=0]="Decimal",he[he.Group=1]="Group",he[he.List=2]="List",he[he.PercentSign=3]="PercentSign",he[he.PlusSign=4]="PlusSign",he[he.MinusSign=5]="MinusSign",he[he.Exponential=6]="Exponential",he[he.SuperscriptingExponent=7]="SuperscriptingExponent",he[he.PerMille=8]="PerMille",he[he.Infinity=9]="Infinity",he[he.NaN=10]="NaN",he[he.TimeSeparator=11]="TimeSeparator",he[he.CurrencyDecimal=12]="CurrencyDecimal",he[he.CurrencyGroup=13]="CurrencyGroup",he))();function xu(n,e){return oi(Tn(n)[X.DateFormat],e)}function Pu(n,e){return oi(Tn(n)[X.TimeFormat],e)}function Ou(n,e){return oi(Tn(n)[X.DateTimeFormat],e)}function si(n,e){const t=Tn(n),i=t[X.NumberSymbols][e];if(typeof i>"u"){if(e===he.CurrencyDecimal)return t[X.NumberSymbols][he.Decimal];if(e===he.CurrencyGroup)return t[X.NumberSymbols][he.Group]}return i}function Ew(n){if(!n[X.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[X.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function oi(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Uf(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const HP=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ma={},BP=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qt=(()=>((Qt=Qt||{})[Qt.Short=0]="Short",Qt[Qt.ShortGMT=1]="ShortGMT",Qt[Qt.Long=2]="Long",Qt[Qt.Extended=3]="Extended",Qt))(),me=(()=>((me=me||{})[me.FullYear=0]="FullYear",me[me.Month=1]="Month",me[me.Date=2]="Date",me[me.Hours=3]="Hours",me[me.Minutes=4]="Minutes",me[me.Seconds=5]="Seconds",me[me.FractionalSeconds=6]="FractionalSeconds",me[me.Day=7]="Day",me))(),xe=(()=>((xe=xe||{})[xe.DayPeriods=0]="DayPeriods",xe[xe.Days=1]="Days",xe[xe.Months=2]="Months",xe[xe.Eras=3]="Eras",xe))();function jP(n,e,t,i){let r=function QP(n){if(Sw(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(l=>+l);return Ru(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(HP))return function JP(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,l=Number(n[5]||0)-i,u=Number(n[6]||0),h=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,l,u,h),e}(i)}const e=new Date(n);if(!Sw(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Xi(t,e)||e;let l,o=[];for(;e;){if(l=BP.exec(e),!l){o.push(e);break}{o=o.concat(l.slice(1));const f=o.pop();if(!f)break;e=f}}let u=r.getTimezoneOffset();i&&(u=Tw(i,u),r=function ZP(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function YP(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(Tw(e,r)-r))}(r,i,!0));let h="";return o.forEach(f=>{const g=function KP(n){if(Bf[n])return Bf[n];let e;switch(n){case"G":case"GG":case"GGG":e=ft(xe.Eras,Le.Abbreviated);break;case"GGGG":e=ft(xe.Eras,Le.Wide);break;case"GGGGG":e=ft(xe.Eras,Le.Narrow);break;case"y":e=$t(me.FullYear,1,0,!1,!0);break;case"yy":e=$t(me.FullYear,2,0,!0,!0);break;case"yyy":e=$t(me.FullYear,3,0,!1,!0);break;case"yyyy":e=$t(me.FullYear,4,0,!1,!0);break;case"Y":e=Vu(1);break;case"YY":e=Vu(2,!0);break;case"YYY":e=Vu(3);break;case"YYYY":e=Vu(4);break;case"M":case"L":e=$t(me.Month,1,1);break;case"MM":case"LL":e=$t(me.Month,2,1);break;case"MMM":e=ft(xe.Months,Le.Abbreviated);break;case"MMMM":e=ft(xe.Months,Le.Wide);break;case"MMMMM":e=ft(xe.Months,Le.Narrow);break;case"LLL":e=ft(xe.Months,Le.Abbreviated,Lt.Standalone);break;case"LLLL":e=ft(xe.Months,Le.Wide,Lt.Standalone);break;case"LLLLL":e=ft(xe.Months,Le.Narrow,Lt.Standalone);break;case"w":e=Hf(1);break;case"ww":e=Hf(2);break;case"W":e=Hf(1,!0);break;case"d":e=$t(me.Date,1);break;case"dd":e=$t(me.Date,2);break;case"c":case"cc":e=$t(me.Day,1);break;case"ccc":e=ft(xe.Days,Le.Abbreviated,Lt.Standalone);break;case"cccc":e=ft(xe.Days,Le.Wide,Lt.Standalone);break;case"ccccc":e=ft(xe.Days,Le.Narrow,Lt.Standalone);break;case"cccccc":e=ft(xe.Days,Le.Short,Lt.Standalone);break;case"E":case"EE":case"EEE":e=ft(xe.Days,Le.Abbreviated);break;case"EEEE":e=ft(xe.Days,Le.Wide);break;case"EEEEE":e=ft(xe.Days,Le.Narrow);break;case"EEEEEE":e=ft(xe.Days,Le.Short);break;case"a":case"aa":case"aaa":e=ft(xe.DayPeriods,Le.Abbreviated);break;case"aaaa":e=ft(xe.DayPeriods,Le.Wide);break;case"aaaaa":e=ft(xe.DayPeriods,Le.Narrow);break;case"b":case"bb":case"bbb":e=ft(xe.DayPeriods,Le.Abbreviated,Lt.Standalone,!0);break;case"bbbb":e=ft(xe.DayPeriods,Le.Wide,Lt.Standalone,!0);break;case"bbbbb":e=ft(xe.DayPeriods,Le.Narrow,Lt.Standalone,!0);break;case"B":case"BB":case"BBB":e=ft(xe.DayPeriods,Le.Abbreviated,Lt.Format,!0);break;case"BBBB":e=ft(xe.DayPeriods,Le.Wide,Lt.Format,!0);break;case"BBBBB":e=ft(xe.DayPeriods,Le.Narrow,Lt.Format,!0);break;case"h":e=$t(me.Hours,1,-12);break;case"hh":e=$t(me.Hours,2,-12);break;case"H":e=$t(me.Hours,1);break;case"HH":e=$t(me.Hours,2);break;case"m":e=$t(me.Minutes,1);break;case"mm":e=$t(me.Minutes,2);break;case"s":e=$t(me.Seconds,1);break;case"ss":e=$t(me.Seconds,2);break;case"S":e=$t(me.FractionalSeconds,1);break;case"SS":e=$t(me.FractionalSeconds,2);break;case"SSS":e=$t(me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Nu(Qt.Short);break;case"ZZZZZ":e=Nu(Qt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Nu(Qt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Nu(Qt.Long);break;default:return null}return Bf[n]=e,e}(f);h+=g?g(r,t,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Ru(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Xi(n,e){const t=function IP(n){return Tn(n)[X.LocaleId]}(n);if(ma[t]=ma[t]||{},ma[t][e])return ma[t][e];let i="";switch(e){case"shortDate":i=xu(n,It.Short);break;case"mediumDate":i=xu(n,It.Medium);break;case"longDate":i=xu(n,It.Long);break;case"fullDate":i=xu(n,It.Full);break;case"shortTime":i=Pu(n,It.Short);break;case"mediumTime":i=Pu(n,It.Medium);break;case"longTime":i=Pu(n,It.Long);break;case"fullTime":i=Pu(n,It.Full);break;case"short":const r=Xi(n,"shortTime"),s=Xi(n,"shortDate");i=Lu(Ou(n,It.Short),[r,s]);break;case"medium":const o=Xi(n,"mediumTime"),l=Xi(n,"mediumDate");i=Lu(Ou(n,It.Medium),[o,l]);break;case"long":const u=Xi(n,"longTime"),h=Xi(n,"longDate");i=Lu(Ou(n,It.Long),[u,h]);break;case"full":const f=Xi(n,"fullTime"),g=Xi(n,"fullDate");i=Lu(Ou(n,It.Full),[f,g])}return i&&(ma[t][e]=i),i}function Lu(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Ei(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function $t(n,e,t=0,i=!1,r=!1){return function(s,o){let l=function GP(n,e){switch(n){case me.FullYear:return e.getFullYear();case me.Month:return e.getMonth();case me.Date:return e.getDate();case me.Hours:return e.getHours();case me.Minutes:return e.getMinutes();case me.Seconds:return e.getSeconds();case me.FractionalSeconds:return e.getMilliseconds();case me.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||l>-t)&&(l+=t),n===me.Hours)0===l&&-12===t&&(l=12);else if(n===me.FractionalSeconds)return function $P(n,e){return Ei(n,3).substring(0,e)}(l,e);const u=si(o,he.MinusSign);return Ei(l,e,u,i,r)}}function ft(n,e,t=Lt.Format,i=!1){return function(r,s){return function zP(n,e,t,i,r,s){switch(t){case xe.Months:return function xP(n,e,t){const i=Tn(n),s=oi([i[X.MonthsFormat],i[X.MonthsStandalone]],e);return oi(s,t)}(e,r,i)[n.getMonth()];case xe.Days:return function kP(n,e,t){const i=Tn(n),s=oi([i[X.DaysFormat],i[X.DaysStandalone]],e);return oi(s,t)}(e,r,i)[n.getDay()];case xe.DayPeriods:const o=n.getHours(),l=n.getMinutes();if(s){const h=function LP(n){const e=Tn(n);return Ew(e),(e[X.ExtraData][2]||[]).map(i=>"string"==typeof i?Uf(i):[Uf(i[0]),Uf(i[1])])}(e),f=function NP(n,e,t){const i=Tn(n);Ew(i);const s=oi([i[X.ExtraData][0],i[X.ExtraData][1]],e)||[];return oi(s,t)||[]}(e,r,i),g=h.findIndex(m=>{if(Array.isArray(m)){const[y,v]=m,M=o>=y.hours&&l>=y.minutes,C=o<v.hours||o===v.hours&&l<v.minutes;if(y.hours<v.hours){if(M&&C)return!0}else if(M||C)return!0}else if(m.hours===o&&m.minutes===l)return!0;return!1});if(-1!==g)return f[g]}return function AP(n,e,t){const i=Tn(n),s=oi([i[X.DayPeriodsFormat],i[X.DayPeriodsStandalone]],e);return oi(s,t)}(e,r,i)[o<12?0:1];case xe.Eras:return function PP(n,e){return oi(Tn(n)[X.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Nu(n){return function(e,t,i){const r=-1*i,s=si(t,he.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Qt.Short:return(r>=0?"+":"")+Ei(o,2,s)+Ei(Math.abs(r%60),2,s);case Qt.ShortGMT:return"GMT"+(r>=0?"+":"")+Ei(o,1,s);case Qt.Long:return"GMT"+(r>=0?"+":"")+Ei(o,2,s)+":"+Ei(Math.abs(r%60),2,s);case Qt.Extended:return 0===i?"Z":(r>=0?"+":"")+Ei(o,2,s)+":"+Ei(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Mw(n){return Ru(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Hf(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=Mw(t),o=function qP(n){const e=Ru(n,0,1).getDay();return Ru(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return Ei(r,n,si(i,he.MinusSign))}}function Vu(n,e=!1){return function(t,i){return Ei(Mw(t).getFullYear(),n,si(i,he.MinusSign),e)}}const Bf={};function Tw(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Sw(n){return n instanceof Date&&!isNaN(n.valueOf())}function xw(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let va=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Ko(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${nt(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(D(Au),D(pa),D(kt),D(Nn))},n.\u0275dir=ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class d2{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ba=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new d2(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,o),Rw(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Rw(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(wi),D(Zi),D(Au))},n.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Rw(n,e){n.context.$implicit=e.item}let yn=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new f2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Lw("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Lw("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(D(wi),D(Zi))},n.\u0275dir=ue({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class f2{constructor(){this.$implicit=null,this.ngIf=null}}function Lw(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${nt(e)}'.`)}let Fw=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:Ln.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(D(kt),D(pa),D(Nn))},n.\u0275dir=ue({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Vw=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(D(wi))},n.\u0275dir=ue({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Rn]}),n})();const S2=new W("DATE_PIPE_DEFAULT_TIMEZONE"),I2=new W("DATE_PIPE_DEFAULT_OPTIONS");let Yf=(()=>{class n{constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,s){if(null==t||""===t||t!=t)return null;try{return jP(t,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function Mi(n,e){return new H(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(D(Ni,16),D(S2,24),D(I2,24))},n.\u0275pipe=wn({name:"date",type:n,pure:!0,standalone:!0}),n})(),Hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({}),n})();const Bw="browser";function jw(n){return n===Bw}let j2=(()=>{class n{}return n.\u0275prov=Y({token:n,providedIn:"root",factory:()=>new $2(R(St),window)}),n})();class $2{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function G2(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=$w(this.window.history)||$w(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $w(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gw{}class yO extends wP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ep extends yO{static makeCurrent(){!function _P(n){ku||(ku=n)}(new ep)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function vO(){return wa=wa||document.querySelector("base"),wa?wa.getAttribute("href"):null}();return null==t?null:function bO(n){Bu=Bu||document.createElement("a"),Bu.setAttribute("href",n);const e=Bu.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return xw(document.cookie,e)}}let Bu,wa=null;const Zw=new W("TRANSITION_ID"),wO=[{provide:Cu,useFactory:function _O(n,e,t){return()=>{t.get(Du).donePromise.then(()=>{const i=Fi(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Zw,St,qn],multi:!0}];let DO=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const ju=new W("EventManagerPlugins");let $u=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(R(ju),R(ot))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();class Qw{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=Fi().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let Jw=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})(),Ca=(()=>{class n extends Jw{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Xw),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Xw))}}return n.\u0275fac=function(t){return new(t||n)(R(St))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();function Xw(n){Fi().remove(n)}const tp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},np=/%COMP%/g;function Gu(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Gu(n,r,t):(r=r.replace(np,n),t.push(r))}return t}function nC(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ip=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new rp(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Ii.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new AO(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Ii.ShadowDom:return new kO(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Gu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(R($u),R(Ca),R(ha))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();class rp{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(tp[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(rC(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(rC(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=tp[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=tp[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Ln.DashCase|Ln.Important)?e.style.setProperty(t,i,r&Ln.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Ln.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nC(i)):this.eventManager.addEventListener(e,t,nC(i))}}function rC(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class AO extends rp{constructor(e,t,i,r){super(e),this.component=i;const s=Gu(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function TO(n){return"_ngcontent-%COMP%".replace(np,n)}(r+"-"+i.id),this.hostAttr=function SO(n){return"_nghost-%COMP%".replace(np,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class kO extends rp{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Gu(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let xO=(()=>{class n extends Qw{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(R(St))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const sC=["alt","control","meta","shift"],PO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let RO=(()=>{class n extends Qw{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),o="code."),sC.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),o+=h+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(t,i){let r=PO[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),sC.forEach(o=>{o!==r&&(0,OO[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(R(St))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const aC=[{provide:fa,useValue:Bw},{provide:z_,useValue:function LO(){ep.makeCurrent()},multi:!0},{provide:St,useFactory:function FO(){return function dT(n){th=n}(document),document},deps:[]}],VO=tw(yP,"browser",aC),lC=new W(""),uC=[{provide:Eu,useClass:class CO{addToWindow(e){ut.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},ut.getAllAngularTestabilities=()=>e.getAllTestabilities(),ut.getAllAngularRootElements=()=>e.getAllRootElements(),ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(i=>{const r=ut.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?Fi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:Q_,useClass:Tf,deps:[ot,Sf,Eu]},{provide:Tf,useClass:Tf,deps:[ot,Sf,Eu]}],cC=[{provide:uh,useValue:"root"},{provide:As,useFactory:function NO(){return new As},deps:[]},{provide:ju,useClass:xO,multi:!0,deps:[St,ot,fa]},{provide:ju,useClass:RO,multi:!0,deps:[St]},{provide:ip,useClass:ip,deps:[$u,Ca,ha]},{provide:Py,useExisting:ip},{provide:Jw,useExisting:Ca},{provide:Ca,useClass:Ca,deps:[St]},{provide:$u,useClass:$u,deps:[ju,ot]},{provide:Gw,useClass:DO,deps:[]},[]];let UO=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:ha,useValue:t.appId},{provide:Zw,useExisting:ha},wO]}}}return n.\u0275fac=function(t){return new(t||n)(R(lC,12))},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({providers:[...cC,...uC],imports:[Hw,vP]}),n})(),dC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(R(St))},n.\u0275prov=Y({token:n,factory:function(t){let i=null;return i=t?new t:function BO(){return new dC(R(St))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let pC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(t){let i=null;return i=t?new(t||n):R(gC),i},providedIn:"root"}),n})(),gC=(()=>{class n extends pC{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case rt.NONE:return i;case rt.HTML:return xi(i,"HTML")?Wn(i):vy(this._doc,String(i)).toString();case rt.STYLE:return xi(i,"Style")?Wn(i):i;case rt.SCRIPT:if(xi(i,"Script"))return Wn(i);throw new Error("unsafe value used in a script context");case rt.URL:return xi(i,"URL")?Wn(i):Kl(String(i));case rt.RESOURCE_URL:if(xi(i,"ResourceURL"))return Wn(i);throw new Error(`unsafe value used in a resource URL context (see ${yl})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${yl})`)}}bypassSecurityTrustHtml(t){return function vT(n){return new hT(n)}(t)}bypassSecurityTrustStyle(t){return function bT(n){return new fT(n)}(t)}bypassSecurityTrustScript(t){return function _T(n){return new pT(n)}(t)}bypassSecurityTrustUrl(t){return function wT(n){return new gT(n)}(t)}bypassSecurityTrustResourceUrl(t){return function CT(n){return new mT(n)}(t)}}return n.\u0275fac=function(t){return new(t||n)(R(St))},n.\u0275prov=Y({token:n,factory:function(t){let i=null;return i=t?new t:function KO(n){return new gC(n.get(St))}(R(qn)),i},providedIn:"root"}),n})();function ae(...n){let e=n[n.length-1];return ge(e)?(n.pop(),de(n,e)):Ht(n)}class vn extends ${constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(e){super.next(this._value=e)}}const zu=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();class YO extends ye{notifyNext(e,t,i,r,s){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class ZO extends ye{constructor(e,t,i){super(),this.parent=e,this.outerValue=t,this.outerIndex=i,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function QO(n,e,t,i,r=new ZO(n,t,i)){if(!r.closed)return e instanceof j?e.subscribe(r):at(e)(r)}const mC={};function ap(...n){let e,t;return ge(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&Ve(n[0])&&(n=n[0]),Ht(n,t).lift(new JO(e))}class JO{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new XO(e,this.resultSelector))}}class XO extends YO{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(mC),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let i=0;i<t;i++)this.add(QO(this,e[i],void 0,i))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,i){const r=this.values,o=this.toRespond?r[i]===mC?--this.toRespond:this.toRespond:0;r[i]=t,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}function Wu(...n){return function eR(){return _n(1)}()(ae(...n))}const wr=new j(n=>n.complete());function qu(n){return n?function tR(n){return new j(e=>n.schedule(()=>e.complete()))}(n):wr}function yC(n){return new j(e=>{let t;try{t=n()}catch(r){return void e.error(r)}return(t?re(t):qu()).subscribe(e)})}function Ti(n,e){return new j(e?t=>e.schedule(nR,0,{error:n,subscriber:t}):t=>t.error(n))}function nR({error:n,subscriber:e}){e.error(n)}function Zn(n,e){return"function"==typeof e?t=>t.pipe(Zn((i,r)=>re(n(i,r)).pipe(U((s,o)=>e(i,s,r,o))))):t=>t.lift(new iR(n))}class iR{constructor(e){this.project=e}call(e,t){return t.subscribe(new rR(e,this.project))}}class rR extends Rt{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const i=this.index++;try{t=this.project(e,i)}catch(r){return void this.destination.error(r)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const i=new yt(this),r=this.destination;r.add(i),this.innerSubscription=tn(e,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const vC=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function es(n){return e=>0===n?qu():e.lift(new sR(n))}class sR{constructor(e){if(this.total=e,this.total<0)throw new vC}call(e,t){return t.subscribe(new oR(e,this.total))}}class oR extends ye{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,i=++this.count;i<=t&&(this.destination.next(e),i===t&&(this.destination.complete(),this.unsubscribe()))}}function bC(...n){const e=n[n.length-1];return ge(e)?(n.pop(),t=>Wu(n,t,e)):t=>Wu(n,t)}function In(n,e){return function(i){return i.lift(new aR(n,e))}}class aR{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new lR(e,this.predicate,this.thisArg))}}class lR extends ye{constructor(e,t,i){super(e),this.predicate=t,this.thisArg=i,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(i){return void this.destination.error(i)}t&&this.destination.next(e)}}function Ku(n=null){return e=>e.lift(new uR(n))}class uR{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new cR(e,this.defaultValue))}}class cR extends ye{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function _C(n=fR){return e=>e.lift(new dR(n))}class dR{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new hR(e,this.errorFactory))}}class hR extends ye{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function fR(){return new zu}function Cr(n,e){const t=arguments.length>=2;return i=>i.pipe(n?In((r,s)=>n(r,s,i)):B,es(1),t?Ku(e):_C(()=>new zu))}function Dr(n,e){return vt(n,e,1)}function Er(){}function pt(n,e,t){return function(r){return r.lift(new pR(n,e,t))}}class pR{constructor(e,t,i){this.nextOrObserver=e,this.error=t,this.complete=i}call(e,t){return t.subscribe(new gR(e,this.nextOrObserver,this.error,this.complete))}}class gR extends ye{constructor(e,t,i,r){super(e),this._tapNext=Er,this._tapError=Er,this._tapComplete=Er,this._tapError=i||Er,this._tapComplete=r||Er,Ne(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Er,this._tapError=t.error||Er,this._tapComplete=t.complete||Er)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}function Mr(n){return function(t){const i=new mR(n),r=t.lift(i);return i.caught=r}}class mR{constructor(e){this.selector=e}call(e,t){return t.subscribe(new yR(e,this.selector,this.caught))}}class yR extends Rt{constructor(e,t,i){super(e),this.selector=t,this.caught=i}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new yt(this);this.add(i);const r=tn(t,i);r!==i&&this.add(r)}}}function wC(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(r){return r.lift(new vR(n,e,t))}}class vR{constructor(e,t,i=!1){this.accumulator=e,this.seed=t,this.hasSeed=i}call(e,t){return t.subscribe(new bR(e,this.accumulator,this.seed,this.hasSeed))}}class bR extends ye{constructor(e,t,i,r){super(e),this.accumulator=t,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let i;try{i=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function lp(n){return function(t){return 0===n?qu():t.lift(new _R(n))}}class _R{constructor(e){if(this.total=e,this.total<0)throw new vC}call(e,t){return t.subscribe(new wR(e,this.total))}}class wR extends ye{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,i=this.total,r=this.count++;t.length<i?t.push(e):t[r%i]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=t++%i;e.next(r[o])}}e.complete()}}function CC(n,e){const t=arguments.length>=2;return i=>i.pipe(n?In((r,s)=>n(r,s,i)):B,lp(1),t?Ku(e):_C(()=>new zu))}class DR{constructor(e,t){this.predicate=e,this.inclusive=t}call(e,t){return t.subscribe(new ER(e,this.predicate,this.inclusive))}}class ER extends ye{constructor(e,t,i){super(e),this.predicate=t,this.inclusive=i,this.index=0}_next(e){const t=this.destination;let i;try{i=this.predicate(e,this.index++)}catch(r){return void t.error(r)}this.nextOrComplete(e,i)}nextOrComplete(e,t){const i=this.destination;Boolean(t)?i.next(e):(this.inclusive&&i.next(e),i.complete())}}class TR{constructor(e){this.value=e}call(e,t){return t.subscribe(new SR(e,this.value))}}class SR extends ye{constructor(e,t){super(e),this.value=t}_next(e){this.destination.next(this.value)}}function up(n){return e=>e.lift(new IR(n))}class IR{constructor(e){this.callback=e}call(e,t){return t.subscribe(new AR(e,this.callback))}}class AR extends ye{constructor(e,t){super(e),this.add(new O(t))}}const Pe="primary",Da=Symbol("RouteTitle");class kR{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ys(n){return new kR(n)}function xR(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],l=n[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Vi(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!DC(n[r],e[r]))return!1;return!0}function DC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function EC(n){return Array.prototype.concat.apply([],n)}function MC(n){return n.length>0?n[n.length-1]:null}function cn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Tr(n){return Yh(n)?n:Jo(n)?re(Promise.resolve(n)):ae(n)}const Yu=!1,OR={exact:function IC(n,e,t){if(!ns(n.segments,e.segments)||!Zu(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!IC(n.children[i],e.children[i],t))return!1;return!0},subset:AC},TC={exact:function RR(n,e){return Vi(n,e)},subset:function LR(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>DC(n[t],e[t]))},ignored:()=>!0};function SC(n,e,t){return OR[t.paths](n.root,e.root,t.matrixParams)&&TC[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function AC(n,e,t){return kC(n,e,e.segments,t)}function kC(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ns(r,t)||e.hasChildren()||!Zu(r,t,i))}if(n.segments.length===t.length){if(!ns(n.segments,t)||!Zu(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!AC(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(ns(n.segments,r)&&Zu(n.segments,r,i)&&n.children[Pe])&&kC(n.children[Pe],e,s,i)}}function Zu(n,e,t){return e.every((i,r)=>TC[t](n[r].parameters,i.parameters))}class ts{constructor(e=new Oe([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return VR.serialize(this)}}class Oe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,cn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qu(this)}}class Ea{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ys(this.parameters)),this._parameterMap}toString(){return RC(this)}}function ns(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let xC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(){return new cp},providedIn:"root"}),n})();class cp{parse(e){const t=new qR(e);return new ts(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Ma(e.root,!0)}`,i=function BR(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Ju(t)}=${Ju(r)}`).join("&"):`${Ju(t)}=${Ju(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),r="string"==typeof e.fragment?`#${function UR(n){return encodeURI(n)}(e.fragment)}`:"";return`${t}${i}${r}`}}const VR=new cp;function Qu(n){return n.segments.map(e=>RC(e)).join("/")}function Ma(n,e){if(!n.hasChildren())return Qu(n);if(e){const t=n.children[Pe]?Ma(n.children[Pe],!1):"",i=[];return cn(n.children,(r,s)=>{s!==Pe&&i.push(`${s}:${Ma(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function FR(n,e){let t=[];return cn(n.children,(i,r)=>{r===Pe&&(t=t.concat(e(i,r)))}),cn(n.children,(i,r)=>{r!==Pe&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Pe?[Ma(n.children[Pe],!1)]:[`${r}:${Ma(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pe]?`${Qu(n)}/${t[0]}`:`${Qu(n)}/(${t.join("//")})`}}function PC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ju(n){return PC(n).replace(/%3B/gi,";")}function dp(n){return PC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xu(n){return decodeURIComponent(n)}function OC(n){return Xu(n.replace(/\+/g,"%20"))}function RC(n){return`${dp(n.path)}${function HR(n){return Object.keys(n).map(e=>`;${dp(e)}=${dp(n[e])}`).join("")}(n.parameters)}`}const jR=/^[^\/()?;=#]+/;function ec(n){const e=n.match(jR);return e?e[0]:""}const $R=/^[^=?&#]+/,zR=/^[^&#]+/;class qR{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Pe]=new Oe(e,t)),i}parseSegment(){const e=ec(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new H(4009,Yu);return this.capture(e),new Ea(Xu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=ec(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=ec(this.remaining);r&&(i=r,this.capture(i))}e[Xu(t)]=Xu(i)}parseQueryParam(e){const t=function GR(n){const e=n.match($R);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function WR(n){const e=n.match(zR);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=OC(t),s=OC(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ec(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new H(4010,Yu);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Pe);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Pe]:new Oe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new H(4011,Yu)}}function hp(n){return n.segments.length>0?new Oe([],{[Pe]:n}):n}function tc(n){const e={};for(const i of Object.keys(n.children)){const s=tc(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function KR(n){if(1===n.numberOfChildren&&n.children[Pe]){const e=n.children[Pe];return new Oe(n.segments.concat(e.segments),e.children)}return n}(new Oe(n.segments,e))}function is(n){return n instanceof ts}function QR(n,e,t,i,r){if(0===t.length)return Zs(e.root,e.root,e.root,i,r);const s=function FC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new NC(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return cn(s.outlets,(u,h)=>{l[h]="string"==typeof u?u.split("/"):u}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?t=!0:".."===l?e++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new NC(t,e,i)}(t);return s.toRoot()?Zs(e.root,e.root,new Oe([],{}),i,r):function o(u){const h=function XR(n,e,t,i){if(n.isAbsolute)return new Qs(e.root,!0,0);if(-1===i)return new Qs(t,t===e.root,0);return function VC(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new H(4005,!1);r=i.segments.length}return new Qs(i,!1,r-s)}(t,i+(Ta(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,e,n.snapshot?._urlSegment,u),f=h.processChildren?Ia(h.segmentGroup,h.index,s.commands):pp(h.segmentGroup,h.index,s.commands);return Zs(e.root,h.segmentGroup,f,i,r)}(n.snapshot?._lastPathIndex)}function Ta(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Sa(n){return"object"==typeof n&&null!=n&&n.outlets}function Zs(n,e,t,i,r){let o,s={};i&&cn(i,(u,h)=>{s[h]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),o=n===e?t:LC(n,e,t);const l=hp(tc(o));return new ts(l,s,r)}function LC(n,e,t){const i={};return cn(n.children,(r,s)=>{i[s]=r===e?t:LC(r,e,t)}),new Oe(n.segments,i)}class NC{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Ta(i[0]))throw new H(4003,!1);const r=i.find(Sa);if(r&&r!==MC(i))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Qs{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function pp(n,e,t){if(n||(n=new Oe([],{})),0===n.segments.length&&n.hasChildren())return Ia(n,e,t);const i=function tL(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],l=t[i];if(Sa(l))break;const u=`${l}`,h=i<t.length-1?t[i+1]:null;if(r>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!HC(u,h,o))return s;i+=2}else{if(!HC(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Oe(n.segments.slice(0,i.pathIndex),{});return s.children[Pe]=new Oe(n.segments.slice(i.pathIndex),n.children),Ia(s,0,r)}return i.match&&0===r.length?new Oe(n.segments,{}):i.match&&!n.hasChildren()?gp(n,e,t):i.match?Ia(n,0,r):gp(n,e,t)}function Ia(n,e,t){if(0===t.length)return new Oe(n.segments,{});{const i=function eL(n){return Sa(n[0])?n[0].outlets:{[Pe]:n}}(t),r={};return cn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=pp(n.children[o],e,s))}),cn(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Oe(n.segments,r)}}function gp(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Sa(s)){const u=nL(s.outlets);return new Oe(i,u)}if(0===r&&Ta(t[0])){i.push(new Ea(n.segments[e].path,UC(t[0]))),r++;continue}const o=Sa(s)?s.outlets[Pe]:`${s}`,l=r<t.length-1?t[r+1]:null;o&&l&&Ta(l)?(i.push(new Ea(o,UC(l))),r+=2):(i.push(new Ea(o,{})),r++)}return new Oe(i,{})}function nL(n){const e={};return cn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=gp(new Oe([],{}),0,t))}),e}function UC(n){const e={};return cn(n,(t,i)=>e[i]=`${t}`),e}function HC(n,e,t){return n==t.path&&Vi(e,t.parameters)}class er{constructor(e,t){this.id=e,this.url=t}}class mp extends er{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class tr extends er{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nc extends er{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class BC extends er{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class iL extends er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rL extends er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sL extends er{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oL extends er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aL extends er{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lL{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class uL{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cL{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dL{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hL{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fL{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jC{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $C{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=yp(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=yp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vp(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return vp(e,this._root).map(t=>t.value)}}function yp(n,e){if(n===e.value)return e;for(const t of e.children){const i=yp(n,t);if(i)return i}return null}function vp(n,e){if(n===e.value)return[e];for(const t of e.children){const i=vp(n,t);if(i.length)return i.unshift(e),i}return[]}class nr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Js(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class GC extends $C{constructor(e,t){super(e),this.snapshot=t,bp(this,e)}toString(){return this.snapshot.toString()}}function zC(n,e){const t=function gL(n,e){const o=new ic([],{},{},"",{},Pe,e,null,n.root,-1,{});return new qC("",new nr(o,[]))}(n,e),i=new vn([new Ea("",{})]),r=new vn({}),s=new vn({}),o=new vn({}),l=new vn(""),u=new Sr(i,r,o,l,s,Pe,e,t.root);return u.snapshot=t.root,new GC(new nr(u,[]),t)}class Sr{constructor(e,t,i,r,s,o,l,u){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.pipe(U(h=>h[Da]))??ae(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(U(e=>Ys(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(e=>Ys(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function WC(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function mL(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class ic{constructor(e,t,i,r,s,o,l,u,h,f,g){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=f,this._resolve=g}get title(){return this.data?.[Da]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ys(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ys(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qC extends $C{constructor(e,t){super(t),this.url=e,bp(this,t)}toString(){return KC(this._root)}}function bp(n,e){e.value._routerState=n,e.children.forEach(t=>bp(n,t))}function KC(n){const e=n.children.length>0?` { ${n.children.map(KC).join(", ")} } `:"";return`${n.value}${e}`}function _p(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Vi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Vi(e.params,t.params)||n.params.next(t.params),function PR(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Vi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Vi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wp(n,e){const t=Vi(n.params,e.params)&&function NR(n,e){return ns(n,e)&&n.every((t,i)=>Vi(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wp(n.parent,e.parent))}function Aa(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function vL(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Aa(n,i,r);return Aa(n,i)})}(n,e,t);return new nr(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(l=>Aa(n,l)),o}}const i=function bL(n){return new Sr(new vn(n.url),new vn(n.params),new vn(n.queryParams),new vn(n.fragment),new vn(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Aa(n,s));return new nr(i,r)}}const Cp="ngNavigationCancelingError";function YC(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=is(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=ZC(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function ZC(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[Cp]=!0,i.cancellationCode=e,t&&(i.url=t),i}function QC(n){return JC(n)&&is(n.url)}function JC(n){return n&&n[Cp]}class _L{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ka,this.attachRef=null}}let ka=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new _L,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rc=!1;let sc=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Pe,this.activateEvents=new Be,this.deactivateEvents=new Be,this.attachEvents=new Be,this.detachEvents=new Be,this.parentContexts=Fe(ka),this.location=Fe(wi),this.changeDetector=Fe(Di),this.environmentInjector=Fe(Wi)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,rc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,rc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,rc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new H(4013,rc);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new wL(t,l,r.injector);if(i&&function CL(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(o);this.activated=r.createComponent(h,r.length,u)}else this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rn]}),n})();class wL{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Sr?this.route:e===ka?this.childContexts:this.parent.get(e,t)}}let Dp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wt({type:n,selectors:[["ng-component"]],standalone:!0,features:[r_],decls:1,vars:0,template:function(t,i){1&t&&p(0,"router-outlet")},dependencies:[sc],encapsulation:2}),n})();function XC(n,e){return n.providers&&!n._injector&&(n._injector=yu(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mp(n){const e=n.children&&n.children.map(Mp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pe&&(t.component=Dp),t}function ai(n){return n.outlet||Pe}function eD(n,e){const t=n.filter(i=>ai(i)===e);return t.push(...n.filter(i=>ai(i)!==e)),t}function xa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class SL{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),_p(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Js(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),cn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Js(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Js(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Js(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new fL(s.value.snapshot))}),e.children.length&&this.forwardEvent(new dL(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(_p(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),_p(l.route.value),this.activateChildRoutes(e,null,o.children)}else{const l=xa(r.snapshot),u=l?.get(Go)??null;o.attachRef=null,o.route=r,o.resolver=u,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class tD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class oc{constructor(e,t){this.component=e,this.route=t}}function IL(n,e,t){const i=n._root;return Pa(i,e?e._root:null,t,[i.value])}function Xs(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function X1(n){return null!==_l(n)}(n)?e.get(n):n:i}function Pa(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Js(e);return n.children.forEach(o=>{(function kL(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function xL(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ns(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ns(n.url,e.url)||!Vi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wp(n,e)||!Vi(n.queryParams,e.queryParams);default:return!wp(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new tD(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Pa(n,e,s.component?l?l.children:null:t,i,r),u&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new oc(l.outlet.component,o))}else o&&Oa(e,l,r),r.canActivateChecks.push(new tD(i)),Pa(n,null,s.component?l?l.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),cn(s,(o,l)=>Oa(o,t.getContext(l),r)),r}function Oa(n,e,t){const i=Js(n),r=n.value;cn(i,(s,o)=>{Oa(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new oc(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Ra(n){return"function"==typeof n}function Tp(n){return n instanceof zu||"EmptyError"===n?.name}const ac=Symbol("INITIAL_VALUE");function eo(){return Zn(n=>ap(n.map(e=>e.pipe(es(1),bC(ac)))).pipe(U(e=>{for(const t of e)if(!0!==t){if(t===ac)return ac;if(!1===t||t instanceof ts)return t}return!0}),In(e=>e!==ac),es(1)))}function nD(n){return function V(...n){return G(n)}(pt(e=>{if(is(e))throw YC(0,e)}),U(e=>!0===e))}const Sp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iD(n,e,t,i,r){const s=Ip(n,e,t);return s.matched?function KL(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?ae(r.map(o=>{const l=Xs(o,n);return Tr(function FL(n){return n&&Ra(n.canMatch)}(l)?l.canMatch(e,t):n.runInContext(()=>l(e,t)))})).pipe(eo(),nD()):ae(!0)}(i=XC(e,i),e,t).pipe(U(o=>!0===o?s:{...Sp})):ae(s)}function Ip(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Sp}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||xR)(t,n,e);if(!r)return{...Sp};const s={};cn(r.posParams,(l,u)=>{s[u]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function lc(n,e,t,i){if(t.length>0&&function QL(n,e,t){return t.some(i=>uc(n,e,i)&&ai(i)!==Pe)}(n,t,i)){const s=new Oe(e,function ZL(n,e,t,i){const r={};r[Pe]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&ai(s)!==Pe){const o=new Oe([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[ai(s)]=o}return r}(n,e,i,new Oe(t,n.children)));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===t.length&&function JL(n,e,t){return t.some(i=>uc(n,e,i))}(n,t,i)){const s=new Oe(n.segments,function YL(n,e,t,i,r){const s={};for(const o of i)if(uc(n,t,o)&&!r[ai(o)]){const l=new Oe([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[ai(o)]=l}return{...r,...s}}(n,e,t,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}const r=new Oe(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function uc(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rD(n,e,t,i){return!!(ai(n)===i||i!==Pe&&uc(e,t,n))&&("**"===n.path||Ip(e,n,t).matched)}function sD(n,e,t){return 0===e.length&&!n.children[t]}const cc=!1;class dc{constructor(e){this.segmentGroup=e||null}}class oD{constructor(e){this.urlTree=e}}function La(n){return Ti(new dc(n))}function aD(n){return Ti(new oD(n))}class nN{constructor(e,t,i,r,s){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const e=lc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Oe(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Pe).pipe(U(s=>this.createUrlTree(tc(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Mr(s=>{if(s instanceof oD)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof dc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Pe).pipe(U(r=>this.createUrlTree(tc(r),e.queryParams,e.fragment))).pipe(Mr(r=>{throw r instanceof dc?this.noMatchError(r):r}))}noMatchError(e){return new H(4002,cc)}createUrlTree(e,t,i){const r=hp(e);return new ts(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(U(s=>new Oe([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return re(r).pipe(Dr(s=>{const o=i.children[s],l=eD(t,s);return this.expandSegmentGroup(e,l,o,s).pipe(U(u=>({segment:u,outlet:s})))}),wC((s,o)=>(s[o.outlet]=o.segment,s),{}),CC())}expandSegment(e,t,i,r,s,o){return re(i).pipe(Dr(l=>this.expandSegmentAgainstRoute(e,t,i,l,r,s,o).pipe(Mr(h=>{if(h instanceof dc)return ae(null);throw h}))),Cr(l=>!!l),Mr((l,u)=>{if(Tp(l))return sD(t,r,s)?ae(new Oe([],{})):La(t);throw l}))}expandSegmentAgainstRoute(e,t,i,r,s,o,l){return rD(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):La(t):La(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?aD(s):this.lineralizeSegments(i,s).pipe(vt(o=>{const l=new Oe(o,{});return this.expandSegment(e,l,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:l,consumedSegments:u,remainingSegments:h,positionalParamSegments:f}=Ip(t,r,s);if(!l)return La(t);const g=this.applyRedirectCommands(u,r.redirectTo,f);return r.redirectTo.startsWith("/")?aD(g):this.lineralizeSegments(r,g).pipe(vt(m=>this.expandSegment(e,t,i,m.concat(h),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){return"**"===i.path?(e=XC(i,e),i.loadChildren?(i._loadedRoutes?ae({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe(U(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new Oe(r,{})))):ae(new Oe(r,{}))):iD(t,i,r,e).pipe(Zn(({matched:o,consumedSegments:l,remainingSegments:u})=>o?this.getChildConfig(e=i._injector??e,i,r).pipe(vt(f=>{const g=f.injector??e,m=f.routes,{segmentGroup:y,slicedSegments:v}=lc(t,l,u,m),M=new Oe(y.segments,y.children);if(0===v.length&&M.hasChildren())return this.expandChildren(g,m,M).pipe(U(k=>new Oe(l,k)));if(0===m.length&&0===v.length)return ae(new Oe(l,{}));const C=ai(i)===s;return this.expandSegment(g,M,m,v,C?Pe:s,!0).pipe(U(q=>new Oe(l.concat(q.segments),q.children)))})):La(t)))}getChildConfig(e,t,i){return t.children?ae({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ae({routes:t._loadedRoutes,injector:t._loadedInjector}):function qL(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?ae(!0):ae(r.map(o=>{const l=Xs(o,n);return Tr(function OL(n){return n&&Ra(n.canLoad)}(l)?l.canLoad(e,t):n.runInContext(()=>l(e,t)))})).pipe(eo(),nD())}(e,t,i).pipe(vt(r=>r?this.configLoader.loadChildren(e,t).pipe(pt(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function eN(n){return Ti(ZC(cc,3))}())):ae({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ae(i);if(r.numberOfChildren>1||!r.children[Pe])return Ti(new H(4e3,cc));r=r.children[Pe]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new ts(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return cn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=t[l]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return cn(t.children,(l,u)=>{o[u]=this.createSegmentGroup(e,l,i,r)}),new Oe(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new H(4001,cc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class rN{}class aN{constructor(e,t,i,r,s,o,l){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l}recognize(){const e=lc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Pe).pipe(U(t=>{if(null===t)return null;const i=new ic([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pe,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new nr(i,t),s=new qC(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const t=e.value,i=WC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return re(Object.keys(i.children)).pipe(Dr(r=>{const s=i.children[r],o=eD(t,r);return this.processSegmentGroup(e,o,s,r)}),wC((r,s)=>r&&s?(r.push(...s),r):null),function CR(n,e=!1){return t=>t.lift(new DR(n,e))}(r=>null!==r),Ku(null),CC(),U(r=>{if(null===r)return null;const s=uD(r);return function lN(n){n.sort((e,t)=>e.value.outlet===Pe?-1:t.value.outlet===Pe?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(e,t,i,r,s){return re(t).pipe(Dr(o=>this.processSegmentAgainstRoute(o._injector??e,o,i,r,s)),Cr(o=>!!o),Mr(o=>{if(Tp(o))return sD(i,r,s)?ae([]):ae(null);throw o}))}processSegmentAgainstRoute(e,t,i,r,s){if(t.redirectTo||!rD(t,i,r,s))return ae(null);let o;if("**"===t.path){const l=r.length>0?MC(r).parameters:{},u=dD(i)+r.length;o=ae({snapshot:new ic(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hD(t),ai(t),t.component??t._loadedComponent??null,t,cD(i),u,fD(t)),consumedSegments:[],remainingSegments:[]})}else o=iD(i,t,r,e).pipe(U(({matched:l,consumedSegments:u,remainingSegments:h,parameters:f})=>{if(!l)return null;const g=dD(i)+u.length;return{snapshot:new ic(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,hD(t),ai(t),t.component??t._loadedComponent??null,t,cD(i),g,fD(t)),consumedSegments:u,remainingSegments:h}}));return o.pipe(Zn(l=>{if(null===l)return ae(null);const{snapshot:u,consumedSegments:h,remainingSegments:f}=l;e=t._injector??e;const g=t._loadedInjector??e,m=function uN(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:y,slicedSegments:v}=lc(i,h,f,m.filter(C=>void 0===C.redirectTo));if(0===v.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(U(C=>null===C?null:[new nr(u,C)]));if(0===m.length&&0===v.length)return ae([new nr(u,[])]);const M=ai(t)===s;return this.processSegment(g,m,y,v,M?Pe:s).pipe(U(C=>null===C?null:[new nr(u,C)]))}))}}function cN(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function uD(n){const e=[],t=new Set;for(const i of n){if(!cN(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=uD(i.children);e.push(new nr(i.value,r))}return e.filter(i=>!t.has(i))}function cD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function dD(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function hD(n){return n.data||{}}function fD(n){return n.resolve||{}}function pD(n){return"string"==typeof n.title||null===n.title}function Ap(n){return Zn(e=>{const t=n(e);return t?re(t).pipe(U(()=>e)):ae(e)})}class vN{constructor(e){this.router=e,this.currentNavigation=null}setupNavigations(e){const t=this.router.events;return e.pipe(In(i=>0!==i.id),U(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),Zn(i=>{let r=!1,s=!1;return ae(i).pipe(pt(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),Zn(o=>{const l=this.router.browserUrlTree.toString(),u=!this.router.navigated||o.extractedUrl.toString()!==l||l!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||u)&&this.router.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return mD(o.source)&&(this.router.browserUrlTree=o.extractedUrl),ae(o).pipe(Zn(f=>{const g=this.router.transitions.getValue();return t.next(new mp(f.id,this.router.serializeUrl(f.extractedUrl),f.source,f.restoredState)),g!==this.router.transitions.getValue()?wr:Promise.resolve(f)}),function iN(n,e,t,i){return Zn(r=>function tN(n,e,t,i,r){return new nN(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(U(s=>({...r,urlAfterRedirects:s}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),pt(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},i.urlAfterRedirects=f.urlAfterRedirects}),function hN(n,e,t,i,r){return vt(s=>function oN(n,e,t,i,r,s,o="emptyOnly"){return new aN(n,e,t,i,r,o,s).recognize().pipe(Zn(l=>null===l?function sN(n){return new j(e=>e.error(n))}(new rN):ae(l)))}(n,e,t,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(U(o=>({...s,targetSnapshot:o}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),pt(f=>{if(i.targetSnapshot=f.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!f.extras.skipLocationChange){const m=this.router.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.router.setBrowserUrl(m,f)}this.router.browserUrlTree=f.urlAfterRedirects}const g=new iL(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);t.next(g)}));if(u&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:g,extractedUrl:m,source:y,restoredState:v,extras:M}=o,C=new mp(g,this.router.serializeUrl(m),y,v);t.next(C);const F=zC(m,this.router.rootComponentType).snapshot;return ae(i={...o,targetSnapshot:F,urlAfterRedirects:m,extras:{...M,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=o.rawUrl,o.resolve(null),wr}),pt(o=>{const l=new rL(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.router.triggerEvent(l)}),U(o=>i={...o,guards:IL(o.targetSnapshot,o.currentSnapshot,this.router.rootContexts)}),function UL(n,e){return vt(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?ae({...t,guardsResult:!0}):function HL(n,e,t,i){return re(n).pipe(vt(r=>function WL(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?ae(s.map(l=>{const u=xa(e)??r,h=Xs(l,u);return Tr(function NL(n){return n&&Ra(n.canDeactivate)}(h)?h.canDeactivate(n,e,t,i):u.runInContext(()=>h(n,e,t,i))).pipe(Cr())})).pipe(eo()):ae(!0)}(r.component,r.route,t,e,i)),Cr(r=>!0!==r,!0))}(o,i,r,n).pipe(vt(l=>l&&function PL(n){return"boolean"==typeof n}(l)?function BL(n,e,t,i){return re(e).pipe(Dr(r=>Wu(function $L(n,e){return null!==n&&e&&e(new cL(n)),ae(!0)}(r.route.parent,i),function jL(n,e){return null!==n&&e&&e(new hL(n)),ae(!0)}(r.route,i),function zL(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function AL(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>yC(()=>ae(o.guards.map(u=>{const h=xa(o.node)??t,f=Xs(u,h);return Tr(function LL(n){return n&&Ra(n.canActivateChild)}(f)?f.canActivateChild(i,n):h.runInContext(()=>f(i,n))).pipe(Cr())})).pipe(eo())));return ae(s).pipe(eo())}(n,r.path,t),function GL(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return ae(!0);const r=i.map(s=>yC(()=>{const o=xa(e)??t,l=Xs(s,o);return Tr(function RL(n){return n&&Ra(n.canActivate)}(l)?l.canActivate(e,n):o.runInContext(()=>l(e,n))).pipe(Cr())}));return ae(r).pipe(eo())}(n,r.route,t))),Cr(r=>!0!==r,!0))}(i,s,n,e):ae(l)),U(l=>({...t,guardsResult:l})))})}(this.router.ngModule.injector,o=>this.router.triggerEvent(o)),pt(o=>{if(i.guardsResult=o.guardsResult,is(o.guardsResult))throw YC(0,o.guardsResult);const l=new sL(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.router.triggerEvent(l)}),In(o=>!!o.guardsResult||(this.router.restoreHistory(o),this.router.cancelNavigationTransition(o,"",3),!1)),Ap(o=>{if(o.guards.canActivateChecks.length)return ae(o).pipe(pt(l=>{const u=new oL(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(u)}),Zn(l=>{let u=!1;return ae(l).pipe(function fN(n,e){return vt(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return ae(t);let s=0;return re(r).pipe(Dr(o=>function pN(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!pD(r)&&(s[Da]=r.title),function gN(n,e,t,i){const r=function mN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ae({});const s={};return re(r).pipe(vt(o=>function yN(n,e,t,i){const r=xa(e)??i,s=Xs(n,r);return Tr(s.resolve?s.resolve(e,t):r.runInContext(()=>s(e,t)))}(n[o],e,t,i).pipe(Cr(),pt(l=>{s[o]=l}))),lp(1),function MR(n){return e=>e.lift(new TR(n))}(s),Mr(o=>Tp(o)?wr:Ti(o)))}(s,n,e,i).pipe(U(o=>(n._resolvedData=o,n.data=WC(n,t).resolve,r&&pD(r)&&(n.data[Da]=r.title),null)))}(o.route,i,n,e)),pt(()=>s++),lp(1),vt(o=>s===r.length?ae(t):wr))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),pt({next:()=>u=!0,complete:()=>{u||(this.router.restoreHistory(l),this.router.cancelNavigationTransition(l,"",2))}}))}),pt(l=>{const u=new aL(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(u)}))}),Ap(o=>{const l=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.router.configLoader.loadComponent(u.routeConfig).pipe(pt(f=>{u.component=f}),U(()=>{})));for(const f of u.children)h.push(...l(f));return h};return ap(l(o.targetSnapshot.root)).pipe(Ku(),es(1))}),Ap(()=>this.router.afterPreactivation()),U(o=>{const l=function yL(n,e,t){const i=Aa(n,e._root,t?t._root:void 0);return new GC(i,e)}(this.router.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:l}}),pt(o=>{this.router.currentUrlTree=o.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.router.routerState=o.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(o.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,o),this.router.browserUrlTree=o.urlAfterRedirects)}),((n,e,t)=>U(i=>(new SL(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.router.rootContexts,this.router.routeReuseStrategy,o=>this.router.triggerEvent(o)),pt({next(){r=!0},complete(){r=!0}}),up(()=>{r||s||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Mr(o=>{if(s=!0,JC(o)){QC(o)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const l=new nc(i.id,this.router.serializeUrl(i.extractedUrl),o.message,o.cancellationCode);if(t.next(l),QC(o)){const u=this.router.urlHandlingStrategy.merge(o.url,this.router.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||mD(i.source)};this.router.scheduleNavigation(u,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const l=new BC(i.id,this.router.serializeUrl(i.extractedUrl),o,i.targetSnapshot??void 0);t.next(l);try{i.resolve(this.router.errorHandler(o))}catch(u){i.reject(u)}}return wr}))}))}}function mD(n){return"imperative"!==n}let yD=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Pe);return i}getResolvedTitleForRoute(t){return t.data[Da]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(){return Fe(bN)},providedIn:"root"}),n})(),bN=(()=>{class n extends yD{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(R(dC))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(){return Fe(CN)},providedIn:"root"}),n})();class wN{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let CN=(()=>{class n extends wN{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=it(n)))(i||n)}}(),n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hc=new W("",{providedIn:"root",factory:()=>({})}),to=new W("ROUTES");let kp=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ae(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Tr(t.loadComponent()).pipe(U(bD),pt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),up(()=>{this.componentLoaders.delete(t)})),r=new ar(i,()=>new $).pipe(Pn());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(U(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,h,f=!1;Array.isArray(l)?h=l:(u=l.create(t).injector,h=EC(u.get(to,[],pe.Self|pe.Optional)));return{routes:h.map(Mp),injector:u}}),up(()=>{this.childrenLoaders.delete(i)})),o=new ar(s,()=>new $).pipe(Pn());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(t){return Tr(t()).pipe(U(bD),vt(r=>r instanceof n_||Array.isArray(r)?ae(r):re(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(R(qn),R(Cf))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function bD(n){return function MN(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let TN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:function(){return Fe(SN)},providedIn:"root"}),n})(),SN=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function IN(n){throw n}function AN(n,e,t){return e.parse("/")}const kN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function wD(){const n=Fe(xC),e=Fe(ka),t=Fe(ga),i=Fe(qn),r=Fe(Cf),s=Fe(to,{optional:!0})??[],o=Fe(hc,{optional:!0})??{},l=new sn(null,n,e,t,i,r,EC(s));return function PN(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),l}let sn=(()=>{class n{constructor(t,i,r,s,o,l,u){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $,this.errorHandler=IN,this.malformedUriErrorHandler=AN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ae(void 0),this.urlHandlingStrategy=Fe(TN),this.routeReuseStrategy=Fe(_N),this.titleStrategy=Fe(yD),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new vN(this),this.configLoader=o.get(kp),this.configLoader.onLoadEndListener=m=>this.triggerEvent(new uL(m)),this.configLoader.onLoadStartListener=m=>this.triggerEvent(new lL(m)),this.ngModule=o.get(Jr),this.console=o.get(Vx);const g=o.get(ot);this.isNgZoneEnabled=g instanceof ot&&ot.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ts,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zC(this.currentUrlTree,this.rootComponentType),this.transitions=new vn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(t.state){const l={...t.state};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Mp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:u}=i,h=r||this.routerState.root,f=u?this.currentUrlTree.fragment:o;let g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),QR(h,this.currentUrlTree,t,g,f??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=is(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function ON(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new H(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...kN}:!1===i?{...xN}:i,is(t))return SC(this.currentUrlTree,t,r);const s=this.parseUrl(t);return SC(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new tr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,u,h;o?(l=o.resolve,u=o.reject,h=o.promise):h=new Promise((m,y)=>{l=m,u=y});const f=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),g=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):g=0,this.setTransition({id:f,targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const s=new nc(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){wh()},n.\u0275prov=Y({token:n,factory:function(){return wD()},providedIn:"root"}),n})(),fc=(()=>{class n{constructor(t,i,r,s,o,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new $;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof tr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=Ks(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=Ks(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=Ks(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function _y(n,e,t){return function NT(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?by:fr}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,t,i):r.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(D(sn),D(Sr),function xo(n){return function iM(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(lm(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(un(),n)}("tabindex"),D(Nn),D(kt),D(br))},n.\u0275dir=ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&Ze("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&mn("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Rn]}),n})(),CD=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Be,this.routerEventsSubscription=t.events.subscribe(l=>{l instanceof tr&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(_n()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=re(t).pipe(_n()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){const i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const i=function RN(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&t.isActive(r.urlTree,i)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(D(sn),D(kt),D(Nn),D(Di),D(fc,8))},n.\u0275dir=ue({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,i,r){if(1&t&&bu(r,fc,5),2&t){let s;dt(s=ht())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rn]}),n})();class DD{}let LN=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof tr),Dr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=yu(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return re(r).pipe(_n())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):ae(null);const s=r.pipe(vt(o=>null===o?ae(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?re([s,this.loader.loadComponent(i)]).pipe(_n()):s})}}return n.\u0275fac=function(t){return new(t||n)(R(sn),R(Cf),R(Wi),R(DD),R(kp))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xp=new W("");let ED=(()=>{class n{constructor(t,i,r,s={}){this.router=t,this.viewportScroller=i,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof tr&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new jC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){wh()},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();function io(n,e){return{\u0275kind:n,\u0275providers:e}}function TD(){const n=Fe(qn);return e=>{const t=n.get(Mu);if(e!==t.components[0])return;const i=n.get(sn),r=n.get(SD);1===n.get(Op)&&i.initialNavigation(),n.get(ID,null,pe.Optional)?.setUpPreloading(),n.get(xp,null,pe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const SD=new W("",{factory:()=>new $}),Op=new W("",{providedIn:"root",factory:()=>1});const ID=new W("");function HN(n){return io(0,[{provide:ID,useExisting:LN},{provide:DD,useExisting:n}])}const AD=new W("ROUTER_FORROOT_GUARD"),BN=[ga,{provide:xC,useClass:cp},{provide:sn,useFactory:wD},ka,{provide:Sr,useFactory:function MD(n){return n.routerState.root},deps:[sn]},kp,[]];function jN(){return new X_("Router",sn)}let kD=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[BN,[],{provide:to,multi:!0,useValue:t},{provide:AD,useFactory:WN,deps:[[sn,new Lo,new No]]},{provide:hc,useValue:i||{}},i?.useHash?{provide:br,useClass:MP}:{provide:br,useClass:Ff},{provide:xp,useFactory:()=>{const n=Fe(sn),e=Fe(j2),t=Fe(ot),i=Fe(hc);return i.scrollOffset&&e.setOffset(i.scrollOffset),new ED(n,e,t,i)}},i?.preloadingStrategy?HN(i.preloadingStrategy).\u0275providers:[],{provide:X_,multi:!0,useFactory:jN},i?.initialNavigation?qN(i):[],[{provide:xD,useFactory:TD},{provide:W_,multi:!0,useExisting:xD}]]}}static forChild(t){return{ngModule:n,providers:[{provide:to,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(R(AD,8))},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[Dp]}),n})();function WN(n){return"guarded"}function qN(n){return["disabled"===n.initialNavigation?io(3,[{provide:Cu,multi:!0,useFactory:()=>{const e=Fe(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Op,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?io(2,[{provide:Op,useValue:0},{provide:Cu,multi:!0,deps:[qn],useFactory:e=>{const t=e.get(DP,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(sn),o=e.get(SD);(function i(r){e.get(sn).events.pipe(In(o=>o instanceof tr||o instanceof nc||o instanceof BC),U(o=>o instanceof tr||o instanceof nc&&(0===o.code||1===o.code)&&null),In(o=>null!==o),es(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),o.closed?ae(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const xD=new W("");class pc{static#e=this.\u0275fac=function(t){return new(t||pc)};static#t=this.\u0275cmp=wt({type:pc,selectors:[["app-home"]],decls:63,vars:0,consts:[[1,"list","inline"],["href","/music"],["href","/blog"],["href","https://github.com/EgillAntonsson"],["href","/lifting"],["href","https://www.resolutiongames.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson",1,"image"],["href","https://rawfury.com"],["href","/music/pesi-year-1974"]],template:function(t,i){1&t&&(c(0,"h1"),a(1,"Egill Antonsson"),d(),c(2,"h2"),a(3,"Software developer, music artist, weightlifter, earthling, stardust"),d(),c(4,"p"),a(5,"\nWelcome to my website, where I share my passions:"),p(6,"br"),d(),c(7,"ul",0)(8,"li")(9,"a",1),a(10,"Music"),d()(),c(11,"li")(12,"a",2),a(13,"Blogging"),d(),a(14," about software development,"),p(15,"br"),a(16," my code projects are on "),c(17,"a",3),a(18,"GitHub"),d()(),c(19,"li")(20,"a",4),a(21,"Weight Lifting"),d()()(),c(22,"p"),a(23,"\nMy profession is Software Development, and I work as a Sound Programmer at "),c(24,"a",5),a(25,"Resolution Games"),d(),p(26,"br"),a(27,"\nMy "),c(28,"a",6),a(29,"LinkedIn profile"),d(),a(30," sums up my work experience.\n"),d(),c(31,"h2"),a(32,"Background & Family"),d(),c(33,"figure"),p(34,"img",7),c(35,"figcaption"),a(36,"\nThe Family, from left to right:"),p(37,"br"),a(38,"\nEgill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson\n"),d()(),c(39,"p"),a(40,"\nI was born in 1982 and raised in Reykjavik, Iceland."),p(41,"br"),a(42,"\nSince 2014 I live in Stockholm (Sweden) with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."),p(43,"br"),a(44,"\nI'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."),p(45,"br"),d(),c(46,"p"),a(47,"\nI'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir."),p(48,"br"),a(49,"\nMy brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's (un)publishing games at "),c(50,"a",8),a(51,"Raw Fury"),d(),a(52,"."),p(53,"br")(54,"br"),a(55,"\nOur two older brothers and namesakes passed away before I was born."),p(56,"br"),a(57,"\nThey played music and painted pictures and according to family and friends were brilliant boys."),p(58,"br"),a(59,"\nI digitalized their music that they recorded on a cassette in the early 1970s and you can listen to "),c(60,"a",9),a(61,"here"),d(),a(62,".\n"),d())},encapsulation:2})}class ro{constructor(){const e="TDD-ing Avatar Health in Unity (C# .NET)";this.series=[{title:e,posts:[new Ir("Part 1 - TDD: What, Why, When ?","tdd-health/part1",e,new Date(2021,11,30),new Date(2022,4,14)),new Ir("Part 2 - The assignment: The Avatar Health","tdd-health/part2",e,new Date(2021,11,30),new Date(2022,4,14)),new Ir("Part 3 - The implementation begins","tdd-health/part3",e,new Date(2021,11,30),new Date(2022,4,14)),new Ir("Part 4 - Taking Damage","tdd-health/part4",e,new Date(2022,0,4),new Date(2022,4,14)),new Ir("Part 5 - The Dying part","tdd-health/part5",e,new Date(2022,1,1),new Date(2022,4,14)),new Ir("Part 6 - The Replenishing part","tdd-health/part6",e,new Date(2022,4,9),new Date(2022,4,14)),new Ir("Part 7 - The Increasing and Max part","tdd-health/part7",e,new Date(2022,4,14),new Date(2022,7,16)),new Ir("Part 8 - Adding the Config","tdd-health/part8",e,new Date(2022,7,16))]}],this.selectedPost=this.series[0].posts[0],this.posts=[];for(let t=0;t<this.series.length;t++)for(let i=0;i<this.series[t].posts.length;i++){const r=this.series[t].posts[i];r.index=i,this.posts.push(r)}}getPostWith(e){let t=null;return this.posts.filter(i=>{i.routePath===e&&(t=i)}),t}static#e=this.\u0275fac=function(t){return new(t||ro)};static#t=this.\u0275prov=Y({token:ro,factory:ro.\u0275fac,providedIn:"root"})}class Ir{constructor(e,t,i,r,s){this.title=e,this.routePath=t,this.seriesTitle=i,this.publishedDate=r,this.updatedDate=s}}const PD=function(n){return{nodeSelected:n}};function YN(n,e){if(1&n){const t=mr();c(0,"div",9),Ze("click",function(){const s=cr(t).$implicit;return dr(Me(3).onPostClick(s))}),a(1),d()}if(2&n){const t=e.$implicit,i=Me(3);T("ngClass",yr(2,PD,t===i.selectedPost)),b(1),$e(" ",t.title," ")}}function ZN(n,e){if(1&n&&(c(0,"div",7),Ee(1,YN,2,4,"div",8),d()),2&n){const t=Me().$implicit;b(1),T("ngForOf",t.posts)}}const OD=function(n,e){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:e}};function QN(n,e){if(1&n){const t=mr();c(0,"div")(1,"div",3),Ze("click",function(){const s=cr(t).index;return dr(Me().onSeriesClick(s))}),c(2,"div",4),p(3,"div",5),d(),c(4,"span"),a(5),d()(),Ee(6,ZN,2,1,"div",6),d()}if(2&n){const t=e.$implicit,i=e.index,r=Me();b(3),T("ngClass",aa(3,OD,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),b(2),Qe(t.title),b(1),T("ngIf",r.openedUiSeriesIndex===i)}}function JN(n,e){if(1&n){const t=mr();c(0,"div",9),Ze("click",function(){const s=cr(t).$implicit;return dr(Me(3).onPostClick(s))}),a(1),d()}if(2&n){const t=e.$implicit,i=Me(3);T("ngClass",yr(2,PD,t===i.selectedPost)),b(1),$e(" ",t.title," ")}}function XN(n,e){if(1&n&&(c(0,"div",7),Ee(1,JN,2,4,"div",8),d()),2&n){const t=Me().$implicit;b(1),T("ngForOf",t.posts)}}function eF(n,e){if(1&n){const t=mr();c(0,"div")(1,"div",3),Ze("click",function(){const s=cr(t).index;return dr(Me().onSeriesClick(s))}),c(2,"div",4),p(3,"div",5),d(),c(4,"span"),a(5),d()(),Ee(6,XN,2,1,"div",6),d()}if(2&n){const t=e.$implicit,i=e.index,r=Me();b(3),T("ngClass",aa(3,OD,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),b(2),Qe(t.title),b(1),T("ngIf",r.openedUiSeriesIndex===i)}}class gc{constructor(e,t,i){this.blogService=e,this.router=t,this.route=i,this.openedUiSeriesIndex=0,this.selectedSeriesIndex=0,this.router.events.pipe(In(r=>r instanceof tr)).subscribe(r=>{const s=r.urlAfterRedirects;if("/blog"===s)this.blogService.selectedPost=this.blogService.posts[0],this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route});else{const o=s.substring(s.length-1,s.length);this.blogService.selectedPost=this.blogService.posts[parseInt(o,10)-1]}})}get blogSeries(){return this.blogService.series}get selectedPost(){return this.blogService.selectedPost}onSeriesClick(e){this.openedUiSeriesIndex=e}onPostClick(e){this.selectedSeriesIndex=this.openedUiSeriesIndex,this.blogService.selectedPost=e,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),window.scroll(0,0)}static#e=this.\u0275fac=function(t){return new(t||gc)(D(ro),D(sn),D(Sr))};static#t=this.\u0275cmp=wt({type:gc,selectors:[["app-blog"]],decls:6,vars:2,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"treeContainer"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(t,i){1&t&&(c(0,"div",0),Ee(1,QN,7,6,"div",1),d(),p(2,"router-outlet")(3,"br"),c(4,"div",2),Ee(5,eF,7,6,"div",1),d()),2&t&&(b(1),T("ngForOf",i.blogSeries),b(4),T("ngForOf",i.blogSeries))},dependencies:[sc,va,ba,yn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function mc(n,e){return new j(t=>{const i=n.length;if(0===i)return void t.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const u=re(n[l]);let h=!1;t.add(u.subscribe({next:f=>{h||(h=!0,o++),r[l]=f},error:f=>t.error(f),complete:()=>{s++,(s===i||!h)&&(o===i&&t.next(e?e.reduce((f,g,m)=>(f[g]=r[m],f),{}):r),t.complete())}}))}})}let RD=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(D(Nn),D(kt))},n.\u0275dir=ue({type:n}),n})(),rs=(()=>{class n extends RD{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=it(n)))(i||n)}}(),n.\u0275dir=ue({type:n,features:[ke]}),n})();const li=new W("NgValueAccessor"),iF={provide:li,useExisting:et(()=>Fa),multi:!0},sF=new W("CompositionEventMode");let Fa=(()=>{class n extends RD{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function rF(){const n=Fi()?Fi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Nn),D(kt),D(sF,8))},n.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&Ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[st([iF]),ke]}),n})();function Ar(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ND(n){return null!=n&&"number"==typeof n.length}const bn=new W("NgValidators"),kr=new W("NgAsyncValidators"),aF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xr{static min(e){return function FD(n){return e=>{if(Ar(e.value)||Ar(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function VD(n){return e=>{if(Ar(e.value)||Ar(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function UD(n){return Ar(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function HD(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function BD(n){return Ar(n.value)||aF.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function jD(n){return e=>Ar(e.value)||!ND(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return $D(e)}static pattern(e){return function GD(n){if(!n)return yc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Ar(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return ZD(e)}static composeAsync(e){return QD(e)}}function $D(n){return e=>ND(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function yc(n){return null}function zD(n){return null!=n}function WD(n){return Jo(n)?re(n):n}function qD(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function KD(n,e){return e.map(t=>t(n))}function YD(n){return n.map(e=>function lF(n){return!n.validate}(e)?e:t=>e.validate(t))}function ZD(n){if(!n)return null;const e=n.filter(zD);return 0==e.length?null:function(t){return qD(KD(t,e))}}function Rp(n){return null!=n?ZD(YD(n)):null}function QD(n){if(!n)return null;const e=n.filter(zD);return 0==e.length?null:function(t){return function tF(...n){if(1===n.length){const e=n[0];if(Ve(e))return mc(e,null);if(Pt(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return mc(t.map(i=>e[i]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return mc(n=1===n.length&&Ve(n[0])?n[0]:n,null).pipe(U(t=>e(...t)))}return mc(n,null)}(KD(t,e).map(WD)).pipe(U(qD))}}function Lp(n){return null!=n?QD(YD(n)):null}function JD(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function XD(n){return n._rawValidators}function e0(n){return n._rawAsyncValidators}function Np(n){return n?Array.isArray(n)?n:[n]:[]}function vc(n,e){return Array.isArray(n)?n.includes(e):n===e}function t0(n,e){const t=Np(e);return Np(n).forEach(r=>{vc(t,r)||t.push(r)}),t}function n0(n,e){return Np(e).filter(t=>!vc(n,t))}class r0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Rp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Lp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class An extends r0{get formDirective(){return null}get path(){return null}}class Pr extends r0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class s0{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Fp=(()=>{class n extends s0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Pr,2))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&Yn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ke]}),n})(),Vp=(()=>{class n extends s0{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(An,10))},n.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&Yn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ke]}),n})();const Va="VALID",_c="INVALID",so="PENDING",Ua="DISABLED";function jp(n){return(wc(n)?n.validators:n)||null}function $p(n,e){return(wc(e)?e.asyncValidators:n)||null}function wc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function a0(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new H(1e3,"");if(!i[t])throw new H(1001,"")}function l0(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new H(1002,"")})}class Cc{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Va}get invalid(){return this.status===_c}get pending(){return this.status==so}get disabled(){return this.status===Ua}get enabled(){return this.status!==Ua}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(t0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(t0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(n0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(n0(e,this._rawAsyncValidators))}hasValidator(e){return vc(this._rawValidators,e)}hasAsyncValidator(e){return vc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=so,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ua,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Va,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===so)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ua:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=so,this._hasOwnPendingAsyncValidator=!0;const t=WD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Be,this.statusChanges=new Be}_calculateStatus(){return this._allControlsDisabled()?Ua:this.errors?_c:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(so)?so:this._anyControlsHaveStatus(_c)?_c:Va}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function gF(n){return Array.isArray(n)?Rp(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function mF(n){return Array.isArray(n)?Lp(n):n||null}(this._rawAsyncValidators)}}class Ha extends Cc{constructor(e,t,i){super(jp(t),$p(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){l0(this,0,e),Object.keys(e).forEach(i=>{a0(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,s)=>{i=t(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class u0 extends Ha{}const Ba=new W("CallSetDisabledState",{providedIn:"root",factory:()=>Gp}),Gp="always";function ja(n,e,t=Gp){zp(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function vF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&c0(n,e)})}(n,e),function _F(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function bF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&c0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function yF(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ec(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Tc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Mc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zp(n,e){const t=XD(n);null!==e.validator?n.setValidators(JD(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=e0(n);null!==e.asyncValidator?n.setAsyncValidators(JD(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Mc(e._rawValidators,r),Mc(e._rawAsyncValidators,r)}function Tc(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=XD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.validator);s.length!==r.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const r=e0(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(t=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Mc(e._rawValidators,i),Mc(e._rawAsyncValidators,i),t}function c0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function f0(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function p0(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ga=class extends Cc{constructor(e=null,t,i){super(jp(t),$p(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=p0(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){f0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){f0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){p0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const AF={provide:li,useExisting:et(()=>Qp),multi:!0};let Qp=(()=>{class n extends rs{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=i=>{t(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=it(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,i){1&t&&Ze("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[st([AF]),ke]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({}),n})();const Jp=new W("NgModelWithFormControlWarning"),RF={provide:An,useExisting:et(()=>za)};let za=(()=>{class n extends An{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Be,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return ja(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){Ec(t.control||null,t,!1),function EF(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,function h0(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(Ec(i||null,t),(n=>n instanceof Ga)(r)&&(ja(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);(function d0(n,e){zp(n,e)})(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function wF(n,e){return Tc(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zp(this.form,this),this._oldForm&&Tc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(D(bn,10),D(kr,10),D(Ba,8))},n.\u0275dir=ue({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&Ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[st([RF]),ke,Rn]}),n})();const FF={provide:Pr,useExisting:et(()=>Sc)};let Sc=(()=>{class n extends Pr{constructor(t,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Be,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Kp(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===Fa?t=s:function DF(n){return Object.getPrototypeOf(n.constructor)===rs}(s)?i=s:r=s}),r||i||t||null}(0,s)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function qp(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function Dc(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(D(An,13),D(bn,10),D(kr,10),D(li,10),D(Jp,8))},n.\u0275dir=ue({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[st([FF]),ke,Rn]}),n})();let ss=(()=>{class n{constructor(){this._validator=yc}ngOnChanges(t){if(this.inputName in t){const i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):yc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=ue({type:n,features:[Rn]}),n})();const ZF={provide:bn,useExisting:et(()=>Ic),multi:!0};let Ic=(()=>{class n extends ss{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function T0(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>$D(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=it(n)))(i||n)}}(),n.\u0275dir=ue({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,i){2&t&&mn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[st([ZF]),ke]}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[b0]}),n})(),rg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Jp,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ba,useValue:t.callSetDisabledState??Gp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[JF]}),n})();class R0 extends Cc{constructor(e,t,i){super(jp(t),$p(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){l0(this,0,e),e.forEach((i,r)=>{a0(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function L0(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let XF=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let s={};return L0(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Ha(r,s)}record(t,i=null){const r=this._reduceControls(t);return new u0(r,i)}control(t,i,r){let s={};return this.useNonNullable?(L0(i)?s=i:(s.validators=i,s.asyncValidators=r),new Ga(t,{...s,nonNullable:!0})):new Ga(t,i,r)}array(t,i,r){const s=t.map(o=>this._createControl(o));return new R0(s,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Ga||t instanceof Cc?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:rg}),n})(),N0=(()=>{class n extends XF{group(t,i=null){return super.group(t,i)}control(t,i,r){return super.control(t,i,r)}array(t,i,r){return super.array(t,i,r)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=it(n)))(i||n)}}(),n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:rg}),n})();var eV=Re(3028);class Ac{}class sg{}class ir{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),s=r.toLowerCase(),o=t.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ir?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ir;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ir?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class tV{encodeKey(e){return F0(e)}encodeValue(e){return F0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const iV=/%(\d[a-f0-9])/gi,rV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function F0(n){return encodeURIComponent(n).replace(iV,(e,t)=>rV[t]??e)}function kc(n){return`${n}`}class rr{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new tV,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function nV(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],u=t.get(o)||[];u.push(l),t.set(o,u)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(kc):[kc(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{t.push({param:i,value:s,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new rr({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(kc(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(kc(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class sV{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function V0(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function U0(n){return typeof Blob<"u"&&n instanceof Blob}function H0(n){return typeof FormData<"u"&&n instanceof FormData}class Wa{constructor(e,t,i,r){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function oV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ir),this.context||(this.context=new sV),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new rr,this.urlWithParams=t}serializeBody(){return null===this.body?null:V0(this.body)||U0(this.body)||H0(this.body)||function aV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof rr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||H0(this.body)?null:U0(this.body)?this.body.type||null:V0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,l=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let u=e.headers||this.headers,h=e.params||this.params;const f=e.context??this.context;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((g,m)=>g.set(m,e.setHeaders[m]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,m)=>g.set(m,e.setParams[m]),h)),new Wa(t,i,s,{params:h,headers:u,context:f,reportProgress:l,responseType:r,withCredentials:o})}}var Gt=(()=>((Gt=Gt||{})[Gt.Sent=0]="Sent",Gt[Gt.UploadProgress=1]="UploadProgress",Gt[Gt.ResponseHeader=2]="ResponseHeader",Gt[Gt.DownloadProgress=3]="DownloadProgress",Gt[Gt.Response=4]="Response",Gt[Gt.User=5]="User",Gt))();class og{constructor(e,t=200,i="OK"){this.headers=e.headers||new ir,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ag extends og{constructor(e={}){super(e),this.type=Gt.ResponseHeader}clone(e={}){return new ag({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xc extends og{constructor(e={}){super(e),this.type=Gt.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class B0 extends og{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function lg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ug=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let s;if(t instanceof Wa)s=t;else{let u,h;u=r.headers instanceof ir?r.headers:new ir(r.headers),r.params&&(h=r.params instanceof rr?r.params:new rr({fromObject:r.params})),s=new Wa(t,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=ae(s).pipe(Dr(u=>this.handler.handle(u)));if(t instanceof Wa||"events"===r.observe)return o;const l=o.pipe(In(u=>u instanceof xc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(U(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(U(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(U(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(U(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new rr).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,lg(r,i))}post(t,i,r={}){return this.request("POST",t,lg(r,i))}put(t,i,r={}){return this.request("PUT",t,lg(r,i))}}return n.\u0275fac=function(t){return new(t||n)(R(Ac))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();function j0(n,e){return e(n)}function lV(n,e){return(t,i)=>e.intercept(t,{handle:r=>n(r,i)})}const cV=new W("HTTP_INTERCEPTORS"),qa=new W("HTTP_INTERCEPTOR_FNS");function dV(){let n=null;return(e,t)=>(null===n&&(n=(Fe(cV,{optional:!0})??[]).reduceRight(lV,j0)),n(e,t))}let $0=(()=>{class n extends Ac{constructor(t,i){super(),this.backend=t,this.injector=i,this.chain=null}handle(t){if(null===this.chain){const i=Array.from(new Set(this.injector.get(qa)));this.chain=i.reduceRight((r,s)=>function uV(n,e,t){return(i,r)=>t.runInContext(()=>e(i,s=>n(s,r)))}(r,s,this.injector),j0)}return this.chain(t,i=>this.backend.handle(i))}}return n.\u0275fac=function(t){return new(t||n)(R(sg),R(Wi))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const gV=/^\)\]\}',?\n/;let z0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new j(i=>{const r=this.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((y,v)=>r.setRequestHeader(y,v.join(","))),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const y=t.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(t.responseType){const y=t.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=t.serializeBody();let o=null;const l=()=>{if(null!==o)return o;const y=r.statusText||"OK",v=new ir(r.getAllResponseHeaders()),M=function mV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||t.url;return o=new ag({headers:v,status:r.status,statusText:y,url:M}),o},u=()=>{let{headers:y,status:v,statusText:M,url:C}=l(),F=null;204!==v&&(F=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=F?200:0);let q=v>=200&&v<300;if("json"===t.responseType&&"string"==typeof F){const k=F;F=F.replace(gV,"");try{F=""!==F?JSON.parse(F):null}catch(le){F=k,q&&(q=!1,F={error:le,text:F})}}q?(i.next(new xc({body:F,headers:y,status:v,statusText:M,url:C||void 0})),i.complete()):i.error(new B0({error:F,headers:y,status:v,statusText:M,url:C||void 0}))},h=y=>{const{url:v}=l(),M=new B0({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(M)};let f=!1;const g=y=>{f||(i.next(l()),f=!0);let v={type:Gt.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===t.responseType&&!!r.responseText&&(v.partialText=r.responseText),i.next(v)},m=y=>{let v={type:Gt.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),i.next(v)};return r.addEventListener("load",u),r.addEventListener("error",h),r.addEventListener("timeout",h),r.addEventListener("abort",h),t.reportProgress&&(r.addEventListener("progress",g),null!==s&&r.upload&&r.upload.addEventListener("progress",m)),r.send(s),i.next({type:Gt.Sent}),()=>{r.removeEventListener("error",h),r.removeEventListener("abort",h),r.removeEventListener("load",u),r.removeEventListener("timeout",h),t.reportProgress&&(r.removeEventListener("progress",g),null!==s&&r.upload&&r.upload.removeEventListener("progress",m)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(R(Gw))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();const cg=new W("XSRF_ENABLED"),W0="XSRF-TOKEN",q0=new W("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>W0}),K0="X-XSRF-TOKEN",Y0=new W("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>K0});class Z0{}let yV=(()=>{class n{constructor(t,i,r){this.doc=t,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=xw(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(R(St),R(fa),R(q0))},n.\u0275prov=Y({token:n,factory:n.\u0275fac}),n})();function vV(n,e){const t=n.url.toLowerCase();if(!Fe(cg)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const i=Fe(Z0).getToken(),r=Fe(Y0);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),e(n)}var Nt=(()=>((Nt=Nt||{})[Nt.Interceptors=0]="Interceptors",Nt[Nt.LegacyInterceptors=1]="LegacyInterceptors",Nt[Nt.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Nt[Nt.NoXsrfProtection=3]="NoXsrfProtection",Nt[Nt.JsonpSupport=4]="JsonpSupport",Nt[Nt.RequestsMadeViaParent=5]="RequestsMadeViaParent",Nt))();function oo(n,e){return{\u0275kind:n,\u0275providers:e}}function bV(...n){const e=[ug,z0,$0,{provide:Ac,useExisting:$0},{provide:sg,useExisting:z0},{provide:qa,useValue:vV,multi:!0},{provide:cg,useValue:!0},{provide:Z0,useClass:yV}];for(const t of n)e.push(...t.\u0275providers);return function FT(n){return{\u0275providers:n}}(e)}const Q0=new W("LEGACY_INTERCEPTOR_FN");function wV({cookieName:n,headerName:e}){const t=[];return void 0!==n&&t.push({provide:q0,useValue:n}),void 0!==e&&t.push({provide:Y0,useValue:e}),oo(Nt.CustomXsrfConfiguration,t)}let CV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({providers:[bV(oo(Nt.LegacyInterceptors,[{provide:Q0,useFactory:dV},{provide:qa,useExisting:Q0,multi:!0}]),wV({cookieName:W0,headerName:K0}))]}),n})();class ui{static#e=this.IS_ENABLED=!1;log(e,t,...i){if(ui.IS_ENABLED)switch(e){case"Error":console.error(t,i.join(" "));break;case"Warn":console.warn(t,i.join(" "));break;case"Info":console.log(t,i.join(" "))}}static#t=this.\u0275fac=function(t){return new(t||ui)};static#n=this.\u0275prov=Y({token:ui,factory:ui.\u0275fac,providedIn:"root"})}class Ka{constructor(e,t){this.http=e,this.logService=t,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=Re(305),this.creatureList.sort((i,r)=>i.kg>r.kg?-1:1)}loadAndCalculateMyLog(e){this.hasCalculatedMyStats&&e(this.myLiftingStats);let t=0;this.http.get("../../assets/data/FitNotes_Export.csv",{responseType:"text"}).subscribe(r=>{const o=eV.parse(r,{header:!0,skipEmptyLines:!0}),l=o.data,u=o.errors;let h;for(let y=u.length-1;y>=0;y--)h=u[y],this.logService.log("Warn",'Removing row "'+h.row+'". '+h.type+". "+h.code+". "+h.message),l.splice(h.row,1);l.forEach(y=>{const v=y["Weight (kgs)"],M=y.Reps;""!==v&&""!==M&&(t+=parseFloat(v)*parseFloat(M))});const f=this.weightInCreatures(t),g=new Date(l[0].Date),m=new Date(l[l.length-1].Date);this.myLiftingStats={totalKgLifted:t,totalCreaturesLifted:f,firstDate:g,lastDate:m},this.hasCalculatedMyStats=!0,e(this.myLiftingStats)})}weightInCreatures(e){let t=e;const i=[];return this.creatureList.forEach(r=>{let s=0;for(;r.kg<=t;)t-=r.kg,s++;s>0&&i.push({count:s,creature:{name:r.name,kg:r.kg,url:r.url}})}),i}static#e=this.\u0275fac=function(t){return new(t||Ka)(R(ug),R(ui))};static#t=this.\u0275prov=Y({token:Ka,factory:Ka.\u0275fac,providedIn:"root"})}class Pc{transform(e,t=0,i="*",r=1){let s;switch(i){case"/":s=e/r;break;case"*":s=e*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let o=t;e===Math.trunc(e)&&(o=0);const l=s.toFixed(o),u=[];let h=l.includes(".")?l.indexOf("."):l.length;if(h<3)return l;let g=!0;for(;h>0;)h-=3,h<=0?u.unshift(l.substr(0,3+h)):g?(u.unshift(l.substr(h)),g=!1):u.unshift(l.substr(h,3));return u.join("'")}static#e=this.\u0275fac=function(t){return new(t||Pc)};static#t=this.\u0275pipe=wn({name:"mynumber",type:Pc,pure:!0})}function DV(n,e){if(1&n&&(c(0,"li"),a(1),c(2,"a",15),a(3),d(),a(4),zs(5,"mynumber"),d()),2&n){const t=e.$implicit;b(1),$e(" ",t.count,"x "),b(1),Bt("href",t.creature.url,fr),b(1),Qe(t.creature.name),b(1),ta(" (",ua(5,5,t.creature.kg,1)," kg",t.count>1?" each":"",") ")}}function EV(n,e){1&n&&(c(0,"div"),a(1," Only numbers are allowed (and ' . ' for fraction) "),d())}function MV(n,e){1&n&&(c(0,"div"),a(1," number is too big, reduce it "),d())}function TV(n,e){1&n&&(c(0,"div"),a(1," number is to small, increase it "),d())}function SV(n,e){if(1&n&&(c(0,"div",16),Ee(1,EV,2,0,"div",7),Ee(2,MV,2,0,"div",7),Ee(3,TV,2,0,"div",7),d()),2&n){const t=Me();b(1),T("ngIf",null==t.inputKgControl.errors?null:t.inputKgControl.errors.pattern),b(1),T("ngIf",null==t.inputKgControl.errors?null:t.inputKgControl.errors.max),b(1),T("ngIf",null==t.inputKgControl.errors?null:t.inputKgControl.errors.min)}}function IV(n,e){if(1&n&&(c(0,"li"),a(1),c(2,"a",15),a(3),d(),a(4),zs(5,"mynumber"),d()),2&n){const t=e.$implicit;b(1),$e(" ",t.count,"x "),b(1),Bt("href",t.creature.url,fr),b(1),Qe(t.creature.name),b(1),ta(" (",ua(5,5,t.creature.kg,1)," kg ",t.count>1?" each":"",") ")}}function AV(n,e){if(1&n&&(c(0,"table")(1,"tr")(2,"th"),a(3,"KGs"),d(),c(4,"th"),a(5,"Creatures"),d()(),c(6,"tr")(7,"td",0),a(8),d(),c(9,"td")(10,"ul"),Ee(11,IV,6,8,"li",1),d()()()()),2&n){const t=Me();b(8),Qe(t.convertLastInputSubmit),b(3),T("ngForOf",t.convertResult)}}class Oc{constructor(e,t){this.liftingService=e,this.fb=t,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,e.loadAndCalculateMyLog(r=>{this.totalKgLifted=r.totalKgLifted,this.totalCreaturesLifted=r.totalCreaturesLifted,this.firstDate=r.firstDate,this.lastDate=r.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[xr.pattern(/^\d+\.*\d*$/),xr.max(this.maximumInputAllowed),xr.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const e=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||e===this.convertLastInputSubmit||(this.convertLastInputSubmit=e,this.convert(e))}convert(e){this.convertResult=this.liftingService.weightInCreatures(e)}static#e=this.\u0275fac=function(t){return new(t||Oc)(D(Ka),D(N0))};static#t=this.\u0275cmp=wt({type:Oc,selectors:[["app-lift"]],decls:103,vars:19,consts:[[1,"center"],[4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],[4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["href","https://vimeo.com/57172348"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],[3,"href"],[1,"alert"]],template:function(t,i){1&t&&(c(0,"div")(1,"h2"),a(2,"Progressing on my path to lift the Platinum Dragon!"),d(),c(3,"p"),a(4),zs(5,"date"),zs(6,"date"),d(),c(7,"table")(8,"tr")(9,"th"),a(10,"Tons lifted"),d(),c(11,"th"),a(12,"Creatures lifted"),d()(),c(13,"tr")(14,"td",0),a(15),zs(16,"mynumber"),d(),c(17,"td")(18,"ul"),Ee(19,DV,6,8,"li",1),d()()()(),c(20,"p"),a(21," I use "),c(22,"a",2),a(23,"FitNotes"),d(),a(24," app to log my lifting,"),p(25,"br"),a(26," and export the log from it and use it for the above calculation."),p(27,"br"),a(28," No creatures were hurt during the lifting :)\n"),d()(),c(29,"div")(30,"h1"),a(31,"Kg to Creatures converter"),d(),c(32,"div",3)(33,"form",4)(34,"div")(35,"input",5),Ze("input",function(){return i.inputEvent()}),d()(),c(36,"sub"),a(37,"kg number in text field is converts to below:"),d(),p(38,"br"),Ee(39,SV,4,3,"div",6),d()(),Ee(40,AV,12,2,"table",7),c(41,"p"),a(42," The sources for the creature weight list:"),p(43,"br"),c(44,"a",8),a(45,"Metallic dragons of the Forgotten Realms"),d(),p(46,"br"),c(47,"a",9),a(48,"Dinosaur size"),d(),p(49,"br"),c(50,"a",10),a(51,"Adult mammals weight"),d()()(),c(52,"div")(53,"figure"),p(54,"img",11),c(55,"figcaption"),a(56,"Egill Antonsson dealing with the the dragon's breath"),d()()(),c(57,"div")(58,"h2"),a(59,"The beginning of my strength & hyperthropy journey"),d(),c(60,"h3"),a(61,"The first workout"),d(),c(62,"p"),a(63," I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."),p(64,"br"),a(65," My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."),p(66,"br"),a(67," I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."),p(68,"br"),a(69,' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'),p(70,"br"),a(71," Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"),p(72,"br"),a(73," This was a lesson learned for both me and Mummi in how not to begin your training.\n"),d(),c(74,"h3"),a(75,"The first years"),d(),c(76,"p"),a(77," Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."),p(78,"br"),a(79," I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."),p(80,"br"),d(),c(81,"p"),a(82," Gym 80 was founded by "),c(83,"a",12),a(84,"J\xf3n P\xe1ll Sigmarsson"),d(),a(85," who was the first man in history to win the World Strongest Man four times."),p(86,"br"),a(87," He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."),p(88,"br"),a(89," My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "),c(90,"a",13),a(91,'"There is no reason to be alive if you can\'t do deadlift!"'),d(),a(92,","),p(93,"br"),a(94,"\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."),p(95,"br"),a(96,"\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."),p(97,"br"),d()(),c(98,"div")(99,"figure"),p(100,"img",14),c(101,"figcaption"),a(102,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),d()()()),2&t&&(b(4),ta("\nDuring the period ",ua(5,8,i.firstDate,"d. MMMM yyyy")," - ",ua(6,11,i.lastDate,"d. MMMM yyyy"),":\n"),b(11),Qe(function y_(n,e,t,i,r,s){const o=n+22,l=P(),u=ps(l,o);return ca(l,o)?g_(l,Dn(),e,u.transform,t,i,r,s,u):u.transform(t,i,r,s)}(16,14,i.totalKgLifted,3,"/",1e3)),b(4),T("ngForOf",i.totalCreaturesLifted),b(14),T("formGroup",i.convertForm),b(2),T("maxlength",16),b(4),T("ngIf",i.inputKgControl.invalid),b(1),T("ngIf",i.convertResult.length>0))},dependencies:[ba,yn,Zp,Fa,Qp,Fp,Vp,Ic,za,Sc,Yf,Pc],styles:["ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class sr{static validateNumberForRange(e,t,i){if(t>=i)throw new ao(ao.msgLowerLimitMustBeLowerThanUpperLimit);if(e>i)throw new ao(ao.msgNumberMustNotBeHigherThenUpperLimit);if(e<t)throw new ao(ao.msgNumberMustNotBeLowerThenLowerLimit);return e}}class ao{constructor(e){this.name="SoundUtilError",this.message=e}static#e=this.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit";static#t=this.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit";static#n=this.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit"}class Si{constructor(e,t,i,r,s,o,l,u){this.defaultArtworkFilename="Egill_Antonsson.png",this.source=e,this.name=i,this.artworkPath=r,""===r&&(this.artworkPath=Si.dir+this.defaultArtworkFilename),this.about=s,this.rootUrl=t,this.soundcloudUrl=o,this.spotifyUrl=l,this.buyUrl=u}static#e=this.dir="../../assets/tracks/"}class kn extends Si{constructor(e,t,i,r,s="",o="",l="",u="",h=""){super("Local",i,r,s,o,l,u,h),this.soundDatas=e,this.play=t}}class Lc extends Si{constructor(e,t,i="",r,s="",o="",l="",u="",h=""){super("Youtube",i,r,s,o,l,u,h),this.youtubeId=e,this.displayOnYoutube=t}}class Te extends Si{constructor(e,t,i,r="",s="",o="",l=""){super("Soundcloud",t,i,r,s,e,o,l)}}class Ya extends kn{constructor(e,t,i,r,s){super(t,i,r,s),this.layeredMusicController=e}}function J0(n,e,t,i,r,s,o){try{var l=n[s](o),u=l.value}catch(h){return void t(h)}l.done?e(u):Promise.resolve(u).then(i,r)}function zt(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(u){J0(s,i,r,o,l,"next",u)}function l(u){J0(s,i,r,o,l,"throw",u)}o(void 0)})}}class kV{constructor(e,t,i,r,s,o,l){this._instanceMuted=!1,this.log=l,this._gainNode=e,this.maxGain=t,this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.soundType=o,this.value=this.defaultValue,[i,r].forEach(u=>{u.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),u.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(e){this._gainNode.gain.value=this.muted?0:this.calculateGain(sr.validateNumberForRange(e,0,1))}get gainNode(){return this._gainNode}calculateGain(e){const t=e*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===t)return 0;if("SFX"===this.soundType){const r=this.dynamicRange.getRangeCenter()+(t-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${r}`),r}return t}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(e=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=e,this}setValueAtTime(e,t){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(e),t),this}exponentialRampToValueAtTime(e,t){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(e),t),this}linearRampToValueAtTime(e,t){return this.muted?this._gainNode?.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(e),t),this)}setTargetAtTime(e,t,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(e),t,i),this)}setValueCurveAtTime(e,t,i){if(this.muted)return this._gainNode.gain;for(let r=0;r<e.length;r++)e[r]=this.calculateGain(e[r]);return this._gainNode.gain.setValueCurveAtTime(e,t,i),this}cancelScheduledValues(e){return this._gainNode.gain.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._gainNode.gain.cancelAndHoldAtTime(e),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(e=>{e.removeAllListeners("GainChange"),e.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class xV{constructor(e,t,i,r,s){this.audioContext=e,this.sourceNode=t,this.analyzerNode=i,this.gainWrapper=r,this.id=s}}class PV{constructor(e,t,i,r,s,o,l){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=e,this.log=l,this.configMaxNrPlayingAtOnce=t,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?sr.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,t):this.soundData.loop?1:t,this.maxGainValidated=sr.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(e=!0){var t=this;return zt(function*(){let i;t.reachedMaxNumberOfPlayingAtOnce&&t.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${t.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),t.firstInstancePromise?(t.log("Info",`[${t.label}]`,"play(): awaiting first instance promise"),i=yield t.firstInstancePromise,t.firstInstancePromise=void 0):(t.log("Info",`[${t.label}]`,"play(): createSoundInstance"),i=yield t.createSoundInstance(e)),t.instances.set(t.id,i),t.log("Info",`Added soundInstance with id '${t.id}' to the instances list which now has the size '${t.instances.size}'`);const r=t.createEndedPromise(i);return t.playSoundInstance(i),{instance:i,endedPromise:r}})()}createEndedPromise(e){return new Promise(t=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(e),t(e),this.instances.delete(e.id)||this.log("Warn",`deleting map with instance id '${e.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${e.id}, list with new size ${this.instances.size}`)},e.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(e){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),e.sourceNode.start()}createSoundInstance(e){var t=this;return zt(function*(){const i=t.audioCtx.createBufferSource();i.buffer=t.sourceNodeBuffer?t.sourceNodeBuffer:t.sourceNodeBuffer=yield t.loadSound(),i.loop=t.soundData.loop;const r=t.audioCtx.createGain(),s=new kV(r,t.maxGainValidated,t.soundTypeGain,t.masterGain,t.dynamicRange,t.soundData.soundType,t.log),o=t.audioCtx.createAnalyser();return e&&i.connect(s.gainNode).connect(o).connect(t.audioCtx.destination),++t.id,t.log("Info",`Creating sound instance for key '${t.soundData.key}' with id '${t.id}'`),new xV(t.audioCtx,i,o,s,t.id)})()}loadSound(){var e=this;return zt(function*(){e.log("Info",`Loading sound with key '${e.soundData.key}'`);const i=yield(yield fetch(e.soundData.url)).arrayBuffer();return yield e.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(e=>{this.disposeInstance(e)}),this.instances.clear(),this.id=-1)}disposeInstance(e){return e.sourceNode.removeEventListener("ended",this.endedListener),e.sourceNode.stop(),e.gainWrapper.dispose(),e.sourceNode.disconnect(),e.analyzerNode.disconnect(),e}dispose(){this.instances.forEach(e=>{this.disposeInstance(e)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var dg=Re(9069);class OV extends dg.EventEmitter{constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this._value=e}}class hg extends OV{constructor(e,t){super(e),this._muted=t}get muted(){return this._muted}set muted(e){this._muted=e}}class RV extends dg.EventEmitter{constructor(e,t){super(),this._lowValue=0,this._highValue=1,this.lowValue=e,this.highValue=t}get lowValue(){return this._lowValue}set lowValue(e){this._lowValue=e}get highValue(){return this._highValue}set highValue(e){this._highValue=e}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class LV{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new RV(0,1),this._musicGain=new hg(1,!1),this._sfxGain=new hg(1,!1),this._masterGain=new hg(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(e){this._musicGain.value=sr.validateNumberForRange(e,0,1),this._musicGain.emit("GainChange")}set musicMuted(e){this._musicGain.muted=e,this._musicGain.emit("MuteChange")}set sfxGain(e){this._sfxGain.value=sr.validateNumberForRange(e,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(e){this._sfxGain.muted=e,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(e){this._masterGain.value=sr.validateNumberForRange(e,0,1),this._masterGain.emit("GainChange")}set masterMuted(e){this._masterGain.muted=e,this._masterGain.emit("MuteChange")}get masterMuted(){return this._masterGain.muted}set maxNrPlayingAtOncePerSound(e){this._maxNrPlayingAtOncePerSound=sr.validateNumberForRange(e,1,24),this.sounds.forEach(t=>{t.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(e,t){this.log=t,this.audioContext=new(e.AudioContext||e.webkitAudioContext)}setDynamicRange(e,t){e>t&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${e}' must be lower than highValue '${t}', not setting new Dynamic Range`),this.dynamicRange.lowValue=sr.validateNumberForRange(e,0,1),this.dynamicRange.highValue=sr.validateNumberForRange(t,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(e){const t="Music"===e.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new PV(e,this._maxNrPlayingAtOncePerSound,t,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(e.key,i),i}updateEmitterMaxListeners(e){const t=2*e*24;this._masterGain.setMaxListeners(t),this._musicGain.setMaxListeners(t),this._sfxGain.setMaxListeners(t),this.dynamicRange.setMaxListeners(t)}addToList(e,t){this.sounds.has(e)?this.log("Warn",`Sound with the key '${e}' is already in to SoundManager, not adding it again`):this.sounds.set(e,t)}playSound(e){const t=this.sounds.get(e);return t?t.play():(this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${e}', not in SoundManager`),null)}getSound(e){const t=this.sounds.get(e);if(!t)throw new X0(X0.msgSoundNotInManager);return t}hasSound(e){return this.sounds.has(e)}stopSound(e){const t=this.sounds.get(e);t?t.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}pause(){this.audioContext.suspend()}resume(){this.audioContext.resume()}stopMusic(){this.sounds.forEach(e=>{"Music"===e.soundData.soundType&&e.stop()})}stopAllSounds(){this.sounds.forEach(e=>{e.stop()})}purge(){this.sounds.forEach(e=>{e.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}class X0{constructor(e){this.name="SoundManagerError",this.message=e}static#e=this.msgSoundNotInManager="Sound Not In Manager"}class lo{constructor(){this._instance=new LV}get instance(){return this._instance}playFromStart(e,t){if(!this.instance.hasSound(e.soundDatas[0].key))for(let i=0;i<e.soundDatas.length;i++)this.instance.addSound(e.soundDatas[i]);e.play()(),e instanceof Ya&&(e.layeredMusicController.gainsDisabled=t)}play(){this.instance.resume()}stop(e){this.instance.stopMusic(),e instanceof Ya&&e.layeredMusicController&&e.layeredMusicController.stop()}injectMocksForTests(e){this._instance=e}static#e=this.\u0275fac=function(t){return new(t||lo)};static#t=this.\u0275prov=Y({token:lo,factory:lo.\u0275fac,providedIn:"root"})}class Za{constructor(e){this.logService=e,this._volume=100,this.isMuted=!1,this._isInitialized=!1,this.loadedUrl="",this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}init(){if(!0!==this._isInitialized){this._isInitialized=!0;var e=Re(1133);this.widget=new e("scWidget"),this.widget.on(e.events.FINISH,()=>{this.logService.log("Info","soundcloud track finished / ended"),this.instanceEndedListeners.forEach(i=>i(!0))})}}load(e,t){this.logService.log("Info","musicStreamer load with url",e),this.widget.load(e,{auto_play:!1,buying:!1,liking:!1,download:!1,sharing:!1,show_artwork:!1,show_comments:!1,show_playcount:!1,show_user:!1,start_track:0}).then(()=>{this.logService.log("Info","musicStreamer load completed with url",e),this.loadedUrl=e,t&&this.playViaWidget()})}play(){this.logService.log("Info","musicStreamer play"),this.playViaWidget()}playFromStart(e){this.logService.log("Info","musicStreamer playFromStart",e),this.load(e.soundcloudUrl,!0),this.widget.setVolume(this._volume)}playViaWidget(){this.widget.play(),this.instancePlayedListeners.forEach(e=>e())}pause(){this.logService.log("Info","musicStreamer pause"),this.widget.pause()}set volume(e){this.isMuted||(this._volume=e,this.widget.setVolume(this._volume))}set muted(e){this.isMuted=e,this.widget.setVolume(e?0:this._volume)}static#e=this.\u0275fac=function(t){return new(t||Za)(R(ui))};static#t=this.\u0275prov=Y({token:Za,factory:Za.\u0275fac,providedIn:"root"})}class uo{constructor(){}get nativeWindow(){return function NV(){return window}()}static#e=this.\u0275fac=function(t){return new(t||uo)};static#t=this.\u0275prov=Y({token:uo,factory:uo.\u0275fac,providedIn:"root"})}class os{constructor(){this.subject=new $}sendMessage(e){this.subject.next(e)}onMessage(){return this.subject.asObservable()}static#e=this.\u0275fac=function(t){return new(t||os)};static#t=this.\u0275prov=Y({token:os,factory:os.\u0275fac,providedIn:"root"})}class as{constructor(){this.elements={}}set(e,t){return this.has(e)?this.elements[e].next(t):this.elements[e]=new vn(t),this.elements[e]}get(e){return this.has(e)||(this.elements[e]=new vn(null)),this.elements[e]}delete(e){this.has(e)&&(this.elements[e].next(null),delete this.elements[e])}clear(){for(const e in Object.keys(this.elements))this.elements.hasOwnProperty(e)&&(this.elements[e].next(null),delete this.elements[e]);this.elements={}}has(e){return this.elements[e]instanceof vn}static#e=this.\u0275fac=function(t){return new(t||as)};static#t=this.\u0275prov=Y({token:as,factory:as.\u0275fac,providedIn:"root"})}class Qa{constructor(e,t,i,r){this.windowRef=e,this.messageService=t,this.logService=i,this.htmlService=r,this.playWhenReady=!1,this.isFullScreen=!1,this.playerWidth=200,this.playerHeight=200,this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}savePlayerElement(e){this.playerElement=e}onWindowInitSize(e,t){this.playerWidth=e}onWindowResize(e,t){this.setPlayerSize(e)}setPlayerSize(e){if(void 0===this.player)return;let t=0;e<451?(t=0,console.log("below or equal 451")):e<=703?(t=.1,console.log("below or equal 703")):e<=1053?(t=.2,console.log("below or equal 1053")):e<=1403?(t=.3,console.log("below or equal 1403")):e<=2e3?(t=.35,console.log("below or equal 2000")):(t=.37,console.log("above 2000")),this.logService.log("Info","YoutubeService:setPlayerSize: width before",e);let i=e,o=.9*i;console.log(o),i=o*(1-2*t),console.log("width after",i),this.playerWidth=i+3,this.playerHeight=.5625*this.playerWidth,this.player.setSize(this.playerWidth,this.playerHeight);let u=this.htmlService.get("headerContainer"),h=this.htmlService.get("headerBackground"),f=57+this.playerHeight;u.value.nativeElement.style.height=f+"px",h.value.nativeElement.style.height=f+"px"}onPlayerReady(e,t,i){this.logService.log("Info","onPlayerReady, width and heigh:",this.playerWidth,this.playerHeight),this.player=e,i&&this.setPlayerSize(this.playerWidth),this.volume=t,this.playWhenReady&&this.play(),e.getIframe().onfullscreenchange=()=>{this.isFullScreen=!this.isFullScreen,this.logService.log("Info","isFullScreen",this.isFullScreen),this.logService.log("Info","playerElement",this.playerElement)};let r=this.player.getIframe().contentWindow;this.windowRef.nativeWindow.addEventListener("message",s=>{if(s.source===r){var o=JSON.parse(s.data);"infoDelivery"===o.event&&o.info&&o.info.volume&&this.messageService.sendMessage({type:"YoutubeVolumeChange"})}})}toFullScreen(){this.player?.getIframe().requestFullscreen()}play(){this.playWhenReady=!1,this.player?.playVideo(),this.instancePlayedListeners.forEach(e=>e())}playFromStart(e){if(this.logService.log("Info","YoutubeService:playFromStart"),void 0===this.player)return void(this.playWhenReady=!0);let t=this.getIdFromVideoUrl(this.player.getVideoUrl());this.logService.log("Info","currentIdInPlayer",t),e.youtubeId!==t?(this.logService.log("Info","loading new youtube id",e.youtubeId),this.player.loadVideoById(e.youtubeId)):this.play()}getIdFromVideoUrl(e){return e?e.split("?v=")[1]:""}pause(){this.logService.log("Info","pause() in YoutubeService"),this.player?.pauseVideo()}get volume(){return void 0===this.player?.getVolume()?0:this.player.getVolume()}set volume(e){this.player?.setVolume(e)}get muted(){return void 0===this.player?.isMuted()||this.player.isMuted()}set muted(e){e?this.player?.mute():this.player?.unMute()}static#e=this.\u0275fac=function(t){return new(t||Qa)(R(uo),R(os),R(ui),R(as))};static#t=this.\u0275prov=Y({token:Qa,factory:Qa.\u0275fac,providedIn:"root"})}class ce{constructor(e,t,i,r,s,o=1){this.key=e,this.url=t,this.maxGain=i,this.soundType=r,this.loop=s,this.maxNrPlayingAtOnce=o}static music(e,t,i=1){return new ce(e,t,i,"Music",!1,1)}static musicLoop(e,t,i=1){return new ce(e,t,i,"Music",!0,1)}static sfx(e,t,i){return new ce(e,t,i,"SFX",!1,1)}static sfxLoop(e,t,i){return new ce(e,t,i,"SFX",!0,1)}}class e1{constructor(e,t,i=3,r=30,s=20,o=!0,l=0,u=0){this.instanceEndedListeners=e,this.log=t,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=r,this.fadeDurationSec=s,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=l,this.maxLayerValue=u,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=l}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(e){this._gainsDisabled=e}start(e){this._layerSoundInstances=e,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let t=this.layerIndexToBeDecremented+1;t<this._layerSoundInstances.length;t++)this._layerSoundInstances[t].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,e),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(e){e&&!this._gainsDisabled.value&&(this._gainsDisabled.value=e,this._gainsDisabled.emit("Change",e))}setFadeTimeout(e,t,i){e.set(t,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),e.delete(t),0===e.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===t&&this.instanceEndedListeners.forEach(r=>r(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const e=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);e&&clearTimeout(e),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.unmuteInstance(t.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(e=>{clearTimeout(e)}),this.fadeInTimeouts.forEach(e=>{clearTimeout(e)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}class Ja{constructor(e,t){this.soundManager=e,this.logService=t,this.pathRoot="../../assets/audio",this.pathGame=`${this.pathRoot}/game`,this.pathKuai=`${this.pathRoot}/kuai`,this.pathBrothers=`${this.pathRoot}/braedraminning`,this._isInitialized=!1,this._instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}getTrackByRootUrl(e){return this._tracksByRootUrl.get(e)}get instancePlayedListeners(){return this._instancePlayedListeners}get timeout(){return this._timeout}set timeout(e){this._timeout=e}init(){this._isInitialized||(this._byTracks=[{name:"Egill Antonsson",tracks:[this.votThemeSong(),this.harmoniesOfShadeAndLight(),this.weWillMeetAgain(),this.magmaMerryGoRound(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace(),this.lecube()],about:this.aboutEgillAntonsson},{name:"Kanez Kane",tracks:[this.winterQueen(),this.komaKoma(),this.strawberryCityLights()],about:this.aboutKanezKane},{name:"KUAI",tracks:[this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()],about:this.aboutKuai},{name:"Tribe Of Oranges",tracks:[this.introduction(),this.routine(),this.hhiCommercial()],about:this.aboutTribeOfOranges},{name:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()],about:""},{name:"Game Music",tracks:[this.cakePopParty(),this.symbol6(),this.softFreakFiesta(),this.habitarium(),this.tinyPlaces(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.godsrule(),this.vot(),this.crisisGame()],about:""},{name:"Br\xe6\xf0raminning",tracks:[this.pesi2002(),this.mouse2002(),this.rubber2002(),this.solos2002(),this.takeCare2002(),this.beLikeYou2002(),this.story2002(),this.frumlag2002(),this.world2002(),this.withoutThem2002(),this.myDearOldBrothers(),this.pesi1974(),this.mouse1975(),this.rubber1975(),this.solos1975(),this.takeCare1976(),this.beLikeYou1976(),this.story1976(),this.frumlag1977(),this.world1977(),this.withoutThem1977()],about:this.aboutBraedraminning}],this.flattenTracks(),this._isInitialized=!0)}get aboutEgillAntonsson(){return'I started playing the piano around the age of 7. In my teenage years I added guitar (inspired by <a href="https://www.slashonline.com/">Slash</a> and others), electric bass (because all in the band can\'t be guitarists) and singing, and from time to time beating the drums. Note that the tracks published under my name sometimes involved collaborations with others (mentioned in the "About" section).'}get pathToDirEgillAntonsson(){return Si.dir+"egillantonsson/"}get aboutKanezKane(){return"A partnership with my friend Sindri Bergmann Thorarinsson. We have done lots of music through the decades but currently only released to the world a small part of it. We decided to changed that so stay tuned :)"}get aboutBraedraminning(){return"My parents kept a cassette with the recordings of the songs my older brothers made. To make sure the songs survived that old cassette, I published the album Br\xe6\xf0raminning, which also includes my takes on their songs."}get pathToDirKanez(){return Si.dir+"kanez/"}get pathToDirBraedraminning(){return Si.dir+"braedraminning/"}get aboutTribeOfOranges(){return"A partnership with my friend Sindri Bergmann Thorarinsson.<We coined the name when we needed to which can be shortened to TOO. Me and Sindri have done a lot together and some are under TOO."}get pathToDirTribeOfOranges(){return Si.dir+"too/"}get aboutKuai(){return""}get braedraminningArtworkPath(){return`${this.pathToDirBraedraminning}braedraminning.jpeg`}get aboutBraedraminningTake2002(){return"My take on this song, recorded and mixed in 2001-2002. Sindri Bergmann Thorarinsson mastered it as far as could be done in 2022.\n\t"}get pathToDirKuai(){return Si.dir+"kuai/"}flattenTracks(){this._tracksByRootUrl=new Map,this._flatTracks=[];let e=0;for(let t=0;t<this._byTracks.length;t++)for(let i=0;i<this._byTracks[t].tracks.length;i++){const r=this._byTracks[t].tracks[i];r.index=e++;const s=this._byTracks[t];r.artistName=s.name,r.artistAbout=s.about,this._flatTracks.push(r),this._tracksByRootUrl.set(r.rootUrl,r)}}winterQueen(){const e="winter-queen";return new Lc("gNL39MCw8Jw",!1,e,"Winter Queen",`${this.pathToDirKanez}${e}.jpg`,"This is the third released song (early 2023). Created in the first Stockholm session when Sindri visited me. Fittingly the weather both in Sweden and Iceland was quite chilling during the production to the release","","https://open.spotify.com/track/56X0rSJh8MRO2aJTZfSgpF?si=ec263723abbf4f29")}komaKoma(){const e="koma-koma";return new Lc("Ww4w8prWBxM",!1,e,"Koma Koma",`${this.pathToDirKanez}${e}.jpg`,"This is the second released song (early 2023). Jump on and join the Revolution!","","https://open.spotify.com/track/0Hbv3lJZvM3Bb9vhEcAAhi?si=c9036966188848a9","https://www.qobuz.com/album/koma-koma-kanez-kane/vmzznxtf4kyna")}strawberryCityLights(){const e="strawberry-city-lights";return new Lc("DTmPz-vSTFI",!1,e,"Strawberry City Lights",`${this.pathToDirKanez}${e}.jpg`,"This is the first released song (late 2022). The artwork is computer generated from using the title as input.","","https://open.spotify.com/track/0lRUvYevsLK5pBrTYfl3be?si=04526be015af456e","https://www.qobuz.com/album/strawberry-city-lights-kanez-kane/b31j9xshkikja")}pesi2002(){return new Te("https://soundcloud.com/egill-antonsson/pesi-year-2002?in=egill-antonsson/sets/braedraminning","pesi-year-2002","P\xe9si (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/6viU3JhxNEKkY2paBuOEaP","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}mouse2002(){return new Te("https://soundcloud.com/egill-antonsson/mouse-year-2002?in=egill-antonsson/sets/braedraminning","mouse-year-2002","Mouse (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002+"<br>\nI did my take on the lyrics, thus differing to some extent.\n","https://open.spotify.com/track/1f2eGiZiCMOMZZbKc52IIH","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}rubber2002(){return new Te("https://soundcloud.com/egill-antonsson/rubber-year-2002?in=egill-antonsson/sets/braedraminning","rubber-year-2002","Rubber (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/23kZ3ftMMyigpXU49Rq35Q","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}solos2002(){return new Te("https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","solos-year-2002","Solos (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/5J8kU1mdqcqKZ0Wb3sxrqj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}takeCare2002(){return new Te("https://soundcloud.com/egill-antonsson/take-care-year-2002?in=egill-antonsson/sets/braedraminning","take-care-year-2002","Take Care (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/6xiCd9HFh0SaJEngXtgldj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}beLikeYou2002(){return new Te("https://soundcloud.com/egill-antonsson/be-like-you-year-2002?in=egill-antonsson/sets/braedraminning","be-like-you-year-2002","Be Like You (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/4zcgAvMsU46YVTKGmS8vJA","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}story2002(){return new Te("https://soundcloud.com/egill-antonsson/story-year-2002?in=egill-antonsson/sets/braedraminning","story-year-2002","Story (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002+"<br>\nI 'upped the drama' in the lyrics by knocking the headmaster OUT, instead of down.<br>\nI don't remember if it was intentional or not.\n","https://open.spotify.com/track/0zcnfEWqzmaCfp7hsbcA9Z","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}frumlag2002(){return new Te("https://soundcloud.com/egill-antonsson/frumlag-year-2002?in=egill-antonsson/sets/braedraminning","frumlag-year-2002","Frumlag (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002,"https://open.spotify.com/track/5fFuGjJMqLS0iPMmiZ3SBc","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}world2002(){return new Te("https://soundcloud.com/egill-antonsson/world-year-2002?in=egill-antonsson/sets/braedraminning","world-year-2002","World (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002+"<br>\nI think I 'upped the drama' in the lyrics with 'The world is nothing except hate'<br>\nas it could be that Egill sung 'The world is nothing I say \"Hey\"'.<br>\nI also added lyrics where missing, etc.<br>\n","https://open.spotify.com/track/5EFT7M2r9kiJqPn2EtXNoz","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}withoutThem2002(){return new Te("https://soundcloud.com/egill-antonsson/without-them-year-2002?in=egill-antonsson/sets/braedraminning","without-them-year-2002","Without them (year 2002)",this.braedraminningArtworkPath,this.aboutBraedraminningTake2002+"<br>\nI kept with the 'no no no' like in the original (probably the lyrics were not ready)<br>\nand in fact went all in on 'no no no' and other sounds :)\n","https://open.spotify.com/track/5cfstB4Y5eIFI79e4KBAk8","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}myDearOldBrothers(){return new Te("https://soundcloud.com/egill-antonsson/my-dear-old-brothers?in=egill-antonsson/sets/braedraminning","my-dear-old-brothers","My Dear Old Brothers",this.braedraminningArtworkPath,"I saw a chord progression with the title 'Lady Lobo' written in a note book that belonged to the brothers.<br>\nI thought this might be an original song and thus wanted to bring it to life for the album.<br>\nI added details and shaped the song (making some changes)<br>\nand wrote the lyrics (changing the title with it).\n","https://open.spotify.com/track/6mnJyUYVPeoEx8oKUBu4Zw","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}pesi1974(){return new Te("https://soundcloud.com/egill-antonsson/pesi-year-1974?in=egill-antonsson/sets/braedraminning","pesi-year-1974","P\xe9si (year 1974)",this.braedraminningArtworkPath,"J\xf3nas wrote this song for Egill to play on the wurlitzer piano.<br>\nRecorded with their band playing that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/5wmAzE3Mc0uWjhjxRf95OQ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}mouse1975(){return new Te("https://soundcloud.com/egill-antonsson/mouse-year-1975?in=egill-antonsson/sets/braedraminning","mouse-year-1975","Mouse (year 1975)",this.braedraminningArtworkPath,"Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer and vocals<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/3qtGfywTgrjxBMQcCdN1xo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}rubber1975(){return new Te("https://soundcloud.com/egill-antonsson/rubber-year-1975?in=egill-antonsson/sets/braedraminning","rubber-year-1975","Rubber (year 1975)",this.braedraminningArtworkPath,"Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer and vocals<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/700fVJsCrH4BBpsMW7B60t","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}solos1975(){return new Te("https://soundcloud.com/egill-antonsson/solos-year-1975?in=egill-antonsson/sets/braedraminning","solos-year-1975","Solos (year 1975)",this.braedraminningArtworkPath,"Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - organ<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/3X7wZlcTxFwkLs7rvEkkWZ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}takeCare1976(){return new Te("https://soundcloud.com/egill-antonsson/take-care-year-1976?in=egill-antonsson/sets/braedraminning","take-care-year-1976","Take Care (year 1976)",this.braedraminningArtworkPath,"Egill playing by himself.<br>\nI think this is shortly after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n","https://open.spotify.com/track/2V0X8p2Tefcg5MTrnuuplo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}beLikeYou1976(){return new Te("https://soundcloud.com/egill-antonsson/be-like-you-year-1976?in=egill-antonsson/sets/braedraminning","be-like-you-year-1976","Be Like You (year 1976)",this.braedraminningArtworkPath,"Egill playing by himself.<br>\nI think this is not long after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n","https://open.spotify.com/track/23YxXCBVwziMTdJnIGqLZx","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}story1976(){return new Te("https://soundcloud.com/egill-antonsson/story-year-1976?in=egill-antonsson/sets/braedraminning","story-year-1976","Story (year 1976)",this.braedraminningArtworkPath,"Egill playing by himself.<br>\nI think this is not long after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n","https://open.spotify.com/track/47Tf6lPTTaibh0LFGi6ULh","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}frumlag1977(){return new Te("https://soundcloud.com/egill-antonsson/frumlag-year-1977?in=egill-antonsson/sets/braedraminning","frumlag-year-1977","Frumlag (year 1977)",this.braedraminningArtworkPath,"Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - organ<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/1TV6QGFbW0mdtO8GqXCfay","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}world1977(){return new Te("https://soundcloud.com/egill-antonsson/world-year-1977?in=egill-antonsson/sets/braedraminning","world-year-1977","World (year 1977)",this.braedraminningArtworkPath,"Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - vocals (and maybe guitar)<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/6dI0WypRxmbUK7Rw9TaHpT","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}withoutThem1977(){return new Te("https://soundcloud.com/egill-antonsson/without-them-year-1977?in=egill-antonsson/sets/braedraminning","without-them-year-1977","Without them (year 1977)",this.braedraminningArtworkPath,"Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - vocals (and maybe guitar)<br>\n(I will list the band mates later when I have my notes)\n","https://open.spotify.com/track/0rcIAwxbRtRhYbKX0bq142","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb")}votThemeSong(){const e="vikings-of-thule-theme-song";return new Lc("EiiR4cwjNwY",!0,e,"Vikings of Thule Theme Song",`${this.pathToDirEgillAntonsson}${e}.jpg`,"The song for the Vikings of Thule video teaser. VoT was a game made by the company Gogogic. Lyrics by Jonas B. Antonsson, composed by Jonas and me, performed by me and mixed and produced by Julius Jonasson.","https://soundcloud.com/egill-antonsson/vikings-of-thule-theme-song","https://open.spotify.com/track/35LOjco7IykC60Pqq3DjuU?si=7245ec4caae24d82","https://www.qobuz.com/album/vikings-of-thule-theme-song-with-jonas-antonsson-julius-jonasson-egill-antonsson/k6jzobz1suzjb")}harmoniesOfShadeAndLight(){const e="harmonies-of-shade-and-light";return new Te("https://soundcloud.com/egill-antonsson/harmonies-of-shade-and-light",e,"Harmonies of Shade and Light",`${this.pathToDirEgillAntonsson}${e}.jpg`,'I got the idea of this song when I was with the family in Thailand at the beginning of 2017.<br>\nI borrowed a guitar with missing strings and created a harmony pattern and sung a melody over it.<br>\nIn circa 2019 I recorded the guitars and arranged the percussions from <a href="https://www.thelooploft.com/collections/drum-loops" target="_blank">The Loop Loft</a>.<br>\nIn the spring of 2021 my friend and music partner Sindri Bergmann Thorarinsson<br>\nhelped me structure the song and write the lyrics,<br>\nand he recorded my vocals in his studio in Reykjavik.<br>\nIn April 2022 I recorded the rest of the instruments, processed and mixed the song.',"https://open.spotify.com/track/1xHXUKERh3a6elM9VdPIUW","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc")}weWillMeetAgain(){const e="we-will-meet-again";return new Te("https://soundcloud.com/egill-antonsson/we-will-meet-again",e,"We Will Meet Again",`${this.pathToDirEgillAntonsson}${e}.jpg`,"In the spring of 2021 my friend and music partner Sindri Bergmann Thorarinsson<br> asked me to collaborate with him to make a pop song.<br>\nAlthough we've played some pop over the years, we have not focused on creating one per se.<br>\nSo our goal now was to focus on the 'formula of what makes a good (modern) pop song',<br>\nand also speed up our workflow to complete the song in couple of days (from start to finish).<br>\nWe created the song and lyrics together, I sang in the lyrics and Sindri mixed, processed and polished the whole song.<br>\nWe put the song under artist Egill Antonsson (for convenience) although it's truly a collaboration.","https://open.spotify.com/track/27t1JaFQlOX6hhkVC6d59Z","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib")}magmaMerryGoRound(){const e="magma-merrygoround";return new Te("https://soundcloud.com/egill-antonsson/magma-merrygoround",e,"Magma MerryGoRound",`${this.pathToDirEgillAntonsson}${e}.jpg`,'Released at the <a href="https://edisonparty.com">Edison demo-party</a> in 2021 under my new handle/pseudonym Vulkanoman.<br>\nMy original title for the tune was \'Tivoli Chase Cop 27/16\' but I renamed<br>\nas I got more and more inspired by my recent trip to the then ongoing volcano eruption in <a href="https://en.wikipedia.org/wiki/Fagradalsfjall">Fagradallsfjall in Iceland</a>',"https://open.spotify.com/track/06bQmD7bI6N1qGDeIVsGYR","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja")}justInTime(){return new Te("https://soundcloud.com/egill-antonsson/just-in-time","just-in-time","Just in Time")}icelandSocksIntro(){const e="iceland-socks-intro";return new Te("https://soundcloud.com/egill-antonsson/iceland-socks-intro",e,"Iceland Socks: Intro",`${this.pathToDirEgillAntonsson}${e}.jpg`,'Sindri Bergman Thorarinsson and me made this for an Icelandic travel industry campaign that the company Gogogic created in 2008. The talented Gogogic employees were the puppeteers and you can watch the Iceland Socks Outtakes on <a href="https://youtu.be/6n3_NF0g2dg" target="_blank">YouTube</a>')}fortidin(){const e="fortidin";return new Te("https://soundcloud.com/egill-antonsson/fortidin",e,"Fort\xed\xf0in",`${this.pathToDirEgillAntonsson}${e}.jpg`)}toddlerTune(){const e="toddlers-tune";return new Te("https://soundcloud.com/egill-antonsson/toddler-tune",e,"Toddlers Tune",`${this.pathToDirEgillAntonsson}${e}.jpg`)}oddTimesInSpace(){return new Te("https://soundcloud.com/egill-antonsson/odd-times-in-space","odd-times-in-space","Odd Times in Space")}lecube(){const e="lecube";return new Te("https://soundcloud.com/egill-antonsson/lecube",e,"Lecube",`${this.pathToDirEgillAntonsson}${e}.jpg`)}introduction(){const e="introduction";return new Te("https://soundcloud.com/egill-antonsson/introduction",e,"Introduction",`${this.pathToDirTribeOfOranges}${e}.jpg`,"Sindri Bergmann Thorarinsson and me made this for a theatre play,<br>\nand it was played at the start of it, and thus it's named Introduction.<br>\nFor the artwork I chose the 'the indian head', which is a valuable family artifact.")}routine(){return new Te("https://soundcloud.com/egill-antonsson/routine","routine","Routine",`${this.pathToDirTribeOfOranges}tribe-of-oranges.jpg`)}hhiCommercial(){return new Te("https://soundcloud.com/egill-antonsson/song-for-hhi-commercial","song-for-hhi-commercial","Song for HHI commercial",`${this.pathToDirTribeOfOranges}tribe-of-oranges.jpg`)}get artworkKuai(){return`${this.pathToDirKuai}KUAI.jpg`}pirringur(){return new Te("https://soundcloud.com/egill-antonsson/pirringur","pirringur","Pirringur",this.artworkKuai)}apollo(){return new Te("https://soundcloud.com/egill-antonsson/apollo","apollo","Apollo",this.artworkKuai)}andsetinn(){return new Te("https://soundcloud.com/egill-antonsson/andsetinn","andsetinn","Andsetinn",this.artworkKuai)}hamskipti(){return new Te("https://soundcloud.com/egill-antonsson/hamskipti","hamskipti","Hamskipti",this.artworkKuai)}rover(){return new Te("https://soundcloud.com/egill-antonsson/rover","rover","Rover",this.artworkKuai)}andefni(){return new Te("https://soundcloud.com/egill-antonsson/andefni","andefni","Andefni",this.artworkKuai)}agndofa(){return new Te("https://soundcloud.com/egill-antonsson/agndofa","agndofa","Agndofa",this.artworkKuai)}ofurte(){return new Te("https://soundcloud.com/egill-antonsson/ofurte","ofurte","Ofurte",this.artworkKuai)}lesblindaI(){return new Te("https://soundcloud.com/egill-antonsson/lesblinda-i","lesblinda-i","lesblinda I",this.artworkKuai)}lesblindaII(){return new Te("https://soundcloud.com/egill-antonsson/lesblinda-ii","lesblinda-ii","lesblinda II",this.artworkKuai)}godsruleLayered(){var e=this;const r=new Ya(new e1(this.instanceEndedListeners,this.logService.log),[ce.musicLoop("godsruleEnvironmentLayer",`${this.pathGame}/loton_MusicVillageEnvironmentLayer.ogg`,.075),ce.musicLoop("godsruleStringLayer",`${this.pathGame}/loton_MusicVillageStringLayer.ogg`,.55),ce.musicLoop("godsruleHarpLayer",`${this.pathGame}/loton_MusicVillageHarpLayer.ogg`,.4),ce.musicLoop("godsrulePianoLayer",`${this.pathGame}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>zt(function*(){const s=[e.soundManager.instance.getSound(r.soundDatas[0].key),e.soundManager.instance.getSound(r.soundDatas[1].key),e.soundManager.instance.getSound(r.soundDatas[2].key),e.soundManager.instance.getSound(r.soundDatas[3].key)],o=[];for(let l=0;l<s.length;l++){const u=s[l],{instance:h}=yield u.play();o.push(h),e.instancePlayedListeners.forEach(f=>f(h))}r.layeredMusicController.start(o)}),"godsrule-village","Godsrule: Village");return r}votLayered(){var e=this;const r=new Ya(new e1(this.instanceEndedListeners,this.logService.log),[ce.musicLoop("votWindLayer",`${this.pathGame}/VOT_InterfaceMusic_0.mp3`),ce.musicLoop("votChoirLayer",`${this.pathGame}/VOT_InterfaceMusic_3.ogg`),ce.musicLoop("votHarpLayer",`${this.pathGame}/VOT_InterfaceMusic_2.ogg`),ce.musicLoop("votMelodyLayer",`${this.pathGame}/VOT_InterfaceMusic_1.ogg`)],()=>zt(function*(){const s=[e.soundManager.instance.getSound(r.soundDatas[0].key),e.soundManager.instance.getSound(r.soundDatas[1].key),e.soundManager.instance.getSound(r.soundDatas[2].key),e.soundManager.instance.getSound(r.soundDatas[3].key)],o=[];for(let l=0;l<s.length;l++){const u=s[l],{instance:h}=yield u.play();o.push(h),e.instancePlayedListeners.forEach(f=>f(h))}r.layeredMusicController.start(o)}),"vikings-of-thule-map","Vikings of Thule: Map");return r}cakePopParty(){var e=this;const r=new kn([ce.music("cppMusicIntro",`${this.pathGame}/CPP_workMusicIntroScreen.ogg`,.7),ce.music("cppMusicScaleBeat",`${this.pathGame}/CPP_musicTransitionBeatFade.ogg`,.6),ce.music("cppMusicMakePop",`${this.pathGame}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key),l=e.soundManager.instance.getSound(r.soundDatas[2].key);let u,h=2;do{u=yield s.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield s.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield o.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield l.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f(1===h)),h--}while(h>0)}),"cake-pop-party","Cake Pop Party");return r}symbol6(){var e=this;const r=new kn([ce.music("ssixMenu",`${this.pathGame}/SSIX_menu.ogg`),ce.music("ssixGame",`${this.pathGame}/SSIX_game.ogg`),ce.music("ssixHexago",`${this.pathGame}/SSIX_HexagoTune.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key),l=e.soundManager.instance.getSound(r.soundDatas[2].key);let u,h=2;do{u=yield s.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield o.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield l.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f(1===h)),h--}while(h>0)}),"symbol-6","Symbol 6");return r}softFreakFiesta(){var e=this;const r=new kn([ce.music("sffIntroMenuMusic",`${this.pathGame}/SFF_IntroMenuMusic.ogg`,.9),ce.music("sffMenuMusic",`${this.pathGame}/SFF_MenuMusic.ogg`,.9),ce.music("sffLevelMusicNoEnv",`${this.pathGame}/SFF_LevelMusic_noEnv.ogg`),ce.music("sffLevelMusicBubbling",`${this.pathGame}/SFF_LevelMusic_bubbling.ogg`),ce.music("sffLoseJingle",`${this.pathGame}/SFF_LoseJingle.ogg`,.9),ce.music("sffWinJingle",`${this.pathGame}/SFF_WinJingle.ogg`,.9)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key),l=e.soundManager.instance.getSound(r.soundDatas[2].key),u=e.soundManager.instance.getSound(r.soundDatas[3].key),h=e.soundManager.instance.getSound(r.soundDatas[4].key),f=e.soundManager.instance.getSound(r.soundDatas[5].key);let m,g=!0;m=yield s.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v());let y=2;do{m=yield o.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield l.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield u.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=g?yield h.play():yield f.play(),g=!g,e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v(1===y)),--y}while(y>0)}),"soft-freak-fiesta","Soft Freak Fiesta");return r}habitarium(){var e=this;const r=new kn([ce.music("habitariumMainTheme",`${this.pathGame}/Habitarium_main_theme.ogg`,.9),ce.music("habitariumInGameLoop",`${this.pathGame}/Habitarium_InGameLoop.ogg`,.8)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key);let l,u=2;do{l=yield s.play(),e.instancePlayedListeners.forEach(h=>h(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(h=>h()),l=yield o.play(),e.instancePlayedListeners.forEach(h=>h(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}),"habitarium","Habitarium");return r}tinyPlaces(){var e=this;const t="tiny-places",r=`${Si.dir}game/${t}.png`;console.log(r);const s=new kn([ce.music("tpMainThemeIntro",`${this.pathGame}/TP_mainThemeIntro.ogg`,.8),ce.music("tpMainThemeBridge",`${this.pathGame}/TP_mainThemeBridge.ogg`,.8),ce.music("tpSpaceWorld",`${this.pathGame}/TP_spaceWorld.ogg`,.8),ce.music("tpTomb",`${this.pathGame}/TP_tomb.ogg`,.8),ce.music("tpLazyStyle",`${this.pathGame}/TP_lazyStyle.ogg`,.8),ce.music("tpCutScene",`${this.pathGame}/TP_cutScene.ogg`,.8),ce.music("tpInGame",`${this.pathGame}/TP_inGame.ogg`,.8),ce.music("tpOutOfTime",`${this.pathGame}/TP_outoftime.ogg`,.8)],()=>zt(function*(){const o=e.soundManager.instance.getSound(s.soundDatas[0].key),l=e.soundManager.instance.getSound(s.soundDatas[1].key),u=e.soundManager.instance.getSound(s.soundDatas[2].key),h=e.soundManager.instance.getSound(s.soundDatas[3].key),f=e.soundManager.instance.getSound(s.soundDatas[4].key),g=e.soundManager.instance.getSound(s.soundDatas[5].key),m=e.soundManager.instance.getSound(s.soundDatas[6].key),y=e.soundManager.instance.getSound(s.soundDatas[7].key);let v;v=yield o.play(),e.instancePlayedListeners.forEach(C=>C(v.instance));const M=o.audioCtx.currentTime;v.instance.gainWrapper.setValueAtTime(.4,M).exponentialRampToValueAtTime(.8,M+.3),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield l.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield u.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield u.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield h.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield h.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield f.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield f.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield g.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield m.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C()),v=yield y.play(),e.instancePlayedListeners.forEach(C=>C(v.instance)),yield v.endedPromise,e.instanceEndedListeners.forEach(C=>C(!0))}),t,"Tiny Places",r);return s}jol2008(){var e=this;const r=new kn([ce.music("jol2008mainMusic",`${this.pathGame}/jolagogo2008_main_music.ogg`),ce.music("jol2008gameOver",`${this.pathGame}/jolagogo2008_game_over.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key);let l;l=yield s.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u()),l=yield s.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u()),l=yield o.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u(!0))}),"christmas-game-2008","Christmas Game 2008");return r}jol2009(){var e=this;const r=new kn([ce.music("jol2009bridge",`${this.pathGame}/jolagogo2009_Bridge.ogg`),ce.music("jol2009chorus",`${this.pathGame}/jolagogo2009_Chorus.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key);let l,u=2;do{if(l=yield s.play(),e.instancePlayedListeners.forEach(h=>h(l.instance)),2===u){const h=s.audioCtx.currentTime;l.instance.gainWrapper.setValueAtTime(.1,h).exponentialRampToValueAtTime(1,h+.25)}yield l.endedPromise,e.instanceEndedListeners.forEach(h=>h()),l=yield o.play(),e.instancePlayedListeners.forEach(h=>h(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}),"christmas-game-2009","Christmas Game 2009");return r}whosYourFriend(){var e=this;const r=new kn([ce.music("wyf",`${this.pathGame}/WYF_ThemeSong.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:l}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield l,e.instanceEndedListeners.forEach(u=>u(!0))}),"whos-your-friend","Who's Your Friend");return r}knowYourFriend(){var e=this;const r=new kn([ce.music("kyfIntroMusic",`${this.pathGame}/KYF_IntroMusic_WithAudience.ogg`),ce.music("kyf90secMusic",`${this.pathGame}/KYF_90secondsMusic.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key);let l;l=yield o.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u()),l=yield s.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u()),l=yield s.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u()),l=yield o.play(),e.instancePlayedListeners.forEach(u=>u(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(u=>u(!0))}),"know-your-friend","Know Your Friend");return r}stackem(){var e=this;const r=new kn([ce.music("stackem",`${this.pathGame}/Stackem_Tune_loop.ogg`,.9)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key);let o=2;do{const{instance:l,endedPromise:u}=yield s.play();e.instancePlayedListeners.forEach(h=>h(l)),yield u,e.instanceEndedListeners.forEach(h=>h()),o--}while(o>0)}),"stack-em","Stack'em");return r}glowbulleville(){var e=this;const r=new kn([ce.music("glowMainMusic",`${this.pathGame}/GLOB_main_music.mp3`,.8),ce.music("glowVillageMusic",`${this.pathGame}/GLOB_village_music.mp3`),ce.music("glowWack",`${this.pathGame}/GLOB_wack_a_mole.mp3`,.8)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key),l=e.soundManager.instance.getSound(r.soundDatas[2].key);let u,h=2;do{u=yield s.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield s.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield o.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield o.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f()),u=yield l.play(),e.instancePlayedListeners.forEach(f=>f(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(f=>f(1===h)),h--}while(h>0)}),"glowbulleville","Glowbulleville");return r}godsrule(){var e=this;const r=new kn([ce.music("godsruleBattle",`${this.pathGame}/LOTON_BattleBaseLayer.ogg`),ce.music("godsruleDefeat",`${this.pathGame}/LOTON_CombatDefeatMusic.ogg`),ce.music("godsruleVictory",`${this.pathGame}/LOTON_CombatVictory.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key),l=e.soundManager.instance.getSound(r.soundDatas[2].key);let u,h=2;do{u=yield s.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),u=yield o.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),u=yield l.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),h--}while(h>0);u=yield s.play(),e.instancePlayedListeners.forEach(m=>m(u.instance));const g=u.instance.sourceNode.buffer?.duration||10;u.instance.gainWrapper.setTargetAtTime(0,s.audioCtx.currentTime+g/2,g/6),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m(!0))}),"godsrule-battle","Godsrule: Battle");return r}vot(){var e=this;const r=new kn([ce.music("votFeudDrums",`${this.pathGame}/VOT_FeudMusic_drums.ogg`),ce.music("votFeud",`${this.pathGame}/VOT_FeudMusic.ogg`),ce.music("votFeudEnding",`${this.pathGame}/VOT_FeudEnding.ogg`)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),o=e.soundManager.instance.getSound(r.soundDatas[1].key),l=e.soundManager.instance.getSound(r.soundDatas[2].key);let u;u=yield s.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),u=yield o.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(m=>m()),u=yield o.play(),e.instancePlayedListeners.forEach(m=>m(u.instance)),u.instance.gainWrapper.setTargetAtTime(0,o.audioCtx.currentTime+(u.instance.sourceNode.buffer?.duration||10)-.799,1);const g=function(){var m=zt(function*(){e.instanceEndedListeners.forEach(y=>y()),u=yield l.play(),e.instancePlayedListeners.forEach(y=>y(u.instance)),yield u.endedPromise,e.instanceEndedListeners.forEach(y=>y(!0))});return function(){return m.apply(this,arguments)}}();e.timeout=setTimeout(()=>{g()},1e3*(u.instance.sourceNode.buffer?.duration||10)-799)}),"vikings-of-thule-fued","Vikings of Thule: Feud");return r}crisisGame(){var e=this;const r=new kn([ce.music("crisisEnd",`${this.pathGame}/Krepp_Endir.ogg`,.9)],()=>zt(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key);let o;o=yield s.play(),e.instancePlayedListeners.forEach(l=>l(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(l=>l(!0))}),"the-crisis-game","The Crisis Game");return r}static#e=this.\u0275fac=function(t){return new(t||Ja)(R(lo),R(ui))};static#t=this.\u0275prov=Y({token:Ja,factory:Ja.\u0275fac,providedIn:"root"})}class t1{}class Xa{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(e){return Math.floor(e*Math.random())}startUniqueNumberTracking(e){if(e<=0)throw new n1(n1.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=e,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let e=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let t=0;t<=this.uniqueNumbers.size;t++)if(!this.uniqueNumbers.has(t)){e=t;break}}else do{e=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(e));return this.uniqueNumbers.set(e,!0),e}static#e=this.\u0275fac=function(t){return new(t||Xa)};static#t=this.\u0275prov=Y({token:Xa,factory:Xa.\u0275fac,providedIn:"root"})}class n1{constructor(e){this.name="RandomNumberError",this.message=e}static#e=this.msgNumberMustBeHigherThanZero="Number must be > 0"}class co{constructor(e,t,i,r,s,o,l,u,h){this.soundManager=e,this.musicStreamer=t,this.youtubeService=i,this.windowRef=r,this.myTracks=s,this.randomNumber=o,this.messageService=l,this.htmlService=u,this.logService=h,this.label="MusicService",this.urlPathRoot="music/",this.windowWidth=300,this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!1,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,h.log),this.myTracks.init(),this._byTracks=s.byTracks,this.tracks=s.flatTracks,this._isShuffle?(o.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[o.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack,this.subscription=this.messageService.onMessage().subscribe(f=>{"YoutubeVolumeChange"===f.type&&this.setVolumeAndMutedFromYoutubePlayer()})}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}setSelectTrackByRootUrl(e){let t=this.myTracks.getTrackByRootUrl(e);void 0===t&&(this.logService.log("Error",`could not get track by rootUrl ${e}, returning first track`),t=this.tracks[0]),this._selectedTrack=this.nextSelectedTrack=t,this._isShuffle=!1,this.isSelectedTrackWithActiveYoutubeVisuals?this.youtubeService.onWindowInitSize(this.windowWidth,0):this.setHeaderContainerHeightForMyPlayer()}get playState(){return this._playState}get isShuffle(){return this._isShuffle}ngOnDestroy(){this.subscription instanceof O&&this.subscription.unsubscribe()}sendYoutubePlayerElement(e){this.youtubeService.savePlayerElement(e)}onWindowInitSize(e,t){this.youtubeService.onWindowInitSize(e,t),this.windowWidth=e}onWindowResize(e,t){this.isSelectedTrackWithActiveYoutubeVisuals?this.youtubeService.onWindowResize(e,t):this.setHeaderContainerHeightForMyPlayer(),this.windowWidth=e}get isSelectedTrackWithActiveYoutubeVisuals(){return"Youtube"==this._selectedTrack.source&&!0===this._selectedTrack.displayOnYoutube}setHeaderContainerHeightForMyPlayer(){let e=this.htmlService.get("headerContainer"),t=this.htmlService.get("headerBackground");e.value.nativeElement.style.height="98px",t.value.nativeElement.style.height="98px"}onYoutubePlayerReady(e){this.youtubeService.onPlayerReady(e,100*this.masterGain,this.isSelectedTrackWithActiveYoutubeVisuals)}OnYoutubePlayerStateChange(e){console.log("OnYoutubePlayerStateChange",e),e===YT.PlayerState.PAUSED&&"Paused"!==this.playState?this.pause():e!==YT.PlayerState.PLAYING&&e!==YT.PlayerState.BUFFERING||"Playing"===this.playState?e===YT.PlayerState.ENDED&&this.NextTrackAndPlayFromStart():this.play()}onYoutubeBtn(){this.youtubeService.toFullScreen()}initStreamer(){if(!this.musicStreamer.isInitialized){this.musicStreamer.init();var e=this.getStreamUrl(this._selectedTrack);""!=e&&this.musicStreamer.load(e,!1)}}playerUiInitialized(e){this.playerUiGainsDisabled=e}getStreamUrl(e){return e.soundcloudUrl}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}OnUiPlayOrPause(){switch(this.playState){case"Playing":this.pause();break;case"Paused":this.play();break;case"Stopped":this.playFromStart();break;default:return}}onUiNextTrack(){this.nextTrack(),this.playFromStart()}onUiTrackSelected(e){this.nextSelectedTrack=e,this.playFromStart()}play(){switch(this.logService.log("Info","play() in MusicService"),this._selectedTrack.source){case"Youtube":this.youtubeService.play();break;case"Soundcloud":this.musicStreamer.play();break;default:this.playViaSoundManager()}}playViaSoundManager(){this.soundManager.play(),this._playState="Playing"}playFromStart(){switch(this.logService.log("Info","playFromStart() in MusicService"),this.stop(),this._playState="Loading",this._selectedTrack=this.nextSelectedTrack,this._selectedTrack.source){case"Youtube":this.youtubeService.playFromStart(this._selectedTrack),this.isSelectedTrackWithActiveYoutubeVisuals?this.youtubeService.onWindowResize(this.windowWidth,0):this.setHeaderContainerHeightForMyPlayer();break;case"Soundcloud":this.musicStreamer.playFromStart(this._selectedTrack),this.setHeaderContainerHeightForMyPlayer();break;default:this.soundManager.playFromStart(this._selectedTrack,this.playerUiGainsDisabled),this.setHeaderContainerHeightForMyPlayer()}}pause(){switch(this.logService.log("Info","pause() in MusicService"),this._selectedTrack.source){case"Youtube":this.pauseYoutube();break;case"Soundcloud":this.pauseSoundcloud();break;default:this.soundManager.instance.pause(),this._playState="Paused"}}pauseYoutube(){this.youtubeService.pause(),this._playState="Paused"}pauseSoundcloud(){this.musicStreamer.pause(),this._playState="Paused"}stop(){switch(this.logService.log("Info","stop() in MusicService"),this._selectedTrack.source){case"Soundcloud":this.musicStreamer.pause();break;case"Local":this.soundManager.stop(this._selectedTrack),this.myTracks.instanceEndedListeners.forEach(e=>e(!1));break;case"Youtube":this.youtubeService.pause()}this._playState="Stopped"}nextTrack(){let e;e=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index===this.tracks.length-1?0:this._selectedTrack.index+1,this.logService.log("Info","nextIndex",e),this.nextSelectedTrack=this.tracks[e]}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(e){this.soundManager.instance.masterGain=e,this.musicStreamer.volume=100*e,this.youtubeService.volume=100*e}get masterMuted(){return this.soundManager.instance.masterMuted}set masterMuted(e){this.soundManager.instance.masterMuted=e,this.musicStreamer.muted=e,this.youtubeService.muted=e}setVolumeAndMutedFromYoutubePlayer(){let e=this.youtubeService.volume;this.soundManager.instance.masterGain=e/100,this.musicStreamer.volume=e;let t=this.youtubeService.muted;this.soundManager.instance.masterMuted!==t&&(this.soundManager.instance.masterMuted=t,this.musicStreamer.muted=t)}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,e=>{this.onPlayed()}),this.addInstanceEndedListener(`${this.label} endedListener`,(e,t)=>{e&&this.NextTrackAndPlayFromStart(),this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0)})}NextTrackAndPlayFromStart(){this.nextTrack(),this.playFromStart()}onPlayed(){this._playState="Playing",this._playStateChangeListener()}addInstancePlayedListener(e,t){this.myTracks.instancePlayedListeners.set(e,t),this.musicStreamer.instancePlayedListeners.set(e,t),this.youtubeService.instancePlayedListeners.set(e,t)}addInstanceEndedListener(e,t){this.myTracks.instanceEndedListeners.set(e,t),this.musicStreamer.instanceEndedListeners.set(e,t),this.youtubeService.instanceEndedListeners.set(e,t)}addPlayStateChangeListener(e){this._playStateChangeListener=e}removeInstancePlayedListener(e){this.myTracks.instancePlayedListeners.delete(e)}removeInstanceEndedListener(e){this.myTracks.instanceEndedListeners.delete(e),this.musicStreamer.instanceEndedListeners.delete(e)}static#e=this.\u0275fac=function(t){return new(t||co)(R(lo),R(Za),R(Qa),R(uo),R(Ja),R(t1),R(os),R(as),R(ui))};static#t=this.\u0275prov=Y({token:co,factory:co.\u0275fac,providedIn:"root"})}const FV=["trackGraphicContainer"],VV=["canvas0"],UV=["canvas1"],HV=["canvas2"],BV=["canvas3"],jV=["topLine"],r1=function(n){return{nodeSelected:n}};function $V(n,e){if(1&n){const t=mr();c(0,"div",21),Ze("click",function(){const s=cr(t).$implicit;return dr(Me(3).onTrackClick(s))}),a(1),d()}if(2&n){const t=e.$implicit,i=Me(3);T("ngClass",yr(2,r1,t.name===i.selectedTrack.name)),b(1),$e(" ",t.name," ")}}function GV(n,e){if(1&n&&(c(0,"div",19),Ee(1,$V,2,4,"div",20),d()),2&n){const t=Me().$implicit;b(1),T("ngForOf",t.tracks)}}const zV=function(n,e){return{branchAnimateClose:n,branchAnimateOpen:e}};function WV(n,e){if(1&n){const t=mr();c(0,"div")(1,"div",14),Ze("click",function(){const s=cr(t).index;return dr(Me().onByClick(s))}),c(2,"div",15),p(3,"div",16),d(),c(4,"span",17),a(5),d()(),Ee(6,GV,2,1,"div",18),d()}if(2&n){const t=e.$implicit,i=e.index,r=Me();b(3),T("ngClass",aa(4,zV,r.openedUiByIndex!=i,r.openedUiByIndex===i)),b(1),T("ngClass",yr(7,r1,r.selectedTrack.artistName===t.name)),b(1),Qe(t.name),b(1),T("ngIf",r.openedUiByIndex===i)}}function qV(n,e){if(1&n&&(c(0,"div")(1,"figure"),p(2,"img",22),d()()),2&n){const t=Me();b(2),Bt("src",t.selectedTrack.artworkPath,fr),Zh("alt","Artwork for ",t.selectedTrack.name," by ",t.selectedTrack.artistName,"")("title","Artwork for ",t.selectedTrack.name," by ",t.selectedTrack.artistName,"")}}function KV(n,e){if(1&n&&(c(0,"span",23)(1,"a",24),p(2,"img",25),d()()),2&n){const t=Me();b(1),Bt("href",t.selectedTrack.soundcloudUrl,fr),b(1),Xo("alt","Play ",t.selectedTrack.name," on SoundCloud")("title","Play ",t.selectedTrack.name," on SoundCloud")}}function YV(n,e){if(1&n&&(c(0,"span",23)(1,"a",24),p(2,"img",26),d()()),2&n){const t=Me();b(1),Bt("href",t.selectedTrack.spotifyUrl,fr),b(1),Xo("alt","Play ",t.selectedTrack.name," on Spotify")("title","Play ",t.selectedTrack.name," on Spotify")}}function ZV(n,e){if(1&n&&(c(0,"span",23)(1,"a",27),a(2,"Buy"),d()()),2&n){const t=Me();b(1),Bt("href",t.selectedTrack.buyUrl,fr)}}function QV(n,e){if(1&n&&(c(0,"div")(1,"h4"),a(2),d(),p(3,"p",28),d()),2&n){const t=Me();b(2),$e("About ",t.selectedTrack.name,""),b(1),T("innerHTML",t.selectedTrack.about,ii)}}function JV(n,e){if(1&n&&(c(0,"div")(1,"h4"),a(2),d(),p(3,"p",28),d()),2&n){const t=Me();b(2),$e("About ",t.selectedTrack.artistName,""),b(1),T("innerHTML",t.selectedTrack.artistAbout,ii)}}class el{constructor(e,t,i,r){this.musicService=e,this.logService=t,this.route=i,this.location=r,this.label="MusicPage",this.drawVisuals=[],this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.currentCanvasNr=0,this.canvasNrAscending=!1,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=-1}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}get selectedTrackAsYoutubeTrack(){return this.musicService.selectedTrack}ngOnInit(){this.route.paramMap.subscribe(e=>{const t=e.get("trackName");null!==t?this.musicService.setSelectTrackByRootUrl(t):this.replaceUrlState()}),this.musicService.addInstancePlayedListener(this.playedListenerName,e=>{const t=this.getNextCanvas(),i=this.tryGetCanvasContext(t);i&&e&&this.visualize(e,t,i,this.drawVisuals),this.replaceUrlState()}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.clearVisuals()}),this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}replaceUrlState(){this.location.replaceState(`${this.musicService.urlPathRoot}${this.selectedTrack.rootUrl}`)}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}onTrackClick(e){"Loading"!==this.musicService.playState?this.musicService.onUiTrackSelected(e):this.logService.log("Info","MusicPage onTrackClick: is loading, returning without processing")}onByClick(e){this.openedUiByIndex=this.openedUiByIndex===e?-1:e}get layerText(){if(this.musicService.selectedTrack instanceof Ya&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const e=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(e[e.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}tryGetCanvasContext(e){const t=e.nativeElement.getContext("2d");return t||this.logService.log("Error",'"canvasContext" was "null"'),t}visualize(e,t,i,r){const s=e.analyzerNode;s.fftSize=2048;const o=s.fftSize,l=new Uint8Array(o),u=t.nativeElement.width,h=t.nativeElement.height;i.clearRect(0,0,u,h),t.nativeElement.classList.remove("hide");const f=()=>{r.push(requestAnimationFrame(f)),s.getByteTimeDomainData(l),i.fillStyle="#111",i.fillRect(0,0,u,h),i.lineWidth=3,i.strokeStyle="#B9CA4A",i.beginPath();const g=1*u/o;let m=0;for(let y=0;y<o;y++){const M=l[y]/128*h/2;0===y?i.moveTo(m,M):i.lineTo(m,M),m+=g}i.lineTo(u,h/2),i.stroke()};f()}clearVisuals(){this.drawVisuals.forEach(e=>{window.cancelAnimationFrame(e)}),this.drawVisuals=[],this.canvases.forEach(e=>{this.tryGetCanvasContext(e)?.clearRect(0,0,e.nativeElement.width,e.nativeElement.height),e.nativeElement.classList.add("hide")}),this.currentCanvasNr=1,this.canvasNrAscending=!1}static#e=this.\u0275fac=function(t){return new(t||el)(D(co),D(ui),D(Sr),D(ga))};static#t=this.\u0275cmp=wt({type:el,selectors:[["app-music-page"]],viewQuery:function(t,i){if(1&t&&(Tt(FV,5),Tt(VV,7),Tt(UV,7),Tt(HV,7),Tt(BV,7),Tt(jV,7)),2&t){let r;dt(r=ht())&&(i.trackGraphicContainerElement=r.first),dt(r=ht())&&(i.canvas0=r.first),dt(r=ht())&&(i.canvas1=r.first),dt(r=ht())&&(i.canvas2=r.first),dt(r=ht())&&(i.canvas3=r.first),dt(r=ht())&&(i.topLine=r.first)}},features:[st([ga,{provide:br,useClass:Ff}])],decls:22,vars:7,consts:[[1,"canvas","hide"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"trackGraphicContainer"],["trackGraphicContainer",""],[4,"ngIf"],[1,"buttonContainer"],["class","iconButton",4,"ngIf"],[1,"trackRightContainer"],[1,"trackRightInner"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[1,"branchIcon",3,"ngClass"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"image",3,"src","alt","title"],[1,"iconButton"],["target","\u201d_blank\u201d",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Soundcloud_logo.svg",1,"soundcloudIcon",3,"alt","title"],["src","https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg ",1,"spotifyIcon",3,"alt","title"],["target","\u201d_blank\u201d",1,"IconLink",3,"href"],[3,"innerHTML"]],template:function(t,i){1&t&&(c(0,"div"),p(1,"canvas",0,1)(3,"canvas",0,2)(5,"canvas",0,3)(7,"canvas",0,4),d(),c(9,"div",5),Ee(10,WV,7,9,"div",6),d(),c(11,"div",7,8),Ee(13,qV,3,5,"div",9),c(14,"div",10),Ee(15,KV,3,3,"span",11),Ee(16,YV,3,3,"span",11),Ee(17,ZV,3,1,"span",11),d()(),c(18,"div",12)(19,"div",13),Ee(20,QV,4,2,"div",9),Ee(21,JV,4,2,"div",9),d()()),2&t&&(b(10),T("ngForOf",i.byTracks),b(3),T("ngIf",""!==i.selectedTrack.artworkPath),b(2),T("ngIf",""!==i.selectedTrack.soundcloudUrl),b(1),T("ngIf",""!==i.selectedTrack.spotifyUrl),b(1),T("ngIf",""!==i.selectedTrack.buyUrl),b(3),T("ngIf",""!==i.selectedTrack.about),b(1),T("ngIf",""!==i.selectedTrack.artistAbout))},dependencies:[va,ba,yn],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid var(--colorGrayLight);border-radius:.3em}.trackGraphicContainer[_ngcontent-%COMP%]{float:left;width:50%}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.trackRightContainer[_ngcontent-%COMP%]{float:right;width:50%}.trackRightInner[_ngcontent-%COMP%]{float:left;margin-left:2%}.iconButton[_ngcontent-%COMP%]{width:100px;height:30px;border:1px solid var(--colorGrayLight);border-radius:1em;text-align:center;padding-top:3px;margin-left:1em;margin-right:1em}.spotifyIcon[_ngcontent-%COMP%]{height:90%;width:80%}.soundcloudIcon[_ngcontent-%COMP%]{height:90%;width:96%}.IconLink[_ngcontent-%COMP%]{vertical-align:middle}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0;left:0;width:72px;height:72px;opacity:0}}@media screen and (max-width: 451px){.trackGraphicContainer[_ngcontent-%COMP%], .trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}}@media screen and (min-width: 452px) and (max-width: 703px){.canvas[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;width:96%}.trackGraphicContainer[_ngcontent-%COMP%], .trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}}@media screen and (min-width: 704px) and (max-width: 1053px){.trackGraphicContainer[_ngcontent-%COMP%]{width:100%}.canvas[_ngcontent-%COMP%]{margin-left:4%;margin-right:4%;width:92%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.canvas[_ngcontent-%COMP%]{margin-left:6%;margin-right:6%;width:88%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.canvas[_ngcontent-%COMP%]{margin-left:8%;margin-right:8%;width:84%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 2001px){.canvas[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}"]})}class Nc{static#e=this.\u0275fac=function(t){return new(t||Nc)};static#t=this.\u0275cmp=wt({type:Nc,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(t,i){1&t&&(c(0,"h1"),a(1,"Page not found for this url"),d())},encapsulation:2})}class ci{constructor(e){this.blogService=e}get post(){return this.blogService.selectedPost}get publishedDateToString(){return this.dateToString(this.post.publishedDate)}get hasUpdatedDate(){return void 0!==this.post.updatedDate}get updatedDateToString(){return void 0===this.post.updatedDate?"":this.dateToString(this.post.updatedDate)}dateToString(e){const i=new Yf("en-US").transform(e,"YYYY MMM dd");return null===i?"":i}get aboutCodeHtml(){return'<h2>The code</h2>\n<p>\n\tThe code shown below is focused on the current cycle step, thus only showing the relevant lines\t.<br>\n\tThe complete code and the Unity project is on <a href="https://github.com/EgillAntonsson/tdd-avatar-health-in-unity">GitHub</a>.\n</p>'}get completeRequirementListHtml(){return'<sup>The complete requirement list from the user perspective is in <a href="./blog/tdd-health/part2">Part 2</a></sup>'}get rewordRequirement(){return"Let's reword this focusing on the domain model and using its terminology:"}static#e=this.\u0275fac=function(t){return new(t||ci)(D(ro))};static#t=this.\u0275cmp=wt({type:ci,selectors:[["ng-component"]],decls:2,vars:0,template:function(t,i){1&t&&(c(0,"h1"),a(1,"base class template not used"),d())},encapsulation:2})}function XV(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class tl extends ci{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(tl)))(i||tl)}}();static#t=this.\u0275cmp=wt({type:tl,selectors:[["app-post-tdd-1"]],features:[ke],decls:374,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","http://www.jamesshore.com/v2/blog/2005/red-green-refactor"],[1,"list"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/25"],[1,"list","inline"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/193"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://www.linkedin.com/in/egillantonsson"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/what-is-domain-logic/"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","http://xunitpatterns.com/Mocks,%20Fakes,%20Stubs%20and%20Dummies.html"],["href","https://medium.com/aia-sg-techblog/why-singleton-pattern-is-considered-as-anti-design-pattern-c81dd8b7e757"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],[1,"horizontalLine"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,XV,2,1,"small",1),d(),c(11,"h2"),a(12,"What is TDD ?"),d(),c(13,"p"),a(14," TDD is an acronym for "),c(15,"i"),a(16,"Test Driven Development"),d(),p(17,"br"),a(18," and is a workflow discipline / approach for developers, focused on "),c(19,"b"),a(20,"when"),d(),a(21," to write unit tests,"),p(22,"br"),a(23," and the heart of it is the "),c(24,"a",2),a(25,"RED / GREEN / REFACTOR cycle:"),d()(),c(26,"ol",3)(27,"li")(28,"span",4),a(29,"RED:"),d(),a(30," Write a test that fails"),d(),c(31,"li")(32,"span",5),a(33,"GREEN:"),d(),a(34," Get the test to pass, with minimal effort"),d(),c(35,"li")(36,"span",6),a(37,"REFACTOR:"),d(),a(38," Evaluate if refactoring is needed, e.g. remove a "),c(39,"a",7),a(40,"code smell"),d()()(),c(41,"p"),a(42,"The cycle should focus is on fulfilling a requirement on the SUT (Subject/Unit Under Test)"),p(43,"br"),a(44," repeating it until you are confident that the SUT has become generic enough to handle all meaningful cases"),p(45,"br"),a(46," (as the tests become more specific)."),p(47,"br"),a(48," At some interval you should stop and evaluate if the design of the overall system is sound, if not then refactor it."),p(49,"br"),a(50," (all tests run and passing as frequently as needed)."),p(51,"br"),a(52," This is my summarization of Uncle Bob's post "),c(53,"a",8),a(54,"The Cycles of TDD"),d(),a(55,"."),p(56,"br"),a(57," (Bob terms additional cycles within and around RED / GREEN / REFACTOR).\n"),d(),c(58,"h2"),a(59,"What is a good Unit Test ?"),d(),c(60,"p"),a(61," A good unit test is focused on a specific SUT requirement,"),p(62,"br"),a(63," of meaningful logic (e.g. don't test simple getter properties on their own)."),p(64,"br"),a(65," The test code should be kept as clean as the production code ("),c(66,"span",6),a(67,"REFACTOR"),d(),a(68," step in TDD applies to both)."),p(69,"br"),a(70," Here are definitions from "),c(71,"b"),a(72,"Roy Osherove"),d(),a(73," in "),c(74,"i"),a(75,"The Art of Unit testing, 3rd edition"),d(),p(76,"br"),a(77," (for him the word 'unit' in unit testing stands for 'unit of work'):\n"),d(),c(78,"h3")(79,"a",9),a(80,"Unit of Work definition"),d()(),c(81,"p"),a(82,"\nA "),c(83,"i"),a(84,"unit of work"),d(),a(85," is the sum of actions that take place between the invocation of an "),c(86,"i"),a(87,"entry point"),d(),p(88,"br"),a(89,"\nup until a noticeable end result through one or more "),c(90,"i"),a(91,"exit points"),d(),a(92,"."),p(93,"br"),a(94,"\nThe "),c(95,"i"),a(96,"entry point"),d(),a(97," is the thing we trigger."),p(98,"br"),a(99,"\nGiven a publicly visible function, for example:\n"),d(),c(100,"ul",10)(101,"li"),a(102,"The function's body is all or part of the "),c(103,"i"),a(104,"unit of work"),d(),a(105,"."),d(),c(106,"li"),a(107,"The function's declaration and signature are the "),c(108,"i"),a(109,"entry point"),d(),a(110," into the body."),d(),c(111,"li"),a(112,"The resulting outputs or behaviors of the function are its "),c(113,"i"),a(114,"exit points"),d(),a(115,"."),d()(),c(116,"h3")(117,"a",11),a(118,"Good Unit Test definition"),d()(),c(119,"p"),a(120,"\nA "),c(121,"i"),a(122,"unit test"),d(),a(123," is an automated piece of code that invokes the "),c(124,"i"),a(125,"unit of work"),d(),p(126,"br"),a(127,"\nthrough an "),c(128,"i"),a(129,"entry point"),d(),a(130,", and then checks one of its "),c(131,"i"),a(132,"exit points"),d(),a(133,"."),p(134,"br"),a(135,"\nIt can be written easily and runs quickly."),p(136,"br"),c(137,"b"),a(138,"It's trustworthy, readable & maintainable."),p(139,"br"),a(140,"\nIt is consistent as long as the production code we control has not changed."),d()(),c(141,"h2"),a(142,"Why do TDD ?"),d(),c(143,"p"),a(144,"Here is a my non-exhaustive list of the benefits of TDD in order of priority:"),d(),c(145,"ol",10)(146,"li"),a(147,"Ensures you'll have passing test suite with high production code coverage"),p(148,"br"),a(149," that runs fast (each case less than 0.1 sec) so you get feedback early,"),p(150,"br"),a(151," thus you can clean the code fast and continuously without fear of breaking it,"),p(152,"br"),a(153," thus have high confidence in the shipped product quality."),p(154,"br"),d(),c(155,"li"),a(156,"It pushes for good production code design and maintainability:"),d(),c(157,"ul")(158,"li")(159,"a",12),a(160,"Separation of Concerns (SoC)"),d()(),c(161,"li"),a(162,"code to be low "),c(163,"a",13),a(164,"coupled"),d(),a(165," / have few dependencies"),d(),c(166,"li"),a(167,"each unit / object has readable and requirement-focused interface"),p(168,"br"),a(169," (internals should be "),c(170,"a",14),a(171,"encapsulated"),d(),a(172,")"),d()(),c(173,"li"),a(174,"The tests are accurate and up-to-date (developer focused) documentation"),p(175,"br"),a(176," of the behavior of the tested units."),d(),c(177,"li"),a(178,"Less time spent in the debugger"),d()(),c(179,"p"),a(180," There are also criticisms on TDD, e.g. the post "),c(181,"a",15),a(182,"TDD is dead. Long live testing"),d(),a(183,","),p(184,"br"),a(185," and discussion about it, e.g. the YouTube series "),c(186,"a",16),a(187,"Is TDD dead ?"),d(),p(188,"br"),a(189," and responses to it, e.g the post "),c(190,"a",17),a(191,"Monogamous TDD"),d(),a(192,".\n"),d(),c(193,"h2"),a(194,"Is TDD suitable for all areas / situations ?"),d(),c(195,"p"),a(196," I have over a decade long "),c(197,"a",18),a(198,"developer work experience"),d(),p(199,"br"),a(200," mainly as front-end game developer, and shared game systems developer."),p(201,"br"),a(202," I've gained some experience in writing good unit tests (being 'not so good' at the start of the journey)."),p(203,"br"),a(204," but I've used TDD to a lesser degree, thus I'm currently not very seasoned in using TDD."),p(205,"br"),a(206," The reason why I haven't used TDD more is mainly two-fold:\n"),d(),c(207,"ul",10)(208,"li"),a(209,"Sometimes when facing many 'hard to influence' deadlines,"),p(210,"br"),a(211," I've chosen the (not ideal) 'get it done in time' approach (Thus writing unit tests later)."),d(),c(212,"li"),a(213,"I'm working in areas / situations where it is not so suited or easy to use TDD."),d()(),c(214,"p"),a(215," Below are areas / situations where it is not so suited or easy to use TDD"),p(216,"br"),a(217," (and some tips how to work TDD more into them).\n"),d(),c(218,"h3"),a(219,"Boundary layers"),d(),c(220,"p"),a(221," A big part of a game is the graphic user interface (GUI) and visual effects, user input and sound,"),p(222,"br"),a(223," should these parts be unit tested ?"),p(224,"br")(225,"br"),a(226," These parts can be described as layers close to the physical output/input boundaries (e.g. screen, speaker)"),p(227,"br"),a(228," The design can be driven to make these boundary layers thin and "),c(229,"a",19),a(230,"humble"),d(),a(231,","),p(232,"br"),a(233," focusing on the responsibility of the boundary (e.g. disable/enable button), and extracting other logic into other modules that can be easily tested."),p(234,"br")(235,"br"),a(236," It's likely that the logic to extract is in fact the "),c(237,"a",20),a(238,"domain logic"),d(),a(239," (a.k.a business logic),"),p(240,"br"),a(241," the code that makes (non-visual) game decisions (business)"),p(242,"br"),a(243," and thus belongs to the "),c(244,"a",21),a(245,"domain model"),d(),a(246," and then should be moved there"),p(247,"br"),a(248," (the domain model should not depend on any boundaries, thus be easily unit testable)."),p(249,"br")(250,"br"),a(251," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen."),p(252,"br"),a(253," If boundary bugs begin slipping into the production as the project grows,"),p(254,"br"),a(255," then it's time to replace some of the manual testing effort with automated tests (e.g integration and/or UI tests)."),p(256,"br"),a(257," The "),c(258,"a",22),a(259,"Test Pyramid"),d(),a(260," could be a guide for that process.\n"),d(),c(261,"h3"),a(262,"Legacy Code"),d(),c(263,"p"),a(264," Legacy code in a sentence is "),c(265,"a",23),a(266,"valuable code you are afraid to change"),d(),p(267,"br"),a(268," It typically:\n"),d(),c(269,"ul",10)(270,"li"),a(271,"has been developed for some time"),d(),c(272,"li"),a(273,"is already 'working' (for most common scenarios / most of the time)"),d(),c(274,"li"),a(275,"has some bad code design that has crept in with time"),p(276,"br"),a(277," (e.g. high coupling / high dependency)"),d(),c(278,"li"),a(279,"is hard to read and understand and reason about"),d(),c(280,"li"),a(281,"has no or few good unit tests / very low test coverage"),p(282,"br"),a(283," (or many very bad and fragile tests that are hard to read and understand"),d()(),c(284,"p"),a(285," When you need to fix or change legacy code"),p(286,"br"),a(287," it is hard to do and have the confidence that the change did not break something else."),p(288,"br"),a(289," A breakage is discovered late (QA manual testing or live production) which can be very costly"),p(290,"br"),a(291," (and it always takes effort to get again into the context to fix the bug)."),p(292,"br")(293,"br"),a(294," It's possible to prevent bad code design to creep up"),p(295,"br"),a(296," by strictly upholding great design principles, without writing unit tests."),p(297,"br"),a(298," But using TDD complements this prevention very well (see "),c(299,"i"),a(300,"Why do TDD ?"),d(),a(301," section above)"),p(302,"br")(303,"br"),a(304," One of the negative consequence of legacy code is that it's very hard to write unit tests"),p(305,"br"),a(306," They likely need a lot of "),c(307,"a",24),a(308,"Test Doubles"),d(),a(309," to mute dependency interference"),p(310,"br"),a(311," (where static objects and "),c(312,"a",25),a(313,"Singletons"),d(),a(314," become very tricky)."),p(315,"br")(316,"br"),a(317," Legacy code needs to be carefully refactored (ideally first covered with tests) into a better state"),p(318,"br"),a(319," before TDD can be used effortlessly and to it's full potential."),p(320,"br"),a(321," Improving legacy code is a big topic thus I'll leave it here by"),p(322,"br"),a(323," referencing one book: "),c(324,"a",26),a(325,"Working Effectively with Legacy Code"),d(),a(326,","),p(327,"br"),a(328," and one post: "),c(329,"a",27),a(330,"Starting TDD with legacy code"),d(),a(331,".\n"),d(),c(332,"h3"),a(333,"Prototype code"),d(),c(334,"p"),a(335," The focus of prototyping is to get out an idea as fast as possible to get feedback on it."),p(336,"br"),a(337," It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not,"),p(338,"br"),a(339," and there should be a "),c(340,"b"),a(341,"clear agreement that the prototype code will be thrown away"),d(),a(342,"."),p(343,"br"),a(344," It is fine to not (or sparsely) use TDD in the prototyping phase, if the consensus is it slows things down,"),p(345,"br"),a(346," but TDD should be used when the production project codebase is started from scratch."),p(347,"br"),d(),p(348,"div",28),c(349,"h2"),a(350,"Comments"),d(),c(351,"h4"),a(352,"Fabio Paes Pedro"),d(),c(353,"p"),a(354," I'm no expert but the value TDD provides became clear to me quite fast."),p(355,"br"),a(356," I believe this requires a mindset/process change though,"),p(357,"br"),a(358," a different way of thinking things through that might extend outside of our team, into a company level."),p(359,"br"),a(360," I can't wait to read the rest of this series!\n"),d(),c(361,"h4"),a(362,"My response"),d(),c(363,"p"),a(364," Thank you for your comment Fabio."),p(365,"br"),a(366," I agree that TDD requires a mindset/process change,"),p(367,"br"),a(368," where ideally the whole team and the company are aligned on using TDD to reap its benefits,"),p(369,"br"),a(370," (synced on an approach that recognizes that in some areas / situations the value of TDD can be limited (as the sections above go through)."),p(371,"br"),a(372," I aim to continue writing blog post and complete this series, so stay tuned :)\n"),d(),p(373,"div",28)),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate))},dependencies:[yn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function e3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class nl extends ci{static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(nl)))(i||nl)}}();static#t=this.\u0275cmp=wt({type:nl,selectors:[["app-post-tdd-2"]],features:[ke],decls:300,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://www.maginteractive.com"],["href","https://www.youtube.com/watch?v=R1aO4Tmw3zA&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","https://egill.rocks/blog/tdd-health/part1"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","https://www.youtube.com/watch?v=_vd2JyX6C1Y&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=8"],["href","https://www.youtube.com/watch?v=LPlH87XaWC8&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=9"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"list"],[1,"noBulletinPoint"],[1,"center"],["href","./blog/tdd-health/part1"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,e3,2,1,"small",1),d(),c(11,"h2"),a(12,"Preparing the assignment"),d(),c(13,"h3"),a(14,"My workshop"),d(),c(15,"p"),a(16," I recently to do a short workshop about TDD at "),c(17,"a",2),a(18,"work"),d(),p(19,"br"),a(20," and for preparation I browsed the internet looking for a fitting assignment,"),p(21,"br"),a(22," and I came across "),c(23,"a",3),a(24,"TDD in Unity - Part 1"),d(),a(25," by Charles Amat, where he sets up his assignment:"),p(26,"br"),a(27," implementing the "),c(28,"i"),a(29,"Life Gauge"),d(),a(30," from "),c(31,"i"),a(32,"Zelda: Breath of the Wild"),d(),a(33," game."),p(34,"br")(35,"br"),a(36," I thought this assignment was fitting for the workshop,"),p(37,"br"),a(38," thus I read the "),c(39,"a",4),a(40,"Life Gauge page on the Zelda wiki"),d(),a(41," (which was linked in the 'Part 1' post),"),p(42,"br"),a(43," and also played the game a bit, focusing on the "),c(44,"i"),a(45,"Life Gauge"),d(),a(46," behavior."),p(47,"br"),a(48," But I did not go through the 'TDD in Unity' series, as I was running out of preparation time."),p(49,"br")(50,"br"),a(51," My focus and task order in both my preparations and workshop walk-through:"),p(52,"br"),d(),c(53,"ol",5)(54,"li"),a(55,"Write down the "),c(56,"i"),a(57,"Life Gauge"),d(),a(58," behavior from the user perspective"),p(59,"br"),a(60," (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),c(61,"i"),a(62,"Zelda: Breath of the Wild"),d(),a(63,")"),d(),p(64,"br"),c(65,"li"),a(66,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill,"),p(67,"br"),a(68," as TDD is fully effective and effortless in the domain model"),d(),p(69,"br"),c(70,"li"),a(71,"Afterwards the focus would shift to the visual GUI,"),p(72,"br"),a(73," where the value of TDD likely would dwindle the closer I got to the physical boundary of the screen,"),p(74,"br"),a(75," ending with just manually testing with my eyes."),p(76,"br"),a(77," (Boundary layers section in "),c(78,"a",6),a(79,"Part 1"),d(),a(80," elaborates on 2. and 3.)"),d()(),c(81,"p"),a(82," I only had time prepare the first couple of domain logic requirements,"),p(83,"br"),a(84," and during the workshop we collaboratively completed those together"),p(85,"br"),a(86," (before the time was up)."),p(87,"br"),d(),c(88,"h3"),a(89,"Comparing approaches on the assignment"),d(),c(90,"p"),a(91," After the workshop I was curious how Charles Amat solved it,"),p(92,"br"),a(93," thus I watched on YouTube the whole "),c(94,"a",3),a(95,"TDD in Unity"),d(),a(96," series."),p(97,"br"),a(98," I both enjoyed and learned from watching Charles Amat "),c(99,"a",7),a(100,"live coding"),d(),a(101," and implementing the "),c(102,"i"),a(103,"Life Gauge"),d(),p(104,"br"),a(105," and his end result solution is good and sound, and I thank Charles for his contribution."),p(106,"br"),a(107," but I noticed that his focus and task order quite differed from mine, as he:"),p(108,"br"),d(),c(109,"ol",5)(110,"li"),a(111,"Starts planning how to create the heart container in Unity,"),p(112,"br"),a(113," from a GUI perspective"),d(),p(114,"br"),c(115,"li"),a(116,"Starts TDD-ing logic close to the GUI"),d(),p(117,"br"),c(118,"li"),a(119,"Ends with TDD-ing the domain logic ("),c(120,"a",8),a(121,"Part 7"),d(),a(122," and "),c(123,"a",9),a(124,"Part 8"),d(),a(125,")."),p(126,"br"),a(127," He simplifies the domain requirements from the "),c(128,"i"),a(129,"Breath of the Wild"),d(),p(130,"br"),a(131," as he states in the beginning"),p(132,"br"),c(133,"q"),a(134,"The Heart container depletes when the player takes damage"),p(135,"br"),a(136," and is replenished when the player consumes an item with a health effect. "),d()()(),c(137,"h3"),a(138,"Same assignment, but with a different focus"),d(),c(139,"p"),a(140," This is why I think it's worth doing another series with the same assignment,"),p(141,"br"),a(142," but with my focus, task order, and format."),p(143,"br")(144,"br"),a(145," My format will be blog posts focused on the TDD cycles"),p(146,"br"),a(147," displaying the appropriate code for each step."),p(148,"br"),a(149," I'll demonstrate how the requirements and the cycles"),p(150,"br"),a(151," guide and shape the code and my reasoning,"),p(152,"br"),a(153," that will read like poetry of rhythmic "),c(154,"span",10),a(155,"RED "),d(),c(156,"span",11),a(157,"GREEN "),d(),c(158,"span",12),a(159,"REFACTOR "),d(),a(160," loops,"),p(161,"br"),a(162," at least that's my ambition :)"),p(163,"br"),d(),c(164,"h2"),a(165,"The Life Gauge behavior"),d(),c(166,"p"),a(167,"\nThe below list is user perspective behaviour summary from"),p(168,"br"),a(169,"\nthe "),c(170,"a",4),a(171,"Life Gauge page on the Zelda Wiki"),d(),a(172," for the "),c(173,"i"),a(174,"Breath of the Wild"),d(),a(175," game."),p(176,"br"),a(177,"\nI've simplified some requirements to keep the scope within a sensible limit."),p(178,"br"),a(179,"\nI've also provided more detail where needed by playing and observing the game."),p(180,"br"),c(181,"span",13),a(182,"With real-live gameplay-in-development scenario,"),p(183,"br"),a(184,"\nit's important to get the needed details of the requirements as early as possible,"),p(185,"br"),a(186,"\nideally before starting the code implementation."),d()(),c(187,"ul",14)(188,"li",15)(189,"b"),a(190,"Definition and Start State"),d()(),c(191,"li"),a(192,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(193,"li"),a(194,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(195,"li"),a(196,"The Life Gauge starts with 3 Hearts"),d(),p(197,"br"),c(198,"li",15)(199,"b"),a(200,"Taking Damage and Dying"),d()(),c(201,"li"),a(202,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),p(203,"br"),a(204," equal to the damage points taken (always losing at least 1 fraction)"),d(),c(205,"li"),a(206,"When Link loses all of his Hearts the game ends"),d(),c(207,"li"),a(208,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),p(209,"br"),a(210," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(211,"ul")(212,"li"),a(213,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),d()(),p(214,"br"),c(215,"li",15)(216,"b"),a(217,"Replenish and Increase"),d()(),c(218,"li"),a(219,"The Life Gauge can be replenished by consuming certain items"),d(),c(220,"li"),a(221,"The Life Gauge can be increased by 1 Heart at a time"),d(),c(222,"ul")(223,"li"),a(224,"Link's health will become full with the increase"),d()(),c(225,"li"),a(226,"The maximum of Hearts is 30"),d()(),c(227,"h3"),a(228,"Model / View mapping of "),c(229,"i"),a(230,"Life Gauge"),d(),a(231," - "),c(232,"i"),a(233,"SoC"),d()(),c(234,"table")(235,"tr")(236,"th")(237,"b"),a(238,"Domain Model"),d()(),c(239,"th")(240,"b"),a(241,"View / GUI"),d()()(),c(242,"tr")(243,"td",16),a(244," (Avatar) Health "),d(),c(245,"td",16),a(246," Life Gauge "),d()(),c(247,"tr")(248,"td",16)(249,"i"),a(250,"TBD later"),d()(),c(251,"td",16),a(252," Heart (holds 4 Fractions) "),d()(),c(253,"tr")(254,"td",16),a(255," Points "),d(),c(256,"td",16),a(257," Heart Fractions "),d()()(),c(258,"p"),a(259,"\nThis mapping is good to establish early:"),p(260,"br"),a(261,"\nHeart Container (with its Hearts and fractions)"),p(262,"br"),a(263,"\nis a specific view representation of the Avatar Health, the domain model."),p(264,"br"),a(265,"\nThis is a good start of a "),c(266,"i"),a(267,"Separation of Concerns (SoC)"),d(),a(268," which I'll plot further on below."),p(269,"br")(270,"br"),a(271,"\nI'll apply the approach in the "),c(272,"i"),a(273,"Boundary layers"),d(),a(274," section in "),c(275,"a",17),a(276,"Part 1"),d(),a(277,","),p(278,"br"),a(279,"\nmaking sure that the code dependency is minimal and one-way:\n"),d(),c(280,"ul",5)(281,"li"),a(282,"the view can depend in minimal way on the model, but not vice-versa"),d(),c(283,"li"),a(284,"all the domain logic should be in the model"),d(),c(285,"li"),a(286,"the view should be thin and humble"),d()(),c(287,"p"),a(288,"\nThus when future change requests on the GUI arrive (which is likely, in a real-life scenario),"),p(289,"br"),a(290,"\nit will be effortless to handle as:\n"),d(),c(291,"ul",5)(292,"li"),a(293,"The domain and its logic will be unaffected"),d(),c(294,"li"),a(295,"The model naming and terms will be unaffected"),d()(),c(296,"p"),a(297,"\nThis also makes it effortless to display simultaneously more than one GUI representations"),p(298,"br"),a(299,"\nof the same model (which is quite common in game UI).\n"),d()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate))},dependencies:[yn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}class n3{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new r3(e,this.resultSelector))}}class r3 extends ye{constructor(e,t,i=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;Ve(e)?t.push(new o3(e)):t.push("function"==typeof e[L]?new s3(e[L]()):new a3(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let i=0;i<t;i++){let r=e[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,i=this.destination;for(let o=0;o<t;o++){let l=e[o];if("function"==typeof l.hasValue&&!l.hasValue())return}let r=!1;const s=[];for(let o=0;o<t;o++){let l=e[o],u=l.next();if(l.hasCompleted()&&(r=!0),u.done)return void i.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),r&&i.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(i){return void this.destination.error(i)}this.destination.next(t)}}class s3{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class o3{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[L](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class a3 extends Rt{constructor(e,t,i){super(e),this.parent=t,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[L](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return tn(this.observable,new yt(this))}}class l3 extends O{constructor(e,t){super()}schedule(e,t=0){return this}}class fg extends l3{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,i=0){return setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const e=this.id,t=this.scheduler,i=t.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let s1=(()=>{class n{constructor(t,i=n.now){this.SchedulerAction=t,this.now=i}schedule(t,i=0,r){return new this.SchedulerAction(this,t).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Ui extends s1{constructor(e,t=s1.now){super(e,()=>Ui.delegate&&Ui.delegate!==this?Ui.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,i){return Ui.delegate&&Ui.delegate!==this?Ui.delegate.schedule(e,t,i):super.schedule(e,t,i)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let i;this.active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const pg=new class c3 extends Ui{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let i,r=-1,s=t.length;e=e||t.shift();do{if(i=e.execute(e.state,e.delay))break}while(++r<s&&(e=t.shift()));if(this.active=!1,i){for(;++r<s&&(e=t.shift());)e.unsubscribe();throw i}}}(class u3 extends fg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(e,t,i);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}),Fc=new W("HIGHLIGHT_OPTIONS");let d3=(()=>{class n{constructor(t,i,r){this.doc=t,this._options=r,this._ready=new vn(null),this.ready=this._ready.asObservable().pipe(In(s=>!!s),U(s=>s),es(1)),jw(i)&&(t.defaultView.hljs?this._ready.next(t.defaultView.hljs):this._loadLibrary().pipe(Zn(s=>this._options&&this._options.lineNumbersLoader?(t.defaultView.hljs=s,this.loadLineNumbers().pipe(pt(()=>this._ready.next(s)))):(this._ready.next(s),wr)),Mr(s=>(console.error("[HLJS] ",s),wr))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return Ti("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return Ti("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return Ti("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return Ti("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(Zn(t=>this._loadLanguages(t)))}return Ti("Highlight.js library was not imported!")}_loadLanguages(t){return function t3(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),Ht(n,void 0).lift(new n3(e))}(...Object.entries(this._options.languages).map(([r,s])=>Vc(s()).pipe(pt(o=>t.registerLanguage(r,o))))).pipe(U(()=>t))}loadCoreLibrary(){return Vc(this._options.coreLibraryLoader())}loadFullLibrary(){return Vc(this._options.fullLibraryLoader())}loadLineNumbers(){return Vc(this._options.lineNumbersLoader())}setTheme(t){this._themeLinkElement.href=t}loadTheme(t){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=t,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(t){return new(t||n)(R(St),R(fa),R(Fc,8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vc=n=>re(n).pipe(In(e=>!!e&&!!e.default),U(e=>e.default));let h3=(()=>{class n{constructor(t,i){this._loader=t,this._hljs=null,t.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(t,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe(U(s=>s.highlight(t,{language:i,ignoreIllegals:r})))}highlightAuto(t,i){return this._loader.ready.pipe(U(r=>r.highlightAuto(t,i)))}highlightElement(t){return this._loader.ready.pipe(U(i=>i.highlightElement(t)))}highlightAll(){return this._loader.ready.pipe(U(t=>t.highlightAll()))}configure(t){return this._loader.ready.pipe(U(i=>i.configure(t)))}registerLanguage(t,i){return this._loader.ready.pipe(pt(r=>r.registerLanguage(t,i)))}unregisterLanguage(t){return this._loader.ready.pipe(pt(i=>i.unregisterLanguage(t)))}registerAliases(t,{languageName:i}){return this._loader.ready.pipe(pt(r=>r.registerAliases(t,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(U(t=>t.listLanguages()))}getLanguage(t){return this._loader.ready.pipe(U(i=>i.getLanguage(t)))}safeMode(){return this._loader.ready.pipe(U(t=>t.safeMode()))}debugMode(){return this._loader.ready.pipe(U(t=>t.debugMode()))}lineNumbersBlock(t){return this._loader.ready.pipe(In(i=>!!i.lineNumbersBlock),pt(i=>i.lineNumbersBlock(t)))}}return n.\u0275fac=function(t){return new(t||n)(R(d3),R(Fc,8))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ho=(()=>{class n{constructor(t,i,r,s){this._hljs=i,this._sanitizer=r,this._options=s,this.highlighted=new Be,this._nativeElement=t.nativeElement}ngOnChanges(t){this.code&&t?.code?.currentValue&&t.code.currentValue!==t.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(t,i){this.setTextContent(t),this._hljs.highlightAuto(t,i).subscribe(r=>{this.setInnerHTML(r.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),pg.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(t){pg.schedule(()=>this._nativeElement.textContent=t)}setInnerHTML(t){pg.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(rt.HTML,t)||"")}}return n.\u0275fac=function(t){return new(t||n)(D(kt),D(h3),D(pC),D(Fc,8))},n.\u0275dir=ue({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(t,i){2&t&&Yn("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[Rn]}),n})(),f3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({}),n})();function p3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class il extends ci{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void Points_HasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.Points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n",this.test_1_Red2="// Health.cs\npublic class Health\n{\n\tpublic int Points;\n}\n",this.impl_1_Green="// Health.cs\npublic class Health\n{\n\tpublic int Points = 12;\n}\n",this.test_1_refactor="// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void CurrentPoints_HasStartingValue()\n{\n\tint startingPoints = 12;\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_1_refactor="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic Health(int startingPoints)\n{\n\tCurrentPoints = startingPoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(0);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='//Health.cs\npublic int CurrentPoints { get;  private set; }\n\npublic Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), "Invalid value");\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.impl_2_Refactor='//Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.test_3_Green='// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(startingPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(il)))(i||il)}}();static#t=this.\u0275cmp=wt({type:il,selectors:[["app-post-tdd-3"]],features:[ke],decls:458,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://nunit.org"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html"],[1,"list","inline"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html"],[1,"redFail"],[3,"highlight"],["href","./blog/tdd-health/part1"],["href","https://daedtech.com/tdd-and-modeling-a-chess-game/"],["href","https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/"],["href","https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models"],["src","../assets/images/blog/tdd/TestRunner_first-test-fails.PNG","alt","Unity Test Runner: first test fail (the nested class displays nicely)","title","Unity Test Runner: first test fail (the nested class displays nicely)",1,"imageSmallText"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"code"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html"],["href","https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html"],["src","../assets/images/blog/tdd/TestRunner_tests-using-TestCase.PNG","alt","Unity Test Runner: tests using TestCase attribute","title","Unity Test Runner: tests using TestCase attribute",1,"imageSmallText"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,p3,2,1,"small",1),d(),c(11,"h2"),a(12,"Setting up Unity"),d(),c(13,"p"),a(14," I create a new Unity (3D) project and keep the default config,"),p(15,"br"),a(16," except that I update "),c(17,"i"),a(18,"Test Framework"),d(),a(19," package to latest version (currently 1.1.31),"),p(20,"br"),a(21," it uses a Unity integration of "),c(22,"a",2),a(23,"NUnit"),d(),a(24," library."),p(25,"br"),a(26," The "),c(27,"i"),a(28,"Test Framework "),d(),c(29,"a",3),a(30,"docs"),d(),a(31," details how to setup tests for a project."),p(32,"br")(33,"br"),a(34," My project structure starts very simple:\n"),d(),c(35,"ul",4)(36,"li"),a(37,"The test code is in: "),c(38,"i"),a(39,"Scripts/Tests/EditMode/[ClassName]Test.cs"),d()(),c(40,"li"),a(41,"The production code is in: "),c(42,"i"),a(43,"Scripts/Runtime/[ClassName].cs"),d()()(),c(44,"p"),a(45," As the folder structure implies,"),p(46,"br"),a(47," I'm doing "),c(48,"i"),a(49,"EditMode"),d(),a(50," tests for the production "),c(51,"i"),a(52,"Runtime"),d(),a(53," code."),p(54,"br"),c(55,"i"),a(56,"EditMode"),d(),a(57," test have access to both: "),d(),c(58,"ul",4)(59,"li"),a(60,"the "),c(61,"i"),a(62,"Editor"),d(),a(63," code (only about extending the Unity editor)"),d(),c(64,"li"),a(65,"the "),c(66,"i"),a(67,"Runtime"),d(),a(68," code (of the targeted platform, e.g iOS)."),d()(),c(69,"p"),a(70," My main reason to prefer "),c(71,"i"),a(72,"EditMode"),d(),a(73," tests for "),c(74,"i"),a(75,"Runtime"),d(),a(76," code"),p(77,"br"),a(78," is that they run faster (Player startup and run in editor not done)."),p(79,"br"),a(80," Also the domain logic should not need the "),c(81,"i"),a(82,"PlayMode"),d(),a(83," tests features"),p(84,"br"),a(85," (tests don't need to run as Unity "),c(86,"i"),a(87,"Coroutine"),d(),a(88," to 'step' through the code)."),p(89,"br"),a(90," The doc page "),c(91,"a",5),a(92,"EditMode vs. PlayMode tests"),d(),a(93," explains the difference further. "),d(),c(94,"h2"),a(95,"The requirements for "),c(96,"i"),a(97,"definition and start state"),d()(),c(98,"p"),a(99," Let's recap these requirements from the user perspective:\n"),d(),c(100,"ul",4)(101,"li"),a(102,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(103,"li"),a(104,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(105,"li"),a(106,"The Life Gauge starts with 3 Hearts"),d()(),c(107,"p"),a(108," Let's filter and transform this into a requirement that's focused only on the domain"),p(109,"br"),a(110," (as GUI will be done later):\n"),d(),c(111,"ul",4)(112,"li"),a(113,"Avatar Health starts with 12 Health Points"),p(114,"br"),a(115," (equals to visual representation of 3 Hearts * 4 Fractions)"),d()(),c(116,"h2"),a(117,"Health Points starting value"),d(),c(118,"h3")(119,"span",6),a(120,"RED (does not compile)"),d()(),c(121,"p"),a(122," The domain model focus will be the "),c(123,"code"),a(124,"Health"),d(),a(125," class (not created yet),"),p(126,"br"),a(127," Thus I create test file "),c(128,"code"),a(129,"HealthTest.cs"),d(),a(130," and write the first test,"),p(131,"br"),a(132," that fails as the code does not compile.\n"),d(),c(133,"pre"),p(134,"code",7),d(),c(135,"h3"),a(136,"Test code naming / structure convention"),d(),c(137,"p"),a(138," I use and name nested class after the "),c(139,"i"),a(140,"entry point"),d(),a(141," of the test"),p(142,"br"),a(143," ("),c(144,"i"),a(145,"entry point"),d(),a(146," is defined in "),c(147,"i"),a(148,"What is a good Unit Test section"),d(),a(149," in "),c(150,"a",8),a(151,"Part 1"),d(),a(152,"),"),p(153,"br"),a(154," which in this particular case is named "),c(155,"code"),a(156,"Constructor"),d(),a(157,"."),p(158,"br"),a(159," I got the idea from Erik Dietrich via "),c(160,"a",9),a(161,"TDD and modeling a chess game"),d(),p(162,"br"),a(163," that references Phil Haack via "),c(164,"a",10),a(165,"Structuring Unit Tests"),d(),p(166,"br")(167,"br"),a(168," I'm using the "),c(169,"a",11),a(170,"Constraint Model of Assertions."),d(),a(171,".\n"),d(),c(172,"h3")(173,"span",6),a(174,"RED (test fails)"),d()(),c(175,"p"),a(176," I want to run the test and see it fail."),p(177,"br"),a(178," This is done to verify that the test is not passing when it should not"),p(179,"br"),a(180," (provides more value for more complex scenario)."),p(181,"br"),a(182," Thus I write the needed production code for the compiler to compile successfully,"),p(183,"br"),a(184," then run the tests via Unity Test Runner (menu item "),c(185,"i"),a(186,"Window > General > Test Runner"),d(),a(187,")."),p(188,"br"),d(),c(189,"pre"),p(190,"code",7),d(),c(191,"figure"),p(192,"img",12),c(193,"figcaption"),a(194," Unity Test Runner: first test fail (the nested class displays nicely) "),d()(),c(195,"p"),a(196," Going forward I will skip demonstrating both steps"),p(197,"br"),a(198," 'does not compile' and 'test fails' (although I do them both when coding),"),p(199,"br"),a(200," thus demonstrating only one "),c(201,"span",6),a(202,"RED"),d(),a(203," step.\n"),d(),c(204,"h3")(205,"span",13),a(206,"GREEN"),d()(),c(207,"p"),a(208,"Let's make the test pass with a very simple implementation.\n"),d(),c(209,"pre"),p(210,"code",7),d(),c(211,"h3")(212,"span",14),a(213,"REFACTOR"),d()(),c(214,"p"),a(215,"Now it comes to mind that from a game design perspective"),p(216,"br"),a(217," it's good to be able to tweak the starting points for game balancing,"),p(218,"br"),a(219," thus I refactor the value to be passed as parameter into the constructor."),p(220,"br"),c(221,"span",15),a(222,"An advanced system would have an accessible"),p(223,"br"),a(224," game balancing config that the code would read the values"),p(225,"br"),a(226," and then pass them into the "),c(227,"span",16),a(228,"Health"),d(),a(229," constructor."),d(),p(230,"br")(231,"br"),a(232," I name the passed in parameter "),c(233,"span",16),a(234,"startingPoints"),d(),a(235,"."),p(236,"br"),a(237," I also rename the property to "),c(238,"span",16),a(239,"CurrentPoints"),d(),a(240," (and thus the test case) to further clarify the logic:"),p(241,"br"),c(242,"i"),a(243,"starting points is passed into the constructor which sets the current points."),d(),p(244,"br"),d(),c(245,"pre"),p(246,"code",7),d(),c(247,"p"),a(248," I also encapsulate "),c(249,"span",16),a(250,"CurrentPoints"),d(),a(251," into a 'getter, private setter'."),p(252,"br"),a(253," In general I want to "),c(254,"a",17),a(255,"encapsulate"),d(),a(256," the production code as much as possible."),p(257,"br"),a(258," The only exposed interface should come from"),p(259,"br"),a(260," the requirements that the TDD cycles will drive,"),p(261,"br"),a(262," and if the tests need additional exposure no top of that"),p(263,"br"),a(264," (should be kept to a minimum).\n"),d(),c(265,"pre"),p(266,"code",7),d(),c(267,"p"),a(268," From now on the code will mostly be presented as a part of the class,"),p(269,"br"),a(270," focused on the current TDD cycle."),p(271,"br"),a(272," The code in its entirety and the Unity project is on "),c(273,"a",18),a(274,"GitHub"),d(),a(275,".\n"),d(),c(276,"h2"),a(277,"Handle invalid "),c(278,"span",16),a(279,"StartingPoints"),d(),a(280," values"),d(),c(281,"p"),a(282," Now it comes to mind that invalid values can be passed in,"),p(283,"br"),a(284," as our avatar should never start with less than 1 points"),p(285,"br"),a(286," (because otherwise Link would start up being dead :P )."),p(287,"br"),a(288," Thus I'll throw an exception when the value is invalid."),p(289,"br"),c(290,"span",15),a(291,"Invalid values should also be handled where they are defined,"),p(292,"br"),a(293," in the previously mentioned game balancing config."),d()(),c(294,"h3")(295,"span",6),a(296,"RED"),d()(),c(297,"pre"),p(298,"code",7),d(),c(299,"p"),a(300," I deem I can use existing "),c(301,"span",16),a(302,"ArgumentOutOfRangeException"),d(),a(303," from "),c(304,"span",16),a(305,"System"),d(),p(306,"br"),a(307," if I include an informative message for my case."),p(308,"br"),a(309,' I assert that the message contains "invalid",'),p(310,"br"),a(311," intentionally not being more specific"),p(312,"br"),a(313," so the assert does not fail later because of potential rewording."),p(314,"br")(315,"br"),a(316," I chose the value "),c(317,"code"),a(318,"0"),d(),a(319," as it's on the edge of invalidation (as "),c(320,"code"),a(321,"1"),d(),a(322," is valid)."),p(323,"br"),d(),c(324,"h3"),a(325,"Test code naming / structure convention"),d(),c(326,"p"),a(327," Elaborating further, I use my template:"),p(328,"br")(329,"br"),a(330," ["),c(331,"i"),a(332,"exit point"),d(),a(333,"]_[will be in state]"),p(334,"br"),a(335," or"),p(336,"br"),a(337," ["),c(338,"i"),a(339,"exit point"),d(),a(340,"]_When[Scenario]"),p(341,"br"),a(342," or"),p(343,"br"),a(344," [expected behavior of "),c(345,"i"),a(346,"Unit of Work"),d(),a(347,"]_When[Scenario]"),p(348,"br")(349,"br"),a(350," _When is used for other scenarios than the 'happy path' / basic one."),p(351,"br"),a(352," ("),c(353,"i"),a(354,"exit point"),d(),a(355," is defined in "),c(356,"i"),a(357,"What is a good Unit Test section"),d(),a(358," in "),c(359,"a",8),a(360,"Part 1"),d(),a(361,"),"),p(362,"br")(363,"br"),a(364," Thus these two test cases are named accordingly:"),p(365,"br"),c(366,"code"),a(367,"CurrentPoints_HasStartingValue"),d(),p(368,"br"),c(369,"code"),a(370,"ThrowsError_WhenStartingPointsIsInvalid"),d()(),c(371,"h3")(372,"span",13),a(373,"GREEN"),d()(),c(374,"pre"),p(375,"code",7),d(),c(376,"p"),a(377," I'm confident that the implementation of the conditional"),p(378,"br"),a(379," is the proper generic solution for this requirement."),p(380,"br"),a(381," However I just did the bare minimum for the exception message,"),p(382,"br"),a(383," and I will refactor it in the next step."),p(384,"br"),d(),c(385,"h3")(386,"span",14),a(387,"REFACTOR"),d()(),c(388,"pre"),p(389,"code",7),d(),c(390,"p"),a(391," I define "),c(392,"code"),a(393,"lowestValidValue"),d(),a(394," and use it both in the condition and the message."),p(395,"br"),a(396," This both makes the exception message more readable"),p(397,"br"),a(398," and makes sure the conditional and message will always be in-sync."),p(399,"br"),a(400," I get the name of the sent in parameter with "),c(401,"code"),a(402,"nameof(startingPoints)"),d(),a(403,"."),p(404,"br")(405,"br"),a(406," I check the message in TestRunner by temporarily commenting out"),p(407,"br"),a(408," all lines in the test except the constructor invocation."),p(409,"br"),a(410," The message displays when value "),c(411,"code"),a(412,"0"),d(),a(413," was passed in:"),p(414,"br"),c(415,"code"),a(416,"System.ArgumentOutOfRangeException : Value '0' is invalid, it should be equal or higher than '1'"),p(417,"br"),a(418," Parameter name: startingPoints"),d(),p(419,"br")(420,"br"),a(421," That's reads pretty clear to me.\n"),d(),c(422,"h2"),a(423,"Let's test a few more values"),d(),c(424,"p"),a(425,"I'm confident that the implementation of the requirement"),p(426,"br"),a(427," will work for any passed-in parameter value."),p(428,"br"),a(429," But I'll test a few more values to verify it,"),p(430,"br"),a(431," and to demonstrate how to do it in a clean and maintainable way.\n"),d(),c(432,"h3")(433,"span",14),a(434,"REFACTOR"),d()(),c(435,"p"),a(436,"Refactoring the tests to add test cases"),p(437,"br"),a(438," where the value is close to the valid or invalid edge,"),p(439,"br"),a(440," using "),c(441,"a",19),a(442,"Parameterized Tests"),d(),a(443," with inline "),c(444,"a",20),a(445,"TestCase"),d(),a(446," attribute.\n"),d(),c(447,"pre"),p(448,"code",7),d(),c(449,"p"),a(450," This runs in total 4 test cases and Unity Test Runner looks like this:\n"),d(),c(451,"figure"),p(452,"img",21),c(453,"figcaption"),a(454," Unity Test Runner: tests using "),c(455,"i"),a(456,"TestCase"),d(),a(457," attribute "),d()()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate),b(124),T("highlight",i.test_1_Red),b(56),T("highlight",i.test_1_Red2),b(20),T("highlight",i.impl_1_Green),b(36),T("highlight",i.test_1_refactor),b(20),T("highlight",i.impl_1_refactor),b(32),T("highlight",i.test_2_Red),b(77),T("highlight",i.impl_2_Green),b(14),T("highlight",i.impl_2_Refactor),b(59),T("highlight",i.test_3_Green))},dependencies:[yn,ho],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function g3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class rl extends ci{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void CurrentPoints_Decrease()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.impl_1_Green="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic void TakeDamage(int damagePoints)\n{\n\tCurrentPoints -= damagePoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.TakeDamage(damagePoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='// Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (damagePoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {damagePoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(damagePoints), message);\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n',this.impl_2_Refactor='// Health.cs\npublic Health(int startingPoints)\n{\n\tValidatePoints(startingPoints, 1);\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1);\n\tCurrentPoints -= damagePoints;\n}\n\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\tif (points < lowestValidValue)\n\t{\n\t\tvar message = $"Value {points} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), message);\n\t}\n}\n'}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(rl)))(i||rl)}}();static#t=this.\u0275cmp=wt({type:rl,selectors:[["app-post-tdd-4"]],features:[ke],decls:232,vars:12,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","https://www.jetbrains.com/resharper/"],["href","https://www.jetbrains.com/help/resharper/2022.1/MemberCanBeMadeStatic.Local.html"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,g3,2,1,"small",1),d(),c(11,"h2"),a(12,"The first Taking Damage requirement"),d(),c(13,"p"),a(14," Let's recap the first requirement under "),c(15,"i"),a(16,"Taking Damage and Dying"),d(),a(17," from the user perspective:\n"),d(),c(18,"ul",2)(19,"li"),a(20,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),p(21,"br"),a(22," equal to the damage points taken (always losing at least 1 fraction)"),d()(),p(23,"div",3),c(24,"p"),a(25),d(),c(26,"ul",2)(27,"li"),a(28,"Avatar will lose Health "),c(29,"code"),a(30,"CurrentPoints"),d(),a(31," equal to Damage Points taken (always losing at last 1 Health Point)"),d()(),p(32,"div",3),c(33,"h2"),a(34,"Take Damage cycling"),d(),c(35,"h3")(36,"span",4),a(37,"RED"),d()(),c(38,"p"),a(39," I start by writing the test."),p(40,"br"),a(41," The entry point will be a new method named "),c(42,"code"),a(43,"TakeDamage"),d(),a(44,","),p(45,"br"),a(46," thus I write a nested class with same name,"),p(47,"br"),a(48," and within it I write the test case "),c(49,"code"),a(50,"CurrentPointsDecrease"),d(),p(51,"br"),a(52," (according to my naming convention, explained in "),c(53,"a",5),a(54,"Part 3"),d(),a(55,")."),p(56,"br"),d(),c(57,"pre"),p(58,"code",6),d(),c(59,"p"),a(60," The test fails as the "),c(61,"code"),a(62,"TakeDamage"),d(),a(63," method is not defined.\n"),d(),c(64,"h3")(65,"span",7),a(66,"GREEN"),d()(),c(67,"pre"),p(68,"code",6),d(),c(69,"p"),a(70," I'm confident that this effortless implementation"),p(71,"br"),a(72," fulfills the requirement for all valid inputs."),p(73,"br"),a(74," It's clean and thus does not need a "),c(75,"span",8),a(76,"REFACTOR"),d(),a(77," step."),p(78,"br"),a(79," But invalid values can be passed in, so I'll do a cycle for handling those.\n"),d(),c(80,"h2"),a(81,"Handle invalid input values"),d(),c(82,"h3")(83,"span",4),a(84,"RED"),d()(),c(85,"p"),a(86," A minus value for "),c(87,"code"),a(88,"damagePoints"),d(),a(89," is clearly invalid but what about "),c(90,"code"),a(91,"0"),d(),a(92," ?"),p(93,"br"),a(94," I conclude that "),c(95,"code"),a(96,"0"),d(),a(97," is also invalid,"),p(98,"br"),a(99," as an outside 'damage calculator' logic should take care of this earlier"),p(100,"br"),a(101," (thus "),c(102,"code"),a(103,"TakeDamage won't be invoked)"),d(),a(104,"."),p(105,"br"),a(106," This also makes the design streamlined as it ensures that"),p(107,"br"),c(108,"code"),a(109,"CurrentPoints"),d(),a(110," will always decrease on "),c(111,"code"),a(112,"TakeDamage"),d(),a(113," call."),p(114,"br")(115,"br"),a(116," This will be a similar test as the existing "),c(117,"code"),a(118,"ThrowsError_WhenStartingPointsIsInvalid"),d(),p(119,"br"),a(120," but now the "),c(121,"i"),a(122,"entry point"),d(),a(123," is method "),c(124,"code"),a(125,"TakeDamage"),d(),a(126,","),p(127,"br"),a(128," and thus it will be inside the nested class "),c(129,"code"),a(130,"TakeDamage."),d()(),c(131,"pre"),p(132,"code",6),d(),c(133,"p"),a(134," The value I pass into the constructor has no significance to this test,"),p(135,"br"),a(136," and thus is not a "),c(137,"i"),a(138,"TestCase"),d(),a(139," parameter.\n"),d(),c(140,"h3")(141,"span",7),a(142,"GREEN"),d()(),c(143,"p"),a(144,"I make the test pass by"),p(145,"br"),a(146," duplicating the exception throwing code from the constructor,"),p(147,"br"),a(148," and then renaming the parameter to "),c(149,"code"),a(150,"damagePoints"),d(),p(151,"br"),a(152," (knowing that I'll refactor this code smell right away in the next step).\n"),d(),c(153,"pre"),p(154,"code",6),d(),p(155,"br"),c(156,"h3")(157,"span",8),a(158,"REFACTOR"),d()(),c(159,"p"),a(160," I refactor the duplicated code smell away."),p(161,"br"),d(),c(162,"pre"),p(163,"code",6),d(),c(164,"p"),a(165," When exception is thrown,"),p(166,"br"),a(167," the message is followed by the stack trace in the console,"),p(168,"br"),a(169," and therefore it is sufficient that the param name will simply be "),c(170,"i"),a(171,"points"),d(),p(172,"br"),a(173," as you can follow the trace to see which method called "),c(174,"code"),a(175,"ValidatePoints"),d(),a(176,"."),p(177,"br")(178,"br"),a(179," Having "),c(180,"code"),a(181,"lowestValidValue"),d(),a(182," as sent in parameter for method "),c(183,"code"),a(184,"ValidatePoints"),d(),p(185,"br"),a(186," makes the method easy to reuse,"),p(187,"br"),a(188," if another case comes later with different "),c(189,"code"),a(190,"lowestValidValue"),d(),a(191,"."),p(192,"br")(193,"br"),c(194,"a",9),a(195,"ReSharper"),d(),a(196," hints that "),c(197,"code"),a(198,"ValidatePoints"),d(),a(199," method can be made "),c(200,"code"),a(201,"static"),d(),a(202,","),p(203,"br"),a(204," and I agree, as it doesn't hinder testability nor design (it's "),c(205,"code"),a(206,"private"),d(),a(207,")."),p(208,"br"),a(209," Making it "),c(210,"code"),a(211,"static "),d(),c(212,"a",10),a(213,"can yield a small performance benefit"),d(),a(214,"."),p(215,"br")(216,"br"),a(217," I ignore ReSharper's hint to 'invert "),c(218,"code"),a(219,"if"),d(),a(220," statement' as the current format"),p(221,"br"),a(222," is more readable IMO and the nested braces are only one-level deep."),p(223,"br")(224,"br"),a(225," I run all the tests (and also did as needed while refactoring) to verify everything works."),p(226,"br"),a(227," Now the Test Runner looks like this:\n"),d(),c(228,"figure"),p(229,"img",11),c(230,"figcaption"),a(231," Unity Test Runner: after refactoring 'ThrowsError' implementation "),d()()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate),b(13),T("innerHTML",i.completeRequirementListHtml,ii),b(2),$e(" ",i.rewordRequirement,"\n"),b(7),T("innerHTML",i.aboutCodeHtml,ii),b(26),T("highlight",i.test_1_Red),b(10),T("highlight",i.impl_1_Green),b(64),T("highlight",i.test_2_Red),b(22),T("highlight",i.impl_2_Green),b(9),T("highlight",i.impl_2_Refactor))},dependencies:[yn,ho],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function m3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class sl extends ci{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Constructor\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = new Health(12);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.impl_1_green="// Health.cs\npublic bool IsDead => false;\n",this.test_2_red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void IsDead_AfterTwoInvocations()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(11);\n\tAssert.That(health.IsDead, Is.False);\n\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="// Health.cs\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="// Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1); // method not shown\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n}\n",this.test_4_red="// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(1, 4, 4)]\n[TestCase(1, 4, 5)]\n[TestCase(1, 4, 24)]\n[TestCase(-21, 4, 25)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.impl_4_green="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints < FullPoints\n\t\t|| CurrentPoints > damagePoints\n\t\t|| damagePoints > CurrentPoints + 20)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n\telse\n\t{\n\t\tCurrentPoints = 1;\n\t}\n}\n",this.impl_4_refactor="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints + 20)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n",this.impl_4_refactor_2="// Health.cs\npublic const int MaxNegativePointsForInstantKillProtection = -20;\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints - MaxNegativePointsForInstantKillProtection)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n"}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(sl)))(i||sl)}}();static#t=this.\u0275cmp=wt({type:sl,selectors:[["app-post-tdd-5"]],features:[ke],decls:338,vars:17,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["href","./blog/tdd-health/part1"],[1,"list","inline"],[1,"greenRefactor"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,m3,2,1,"small",1),d(),c(11,"h2"),a(12,"The Dying requirements"),d(),c(13,"p"),a(14," Let's recap the rest of the "),c(15,"i"),a(16,"Taking Damage and Dying"),d(),a(17," requirements from the user perspective:\n"),d(),c(18,"ul",2)(19,"li"),a(20,"When Link loses all of his Hearts the game ends"),d(),c(21,"li"),a(22,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),p(23,"br"),a(24," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(25,"ul")(26,"li"),a(27,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),d()()(),p(28,"div",3),c(29,"p"),a(30),d(),c(31,"ul",2)(32,"li"),a(33,"When Avatar loses all of his Health Points he dies (and game ends)"),d(),c(34,"li"),a(35,"The Avatar is protected from any damage that would instantly kill him as long as his Health Points are full"),p(36,"br"),a(37," and will instead be left alive with 1 Health Points remaining"),d(),c(38,"ul")(39,"li"),a(40,"However, if the damage is more than 20 points in addition to his full Health Points, he will still die"),d()()(),p(41,"div",3),c(42,"h2"),a(43,"Death cycling"),d(),c(44,"p"),a(45," I start cycling the first dying requirement."),p(46,"br"),a(47," The domain model focus will be a new property named "),c(48,"code"),a(49,"IsDead"),d(),a(50,".\n"),d(),c(51,"h3")(52,"span",4),a(53,"RED"),d()(),c(54,"p"),a(55," I write a new test case and it fails as "),c(56,"code"),a(57,"IsDead"),d(),a(58," is not defined.\n"),d(),c(59,"pre"),p(60,"code",5),d(),c(61,"h3")(62,"span",6),a(63,"GREEN"),d()(),c(64,"p"),a(65," I make "),c(66,"code"),a(67,"IsDead"),d(),a(68," simply return "),c(69,"code"),a(70,"false"),d(),a(71," to pass the test.\n"),d(),c(72,"pre"),p(73,"code",5),d(),c(74,"p"),a(75," I encapsulated the property into a 'getter' via "),c(76,"a",7),a(77,"Expression-Bodied Members syntax"),d(),a(78,"."),p(79,"br")(80,"br"),a(81," I know that simply returning "),c(82,"code"),a(83,"false"),d(),a(84," for "),c(85,"code"),a(86,"IsDead"),d(),a(87," will not hold as the generic solution that satisfies all cases,"),p(88,"br"),a(89," thus I'll now do a new cycle to achieve that."),p(90,"br"),d(),c(91,"h3")(92,"span",4),a(93,"RED"),d()(),c(94,"p"),a(95," Still Focusing on the first dying requirement, but also having the 'protected from instant kill' case in mind,"),p(96,"br"),a(97," I write a new test case that reduces the "),c(98,"code"),a(99,"CurrentPoints"),d(),a(100," to "),c(101,"code"),a(102,"0"),d(),a(103," after two "),c(104,"code"),a(105,"TakeDamage"),d(),a(106," invocations,"),p(107,"br"),a(108," as I know that that case should always kill the Avatar."),p(109,"br"),d(),c(110,"pre"),p(111,"code",5),d(),c(112,"p"),a(113," The "),c(114,"code"),a(115,"_After"),d(),a(116," in the name suits well for this scenario (better than "),c(117,"code"),a(118,"_When"),d(),a(119,")."),p(120,"br"),a(121," The test still checks only one exit point, although it asserts it twice."),p(122,"br"),a(123," As the test is readable, focused and meaningful,"),p(124,"br"),a(125," I'm still in line IMO with "),c(126,"i"),a(127,"What is a good Unit Test"),d(),a(128," section in "),c(129,"a",8),a(130,"Part 1"),d(),a(131,")."),p(132,"br")(133,"br"),a(134," The test fails as currently the Avatar is immortal!"),p(135,"br"),a(136," Of course that's no good, so let's fix that and make the test pass.\n"),d(),c(137,"h3")(138,"span",6),a(139,"GREEN"),d()(),c(140,"p"),a(141," I change the implementation of the "),c(142,"code"),a(143,"IsDead"),d(),a(144," property that makes the test (and the previous test) pass."),p(145,"br"),d(),c(146,"pre"),p(147,"code",5),d(),c(148,"p"),a(149," I'm confident that now I have the generic solution for this property,"),p(150,"br"),a(151," Thus I'll start a new cycle for the next requirement.\n"),d(),c(152,"h2"),a(153,"Protected from instant kill"),d(),c(154,"p"),a(155," Now focusing on the latter requirement (listed at start of this post),"),p(156,"br"),a(157," I now take further note of the concept 'full Health Points' in the requirement,"),p(158,"br"),a(159," and realize it is a definition with it's own simple requirement"),p(160,"br"),a(161," Let's cycle this, and then get back to the dying part.\n"),d(),c(162,"ul",9)(163,"li"),a(164,"Link starts with Full Health -> "),c(165,"code"),a(166,"FullPoints"),d(),a(167," start with same value as "),c(168,"code"),a(169,"startingPoints"),d()()(),c(170,"h2"),a(171,"Full Health Points cycle"),d(),c(172,"p"),a(173," The domain model focus will be a new property named "),c(174,"code"),a(175,"FullPoints"),d(),a(176,".\n"),d(),c(177,"h3")(178,"span",4),a(179,"RED"),d()(),c(180,"pre"),p(181,"code",5),d(),c(182,"p"),a(183," The test is very similar to the existing test for "),c(184,"i"),a(185,"exit point"),d(),c(186,"code"),a(187," CurrentPoints"),d(),p(188,"br"),a(189," but the key difference is that it's testing a different "),c(190,"i"),a(191,"exit point"),d(),a(192," (see "),c(193,"i"),a(194,"Good Unit Test definition"),d(),a(195," in "),c(196,"a",8),a(197,"part 1"),d(),a(198,").\n"),d(),c(199,"h3")(200,"span",6),a(201,"GREEN"),d()(),c(202,"pre"),p(203,"code",5),d(),c(204,"p"),a(205," I set "),c(206,"code"),a(207,"FullPoints"),d(),a(208," to the "),c(209,"code"),a(210,"startingPoints"),d(),a(211," parameter value (same as "),c(212,"code"),a(213,"CurrentPoints"),d(),a(214,")."),p(215,"br")(216,"br"),a(217," I also encapsulate "),c(218,"code"),a(219,"CurrentPoints"),d(),a(220," into a 'getter, private setter'."),p(221,"br")(222,"br"),a(223," This "),c(224,"code"),a(225,"FullPoints"),d(),a(226," implementation satisfies the current requirements,"),p(227,"br"),a(228," but likely will be extended on later with the Replenishing requirements."),p(229,"br"),a(230," Thus now I'll start a new cycle to fulfill the 'Protected from instant kill' requirement."),p(231,"br"),d(),c(232,"h2"),a(233,"Protected from instant kill cycling"),d(),c(234,"h3")(235,"span",4),a(236,"RED"),d()(),c(237,"pre"),p(238,"code",5),d(),c(239,"p"),a(240," I assert on the output "),c(241,"code"),a(242,"CurrentPoints"),d(),a(243," as the 'protected from instant kill' case should leave the value at "),c(244,"code"),a(245,"1"),d(),a(246,"."),p(247,"br"),a(248," The last "),c(249,"code"),a(250,"TestCase"),d(),a(251," tests the 'exception' case:"),p(252,"br"),a(253," when the damage is so much that it kills the Avatar regardless."),p(254,"br"),d(),c(255,"h3"),a(256,"Test code naming / structure convention"),d(),c(257,"p"),a(258," Elaborating further, the scenario starting with "),c(259,"code"),a(260,"_When"),d(),p(261,"br"),a(262," can continue with "),c(263,"code"),a(264,"_Then"),d(),a(265," as needed."),p(266,"br"),a(267," The whole scenario 'plays out' before the assertion / "),c(268,"i"),a(269,"exit point"),d(),a(270," check."),p(271,"br"),a(272," ("),c(273,"code"),a(274,"_Then"),d(),a(275," indicates occurring later in the internal scenario order).\n"),d(),c(276,"h2"),a(277,"Experience the value of TDD"),d(),c(278,"p"),a(279," Now the value of TDD starts to shine"),p(280,"br"),a(281," as my first attempts to make test pass failed and/or failed existing ones."),p(282,"br"),a(283," I suggest you try it out yourself before reading my "),c(284,"span",6),a(285,"GREEN"),d(),a(286," solution below.\n"),d(),c(287,"p"),a(288," Have you tried it out ?"),p(289,"br"),a(290," Great !"),p(291,"br"),a(292," Then you can compare with my solution below :)\n"),d(),c(293,"h3")(294,"span",6),a(295,"GREEN"),d()(),c(296,"pre"),p(297,"code",5),d(),c(298,"p"),a(299," I got all tests passing with this solution, but it could be cleaned up,"),p(300,"br"),a(301," thus onward to the refactoring step.\n"),d(),c(302,"h3")(303,"span",10),a(304,"REFACTOR"),d()(),c(305,"pre"),p(306,"code",5),d(),c(307,"p"),a(308," I 'flipped' the "),c(309,"code"),a(310,"if"),d(),a(311," check, which then checks for the 'protection' case,"),p(312,"br"),a(313," and returns early (instead of having "),c(314,"code"),a(315,"else"),d(),a(316,")."),p(317,"br"),a(318," This makes the code more readable and streamlined, IMO."),p(319,"br")(320,"br"),a(321," I don't like that the number "),c(322,"code"),a(323,"20"),d(),a(324," has no explanation to it ('magic' number),"),p(325,"br"),a(326," so I'll do an iteration on it.\n"),d(),c(327,"h3")(328,"span",10),a(329,"REFACTOR (2nd iteration)"),d()(),c(330,"pre"),p(331,"code",5),d(),c(332,"p"),a(333," I replaced the 'magic' number with a constant member"),p(334,"br"),a(335," and gave it a meaningful name that explains the number."),p(336,"br"),a(337," A negative value aligns with the naming of the const, so I 'flip' the value.\n"),d()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate),b(18),T("innerHTML",i.completeRequirementListHtml,ii),b(2),$e(" ",i.rewordRequirement,"\n"),b(11),T("innerHTML",i.aboutCodeHtml,ii),b(19),T("highlight",i.test_1_red),b(13),T("highlight",i.impl_1_green),b(38),T("highlight",i.test_2_red),b(36),T("highlight",i.impl_2_green),b(34),T("highlight",i.test_3_red),b(22),T("highlight",i.impl_3_green),b(35),T("highlight",i.test_4_red),b(59),T("highlight",i.impl_4_green),b(9),T("highlight",i.impl_4_refactor),b(25),T("highlight",i.impl_4_refactor_2))},dependencies:[yn,ho],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function y3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class ol extends ci{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(12));\n}\n",this.impl_1_green="// Health.cs\npublic void Replenish(int replenishPoints) { }\n",this.test_2_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenNotFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(2);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.test_2_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n",this.test_invalid_input_red='// HealthTest.cs\n// inside nested class Replenish\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenReplenishPointsIsInvalid(int replenishPoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.Replenish(replenishPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.test_invalid_input_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tValidatePoints(replenishPoints, 1); // method not shown\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n"}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(ol)))(i||ol)}}();static#t=this.\u0275cmp=wt({type:ol,selectors:[["app-post-tdd-6"]],features:[ke],decls:164,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["src","../assets/images/blog/tdd/TestRunner_after-replenish-tests.PNG","alt","Unity Test Runner: after adding Replenish tests","title","Unity Test Runner: after adding Replenish tests",1,"imageSmallText"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,y3,2,1,"small",1),d(),c(11,"h2"),a(12,"The requirement"),d(),c(13,"p"),a(14," Let's recap it from the user perspective:\n"),d(),c(15,"ul",2)(16,"li"),a(17,"Link's Life Gauge can be replenished by consuming certain food"),d()(),p(18,"div",3),c(19,"p"),a(20),d(),c(21,"ul",2)(22,"li"),a(23,"Avatar Health / "),c(24,"code"),a(25,"CurrentPoints"),d(),a(26," can be replenished by consuming food"),d()(),p(27,"div",3),c(28,"h2"),a(29,"Replenish cycling"),d(),c(30,"p"),a(31," The domain model focus will be a new method named "),c(32,"code"),a(33,"Replenish"),d(),a(34,"."),p(35,"br"),d(),c(36,"h3")(37,"span",4),a(38,"RED"),d()(),c(39,"p"),a(40," One case is if the player decides to make the Avatar"),p(41,"br"),a(42," use an item that replenishes when Health is full,"),p(43,"br"),a(44," a complete waste of an item as "),c(45,"code"),a(46,"CurrentPoints"),d(),a(47," don't increase,"),p(48,"br"),a(49," but a valid case regardless.\n"),d(),c(50,"pre"),p(51,"code",5),d(),c(52,"h3")(53,"span",6),a(54,"GREEN"),d()(),c(55,"p"),a(56," I effortlessly pass the test by adding an empty "),c(57,"code"),a(58,"Replenish"),d(),a(59," method.\n"),d(),c(60,"pre"),p(61,"code",5),d(),c(62,"p"),a(63," Of course this will not hold for other cases,"),p(64,"br"),a(65," so I'll cycle in more test cases to drive the implementation.\n"),d(),c(66,"h3")(67,"span",4),a(68,"RED"),d()(),c(69,"p"),a(70," Let's do a test for a more sensible valid case,"),p(71,"br"),a(72," when replenish will actually increase the "),c(73,"code"),a(74,"CurrentPoints"),d(),a(75,".\n"),d(),c(76,"pre"),p(77,"code",5),d(),c(78,"p"),a(79," I use the existing method "),c(80,"code"),a(81,"TakeDamage"),d(),a(82," to decrease the "),c(83,"code"),a(84,"CurrentPoints"),d(),p(85,"br"),a(86," before the method "),c(87,"code"),a(88,"Replenish"),d(),a(89," is invoked (the "),c(90,"i"),a(91,"entry point"),d(),a(92," of this test)."),p(93,"br"),a(94," ("),c(95,"code"),a(96,"TakeDamage"),d(),a(97," has already been tested and thus will work as expected).\n"),d(),c(98,"h3")(99,"span",6),a(100,"GREEN"),d()(),c(101,"pre"),p(102,"code",5),d(),c(103,"p"),a(104," I'm confident that this is the generic solution for any valid input"),p(105,"br"),a(106," so don't add more tests cases."),p(107,"br")(108,"br"),a(109," But I have to handle invalid input, so let's do a cycle for those.\n"),d(),c(110,"h2"),a(111,"Handle invalid input values"),d(),c(112,"h3")(113,"span",4),a(114,"RED"),d()(),c(115,"p"),a(116," As this will be similar to the 'take damage' handling,"),p(117,"br"),a(118," I copy the existing 'take damage throws error' test"),p(119,"br"),a(120," and paste it under the nested "),c(121,"code"),a(122,"Replenish"),d(),a(123," class"),p(124,"br"),a(125," and change to 'replenish' appropriately.\n"),d(),c(126,"pre"),p(127,"code",5),d(),c(128,"p"),a(129," This test case 'copy / paste' is valid"),p(130,"br"),a(131," as it's tests the same handling for a different "),c(132,"i"),a(133,"entry point"),d(),a(134," and "),c(135,"i"),a(136,"input"),d(),a(137,".\n"),d(),c(138,"h3")(139,"span",6),a(140,"GREEN"),d()(),c(141,"p"),a(142," I invoke the existing "),c(143,"code"),a(144,"ValidatePoints"),d(),a(145," method"),p(146,"br"),a(147," passing in "),c(148,"code"),a(149,"replenishPoints"),d(),a(150," and "),c(151,"code"),a(152,"1"),d(),a(153," for "),c(154,"code"),a(155,"lowestValidValue"),d()(),c(156,"pre"),p(157,"code",5),d(),c(158,"p"),a(159," Now the Unity Test Runner looks like this:\n"),d(),c(160,"figure"),p(161,"img",7),c(162,"figcaption"),a(163," Unity Test Runner: after adding Replenish tests "),d()()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate),b(8),T("innerHTML",i.completeRequirementListHtml,ii),b(2),$e(" ",i.rewordRequirement,"\n"),b(7),T("innerHTML",i.aboutCodeHtml,ii),b(24),T("highlight",i.test_1_red),b(10),T("highlight",i.impl_1_green),b(16),T("highlight",i.test_2_red),b(25),T("highlight",i.test_2_green),b(25),T("highlight",i.test_invalid_input_red),b(30),T("highlight",i.test_invalid_input_green))},dependencies:[yn,ho],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function v3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class al extends ci{constructor(){super(...arguments),this.refactorHealth="// Health.cs\npublic const int PointsPerUnit = 4;\npublic const int MaxNegativeUnitsForInstantKillProtection = -5;\n\npublic Health(int startingUnits)\n{\n\tValidatePoints(startingUnits, 1);\n\tFullPoints = CurrentPoints = startingUnits * PointsPerUnit;\n}\n\n// PointsPerUnit also used in InstantKillProtection calculation,\n// which is not shown.\n",this.refactorHealthTest="// HealthTest.cs\n[TestCase(3)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingUnits)\n{\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingUnits * health.PointsPerUnit));\n}\n\n// other similar refactoring not shown.\n",this.red_increaseByUnit_fullPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void FullPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.FullPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_fullPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n}\n",this.red_increaseByUnit_currentPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void CurrentPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_currentPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n",this.red_IsMaxUnitsReached="// HealthTest.cs\n// inside nested class IsMaxUnitsReached\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n\n[Test]\npublic void ReturnsFalse_WhenStartingUnitsNotAtMax()\n{\n\tint startingUnits = Health.MaxUnits - 1;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.False);\n}\n",this.green_IsMaxUnitsReached="// Health.cs\npublic const int MaxUnits = 30;\n\npublic bool IsMaxUnitsReached => MaxUnits == FullPoints / PointsPerUnit;\n",this.red_IncreaseByUnit_ThrowsError='// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void ThrowsError_WhenMaxUnitsReached()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tvar exception = Assert.Throws(Is.TypeOf<InvalidOperationException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.IncreaseByUnit();\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.green_IncreaseByUnit_ThrowsError='// Health.cs\npublic void IncreaseByUnit()\n{\n\tif (IsMaxUnitsReached)\n\t{\n\t\tvar message = $"Method invocation is invalid as {nameof(IsMaxUnitsReached)} is true";\n\t\tthrow new InvalidOperationException(message);\n\t}\n\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n'}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(al)))(i||al)}}();static#t=this.\u0275cmp=wt({type:al,selectors:[["app-post-tdd-7"]],features:[ke],decls:440,vars:16,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list","inline"],[3,"innerHTML"],[1,"center"],[1,"greenRefactor"],[3,"highlight"],[1,"redFail"],[1,"greenPass"],["href","./blog/tdd-health/part1"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["src","../assets/images/blog/tdd/TestRunner_after-increase-tests.png","alt","Unity Test Runner: after Increase and Max requirements","title","Unity Test Runner: after Increase and Max requirements",1,"imageSmallText"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,v3,2,1,"small",1),d(),c(11,"h2"),a(12,"The requirements"),d(),c(13,"p"),a(14," Let's recap this requirements from the user perspective:\n"),d(),c(15,"ul",2)(16,"li"),a(17,"The Life Gauge can be increased by 1 Heart at a time"),d(),c(18,"ul")(19,"li"),a(20,"Link's health will become full with the increase"),d()(),c(21,"li"),a(22,"The maximum of Hearts is 30"),d()(),c(23,"p"),a(24,"\nIncreasing the Health is a significant gameplay event In "),c(25,"i"),a(26,"Breath of the Wild"),d(),p(27,"br"),a(28,"\n(solving puzzles in shrines to get Spirit Orbs, then find and pray to a Goddess Statue),"),p(29,"br"),a(30,"\nand thus the increase is always 1 Heart each time, no more or less.\n"),d(),p(31,"div",3),c(32,"p"),a(33," Now it makes sense to define a new unit in "),c(34,"code"),a(35,"Health"),d(),a(36," that equals 4 "),c(37,"code"),a(38,"Points,"),d(),p(39,"br"),a(40,"\nthat is visually represented as a Heart (or something else),"),p(41,"br"),a(42," as the increase should always be in that unit."),p(43,"br"),d(),c(44,"h2"),a(45,"Domain / View mapping (revisited)"),d(),c(46,"p"),a(47," I add a new domain definition "),c(48,"i"),a(49,"Unit"),d(),a(50," that maps to the visualized "),c(51,"i"),a(52,"Heart"),d()(),c(53,"table")(54,"tr")(55,"th")(56,"b"),a(57,"Domain Model"),d()(),c(58,"th")(59,"b"),a(60,"View / GUI"),d()()(),c(61,"tr")(62,"td",4),a(63," (Avatar) Health "),d(),c(64,"td",4),a(65," Life Gauge "),d()(),c(66,"tr")(67,"td",4)(68,"b")(69,"i"),a(70,"Unit"),d()()(),c(71,"td",4),a(72," Heart (holds 4 Fractions) "),d()(),c(73,"tr")(74,"td",4),a(75," Points "),d(),c(76,"td",4),a(77," Heart Fractions "),d()()(),c(78,"p"),a(79,"\nWith "),c(80,"i"),a(81,"Unit"),d(),a(82," defined, I realize that it's beneficial to redefine some 'points' variables into 'unit':"),p(83,"br"),d(),c(84,"ul",2)(85,"li")(86,"code"),a(87,"startingPoints"),d(),a(88," -> "),c(89,"code"),a(90,"startingUnits"),d()(),c(91,"ul")(92,"li"),a(93,"In "),c(94,"i"),a(95,"Breath of the Wild"),d(),a(96," Link starts with 3 "),c(97,"code"),a(98,"Units"),d(),a(99,", thus fits the "),c(100,"code"),a(101,"Units"),d(),a(102," constraint"),d(),c(103,"li"),a(104,"This is also a very reasonable game-balance constraint, and will simplify the logic"),d(),c(105,"li"),a(106,"Note that for "),c(107,"code"),a(108,"FullPoints"),d(),a(109,", it makes sense to stay as points"),p(110,"br"),a(111," but will always be equivalent to a whole Unit/s, due to its requirements (via 'starting' and 'increasing')"),d()(),c(112,"li")(113,"code"),a(114,"MaxNegativePointsForInstantKillProtection"),d(),a(115," -> "),c(116,"code"),a(117,"MaxNegativeUnits..."),d()(),c(118,"ul")(119,"li"),a(120,"In "),c(121,"i"),a(122,"Breath of the Wild"),d(),a(123," it is 5 "),c(124,"code"),a(125,"Units"),d(),a(126,", thus fits the "),c(127,"code"),a(128,"Units"),d(),a(129," constraint"),d(),c(130,"li"),a(131,"This is also a very reasonable game-balance constraint, and will simplify the logic"),d()()(),c(132,"p"),a(133,"\nNow let's reword the requirements focusing on the domain model and using its updated terminology:\n"),d(),c(134,"ul",2)(135,"li")(136,"code"),a(137,"FullPoints"),d(),a(138," can be increased by 1 "),c(139,"code"),a(140,"Unit"),d(),a(141," at a time"),d(),c(142,"ul")(143,"li")(144,"code"),a(145,"CurrentPoints"),d(),a(146," get same value as "),c(147,"code"),a(148,"FullPoints"),d()()(),c(149,"li")(150,"code"),a(151,"MaxUnits"),d(),a(152," (hereby named) is 30"),d()(),p(153,"div",3),c(154,"h2"),a(155,"A wholistic refactoring"),d(),c(156,"p"),a(157,"\nWhen doing a wholistic refactoring with a clear goal,"),p(158,"br"),a(159,"it might make more sense to start with the production code, as is the case now.\n"),d(),c(160,"h3")(161,"span",5),a(162,"Refactor "),c(163,"code"),a(164,"Health"),d()()(),c(165,"p"),a(166,"\nI forsee that it will be beneficial to define a new constant "),c(167,"code"),a(168,"PointsPerUnits"),d(),a(169," in "),c(170,"code"),a(171,"Health"),d(),a(172," to make points <-> units conversation easy and readable."),p(173,"br"),a(174,"\nI then rename the variable names and convert the values using "),c(175,"code"),a(176,"PointsPerUnits"),d()(),c(177,"pre"),p(178,"code",6),d(),c(179,"h3")(180,"span",5),a(181,"Refactor "),c(182,"code"),a(183,"HealthTest"),d()()(),c(184,"p"),a(185,"\nNow obviously many tests "),c(186,"span",7),a(187,"fail"),d(),a(188," as the values need to converted to units."),p(189,"br"),a(190,"\nI rename accordingly and convert the values, using "),c(191,"code"),a(192,"PointsPerUnits"),d(),a(193," where appropriate."),p(194,"br"),d(),c(195,"pre"),p(196,"code",6),d(),c(197,"p"),a(198,"\nNow all the tests "),c(199,"span",5),a(200,"pass"),d(),a(201," again, and all is well in the universe.\n"),d(),c(202,"h2"),a(203,"TDD Cycling "),c(204,"code"),a(205,"IncreaseByUnit"),d()(),c(206,"p"),a(207," The domain model focus will be a new method named "),c(208,"code"),a(209,"IncreaseByUnit"),d(),a(210,"."),p(211,"br"),d(),c(212,"h3")(213,"span",7),a(214,"RED (exit point "),c(215,"code"),a(216,"FullPoints"),d(),a(217,")"),d()(),c(218,"p"),a(219," Focusing first on the "),c(220,"code"),a(221,"FullPoints"),d(),a(222," property.\n"),d(),c(223,"pre"),p(224,"code",6),d(),c(225,"h3")(226,"span",8),a(227,"GREEN"),d()(),c(228,"p"),a(229," I pass the test by using the defined constant "),c(230,"code"),a(231,"PointsPerUnit"),d()(),c(232,"pre"),p(233,"code",6),d(),c(234,"p"),a(235," Now I focus on the other "),c(236,"i"),a(237,"exit point"),d(),a(238,", the "),c(239,"code"),a(240,"CurrentPoints"),d(),a(241," property."),p(242,"br"),a(243," It ideally should be a new tests as it's about a different "),c(244,"i"),a(245,"exit point"),d(),p(246,"br"),a(247," (see Good Unit Test definition in "),c(248,"a",9),a(249,"part 1"),d(),a(250,").\n"),d(),c(251,"h3")(252,"span",7),a(253,"RED (exit point "),c(254,"code"),a(255,"CurrentPoints"),d(),a(256,")"),d()(),c(257,"pre"),p(258,"code",6),d(),c(259,"h3")(260,"span",8),a(261,"GREEN"),d()(),c(262,"pre"),p(263,"code",6),d(),c(264,"p"),a(265,"\nI simply add the line "),c(266,"code"),a(267,"CurrentPoints = FullPoints"),d(),a(268,","),p(269,"br"),a(270,"\nwhich is also the proper solution as the requirement is:"),p(271,"br"),a(272,"\n'"),c(273,"code"),a(274,"CurrentPoints"),d(),a(275," get same value as "),c(276,"code"),a(277,"FullPoints"),d(),a(278," (on increase)'.\n"),d(),c(279,"h2"),a(280,"Cycling the maximum"),d(),c(281,"p"),a(282,"\nAll that is left is the maximum requirement."),p(283,"br"),a(284,"\nThe game will only give the user the option to increase the health"),p(285,"br"),a(286,"\nif the "),c(287,"code"),a(288,"MaxUnits"),d(),a(289," has not been reached (and it costs 4 "),c(290,"i"),a(291,"Spirit Orbs"),d(),a(292,"),"),p(293,"br"),a(294,"\nThus the outside code should query "),c(295,"code"),a(296,"Health"),d(),a(297," if maximum has been reached,"),p(298,"br"),a(299,"\nand if not, only then invoke "),c(300,"code"),a(301,"IncreaseByUnit"),d(),a(302,"."),p(303,"br"),c(304,"code"),a(305,"IncreaseByUnit"),d(),a(306," should though also handle improper usage in this regard,"),p(307,"br"),a(308,"\nand I'll add this handling at the end of this post.\n"),d(),c(309,"h3")(310,"span",7),a(311,"RED"),d()(),c(312,"p"),a(313," The "),c(314,"i"),a(315,"entry point"),d(),a(316," will be a new property named "),c(317,"code"),a(318,"IsMaxUnitsReached"),d(),a(319,"."),p(320,"br"),d(),c(321,"pre"),p(322,"code",6),d(),c(323,"p"),a(324,"\nI added 2 test easily at the same time,"),p(325,"br"),a(326,"\nwhich should suffice to drive in the proper production implementation."),p(327,"br")(328,"br"),a(329,"\nHere I can concise the test names"),p(330,"br"),a(331,"\nas the "),c(332,"i"),a(333,"exit point"),d(),a(334," is the same as the "),c(335,"i"),a(336,"entry point"),d(),a(337,","),p(338,"br"),a(339,"\nthus I skip the "),c(340,"i"),a(341,"exit point"),d(),a(342," in the name (nested class already names it)."),p(343,"br")(344,"br"),a(345,"\nThere are compile errors as both"),p(346,"br"),c(347,"code"),a(348,"MaxFullPoints"),d(),a(349," and "),c(350,"code"),a(351,"IsMaxUnitsReached"),d(),a(352," are not defined.\n"),d(),c(353,"h3")(354,"span",8),a(355,"GREEN"),d()(),c(356,"pre"),p(357,"code",6),d(),c(358,"p"),a(359,"\nI define the constant and give it the proper value,"),p(360,"br"),a(361,"\nand I implement the read-only property as an "),c(362,"a",10),a(363,"Expression-Bodied Member"),d(),a(364,"."),p(365,"br"),d(),c(366,"h2"),a(367,"Handle improper usage of "),c(368,"code"),a(369,"IncreaseByUnit"),d()(),c(370,"p"),a(371,"\nIf the outside code invokes "),c(372,"code"),a(373,"IncreaseByUnit"),d(),a(374," when "),c(375,"code"),a(376,"IsMaxUnitsReached"),d(),a(377," is "),c(378,"code"),a(379,"true"),d(),a(380,","),p(381,"br"),a(382,"\nthe method should handle this improper usage.\n"),d(),c(383,"h3")(384,"span",7),a(385,"RED"),d()(),c(386,"pre"),p(387,"code",6),d(),c(388,"p"),a(389," I deem I can use existing "),c(390,"code"),a(391,"InvalidOperationException"),d(),a(392," from "),c(393,"code"),a(394,"System"),d(),a(395,","),p(396,"br"),a(397," if I include an informative message for my case."),p(398,"br")(399,"br"),a(400," I assert that the message contains string "),c(401,"i"),a(402,"invalid"),d(),a(403,", ignoring case."),p(404,"br"),a(405," I'm intentionally not being more specific"),p(406,"br"),a(407," to later minimize the chance the assert fails if the message is reworded."),p(408,"br"),a(409," This simple "),c(410,"i"),a(411,"Resistance to refactoring"),d(),a(412," makes this a better unit test."),p(413,"br"),a(414," (book "),c(415,"a",10),a(416,"Unit Testing Principles, Practices, and Patterns"),d(),a(417," by Vladimir Khorikov,"),p(418,"br"),a(419," lists "),c(420,"i"),a(421,"Resistance to refactoring"),d(),a(422," as one of the 4 pillars of good unit test).\n"),d(),c(423,"h3")(424,"span",8),a(425,"GREEN"),d()(),c(426,"pre"),p(427,"code",6),d(),c(428,"p"),a(429," I pass the test by adding the "),c(430,"i"),a(431,"if"),d(),a(432," condition at the start of the method."),p(433,"br")(434,"br"),a(435," Now the requirements hao been fulfilled and the Unity Test Runner looks like this:\n"),d(),c(436,"figure"),p(437,"img",11),c(438,"figcaption"),a(439," Unity Test Runner: after Increase and Max requirements "),d()()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate),b(21),T("innerHTML",i.completeRequirementListHtml,ii),b(122),T("innerHTML",i.aboutCodeHtml,ii),b(25),T("highlight",i.refactorHealth),b(18),T("highlight",i.refactorHealthTest),b(28),T("highlight",i.red_increaseByUnit_fullPointsIncrease),b(9),T("highlight",i.green_increaseByUnit_fullPointsIncrease),b(25),T("highlight",i.red_increaseByUnit_currentPointsIncrease),b(5),T("highlight",i.green_increaseByUnit_currentPointsIncrease),b(59),T("highlight",i.red_IsMaxUnitsReached),b(35),T("highlight",i.green_IsMaxUnitsReached),b(30),T("highlight",i.red_IncreaseByUnit_ThrowsError),b(40),T("highlight",i.green_IncreaseByUnit_ThrowsError))},dependencies:[yn,ho],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function b3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class ll extends ci{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, int.MinValue, -1)]\n\t\t[TestCase(-1, int.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, int.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, int.MinValue, -1)]\n\t\t[TestCase(1, int.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t{\n\t\tvar message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == int.MaxValue ? lowestValidV : highestValidV;\n\n\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingUnits, 1);\n\tStartingUnits = ProcessValidation(v, nameof(StartingUnits));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativeUnitsForInstantKillProtection, int.MinValue, -1);\n\tMaxNegativeUnitsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativeUnitsForInstantKillProtection));\n\n\tv = Validation.Validate(MaxUnits, StartingUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string fieldName)\n{\n\tif (!validation.IsValid)\n\t{\n\t\tDebug.LogWarning(validation.FailMessage + $\", for '{fieldName}'. Will set value to {validation.Value}.\");\n\t}\n\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.healthRefactor="// Health.cs\nprivate readonly GameConfig config;\n\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit => config.PointsPerUnit;\npublic int MaxUnits => config.MaxUnits;\npublic int MaxNegativeUnitsForInstantKillProtection => config.MaxNegativeUnitsForInstantKillProtection;\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tvar config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(ll)))(i||ll)}}();static#t=this.\u0275cmp=wt({type:ll,selectors:[["app-post-tdd-8"]],features:[ke],decls:453,vars:15,consts:[[1,"byAndDate"],[4,"ngIf"],["href","./blog/tdd-health/part1"],[1,"list","inline"],["href","https://docs.unity3d.com/Manual/class-ScriptableObject.html"],[3,"highlight"],["src","../assets/images/blog/tdd/MenuItem_GameConfigInstance.png","alt","Create Game Config Instance via menu item","title","Create Game Config Instance via menu item",1,"imageSmallText"],["src","../assets/images/blog/tdd/Inspector_GameConfigInstance.png","alt","Game Config Instance via the Inspector window","title","Game Config Instance via the Inspector window",1,"imageSmallText"],[1,"redFail"],[1,"greenPass"],["src","../assets/images/blog/tdd/Unity_config-validation.gif","alt","Unity: Config Validation in the Inspector and Console","title","Unity: Config Validation in the Inspector and Console",1,"imageSmallText"],["src","../assets/images/blog/tdd/Unity_MaxUnits-validation.gif","alt","Unity: MaxUnits Validation in the Inspector and Console","title","Unity: MaxUnits Validation in the Inspector and Console",1,"imageSmallText"],[1,"greenRefactor"],["src","../assets/images/blog/tdd/TestRunner_after-config-added.png","alt","Test Runner after config added and used","title","Test Runner after config added and used",1,"imageSmallText"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,b3,2,1,"small",1),d(),c(11,"h2"),a(12,"The game balancing config"),d(),c(13,"p"),a(14,"\nThe thought came early (in "),c(15,"a",2),a(16,"part 3"),d(),a(17,") that a game balance config for values like "),c(18,"code"),a(19,"StartingUnits"),d(),a(20,","),p(21,"br"),a(22,"\nwould be valuable to have for balancing out during the development period."),p(23,"br"),a(24,"\nThe config should be accessible and validate the values (ideally immediately when changed),"),p(25,"br"),a(26,"\nand then later at runtime be injected to the "),c(27,"code"),a(28,"Health"),d(),a(29," instance."),p(30,"br"),a(31,"\nThere are other values in "),c(32,"code"),a(33,"Health"),d(),a(34," that are suitable, thus the config will include:\n"),d(),c(35,"ul",3)(36,"li")(37,"code"),a(38,"StartingUnits"),d()(),c(39,"li")(40,"code"),a(41,"PointsPerUnit"),d()(),c(42,"li")(43,"code"),a(44,"MaxUnits"),d()(),c(45,"li")(46,"code"),a(47,"MaxNegativeUnitsForInstantKillProtection"),d()()(),c(48,"h2"),a(49,"Using "),c(50,"code"),a(51,"ScriptableObject"),d()(),c(52,"p"),a(53,"\nAssuming that the game designer can do basic work in Unity and the version control system,"),p(54,"br"),a(55,"\nwe can keep the config solution completely within Unity."),p(56,"br"),a(57,"\nI'll thus base it on Unity's "),c(58,"a",4),a(59,"ScriptableObject"),d(),a(60,","),p(61,"br"),a(62,"\na data container that can be used to save large amounts of data."),p(63,"br"),a(64,"\nI create folder "),c(65,"i"),a(66,"ScriptableObjects/"),d(),a(67," at "),c(68,"i"),a(69,"Assets/Scripts/Runtime/"),d(),a(70," and create script "),c(71,"code"),a(72,"GameConfig"),d(),a(73," within it.\n"),d(),c(74,"pre"),p(75,"code",5),d(),c(76,"p"),a(77,"\nI create another folder "),c(78,"i"),a(79,"ScriptableObjectsInstances/"),d(),a(80," at "),c(81,"i"),a(82,"Assets/"),d(),p(83,"br"),a(84,"\nand because of the code above I can now right click on the folder / click at "),c(85,"i"),a(86,"Assets"),d(),a(87," at top menu,"),p(88,"br"),a(89,"\nand select menu item "),c(90,"i"),a(91,"Create > Avatar Health > Create GameConfig Instance"),d(),a(92,"."),p(93,"br"),a(94,"\nAs the name applies this creates a scriptable object instance based on the "),c(95,"code"),a(96,"GameConfig"),d(),a(97," class 'template'."),p(98,"br"),a(99,"\nI use the given default filename "),c(100,"code"),a(101,"GameConfigInstance"),d(),a(102," (file ends with "),c(103,"i"),a(104,".asset"),d(),a(105,").\n"),d(),c(106,"figure"),p(107,"img",6),c(108,"figcaption"),a(109,"Create GameConfig Instance via menu item"),d()(),c(110,"p"),a(111," I can now view and edit the "),c(112,"i"),a(113,"Game Config Instance"),d(),a(114," via the Inspector window.\n"),d(),c(115,"figure"),p(116,"img",7),c(117,"figcaption"),a(118,"Game Config Instance via the Inspector window"),d()(),c(119,"p"),a(120," I can change the values as I see fit and the change will be saved on the instance."),p(121,"br"),a(122," But there is no domain validation for the values, so I TDD cycle it.\n"),d(),c(123,"h2"),a(124,"TDD-ing the validation"),d(),c(125,"p"),a(126," Unit testing logic in scriptable objects can quickly become complicated."),p(127,"br"),a(128," For this reason, and also for Reusability and Separation of Concern,"),p(129,"br"),a(130," I will implement the generic validation logic in a utility class which will be easy to TDD."),p(131,"br"),a(132," Then I'll make the config process the validation using the utility logic.\n"),d(),c(133,"h3")(134,"span",8),a(135,"RED"),d()(),c(136,"p"),a(137," I create the folder "),c(138,"i"),a(139,"Utils"),d(),a(140," in the test folder"),p(141,"br"),a(142," ("),c(143,"i"),a(144,"Assets/Scripts/Tests/EditMode/"),d(),a(145,") and create script "),c(146,"code"),a(147,"ValidationTest"),d(),a(148," within it."),p(149,"br"),a(150," I take into consideration the requirements for both the config"),p(151,"br"),a(152," and the other validations that "),c(153,"code"),a(154,"Health"),d(),a(155," does, and then write the tests. "),d(),c(156,"pre"),p(157,"code",5),d(),c(158,"p"),a(159,"\nI wrote tests for all meaningful cases based on the requirements in one step."),p(160,"br"),a(161,"\nThe validation logic returns a tuple:\n"),d(),c(162,"pre"),p(163,"code",5),d(),c(164,"p"),a(165,"\nThe using code should then decide what to do.\n"),d(),c(166,"h3")(167,"span",9),a(168,"GREEN"),d()(),c(169,"p"),a(170,"\nI mirror the location of the test, thus create the folder "),c(171,"i"),a(172,"Utils"),d(),a(173," in the production code folder ("),c(174,"i"),a(175,"Assets/Scripts/Runtime/"),d(),a(176,") and create script "),c(177,"code"),a(178,"Validation"),d(),a(179," within it."),p(180,"br"),a(181,"\nI implement it gradually until I get all the tests passing.\n"),d(),c(182,"pre"),p(183,"code",5),d(),c(184,"h2"),a(185,"Processing the validation in the config"),d(),c(186,"p"),a(187,"\nI want to make sure the validation can't be bypassed"),p(188,"br"),a(189,"\nthus I'll prevent the game designer from saving invalid values to the config,"),p(190,"br"),a(191,"\nand provide some message in the Unity editor when an invalid value is corrected.\n"),d(),c(192,"pre"),p(193,"code",5),d(),c(194,"p"),a(195,"\nI use "),c(196,"code"),a(197,"OnValidate"),d(),a(198,", a editor-only function that Unity calls when the script is loaded or a value changes in the Inspector"),p(199,"br"),a(200,"\n(part of the "),c(201,"a",4),a(202,"ScriptableObject"),d(),a(203,").\n"),d(),c(204,"h2"),a(205,"The validation at work"),d(),c(206,"figure"),p(207,"img",10),c(208,"figcaption"),a(209,"Unity: Config Validation in the Inspector and Console"),d()(),c(210,"p"),a(211," As the gif shows above, the logic accepts valid values (the first one)"),p(212,"br"),a(213," but prevents invalid values being set by reverting to the valid 'edge' value, and logging a message to the Console."),p(214,"br"),d(),c(215,"ul",3)(216,"li"),a(217,"reverts to "),c(218,"code"),a(219,"1"),d(),a(220," for "),c(221,"code"),a(222,"StartingUnits"),d()(),c(223,"li"),a(224,"reverts to "),c(225,"code"),a(226,"2"),d(),a(227," for "),c(228,"code"),a(229,"PointsPerUnit"),d()(),c(230,"li"),a(231,"reverts to "),c(232,"code"),a(233,"-1"),d(),a(234," for "),c(235,"code"),a(236,"MaxNegativePointsForInstantKillProtection"),d()()(),c(237,"p"),a(238," Below is the gif for the "),c(239,"code"),a(240,"MaxUnits"),d(),a(241," validation.\n"),d(),c(242,"figure"),p(243,"img",11),c(244,"figcaption"),a(245,"Unity: MaxUnits Validation in the Inspector and Console"),d()(),c(246,"p")(247,"code"),a(248,"MaxUnits"),d(),a(249," validation is based on the values of "),c(250,"code"),a(251,"StartingUnits"),d(),p(252,"br"),a(253," thus "),c(254,"code"),a(255,"MaxUnits"),d(),a(256," can become invalid when "),c(257,"code"),a(258,"StartingUnits"),d(),a(259," is set to a valid value,"),p(260,"br"),a(261," (as the latter half of the gif conveys)."),p(262,"br"),a(263," The logged message in the Console clarifies this occurrence.\n"),d(),c(264,"h2"),a(265,"Make "),c(266,"code"),a(267,"Health"),d(),a(268," use the config"),d(),c(269,"p"),a(270,"\nI want "),c(271,"code"),a(272,"Health"),d(),a(273," to use the config"),p(274,"br"),a(275,"\nand not provide another way to inject those values,"),p(276,"br"),a(277,"\nthus I don't need to validate those values again in "),c(278,"code"),a(279,"Health"),d(),a(280,"."),p(281,"br"),a(282,"\n(I have ownership of the config code and"),p(283,"br"),a(284,"\nI am confident that its validation will always work as expected)."),p(285,"br")(286,"br"),a(287,"\nI will refactor the health code in the steps presented below."),p(288,"br"),a(289,"\nThis is about a design change in the production code (wholistic refactoring),"),p(290,"br"),a(291,"\nand it this case it makes more sense to start with the production code.\n"),d(),c(292,"h3")(293,"span",12),a(294,"Refactor "),c(295,"code"),a(296,"Health"),d()()(),c(297,"pre"),p(298,"code",5),d(),c(299,"p"),a(300,"\nI inject the "),c(301,"code"),a(302,"GameConfig"),d(),a(303," instance into the constructor,"),p(304,"br"),a(305,"\nand store it in a member and then access the values from the member."),p(306,"br"),a(307,"\nThe member is "),c(308,"code"),a(309,"private readonly"),d(),a(310," and thus encapsulated and immutable within the class."),p(311,"br"),a(312,"\nI remove the old "),c(313,"code"),a(314,"startingUnits"),d(),a(315," validation (as the config is already validated)."),p(316,"br"),d(),c(317,"pre"),p(318,"code",5),d(),c(319,"p"),a(320,"\nI refactor these constants into read-only properties,"),p(321,"br"),a(322,"\ngetting the value from the config."),p(323,"br"),a(324,"\nThis way the config values can't be set via the "),c(325,"code"),a(326,"Health"),d(),a(327," instance (encapsulation).\n"),d(),c(328,"h3")(329,"span",12),a(330,"Refactor "),c(331,"code"),a(332,"HealthTest"),d()()(),c(333,"p"),a(334," Now many tests will "),c(335,"span",8),a(336,"fail"),d(),a(337,","),p(338,"br"),a(339," mainly because they are not injecting the config into the constructor."),p(340,"br"),a(341," Let's refactor and fix them.\n"),d(),c(342,"pre"),p(343,"code",5),d(),c(344,"p"),a(345,"\nI create these helper methods above."),p(346,"br")(347,"br"),c(348,"code"),a(349,"MakeConfig"),d(),a(350," creates the config"),p(351,"br"),a(352,"\nand sets the "),c(353,"code"),a(354,"startingUnits"),d(),a(355," via parameter."),p(356,"br"),a(357,"\nIt also sets the other values for better "),c(358,"i"),a(359,"Resistance to refactoring"),d(),p(360,"br"),a(361,"\n(the tests will still work if the default values are changed in the scriptable object)."),p(362,"br")(363,"br"),c(364,"code"),a(365,"MakeHealth"),d(),a(366," creates and return a "),c(367,"code"),a(368,"Health"),d(),a(369," instance (using "),c(370,"code"),a(371,"MakeConfig"),d(),a(372,")."),p(373,"br")(374,"br"),a(375,"\nFor most tests it is sufficient to swap the "),c(376,"code"),a(377,"MakeHeath"),d(),p(378,"br"),a(379,"\nfor the "),c(380,"code"),a(381,"new Health"),d(),a(382," construction, as shown below"),p(383,"br"),a(384,"\n(one command execution with the IDE).\n"),d(),c(385,"pre"),p(386,"code",5),d(),c(387,"p"),a(388,"\nThere are 3 tests that refer to "),c(389,"code"),a(390,"maxUnits"),d(),a(391," to set up "),c(392,"code"),a(393,"StartingUnits"),d(),a(394," the the test."),p(395,"br"),a(396,"\nThese tests use "),c(397,"code"),a(398,"MakeConfig"),d(),a(399," directly and then create the "),c(400,"code"),a(401,"Health"),d(),a(402," instance."),p(403,"br"),d(),c(404,"pre"),p(405,"code",5),d(),c(406,"p"),a(407,"\nNow only test "),c(408,"code"),a(409,"ThrowsError_WhenStartingPointsIsInvalid"),d(),c(410,"span",8),a(411," fails"),d(),a(412,"."),p(413,"br"),a(414,"\nI remove it as I'm no longer validating "),c(415,"code"),a(416,"StartingUnits"),d(),a(417," in "),c(418,"code"),a(419,"Health"),d(),a(420,"."),p(421,"br"),a(422,"\nNow all the tests "),c(423,"span",9),a(424,"pass"),d(),a(425," again.\n"),d(),c(426,"h2"),a(427,"Reuse the utility "),c(428,"code"),a(429,"Validation"),d()(),c(430,"p"),a(431," Since now I have a utility "),c(432,"code"),a(433,"Validation"),d(),a(434," class"),p(435,"br"),a(436," I want to reuse it in the "),c(437,"code"),a(438,"Health"),d(),a(439," methods,"),p(440,"br"),a(441," thus I refactor the "),c(442,"code"),a(443,"ValidatePoints"),d(),a(444," method:\n"),d(),c(445,"pre"),p(446,"code",5),d(),c(447,"p"),a(448,"Now the config has been added and used, the Unity Test Runner looks like this:"),d(),c(449,"figure"),p(450,"img",13),c(451,"figcaption"),a(452,"Test Runner after config added and used"),d()()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate),b(65),T("highlight",i.gameConfigCs),b(82),T("highlight",i.redValidationTest),b(6),T("highlight",i.validationReturn),b(20),T("highlight",i.greenValidation),b(10),T("highlight",i.hookValidationIntoConfig),b(105),T("highlight",i.healthRefactor),b(20),T("highlight",i.healthRefactor1),b(25),T("highlight",i.healthTestRefactor),b(43),T("highlight",i.healthTestRefactorMostCases),b(19),T("highlight",i.healthTestUseMakeConfig),b(41),T("highlight",i.healthReuseValidation))},dependencies:[yn,ho],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function _3(n,e){if(1&n&&(c(0,"small"),a(1),d()),2&n){const t=Me();b(1),$e(" updated on ",t.updatedDateToString," ")}}class ul extends ci{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\nusing System;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, Int32.MinValue, -1)]\n\t\t[TestCase(-1, Int32.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = Int32.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, Int32.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, Int32.MinValue, -1)]\n\t\t[TestCase(1, Int32.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\nusing System;\n\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = Int32.MaxValue)\n\t{\n\t\tstring message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == Int32.MaxValue ? lowestValidV : highestValidV;\n\t\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar validation = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(validation, nameof(StartingPoints));\n\n\tvalidation = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(validation, nameof(PointsPerUnit));\n\n\tvalidation = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(validation, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tvalidation = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(validation, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string propertyName)\n{\n\tif (!validation.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(validation.FailMessage + $\", for '{propertyName}'. Will set value to {validation.Value}.\");\n\t\t}\n\t\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.hookingValidationInConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(v, nameof(StartingPoints));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tv = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) v, string fieldName)\n{\n\tif (!v.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(v.FailMessage + $\", for '{fieldName}'. Will set value to {v.Value}.\");\n\t\t}\n\t\treturn v.Value;\n}\n",this.healthRefactor="// Health.cs\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit\n{\n\tget { return config.PointsPerUnit; }\n}\npublic int MaxUnits\n{\n\tget { return config.MaxUnits; }\n}\n\tpublic int MaxNegativeUnitsForInstantKillProtection\n{\n\tget { return config.MaxNegativeUnitsForInstantKillProtection; }\n}\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tGameConfig config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let e;return function(i){return(e||(e=it(ul)))(i||ul)}}();static#t=this.\u0275cmp=wt({type:ul,selectors:[["app-post-tdd-9"]],features:[ke],decls:13,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"]],template:function(t,i){1&t&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),Ee(10,_3,2,1,"small",1),d(),c(11,"h2"),a(12,"SMU"),d()),2&t&&(b(1),Qe(i.post.seriesTitle),b(2),Qe(i.post.title),b(5),$e(" published on ",i.publishedDateToString,""),b(2),T("ngIf",i.hasUpdatedDate))},dependencies:[yn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}const w3=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:pc},{path:"blog",component:gc,children:[{path:"tdd-health/part1",component:tl},{path:"tdd-health/part2",component:nl},{path:"tdd-health/part3",component:il},{path:"tdd-health/part4",component:rl},{path:"tdd-health/part5",component:sl},{path:"tdd-health/part6",component:ol},{path:"tdd-health/part7",component:al},{path:"tdd-health/part8",component:ll},{path:"tdd-health/part9",component:ul}]},{path:"music",component:el},{path:"music/:trackName",component:el},{path:"lifting",component:Oc},{path:"**",component:Nc}];class Uc{static#e=this.\u0275fac=function(t){return new(t||Uc)};static#t=this.\u0275mod=nn({type:Uc});static#n=this.\u0275inj=qt({imports:[kD.forRoot(w3,{enableTracing:!1}),kD]})}let gg;try{gg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gg=!1}let cl=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?jw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(R(fa))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class x3{constructor(e){this.total=e}call(e,t){return t.subscribe(new P3(e,this.total))}}class P3 extends ye{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}function vg(n,e){return t=>t.lift(new O3(n,e))}class O3{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new R3(e,this.compare,this.keySelector))}}class R3 extends ye{constructor(e,t,i){super(e),this.keySelector=i,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:r}=this;t=r?r(e):e}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=t,this.destination.next(e))}}function l1(n){return e=>e.lift(new L3(n))}class L3{constructor(e){this.notifier=e}call(e,t){const i=new N3(e),r=tn(this.notifier,new yt(i));return r&&!i.seenValue?(i.add(r),t.subscribe(i)):i}}class N3 extends Rt{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function u1(n){return Array.isArray(n)?n:[n]}const c1=new Ui(fg);class U3{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new H3(e,this.dueTime,this.scheduler))}}class H3 extends ye{constructor(e,t,i){super(e),this.dueTime=t,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(B3,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function B3(n){n.debouncedNext()}const d1=new Set;let go,j3=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):G3}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function $3(n){if(!d1.has(n))try{go||(go=document.createElement("style"),go.setAttribute("type","text/css"),document.head.appendChild(go)),go.sheet&&(go.sheet.insertRule(`@media ${n} {body{ }}`,0),d1.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(R(cl))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function G3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let z3=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new $}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return h1(u1(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let s=ap(h1(u1(t)).map(o=>this._registerQuery(o).observable));return s=Wu(s.pipe(es(1)),s.pipe(function a1(n){return e=>e.lift(new x3(n))}(1),function V3(n,e=c1){return t=>t.lift(new U3(n,e))}(0))),s.pipe(U(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:h})=>{l.matches=l.matches||u,l.breakpoints[h]=u}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),s={observable:new j(o=>{const l=u=>this._zone.run(()=>o.next(u));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(bC(i),U(({matches:o})=>({query:t,matches:o})),l1(this._destroySubject)),mql:i};return this._queries.set(t,s),s}}return n.\u0275fac=function(t){return new(t||n)(R(j3),R(ot))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function h1(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const b1="cdk-high-contrast-black-on-white",_1="cdk-high-contrast-white-on-black",bg="cdk-high-contrast-active";let sU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=Fe(z3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(bg,b1,_1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(bg,b1):2===i&&t.add(bg,_1)}}}return n.\u0275fac=function(t){return new(t||n)(R(cl),R(St))},n.\u0275prov=Y({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({}),n})();const cU=new W("mat-sanity-checks",{providedIn:"root",factory:function uU(){return!0}});let jc=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function M3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(R(sU),R(cU,8),R(St))},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[w1,w1]}),n})(),S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[jc,jc]}),n})(),MU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[jc,S1,jc]}),n})();const P1={leading:!0,trailing:!1};function $c(n,e=c1,t=P1){return i=>i.lift(new IU(n,e,t.leading,t.trailing))}class IU{constructor(e,t,i,r){this.duration=e,this.scheduler=t,this.leading=i,this.trailing=r}call(e,t){return t.subscribe(new AU(e,this.duration,this.scheduler,this.leading,this.trailing))}}class AU extends ye{constructor(e,t,i,r,s){super(e),this.duration=t,this.scheduler=i,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(kU,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)}}function kU(n){const{subscriber:e}=n;e.clearThrottle()}var O1=Re(8089);const xU=["tooltipTemplate"],PU=["leftOuterSelectionBar"],OU=["rightOuterSelectionBar"],RU=["fullBar"],LU=["selectionBar"],NU=["minHandle"],FU=["maxHandle"],VU=["floorLabel"],UU=["ceilLabel"],HU=["minHandleLabel"],BU=["maxHandleLabel"],jU=["combinedLabel"],$U=["ticksElement"];function GU(n,e){if(1&n&&p(0,"ngx-slider-tooltip-wrapper",31),2&n){const t=Me().$implicit;T("template",Me().tooltipTemplate)("tooltip",t.valueTooltip)("placement",t.valueTooltipPlacement)("content",t.value)}}function zU(n,e){1&n&&p(0,"span",32),2&n&&T("innerHTML",Me().$implicit.legend,ii)}const WU=function(n){return{"ngx-slider-selected":n}};function qU(n,e){if(1&n&&(c(0,"span",27),p(1,"ngx-slider-tooltip-wrapper",28),Ee(2,GU,1,4,"ngx-slider-tooltip-wrapper",29),Ee(3,zU,1,1,"span",30),d()),2&n){const t=e.$implicit,i=Me();T("ngClass",yr(7,WU,t.selected))("ngStyle",t.style),b(1),T("template",i.tooltipTemplate)("tooltip",t.tooltip)("placement",t.tooltipPlacement),b(1),T("ngIf",null!=t.value),b(1),T("ngIf",null!=t.legend)}}function KU(n,e){}function YU(n,e){1&n&&Ee(0,KU,0,0,"ng-template")}const ZU=function(n,e,t){return{tooltip:n,placement:e,content:t}};function QU(n,e){if(1&n&&(Zo(0),Ee(1,YU,1,0,null,1),Qo()),2&n){const t=Me();b(1),T("ngTemplateOutlet",t.template)("ngTemplateOutletContext",lf(2,ZU,t.tooltip,t.placement,t.content))}}function JU(n,e){if(1&n&&(Zo(0),c(1,"div",2),a(2),d(),Qo()),2&n){const t=Me();b(1),mn("title",t.tooltip)("data-tooltip-placement",t.placement),b(1),$e(" ",t.content," ")}}const Xt={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Xt[Xt.Low]="Low",Xt[Xt.High]="High",Xt[Xt.Floor]="Floor",Xt[Xt.Ceil]="Ceil",Xt[Xt.TickValue]="TickValue";class Gc{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const ee={Min:0,Max:1};ee[ee.Min]="Min",ee[ee.Max]="Max";class XU{}class x{static isNullOrUndefined(e){return null==e}static areArraysEqual(e,t){if(e.length!==t.length)return!1;for(let i=0;i<e.length;++i)if(e[i]!==t[i])return!1;return!0}static linearValueToPosition(e,t,i){return(e-t)/(i-t)}static logValueToPosition(e,t,i){return((e=Math.log(e))-(t=Math.log(t)))/((i=Math.log(i))-t)}static linearPositionToValue(e,t,i){return e*(i-t)+t}static logPositionToValue(e,t,i){return t=Math.log(t),i=Math.log(i),Math.exp(e*(i-t)+t)}static findStepIndex(e,t){const i=t.map(s=>Math.abs(e-s.value));let r=0;for(let s=0;s<t.length;s++)i[s]!==i[r]&&i[s]<i[r]&&(r=s);return r}}class Or{static isTouchEvent(e){return void 0!==window.TouchEvent?e instanceof TouchEvent:void 0!==e.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Ft{static roundToPrecisionLimit(e,t){return+e.toPrecision(t)}static isModuloWithinPrecisionLimit(e,t,i){const r=Math.pow(10,-i);return Math.abs(e%t)<=r||Math.abs(Math.abs(e%t)-t)<=r}static clampToRange(e,t,i){return Math.min(Math.max(e,t),i)}}class R1{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class L1{constructor(e){this.renderer=e}attachPassiveEventListener(e,t,i,r){if(!0!==O1.Z.hasSupport)return this.attachEventListener(e,t,i,r);const s=new R1;s.eventName=t,s.events=new $;const o=l=>{s.events.next(l)};return e.addEventListener(t,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{e.removeEventListener(t,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(x.isNullOrUndefined(r)?pt(()=>{}):$c(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{i(l)}),s}detachEventListener(e){x.isNullOrUndefined(e.eventsSubscription)||(e.eventsSubscription.unsubscribe(),e.eventsSubscription=null),x.isNullOrUndefined(e.events)||(e.events.complete(),e.events=null),x.isNullOrUndefined(e.teardownCallback)||(e.teardownCallback(),e.teardownCallback=null)}attachEventListener(e,t,i,r){const s=new R1;return s.eventName=t,s.events=new $,s.teardownCallback=this.renderer.listen(e,t,l=>{s.events.next(l)}),s.eventsSubscription=s.events.pipe(x.isNullOrUndefined(r)?pt(()=>{}):$c(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{i(l)}),s}}let Rr=(()=>{class n{constructor(t,i,r){this.elemRef=t,this.renderer=i,this.changeDetectionRef=r,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new L1(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(t){this._alwaysHide=t,this.visibility=t?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(t){this._vertical=t,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(t){this._scale=t}setPosition(t){this._position!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=t,this._vertical?this.bottom=Math.round(t)+"px":this.left=Math.round(t)+"px"}calculateDimension(){const t=this.getBoundingClientRect();this._dimension=this.vertical?(t.bottom-t.top)*this.scale:(t.right-t.left)*this.scale}setDimension(t){this._dimension!==t&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=t,this._vertical?this.height=Math.round(t)+"px":this.width=Math.round(t)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(t,i,r){const s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,t,i,r);this.eventListeners.push(s)}onPassive(t,i,r){const s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,t,i,r);this.eventListeners.push(s)}off(t){let i,r;x.isNullOrUndefined(t)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(s=>s.eventName!==t),r=this.eventListeners.filter(s=>s.eventName===t));for(const s of r)this.eventListenerHelper.detachEventListener(s);this.eventListeners=i}isRefDestroyed(){return x.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(t){return new(t||n)(D(kt),D(Nn),D(Di))},n.\u0275dir=ue({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(t,i){2&t&&du("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),wg=(()=>{class n extends Rr{constructor(t,i,r){super(t,i,r),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(t){return new(t||n)(D(kt),D(Nn),D(Di))},n.\u0275dir=ue({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(t,i){2&t&&(mn("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),Yn("ngx-slider-active",i.active))},features:[ke]}),n})(),yo=(()=>{class n extends Rr{constructor(t,i,r){super(t,i,r),this._value=null}get value(){return this._value}setValue(t){let i=!1;!this.alwaysHide&&(x.isNullOrUndefined(this.value)||this.value.length!==t.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=t,this.elemRef.nativeElement.innerHTML=t,i&&this.calculateDimension()}}return n.\u0275fac=function(t){return new(t||n)(D(kt),D(Nn),D(Di))},n.\u0275dir=ue({type:n,selectors:[["","ngxSliderLabel",""]],features:[ke]}),n})();class eH{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class N1{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class zc{static compare(e,t){return!(x.isNullOrUndefined(e)&&x.isNullOrUndefined(t)||x.isNullOrUndefined(e)!==x.isNullOrUndefined(t))&&e.value===t.value&&e.highValue===t.highValue}}class F1 extends zc{static compare(e,t){return!(x.isNullOrUndefined(e)&&x.isNullOrUndefined(t)||x.isNullOrUndefined(e)!==x.isNullOrUndefined(t))&&e.value===t.value&&e.highValue===t.highValue&&e.forceChange===t.forceChange}}const tH={provide:li,useExisting:et(()=>V1),multi:!0};let V1=(()=>{class n{constructor(t,i,r,s){this.renderer=t,this.elementRef=i,this.changeDetectionRef=r,this.zone=s,this.value=null,this.valueChange=new Be,this.highValue=null,this.highValueChange=new Be,this.options=new Gc,this.userChangeStart=new Be,this.userChange=new Be,this.userChangeEnd=new Be,this.initHasRun=!1,this.inputModelChangeSubject=new $,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new $,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Gc,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new N1,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new L1(this.renderer)}set manualRefresh(t){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=t.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(t){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=t.subscribe(i=>{this.focusPointer(i)})}get range(){return!x.isNullOrUndefined(this.value)&&!x.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Gc,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(t){x.isNullOrUndefined(t.options)||this.onChangeOptions(),(!x.isNullOrUndefined(t.value)||!x.isNullOrUndefined(t.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(t){t instanceof Array?(this.value=t[0],this.highValue=t[1]):this.value=t,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(t){this.onChangeCallback=t}registerOnTouched(t){this.onTouchedCallback=t}setDisabledState(t){this.viewOptions.disabled=t,this.updateDisabledState()}onResize(t){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(t){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(vg(F1.compare),In(i=>!i.forceChange&&!i.internalChange),x.isNullOrUndefined(t)?pt(()=>{}):$c(t,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(t){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(vg(F1.compare),x.isNullOrUndefined(t)?pt(()=>{}):$c(t,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Or.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Or.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){x.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){x.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){x.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){x.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){x.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){x.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(t){return t===ee.Min?this.minHandleElement:t===ee.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===ee.Min?this.viewLowValue:this.currentTrackingPointer===ee.Max?this.viewHighValue:null}modelValueToViewValue(t){return x.isNullOrUndefined(t)?NaN:x.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+t:x.findStepIndex(+t,this.viewOptions.stepsArray)}viewValueToModelValue(t){return x.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?t:this.getStepValue(t)}getStepValue(t){const i=this.viewOptions.stepsArray[t];return x.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(t){const i=this.normaliseModelValues(t),r=!zc.compare(t,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(t){const i=()=>{this.valueChange.emit(t.value),this.range&&this.highValueChange.emit(t.highValue),x.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[t.value,t.highValue]:t.value),x.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[t.value,t.highValue]:t.value)};t.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(t){const i=new zc;if(i.value=t.value,i.highValue=t.highValue,!x.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=x.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const s=x.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[s].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Ft.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Ft.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&t.value>t.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=t.value;i.value=t.highValue,i.highValue=r}return i}renormaliseModelValues(){const t={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(t);zc.compare(i,t)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const t=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,r=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const s=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!x.areArraysEqual(r,s);t!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new Gc,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!x.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!x.isNullOrUndefined(this.viewOptions.tickStep)||!x.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!x.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),x.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),x.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(t,i)=>t+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,x.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(t):t))}applyFloorCeilOptions(){if(x.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),x.isNullOrUndefined(this.viewOptions.ceil)||x.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,x.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=t=>String(t))}resetSlider(t=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),t&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(t){t!==ee.Min&&t!==ee.Max&&(t=ee.Min),t===ee.Min?this.minHandleElement.focus():this.range&&t===ee.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){x.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const t=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(t||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(t||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const t of this.getAllSliderElements())x.isNullOrUndefined(t)||t.setVertical(this.viewOptions.vertical)}updateScale(){for(const t of this.getAllSliderElements())t.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",x.isNullOrUndefined(this.viewOptions.ariaLabel)?x.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",x.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?x.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Xt.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Xt.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){x.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const t=this.minHandleElement.dimension;this.handleHalfDimension=t/2,x.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-t,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const t=x.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&t.reverse();const r=x.isNullOrUndefined(this.viewOptions.tickValueStep)?x.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let s=!1;const o=t.map(l=>{let u=this.valueToPosition(l);this.viewOptions.vertical&&(u=this.maxHandlePosition-u);const h=i+"("+Math.round(u)+"px)",f=new eH;f.selected=this.isTickSelected(l),f.style={"-webkit-transform":h,"-moz-transform":h,"-o-transform":h,"-ms-transform":h,transform:h},f.selected&&!x.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(f.style["background-color"]=this.getSelectionBarColor()),!f.selected&&!x.isNullOrUndefined(this.viewOptions.getTickColor)&&(f.style["background-color"]=this.getTickColor(l)),x.isNullOrUndefined(this.viewOptions.ticksTooltip)||(f.tooltip=this.viewOptions.ticksTooltip(l),f.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!x.isNullOrUndefined(r)&&Ft.isModuloWithinPrecisionLimit(l,r,this.viewOptions.precisionLimit)&&(f.value=this.getDisplayValue(l,Xt.TickValue),x.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(f.valueTooltip=this.viewOptions.ticksValuesTooltip(l),f.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let g=null;if(x.isNullOrUndefined(this.viewOptions.stepsArray))x.isNullOrUndefined(this.viewOptions.getLegend)||(g=this.viewOptions.getLegend(l));else{const m=this.viewOptions.stepsArray[l];x.isNullOrUndefined(m)||(g=m.legend)}return x.isNullOrUndefined(g)||(f.legend=g,s=!0),f});if(setTimeout(()=>{this.sliderElementWithLegendClass=s}),x.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let l=0;l<o.length;++l)Object.assign(this.ticks[l],o[l]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const t=x.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(Ft.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/t,this.viewOptions.precisionLimit));for(let s=0;s<r;++s)i.push(Ft.roundToPrecisionLimit(this.viewOptions.floor+t*s,this.viewOptions.precisionLimit));return i}isTickSelected(t){if(!this.range)if(x.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(t>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&t<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&t>=i&&t<=this.viewLowValue)return!0;if(this.viewLowValue<i&&t<=i&&t>=this.viewLowValue)return!0}return!!(this.range&&t>=this.viewLowValue&&t<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Xt.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Xt.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(t,i){t===ee.Min?this.updateLowHandle(i):t===ee.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(t,i){const r=t===ee.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=i-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&t===ee.Min||!this.viewOptions.rightToLeft&&t===ee.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(t){this.minHandleElement.setPosition(t),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Xt.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(ee.Min,t)),x.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(ee.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(t){this.maxHandleElement.setPosition(t),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Xt.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(ee.Max,t)),x.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(ee.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let t=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),l=this.isLabelBelowFloorLabel(this.combinedLabelElement),u=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(t=!0,this.floorLabelElement.hide()):(t=!1,this.floorLabelElement.show()),s?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const h=this.combinedLabelElement.isVisible()?u:o,f=this.combinedLabelElement.isVisible()?l:r;h?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),f?this.floorLabelElement.hide():t||this.floorLabelElement.show()}}isLabelBelowFloorLabel(t){const i=t.position,s=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+t.dimension>=s-2:i<=s+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(t){const i=t.position,s=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=s+this.ceilLabelElement.dimension+2:i+t.dimension>=s-2}updateSelectionBar(){let t=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),t=s;else if(x.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),t=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,t=0);else{const o=this.viewOptions.showSelectionBarFromValue,l=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-l,t=l+this.handleHalfDimension):(i=l-this.minHandleElement.position,t=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(t),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(t),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+i)),this.leftOuterSelectionBarElement.setPosition(t+i)):(this.leftOuterSelectionBarElement.setDimension(t),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(t+i)),this.rightOuterSelectionBarElement.setPosition(t+i))),x.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!x.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=x.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),l=o-t>0&&!r||o-t<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?l?"bottom":"top":l?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+t+(l?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-t+(l?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(t){return this.viewOptions.getPointerColor(t===ee.Max?this.highValue:this.value,t)}getTickColor(t){return this.viewOptions.getTickColor(t)}updateCombinedLabel(){let t=null;if(t=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,t){const i=this.getDisplayValue(this.viewLowValue,Xt.Low),r=this.getDisplayValue(this.viewHighValue,Xt.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(s);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(t,i){return!x.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(t=this.getStepValue(t)),this.viewOptions.translate(t,i)}roundStep(t,i){const r=x.isNullOrUndefined(i)?this.viewOptions.step:i;let s=Ft.roundToPrecisionLimit((t-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return s=Math.round(s)*r,Ft.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(t){let i=x.linearValueToPosition;x.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=x.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(t=Ft.clampToRange(t,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return x.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(t){let i=t/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=x.linearPositionToValue;x.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=x.logPositionToValue):r=this.viewOptions.customPositionToValue;const s=r(i,this.viewOptions.floor,this.viewOptions.ceil);return x.isNullOrUndefined(s)?0:s}getEventXY(t,i){if(t instanceof MouseEvent)return this.viewOptions.vertical?t.clientY:t.clientX;let r=0;const s=t.touches;if(!x.isNullOrUndefined(i))for(let o=0;o<s.length;o++)if(s[o].identifier===i){r=o;break}return this.viewOptions.vertical?s[r].clientY:s[r].clientX}getEventPosition(t,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(t,i)+s:this.getEventXY(t,i)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(t){if(!this.range)return ee.Min;const i=this.getEventPosition(t),r=Math.abs(i-this.minHandleElement.position),s=Math.abs(i-this.maxHandleElement.position);return r<s?ee.Min:r>s?ee.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?ee.Min:ee.Max:i<this.minHandleElement.position?ee.Min:ee.Max}bindEvents(){const t=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,t,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(ee.Min,t,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(ee.Max,t,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(ee.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(ee.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,t,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(ee.Min,t,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(ee.Max,t,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(ee.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(ee.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(ee.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(ee.Max)))}getOptionsInfluencingEventBindings(t){return[t.disabled,t.readOnly,t.draggableRange,t.draggableRangeOnly,t.onlyBindHandles,t.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const t of this.getAllSliderElements())x.isNullOrUndefined(t)||t.off()}onBarStart(t,i,r,s,o,l,u){i?this.onDragStart(t,r,s,o):this.onStart(t,r,s,o,l,u)}onStart(t,i,r,s,o,l){i.stopPropagation(),(!Or.isTouchEvent(i)||!O1.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),x.isNullOrUndefined(t)&&(t=this.getNearestHandle(i)),this.currentTrackingPointer=t;const u=this.getPointerElement(t);if(u.active=!0,this.viewOptions.keyboardSupport&&u.focus(),r){this.unsubscribeOnMove();const h=f=>this.dragging.active?this.onDragMove(f):this.onMove(f);this.onMoveEventListener=Or.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",h,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",h,this.viewOptions.mouseEventsInterval)}if(s){this.unsubscribeOnEnd();const h=f=>this.onEnd(f);this.onEndEventListener=Or.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",h):this.eventListenerHelper.attachEventListener(document,"mouseup",h)}this.userChangeStart.emit(this.getChangeContext()),Or.isTouchEvent(i)&&!x.isNullOrUndefined(i.changedTouches)&&x.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),l&&this.onEnd(i)}onMove(t,i){let r=null;if(Or.isTouchEvent(t)){const h=t.changedTouches;for(let f=0;f<h.length;f++)if(h[f].identifier===this.touchId){r=h[f];break}if(x.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const s=x.isNullOrUndefined(r)?this.getEventPosition(t):this.getEventPosition(t,r.identifier);let o;s<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:s>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(s),o=i&&!x.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(t){Or.isTouchEvent(t)&&t.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(t){const i=this.getPointerElement(t);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=t,this.currentFocusPointer=t,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(t){t.off("blur"),t.off("keydown"),t.off("keyup"),t.active=!1,x.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(t){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=t+this.viewOptions.step,s=t-this.viewOptions.step,o=t+i/10,l=t-i/10;this.viewOptions.reversedControls&&(r=t-this.viewOptions.step,s=t+this.viewOptions.step,o=t-i/10,l=t+i/10);const u={UP:r,DOWN:s,LEFT:s,RIGHT:r,PAGEUP:o,PAGEDOWN:l,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(u.LEFT=r,u.RIGHT=s,this.viewOptions.vertical&&(u.UP=s,u.DOWN=r)),u}onKeyboardEvent(t){const i=this.getCurrentTrackingValue(),r=x.isNullOrUndefined(t.keyCode)?t.which:t.keyCode,u=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(x.isNullOrUndefined(u)||x.isNullOrUndefined(this.currentTrackingPointer))return;t.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const h=Ft.clampToRange(u,this.viewOptions.floor,this.viewOptions.ceil),f=this.roundStep(h);if(this.viewOptions.draggableRangeOnly){const g=this.viewHighValue-this.viewLowValue;let m,y;this.currentTrackingPointer===ee.Min?(m=f,y=f+g,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,m=y-g)):this.currentTrackingPointer===ee.Max&&(y=f,m=f-g,m<this.viewOptions.floor&&(m=this.viewOptions.floor,y=m+g)),this.positionTrackingBar(m,y)}else this.positionTrackingHandle(f)}onDragStart(t,i,r,s){const o=this.getEventPosition(i);this.dragging=new N1,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(t,i,r,s)}getMinValue(t,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(s?t+this.dragging.lowLimit:t-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(t,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?this.positionToValue(t+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(t-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(t){const i=this.getEventPosition(t);let r,s,o,l;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,l=this.minHandleElement):(r=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,l=this.maxHandleElement);const h=i>=this.maxHandlePosition-r;let f,g;if(i<=s){if(0===o.position)return;f=this.getMinValue(i,!0,!1),g=this.getMaxValue(i,!0,!1)}else if(h){if(l.position===this.maxHandlePosition)return;g=this.getMaxValue(i,!0,!0),f=this.getMinValue(i,!0,!0)}else f=this.getMinValue(i,!1,!1),g=this.getMaxValue(i,!1,!1);this.positionTrackingBar(f,g)}positionTrackingBar(t,i){!x.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit&&(i=Ft.roundToPrecisionLimit((t=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!x.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(t=Ft.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=t,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(ee.Min,this.valueToPosition(t)),this.updateHandles(ee.Max,this.valueToPosition(i))}positionTrackingHandle(t){t=this.applyMinMaxLimit(t),this.range&&(this.viewOptions.pushRange?t=this.applyPushRange(t):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===ee.Min&&t>this.viewHighValue?t=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===ee.Max&&t<this.viewLowValue&&(t=this.applyMinMaxRange(this.viewLowValue))),t=this.applyMinMaxRange(t),this.currentTrackingPointer===ee.Min&&t>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(ee.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ee.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===ee.Max&&t<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(ee.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=ee.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==t&&(this.currentTrackingPointer===ee.Min?(this.viewLowValue=t,this.applyViewChange()):this.currentTrackingPointer===ee.Max&&(this.viewHighValue=t,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(t)),this.updateAriaAttributes())}applyMinMaxLimit(t){return!x.isNullOrUndefined(this.viewOptions.minLimit)&&t<this.viewOptions.minLimit?this.viewOptions.minLimit:!x.isNullOrUndefined(this.viewOptions.maxLimit)&&t>this.viewOptions.maxLimit?this.viewOptions.maxLimit:t}applyMinMaxRange(t){const r=Math.abs(t-(this.currentTrackingPointer===ee.Min?this.viewHighValue:this.viewLowValue));if(!x.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===ee.Min)return Ft.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ee.Max)return Ft.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!x.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===ee.Min)return Ft.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===ee.Max)return Ft.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return t}applyPushRange(t){const i=this.currentTrackingPointer===ee.Min?this.viewHighValue-t:t-this.viewLowValue,r=x.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===ee.Min?(this.viewHighValue=Ft.roundToPrecisionLimit(Math.min(t+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),t=Ft.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ee.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ee.Max&&(this.viewLowValue=Ft.roundToPrecisionLimit(Math.max(t-r,this.viewOptions.floor),this.viewOptions.precisionLimit),t=Ft.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ee.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!x.isNullOrUndefined(s)&&i>s&&(this.currentTrackingPointer===ee.Min?(this.viewHighValue=Ft.roundToPrecisionLimit(t+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ee.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===ee.Max&&(this.viewLowValue=Ft.roundToPrecisionLimit(t-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(ee.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),t}getChangeContext(){const t=new XU;return t.pointerType=this.currentTrackingPointer,t.value=+this.value,this.range&&(t.highValue=+this.highValue),t}}return n.\u0275fac=function(t){return new(t||n)(D(Nn),D(kt),D(Di),D(ot))},n.\u0275cmp=wt({type:n,selectors:[["ngx-slider"]],contentQueries:function(t,i,r){if(1&t&&bu(r,xU,5),2&t){let s;dt(s=ht())&&(i.tooltipTemplate=s.first)}},viewQuery:function(t,i){if(1&t&&(Tt(PU,5,Rr),Tt(OU,5,Rr),Tt(RU,5,Rr),Tt(LU,5,Rr),Tt(NU,5,wg),Tt(FU,5,wg),Tt(VU,5,yo),Tt(UU,5,yo),Tt(HU,5,yo),Tt(BU,5,yo),Tt(jU,5,yo),Tt($U,5,Rr)),2&t){let r;dt(r=ht())&&(i.leftOuterSelectionBarElement=r.first),dt(r=ht())&&(i.rightOuterSelectionBarElement=r.first),dt(r=ht())&&(i.fullBarElement=r.first),dt(r=ht())&&(i.selectionBarElement=r.first),dt(r=ht())&&(i.minHandleElement=r.first),dt(r=ht())&&(i.maxHandleElement=r.first),dt(r=ht())&&(i.floorLabelElement=r.first),dt(r=ht())&&(i.ceilLabelElement=r.first),dt(r=ht())&&(i.minHandleLabelElement=r.first),dt(r=ht())&&(i.maxHandleLabelElement=r.first),dt(r=ht())&&(i.combinedLabelElement=r.first),dt(r=ht())&&(i.ticksElement=r.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(t,i){1&t&&Ze("resize",function(s){return i.onResize(s)},0,mh),2&t&&(mn("disabled",i.sliderElementDisabledAttr),Yn("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[st([tH]),Rn],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(t,i){1&t&&(c(0,"span",0,1),p(2,"span",2),d(),c(3,"span",3,4),p(5,"span",2),d(),c(6,"span",5,6),p(8,"span",2),d(),c(9,"span",7,8),p(11,"span",9),d(),p(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),c(26,"span",24,25),Ee(28,qU,4,9,"span",26),d()),2&t&&(b(6),Yn("ngx-slider-transparent",i.fullBarTransparentClass),b(3),Yn("ngx-slider-draggable",i.selectionBarDraggableClass),b(2),T("ngStyle",i.barStyle),b(1),T("ngStyle",i.minPointerStyle),b(2),du("display",i.range?"inherit":"none"),T("ngStyle",i.maxPointerStyle),b(12),Yn("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),T("hidden",!i.showTicks),b(2),T("ngForOf",i.ticks))},dependencies:function(){return[va,ba,yn,Fw,Rr,wg,yo,nH]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),nH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=wt({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(t,i){1&t&&(Ee(0,QU,2,6,"ng-container",0),Ee(1,JU,3,3,"ng-container",0)),2&t&&(T("ngIf",i.template),b(1),T("ngIf",!i.template))},dependencies:[yn,Vw],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({imports:[Hw]}),n})();class rH extends dg.EventEmitter{constructor(e){super(),this._value=e}get value(){return this._value}set value(e){this._value=e}}const aH=new class oH extends Ui{}(class sH extends fg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!==i&&i>0||null===i&&this.delay>0?super.requestAsyncId(e,t,i):e.flush(this)}});class di{constructor(e,t,i){this.kind=e,this.value=t,this.error=i,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,i){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return i&&i()}}accept(e,t,i){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,i)}toObservable(){switch(this.kind){case"N":return ae(this.value);case"E":return Ti(this.error);case"C":return qu()}throw new Error("unexpected notification kind value")}static createNext(e){return typeof e<"u"?new di("N",e):di.undefinedValueNotification}static createError(e){return new di("E",void 0,e)}static createComplete(){return di.completeNotification}}di.completeNotification=new di("C"),di.undefinedValueNotification=new di("N",void 0);class Wc extends ye{constructor(e,t,i=0){super(e),this.scheduler=t,this.delay=i}static dispatch(e){const{notification:t,destination:i}=e;t.observe(i),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(Wc.dispatch,this.delay,new uH(e,this.destination)))}_next(e){this.scheduleMessage(di.createNext(e))}_error(e){this.scheduleMessage(di.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(di.createComplete()),this.unsubscribe()}}class uH{constructor(e,t){this.notification=e,this.destination=t}}class cH extends ${constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,i){super(),this.scheduler=i,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new dH(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,i=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,s=i.length;let o;if(this.closed)throw new _;if(this.isStopped||this.hasError?o=O.EMPTY:(this.observers.push(e),o=new w(this,e)),r&&e.add(e=new Wc(e,r)),t)for(let l=0;l<s&&!e.closed;l++)e.next(i[l]);else for(let l=0;l<s&&!e.closed;l++)e.next(i[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||aH).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,i=this._windowTime,r=this._events,s=r.length;let o=0;for(;o<s&&!(e-r[o].time<i);)o++;return s>t&&(o=Math.max(o,s-t)),o>0&&r.splice(0,o),r}}class dH{constructor(e,t){this.time=e,this.value=t}}function vo(){return window}function Cg(){return vo().YT}function U1(){return Cg().Player}const gl={height:270,width:367};let Dg=(()=>{class n{constructor(t){this.zone=t,this.api=new cH(1),this.createApi()}loadPlayerApi(t){const i=vo().document;if(!n.ytApiLoaded){n.ytApiLoaded=!0;const r=i.createElement("script");r.type="text/javascript",r.src=`${t.protocol}://www.youtube.com/iframe_api`,i.body.appendChild(r)}}setupPlayer(t,i,r,s="",o){this.api.subscribe(()=>{U1&&this.createPlayer(t,i,r,s,o)})}play(t){t.playVideo()}pause(t){t.pauseVideo()}playVideo(t,i){i.loadVideoById(t.id.videoId?t.id.videoId:t.id),this.play(i)}isPlaying(t){const i=t&&t.getPlayerState,r=i?t.getPlayerState():{};return!!i&&r!==Cg().PlayerState.ENDED&&r!==Cg().PlayerState.PAUSED}createPlayer(t,i,r,s="",o={}){const l={height:r.height||gl.height,width:r.width||gl.width};return new(U1())(t,Object.assign(Object.assign({},l),{events:{onReady:h=>{this.zone.run(()=>i.ready&&i.ready.next(h.target))},onStateChange:h=>{this.zone.run(()=>i.change&&i.change.next(h))}},playerVars:o,videoId:s}))}toggleFullScreen(t,i){let{height:r,width:s}=gl;i||(r=window.innerHeight,s=window.innerWidth),t.setSize(s,r)}generateUniqueId(){return Math.random().toString(35).substr(2,7)}createApi(){vo().onYouTubeIframeAPIReady=()=>{vo()&&(vo().onYouTubeIframeAPIReadyCalled=!0,this.api.next())},vo().onYouTubeIframeAPIReadyCalled&&this.api.next()}}return n.\u0275fac=function(t){return new(t||n)(R(ot))},n.ytApiLoaded=!1,n.\u0275prov=Y({factory:function(){return new n(R(ot))},token:n,providedIn:"root"}),n})(),hH=(()=>{class n{constructor(t,i,r){this.playerService=t,this.elementRef=i,this.renderer=r,this.videoId="",this.height=gl.height,this.width=gl.width,this.protocol=this.getProtocol(),this.playerVars={},this.ready=new Be,this.change=new Be}ngAfterContentInit(){const t=this.playerService.generateUniqueId(),i={height:this.height,width:this.width},r=this.renderer.selectRootElement("#yt-player-ngx-component");this.renderer.setAttribute(r,"id",t),this.playerService.loadPlayerApi({protocol:this.protocol}),this.playerService.setupPlayer(t,{change:this.change,ready:this.ready},i,this.videoId,this.playerVars)}getProtocol(){return window&&window.location?window.location.protocol.replace(":",""):"http"}}return n.\u0275fac=function(t){return new(t||n)(D(Dg),D(kt),D(Nn))},n.\u0275cmp=wt({type:n,selectors:[["youtube-player"]],inputs:{videoId:"videoId",height:"height",width:"width",protocol:"protocol",playerVars:"playerVars"},outputs:{ready:"ready",change:"change"},decls:1,vars:0,consts:[["id","yt-player-ngx-component"]],template:function(t,i){1&t&&p(0,"div",0)},encapsulation:2,changeDetection:0}),n})(),fH=(()=>{class n{static forRoot(){return{ngModule:n,providers:[Dg]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=nn({type:n}),n.\u0275inj=qt({providers:[Dg]}),n})();const pH=["youtubePlayer"],H1=function(n){return{hide:n}},gH=function(n,e,t){return{playing:n,loading:e,stopped:t}},mH=function(n,e){return{shuffleOn:n,shuffleOff:e}},yH=function(n,e,t,i){return{mute:n,unmute:e,muteDisabled:t,unmuteDisabled:i}};class qc{constructor(e,t,i){this.musicService=e,this.messageService=t,this.changeDetectorRef=i,this.label="MusicPlayer",this._gainsDisabled=new rH(!1),this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=r=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,r?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.musicService.playerUiInitialized(this._gainsDisabled),this.subscription=this.messageService.onMessage().subscribe(r=>{"YoutubeVolumeChange"===r.type&&this.updateMuteUI()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get selectedTrackAsYoutubeTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.musicService.masterGain}set masterGain(e){this.musicService.masterGain=e}get masterMuted(){return this.musicService.masterMuted}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(e){return e<=.2?"#394A00":e<=.4?"#596A06":e<=.6?"#798A0A":e<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(e){return e<=.2?"#5D0800":e<=.4?"#7D2800":e<=.6?"#9D4800":e<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(e){return"#8B91A2"}ngAfterViewInit(){this.musicService.initStreamer(),this.musicService.sendYoutubePlayerElement(this.youtubePlayerElement),this.musicService.onWindowInitSize(window.innerWidth,window.innerHeight)}ngOnDestroy(){this.subscription instanceof O&&this.subscription.unsubscribe()}onWindowResize(){this.musicService.onWindowResize(window.innerWidth,window.innerHeight)}onYoutubeBtn(){this.musicService.onYoutubeBtn()}onPlayerReady(e){this.musicService.onYoutubePlayerReady(e)}onPlayerStateChange(e){this.musicService.OnYoutubePlayerStateChange(e.data)}onPlayPauseBtn(){this.musicService.OnUiPlayOrPause()}onNextBtn(){this.musicService.onUiNextTrack()}onShuffleBtn(){this.musicService.toggleShuffle()}onMasterMuteBtn(){this._gainsDisabled.value||(this.musicService.masterMuted=!this.masterMuted)}updateMuteUI(){this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})}static#e=this.\u0275fac=function(t){return new(t||qc)(D(co),D(os),D(Di))};static#t=this.\u0275cmp=wt({type:qc,selectors:[["app-music-player"]],viewQuery:function(t,i){if(1&t&&Tt(pH,5),2&t){let r;dt(r=ht())&&(i.youtubePlayerElement=r.first)}},hostBindings:function(t,i){1&t&&Ze("resize",function(s){return i.onWindowResize(s)},0,mh)},decls:22,vars:25,consts:[[1,"playerContainer"],[1,"youtubePlayer",3,"ngClass"],["youtubePlayer",""],[3,"videoId","ready","change"],[1,"myPlayer","noSelect",3,"ngClass"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"],["id","scWidget","width","100%","height","10","scrolling","no","frameborder","no","allow","autoplay","src","https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1255416709&color=%23ff5500&auto_play=false&hide_related=true&show_comments=false&show_user=false&show_reposts=false&show_teaser=false&buying=false&liking=false&download=false&sharing=false&show_artwork=false&show_playcount=false&start_track=0",1,"hide"]],template:function(t,i){1&t&&(c(0,"div",0)(1,"div",1,2)(3,"youtube-player",3),Ze("ready",function(s){return i.onPlayerReady(s)})("change",function(s){return i.onPlayerStateChange(s)}),d()(),c(4,"div",4)(5,"span",5),Ze("click",function(){return i.onPlayPauseBtn()}),p(6,"div",6),d(),c(7,"span",7),Ze("click",function(){return i.onNextBtn()}),p(8,"div",8)(9,"div",9),d(),c(10,"span",10)(11,"span"),a(12),d()(),c(13,"span",11)(14,"span",12),Ze("click",function(){return i.onShuffleBtn()}),p(15,"div",13),d(),c(16,"span",14),Ze("click",function(){return i.onMasterMuteBtn()}),p(17,"div",6),d(),c(18,"span",15)(19,"span",16)(20,"ngx-slider",17),Ze("valueChange",function(s){return i.masterGain=s}),d()()()()()(),p(21,"iframe",18)),2&t&&(b(1),T("ngClass",yr(9,H1,"Youtube"!==i.selectedTrack.source||!1===i.selectedTrackAsYoutubeTrack.displayOnYoutube)),b(2),Bt("videoId",i.selectedTrackAsYoutubeTrack.youtubeId),b(1),T("ngClass",yr(11,H1,null!==i.selectedTrackAsYoutubeTrack&&!0===i.selectedTrackAsYoutubeTrack.displayOnYoutube)),b(2),T("ngClass",lf(13,gH,"Playing"===i.playState,"Loading"===i.playState,"Paused"===i.playState||"Stopped"===i.playState)),b(6),Qe(i.selectedTrack.name),b(3),T("ngClass",aa(17,mH,i.isShuffle,!i.isShuffle)),b(2),T("ngClass",function d_(n,e,t,i,r,s,o){return g_(P(),Dn(),n,e,t,i,r,s,o)}(20,yH,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),b(3),T("value",i.masterGain)("options",i.optionsMasterGain))},dependencies:[va,V1,hH],styles:['.playerContainer[_ngcontent-%COMP%]{position:fixed;z-index:1;transform:translateY(40px);width:90%}.myPlayer[_ngcontent-%COMP%]{cursor:pointer;border:1px solid var(--colorGrayLightMed);border-radius:1em;padding-top:9px;padding-bottom:7px;height:24px}.youtubePlayer[_ngcontent-%COMP%]{margin:0 0%}.trackName[_ngcontent-%COMP%]{position:fixed;margin-top:1.25px}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:6%;height:23px}.stopped[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:_ngcontent-%COMP%_rotationFastReverse .5s infinite linear}@keyframes _ngcontent-%COMP%_rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);animation:_ngcontent-%COMP%_rotation 3s infinite linear;transition:all .2s}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(-359deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;width:10px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:42%;height:24px;float:right}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.youtubeButtonContainer[_ngcontent-%COMP%]{float:left;height:16px;width:25px}.youtubeButton[_ngcontent-%COMP%]{width:256px;height:256px;display:block;transform:translate(-116px) translateY(-116px) scale(.1);background:transparent url(https://upload.wikimedia.org/wikipedia/commons/5/55/YouTube_icon_%282013-2017%29.svg)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\d\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.youtubePlayer[_ngcontent-%COMP%]{margin:0 0%}.playIconContainer[_ngcontent-%COMP%]{width:7%}.nextContainer[_ngcontent-%COMP%]{padding-right:2%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 452px) and (max-width: 703px){.youtubePlayer[_ngcontent-%COMP%]{margin:0 10%}.myPlayer[_ngcontent-%COMP%]{margin:0 0%}.playIconContainer[_ngcontent-%COMP%]{width:6%}.nextContainer[_ngcontent-%COMP%]{padding-right:3%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 704px) and (max-width: 1053px){.youtubePlayer[_ngcontent-%COMP%]{margin:0 20%}.myPlayer[_ngcontent-%COMP%]{margin:0 5%;width:80%}.playIconContainer[_ngcontent-%COMP%]{width:5%}.nextContainer[_ngcontent-%COMP%]{padding-right:4%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.youtubePlayer[_ngcontent-%COMP%]{margin:0 30%}.myPlayer[_ngcontent-%COMP%]{margin:0 10%;width:70%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.youtubePlayer[_ngcontent-%COMP%]{margin:0 35%}.myPlayer[_ngcontent-%COMP%]{margin:0 15%;width:60%}}@media screen and (min-width: 2001px){.youtubePlayer[_ngcontent-%COMP%]{margin:0 37%}.myPlayer[_ngcontent-%COMP%]{margin:0 20%;width:50%}}']})}const vH=["headerContainer"],bH=["headerBackground"];function _H(n,e){1&n&&(c(0,"div")(1,"label"),a(2,"Has to be a valid email address"),d()())}function wH(n,e){if(1&n&&(c(0,"div",23),Ee(1,_H,3,0,"div",20),d()),2&n){const t=Me(3);b(1),T("ngIf",null==t.emailControl.errors?null:t.emailControl.errors.pattern)}}function CH(n,e){if(1&n&&(c(0,"div")(1,"label"),a(2,"* Your Email:"),d(),p(3,"br")(4,"input",19),Ee(5,wH,2,1,"div",22),p(6,"br")(7,"br"),d()),2&n){const t=Me(2);b(4),Bt("placeholder",t.placeholderEmail),Bt("formControlName",t.emailName),Bt("name",t.emailName),b(1),T("ngIf",t.emailControl.invalid)}}function DH(n,e){if(1&n){const t=mr();c(0,"div",15)(1,"form",16),p(2,"input",17),c(3,"label"),a(4),d(),p(5,"br")(6,"textarea",18)(7,"br")(8,"br"),c(9,"label"),a(10,"* Your Name / Handle:"),d(),p(11,"br")(12,"input",19)(13,"br")(14,"br"),Ee(15,CH,8,4,"div",20),c(16,"button",21),Ze("click",function(){return cr(t),dr(Me().onSendClick())}),a(17,"Send"),d()()()}if(2&n){const t=Me();b(1),Bt("name",t.formName),T("formGroup",t.messageForm),b(1),Bt("value",t.formName),b(2),Qe(t.messageLabel),b(2),Bt("placeholder",t.placeholderText),Bt("formControlName",t.messageName),Bt("name",t.messageName),T("maxlength",300),b(6),Bt("placeholder",t.placeholderHandle),Bt("formControlName",t.handleName),Bt("name",t.handleName),b(3),T("ngIf","/home"===t.urlEnd),b(1),T("disabled",t.messageForm.invalid)}}class Kc{constructor(e,t,i,r,s){this.fb=e,this.http=t,this.router=i,this.logService=r,this.htmlService=s,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* your comment will pend for moderation\n* this Comment-form will become hidden\nAfter approval I will publish your comment,\nI might also include a short response.",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(In(o=>o instanceof tr)).subscribe(o=>{this.showCommentForm=!0,this.urlEnd=o.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(xr.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(xr.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[xr.required]],[this.handleName]:["",[xr.required]],[this.emailName]:["",[xr.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}ngAfterViewInit(){this.htmlService.set("headerBackground",this.headerBackgroundElement),this.htmlService.set("headerContainer",this.headerContainerElement)}onSendClick(){let e=(new rr).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);e=e.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",e),this.http.post("/",e.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(t=>{this.logService.log("Info","result handler:",t),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},t=>{this.showCommentForm=!1,t instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",t.error),this.headerText="Something went wrong with sending"):200===t.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",t.status),this.logService.log("Error","Error body:",t.error))}),this.messageForm.reset()}static#e=this.\u0275fac=function(t){return new(t||Kc)(D(N0),D(ug),D(sn),D(ui),D(as))};static#t=this.\u0275cmp=wt({type:Kc,selectors:[["app-root"]],viewQuery:function(t,i){if(1&t&&(Tt(vH,5),Tt(bH,5)),2&t){let r;dt(r=ht())&&(i.headerContainerElement=r.first),dt(r=ht())&&(i.headerBackgroundElement=r.first)}},decls:31,vars:2,consts:[[1,"headerContainer"],["headerContainer",""],[1,"headerBackground"],["headerBackground",""],[1,"noSelect"],["routerLink","/home","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],["routerLink","/lifting","routerLinkActive","active"],[1,"footer"],[1,"horizontalLine"],["class","messageForm",4,"ngIf"],[1,"tribute"],["href","https://icons8.com/icon/102034/mute"],["href","https://icons8.com/icon/108731/sound"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(t,i){1&t&&(c(0,"div",0,1),p(2,"div",2,3),c(4,"nav",4)(5,"li")(6,"a",5),a(7,"Home"),d()(),c(8,"li")(9,"a",6),a(10,"Music"),d()(),c(11,"li")(12,"a",7),a(13,"Blog"),d()(),c(14,"li")(15,"a",8),a(16,"Lifting"),d()()(),p(17,"app-music-player"),d(),p(18,"router-outlet"),c(19,"div",9),p(20,"div",10),c(21,"h2"),a(22),d(),Ee(23,DH,18,13,"div",11),c(24,"div",12)(25,"small")(26,"a",13),a(27,"Mute icon by Icons8"),d(),p(28,"br"),c(29,"a",14),a(30,"Sound icon by Icons8"),d()()()()),2&t&&(b(22),Qe(i.headerText),b(1),T("ngIf",i.showCommentForm))},dependencies:[sc,fc,CD,yn,Zp,Fa,Fp,Vp,Ic,za,Sc,qc],encapsulation:2})}class Yc{static#e=this.\u0275fac=function(t){return new(t||Yc)};static#t=this.\u0275mod=nn({type:Yc,bootstrap:[Kc]});static#n=this.\u0275inj=qt({providers:[{provide:t1,useExisting:Xa},{provide:Fc,useValue:{coreLibraryLoader:()=>Re.e(112).then(Re.bind(Re,9112)),languages:{typescript:()=>Re.e(852).then(Re.bind(Re,9852))}}}],imports:[Uc,UO,CV,S1,iH,MU,rg,f3,fH.forRoot()]})}VO().bootstrapModule(Yc)},8089:(on,Vt)=>{"use strict";var Ne={update:function(){if(typeof window<"u"&&"function"==typeof window.addEventListener){var He=!1,K=Object.defineProperty({},"passive",{get:function(){He=!0}}),Je=function(){};window.addEventListener("testPassiveEventSupport",Je,K),window.removeEventListener("testPassiveEventSupport",Je,K),Ne.hasSupport=He}}};Ne.update(),Vt.Z=Ne},9069:on=>{"use strict";var Ne,Vt="object"==typeof Reflect?Reflect:null,Re=Vt&&"function"==typeof Vt.apply?Vt.apply:function(V,G,j){return Function.prototype.apply.call(V,G,j)};Ne=Vt&&"function"==typeof Vt.ownKeys?Vt.ownKeys:Object.getOwnPropertySymbols?function(V){return Object.getOwnPropertyNames(V).concat(Object.getOwnPropertySymbols(V))}:function(V){return Object.getOwnPropertyNames(V)};var He=Number.isNaN||function(V){return V!=V};function K(){K.init.call(this)}on.exports=K,on.exports.once=function hi(B,V){return new Promise(function(G,j){function ne(_){B.removeListener(V,se),j(_)}function se(){"function"==typeof B.removeListener&&B.removeListener("error",ne),G([].slice.call(arguments))}en(B,V,se,{once:!0}),"error"!==V&&function Wt(B,V,G){"function"==typeof B.on&&en(B,"error",V,G)}(B,ne,{once:!0})})},K.EventEmitter=K,K.prototype._events=void 0,K.prototype._eventsCount=0,K.prototype._maxListeners=void 0;var Je=10;function Ve(B){if("function"!=typeof B)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof B)}function Pt(B){return void 0===B._maxListeners?K.defaultMaxListeners:B._maxListeners}function Qn(B,V,G,j){var ne,se,_;if(Ve(G),void 0===(se=B._events)?(se=B._events=Object.create(null),B._eventsCount=0):(void 0!==se.newListener&&(B.emit("newListener",V,G.listener?G.listener:G),se=B._events),_=se[V]),void 0===_)_=se[V]=G,++B._eventsCount;else if("function"==typeof _?_=se[V]=j?[G,_]:[_,G]:j?_.unshift(G):_.push(G),(ne=Pt(B))>0&&_.length>ne&&!_.warned){_.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(V)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=B,w.type=V,w.count=_.length,function De(B){console&&console.warn&&console.warn(B)}(w)}return B}function S(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function O(B,V,G){var j={fired:!1,wrapFn:void 0,target:B,type:V,listener:G},ne=S.bind(j);return ne.listener=G,j.wrapFn=ne,ne}function te(B,V,G){var j=B._events;if(void 0===j)return[];var ne=j[V];return void 0===ne?[]:"function"==typeof ne?G?[ne.listener||ne]:[ne]:G?function an(B){for(var V=new Array(B.length),G=0;G<V.length;++G)V[G]=B[G].listener||B[G];return V}(ne):Ot(ne,ne.length)}function Se(B){var V=this._events;if(void 0!==V){var G=V[B];if("function"==typeof G)return 1;if(void 0!==G)return G.length}return 0}function Ot(B,V){for(var G=new Array(V),j=0;j<V;++j)G[j]=B[j];return G}function en(B,V,G,j){if("function"==typeof B.on)j.once?B.once(V,G):B.on(V,G);else{if("function"!=typeof B.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof B);B.addEventListener(V,function ne(se){j.once&&B.removeEventListener(V,ne),G(se)})}}Object.defineProperty(K,"defaultMaxListeners",{enumerable:!0,get:function(){return Je},set:function(B){if("number"!=typeof B||B<0||He(B))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+B+".");Je=B}}),K.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},K.prototype.setMaxListeners=function(V){if("number"!=typeof V||V<0||He(V))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+V+".");return this._maxListeners=V,this},K.prototype.getMaxListeners=function(){return Pt(this)},K.prototype.emit=function(V){for(var G=[],j=1;j<arguments.length;j++)G.push(arguments[j]);var ne="error"===V,se=this._events;if(void 0!==se)ne=ne&&void 0===se.error;else if(!ne)return!1;if(ne){var _;if(G.length>0&&(_=G[0]),_ instanceof Error)throw _;var w=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw w.context=_,w}var N=se[V];if(void 0===N)return!1;if("function"==typeof N)Re(N,this,G);else{var $=N.length,J=Ot(N,$);for(j=0;j<$;++j)Re(J[j],this,G)}return!0},K.prototype.on=K.prototype.addListener=function(V,G){return Qn(this,V,G,!1)},K.prototype.prependListener=function(V,G){return Qn(this,V,G,!0)},K.prototype.once=function(V,G){return Ve(G),this.on(V,O(this,V,G)),this},K.prototype.prependOnceListener=function(V,G){return Ve(G),this.prependListener(V,O(this,V,G)),this},K.prototype.off=K.prototype.removeListener=function(V,G){var j,ne,se,_,w;if(Ve(G),void 0===(ne=this._events))return this;if(void 0===(j=ne[V]))return this;if(j===G||j.listener===G)0==--this._eventsCount?this._events=Object.create(null):(delete ne[V],ne.removeListener&&this.emit("removeListener",V,j.listener||G));else if("function"!=typeof j){for(se=-1,_=j.length-1;_>=0;_--)if(j[_]===G||j[_].listener===G){w=j[_].listener,se=_;break}if(se<0)return this;0===se?j.shift():function ye(B,V){for(;V+1<B.length;V++)B[V]=B[V+1];B.pop()}(j,se),1===j.length&&(ne[V]=j[0]),void 0!==ne.removeListener&&this.emit("removeListener",V,w||G)}return this},K.prototype.removeAllListeners=function(V){var G,j,ne;if(void 0===(j=this._events))return this;if(void 0===j.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==j[V]&&(0==--this._eventsCount?this._events=Object.create(null):delete j[V]),this;if(0===arguments.length){var _,se=Object.keys(j);for(ne=0;ne<se.length;++ne)"removeListener"!==(_=se[ne])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(G=j[V]))this.removeListener(V,G);else if(void 0!==G)for(ne=G.length-1;ne>=0;ne--)this.removeListener(V,G[ne]);return this},K.prototype.listeners=function(V){return te(this,V,!0)},K.prototype.rawListeners=function(V){return te(this,V,!1)},K.listenerCount=function(B,V){return"function"==typeof B.listenerCount?B.listenerCount(V):Se.call(B,V)},K.prototype.listenerCount=Se,K.prototype.eventNames=function(){return this._eventsCount>0?Ne(this._events):[]}},3028:function(on,Vt){var Re,De;Re=function He(){"use strict";var K=typeof self<"u"?self:typeof window<"u"?window:void 0!==K?K:{},Je=!K.document&&!!K.postMessage,Ve=Je&&/blob:/i.test((K.location||{}).protocol),Pt={},Qn=0,S={parse:function(_,w){var N=(w=w||{}).dynamicTyping||!1;if(se(N)&&(w.dynamicTypingFunction=N,N={}),w.dynamicTyping=N,w.transform=!!se(w.transform)&&w.transform,w.worker&&S.WORKERS_SUPPORTED){var $=function(){if(!S.WORKERS_SUPPORTED)return!1;var Dt,Xe,ge=(Dt=K.URL||K.webkitURL||null,Xe=He.toString(),S.BLOB_URL||(S.BLOB_URL=Dt.createObjectURL(new Blob(["(",Xe,")();"],{type:"text/javascript"})))),U=new K.Worker(ge);return U.onmessage=B,U.id=Qn++,Pt[U.id]=U}();return $.userStep=w.step,$.userChunk=w.chunk,$.userComplete=w.complete,$.userError=w.error,w.step=se(w.step),w.chunk=se(w.chunk),w.complete=se(w.complete),w.error=se(w.error),delete w.worker,void $.postMessage({input:_,config:w,workerId:$.id})}var J=null;return"string"==typeof _?J=w.download?new Se(w):new ye(w):!0===_.readable&&se(_.read)&&se(_.on)?J=new an(w):(K.File&&_ instanceof File||_ instanceof Object)&&(J=new Ot(w)),J.stream(_)},unparse:function(_,w){var N=!1,$=!0,J=",",ge="\r\n",U='"',Dt=U+U,Xe=!1,ie=null,_t=!1;!function(){if("object"==typeof w){if("string"!=typeof w.delimiter||S.BAD_DELIMITERS.filter(function(I){return-1!==w.delimiter.indexOf(I)}).length||(J=w.delimiter),("boolean"==typeof w.quotes||"function"==typeof w.quotes||Array.isArray(w.quotes))&&(N=w.quotes),"boolean"!=typeof w.skipEmptyLines&&"string"!=typeof w.skipEmptyLines||(Xe=w.skipEmptyLines),"string"==typeof w.newline&&(ge=w.newline),"string"==typeof w.quoteChar&&(U=w.quoteChar),"boolean"==typeof w.header&&($=w.header),Array.isArray(w.columns)){if(0===w.columns.length)throw new Error("Option columns is empty");ie=w.columns}void 0!==w.escapeChar&&(Dt=w.escapeChar+U),"boolean"==typeof w.escapeFormulae&&(_t=w.escapeFormulae)}}();var E=new RegExp(Wt(U),"g");if("string"==typeof _&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return L(null,_,Xe);if("object"==typeof _[0])return L(ie||Object.keys(_[0]),_,Xe)}else if("object"==typeof _)return"string"==typeof _.data&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:"object"==typeof _.data[0]?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||"object"==typeof _.data[0]||(_.data=[_.data])),L(_.fields||[],_.data||[],Xe);throw new Error("Unable to serialize unrecognized input");function L(I,oe,ve){var gt="";"string"==typeof I&&(I=JSON.parse(I)),"string"==typeof oe&&(oe=JSON.parse(oe));var at=Array.isArray(I)&&0<I.length,Et=!Array.isArray(oe[0]);if(at&&$){for(var Ut=0;Ut<I.length;Ut++)0<Ut&&(gt+=J),gt+=z(I[Ut],Ut);0<oe.length&&(gt+=ge)}for(var de=0;de<oe.length;de++){var We=at?I.length:oe[de].length,lt=!1,mt=at?0===Object.keys(oe[de]).length:0===oe[de].length;if(ve&&!at&&(lt="greedy"===ve?""===oe[de].join("").trim():1===oe[de].length&&0===oe[de][0].length),"greedy"===ve&&at){for(var je=[],re=0;re<We;re++)je.push(oe[de][Et?I[re]:re]);lt=""===je.join("").trim()}if(!lt){for(var be=0;be<We;be++)0<be&&!mt&&(gt+=J),gt+=z(oe[de][at&&Et?I[be]:be],be);de<oe.length-1&&(!ve||0<We&&!mt)&&(gt+=ge)}}return gt}function z(I,oe){if(null==I)return"";if(I.constructor===Date)return JSON.stringify(I).slice(1,25);!0===_t&&"string"==typeof I&&null!==I.match(/^[=+\-@].*$/)&&(I="'"+I);var ve=I.toString().replace(E,Dt);return"boolean"==typeof N&&N||"function"==typeof N&&N(I,oe)||Array.isArray(N)&&N[oe]||function(at,Et){for(var Ut=0;Ut<Et.length;Ut++)if(-1<at.indexOf(Et[Ut]))return!0;return!1}(ve,S.BAD_DELIMITERS)||-1<ve.indexOf(J)||" "===ve.charAt(0)||" "===ve.charAt(ve.length-1)?U+ve+U:ve}}};if(S.RECORD_SEP=String.fromCharCode(30),S.UNIT_SEP=String.fromCharCode(31),S.BYTE_ORDER_MARK="\ufeff",S.BAD_DELIMITERS=["\r","\n",'"',S.BYTE_ORDER_MARK],S.WORKERS_SUPPORTED=!Je&&!!K.Worker,S.NODE_STREAM_INPUT=1,S.LocalChunkSize=10485760,S.RemoteChunkSize=5242880,S.DefaultDelimiter=",",S.Parser=en,S.ParserHandle=hi,S.NetworkStreamer=Se,S.FileStreamer=Ot,S.StringStreamer=ye,S.ReadableStreamStreamer=an,K.jQuery){var O=K.jQuery;O.fn.parse=function(_){var w=_.config||{},N=[];return this.each(function(ge){if("INPUT"!==O(this).prop("tagName").toUpperCase()||"file"!==O(this).attr("type").toLowerCase()||!K.FileReader||!this.files||0===this.files.length)return!0;for(var U=0;U<this.files.length;U++)N.push({file:this.files[U],inputElem:this,instanceConfig:O.extend({},w)})}),$(),this;function $(){if(0!==N.length){var U,Dt,Xe,ie=N[0];if(se(_.before)){var _t=_.before(ie.file,ie.inputElem);if("object"==typeof _t){if("abort"===_t.action)return"AbortError",U=ie.file,Dt=ie.inputElem,Xe=_t.reason,void(se(_.error)&&_.error({name:"AbortError"},U,Dt,Xe));if("skip"===_t.action)return void J();"object"==typeof _t.config&&(ie.instanceConfig=O.extend(ie.instanceConfig,_t.config))}else if("skip"===_t)return void J()}var E=ie.instanceConfig.complete;ie.instanceConfig.complete=function(L){se(E)&&E(L,ie.file,ie.inputElem),J()},S.parse(ie.file,ie.instanceConfig)}else se(_.complete)&&_.complete()}function J(){N.splice(0,1),$()}}}function te(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(w){var N=j(w);N.chunkSize=parseInt(N.chunkSize),w.step||w.chunk||(N.chunkSize=null),this._handle=new hi(N),(this._handle.streamer=this)._config=N}.call(this,_),this.parseChunk=function(w,N){if(this.isFirstChunk&&se(this._config.beforeFirstChunk)){var $=this._config.beforeFirstChunk(w);void 0!==$&&(w=$)}this.isFirstChunk=!1,this._halted=!1;var J=this._partialLine+w;this._partialLine="";var ge=this._handle.parse(J,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var U=ge.meta.cursor;this._finished||(this._partialLine=J.substring(U-this._baseIndex),this._baseIndex=U),ge&&ge.data&&(this._rowCount+=ge.data.length);var Dt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Ve)K.postMessage({results:ge,workerId:S.WORKER_ID,finished:Dt});else if(se(this._config.chunk)&&!N){if(this._config.chunk(ge,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);ge=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(ge.data),this._completeResults.errors=this._completeResults.errors.concat(ge.errors),this._completeResults.meta=ge.meta),this._completed||!Dt||!se(this._config.complete)||ge&&ge.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Dt||ge&&ge.meta.paused||this._nextChunk(),ge}this._halted=!0},this._sendError=function(w){se(this._config.error)?this._config.error(w):Ve&&this._config.error&&K.postMessage({workerId:S.WORKER_ID,error:w,finished:!1})}}function Se(_){var w;(_=_||{}).chunkSize||(_.chunkSize=S.RemoteChunkSize),te.call(this,_),this._nextChunk=Je?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(N){this._input=N,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(w=new XMLHttpRequest,this._config.withCredentials&&(w.withCredentials=this._config.withCredentials),Je||(w.onload=ne(this._chunkLoaded,this),w.onerror=ne(this._chunkError,this)),w.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Je),this._config.downloadRequestHeaders){var N=this._config.downloadRequestHeaders;for(var $ in N)w.setRequestHeader($,N[$])}this._config.chunkSize&&w.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{w.send(this._config.downloadRequestBody)}catch(ge){this._chunkError(ge.message)}Je&&0===w.status&&this._chunkError()}},this._chunkLoaded=function(){var $;4===w.readyState&&(w.status<200||400<=w.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:w.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===($=w.getResponseHeader("Content-Range"))?-1:parseInt($.substring($.lastIndexOf("/")+1))),this.parseChunk(w.responseText)))},this._chunkError=function(N){this._sendError(new Error(w.statusText||N))}}function Ot(_){var w,N;(_=_||{}).chunkSize||(_.chunkSize=S.LocalChunkSize),te.call(this,_);var $=typeof FileReader<"u";this.stream=function(J){this._input=J,N=J.slice||J.webkitSlice||J.mozSlice,$?((w=new FileReader).onload=ne(this._chunkLoaded,this),w.onerror=ne(this._chunkError,this)):w=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var J=this._input;if(this._config.chunkSize){var ge=Math.min(this._start+this._config.chunkSize,this._input.size);J=N.call(J,this._start,ge)}var U=w.readAsText(J,this._config.encoding);$||this._chunkLoaded({target:{result:U}})},this._chunkLoaded=function(J){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(J.target.result)},this._chunkError=function(){this._sendError(w.error)}}function ye(_){var w;te.call(this,_=_||{}),this.stream=function(N){return w=N,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var N,$=this._config.chunkSize;return $?(N=w.substring(0,$),w=w.substring($)):(N=w,w=""),this._finished=!w,this.parseChunk(N)}}}function an(_){te.call(this,_=_||{});var w=[],N=!0,$=!1;this.pause=function(){te.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){te.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(J){this._input=J,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){$&&1===w.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),w.length?this.parseChunk(w.shift()):N=!0},this._streamData=ne(function(J){try{w.push("string"==typeof J?J:J.toString(this._config.encoding)),N&&(N=!1,this._checkIsFinished(),this.parseChunk(w.shift()))}catch(ge){this._streamError(ge)}},this),this._streamError=ne(function(J){this._streamCleanUp(),this._sendError(J)},this),this._streamEnd=ne(function(){this._streamCleanUp(),$=!0,this._streamData("")},this),this._streamCleanUp=ne(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function hi(_){var w,N,$,J=Math.pow(2,53),ge=-J,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Dt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,Xe=this,ie=0,_t=0,E=!1,L=!1,z=[],I={data:[],errors:[],meta:{}};if(se(_.step)){var oe=_.step;_.step=function(de){if(I=de,at())gt();else{if(gt(),0===I.data.length)return;ie+=de.data.length,_.preview&&ie>_.preview?N.abort():(I.data=I.data[0],oe(I,Xe))}}}function ve(de){return"greedy"===_.skipEmptyLines?""===de.join("").trim():1===de.length&&0===de[0].length}function gt(){if(I&&$&&(Ut("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+S.DefaultDelimiter+"'"),$=!1),_.skipEmptyLines)for(var de=0;de<I.data.length;de++)ve(I.data[de])&&I.data.splice(de--,1);return at()&&function(){if(I)if(Array.isArray(I.data[0])){for(var lt=0;at()&&lt<I.data.length;lt++)I.data[lt].forEach(We);I.data.splice(0,1)}else I.data.forEach(We);function We(mt,je){se(_.transformHeader)&&(mt=_.transformHeader(mt,je)),z.push(mt)}}(),function(){if(!I||!_.header&&!_.dynamicTyping&&!_.transform)return I;function We(mt,je){var re,yt=_.header?{}:[];for(re=0;re<mt.length;re++){var be=re,Rt=mt[re];_.header&&(be=re>=z.length?"__parsed_extra":z[re]),_.transform&&(Rt=_.transform(Rt,be)),Rt=Et(be,Rt),"__parsed_extra"===be?(yt[be]=yt[be]||[],yt[be].push(Rt)):yt[be]=Rt}return _.header&&(re>z.length?Ut("FieldMismatch","TooManyFields","Too many fields: expected "+z.length+" fields but parsed "+re,_t+je):re<z.length&&Ut("FieldMismatch","TooFewFields","Too few fields: expected "+z.length+" fields but parsed "+re,_t+je)),yt}var lt=1;return!I.data.length||Array.isArray(I.data[0])?(I.data=I.data.map(We),lt=I.data.length):I.data=We(I.data,0),_.header&&I.meta&&(I.meta.fields=z),_t+=lt,I}()}function at(){return _.header&&0===z.length}function Et(de,We){return lt=de,_.dynamicTypingFunction&&void 0===_.dynamicTyping[lt]&&(_.dynamicTyping[lt]=_.dynamicTypingFunction(lt)),!0===(_.dynamicTyping[lt]||_.dynamicTyping)?"true"===We||"TRUE"===We||"false"!==We&&"FALSE"!==We&&(function(mt){if(U.test(mt)){var je=parseFloat(mt);if(ge<je&&je<J)return!0}return!1}(We)?parseFloat(We):Dt.test(We)?new Date(We):""===We?null:We):We;var lt}function Ut(de,We,lt,mt){var je={type:de,code:We,message:lt};void 0!==mt&&(je.row=mt),I.errors.push(je)}this.parse=function(de,We,lt){if(_.newline||(_.newline=function(yt,be){yt=yt.substring(0,1048576);var Rt=new RegExp(Wt(be)+"([^]*?)"+Wt(be),"gm"),Jn=(yt=yt.replace(Rt,"")).split("\r"),tn=yt.split("\n");if(1===Jn.length||1<tn.length&&tn[0].length<Jn[0].length)return"\n";for(var Xn=0,xn=0;xn<Jn.length;xn++)"\n"===Jn[xn][0]&&Xn++;return Xn>=Jn.length/2?"\r\n":"\r"}(de,_.quoteChar||'"')),$=!1,_.delimiter)se(_.delimiter)&&(_.delimiter=_.delimiter(de),I.meta.delimiter=_.delimiter);else{var je=function(yt,be,Rt,Jn,tn){var vt,Xn,xn,ln;tn=tn||[",","\t","|",";",S.RECORD_SEP,S.UNIT_SEP];for(var _n=0;_n<tn.length;_n++){var Ht=tn[_n],or=0,Pn=0,ml=0;xn=void 0;for(var Lr=new en({comments:Jn,delimiter:Ht,newline:be,preview:10}).parse(yt),ar=0;ar<Lr.data.length;ar++)if(Rt&&ve(Lr.data[ar]))ml++;else{var Nr=Lr.data[ar].length;Pn+=Nr,void 0!==xn?0<Nr&&(or+=Math.abs(Nr-xn),xn=Nr):xn=Nr}0<Lr.data.length&&(Pn/=Lr.data.length-ml),(void 0===Xn||or<=Xn)&&(void 0===ln||ln<Pn)&&1.99<Pn&&(Xn=or,vt=Ht,ln=Pn)}return{successful:!!(_.delimiter=vt),bestDelimiter:vt}}(de,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);je.successful?_.delimiter=je.bestDelimiter:($=!0,_.delimiter=S.DefaultDelimiter),I.meta.delimiter=_.delimiter}var re=j(_);return _.preview&&_.header&&re.preview++,w=de,N=new en(re),I=N.parse(w,We,lt),gt(),E?{meta:{paused:!0}}:I||{meta:{paused:!1}}},this.paused=function(){return E},this.pause=function(){E=!0,N.abort(),w=se(_.chunk)?"":w.substring(N.getCharIndex())},this.resume=function(){Xe.streamer._halted?(E=!1,Xe.streamer.parseChunk(w,!0)):setTimeout(Xe.resume,3)},this.aborted=function(){return L},this.abort=function(){L=!0,N.abort(),I.meta.aborted=!0,se(_.complete)&&_.complete(I),w=""}}function Wt(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function en(_){var w,N=(_=_||{}).delimiter,$=_.newline,J=_.comments,ge=_.step,U=_.preview,Dt=_.fastMode,Xe=w=void 0===_.quoteChar?'"':_.quoteChar;if(void 0!==_.escapeChar&&(Xe=_.escapeChar),("string"!=typeof N||-1<S.BAD_DELIMITERS.indexOf(N))&&(N=","),J===N)throw new Error("Comment character same as delimiter");!0===J?J="#":("string"!=typeof J||-1<S.BAD_DELIMITERS.indexOf(J))&&(J=!1),"\n"!==$&&"\r"!==$&&"\r\n"!==$&&($="\n");var ie=0,_t=!1;this.parse=function(E,L,z){if("string"!=typeof E)throw new Error("Input must be a string");var I=E.length,oe=N.length,ve=$.length,gt=J.length,at=se(ge),Et=[],Ut=[],de=[],We=ie=0;if(!E)return ln();if(Dt||!1!==Dt&&-1===E.indexOf(w)){for(var lt=E.split($),mt=0;mt<lt.length;mt++){if(ie+=(de=lt[mt]).length,mt!==lt.length-1)ie+=$.length;else if(z)return ln();if(!J||de.substring(0,gt)!==J){if(at){if(Et=[],tn(de.split(N)),_n(),_t)return ln()}else tn(de.split(N));if(U&&U<=mt)return Et=Et.slice(0,U),ln(!0)}}return ln()}for(var je=E.indexOf(N,ie),re=E.indexOf($,ie),yt=new RegExp(Wt(Xe)+Wt(w),"g"),be=E.indexOf(w,ie);;)if(E[ie]!==w)if(J&&0===de.length&&E.substring(ie,ie+gt)===J){if(-1===re)return ln();re=E.indexOf($,ie=re+ve),je=E.indexOf(N,ie)}else if(-1!==je&&(je<re||-1===re))de.push(E.substring(ie,je)),je=E.indexOf(N,ie=je+oe);else{if(-1===re)break;if(de.push(E.substring(ie,re)),xn(re+ve),at&&(_n(),_t))return ln();if(U&&Et.length>=U)return ln(!0)}else for(be=ie,ie++;;){if(-1===(be=E.indexOf(w,be+1)))return z||Ut.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Et.length,index:ie}),Xn();if(be===I-1)return Xn(E.substring(ie,be).replace(yt,w));if(w!==Xe||E[be+1]!==Xe){if(w===Xe||0===be||E[be-1]!==Xe){-1!==je&&je<be+1&&(je=E.indexOf(N,be+1)),-1!==re&&re<be+1&&(re=E.indexOf($,be+1));var Rt=vt(-1===re?je:Math.min(je,re));if(E[be+1+Rt]===N){de.push(E.substring(ie,be).replace(yt,w)),E[ie=be+1+Rt+oe]!==w&&(be=E.indexOf(w,ie)),je=E.indexOf(N,ie),re=E.indexOf($,ie);break}var Jn=vt(re);if(E.substring(be+1+Jn,be+1+Jn+ve)===$){if(de.push(E.substring(ie,be).replace(yt,w)),xn(be+1+Jn+ve),je=E.indexOf(N,ie),be=E.indexOf(w,ie),at&&(_n(),_t))return ln();if(U&&Et.length>=U)return ln(!0);break}Ut.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Et.length,index:ie}),be++}}else be++}return Xn();function tn(Ht){Et.push(Ht),We=ie}function vt(Ht){var or=0;if(-1!==Ht){var Pn=E.substring(be+1,Ht);Pn&&""===Pn.trim()&&(or=Pn.length)}return or}function Xn(Ht){return z||(void 0===Ht&&(Ht=E.substring(ie)),de.push(Ht),ie=I,tn(de),at&&_n()),ln()}function xn(Ht){ie=Ht,tn(de),de=[],re=E.indexOf($,ie)}function ln(Ht){return{data:Et,errors:Ut,meta:{delimiter:N,linebreak:$,aborted:_t,truncated:!!Ht,cursor:We+(L||0)}}}function _n(){ge(ln()),Et=[],Ut=[]}},this.abort=function(){_t=!0},this.getCharIndex=function(){return ie}}function B(_){var w=_.data,N=Pt[w.workerId],$=!1;if(w.error)N.userError(w.error,w.file);else if(w.results&&w.results.data){var J={abort:function(){$=!0,V(w.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:G,resume:G};if(se(N.userStep)){for(var ge=0;ge<w.results.data.length&&(N.userStep({data:w.results.data[ge],errors:w.results.errors,meta:w.results.meta},J),!$);ge++);delete w.results}else se(N.userChunk)&&(N.userChunk(w.results,J,w.file),delete w.results)}w.finished&&!$&&V(w.workerId,w.results)}function V(_,w){var N=Pt[_];se(N.userComplete)&&N.userComplete(w),N.terminate(),delete Pt[_]}function G(){throw new Error("Not implemented.")}function j(_){if("object"!=typeof _||null===_)return _;var w=Array.isArray(_)?[]:{};for(var N in _)w[N]=j(_[N]);return w}function ne(_,w){return function(){_.apply(w,arguments)}}function se(_){return"function"==typeof _}return Ve&&(K.onmessage=function(_){var w=_.data;if(void 0===S.WORKER_ID&&w&&(S.WORKER_ID=w.workerId),"string"==typeof w.input)K.postMessage({workerId:S.WORKER_ID,results:S.parse(w.input,w.config),finished:!0});else if(K.File&&w.input instanceof File||w.input instanceof Object){var N=S.parse(w.input,w.config);N&&K.postMessage({workerId:S.WORKER_ID,results:N,finished:!0})}}),(Se.prototype=Object.create(te.prototype)).constructor=Se,(Ot.prototype=Object.create(te.prototype)).constructor=Ot,(ye.prototype=Object.create(ye.prototype)).constructor=ye,(an.prototype=Object.create(te.prototype)).constructor=an,S},void 0!==(De=Re.apply(Vt,[]))&&(on.exports=De)},2381:on=>{"use strict";var Vt=setTimeout;function Re(){}function De(S){if(!(this instanceof De))throw new TypeError("Promises must be constructed via new");if("function"!=typeof S)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Qn(S,this)}function He(S,O){for(;3===S._state;)S=S._value;0!==S._state?(S._handled=!0,De._immediateFn(function(){var te=1===S._state?O.onFulfilled:O.onRejected;if(null!==te){var Se;try{Se=te(S._value)}catch(Ot){return void Je(O.promise,Ot)}K(O.promise,Se)}else(1===S._state?K:Je)(O.promise,S._value)})):S._deferreds.push(O)}function K(S,O){try{if(O===S)throw new TypeError("A promise cannot be resolved with itself.");if(O&&("object"==typeof O||"function"==typeof O)){var te=O.then;if(O instanceof De)return S._state=3,S._value=O,void Ve(S);if("function"==typeof te)return void Qn(function Ne(S,O){return function(){S.apply(O,arguments)}}(te,O),S)}S._state=1,S._value=O,Ve(S)}catch(Se){Je(S,Se)}}function Je(S,O){S._state=2,S._value=O,Ve(S)}function Ve(S){2===S._state&&0===S._deferreds.length&&De._immediateFn(function(){S._handled||De._unhandledRejectionFn(S._value)});for(var O=0,te=S._deferreds.length;O<te;O++)He(S,S._deferreds[O]);S._deferreds=null}function Pt(S,O,te){this.onFulfilled="function"==typeof S?S:null,this.onRejected="function"==typeof O?O:null,this.promise=te}function Qn(S,O){var te=!1;try{S(function(Se){te||(te=!0,K(O,Se))},function(Se){te||(te=!0,Je(O,Se))})}catch(Se){if(te)return;te=!0,Je(O,Se)}}De.prototype.catch=function(S){return this.then(null,S)},De.prototype.then=function(S,O){var te=new this.constructor(Re);return He(this,new Pt(S,O,te)),te},De.prototype.finally=function(S){var O=this.constructor;return this.then(function(te){return O.resolve(S()).then(function(){return te})},function(te){return O.resolve(S()).then(function(){return O.reject(te)})})},De.all=function(S){return new De(function(O,te){if(!S||typeof S.length>"u")throw new TypeError("Promise.all accepts an array");var Se=Array.prototype.slice.call(S);if(0===Se.length)return O([]);var Ot=Se.length;function ye(hi,Wt){try{if(Wt&&("object"==typeof Wt||"function"==typeof Wt)){var en=Wt.then;if("function"==typeof en)return void en.call(Wt,function(B){ye(hi,B)},te)}Se[hi]=Wt,0==--Ot&&O(Se)}catch(B){te(B)}}for(var an=0;an<Se.length;an++)ye(an,Se[an])})},De.resolve=function(S){return S&&"object"==typeof S&&S.constructor===De?S:new De(function(O){O(S)})},De.reject=function(S){return new De(function(O,te){te(S)})},De.race=function(S){return new De(function(O,te){for(var Se=0,Ot=S.length;Se<Ot;Se++)S[Se].then(O,te)})},De._immediateFn="function"==typeof setImmediate&&function(S){setImmediate(S)}||function(S){Vt(S,0)},De._unhandledRejectionFn=function(O){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",O)},on.exports=De},1133:(on,Vt,Re)=>{"use strict";var Ne=global.Promise||Re(2381),De=Re(603),He=Object.freeze(["play","pause","toggle","seekTo","setVolume","next","prev","skip"]),K=Object.freeze(["getVolume","getDuration","getPosition","getSounds","getCurrentSound","getCurrentSoundIndex","isPaused"]),Je=Object.freeze({autoPlay:"auto_play",showArtwork:"show_artwork",showComments:"show_comments",showPlaycount:"show_playcount",showUser:"show_user",startTrack:"start_track"});function Ve(O){this._widget=De(O)}function Pt(O){return function(){this._widget[O].apply(this._widget,arguments)}}Ve.events=De.Events,Ve.prototype.load=function(O,te){return new Ne(function(Se){(te=te||{}).callback=Se,function S(O){for(var te in Je)Je.hasOwnProperty(te)&&null!=O[te]&&(O[Je[te]]=O[te])}(te),this._widget.load(O,te)}.bind(this))},Ve.prototype.on=Pt("bind"),Ve.prototype.bind=Ve.prototype.on,Ve.prototype.removeListener=Pt("unbind"),Ve.prototype.unbind=Ve.prototype.removeListener,He.forEach(function(O){Ve.prototype[O]=Pt(O)}),K.forEach(function(O){Ve.prototype[O]=function Qn(O){return function(){return new Ne(function(te,Se){this._widget[O](function(Ot){te(Ot)})}.bind(this))}}(O)}),on.exports=Ve},603:on=>{var Vt=Vt||{};Vt.Widget=function(Re){function Ne(He){if(De[He])return De[He].exports;var K=De[He]={exports:{},id:He,loaded:!1};return Re[He].call(K.exports,K,K.exports,Ne),K.loaded=!0,K.exports}var De={};return Ne.m=Re,Ne.c=De,Ne.p="",Ne(0)}([function(Re,Ne,De){function Pt(E){var L,z;for(L=0,z=Dt.length;L<z&&!1!==E(Dt[L]);L++);}function S(E){return E.contentWindow?E.contentWindow:E.contentDocument&&"parentWindow"in E.contentDocument?E.contentDocument.parentWindow:null}function O(E){var L,z=[];for(L in E)E.hasOwnProperty(L)&&z.push(E[L]);return z}function te(E,L,z){z.callbacks[E]=z.callbacks[E]||[],z.callbacks[E].push(L)}function Se(E,L){var I=!0;return L.callbacks[E]=[],Pt(function(oe){if((oe.callbacks[E]||[]).length)return I=!1,!1}),I}function Ot(E,L,z){var I,oe,ve=S(z);return!!ve.postMessage&&(I=z.getAttribute("src").split("?")[0],oe=JSON.stringify({method:E,value:L}),"//"===I.substr(0,2)&&(I=window.location.protocol+I),I=I.replace(/http:\/\/(w|wt).soundcloud.com/,"https://$1.soundcloud.com"),void ve.postMessage(oe,I))}function ye(E){var L;return Pt(function(z){if(z.instance===E)return L=z,!1}),L}function an(E){var L;return Pt(function(z){if(S(z.element)===E)return L=z,!1}),L}function hi(E,L){return function(z){var I=function K(E){return!!(E&&E.constructor&&E.call&&E.apply)}(z),oe=ye(this),ve=!I&&L?z:null,gt=I&&!L?z:null;return gt&&te(E,gt,oe),Ot(E,ve,oe.element),this}}function Wt(E,L,z){var I,oe,ve;for(I=0,oe=L.length;I<oe;I++)E[ve=L[I]]=hi(ve,z)}function en(E,L,z){return E+"?url="+L+"&"+function B(E){var L,z,I=[];for(L in E)E.hasOwnProperty(L)&&(z=E[L],I.push(L+"="+("start_track"===L?parseInt(z,10):z?"true":"false")));return I.join("&")}(z)}function V(E,L,z){var I,oe,ve=E.callbacks[L]||[];for(I=0,oe=ve.length;I<oe;I++)ve[I].apply(E.instance,z);(function Ve(E){var L,z=!1;for(L in N)if(N.hasOwnProperty(L)&&N[L]===E){z=!0;break}return z}(L)||L===J.READY)&&(E.callbacks[L]=[])}function G(E){var L,z,I,oe,ve;try{z=JSON.parse(E.data)}catch{return!1}return L=an(E.source),I=z.method,oe=z.value,(!L||j(E.origin)===j(L.domain))&&(L?(I===J.READY&&(L.isReady=!0,V(L,Xe),Se(Xe,L)),I!==J.PLAY||L.playEventFired||(L.playEventFired=!0),I!==J.PLAY_PROGRESS||L.playEventFired||(L.playEventFired=!0,V(L,J.PLAY,[oe])),ve=[],void 0!==oe&&ve.push(oe),void V(L,I,ve)):(I===J.READY&&U.push(E.source),!1))}function j(E){return E.replace(_t,"")}var ne,se,_,w=De(1),N=De(2),$=De(3),J=w.api,ge=w.bridge,U=[],Dt=[],Xe="__LATE_BINDING__",_t=/^http(?:s?)/;window.addEventListener?window.addEventListener("message",G,!1):window.attachEvent("onmessage",G),Re.exports=_=function(E,L,z){if(function He(E){return!!(""===E||E&&E.charCodeAt&&E.substr)}(E)&&(E=document.getElementById(E)),!function Je(E){return!(!E||1!==E.nodeType||"IFRAME"!==E.nodeName.toUpperCase())}(E))throw new Error("SC.Widget function should be given either iframe element or a string specifying id attribute of iframe element.");L&&(E.src=en("http://wt.soundcloud.dev:9200/",L,z=z||{}));var I,oe,ve=an(S(E));return ve&&ve.instance?ve.instance:(I=U.indexOf(S(E))>-1,oe=new ne(E),Dt.push(new se(oe,E,I)),oe)},_.Events=J,window.SC=window.SC||{},window.SC.Widget=_,se=function(E,L,z){this.instance=E,this.element=L,this.domain=function Qn(E){var L,z,I,oe="";for("//"===E.substr(0,2)&&(E=window.location.protocol+E),L=0,z=(I=E.split("/")).length;L<z&&L<3;L++)oe+=I[L],L<2&&(oe+="/");return oe}(L.getAttribute("src")),this.isReady=!!z,this.callbacks={}},(ne=function(){}).prototype={constructor:ne,load:function(E,L){if(E){L=L||{};var z=this,I=ye(this),oe=I.element,ve=oe.src,gt=ve.substr(0,ve.indexOf("?"));I.isReady=!1,I.playEventFired=!1,oe.onload=function(){z.bind(J.READY,function(){var at,Et=I.callbacks;for(at in Et)Et.hasOwnProperty(at)&&at!==J.READY&&Ot(ge.ADD_LISTENER,at,I.element);L.callback&&L.callback()})},oe.src=en(gt,E,L)}},bind:function(E,L){var z=this,I=ye(this);return I&&I.element&&(E===J.READY&&I.isReady?setTimeout(L,1):I.isReady?(te(E,L,I),Ot(ge.ADD_LISTENER,E,I.element)):te(Xe,function(){z.bind(E,L)},I)),this},unbind:function(E){var L,z=ye(this);z&&z.element&&(L=Se(E,z),E!==J.READY&&L&&Ot(ge.REMOVE_LISTENER,E,z.element))}},Wt(ne.prototype,O(N)),Wt(ne.prototype,O($),!0)},function(Re,Ne){Ne.api={LOAD_PROGRESS:"loadProgress",PLAY_PROGRESS:"playProgress",PLAY:"play",PAUSE:"pause",FINISH:"finish",SEEK:"seek",READY:"ready",OPEN_SHARE_PANEL:"sharePanelOpened",CLICK_DOWNLOAD:"downloadClicked",CLICK_BUY:"buyClicked",ERROR:"error"},Ne.bridge={REMOVE_LISTENER:"removeEventListener",ADD_LISTENER:"addEventListener"}},function(Re,Ne){Re.exports={GET_VOLUME:"getVolume",GET_DURATION:"getDuration",GET_POSITION:"getPosition",GET_SOUNDS:"getSounds",GET_CURRENT_SOUND:"getCurrentSound",GET_CURRENT_SOUND_INDEX:"getCurrentSoundIndex",IS_PAUSED:"isPaused"}},function(Re,Ne){Re.exports={PLAY:"play",PAUSE:"pause",TOGGLE:"toggle",SEEK_TO:"seekTo",SET_VOLUME:"setVolume",NEXT:"next",PREV:"prev",SKIP:"skip"}}]),on.exports=Vt.Widget},305:on=>{"use strict";on.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis (dinosaur)"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus (dinosaur)"},{"kg":75900,"name":"Notocolossus gonzalezparejasi (dinosaur)"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum (dinosaur)"},{"kg":72600,"name":"Apatosaurus ajax (dinosaur)"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum (dinosaur)"},{"kg":60000,"name":"Sauroposeidon proteles (dinosaur)"},{"kg":59300,"name":"Dreadnoughtus schrani (dinosaur)"},{"kg":59000,"name":"Paralititan stromeri (dinosaur)"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus (dinosaur)"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex (dinosaur)"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus (dinosaur)"},{"kg":13800,"name":"Giganotosaurus carolinii (dinosaur)"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis (dinosaur)"},{"kg":7000,"name":"Oxalaia quilombensis (dinosaur)"},{"kg":6999,"name":"Tyrannotitan chubutensis (dinosaur)"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus (dinosaur)"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis (dinosaur)"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis (dinosaur)"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"African hedgehog"}]')}},on=>{on(on.s=327)}]);