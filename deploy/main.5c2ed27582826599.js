(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{9306:(Jn,En,mt)=>{"use strict";function Ut(n){return"function"==typeof n}let pi=!1;const Ct={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else pi&&console.log("RxJS: Back to a better error behavior. Thank you. <3");pi=n},get useDeprecatedSynchronousErrorHandling(){return pi}};function Y(n){setTimeout(()=>{throw n},0)}const qt={closed:!0,next(n){},error(n){if(Ct.useDeprecatedSynchronousErrorHandling)throw n;Y(n)},complete(){}},Zt=Array.isArray||(n=>n&&"number"==typeof n.length);function Xn(n){return null!==n&&"object"==typeof n}const le=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class ke{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof ke)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(Ut(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){t=o instanceof le?rn(o.errors):[o]}}if(Zt(s)){let o=-1,a=s.length;for(;++o<a;){const u=s[o];if(Xn(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof le?t=t.concat(rn(h.errors)):t.push(h)}}}if(t)throw new le(t)}add(t){let e=t;if(!t)return ke.EMPTY;switch(typeof t){case"function":e=new ke(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof ke)){const s=e;e=new ke,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof ke){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function rn(n){return n.reduce((t,e)=>t.concat(e instanceof le?e.errors:e),[])}ke.EMPTY=((n=new ke).closed=!0,n);const Vn="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Te extends ke{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=qt;break;case 1:if(!t){this.destination=qt;break}if("object"==typeof t){t instanceof Te?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new Si(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new Si(this,t,e,i)}}[Vn](){return this}static create(t,e,i){const r=new Te(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class Si extends Te{constructor(t,e,i,r){super(),this._parentSubscriber=t;let s,o=this;Ut(e)?s=e:e&&(s=e.next,i=e.error,r=e.complete,e!==qt&&(o=Object.create(e),Ut(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Ct.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=Ct;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):Y(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;Y(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Ct.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),Ct.useDeprecatedSynchronousErrorHandling)throw i;Y(i)}}__tryOrSetError(t,e,i){if(!Ct.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return Ct.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Y(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Bn="function"==typeof Symbol&&Symbol.observable||"@@observable";function L(n){return n}function B(n){return 0===n.length?L:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let F=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:s}=this,o=function Ai(n,t,e){if(n){if(n instanceof Te)return n;if(n[Vn])return n[Vn]()}return n||t||e?new Te(n,t,e):new Te(qt)}(e,i,r);if(o.add(s?s.call(o,this.source):this.source||Ct.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Ct.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){Ct.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function es(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Te?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=ee(i))((r,s)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(u){s(u),o&&o.unsubscribe()}},s,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[Bn](){return this}pipe(...e){return 0===e.length?this:B(e)(this)}toPromise(e){return new(e=ee(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function ee(n){if(n||(n=Ct.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const _=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class w extends ke{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class x extends Te{constructor(t){super(t),this.destination=t}}let N=(()=>{class n extends F{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Vn](){return new x(this)}lift(e){const i=new Q(this,this);return i.operator=e,i}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),ke.EMPTY):this.isStopped?(e.complete(),ke.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new F;return e.source=this,e}}return n.create=(t,e)=>new Q(t,e),n})();class Q extends N{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):ke.EMPTY}}function he(n){return n&&"function"==typeof n.schedule}function R(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new kt(n,t))}}class kt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new rt(t,this.project,this.thisArg))}}class rt extends Te{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const J=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},xt=function ce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),ot=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Pt(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const yt=n=>{if(n&&"function"==typeof n[Bn])return(n=>t=>{const e=n[Bn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(ot(n))return J(n);if(Pt(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,Y),t))(n);if(n&&"function"==typeof n[xt])return(n=>t=>{const e=n[xt]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${Xn(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function re(n,t){return new F(e=>{const i=new ke;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function X(n,t){return t?function xe(n,t){if(null!=n){if(function ze(n){return n&&"function"==typeof n[Bn]}(n))return function Dt(n,t){return new F(e=>{const i=new ke;return i.add(t.schedule(()=>{const r=n[Bn]();i.add(r.subscribe({next(s){i.add(t.schedule(()=>e.next(s)))},error(s){i.add(t.schedule(()=>e.error(s)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Pt(n))return function Et(n,t){return new F(e=>{const i=new ke;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(ot(n))return re(n,t);if(function Je(n){return n&&"function"==typeof n[xt]}(n)||"string"==typeof n)return function Ne(n,t){if(!n)throw new Error("Iterable cannot be null");return new F(e=>{const i=new ke;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[xt](),i.add(t.schedule(function(){if(e.closed)return;let s,o;try{const a=r.next();s=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(s),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof F?n:new F(yt(n))}class Xe extends Te{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class vt extends Te{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function jt(n,t){if(t.closed)return;if(n instanceof F)return n.subscribe(t);let e;try{e=yt(n)(t)}catch(i){t.error(i)}return e}function et(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(et((r,s)=>X(n(r,s)).pipe(R((o,a)=>t(r,o,s,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new Un(n,e)))}class Un{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new yn(t,this.project,this.concurrent))}}class yn extends vt{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new Xe(this),i=this.destination;i.add(e);const r=jt(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function sn(n=Number.POSITIVE_INFINITY){return et(L,n)}function Mt(n,t){return t?re(n,t):new F(J(n))}function vn(){return function(t){return t.lift(new Na(t))}}class Na{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new Ar(t,i),s=e.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class Ar extends Te{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class tr extends F{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new ke,t.add(this.source.subscribe(new O1(this.getSubject(),this))),t.closed&&(this._connection=null,t=ke.EMPTY)),t}refCount(){return vn()(this)}}const kr=(()=>{const n=tr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class O1 extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class N1{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(t);return s.add(e.subscribe(r)),s}}function F1(){return new N}function $e(n){for(let t in n)if(n[t]===$e)return t;throw Error("Could not find renamed property on target object.")}function Xu(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function ec(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const B1=$e({__forward_ref__:$e});function He(n){return n.__forward_ref__=He,n.toString=function(){return Ge(this())},n}function ue(n){return tc(n)?n():n}function tc(n){return"function"==typeof n&&n.hasOwnProperty(B1)&&n.__forward_ref__===He}class V extends Error{constructor(t,e){super(function Fa(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function Va(n,t){throw new V(-201,!1)}function Tn(n,t){null==n&&function Fe(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function q(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ot(n){return{providers:n.providers||[],imports:n.imports||[]}}function nc(n){return Ap(n,Ba)||Ap(n,xp)}function Ap(n,t){return n.hasOwnProperty(t)?n[t]:null}function kp(n){return n&&(n.hasOwnProperty(ic)||n.hasOwnProperty(z1))?n[ic]:null}const Ba=$e({\u0275prov:$e}),ic=$e({\u0275inj:$e}),xp=$e({ngInjectableDef:$e}),z1=$e({ngInjectorDef:$e});var se=(()=>((se=se||{})[se.Default=0]="Default",se[se.Host=1]="Host",se[se.Self=2]="Self",se[se.SkipSelf=4]="SkipSelf",se[se.Optional=8]="Optional",se))();let rc;function jn(n){const t=rc;return rc=n,t}function Pp(n,t,e){const i=nc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&se.Optional?null:void 0!==t?t:void Va(Ge(n))}function nr(n){return{toString:n}.toString()}var ei=(()=>((ei=ei||{})[ei.OnPush=0]="OnPush",ei[ei.Default=1]="Default",ei))(),gi=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(gi||(gi={})),gi))();const Ue=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ts={},Oe=[],Ha=$e({\u0275cmp:$e}),sc=$e({\u0275dir:$e}),oc=$e({\u0275pipe:$e}),Op=$e({\u0275mod:$e}),xi=$e({\u0275fac:$e}),ao=$e({__NG_ELEMENT_ID__:$e});let Y1=0;function ht(n){return nr(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ei.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Oe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||gi.Emulated,id:"c"+Y1++,styles:n.styles||Oe,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.dependencies,o=n.features;return r.inputs=Np(n.inputs,i),r.outputs=Np(n.outputs),o&&o.forEach(a=>a(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Rp).filter(Lp):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(ln).filter(Lp):null,r})}function Rp(n){return Ve(n)||an(n)}function Lp(n){return null!==n}const Q1={};function $t(n){return nr(()=>{const t={type:n.type,bootstrap:n.bootstrap||Oe,declarations:n.declarations||Oe,imports:n.imports||Oe,exports:n.exports||Oe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Q1[n.id]=n.type),t})}function Np(n,t){if(null==n)return ts;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const te=ht;function on(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ve(n){return n[Ha]||null}function an(n){return n[sc]||null}function ln(n){return n[oc]||null}function In(n,t){const e=n[Op]||null;if(!e&&!0===t)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return e}function bn(n){return Array.isArray(n)&&"object"==typeof n[1]}function ni(n){return Array.isArray(n)&&!0===n[1]}function uc(n){return 0!=(8&n.flags)}function Ga(n){return 2==(2&n.flags)}function Wa(n){return 1==(1&n.flags)}function ii(n){return null!==n.template}function n0(n){return 0!=(256&n[2])}function Lr(n,t){return n.hasOwnProperty(xi)?n[xi]:null}class o0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function _n(){return Bp}function Bp(n){return n.type.prototype.ngOnChanges&&(n.setInput=l0),a0}function a0(){const n=Up(this),t=n?.current;if(t){const e=n.previous;if(e===ts)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function l0(n,t,e,i){const r=Up(n)||function u0(n,t){return n[Hp]=t}(n,{previous:ts,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[e],u=o[a];s[a]=new o0(u&&u.currentValue,t,o===ts),n[i]=t}_n.ngInherit=!0;const Hp="__ngSimpleChanges__";function Up(n){return n[Hp]||null}function Tt(n){for(;Array.isArray(n);)n=n[0];return n}function qa(n,t){return Tt(t[n])}function Wn(n,t){return Tt(t[n.index])}function pc(n,t){return n.data[t]}function os(n,t){return n[t]}function An(n,t){const e=t[n];return bn(e)?e:e[0]}function jp(n){return 4==(4&n[2])}function gc(n){return 64==(64&n[2])}function ir(n,t){return null==t?null:n[t]}function $p(n){n[18]=0}function mc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const fe={lFrame:Jp(null),bindingsEnabled:!0};function Wp(){return fe.bindingsEnabled}function S(){return fe.lFrame.lView}function Ae(){return fe.lFrame.tView}function rr(n){return fe.lFrame.contextLView=n,n[8]}function sr(n){return fe.lFrame.contextLView=null,n}function Rt(){let n=qp();for(;null!==n&&64===n.type;)n=n.parent;return n}function qp(){return fe.lFrame.currentTNode}function mi(n,t){const e=fe.lFrame;e.currentTNode=n,e.isParent=t}function yc(){return fe.lFrame.isParent}function vc(){fe.lFrame.isParent=!1}function un(){const n=fe.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function as(){return fe.lFrame.bindingIndex++}function Oi(n){const t=fe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function D0(n,t){const e=fe.lFrame;e.bindingIndex=e.bindingRootIndex=n,bc(t)}function bc(n){fe.lFrame.currentDirectiveIndex=n}function Yp(){return fe.lFrame.currentQueryIndex}function wc(n){fe.lFrame.currentQueryIndex=n}function M0(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Zp(n,t,e){if(e&se.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&se.Host||(r=M0(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=fe.lFrame=Qp();return i.currentTNode=t,i.lView=n,!0}function Cc(n){const t=Qp(),e=n[1];fe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Qp(){const n=fe.lFrame,t=null===n?null:n.child;return null===t?Jp(n):t}function Jp(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function Xp(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const eg=Xp;function Dc(){const n=Xp();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cn(){return fe.lFrame.selectedIndex}function or(n){fe.lFrame.selectedIndex=n}function pt(){const n=fe.lFrame;return pc(n.tView,n.selectedIndex)}function Ka(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:p}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=p&&(n.destroyHooks||(n.destroyHooks=[])).push(e,p)}}function Ya(n,t,e){tg(n,t,3,e)}function Za(n,t,e,i){(3&n[2])===e&&tg(n,t,e,i)}function Ec(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function tg(n,t,e,i){const s=i??-1,o=t.length-1;let a=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(a=t[u],null!=i&&a>=i)break}else t[u]<0&&(n[18]+=65536),(a<s||-1==s)&&(R0(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function R0(n,t,e,i){const r=e[i]<0,s=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class fo{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Qa(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],a=e[i++];n.setAttribute(t,o,a,s)}else{const s=r,o=e[++i];ig(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function ng(n){return 3===n||4===n||6===n}function ig(n){return 64===n.charCodeAt(0)}function Ja(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||rg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function rg(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function sg(n){return-1!==n}function ls(n){return 32767&n}function us(n,t){let e=function B0(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let Tc=!0;function Xa(n){const t=Tc;return Tc=n,t}let H0=0;const yi={};function go(n,t){const e=Sc(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Ic(i.data,n),Ic(t,null),Ic(i.blueprint,null));const r=el(n,t),s=n.injectorIndex;if(sg(r)){const o=ls(r),a=us(r,t),u=a[1].data;for(let h=0;h<8;h++)t[s+h]=a[o+h]|u[o+h]}return t[s+8]=r,s}function Ic(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Sc(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function el(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=pg(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function tl(n,t,e){!function U0(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(ao)&&(i=e[ao]),null==i&&(i=e[ao]=H0++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function lg(n,t,e){if(e&se.Optional)return n;Va()}function ug(n,t,e,i){if(e&se.Optional&&void 0===i&&(i=null),0==(e&(se.Self|se.Host))){const r=n[9],s=jn(void 0);try{return r?r.get(t,i,e&se.Optional):Pp(t,i,e&se.Optional)}finally{jn(s)}}return lg(i,0,e)}function cg(n,t,e,i=se.Default,r){if(null!==n){if(1024&t[2]){const o=function q0(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=dg(s,o,e,i|se.Self,yi);if(a!==yi)return a;let u=s.parent;if(!u){const h=o[21];if(h){const p=h.get(e,yi,i);if(p!==yi)return p}u=pg(o),o=o[15]}s=u}return r}(n,t,e,i,yi);if(o!==yi)return o}const s=dg(n,t,e,i,yi);if(s!==yi)return s}return ug(t,e,i,r)}function dg(n,t,e,i,r){const s=function G0(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(ao)?n[ao]:void 0;return"number"==typeof t?t>=0?255&t:W0:t}(e);if("function"==typeof s){if(!Zp(t,n,i))return i&se.Host?lg(r,0,i):ug(t,e,i,r);try{const o=s(i);if(null!=o||i&se.Optional)return o;Va()}finally{eg()}}else if("number"==typeof s){let o=null,a=Sc(n,t),u=-1,h=i&se.Host?t[16][6]:null;for((-1===a||i&se.SkipSelf)&&(u=-1===a?el(n,t):t[a+8],-1!==u&&fg(i,!1)?(o=t[1],a=ls(u),t=us(u,t)):a=-1);-1!==a;){const p=t[1];if(hg(s,a,p.data)){const g=$0(a,t,e,o,i,h);if(g!==yi)return g}u=t[a+8],-1!==u&&fg(i,t[1].data[a+8]===h)&&hg(s,a,t)?(o=p,a=ls(u),t=us(u,t)):a=-1}}return r}function $0(n,t,e,i,r,s){const o=t[1],a=o.data[n+8],p=nl(a,o,e,null==i?Ga(a)&&Tc:i!=o&&0!=(3&a.type),r&se.Host&&s===a);return null!==p?mo(t,o,p,a):yi}function nl(n,t,e,i,r){const s=n.providerIndexes,o=t.data,a=1048575&s,u=n.directiveStart,p=s>>20,m=r?a+p:n.directiveEnd;for(let y=i?a:a+p;y<m;y++){const v=o[y];if(y<u&&e===v||y>=u&&v.type===e)return y}if(r){const y=o[u];if(y&&ii(y)&&y.type===e)return u}return null}function mo(n,t,e,i){let r=n[e];const s=t.data;if(function L0(n){return n instanceof fo}(r)){const o=r;o.resolving&&function H1(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new V(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Pe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}(s[e]));const a=Xa(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?jn(o.injectImpl):null;Zp(n,i,se.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function O0(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=Bp(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==u&&jn(u),Xa(a),o.resolving=!1,eg()}}return r}function hg(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function fg(n,t){return!(n&se.Self||n&se.Host&&t)}class cs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return cg(this._tNode,this._lView,t,i,e)}}function W0(){return new cs(Rt(),S())}function tt(n){return nr(()=>{const t=n.prototype.constructor,e=t[xi]||Ac(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[xi]||Ac(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Ac(n){return tc(n)?()=>{const t=Ac(ue(n));return t&&t()}:Lr(n)}function pg(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}function ds(n){return function j0(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(ng(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Rt(),n)}const fs="__parameters__";function gs(n,t,e){return nr(()=>{const i=function kc(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(u,h,p){const g=u.hasOwnProperty(fs)?u[fs]:Object.defineProperty(u,fs,{value:[]})[fs];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class W{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=q({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const K0=new W("AnalyzeForEntryComponents");function kn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),kn(i,t)):t!==n&&t.push(i)}return t}function Ri(n,t){n.forEach(e=>Array.isArray(e)?Ri(e,t):t(e))}function mg(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function il(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function xn(n,t,e){let i=ms(n,t);return i>=0?n[1|i]=e:(i=~i,function Q0(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Pc(n,t){const e=ms(n,t);if(e>=0)return n[1|e]}function ms(n,t){return function bg(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const _o={},Rc="__NG_DI_FLAG__",sl="ngTempTokenPath",sE=/\n/gm,_g="__source";let wo;function ys(n){const t=wo;return wo=n,t}function aE(n,t=se.Default){if(void 0===wo)throw new V(-203,!1);return null===wo?Pp(n,void 0,t):wo.get(n,t&se.Optional?null:void 0,t)}function k(n,t=se.Default){return(function K1(){return rc}()||aE)(ue(n),t)}function ri(n,t=se.Default){return"number"!=typeof t&&(t=0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)),k(n,t)}function Lc(n){const t=[];for(let e=0;e<n.length;e++){const i=ue(n[e]);if(Array.isArray(i)){if(0===i.length)throw new V(900,!1);let r,s=se.Default;for(let o=0;o<i.length;o++){const a=i[o],u=lE(a);"number"==typeof u?-1===u?r=a.token:s|=u:r=a}t.push(k(r,s))}else t.push(k(i))}return t}function Co(n,t){return n[Rc]=t,n.prototype[Rc]=t,n}function lE(n){return n[Rc]}const Nr=Co(gs("Optional"),8),Do=Co(gs("SkipSelf"),4);let Fc,ll,ul;function bs(n){return function Vc(){if(void 0===ll&&(ll=null,Ue.trustedTypes))try{ll=Ue.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ll}()?.createHTML(n)||n}function kg(n){return function Bc(){if(void 0===ul&&(ul=null,Ue.trustedTypes))try{ul=Ue.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return ul}()?.createHTML(n)||n}class Fr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class DE extends Fr{getTypeName(){return"HTML"}}class EE extends Fr{getTypeName(){return"Style"}}class ME extends Fr{getTypeName(){return"Script"}}class TE extends Fr{getTypeName(){return"URL"}}class IE extends Fr{getTypeName(){return"ResourceURL"}}function Pn(n){return n instanceof Fr?n.changingThisBreaksApplicationSecurity:n}function vi(n,t){const e=function SE(n){return n instanceof Fr&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}class RE{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(bs(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class LE{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=bs(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=bs(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const FE=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,VE=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function To(n){return(n=String(n)).match(FE)||n.match(VE)?n:"unsafe:"+n}function Rg(n){return(n=String(n)).split(",").map(t=>To(t.trim())).join(", ")}function bi(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Io(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Lg=bi("area,br,col,hr,img,wbr"),Ng=bi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fg=bi("rp,rt"),Hc=Io(Lg,Io(Ng,bi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Io(Fg,bi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Io(Fg,Ng)),Uc=bi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jc=bi("srcset"),Vg=Io(Uc,jc,bi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BE=bi("script,style,template");class HE{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Hc.hasOwnProperty(e))return this.sanitizedSomething=!0,!BE.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!Vg.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Uc[a]&&(u=To(u)),jc[a]&&(u=Rg(u)),this.buf.push(" ",o,'="',Bg(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Hc.hasOwnProperty(e)&&!Lg.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Bg(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const UE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jE=/([^\#-~ |!])/g;function Bg(n){return n.replace(/&/g,"&amp;").replace(UE,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(jE,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cl;function Hg(n,t){let e=null;try{cl=cl||function Og(n){const t=new LE(n);return function NE(){try{return!!(new window.DOMParser).parseFromString(bs(""),"text/html")}catch{return!1}}()?new RE(t):t}(n);let i=t?String(t):"";e=cl.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=cl.getInertBodyElement(i)}while(i!==s);return bs((new HE).sanitizeChildren($c(e)||e))}finally{if(e){const i=$c(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function $c(n){return"content"in n&&function $E(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var We=(()=>((We=We||{})[We.NONE=0]="NONE",We[We.HTML=1]="HTML",We[We.STYLE=2]="STYLE",We[We.SCRIPT=3]="SCRIPT",We[We.URL=4]="URL",We[We.RESOURCE_URL=5]="RESOURCE_URL",We))();function qn(n){const t=So();return t?kg(t.sanitize(We.HTML,n)||""):vi(n,"HTML")?kg(Pn(n)):Hg(function Ag(){return void 0!==Fc?Fc:typeof document<"u"?document:void 0}(),pe(n))}function Li(n){const t=So();return t?t.sanitize(We.URL,n)||"":vi(n,"URL")?Pn(n):To(pe(n))}function So(){const n=S();return n&&n[12]}const Gc=new W("ENVIRONMENT_INITIALIZER"),jg=new W("INJECTOR",-1),$g=new W("INJECTOR_DEF_TYPES");class Gg{get(t,e=_o){if(e===_o){const i=new Error(`NullInjectorError: No provider for ${Ge(t)}!`);throw i.name="NullInjectorError",i}return e}}function ZE(...n){return{\u0275providers:Wg(0,n)}}function Wg(n,...t){const e=[],i=new Set;let r;return Ri(t,s=>{const o=s;Wc(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&qg(r,e),e}function qg(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Ri(r,s=>{t.push(s)})}}function Wc(n,t,e,i){if(!(n=ue(n)))return!1;let r=null,s=kp(n);const o=!s&&Ve(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=kp(u),!s)return!1;r=u}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of u)Wc(h,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let h;i.add(r);try{Ri(s.imports,p=>{Wc(p,t,e,i)&&(h||(h=[]),h.push(p))})}finally{}void 0!==h&&qg(h,t)}if(!a){const h=Lr(r)||(()=>new r);t.push({provide:r,useFactory:h,deps:Oe},{provide:$g,useValue:r,multi:!0},{provide:Gc,useValue:()=>k(r),multi:!0})}const u=s.providers;null==u||a||Ri(u,p=>{t.push(p)})}}return r!==n&&void 0!==n.providers}const QE=$e({provide:String,useValue:$e});function qc(n){return null!==n&&"object"==typeof n&&QE in n}function Vr(n){return"function"==typeof n}const zc=new W("Set Injector scope."),dl={},XE={};let Kc;function hl(){return void 0===Kc&&(Kc=new Gg),Kc}class lr{}class Yg extends lr{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Zc(t,o=>this.processProvider(o)),this.records.set(jg,_s(void 0,this)),r.has("environment")&&this.records.set(lr,_s(void 0,this));const s=this.records.get(zc);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($g.multi,Oe,se.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=ys(this),i=jn(void 0);try{return t()}finally{ys(e),jn(i)}}get(t,e=_o,i=se.Default){this.assertNotDestroyed();const r=ys(this),s=jn(void 0);try{if(!(i&se.SkipSelf)){let a=this.records.get(t);if(void 0===a){const u=function rM(n){return"function"==typeof n||"object"==typeof n&&n instanceof W}(t)&&nc(t);a=u&&this.injectableDefInScope(u)?_s(Yc(t),dl):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&se.Self?hl():this.parent).get(t,e=i&se.Optional&&e===_o?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[sl]=o[sl]||[]).unshift(Ge(t)),r)throw o;return function uE(n,t,e,i){const r=n[sl];throw t[_g]&&r.unshift(t[_g]),n.message=function cE(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ge(t);if(Array.isArray(t))r=t.map(Ge).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ge(a)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(sE,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[sl]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{jn(s),ys(r)}}resolveInjectorInitializers(){const t=ys(this),e=jn(void 0);try{const i=this.get(Gc.multi,Oe,se.Self);for(const r of i)r()}finally{ys(t),jn(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Ge(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new V(205,!1)}processProvider(t){let e=Vr(t=ue(t))?t:ue(t&&t.provide);const i=function tM(n){return qc(n)?_s(void 0,n.useValue):_s(Zg(n),dl)}(t);if(Vr(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=_s(void 0,dl,!0),r.factory=()=>Lc(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===dl&&(e.value=XE,e.value=e.factory()),"object"==typeof e.value&&e.value&&function iM(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ue(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function Yc(n){const t=nc(n),e=null!==t?t.factory:Lr(n);if(null!==e)return e;if(n instanceof W)throw new V(204,!1);if(n instanceof Function)return function eM(n){const t=n.length;if(t>0)throw function bo(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new V(204,!1);const e=function W1(n){const t=n&&(n[Ba]||n[xp]);if(t){const e=function q1(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new V(204,!1)}function Zg(n,t,e){let i;if(Vr(n)){const r=ue(n);return Lr(r)||Yc(r)}if(qc(n))i=()=>ue(n.useValue);else if(function Kg(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Lc(n.deps||[]));else if(function zg(n){return!(!n||!n.useExisting)}(n))i=()=>k(ue(n.useExisting));else{const r=ue(n&&(n.useClass||n.provide));if(!function nM(n){return!!n.deps}(n))return Lr(r)||Yc(r);i=()=>new r(...Lc(n.deps))}return i}function _s(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function sM(n){return!!n.\u0275providers}function Zc(n,t){for(const e of n)Array.isArray(e)?Zc(e,t):sM(e)?Zc(e.\u0275providers,t):t(e)}class Qg{}class lM{resolveComponentFactory(t){throw function aM(n){const t=Error(`No component factory found for ${Ge(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Ao=(()=>{class n{}return n.NULL=new lM,n})();function uM(){return ws(Rt(),S())}function ws(n,t){return new bt(Wn(n,t))}let bt=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=uM,n})();function cM(n){return n instanceof bt?n.nativeElement:n}class Xg{}let On=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function dM(){const n=S(),e=An(Rt().index,n);return(bn(e)?e:n)[11]}(),n})(),hM=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>null}),n})();class Br{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const fM=new Br("14.1.0"),Qc={};function nd(n){return n.ngOriginalError}class Cs{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&nd(t);for(;e&&nd(e);)e=nd(e);return e||null}}const id=new Map;let TM=0;const sd="__ngContext__";function Xt(n,t){bn(t)?(n[sd]=t[20],function SM(n){id.set(n[20],n)}(t)):n[sd]=t}function ko(n){const t=n[sd];return"number"==typeof t?function rm(n){return id.get(n)||null}(t):t||null}function od(n){const t=ko(n);return t?bn(t)?t:t.lView:null}const FM=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ue))();function um(n){return n.ownerDocument.defaultView}function Ni(n){return n instanceof Function?n():n}var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();function ld(n,t){return undefined(n,t)}function xo(n){const t=n[3];return ni(t)?t[3]:t}function ud(n){return fm(n[13])}function cd(n){return fm(n[4])}function fm(n){for(;null!==n&&!ni(n);)n=n[4];return n}function Es(n,t,e,i,r){if(null!=i){let s,o=!1;ni(i)?s=i:bn(i)&&(o=!0,i=i[0]);const a=Tt(i);0===n&&null!==e?null==r?bm(t,e,a):Hr(t,e,a,r||null,!0):1===n&&null!==e?Hr(t,e,a,r||null,!0):2===n?function Tm(n,t,e){const i=fl(n,t);i&&function eT(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=s&&function iT(n,t,e,i,r){const s=e[7];s!==Tt(e)&&Es(t,n,i,s,r);for(let a=10;a<e.length;a++){const u=e[a];Po(u[1],u,n,t,i,s)}}(t,n,s,e,r)}}function hd(n,t,e){return n.createElement(t,e)}function gm(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,mc(r,-1)),e.splice(i,1)}function fd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&gm(r,i),t>0&&(n[e-1][4]=i[4]);const s=il(n,10+t);!function qM(n,t){Po(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function mm(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Po(n,t,e,3,null,null),function YM(n){let t=n[13];if(!t)return pd(n[1],n);for(;t;){let e=null;if(bn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)bn(t)&&pd(t[1],t),t=t[3];null===t&&(t=n),bn(t)&&pd(t[1],t),e=t&&t[4]}t=e}}(t)}}function pd(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function XM(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof fo)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function JM(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+1],a="function"==typeof o?o(t):Tt(t[o]),u=i[r=e[s+2]],h=e[s+3];"boolean"==typeof h?a.removeEventListener(e[s],u,h):h>=0?i[r=h]():i[r=-h].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&ni(t[3])){e!==t[3]&&gm(e,t);const i=t[19];null!==i&&i.detachView(n)}!function AM(n){id.delete(n[20])}(t)}}function ym(n,t,e){return function vm(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===gi.None||r===gi.Emulated)return null}return Wn(i,e)}(n,t.parent,e)}function Hr(n,t,e,i,r){n.insertBefore(t,e,i,r)}function bm(n,t,e){n.appendChild(t,e)}function _m(n,t,e,i,r){null!==i?Hr(n,t,e,i,r):bm(n,t,e)}function fl(n,t){return n.parentNode(t)}let Dm=function Cm(n,t,e){return 40&n.type?Wn(n,e):null};function pl(n,t,e,i){const r=ym(n,i,t),s=t[11],a=function wm(n,t,e){return Dm(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)_m(s,r,e[u],a,!1);else _m(s,r,e,a,!1)}function gl(n,t){if(null!==t){const e=t.type;if(3&e)return Wn(t,n);if(4&e)return md(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return gl(n,i);{const r=n[t.index];return ni(r)?md(-1,r):Tt(r)}}if(32&e)return ld(t,n)()||Tt(n[t.index]);{const i=Mm(n,t);return null!==i?Array.isArray(i)?i[0]:gl(xo(n[16]),i):gl(n,t.next)}}return null}function Mm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function md(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return gl(i,r)}return t[7]}function yd(n,t,e,i,r,s,o){for(;null!=e;){const a=i[e.index],u=e.type;if(o&&0===t&&(a&&Xt(Tt(a),i),e.flags|=4),64!=(64&e.flags))if(8&u)yd(n,t,e.child,i,r,s,!1),Es(t,n,r,a,s);else if(32&u){const h=ld(e,i);let p;for(;p=h();)Es(t,n,r,p,s);Es(t,n,r,a,s)}else 16&u?Im(n,t,i,e,r,s):Es(t,n,r,a,s);e=o?e.projectionNext:e.next}}function Po(n,t,e,i,r,s){yd(e,i,n.firstChild,t,r,s,!1)}function Im(n,t,e,i,r,s){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)Es(t,n,r,u[h],s);else yd(n,t,u,o[3],r,s,!0)}function Sm(n,t,e){n.setAttribute(t,"style",e)}function vd(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function Am(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const km="ng-template";function sT(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Am(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function xm(n){return 4===n.type&&n.value!==km}function oT(n,t,e){return t===(4!==n.type||e?n.value:km)}function aT(n,t,e){let i=4;const r=n.attrs||[],s=function cT(n){for(let t=0;t<n.length;t++)if(ng(n[t]))return t;return n.length}(r);let o=!1;for(let a=0;a<t.length;a++){const u=t[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!oT(n,u,e)||""===u&&1===t.length){if(si(i))return!1;o=!0}}else{const h=8&i?u:t[++a];if(8&i&&null!==n.attrs){if(!sT(n.attrs,h,e)){if(si(i))return!1;o=!0}continue}const g=lT(8&i?"class":u,r,xm(n),e);if(-1===g){if(si(i))return!1;o=!0;continue}if(""!==h){let m;m=g>s?"":r[g+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==Am(y,h,0)||2&i&&h!==m){if(si(i))return!1;o=!0}}}}else{if(!o&&!si(i)&&!si(u))return!1;if(o&&si(u))continue;o=!1,i=u|1&i}}return si(i)||o}function si(n){return 0==(1&n)}function lT(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function dT(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Pm(n,t,e=!1){for(let i=0;i<t.length;i++)if(aT(n,t[i],e))return!0;return!1}function Om(n,t){return n?":not("+t.trim()+")":t}function fT(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!si(o)&&(t+=Om(s,r),r=""),i=o,s=s||!si(i);e++}return""!==r&&(t+=Om(s,r)),t}const ge={};function b(n){Rm(Ae(),S(),cn()+n,!1)}function Rm(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Ya(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Za(t,s,0,e)}or(e)}function Vm(n,t=null,e=null,i){const r=Bm(n,t,e,i);return r.resolveInjectorInitializers(),r}function Bm(n,t=null,e=null,i,r=new Set){const s=[e||Oe,ZE(n)];return i=i||("object"==typeof n?void 0:Ge(n)),new Yg(s,t||hl(),i||null,r)}let Cn=(()=>{class n{static create(e,i){if(Array.isArray(e))return Vm({name:""},i,e,"");{const r=e.name??"";return Vm({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=_o,n.NULL=new Gg,n.\u0275prov=q({token:n,providedIn:"any",factory:()=>k(jg)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,t=se.Default){const e=S();return null===e?k(n,t):cg(Rt(),e,ue(n),t)}function Dd(){throw new Error("invalid")}function yl(n,t){return n<<17|t<<2}function oi(n){return n>>17&32767}function Ed(n){return 2|n}function Fi(n){return(131068&n)>>2}function Md(n,t){return-131069&n|t<<2}function Td(n){return 1|n}function ny(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];wc(r),o.contentQueries(2,t[s],s)}}}function _l(n,t,e,i,r,s,o,a,u,h,p){const g=t.blueprint.slice();return g[0]=r,g[2]=76|i,(null!==p||n&&1024&n[2])&&(g[2]|=1024),$p(g),g[3]=g[15]=n,g[8]=e,g[10]=o||n&&n[10],g[11]=a||n&&n[11],g[12]=u||n&&n[12]||null,g[9]=h||n&&n[9]||null,g[6]=s,g[20]=function IM(){return TM++}(),g[21]=p,g[16]=2==t.type?n[16]:g,g}function Ts(n,t,e,i,r){let s=n.data[t];if(null===s)s=function Ld(n,t,e,i,r){const s=qp(),o=yc(),u=n.data[t]=function ZT(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,t,e,i,r),function C0(){return fe.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function ho(){const n=fe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return mi(s,!0),s}function Is(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function wl(n,t,e){Cc(t);try{const i=n.viewQuery;null!==i&&Gd(1,i,e);const r=n.template;null!==r&&iy(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&ny(n,t),n.staticViewQueries&&Gd(2,n.viewQuery,e);const s=n.components;null!==s&&function qT(n,t){for(let e=0;e<t.length;e++)hI(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,Dc()}}function Oo(n,t,e,i){const r=t[2];if(128!=(128&r)){Cc(t);try{$p(t),function zp(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&iy(n,t,e,2,i);const o=3==(3&r);if(o){const h=n.preOrderCheckHooks;null!==h&&Ya(t,h,null)}else{const h=n.preOrderHooks;null!==h&&Za(t,h,0,null),Ec(t,0)}if(function cI(n){for(let t=ud(n);null!==t;t=cd(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&mc(s,1),r[2]|=512}}}(t),function uI(n){for(let t=ud(n);null!==t;t=cd(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];gc(i)&&Oo(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&ny(n,t),o){const h=n.contentCheckHooks;null!==h&&Ya(t,h)}else{const h=n.contentHooks;null!==h&&Za(t,h,1),Ec(t,1)}!function GT(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)or(~r);else{const s=r,o=e[++i],a=e[++i];D0(o,s),a(2,t[s])}}}finally{or(-1)}}(n,t);const a=n.components;null!==a&&function WT(n,t){for(let e=0;e<t.length;e++)dI(n,t[e])}(t,a);const u=n.viewQuery;if(null!==u&&Gd(2,u,i),o){const h=n.viewCheckHooks;null!==h&&Ya(t,h)}else{const h=n.viewHooks;null!==h&&Za(t,h,2),Ec(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,mc(t[3],-1))}finally{Dc()}}}function zT(n,t,e,i){const r=t[10],o=jp(t);try{!o&&r.begin&&r.begin(),o&&wl(n,t,i),Oo(n,t,e,i)}finally{!o&&r.end&&r.end()}}function iy(n,t,e,i,r){const s=cn(),o=2&i;try{or(-1),o&&t.length>22&&Rm(n,t,22,!1),e(i,r)}finally{or(s)}}function ry(n,t,e){if(uc(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Nd(n,t,e){!Wp()||(function tI(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||go(e,t),Xt(i,t);const o=e.initialInputs;for(let a=r;a<s;a++){const u=n.data[a],h=ii(u);h&&oI(t,e,u);const p=mo(t,n,a,e);Xt(p,t),null!==o&&aI(0,a-r,p,u,0,o),h&&(An(e.index,t)[8]=p)}}(n,t,e,Wn(e,t)),128==(128&e.flags)&&function nI(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function E0(){return fe.lFrame.currentDirectiveIndex}();try{or(s);for(let a=i;a<r;a++){const u=n.data[a],h=t[a];bc(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&dy(u,h)}}finally{or(-1),bc(o)}}(n,t,e))}function Fd(n,t,e=Wn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?e(t,n):n[o];n[r++]=a}}}function sy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Vd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Vd(n,t,e,i,r,s,o,a,u,h){const p=22+i,g=p+r,m=function KT(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ge);return e}(p,g),y="function"==typeof h?h():h;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function oy(n,t,e,i){const r=vy(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&by(n).push(i,r.length-1))}function ay(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function ly(n,t){const i=t.directiveEnd,r=n.data,s=t.attrs,o=[];let a=null,u=null;for(let h=t.directiveStart;h<i;h++){const p=r[h],g=p.inputs,m=null===s||xm(t)?null:lI(g,s);o.push(m),a=ay(g,h,a),u=ay(p.outputs,h,u)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=u}function Rn(n,t,e,i,r,s,o,a){const u=Wn(t,e);let p,h=t.inputs;!a&&null!=h&&(p=h[i])?(Wd(n,e,p,i,r),Ga(t)&&uy(e,t.index)):3&t.type&&(i=function QT(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(u,i,r))}function uy(n,t){const e=An(t,n);16&e[2]||(e[2]|=32)}function Bd(n,t,e,i){let r=!1;if(Wp()){const s=function iI(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Pm(e,o.selectors,!1)&&(r||(r=[]),tl(go(e,t),n,o.type),ii(o)?(hy(n,e),r.unshift(o)):r.push(o))}return r}(n,t,e),o=null===i?null:{"":-1};if(null!==s){r=!0,fy(e,n.data.length,s.length);for(let p=0;p<s.length;p++){const g=s[p];g.providersResolver&&g.providersResolver(g)}let a=!1,u=!1,h=Is(n,t,s.length,null);for(let p=0;p<s.length;p++){const g=s[p];e.mergedAttrs=Ja(e.mergedAttrs,g.hostAttrs),py(n,e,t,h,g),sI(h,g,o),null!==g.contentQueries&&(e.flags|=8),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(e.flags|=128);const m=g.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!u&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),u=!0),h++}ly(n,e)}o&&function rI(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new V(-301,!1);i.push(t[r],s)}}}(e,i,o)}return e.mergedAttrs=Ja(e.mergedAttrs,e.attrs),r}function cy(n,t,e,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const u=~t.index;(function eI(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=u&&a.push(u),a.push(i,r,o)}}function dy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function hy(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function sI(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ii(t)&&(e[""]=n)}}function fy(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function py(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Lr(r.type)),o=new fo(s,ii(r),C);n.blueprint[i]=o,e[i]=o,cy(n,t,0,i,Is(n,e,r.hostVars,ge),r)}function oI(n,t,e){const i=Wn(t,n),r=sy(e),s=n[10],o=Cl(n,_l(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=o}function _i(n,t,e,i,r,s){const o=Wn(n,t);!function Hd(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const a=null==o?pe(s):o(s,i||"",r);n.setAttribute(t,r,a,e)}}(t[11],o,s,n.value,e,i,r)}function aI(n,t,e,i,r,s){const o=s[t];if(null!==o){const a=i.setInput;for(let u=0;u<o.length;){const h=o[u++],p=o[u++],g=o[u++];null!==a?i.setInput(e,g,h,p):e[p]=g}}}function lI(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function gy(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function dI(n,t){const e=An(t,n);if(gc(e)){const i=e[1];48&e[2]?Oo(i,e,i.template,e[8]):e[5]>0&&Ud(e)}}function Ud(n){for(let i=ud(n);null!==i;i=cd(i))for(let r=10;r<i.length;r++){const s=i[r];if(512&s[2]){const o=s[1];Oo(o,s,o.template,s[8])}else s[5]>0&&Ud(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=An(e[i],n);gc(r)&&r[5]>0&&Ud(r)}}function hI(n,t){const e=An(t,n),i=e[1];(function fI(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),wl(i,e,e[8])}function Cl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function jd(n){for(;n;){n[2]|=32;const t=xo(n);if(n0(n)&&!t)return n;n=t}return null}function yy(n){!function my(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=od(e);if(null!==i){const r=i[1];zT(r,i,r.template,e)}}}(n[8])}function Gd(n,t,e){wc(0),t(n,e)}const gI=(()=>Promise.resolve(null))();function vy(n){return n[7]||(n[7]=[])}function by(n){return n.cleanup||(n.cleanup=[])}function wy(n,t){const e=n[9],i=e?e.get(Cs,null):null;i&&i.handleError(t)}function Wd(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++],u=t[o],h=n.data[o];null!==h.setInput?h.setInput(u,r,i,a):u[a]=r}}function Vi(n,t,e){const i=qa(t,n);!function pm(n,t,e){n.setValue(t,e)}(n[11],i,e)}function Dl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?s=a:1==s?r=ec(r,a):2==s&&(i=ec(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function El(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Tt(s)),ni(s))for(let a=10;a<s.length;a++){const u=s[a],h=u[1].firstChild;null!==h&&El(u[1],u,h,i)}const o=e.type;if(8&o)El(n,t,e.child,i);else if(32&o){const a=ld(e,t);let u;for(;u=a();)i.push(u)}else if(16&o){const a=Mm(t,e);if(Array.isArray(a))i.push(...a);else{const u=xo(t[16]);El(u[1],u,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Ro{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return El(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ni(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(fd(t,i),il(e,i))}this._attachedToViewContainer=!1}mm(this._lView[1],this._lView)}onDestroy(t){oy(this._lView[1],this._lView,null,t)}markForCheck(){jd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function $d(n,t,e){const i=t[10];i.begin&&i.begin();try{Oo(n,t,n.template,e)}catch(r){throw wy(t,r),r}finally{i.end&&i.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new V(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KM(n,t){Po(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new V(902,!1);this._appRef=t}}class mI extends Ro{constructor(t){super(t),this._view=t}detectChanges(){yy(this._view)}checkNoChanges(){}get context(){return null}}class qd extends Ao{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ve(t);return new Lo(e,this.ngModule)}}function Cy(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class vI{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){const r=this.injector.get(t,Qc,i);return r!==Qc||e===Qc?r:this.parentInjector.get(t,e,i)}}class Lo extends Qg{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function pT(n){return n.map(fT).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Cy(this.componentDef.inputs)}get outputs(){return Cy(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof lr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new vI(t,s):t,a=o.get(Xg,null);if(null===a)throw new V(407,!1);const u=o.get(hM,null),h=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?function YT(n,t,e){return n.selectRootElement(t,e===gi.ShadowDom)}(h,i,this.componentDef.encapsulation):hd(a.createRenderer(null,this.componentDef),p,function yI(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),m=this.componentDef.onPush?288:272,y=function DI(n,t){return{components:[],scheduler:n||FM,clean:gI,playerHandler:t||null,flags:0}}(),v=Vd(0,null,null,1,0,null,null,null,null,null),D=_l(null,v,y,m,null,null,a,h,u,o,null);let I,P;Cc(D);try{const $=function wI(n,t,e,i,r,s){const o=e[1];e[22]=n;const u=Ts(o,22,2,"#host",null),h=u.mergedAttrs=t.hostAttrs;null!==h&&(Dl(u,h,!0),null!==n&&(Qa(r,n,h),null!==u.classes&&vd(r,n,u.classes),null!==u.styles&&Sm(r,n,u.styles)));const p=i.createRenderer(n,t),g=_l(e,sy(t),null,t.onPush?32:16,e[22],u,i,p,s||null,null,null);return o.firstCreatePass&&(tl(go(u,e),o,t.type),hy(o,u),fy(u,e.length,1)),Cl(e,g),e[22]=g}(g,this.componentDef,D,a,h);if(g)if(i)Qa(h,g,["ng-version",fM.full]);else{const{attrs:M,classes:K}=function gT(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!si(r))break;r=s}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);M&&Qa(h,g,M),K&&K.length>0&&vd(h,g,K.join(" "))}if(P=pc(v,22),void 0!==e){const M=P.projection=[];for(let K=0;K<this.ngContentSelectors.length;K++){const Me=e[K];M.push(null!=Me?Array.from(Me):null)}}I=function CI(n,t,e,i,r){const s=e[1],o=function XT(n,t,e){const i=Rt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),py(n,i,t,Is(n,t,1,null),e),ly(n,i));const r=mo(t,n,i.directiveStart,i);Xt(r,t);const s=Wn(i,t);return s&&Xt(s,t),r}(s,e,t);if(i.components.push(o),n[8]=o,null!==r)for(const u of r)u(o,t);if(t.contentQueries){const u=Rt();t.contentQueries(1,o,u.directiveStart)}const a=Rt();return!s.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(or(a.index),cy(e[1],a,0,a.directiveStart,a.directiveEnd,t),dy(t,o)),o}($,this.componentDef,D,y,[EI]),wl(v,D,null)}finally{Dc()}return new _I(this.componentType,I,ws(P,D),D,P)}}class _I extends class oM{}{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new mI(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Wd(s[1],s,r,t,e),uy(s,this._tNode.index)}}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function EI(){const n=Rt();Ka(S()[1],n)}function Ce(n){let t=function Dy(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(ii(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new V(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=zd(n.inputs),o.declaredInputs=zd(n.declaredInputs),o.outputs=zd(n.outputs);const a=r.hostBindings;a&&SI(n,a);const u=r.viewQuery,h=r.contentQueries;if(u&&TI(n,u),h&&II(n,h),Xu(n.inputs,r.inputs),Xu(n.declaredInputs,r.declaredInputs),Xu(n.outputs,r.outputs),ii(r)&&r.data.animation){const p=n.data;p.animation=(p.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===Ce&&(e=!1)}}t=Object.getPrototypeOf(t)}!function MI(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ja(r.hostAttrs,e=Ja(e,r.hostAttrs))}}(i)}function zd(n){return n===ts?{}:n===Oe?[]:n}function TI(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function II(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function SI(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let Ml=null;function Ur(){if(!Ml){const n=Ue.Symbol;if(n&&n.iterator)Ml=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ml=i)}}}return Ml}function No(n){return!!Kd(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ur()in n)}function Kd(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function wi(n,t,e){return n[t]=e}function en(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function jr(n,t,e,i){const r=en(n,t,e);return en(n,t+1,i)||r}function tn(n,t,e,i){const r=S();return en(r,as(),t)&&(Ae(),_i(pt(),r,n,t,e,i)),tn}function As(n,t,e,i){return en(n,as(),e)?t+pe(e)+i:ge}function ks(n,t,e,i,r,s){const a=jr(n,function Pi(){return fe.lFrame.bindingIndex}(),e,r);return Oi(2),a?t+pe(e)+i+pe(r)+s:ge}function ye(n,t,e,i,r,s,o,a){const u=S(),h=Ae(),p=n+22,g=h.firstCreatePass?function FI(n,t,e,i,r,s,o,a,u){const h=t.consts,p=Ts(t,n,4,o||null,ir(h,a));Bd(t,e,p,ir(h,u)),Ka(t,p);const g=p.tViews=Vd(2,p,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,p),g.queries=t.queries.embeddedTView(p)),p}(p,h,u,t,e,i,r,s,o):h.data[p];mi(g,!1);const m=u[11].createComment("");pl(h,u,m,g),Xt(m,u),Cl(u,u[p]=gy(m,u,m,g)),Wa(g)&&Nd(h,u,g),null!=o&&Fd(u,g,a)}function E(n,t,e){const i=S();return en(i,as(),t)&&Rn(Ae(),pt(),i,n,t,i[11],e,!1),E}function Yd(n,t,e,i,r){const o=r?"class":"style";Wd(n,e,t.inputs[o],o,i)}function c(n,t,e,i){const r=S(),s=Ae(),o=22+n,a=r[11],u=r[o]=hd(a,t,function P0(){return fe.lFrame.currentNamespace}()),h=s.firstCreatePass?function BI(n,t,e,i,r,s,o){const a=t.consts,h=Ts(t,n,2,r,ir(a,s));return Bd(t,e,h,ir(a,o)),null!==h.attrs&&Dl(h,h.attrs,!1),null!==h.mergedAttrs&&Dl(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,s,r,0,t,e,i):s.data[o];mi(h,!0);const p=h.mergedAttrs;null!==p&&Qa(a,u,p);const g=h.classes;null!==g&&vd(a,u,g);const m=h.styles;return null!==m&&Sm(a,u,m),64!=(64&h.flags)&&pl(s,r,u,h),0===function m0(){return fe.lFrame.elementDepthCount}()&&Xt(u,r),function y0(){fe.lFrame.elementDepthCount++}(),Wa(h)&&(Nd(s,r,h),ry(s,h,r)),null!==i&&Fd(r,h),c}function d(){let n=Rt();yc()?vc():(n=n.parent,mi(n,!1));const t=n;!function v0(){fe.lFrame.elementDepthCount--}();const e=Ae();return e.firstCreatePass&&(Ka(e,n),uc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function F0(n){return 0!=(16&n.flags)}(t)&&Yd(e,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function V0(n){return 0!=(32&n.flags)}(t)&&Yd(e,t,S(),t.stylesWithoutHost,!1),d}function f(n,t,e,i){return c(n,t,e,i),d(),f}function Vo(n,t,e){const i=S(),r=Ae(),s=n+22,o=r.firstCreatePass?function HI(n,t,e,i,r){const s=t.consts,o=ir(s,i),a=Ts(t,n,8,"ng-container",o);return null!==o&&Dl(a,o,!0),Bd(t,e,a,ir(s,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(s,r,i,t,e):r.data[s];mi(o,!0);const a=i[s]=i[11].createComment("");return pl(r,i,a,o),Xt(a,i),Wa(o)&&(Nd(r,i,o),ry(r,o,i)),null!=e&&Fd(i,o),Vo}function Bo(){let n=Rt();const t=Ae();return yc()?vc():(n=n.parent,mi(n,!1)),t.firstCreatePass&&(Ka(t,n),uc(n)&&t.queries.elementEnd(n)),Bo}function dr(){return S()}function Ho(n){return!!n&&"function"==typeof n.then}const Zd=function Ly(n){return!!n&&"function"==typeof n.subscribe};function Be(n,t,e,i){const r=S(),s=Ae(),o=Rt();return function Fy(n,t,e,i,r,s,o,a){const u=Wa(i),p=n.firstCreatePass&&by(n),g=t[8],m=vy(t);let y=!0;if(3&i.type||a){const I=Wn(i,t),P=a?a(I):I,$=m.length,M=a?Me=>a(Tt(Me[i.index])):i.index;let K=null;if(!a&&u&&(K=function UI(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const a=t[7],u=r[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==K)(K.__ngLastListenerFn__||K).__ngNextListenerFn__=s,K.__ngLastListenerFn__=s,y=!1;else{s=By(i,t,g,s,!1);const Me=e.listen(P,r,s);m.push(s,Me),p&&p.push(r,M,$,$+1)}}else s=By(i,t,g,s,!1);const v=i.outputs;let D;if(y&&null!==v&&(D=v[r])){const I=D.length;if(I)for(let P=0;P<I;P+=2){const it=t[D[P]][D[P+1]].subscribe(s),Xr=m.length;m.push(s,it),p&&p.push(r,i.index,Xr,-(Xr+1))}}}(s,r,r[11],o,n,t,0,i),Be}function Vy(n,t,e,i){try{return!1!==e(i)}catch(r){return wy(n,r),!1}}function By(n,t,e,i,r){return function s(o){if(o===Function)return i;jd(2&n.flags?An(n.index,t):t);let u=Vy(t,0,i,o),h=s.__ngNextListenerFn__;for(;h;)u=Vy(t,0,h,o)&&u,h=h.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function ve(n=1){return function T0(n){return(fe.lFrame.contextLView=function I0(n,t){for(;n>0;)t=t[15],n--;return t}(n,fe.lFrame.contextLView))[8]}(n)}function Nt(n,t,e){return Uo(n,"",t,"",e),Nt}function Uo(n,t,e,i,r){const s=S(),o=As(s,t,e,i);return o!==ge&&Rn(Ae(),pt(),s,n,o,s[11],r,!1),Uo}function Qd(n,t,e,i,r,s,o){const a=S(),u=ks(a,t,e,i,r,s);return u!==ge&&Rn(Ae(),pt(),a,n,u,a[11],o,!1),Qd}function Yy(n,t,e,i,r){const s=n[e+1],o=null===t;let a=i?oi(s):Fi(s),u=!1;for(;0!==a&&(!1===u||o);){const p=n[a+1];WI(n[a],t)&&(u=!0,n[a+1]=i?Td(p):Ed(p)),a=i?oi(p):Fi(p)}u&&(n[e+1]=i?Ed(s):Td(s))}function WI(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&ms(n,t)>=0}function Il(n,t,e){return ai(n,t,e,!1),Il}function Ln(n,t){return ai(n,t,null,!0),Ln}function ai(n,t,e,i){const r=S(),s=Ae(),o=Oi(2);s.firstUpdatePass&&function iv(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[cn()],o=function nv(n,t){return t>=n.expandoStartIndex}(n,e);(function av(n,t){return 0!=(n.flags&(t?16:32))})(s,i)&&null===t&&!o&&(t=!1),t=function eS(n,t,e,i){const r=function _c(n){const t=fe.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=jo(e=Jd(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=Jd(r,n,t,e,i),null===s){let u=function tS(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Fi(i))return n[oi(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=Jd(null,n,t,u[1],i),u=jo(u,t.attrs,i),function nS(n,t,e,i){n[oi(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function iS(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=jo(i,n[s].hostAttrs,e);return jo(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function $I(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,a=oi(o),u=Fi(o);n[i]=e;let p,h=!1;if(Array.isArray(e)){const g=e;p=g[1],(null===p||ms(g,p)>0)&&(h=!0)}else p=e;if(r)if(0!==u){const m=oi(n[a+1]);n[i+1]=yl(m,a),0!==m&&(n[m+1]=Md(n[m+1],i)),n[a+1]=function RT(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=yl(a,0),0!==a&&(n[a+1]=Md(n[a+1],i)),a=i;else n[i+1]=yl(u,0),0===a?a=i:n[u+1]=Md(n[u+1],i),u=i;h&&(n[i+1]=Ed(n[i+1])),Yy(n,p,i,!0),Yy(n,p,i,!1),function GI(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&ms(s,t)>=0&&(e[i+1]=Td(e[i+1]))}(t,p,n,i,s),o=yl(a,u),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}(s,n,o,i),t!==ge&&en(r,o,t)&&function sv(n,t,e,i,r,s,o,a){if(!(3&t.type))return;const u=n.data,h=u[a+1];Sl(function Km(n){return 1==(1&n)}(h)?ov(u,t,e,r,Fi(h),o):void 0)||(Sl(s)||function zm(n){return 2==(2&n)}(h)&&(s=ov(u,null,e,r,a,o)),function rT(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:wn.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=wn.Important),n.setStyle(e,i,r,s))}}(i,o,qa(cn(),e),r,s))}(s,s.data[cn()],r,r[11],n,r[o+1]=function oS(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ge(Pn(n)))),n}(t,e),i,o)}function Jd(n,t,e,i,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=t[a],i=jo(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function jo(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),xn(n,o,!!e||t[++s]))}return void 0===n?null:n}function ov(n,t,e,i,r,s){const o=null===t;let a;for(;r>0;){const u=n[r],h=Array.isArray(u),p=h?u[1]:u,g=null===p;let m=e[r+1];m===ge&&(m=g?Oe:void 0);let y=g?Pc(m,i):p===i?m:void 0;if(h&&!Sl(y)&&(y=Pc(u,i)),Sl(y)&&(a=y,o))return a;const v=n[r+1];r=o?oi(v):Fi(v)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(a=Pc(u,i))}return a}function Sl(n){return void 0!==n}function l(n,t=""){const e=S(),i=Ae(),r=n+22,s=i.firstCreatePass?Ts(i,r,1,t,null):i.data[r],o=e[r]=function dd(n,t){return n.createText(t)}(e[11],t);pl(i,e,o,s),mi(s,!1)}function je(n){return Re("",n,""),je}function Re(n,t,e){const i=S(),r=As(i,n,t,e);return r!==ge&&Vi(i,cn(),r),Re}function $o(n,t,e,i,r){const s=S(),o=ks(s,n,t,e,i,r);return o!==ge&&Vi(s,cn(),o),$o}const $r=void 0;var TS=["en",[["a","p"],["AM","PM"],$r],[["AM","PM"],$r,$r],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$r,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$r,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$r,"{1} 'at' {0}",$r],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function MS(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Vs={};function hn(n){const t=function IS(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=Iv(t);if(e)return e;const i=t.split("-")[0];if(e=Iv(i),e)return e;if("en"===i)return TS;throw new V(701,!1)}function Iv(n){return n in Vs||(Vs[n]=Ue.ng&&Ue.ng.common&&Ue.ng.common.locales&&Ue.ng.common.locales[n]),Vs[n]}var j=(()=>((j=j||{})[j.LocaleId=0]="LocaleId",j[j.DayPeriodsFormat=1]="DayPeriodsFormat",j[j.DayPeriodsStandalone=2]="DayPeriodsStandalone",j[j.DaysFormat=3]="DaysFormat",j[j.DaysStandalone=4]="DaysStandalone",j[j.MonthsFormat=5]="MonthsFormat",j[j.MonthsStandalone=6]="MonthsStandalone",j[j.Eras=7]="Eras",j[j.FirstDayOfWeek=8]="FirstDayOfWeek",j[j.WeekendRange=9]="WeekendRange",j[j.DateFormat=10]="DateFormat",j[j.TimeFormat=11]="TimeFormat",j[j.DateTimeFormat=12]="DateTimeFormat",j[j.NumberSymbols=13]="NumberSymbols",j[j.NumberFormats=14]="NumberFormats",j[j.CurrencyCode=15]="CurrencyCode",j[j.CurrencySymbol=16]="CurrencySymbol",j[j.CurrencyName=17]="CurrencyName",j[j.Currencies=18]="Currencies",j[j.Directionality=19]="Directionality",j[j.PluralCase=20]="PluralCase",j[j.ExtraData=21]="ExtraData",j))();const Bs="en-US";let Sv=Bs;function th(n,t,e,i,r){if(n=ue(n),Array.isArray(n))for(let s=0;s<n.length;s++)th(n[s],t,e,i,r);else{const s=Ae(),o=S();let a=Vr(n)?n:ue(n.provide),u=Zg(n);const h=Rt(),p=1048575&h.providerIndexes,g=h.directiveStart,m=h.providerIndexes>>20;if(Vr(n)||!n.multi){const y=new fo(u,r,C),v=ih(a,t,r?p:p+m,g);-1===v?(tl(go(h,o),s,a),nh(s,n,t.length),t.push(a),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(y),o.push(y)):(e[v]=y,o[v]=y)}else{const y=ih(a,t,p+m,g),v=ih(a,t,p,p+m),D=y>=0&&e[y],I=v>=0&&e[v];if(r&&!I||!r&&!D){tl(go(h,o),s,a);const P=function EA(n,t,e,i,r){const s=new fo(n,e,C);return s.multi=[],s.index=t,s.componentProviders=0,Xv(s,r,i&&!e),s}(r?DA:CA,e.length,r,i,u);!r&&I&&(e[v].providerFactory=P),nh(s,n,t.length,0),t.push(a),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(P),o.push(P)}else nh(s,n,y>-1?y:v,Xv(e[r?v:y],u,!r&&i));!r&&i&&I&&e[v].componentProviders++}}}function nh(n,t,e,i){const r=Vr(t),s=function JE(n){return!!n.useClass}(t);if(r||s){const u=(s?ue(t.useClass):t).prototype.ngOnDestroy;if(u){const h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const p=h.indexOf(e);-1===p?h.push(e,[i,u]):h[p+1].push(i,u)}else h.push(e,u)}}}function Xv(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function ih(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function CA(n,t,e,i){return rh(this.multi,[])}function DA(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=mo(e,e[1],this.providerFactory.index,i);s=a.slice(0,o),rh(r,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],rh(r,s);return s}function rh(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function qe(n,t=[]){return e=>{e.providersResolver=(i,r)=>function wA(n,t,e){const i=Ae();if(i.firstCreatePass){const r=ii(n);th(e,i.data,i.blueprint,r,!0),th(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Gr{}class eb{}class tb extends Gr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new qd(this);const i=In(t);this._bootstrapComponents=Ni(i.bootstrap),this._r3Injector=Bm(t,e,[{provide:Gr,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],Ge(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class sh extends eb{constructor(t){super(),this.moduleType=t}create(t){return new tb(this.moduleType,t)}}class TA extends Gr{constructor(t,e,i){super(),this.componentFactoryResolver=new qd(this),this.instance=null;const r=new Yg([...t,{provide:Gr,useValue:this},{provide:Ao,useValue:this.componentFactoryResolver}],e||hl(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Ol(n,t,e=null){return new TA(n,t,e).injector}function Us(n,t,e,i){return function ub(n,t,e,i,r,s){const o=t+e;return en(n,o,r)?wi(n,o+1,s?i.call(s,r):i(r)):Yo(n,o+1)}(S(),un(),n,t,e,i)}function Ko(n,t,e,i,r){return cb(S(),un(),n,t,e,i,r)}function ah(n,t,e,i,r,s){return function db(n,t,e,i,r,s,o,a){const u=t+e;return function Tl(n,t,e,i,r){const s=jr(n,t,e,i);return en(n,t+2,r)||s}(n,u,r,s,o)?wi(n,u+3,a?i.call(a,r,s,o):i(r,s,o)):Yo(n,u+3)}(S(),un(),n,t,e,i,r,s)}function Yo(n,t){const e=n[t];return e===ge?void 0:e}function cb(n,t,e,i,r,s,o){const a=t+e;return jr(n,a,r,s)?wi(n,a+2,o?i.call(o,r,s):i(r,s)):Yo(n,a+2)}function hb(n,t,e,i,r,s,o,a,u){const h=t+e;return function zn(n,t,e,i,r,s){const o=jr(n,t,e,i);return jr(n,t+2,r,s)||o}(n,h,r,s,o,a)?wi(n,h+4,u?i.call(u,r,s,o,a):i(r,s,o,a)):Yo(n,h+4)}function js(n,t){const e=Ae();let i;const r=n+22;e.firstCreatePass?(i=function $A(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Lr(i.type)),o=jn(C);try{const a=Xa(!1),u=s();return Xa(a),function VI(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,S(),r,u),u}finally{jn(o)}}function Zo(n,t,e,i){const r=n+22,s=S(),o=os(s,r);return Qo(s,r)?cb(s,un(),t,o.transform,e,i,o):o.transform(e,i)}function Qo(n,t){return n[1].data[t].pure}function lh(n){return t=>{setTimeout(n,void 0,t)}}const Le=class zA extends N{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=lh(s),r&&(r=lh(r)),o&&(o=lh(o)));const a=super.subscribe({next:r,error:s,complete:o});return t instanceof ke&&t.add(a),a}};function KA(){return this._results[Ur()]()}class uh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ur(),i=uh.prototype;i[e]||(i[e]=KA)}get changes(){return this._changes||(this._changes=new Le)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=kn(t);(this._changesDetected=!function Y0(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bi=(()=>{class n{}return n.__NG_ELEMENT_ID__=QA,n})();const YA=Bi,ZA=class extends YA{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=_l(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),wl(i,r,t),new Ro(r)}};function QA(){return Rl(Rt(),S())}function Rl(n,t){return 4&n.type?new ZA(t,n,ws(n,t)):null}let ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=JA,n})();function JA(){return yb(Rt(),S())}const XA=ui,gb=class extends XA{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const t=el(this._hostTNode,this._hostLView);if(sg(t)){const e=us(t,this._hostLView),i=ls(t);return new cs(e[1].data[i+8],e)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=mb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,i,r,s){const o=t&&!function vo(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const g=e||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?t:new Lo(Ve(t)),h=i||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?h:this.parentInjector).get(lr,null);m&&(s=m)}const p=u.create(h,r,void 0,s);return this.insert(p.hostView,a),p}insert(t,e){const i=t._lView,r=i[1];if(function g0(n){return ni(n[3])}(i)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const g=i[3],m=new gb(g,g[6],g[3]);m.detach(m.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function ZM(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],mg(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function QM(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=64}(r,i,o,s);const a=md(s,o),u=i[11],h=fl(u,o[7]);return null!==h&&function zM(n,t,e,i,r,s){i[0]=r,i[6]=t,Po(n,i,e,1,r,s)}(r,o[6],u,i,h,a),t.attachToViewContainerRef(),mg(ch(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=mb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=fd(this._lContainer,e);i&&(il(ch(this._lContainer),e),mm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=fd(this._lContainer,e);return i&&null!=il(ch(this._lContainer),e)?new Ro(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function mb(n){return n[8]}function ch(n){return n[8]||(n[8]=[])}function yb(n,t){let e;const i=t[n.index];if(ni(i))e=i;else{let r;if(8&n.type)r=Tt(i);else{const s=t[11];r=s.createComment("");const o=Wn(n,t);Hr(s,fl(s,o),r,function tT(n,t){return n.nextSibling(t)}(s,o),!1)}t[n.index]=e=gy(i,t,r,n),Cl(t,e)}return new gb(e,n,t)}class dh{constructor(t){this.queryList=t,this.matches=null}clone(){return new dh(this.queryList)}setDirty(){this.queryList.setDirty()}}class hh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new hh(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Cb(t,e).matches&&this.queries[e].setDirty()}}class vb{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class fh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new fh(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class ph{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new ph(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,nk(e,s)),this.matchTNodeWithReadOption(t,e,nl(e,t,s,!1,!1))}else i===Bi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,nl(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===bt||r===ui||r===Bi&&4&e.type)this.addMatch(e.index,-2);else{const s=nl(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function nk(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function rk(n,t,e,i){return-1===e?function ik(n,t){return 11&n.type?ws(n,t):4&n.type?Rl(n,t):null}(t,n):-2===e?function sk(n,t,e){return e===bt?ws(t,n):e===Bi?Rl(t,n):e===ui?yb(t,n):void 0}(n,t,i):mo(n,n[1],e,t)}function bb(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,a=[];for(let u=0;u<o.length;u+=2){const h=o[u];a.push(h<0?null:rk(t,s[h],o[u+1],e.metadata.read))}r.matches=a}return r.matches}function gh(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=bb(n,t,r,e);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)i.push(o[a/2]);else{const h=s[a+1],p=t[-u];for(let g=10;g<p.length;g++){const m=p[g];m[17]===m[3]&&gh(m[1],m,h,i)}if(null!==p[9]){const g=p[9];for(let m=0;m<g.length;m++){const y=g[m];gh(y[1],y,h,i)}}}}}return i}function at(n){const t=S(),e=Ae(),i=Yp();wc(i+1);const r=Cb(e,i);if(n.dirty&&jp(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?gh(e,t,i,[]):bb(e,t,r,i);n.reset(s,cM),n.notifyOnChanges()}return!0}return!1}function Vt(n,t,e){const i=Ae();i.firstCreatePass&&(wb(i,new vb(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),_b(i,S(),t)}function Jo(n,t,e,i){const r=Ae();if(r.firstCreatePass){const s=Rt();wb(r,new vb(t,e,i),s.index),function ak(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}_b(r,S(),e)}function lt(){return function ok(n,t){return n[19].queries[t].queryList}(S(),Yp())}function _b(n,t,e){const i=new uh(4==(4&e));oy(n,t,i,i.destroy),null===t[19]&&(t[19]=new hh),t[19].queries.push(new dh(i))}function wb(n,t,e){null===n.queries&&(n.queries=new fh),n.queries.track(new ph(t,e))}function Cb(n,t){return n.queries.getByIndex(t)}function Nl(...n){}const Fl=new W("Application Initializer");let Vl=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Nl,this.reject=Nl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Ho(s))e.push(s);else if(Zd(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(k(Fl,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ea=new W("AppId",{providedIn:"root",factory:function Ub(){return`${_h()}${_h()}${_h()}`}});function _h(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jb=new W("Platform Initializer"),ta=new W("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$b=new W("appBootstrapListener");let Ak=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ei=new W("LocaleId",{providedIn:"root",factory:()=>ri(Ei,se.Optional|se.SkipSelf)||function kk(){return typeof $localize<"u"&&$localize.locale||Bs}()});class Pk{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let wh=(()=>{class n{compileModuleSync(e){return new sh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Ni(In(e).declarations).reduce((o,a)=>{const u=Ve(a);return u&&o.push(new Lo(u)),o},[]);return new Pk(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Lk=(()=>Promise.resolve(0))();function Ch(n){typeof Zone>"u"?Lk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class nt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new V(908,!1);Zone.assertZonePatched();const r=this;if(r._nesting=0,r._outer=r._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;r._inner=r._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Nk(){let n=Ue.requestAnimationFrame,t=Ue.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Bk(n){const t=()=>{!function Vk(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ue,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Eh(n),n.isCheckStableRunning=!0,Dh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Eh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,a)=>{try{return qb(n),e.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),zb(n)}},onInvoke:(e,i,r,s,o,a,u)=>{try{return qb(n),e.invoke(r,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),zb(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,Eh(n),Dh(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nt.isInAngularZone())throw new V(909,!1)}static assertNotInAngularZone(){if(nt.isInAngularZone())throw new V(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,Fk,Nl,Nl);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Fk={};function Dh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Eh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function qb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zb(n){n._nesting--,Dh(n)}class Hk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const Kb=new W(""),Bl=new W("");let Ih,Mh=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ih||(function Uk(n){Ih=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nt.assertNotInAngularZone(),Ch(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ch(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(k(nt),k(Th),k(Bl))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),Th=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Ih?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),hr=null;const Yb=new W("AllowMultipleToken"),Sh=new W("PlatformDestroyListeners");class Zb{constructor(t,e){this.name=t,this.token=e}}function Jb(n,t,e=[]){const i=`Platform: ${t}`,r=new W(i);return(s=[])=>{let o=Ah();if(!o||o.injector.get(Yb,!1)){const a=[...e,...s,{provide:r,useValue:!0}];n?n(a):function Gk(n){if(hr&&!hr.get(Yb,!1))throw new V(400,!1);hr=n;const t=n.get(e_);(function Qb(n){const t=n.get(jb,null);t&&t.forEach(e=>e())})(n)}(function Xb(n=[],t){return Cn.create({name:t,providers:[{provide:zc,useValue:"platform"},{provide:Sh,useValue:new Set([()=>hr=null])},...n]})}(a,i))}return function qk(n){const t=Ah();if(!t)throw new V(401,!1);return t}()}}function Ah(){return hr?.get(e_)??null}let e_=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function zk(n,t){let e;return e="noop"===n?new Hk:("zone.js"===n?void 0:n)||new nt(t),e}(i?.ngZone,function t_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:nt,useValue:r}];return r.run(()=>{const o=Cn.create({providers:s,parent:this.injector,name:e.moduleType.name}),a=e.create(o),u=a.injector.get(Cs,null);if(!u)throw new V(402,!1);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:p=>{u.handleError(p)}});a.onDestroy(()=>{Ul(this._modules,a),h.unsubscribe()})}),function n_(n,t,e){try{const i=e();return Ho(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(u,r,()=>{const h=a.injector.get(Vl);return h.runInitializers(),h.donePromise.then(()=>(function Av(n){Tn(n,"Expected localeId to be defined"),"string"==typeof n&&(Sv=n.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Ei,Bs)||Bs),this._moduleDoBootstrap(a),a))})})}bootstrapModule(e,i=[]){const r=i_({},i);return function jk(n,t,e){const i=new sh(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(Hl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new V(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new V(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(Sh,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(k(Cn))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function i_(n,t){return Array.isArray(t)?t.reduce(i_,n):{...n,...t}}let Hl=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new F(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new F(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{nt.assertNotInAngularZone(),Ch(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{nt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=function er(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return he(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof F?n[0]:sn(t)(Mt(n,e))}(s,o.pipe(function V1(){return n=>vn()(function L1(n,t){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new N1(r,t));const s=Object.create(i,kr);return s.source=i,s.subjectFactory=r,s}}(F1)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof Qg;if(!this._injector.get(Vl).done)throw!r&&function Gs(n){const t=Ve(n)||an(n)||ln(n);return null!==t&&t.standalone}(e),new V(405,false);let o;o=r?e:this._injector.get(Ao).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function $k(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Gr),h=o.create(Cn.NULL,[],i||o.selector,a),p=h.location.nativeElement,g=h.injector.get(Kb,null);return g?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),Ul(this.components,h),g?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new V(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Ul(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get($b,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Ul(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new V(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(k(nt),k(lr),k(Cs))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ul(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let s_=!0,di=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zk,n})();function Zk(n){return function Qk(n,t,e){if(Ga(n)&&!e){const i=An(n.index,t);return new Ro(i,i)}return 47&n.type?new Ro(t[16],t):null}(Rt(),S(),16==(16&n))}class c_{constructor(){}supports(t){return No(t)}create(t){return new ix(t)}}const nx=(n,t)=>t;class ix{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||nx}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<h_(i,r,s)?e:i,a=h_(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const h=a-r,p=u-r;if(h!=p){for(let m=0;m<h;m++){const y=m<s.length?s[m]:s[m]=0,v=y+m;p<=v&&v<h&&(s[m]=y+1)}s[o.previousIndex]=p-h}}a!==u&&t(o,a,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!No(t))throw new V(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)s=t[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),i=!0),e=e._next}else r=0,function OI(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ur()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new rx(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new d_),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new d_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class rx{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class d_{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new sx,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function h_(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class f_{constructor(){}supports(t){return t instanceof Map||Kd(t)}create(){return new ox}}class ox{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Kd(t)))throw new V(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new ax(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class ax{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function p_(){return new Gl([new c_])}let Gl=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||p_()),deps:[[n,new Do,new Nr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new V(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:p_}),n})();function g_(){return new na([new f_])}let na=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||g_()),deps:[[n,new Do,new Nr]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new V(901,!1)}}return n.\u0275prov=q({token:n,providedIn:"root",factory:g_}),n})();const cx=Jb(null,"core",[]);let dx=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(k(Hl))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({}),n})();function Ui(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Wl=null;function Mi(){return Wl}const ut=new W("DocumentToken");let ql=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return function gx(){return k(m_)}()},providedIn:"platform"}),n})();const mx=new W("Location Initialized");let m_=(()=>{class n extends ql{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mi().getBaseHref(this._doc)}onPopState(e){const i=Mi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Mi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){y_()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){y_()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(k(ut))},n.\u0275prov=q({token:n,factory:function(){return function yx(){return new m_(k(ut))}()},providedIn:"platform"}),n})();function y_(){return!!window.history.pushState}function Rh(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function v_(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ji(n){return n&&"?"!==n[0]?"?"+n:n}let fr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return function vx(){const n=k(ut).location;return new Lh(k(ql),n&&n.origin||"")}()},providedIn:"root"}),n})();const b_=new W("appBaseHref");let Lh=(()=>{class n extends fr{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Rh(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ji(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+ji(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+ji(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(k(ql),k(b_,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),bx=(()=>{class n extends fr{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Rh(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+ji(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(k(ql),k(b_,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),ia=(()=>{class n{constructor(e){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=v_(__(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ji(i))}normalize(e){return n.stripTrailingSlash(function wx(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,__(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ji(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ji(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=ji,n.joinWithSlash=Rh,n.stripTrailingSlash=v_,n.\u0275fac=function(e){return new(e||n)(k(fr))},n.\u0275prov=q({token:n,factory:function(){return function _x(){return new ia(k(fr))}()},providedIn:"root"}),n})();function __(n){return n.replace(/\/index.html$/,"")}var _t=(()=>((_t=_t||{})[_t.Format=0]="Format",_t[_t.Standalone=1]="Standalone",_t))(),Se=(()=>((Se=Se||{})[Se.Narrow=0]="Narrow",Se[Se.Abbreviated=1]="Abbreviated",Se[Se.Wide=2]="Wide",Se[Se.Short=3]="Short",Se))(),ct=(()=>((ct=ct||{})[ct.Short=0]="Short",ct[ct.Medium=1]="Medium",ct[ct.Long=2]="Long",ct[ct.Full=3]="Full",ct))(),oe=(()=>((oe=oe||{})[oe.Decimal=0]="Decimal",oe[oe.Group=1]="Group",oe[oe.List=2]="List",oe[oe.PercentSign=3]="PercentSign",oe[oe.PlusSign=4]="PlusSign",oe[oe.MinusSign=5]="MinusSign",oe[oe.Exponential=6]="Exponential",oe[oe.SuperscriptingExponent=7]="SuperscriptingExponent",oe[oe.PerMille=8]="PerMille",oe[oe.Infinity=9]="Infinity",oe[oe.NaN=10]="NaN",oe[oe.TimeSeparator=11]="TimeSeparator",oe[oe.CurrencyDecimal=12]="CurrencyDecimal",oe[oe.CurrencyGroup=13]="CurrencyGroup",oe))();function zl(n,t){return Yn(hn(n)[j.DateFormat],t)}function Kl(n,t){return Yn(hn(n)[j.TimeFormat],t)}function Yl(n,t){return Yn(hn(n)[j.DateTimeFormat],t)}function Kn(n,t){const e=hn(n),i=e[j.NumberSymbols][t];if(typeof i>"u"){if(t===oe.CurrencyDecimal)return e[j.NumberSymbols][oe.Decimal];if(t===oe.CurrencyGroup)return e[j.NumberSymbols][oe.Group]}return i}function C_(n){if(!n[j.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[j.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function Fh(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Rx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ra={},Lx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bt=(()=>((Bt=Bt||{})[Bt.Short=0]="Short",Bt[Bt.ShortGMT=1]="ShortGMT",Bt[Bt.Long=2]="Long",Bt[Bt.Extended=3]="Extended",Bt))(),ae=(()=>((ae=ae||{})[ae.FullYear=0]="FullYear",ae[ae.Month=1]="Month",ae[ae.Date=2]="Date",ae[ae.Hours=3]="Hours",ae[ae.Minutes=4]="Minutes",ae[ae.Seconds=5]="Seconds",ae[ae.FractionalSeconds=6]="FractionalSeconds",ae[ae.Day=7]="Day",ae))(),be=(()=>((be=be||{})[be.DayPeriods=0]="DayPeriods",be[be.Days=1]="Days",be[be.Months=2]="Months",be[be.Eras=3]="Eras",be))();function Nx(n,t,e,i){let r=function Wx(n){if(M_(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return Zl(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Rx))return function qx(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,u=Number(n[6]||0),h=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,a,u,h),t}(i)}const t=new Date(n);if(!M_(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=$i(e,t)||t;let a,o=[];for(;t;){if(a=Lx.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const p=o.pop();if(!p)break;t=p}}let u=r.getTimezoneOffset();i&&(u=E_(i,u),r=function Gx(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function $x(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(E_(t,r)-r))}(r,i,!0));let h="";return o.forEach(p=>{const g=function jx(n){if(Bh[n])return Bh[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ye(be.Eras,Se.Abbreviated);break;case"GGGG":t=Ye(be.Eras,Se.Wide);break;case"GGGGG":t=Ye(be.Eras,Se.Narrow);break;case"y":t=St(ae.FullYear,1,0,!1,!0);break;case"yy":t=St(ae.FullYear,2,0,!0,!0);break;case"yyy":t=St(ae.FullYear,3,0,!1,!0);break;case"yyyy":t=St(ae.FullYear,4,0,!1,!0);break;case"Y":t=eu(1);break;case"YY":t=eu(2,!0);break;case"YYY":t=eu(3);break;case"YYYY":t=eu(4);break;case"M":case"L":t=St(ae.Month,1,1);break;case"MM":case"LL":t=St(ae.Month,2,1);break;case"MMM":t=Ye(be.Months,Se.Abbreviated);break;case"MMMM":t=Ye(be.Months,Se.Wide);break;case"MMMMM":t=Ye(be.Months,Se.Narrow);break;case"LLL":t=Ye(be.Months,Se.Abbreviated,_t.Standalone);break;case"LLLL":t=Ye(be.Months,Se.Wide,_t.Standalone);break;case"LLLLL":t=Ye(be.Months,Se.Narrow,_t.Standalone);break;case"w":t=Vh(1);break;case"ww":t=Vh(2);break;case"W":t=Vh(1,!0);break;case"d":t=St(ae.Date,1);break;case"dd":t=St(ae.Date,2);break;case"c":case"cc":t=St(ae.Day,1);break;case"ccc":t=Ye(be.Days,Se.Abbreviated,_t.Standalone);break;case"cccc":t=Ye(be.Days,Se.Wide,_t.Standalone);break;case"ccccc":t=Ye(be.Days,Se.Narrow,_t.Standalone);break;case"cccccc":t=Ye(be.Days,Se.Short,_t.Standalone);break;case"E":case"EE":case"EEE":t=Ye(be.Days,Se.Abbreviated);break;case"EEEE":t=Ye(be.Days,Se.Wide);break;case"EEEEE":t=Ye(be.Days,Se.Narrow);break;case"EEEEEE":t=Ye(be.Days,Se.Short);break;case"a":case"aa":case"aaa":t=Ye(be.DayPeriods,Se.Abbreviated);break;case"aaaa":t=Ye(be.DayPeriods,Se.Wide);break;case"aaaaa":t=Ye(be.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":t=Ye(be.DayPeriods,Se.Abbreviated,_t.Standalone,!0);break;case"bbbb":t=Ye(be.DayPeriods,Se.Wide,_t.Standalone,!0);break;case"bbbbb":t=Ye(be.DayPeriods,Se.Narrow,_t.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ye(be.DayPeriods,Se.Abbreviated,_t.Format,!0);break;case"BBBB":t=Ye(be.DayPeriods,Se.Wide,_t.Format,!0);break;case"BBBBB":t=Ye(be.DayPeriods,Se.Narrow,_t.Format,!0);break;case"h":t=St(ae.Hours,1,-12);break;case"hh":t=St(ae.Hours,2,-12);break;case"H":t=St(ae.Hours,1);break;case"HH":t=St(ae.Hours,2);break;case"m":t=St(ae.Minutes,1);break;case"mm":t=St(ae.Minutes,2);break;case"s":t=St(ae.Seconds,1);break;case"ss":t=St(ae.Seconds,2);break;case"S":t=St(ae.FractionalSeconds,1);break;case"SS":t=St(ae.FractionalSeconds,2);break;case"SSS":t=St(ae.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Jl(Bt.Short);break;case"ZZZZZ":t=Jl(Bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Jl(Bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Jl(Bt.Long);break;default:return null}return Bh[n]=t,t}(p);h+=g?g(r,e,u):"''"===p?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Zl(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function $i(n,t){const e=function Cx(n){return hn(n)[j.LocaleId]}(n);if(ra[e]=ra[e]||{},ra[e][t])return ra[e][t];let i="";switch(t){case"shortDate":i=zl(n,ct.Short);break;case"mediumDate":i=zl(n,ct.Medium);break;case"longDate":i=zl(n,ct.Long);break;case"fullDate":i=zl(n,ct.Full);break;case"shortTime":i=Kl(n,ct.Short);break;case"mediumTime":i=Kl(n,ct.Medium);break;case"longTime":i=Kl(n,ct.Long);break;case"fullTime":i=Kl(n,ct.Full);break;case"short":const r=$i(n,"shortTime"),s=$i(n,"shortDate");i=Ql(Yl(n,ct.Short),[r,s]);break;case"medium":const o=$i(n,"mediumTime"),a=$i(n,"mediumDate");i=Ql(Yl(n,ct.Medium),[o,a]);break;case"long":const u=$i(n,"longTime"),h=$i(n,"longDate");i=Ql(Yl(n,ct.Long),[u,h]);break;case"full":const p=$i(n,"fullTime"),g=$i(n,"fullDate");i=Ql(Yl(n,ct.Full),[p,g])}return i&&(ra[e][t]=i),i}function Ql(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function hi(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function St(n,t,e=0,i=!1,r=!1){return function(s,o){let a=function Vx(n,t){switch(n){case ae.FullYear:return t.getFullYear();case ae.Month:return t.getMonth();case ae.Date:return t.getDate();case ae.Hours:return t.getHours();case ae.Minutes:return t.getMinutes();case ae.Seconds:return t.getSeconds();case ae.FractionalSeconds:return t.getMilliseconds();case ae.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||a>-e)&&(a+=e),n===ae.Hours)0===a&&-12===e&&(a=12);else if(n===ae.FractionalSeconds)return function Fx(n,t){return hi(n,3).substring(0,t)}(a,t);const u=Kn(o,oe.MinusSign);return hi(a,t,u,i,r)}}function Ye(n,t,e=_t.Format,i=!1){return function(r,s){return function Bx(n,t,e,i,r,s){switch(e){case be.Months:return function Mx(n,t,e){const i=hn(n),s=Yn([i[j.MonthsFormat],i[j.MonthsStandalone]],t);return Yn(s,e)}(t,r,i)[n.getMonth()];case be.Days:return function Ex(n,t,e){const i=hn(n),s=Yn([i[j.DaysFormat],i[j.DaysStandalone]],t);return Yn(s,e)}(t,r,i)[n.getDay()];case be.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const h=function Ax(n){const t=hn(n);return C_(t),(t[j.ExtraData][2]||[]).map(i=>"string"==typeof i?Fh(i):[Fh(i[0]),Fh(i[1])])}(t),p=function kx(n,t,e){const i=hn(n);C_(i);const s=Yn([i[j.ExtraData][0],i[j.ExtraData][1]],t)||[];return Yn(s,e)||[]}(t,r,i),g=h.findIndex(m=>{if(Array.isArray(m)){const[y,v]=m,D=o>=y.hours&&a>=y.minutes,I=o<v.hours||o===v.hours&&a<v.minutes;if(y.hours<v.hours){if(D&&I)return!0}else if(D||I)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(-1!==g)return p[g]}return function Dx(n,t,e){const i=hn(n),s=Yn([i[j.DayPeriodsFormat],i[j.DayPeriodsStandalone]],t);return Yn(s,e)}(t,r,i)[o<12?0:1];case be.Eras:return function Tx(n,t){return Yn(hn(n)[j.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Jl(n){return function(t,e,i){const r=-1*i,s=Kn(e,oe.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Bt.Short:return(r>=0?"+":"")+hi(o,2,s)+hi(Math.abs(r%60),2,s);case Bt.ShortGMT:return"GMT"+(r>=0?"+":"")+hi(o,1,s);case Bt.Long:return"GMT"+(r>=0?"+":"")+hi(o,2,s)+":"+hi(Math.abs(r%60),2,s);case Bt.Extended:return 0===i?"Z":(r>=0?"+":"")+hi(o,2,s)+":"+hi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function D_(n){return Zl(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Vh(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=D_(e),o=function Ux(n){const t=Zl(n,0,1).getDay();return Zl(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return hi(r,n,Kn(i,oe.MinusSign))}}function eu(n,t=!1){return function(e,i){return hi(D_(e).getFullYear(),n,Kn(i,oe.MinusSign),t)}}const Bh={};function E_(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function M_(n){return n instanceof Date&&!isNaN(n.valueOf())}function A_(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let oa=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(No(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ge(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(C(Gl),C(na),C(bt),C(On))},n.\u0275dir=te({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class s2{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let aa=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new s2(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),P_(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{P_(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(C(ui),C(Bi),C(Gl))},n.\u0275dir=te({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function P_(n,t){n.context.$implicit=t.item}let pn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new a2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){O_("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){O_("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(C(ui),C(Bi))},n.\u0275dir=te({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class a2{constructor(){this.$implicit=null,this.ngIf=null}}function O_(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ge(t)}'.`)}let L_=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:wn.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(C(bt),C(na),C(On))},n.\u0275dir=te({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),N_=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(C(ui))},n.\u0275dir=te({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_n]}),n})();const _2=new W("DATE_PIPE_DEFAULT_TIMEZONE");let zh=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){if(null==e||""===e||e!=e)return null;try{return Nx(e,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(o){throw function fi(n,t){return new V(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(C(Ei,16),C(_2,24))},n.\u0275pipe=on({name:"date",type:n,pure:!0,standalone:!0}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({}),n})();const B_="browser";function H_(n){return n===B_}let R2=(()=>{class n{}return n.\u0275prov=q({token:n,providedIn:"root",factory:()=>new L2(k(ut),window)}),n})();class L2{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function N2(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U_(this.window.history)||U_(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function U_(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class j_{}class Zh extends class F2 extends class px{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fx(n){Wl||(Wl=n)}(new Zh)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function V2(){return la=la||document.querySelector("base"),la?la.getAttribute("href"):null}();return null==e?null:function B2(n){nu=nu||document.createElement("a"),nu.setAttribute("href",n);const t=nu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){la=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return A_(document.cookie,t)}}let nu,la=null;const $_=new W("TRANSITION_ID"),U2=[{provide:Fl,useFactory:function H2(n,t,e){return()=>{e.get(Vl).donePromise.then(()=>{const i=Mi(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[$_,ut,Cn],multi:!0}];let $2=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const iu=new W("EventManagerPlugins");let ru=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(k(iu),k(nt))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class G_{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Mi().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let W_=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),ua=(()=>{class n extends W_{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(q_),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(q_))}}return n.\u0275fac=function(e){return new(e||n)(k(ut))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function q_(n){Mi().remove(n)}const Qh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jh=/%COMP%/g;function su(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?su(n,r,e):(r=r.replace(Jh,n),e.push(r))}return e}function Y_(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xh=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new ef(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case gi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Y2(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case gi.ShadowDom:return new Z2(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=su(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(k(ru),k(ua),k(ea))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class ef{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Qh[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Q_(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Q_(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Qh[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Qh[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(wn.DashCase|wn.Important)?t.style.setProperty(e,i,r&wn.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&wn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Y_(i)):this.eventManager.addEventListener(t,e,Y_(i))}}function Q_(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Y2 extends ef{constructor(t,e,i,r){super(t),this.component=i;const s=su(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function q2(n){return"_ngcontent-%COMP%".replace(Jh,n)}(r+"-"+i.id),this.hostAttr=function z2(n){return"_nghost-%COMP%".replace(Jh,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Z2 extends ef{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=su(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Q2=(()=>{class n extends G_{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(k(ut))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const J_=["alt","control","meta","shift"],X2={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},X_={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},eP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tP=(()=>{class n extends G_{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mi().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(J_.forEach(u=>{const h=i.indexOf(u);h>-1&&(i.splice(h,1),o+=u+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(e){let i="",r=function nP(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&X_.hasOwnProperty(t)&&(t=X_[t]))}return X2[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),J_.forEach(s=>{s!=r&&(0,eP[s])(e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(k(ut))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const ew=[{provide:ta,useValue:B_},{provide:jb,useValue:function iP(){Zh.makeCurrent()},multi:!0},{provide:ut,useFactory:function sP(){return function _E(n){Fc=n}(document),document},deps:[]}],oP=Jb(cx,"browser",ew),tw=new W(""),nw=[{provide:Bl,useClass:class j2{addToWindow(t){Ue.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ue.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ue.getAllAngularRootElements=()=>t.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(i=>{const r=Ue.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Mi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:Kb,useClass:Mh,deps:[nt,Th,Bl]},{provide:Mh,useClass:Mh,deps:[nt,Th,Bl]}],iw=[{provide:zc,useValue:"root"},{provide:Cs,useFactory:function rP(){return new Cs},deps:[]},{provide:iu,useClass:Q2,multi:!0,deps:[ut,nt,ta]},{provide:iu,useClass:tP,multi:!0,deps:[ut]},{provide:Xh,useClass:Xh,deps:[ru,ua,ea]},{provide:Xg,useExisting:Xh},{provide:W_,useExisting:ua},{provide:ua,useClass:ua,deps:[ut]},{provide:ru,useClass:ru,deps:[iu,nt]},{provide:j_,useClass:$2,deps:[]},[]];let aP=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:ea,useValue:e.appId},{provide:$_,useExisting:ea},U2]}}}return n.\u0275fac=function(e){return new(e||n)(k(tw,12))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({providers:[...iw,...nw],imports:[V_,dx]}),n})(),rw=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(k(ut))},n.\u0275prov=q({token:n,factory:function(e){let i=null;return i=e?new e:function uP(){return new rw(k(ut))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let aw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(e){let i=null;return i=e?new(e||n):k(lw),i},providedIn:"root"}),n})(),lw=(()=>{class n extends aw{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case We.NONE:return i;case We.HTML:return vi(i,"HTML")?Pn(i):Hg(this._doc,String(i)).toString();case We.STYLE:return vi(i,"Style")?Pn(i):i;case We.SCRIPT:if(vi(i,"Script"))return Pn(i);throw new Error("unsafe value used in a script context");case We.URL:return vi(i,"URL")?Pn(i):To(String(i));case We.RESOURCE_URL:if(vi(i,"ResourceURL"))return Pn(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function AE(n){return new DE(n)}(e)}bypassSecurityTrustStyle(e){return function kE(n){return new EE(n)}(e)}bypassSecurityTrustScript(e){return function xE(n){return new ME(n)}(e)}bypassSecurityTrustUrl(e){return function PE(n){return new TE(n)}(e)}bypassSecurityTrustResourceUrl(e){return function OE(n){return new IE(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(k(ut))},n.\u0275prov=q({token:n,factory:function(e){let i=null;return i=e?new e:function yP(n){return new lw(n.get(ut))}(k(Cn)),i},providedIn:"root"}),n})();function ne(...n){let t=n[n.length-1];return he(t)?(n.pop(),re(n,t)):Mt(n)}class Nn extends N{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}class vP extends Te{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class bP extends Te{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function _P(n,t,e,i,r=new bP(n,e,i)){if(!r.closed)return t instanceof F?t.subscribe(r):yt(t)(r)}const uw={};function rf(...n){let t,e;return he(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Zt(n[0])&&(n=n[0]),Mt(n,e).lift(new wP(t))}class wP{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new CP(t,this.resultSelector))}}class CP extends vP{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(uw),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(_P(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,o=this.toRespond?r[i]===uw?--this.toRespond:this.toRespond:0;r[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function ou(...n){return function DP(){return sn(1)}()(ne(...n))}const gr=new F(n=>n.complete());function sf(n){return n?function EP(n){return new F(t=>n.schedule(()=>t.complete()))}(n):gr}function cw(n){return new F(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?X(e):sf()).subscribe(t)})}function Ti(n,t){return new F(t?e=>t.schedule(MP,0,{error:n,subscriber:e}):e=>e.error(n))}function MP({error:n,subscriber:t}){t.error(n)}const qs=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Fn(n,t){return"function"==typeof t?e=>e.pipe(Fn((i,r)=>X(n(i,r)).pipe(R((s,o)=>t(i,s,r,o))))):e=>e.lift(new TP(n))}class TP{constructor(t){this.project=t}call(t,e){return e.subscribe(new IP(t,this.project))}}class IP extends vt{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new Xe(this),r=this.destination;r.add(i),this.innerSubscription=jt(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const dw=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function qr(n){return t=>0===n?sf():t.lift(new SP(n))}class SP{constructor(t){if(this.total=t,this.total<0)throw new dw}call(t,e){return e.subscribe(new AP(t,this.total))}}class AP extends Te{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function hw(...n){const t=n[n.length-1];return he(t)?(n.pop(),e=>ou(n,e,t)):e=>ou(n,e)}function gn(n,t){return function(i){return i.lift(new kP(n,t))}}class kP{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new xP(t,this.predicate,this.thisArg))}}class xP extends Te{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function au(n=null){return t=>t.lift(new PP(n))}class PP{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new OP(t,this.defaultValue))}}class OP extends Te{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function fw(n=NP){return t=>t.lift(new RP(n))}class RP{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new LP(t,this.errorFactory))}}class LP extends Te{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function NP(){return new qs}function mr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gn((r,s)=>n(r,s,i)):L,qr(1),e?au(t):fw(()=>new qs))}function yr(n,t){return et(n,t,1)}function vr(){}function Ze(n,t,e){return function(r){return r.lift(new FP(n,t,e))}}class FP{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new VP(t,this.nextOrObserver,this.error,this.complete))}}class VP extends Te{constructor(t,e,i,r){super(t),this._tapNext=vr,this._tapError=vr,this._tapComplete=vr,this._tapError=i||vr,this._tapComplete=r||vr,Ut(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||vr,this._tapError=e.error||vr,this._tapComplete=e.complete||vr)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function br(n){return function(e){const i=new BP(n),r=e.lift(i);return i.caught=r}}class BP{constructor(t){this.selector=t}call(t,e){return e.subscribe(new HP(t,this.selector,this.caught))}}class HP extends vt{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new Xe(this);this.add(i);const r=jt(e,i);r!==i&&this.add(r)}}}function pw(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new UP(n,t,e))}}class UP{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new jP(t,this.accumulator,this.seed,this.hasSeed))}}class jP extends Te{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function af(n){return function(e){return 0===n?sf():e.lift(new $P(n))}}class $P{constructor(t){if(this.total=t,this.total<0)throw new dw}call(t,e){return e.subscribe(new GP(t,this.total))}}class GP extends Te{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=e++%i;t.next(r[o])}}t.complete()}}function gw(n,t){const e=arguments.length>=2;return i=>i.pipe(n?gn((r,s)=>n(r,s,i)):L,af(1),e?au(t):fw(()=>new qs))}class qP{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new zP(t,this.predicate,this.inclusive))}}class zP extends Te{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class YP{constructor(t){this.value=t}call(t,e){return e.subscribe(new ZP(t,this.value))}}class ZP extends Te{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function lf(n){return t=>t.lift(new QP(n))}class QP{constructor(t){this.callback=t}call(t,e){return e.subscribe(new JP(t,this.callback))}}class JP extends Te{constructor(t,e){super(t),this.add(new ke(e))}}const Ee="primary";class XP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zs(n){return new XP(n)}function eO(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ii(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!mw(n[r],t[r]))return!1;return!0}function mw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function yw(n){return Array.prototype.concat.apply([],n)}function vw(n){return n.length>0?n[n.length-1]:null}function Yt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Gi(n){return Zd(n)?n:Ho(n)?X(Promise.resolve(n)):ne(n)}const iO={exact:function ww(n,t,e){if(!Kr(n.segments,t.segments)||!lu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ww(n.children[i],t.children[i],e))return!1;return!0},subset:Cw},bw={exact:function rO(n,t){return Ii(n,t)},subset:function sO(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>mw(n[e],t[e]))},ignored:()=>!0};function _w(n,t,e){return iO[e.paths](n.root,t.root,e.matrixParams)&&bw[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Cw(n,t,e){return Dw(n,t,t.segments,e)}function Dw(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Kr(r,e)||t.hasChildren()||!lu(r,e,i))}if(n.segments.length===e.length){if(!Kr(n.segments,e)||!lu(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Cw(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Kr(n.segments,r)&&lu(n.segments,r,i)&&n.children[Ee])&&Dw(n.children[Ee],t,s,i)}}function lu(n,t,e){return t.every((i,r)=>bw[e](n[r].parameters,i.parameters))}class zr{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return lO.serialize(this)}}class Ie{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uu(this)}}class ca{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zs(this.parameters)),this._parameterMap}toString(){return Sw(this)}}function Kr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Ew{}class Mw{parse(t){const e=new yO(t);return new zr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${da(t.root,!0)}`,i=function dO(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${cu(e)}=${cu(r)}`).join("&"):`${cu(e)}=${cu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function uO(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const lO=new Mw;function uu(n){return n.segments.map(t=>Sw(t)).join("/")}function da(n,t){if(!n.hasChildren())return uu(n);if(t){const e=n.children[Ee]?da(n.children[Ee],!1):"",i=[];return Yt(n.children,(r,s)=>{s!==Ee&&i.push(`${s}:${da(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function aO(n,t){let e=[];return Yt(n.children,(i,r)=>{r===Ee&&(e=e.concat(t(i,r)))}),Yt(n.children,(i,r)=>{r!==Ee&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ee?[da(n.children[Ee],!1)]:[`${r}:${da(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ee]?`${uu(n)}/${e[0]}`:`${uu(n)}/(${e.join("//")})`}}function Tw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cu(n){return Tw(n).replace(/%3B/gi,";")}function cf(n){return Tw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function du(n){return decodeURIComponent(n)}function Iw(n){return du(n.replace(/\+/g,"%20"))}function Sw(n){return`${cf(n.path)}${function cO(n){return Object.keys(n).map(t=>`;${cf(t)}=${cf(n[t])}`).join("")}(n.parameters)}`}const hO=/^[^\/()?;=#]+/;function hu(n){const t=n.match(hO);return t?t[0]:""}const fO=/^[^=?&#]+/,gO=/^[^&#]+/;class yO{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ee]=new Ie(t,e)),i}parseSegment(){const t=hu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new V(4009,!1);return this.capture(t),new ca(du(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=hu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=hu(this.remaining);r&&(i=r,this.capture(i))}t[du(e)]=du(i)}parseQueryParam(t){const e=function pO(n){const t=n.match(fO);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function mO(n){const t=n.match(gO);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=Iw(e),s=Iw(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=hu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new V(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ee);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ee]:new Ie([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new V(4011,!1)}}function df(n){return n.segments.length>0?new Ie([],{[Ee]:n}):n}function fu(n){const t={};for(const i of Object.keys(n.children)){const s=fu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function vO(n){if(1===n.numberOfChildren&&n.children[Ee]){const t=n.children[Ee];return new Ie(n.segments.concat(t.segments),t.children)}return n}(new Ie(n.segments,t))}function Yr(n){return n instanceof zr}function wO(n,t,e,i,r){if(0===e.length)return Ks(t.root,t.root,t.root,i,r);const s=function xw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kw(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Yt(s.outlets,(u,h)=>{a[h]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new kw(e,t,i)}(e);return s.toRoot()?Ks(t.root,t.root,new Ie([],{}),i,r):function o(u){const h=function DO(n,t,e,i){if(n.isAbsolute)return new Ys(t.root,!0,0);if(-1===i)return new Ys(e,e===t.root,0);return function Pw(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new V(4005,!1);r=i.segments.length}return new Ys(i,!1,r-s)}(e,i+(ha(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,u),p=h.processChildren?pa(h.segmentGroup,h.index,s.commands):ff(h.segmentGroup,h.index,s.commands);return Ks(t.root,h.segmentGroup,p,i,r)}(n.snapshot?._lastPathIndex)}function ha(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fa(n){return"object"==typeof n&&null!=n&&n.outlets}function Ks(n,t,e,i,r){let o,s={};i&&Yt(i,(u,h)=>{s[h]=Array.isArray(u)?u.map(p=>`${p}`):`${u}`}),o=n===t?e:Aw(n,t,e);const a=df(fu(o));return new zr(a,s,r)}function Aw(n,t,e){const i={};return Yt(n.children,(r,s)=>{i[s]=r===t?e:Aw(r,t,e)}),new Ie(n.segments,i)}class kw{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ha(i[0]))throw new V(4003,!1);const r=i.find(fa);if(r&&r!==vw(i))throw new V(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ys{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ff(n,t,e){if(n||(n=new Ie([],{})),0===n.segments.length&&n.hasChildren())return pa(n,t,e);const i=function MO(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],a=e[i];if(fa(a))break;const u=`${a}`,h=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!Rw(u,h,o))return s;i+=2}else{if(!Rw(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Ie(n.segments.slice(0,i.pathIndex),{});return s.children[Ee]=new Ie(n.segments.slice(i.pathIndex),n.children),pa(s,0,r)}return i.match&&0===r.length?new Ie(n.segments,{}):i.match&&!n.hasChildren()?pf(n,t,e):i.match?pa(n,0,r):pf(n,t,e)}function pa(n,t,e){if(0===e.length)return new Ie(n.segments,{});{const i=function EO(n){return fa(n[0])?n[0].outlets:{[Ee]:n}}(e),r={};return Yt(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=ff(n.children[o],t,s))}),Yt(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Ie(n.segments,r)}}function pf(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(fa(s)){const u=TO(s.outlets);return new Ie(i,u)}if(0===r&&ha(e[0])){i.push(new ca(n.segments[t].path,Ow(e[0]))),r++;continue}const o=fa(s)?s.outlets[Ee]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&ha(a)?(i.push(new ca(o,Ow(a))),r+=2):(i.push(new ca(o,{})),r++)}return new Ie(i,{})}function TO(n){const t={};return Yt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=pf(new Ie([],{}),0,e))}),t}function Ow(n){const t={};return Yt(n,(e,i)=>t[i]=`${e}`),t}function Rw(n,t,e){return n==e.path&&Ii(t,e.parameters)}class Wi{constructor(t,e){this.id=t,this.url=e}}class gf extends Wi{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class qi extends Wi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pu extends Wi{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lw extends Wi{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class IO extends Wi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SO extends Wi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AO extends Wi{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class kO extends Wi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xO extends Wi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PO{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OO{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RO{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LO{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NO{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FO{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nw{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Fw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=mf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=yf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return yf(t,this._root).map(e=>e.value)}}function mf(n,t){if(n===t.value)return t;for(const e of t.children){const i=mf(n,e);if(i)return i}return null}function yf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=yf(n,e);if(i.length)return i.unshift(t),i}return[]}class zi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Vw extends Fw{constructor(t,e){super(t),this.snapshot=e,vf(this,t)}toString(){return this.snapshot.toString()}}function Bw(n,t){const e=function BO(n,t){const o=new gu([],{},{},"",{},Ee,t,null,n.root,-1,{});return new Uw("",new zi(o,[]))}(n,t),i=new Nn([new ca("",{})]),r=new Nn({}),s=new Nn({}),o=new Nn({}),a=new Nn(""),u=new _r(i,r,o,a,s,Ee,t,e.root);return u.snapshot=e.root,new Vw(new zi(u,[]),e)}class _r{constructor(t,e,i,r,s,o,a,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(t=>zs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(t=>zs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Hw(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function HO(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class gu{constructor(t,e,i,r,s,o,a,u,h,p,g,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=p,this._correctedLastPathIndex=m??p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uw extends Fw{constructor(t,e){super(e),this.url=t,vf(this,e)}toString(){return jw(this._root)}}function vf(n,t){t.value._routerState=n,t.children.forEach(e=>vf(n,e))}function jw(n){const t=n.children.length>0?` { ${n.children.map(jw).join(", ")} } `:"";return`${n.value}${t}`}function bf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ii(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ii(t.params,e.params)||n.params.next(e.params),function tO(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ii(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ii(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _f(n,t){const e=Ii(n.params,t.params)&&function oO(n,t){return Kr(n,t)&&n.every((e,i)=>Ii(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||_f(n.parent,t.parent))}function ga(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function jO(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ga(n,i,r);return ga(n,i)})}(n,t,e);return new zi(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>ga(n,a)),o}}const i=function $O(n){return new _r(new Nn(n.url),new Nn(n.params),new Nn(n.queryParams),new Nn(n.fragment),new Nn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>ga(n,s));return new zi(i,r)}}const wf="ngNavigationCancelingError";function $w(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Yr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Gw(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Gw(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[wf]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Ww(n){return qw(n)&&Yr(n.url)}function qw(n){return n&&n[wf]}class GO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new ma,this.attachRef=null}}class ma{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new GO,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const mu=!1;let yu=(()=>{class n{constructor(e,i,r,s,o){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.name=r||Ee,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new V(4012,mu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new V(4012,mu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new V(4012,mu);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new V(4013,mu);this._activatedRoute=e;const r=this.location,o=e._futureSnapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new WO(e,a,r.injector);if(i&&function qO(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(o);this.activated=r.createComponent(h,r.length,u)}else this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(C(ma),C(ui),ds("name"),C(di),C(lr))},n.\u0275dir=te({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class WO{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===_r?this.route:t===ma?this.childContexts:this.parent.get(t,e)}}let zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ht({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&f(0,"router-outlet")},dependencies:[yu],encapsulation:2}),n})();function Kw(n,t){return n.providers&&!n._injector&&(n._injector=Ol(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Df(n){const t=n.children&&n.children.map(Df),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ee&&(e.component=zw),e}function Zn(n){return n.outlet||Ee}function Yw(n,t){const e=n.filter(i=>Zn(i)===t);return e.push(...n.filter(i=>Zn(i)!==t)),e}function Zw(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class QO{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),bf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Zs(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Yt(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Zs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Zs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Zs(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new FO(s.value.snapshot))}),t.children.length&&this.forwardEvent(new LO(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(bf(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),bf(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=Zw(r.snapshot),u=a?.get(Ao)??null;o.attachRef=null,o.route=r,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class Qw{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vu{constructor(t,e){this.component=t,this.route=e}}function JO(n,t,e){const i=n._root;return ya(i,t?t._root:null,e,[i.value])}function bu(n,t,e){return(Zw(t)??e).get(n)}function ya(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zs(t);return n.children.forEach(o=>{(function eR(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function tR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Kr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Kr(n.url,t.url)||!Ii(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_f(n,t)||!Ii(n.queryParams,t.queryParams);default:return!_f(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new Qw(i)):(s.data=o.data,s._resolvedData=o._resolvedData),ya(n,t,s.component?a?a.children:null:e,i,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new vu(a.outlet.component,o))}else o&&va(t,a,r),r.canActivateChecks.push(new Qw(i)),ya(n,null,s.component?a?a.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Yt(s,(o,a)=>va(o,e.getContext(a),r)),r}function va(n,t,e){const i=Zs(n),r=n.value;Yt(i,(s,o)=>{va(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new vu(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function ba(n){return"function"==typeof n}const _u=Symbol("INITIAL_VALUE");function Qs(){return Fn(n=>rf(n.map(t=>t.pipe(qr(1),hw(_u)))).pipe(R(t=>{for(const e of t)if(!0!==e){if(e===_u)return _u;if(!1===e||e instanceof zr)return e}return!0}),gn(t=>t!==_u),qr(1)))}function Jw(n){return function O(...n){return B(n)}(Ze(t=>{if(Yr(t))throw $w(0,t)}),R(t=>!0===t))}const Ef={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Xw(n,t,e,i,r){const s=Mf(n,t,e);return s.matched?function vR(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?ne(r.map(o=>{const a=n.get(o),u=function aR(n){return n&&ba(n.canMatch)}(a)?a.canMatch(t,e):a(t,e);return Gi(u)})).pipe(Qs(),Jw()):ne(!0)}(i=Kw(t,i),t,e).pipe(R(o=>!0===o?s:{...Ef})):ne(s)}function Mf(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ef}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||eO)(e,n,t);if(!r)return{...Ef};const s={};Yt(r.posParams,(a,u)=>{s[u]=a.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function wu(n,t,e,i,r="corrected"){if(e.length>0&&function wR(n,t,e){return e.some(i=>Cu(n,t,i)&&Zn(i)!==Ee)}(n,e,i)){const o=new Ie(t,function _R(n,t,e,i){const r={};r[Ee]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Zn(s)!==Ee){const o=new Ie([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[Zn(s)]=o}return r}(n,t,i,new Ie(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function CR(n,t,e){return e.some(i=>Cu(n,t,i))}(n,e,i)){const o=new Ie(n.segments,function bR(n,t,e,i,r,s){const o={};for(const a of i)if(Cu(n,e,a)&&!r[Zn(a)]){const u=new Ie([],{});u._sourceSegment=n,u._segmentIndexShift="legacy"===s?n.segments.length:t.length,o[Zn(a)]=u}return{...r,...o}}(n,t,e,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const s=new Ie(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function Cu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function eC(n,t,e,i){return!!(Zn(n)===i||i!==Ee&&Cu(t,e,n))&&("**"===n.path||Mf(t,n,e).matched)}function tC(n,t,e){return 0===t.length&&!n.children[e]}const Du=!1;class Eu{constructor(t){this.segmentGroup=t||null}}class nC{constructor(t){this.urlTree=t}}function _a(n){return Ti(new Eu(n))}function iC(n){return Ti(new nC(n))}class TR{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=wu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ie(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ee).pipe(R(s=>this.createUrlTree(fu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(br(s=>{if(s instanceof nC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Eu?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ee).pipe(R(r=>this.createUrlTree(fu(r),t.queryParams,t.fragment))).pipe(br(r=>{throw r instanceof Eu?this.noMatchError(r):r}))}noMatchError(t){return new V(4002,Du)}createUrlTree(t,e,i){const r=df(t);return new zr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(R(s=>new Ie([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return X(r).pipe(yr(s=>{const o=i.children[s],a=Yw(e,s);return this.expandSegmentGroup(t,a,o,s).pipe(R(u=>({segment:u,outlet:s})))}),pw((s,o)=>(s[o.outlet]=o.segment,s),{}),gw())}expandSegment(t,e,i,r,s,o){return X(i).pipe(yr(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,s,o).pipe(br(h=>{if(h instanceof Eu)return ne(null);throw h}))),mr(a=>!!a),br((a,u)=>{if(a instanceof qs||"EmptyError"===a.name)return tC(e,r,s)?ne(new Ie([],{})):_a(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,s,o,a){return eC(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):_a(e):_a(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?iC(s):this.lineralizeSegments(i,s).pipe(et(o=>{const a=new Ie(o,{});return this.expandSegment(t,a,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:a,consumedSegments:u,remainingSegments:h,positionalParamSegments:p}=Mf(e,r,s);if(!a)return _a(e);const g=this.applyRedirectCommands(u,r.redirectTo,p);return r.redirectTo.startsWith("/")?iC(g):this.lineralizeSegments(r,g).pipe(et(m=>this.expandSegment(t,e,i,m.concat(h),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=Kw(i,t),i.loadChildren?(i._loadedRoutes?ne({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(R(a=>(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,new Ie(r,{})))):ne(new Ie(r,{}))):Xw(e,i,r,t).pipe(Fn(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(et(p=>{const g=p.injector??t,m=p.routes,{segmentGroup:y,slicedSegments:v}=wu(e,a,u,m),D=new Ie(y.segments,y.children);if(0===v.length&&D.hasChildren())return this.expandChildren(g,m,D).pipe(R(M=>new Ie(a,M)));if(0===m.length&&0===v.length)return ne(new Ie(a,{}));const I=Zn(i)===s;return this.expandSegment(g,D,m,v,I?Ee:s,!0).pipe(R($=>new Ie(a.concat($.segments),$.children)))})):_a(e)))}getChildConfig(t,e,i){return e.children?ne({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?ne({routes:e._loadedRoutes,injector:e._loadedInjector}):function yR(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?ne(!0):ne(r.map(o=>{const a=n.get(o),u=function iR(n){return n&&ba(n.canLoad)}(a)?a.canLoad(t,e):a(t,e);return Gi(u)})).pipe(Qs(),Jw())}(t,e,i).pipe(et(r=>r?this.configLoader.loadChildren(t,e).pipe(Ze(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function ER(n){return Ti(Gw(Du,3))}())):ne({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return ne(i);if(r.numberOfChildren>1||!r.children[Ee])return Ti(new V(4e3,Du));r=r.children[Ee]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new zr(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Yt(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=e[a]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Yt(e.children,(a,u)=>{o[u]=this.createSegmentGroup(t,a,i,r)}),new Ie(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new V(4001,Du);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class SR{}class xR{constructor(t,e,i,r,s,o,a,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=a,this.urlSerializer=u}recognize(){const t=wu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ee).pipe(R(e=>{if(null===e)return null;const i=new gu([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ee,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new zi(i,e),s=new Uw(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=Hw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return X(Object.keys(i.children)).pipe(yr(r=>{const s=i.children[r],o=Yw(e,r);return this.processSegmentGroup(t,o,s,r)}),pw((r,s)=>r&&s?(r.push(...s),r):null),function WP(n,t=!1){return e=>e.lift(new qP(n,t))}(r=>null!==r),au(null),gw(),R(r=>{if(null===r)return null;const s=rC(r);return function PR(n){n.sort((t,e)=>t.value.outlet===Ee?-1:e.value.outlet===Ee?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return X(e).pipe(yr(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),mr(o=>!!o),br(o=>{if(o instanceof qs)return tC(i,r,s)?ne([]):ne(null);throw o}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!eC(e,i,r,s))return ne(null);let o;if("**"===e.path){const a=r.length>0?vw(r).parameters:{},u=oC(i)+r.length;o=ne({snapshot:new gu(r,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lC(e),Zn(e),e.component??e._loadedComponent??null,e,sC(i),u,uC(e),u),consumedSegments:[],remainingSegments:[]})}else o=Xw(i,e,r,t).pipe(R(({matched:a,consumedSegments:u,remainingSegments:h,parameters:p})=>{if(!a)return null;const g=oC(i)+u.length;return{snapshot:new gu(u,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lC(e),Zn(e),e.component??e._loadedComponent??null,e,sC(i),g,uC(e),g),consumedSegments:u,remainingSegments:h}}));return o.pipe(Fn(a=>{if(null===a)return ne(null);const{snapshot:u,consumedSegments:h,remainingSegments:p}=a;t=e._injector??t;const g=e._loadedInjector??t,m=function OR(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:y,slicedSegments:v}=wu(i,h,p,m.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===v.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(R(I=>null===I?null:[new zi(u,I)]));if(0===m.length&&0===v.length)return ne([new zi(u,[])]);const D=Zn(e)===s;return this.processSegment(g,m,y,v,D?Ee:s).pipe(R(I=>null===I?null:[new zi(u,I)]))}))}}function RR(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function rC(n){const t=[],e=new Set;for(const i of n){if(!RR(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=rC(i.children);t.push(new zi(i.value,r))}return t.filter(i=>!e.has(i))}function sC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function oC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function lC(n){return n.data||{}}function uC(n){return n.resolve||{}}const Tf=Symbol("RouteTitle");function cC(n){return"string"==typeof n.title||null===n.title}function If(n){return Fn(t=>{const e=n(t);return e?X(e).pipe(R(()=>t)):ne(t)})}class GR extends class $R{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Sf=new W("ROUTES");let Af=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return ne(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Gi(e.loadComponent()).pipe(Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),lf(()=>{this.componentLoaders.delete(e)})),r=new tr(i,()=>new N).pipe(vn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(R(a=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,h,p=!1;Array.isArray(a)?h=a:(u=a.create(e).injector,h=yw(u.get(Sf,[],se.Self|se.Optional)));return{routes:h.map(Df),injector:u}}),lf(()=>{this.childrenLoaders.delete(i)})),o=new tr(s,()=>new N).pipe(vn());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return Gi(e()).pipe(et(i=>i instanceof eb||Array.isArray(i)?ne(i):X(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(k(Cn),k(wh))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class qR{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function zR(n){throw n}function KR(n,t,e){return t.parse("/")}const YR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wt=(()=>{class n{constructor(e,i,r,s,o,a,u){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new N,this.errorHandler=zR,this.malformedUriErrorHandler=KR,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ne(void 0),this.urlHandlingStrategy=new qR,this.routeReuseStrategy=new GR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get(Af),this.configLoader.onLoadEndListener=m=>this.triggerEvent(new OO(m)),this.configLoader.onLoadStartListener=m=>this.triggerEvent(new PO(m)),this.ngModule=o.get(Gr),this.console=o.get(Ak);const g=o.get(nt);this.isNgZoneEnabled=g instanceof nt&&nt.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=function nO(){return new zr(new Ie([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Bw(this.currentUrlTree,this.rootComponentType),this.transitions=new Nn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(gn(r=>0!==r.id),R(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Fn(r=>{let s=!1,o=!1;return ne(r).pipe(Ze(a=>{this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Fn(a=>{const u=this.browserUrlTree.toString(),h=!this.navigated||a.extractedUrl.toString()!==u||u!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||h)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return hC(a.source)&&(this.browserUrlTree=a.extractedUrl),ne(a).pipe(Fn(g=>{const m=this.transitions.getValue();return i.next(new gf(g.id,this.serializeUrl(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions.getValue()?gr:Promise.resolve(g)}),function IR(n,t,e,i){return Fn(r=>function MR(n,t,e,i,r){return new TR(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(R(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ze(g=>{this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},r.urlAfterRedirects=g.urlAfterRedirects}),function NR(n,t,e,i,r,s){return et(o=>function kR(n,t,e,i,r,s,o="emptyOnly",a="legacy"){return new xR(n,t,e,i,r,o,a,s).recognize().pipe(Fn(u=>null===u?function AR(n){return new F(t=>t.error(n))}(new SR):ne(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r,s).pipe(R(a=>({...o,targetSnapshot:a}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),Ze(g=>{if(r.targetSnapshot=g.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!g.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);this.setBrowserUrl(y,g)}this.browserUrlTree=g.urlAfterRedirects}const m=new IO(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);i.next(m)}));if(h&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:y,source:v,restoredState:D,extras:I}=a,P=new gf(m,this.serializeUrl(y),v,D);i.next(P);const $=Bw(y,this.rootComponentType).snapshot;return ne(r={...a,targetSnapshot:$,urlAfterRedirects:y,extras:{...I,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=a.rawUrl,a.resolve(null),gr}),Ze(a=>{const u=new SO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(u)}),R(a=>r={...a,guards:JO(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),function uR(n,t){return et(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?ne({...e,guardsResult:!0}):function cR(n,t,e,i){return X(n).pipe(et(r=>function mR(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?ne(s.map(a=>{const u=bu(a,t,r);return Gi(function oR(n){return n&&ba(n.canDeactivate)}(u)?u.canDeactivate(n,t,e,i):u(n,t,e,i)).pipe(mr())})).pipe(Qs()):ne(!0)}(r.component,r.route,e,t,i)),mr(r=>!0!==r,!0))}(o,i,r,n).pipe(et(a=>a&&function nR(n){return"boolean"==typeof n}(a)?function dR(n,t,e,i){return X(t).pipe(yr(r=>ou(function fR(n,t){return null!==n&&t&&t(new RO(n)),ne(!0)}(r.route.parent,i),function hR(n,t){return null!==n&&t&&t(new NO(n)),ne(!0)}(r.route,i),function gR(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function XO(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>cw(()=>ne(o.guards.map(u=>{const h=bu(u,o.node,e);return Gi(function sR(n){return n&&ba(n.canActivateChild)}(h)?h.canActivateChild(i,n):h(i,n)).pipe(mr())})).pipe(Qs())));return ne(s).pipe(Qs())}(n,r.path,e),function pR(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return ne(!0);const r=i.map(s=>cw(()=>{const o=bu(s,t,e);return Gi(function rR(n){return n&&ba(n.canActivate)}(o)?o.canActivate(t,n):o(t,n)).pipe(mr())}));return ne(r).pipe(Qs())}(n,r.route,e))),mr(r=>!0!==r,!0))}(i,s,n,t):ne(a)),R(a=>({...e,guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ze(a=>{if(r.guardsResult=a.guardsResult,Yr(a.guardsResult))throw $w(0,a.guardsResult);const u=new AO(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(u)}),gn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,"",3),!1)),If(a=>{if(a.guards.canActivateChecks.length)return ne(a).pipe(Ze(u=>{const h=new kO(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}),Fn(u=>{let h=!1;return ne(u).pipe(function FR(n,t){return et(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return ne(e);let s=0;return X(r).pipe(yr(o=>function VR(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!cC(r)&&(s[Tf]=r.title),function BR(n,t,e,i){const r=function HR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return ne({});const s={};return X(r).pipe(et(o=>function UR(n,t,e,i){const r=bu(n,t,i);return Gi(r.resolve?r.resolve(t,e):r(t,e))}(n[o],t,e,i).pipe(mr(),Ze(a=>{s[o]=a}))),af(1),function KP(n){return t=>t.lift(new YP(n))}(s),br(o=>o instanceof qs?gr:Ti(o)))}(s,n,t,i).pipe(R(o=>(n._resolvedData=o,n.data=Hw(n,e).resolve,r&&cC(r)&&(n.data[Tf]=r.title),null)))}(o.route,i,n,t)),Ze(()=>s++),af(1),et(o=>s===r.length?ne(e):gr))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ze({next:()=>h=!0,complete:()=>{h||(this.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),Ze(u=>{const h=new xO(u.id,this.serializeUrl(u.extractedUrl),this.serializeUrl(u.urlAfterRedirects),u.targetSnapshot);this.triggerEvent(h)}))}),If(a=>{const u=h=>{const p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Ze(g=>{h.component=g}),R(()=>{})));for(const g of h.children)p.push(...u(g));return p};return rf(u(a.targetSnapshot.root)).pipe(au(),qr(1))}),If(()=>this.afterPreactivation()),R(a=>{const u=function UO(n,t,e){const i=ga(n,t._root,e?e._root:void 0);return new Vw(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return r={...a,targetRouterState:u}}),Ze(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>R(i=>(new QO(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ze({next(){s=!0},complete(){s=!0}}),lf(()=>{s||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),br(a=>{if(o=!0,qw(a)){Ww(a)||(this.navigated=!0,this.restoreHistory(r,!0));const u=new pu(r.id,this.serializeUrl(r.extractedUrl),a.message,a.cancellationCode);if(i.next(u),Ww(a)){const h=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hC(r.source)};this.scheduleNavigation(h,"imperative",null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const u=new Lw(r.id,this.serializeUrl(r.extractedUrl),a,r.targetSnapshot??void 0);i.next(u);try{r.resolve(this.errorHandler(a))}catch(h){r.reject(h)}}return gr}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const a={...s};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(r.state=a)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Df),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=i,h=r||this.routerState.root,p=u?this.currentUrlTree.fragment:o;let g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),wO(h,this.currentUrlTree,e,g,p??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Yr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function QR(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new V(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...YR}:!1===i?{...ZR}:i,Yr(e))return _w(this.currentUrlTree,e,r);const s=this.parseUrl(e);return _w(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new qi(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,h;o?(a=o.resolve,u=o.reject,h=o.promise):h=new Promise((m,y)=>{a=m,u=y});const p=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),g=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):g=0,this.setTransition({id:p,targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:a,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new pu(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){Dd()},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();function hC(n){return"imperative"!==n}let kf=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.commands=null,this.onChanges=new N,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Ui(this.skipLocationChange),replaceUrl:Ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ui(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(C(Wt),C(_r),ds("tabindex"),C(On),C(bt))},n.\u0275dir=te({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&Be("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_n]}),n})(),Iu=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new N,this.subscription=e.events.subscribe(s=>{s instanceof qi&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,o){if(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Ui(this.skipLocationChange),replaceUrl:Ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ui(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(C(Wt),C(_r),C(fr))},n.\u0275dir=te({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&Be("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&tn("target",i.target)("href",i.href,Li)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[_n]}),n})(),fC=(()=>{class n{constructor(e,i,r,s,o,a){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Le,this.routerEventsSubscription=e.events.subscribe(u=>{u instanceof qi&&this.update()})}ngAfterContentInit(){ne(this.links.changes,this.linksWithHrefs.changes,ne(null)).pipe(sn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=X(e).pipe(sn()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function JR(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(C(Wt),C(bt),C(On),C(di),C(kf,8),C(Iu,8))},n.\u0275dir=te({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(Jo(r,kf,5),Jo(r,Iu,5)),2&e){let s;at(s=lt())&&(i.links=s),at(s=lt())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[_n]}),n})(),pC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ee);return i}getResolvedTitleForRoute(e){return e.data[Tf]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:function(){return ri(XR)},providedIn:"root"}),n})(),XR=(()=>{class n extends pC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(k(rw))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class gC{}let mC=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(gn(e=>e instanceof qi),yr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Ol(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return X(r).pipe(sn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):ne(null);const s=r.pipe(et(o=>null===o?ne(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?X([s,this.loader.loadComponent(i)]).pipe(sn()):s})}}return n.\u0275fac=function(e){return new(e||n)(k(Wt),k(wh),k(lr),k(gC),k(Af))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const yC=new W("");let eL=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof qi&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Nw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Nw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){Dd()},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const xf=new W("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),vC=new W("ROUTER_FORROOT_GUARD"),bC=new W(""),tL=[ia,{provide:Ew,useClass:Mw},{provide:Wt,useFactory:function aL(n,t,e,i,r,s,o,a={},u,h){const p=new Wt(null,n,t,e,i,r,yw(s));return u&&(p.urlHandlingStrategy=u),h&&(p.routeReuseStrategy=h),p.titleStrategy=o,function lL(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(a,p),p},deps:[Ew,ma,ia,Cn,wh,Sf,pC,xf,[class WR{},new Nr],[class jR{},new Nr]]},ma,{provide:_r,useFactory:function uL(n){return n.routerState.root},deps:[Wt]},Af];function nL(){return new Zb("Router",Wt)}let _C=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[tL,[],wC(e),{provide:vC,useFactory:oL,deps:[[Wt,new Nr,new Do]]},{provide:xf,useValue:i||{}},i?.useHash?{provide:fr,useClass:bx}:{provide:fr,useClass:Lh},{provide:yC,useFactory:()=>{const n=ri(Wt),t=ri(R2),e=ri(xf);return e.scrollOffset&&t.setOffset(e.scrollOffset),new eL(n,t,e)}},i?.preloadingStrategy?mL(i.preloadingStrategy):[],{provide:Zb,multi:!0,useFactory:nL},i?.initialNavigation?dL(i):[],[{provide:CC,useFactory:cL},{provide:$b,multi:!0,useExisting:CC}]]}}static forChild(e){return{ngModule:n,providers:[wC(e)]}}}return n.\u0275fac=function(e){return new(e||n)(k(vC,8),k(Wt,8))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({}),n})();function oL(n){return"guarded"}function wC(n){return[{provide:K0,multi:!0,useValue:n},{provide:Sf,multi:!0,useValue:n}]}function cL(){const n=ri(Cn);return t=>{const e=n.get(Hl);if(t!==e.components[0])return;const i=n.get(Wt),r=n.get(DC);null===n.get(Pf,null,se.Optional)&&i.initialNavigation(),n.get(bC,null,se.Optional)?.setUpPreloading(),n.get(yC,null,se.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const CC=new W("");function dL(n){return["disabled"===n.initialNavigation?[{provide:Fl,multi:!0,useFactory:()=>{const n=ri(Wt);return()=>{n.setUpLocationChangeListener()}}},{provide:Pf,useValue:"disabled"}]:[],"enabledBlocking"===n.initialNavigation?[{provide:Pf,useValue:"enabledBlocking"},{provide:Fl,multi:!0,deps:[Cn],useFactory:n=>{const t=n.get(mx,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const s=n.get(Wt),o=n.get(DC);(function i(r){n.get(Wt).events.pipe(gn(o=>o instanceof qi||o instanceof pu||o instanceof Lw),R(o=>o instanceof qi||o instanceof pu&&(0===o.code||1===o.code)&&null),gn(o=>null!==o),qr(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),s.afterPreactivation=()=>(r(!0),e||o.closed?ne(void 0):o),s.initialNavigation()}))}}]:[]]}const DC=new W("",{factory:()=>new N}),Pf=new W("");function mL(n){return[mC,{provide:bC,useExisting:mC},{provide:gC,useExisting:n}]}let yL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ht({type:n,selectors:[["app-home"]],decls:67,vars:0,consts:[["href","/blog"],["href","/music"],["href","/lifting"],["href","https://github.com/EgillAntonsson"],["href","https://www.maginteractive.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson",1,"image"],["href","https://rawfury.com"],["href","/music;by=4;track=0"]],template:function(e,i){1&e&&(c(0,"h1"),l(1,"Egill Antonsson"),d(),c(2,"h2"),l(3,"Software developer, music artist, weightlifter, earthling, stardust"),d(),c(4,"p"),l(5," Welcome to my website, where I share my passions:"),f(6,"br"),l(7," Software development and "),c(8,"a",0),l(9,"blogging about it"),d(),l(10,", "),c(11,"a",1),l(12,"music"),d(),l(13,", and "),c(14,"a",2),l(15,"weight lifting"),d(),l(16,"."),f(17,"br"),l(18," My code projects are on "),c(19,"a",3),l(20,"GitHub"),d(),l(21,"."),f(22,"br"),l(23," I'm a developer at "),c(24,"a",4),l(25,"MAG Interactive"),d(),l(26," where I develop front-end shared tech for the mobile games."),f(27,"br"),l(28," My "),c(29,"a",5),l(30,"LinkedIn profile"),d(),l(31," sums up my work experience.\n"),d(),c(32,"h2"),l(33,"Background & Family"),d(),c(34,"figure"),f(35,"img",6),c(36,"figcaption"),l(37," The Family, from left to right:"),f(38,"br"),l(39," Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson "),d()(),c(40,"p"),l(41," I was born in 1982 and raised in Reykjavik, Iceland."),f(42,"br"),l(43," Since 2014 I live in Stockholm, Sweden with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."),f(44,"br"),l(45," I'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."),f(46,"br"),d(),c(47,"p"),l(48," I'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir and they live in Iceland."),f(49,"br"),l(50," I have a brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's (un)publishing games like a Boss at "),c(51,"a",7),l(52,"Raw Fury"),d(),l(53,"."),f(54,"br"),d(),c(55,"p"),l(56," Our two older brothers J\xf3nas Bj\xf6rgvin Antonsson and Egill Antonsson passed away before I was born."),f(57,"br"),l(58," They played music and painted pictures and according to family and friends were brilliant boys."),f(59,"br"),l(60," I've digitalized their music that they recorded on a cassette in the early 1970s, you can listen to it under the "),c(61,"a",8),l(62,"J\xf3nas & Egill seniors"),d(),l(63," section in my "),c(64,"a",1),l(65,"music player."),d(),f(66,"br"),d())},encapsulation:2}),n})(),EC=(()=>{class n{constructor(){const e="TDD-ing Avatar Health in Unity (C# .NET)";this.series=[{title:e,posts:[new wr("Part 1 - TDD: What, Why, When ?","tdd-health/part1",e,new Date(2021,11,30),new Date(2022,4,14)),new wr("Part 2 - The assignment: The Avatar Health","tdd-health/part2",e,new Date(2021,11,30),new Date(2022,4,14)),new wr("Part 3 - The implementation begins","tdd-health/part3",e,new Date(2021,11,30),new Date(2022,4,14)),new wr("Part 4 - Taking Damage","tdd-health/part4",e,new Date(2022,0,4),new Date(2022,4,14)),new wr("Part 5 - The Dying part","tdd-health/part5",e,new Date(2022,1,1),new Date(2022,4,14)),new wr("Part 6 - The Replenishing part","tdd-health/part6",e,new Date(2022,4,9),new Date(2022,4,14)),new wr("Part 7 - The Increasing part","tdd-health/part7",e,new Date(2022,4,14)),new wr("Part 8 - Adding the config","tdd-health/part8",e,new Date(2022,7,9))]}],this.selectedPost=this.series[0].posts[0],this.posts=[];for(let i=0;i<this.series.length;i++)for(let r=0;r<this.series[i].posts.length;r++){const s=this.series[i].posts[r];s.index=r,this.posts.push(s)}}getPostWith(e){let i=null;return this.posts.filter(r=>{r.routePath===e&&(i=r)}),i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class wr{constructor(t,e,i,r,s){this.title=t,this.routePath=e,this.seriesTitle=i,this.publishedDate=r,this.updatedDate=s}}const MC=function(n){return{nodeSelected:n}};function vL(n,t){if(1&n){const e=dr();c(0,"div",9),Be("click",function(){const s=rr(e).$implicit;return sr(ve(3).onPostClick(s))}),l(1),d()}if(2&n){const e=t.$implicit,i=ve(3);E("ngClass",Us(2,MC,e===i.selectedPost)),b(1),Re(" ",e.title," ")}}function bL(n,t){if(1&n&&(c(0,"div",7),ye(1,vL,2,4,"div",8),d()),2&n){const e=ve().$implicit;b(1),E("ngForOf",e.posts)}}const TC=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function _L(n,t){if(1&n){const e=dr();c(0,"div")(1,"div",3),Be("click",function(){const s=rr(e).index;return sr(ve().onSeriesClick(s))}),c(2,"div",4),f(3,"div",5),d(),c(4,"span"),l(5),d()(),ye(6,bL,2,1,"div",6),d()}if(2&n){const e=t.$implicit,i=t.index,r=ve();b(3),E("ngClass",Ko(3,TC,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),b(2),je(e.title),b(1),E("ngIf",r.openedUiSeriesIndex===i)}}function wL(n,t){if(1&n){const e=dr();c(0,"div",9),Be("click",function(){const s=rr(e).$implicit;return sr(ve(3).onPostClick(s))}),l(1),d()}if(2&n){const e=t.$implicit,i=ve(3);E("ngClass",Us(2,MC,e===i.selectedPost)),b(1),Re(" ",e.title," ")}}function CL(n,t){if(1&n&&(c(0,"div",7),ye(1,wL,2,4,"div",8),d()),2&n){const e=ve().$implicit;b(1),E("ngForOf",e.posts)}}function DL(n,t){if(1&n){const e=dr();c(0,"div")(1,"div",3),Be("click",function(){const s=rr(e).index;return sr(ve().onSeriesClick(s))}),c(2,"div",4),f(3,"div",5),d(),c(4,"span"),l(5),d()(),ye(6,CL,2,1,"div",6),d()}if(2&n){const e=t.$implicit,i=t.index,r=ve();b(3),E("ngClass",Ko(3,TC,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),b(2),je(e.title),b(1),E("ngIf",r.openedUiSeriesIndex===i)}}let EL=(()=>{class n{constructor(e,i,r){this.blogService=e,this.router=i,this.route=r,this.openedUiSeriesIndex=0,this.selectedSeriesIndex=0,this.router.events.pipe(gn(s=>s instanceof qi)).subscribe(s=>{const o=s.urlAfterRedirects;if("/blog"===o)this.blogService.selectedPost=this.blogService.posts[0],this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route});else{const a=o.substring(o.length-1,o.length);this.blogService.selectedPost=this.blogService.posts[parseInt(a,10)-1]}})}get blogSeries(){return this.blogService.series}get selectedPost(){return this.blogService.selectedPost}onSeriesClick(e){this.openedUiSeriesIndex=e}onPostClick(e){this.selectedSeriesIndex=this.openedUiSeriesIndex,this.blogService.selectedPost=e,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),window.scroll(0,0)}}return n.\u0275fac=function(e){return new(e||n)(C(EC),C(Wt),C(_r))},n.\u0275cmp=ht({type:n,selectors:[["app-blog"]],decls:6,vars:2,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"treeContainer"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(c(0,"div",0),ye(1,_L,7,6,"div",1),d(),f(2,"router-outlet")(3,"br"),c(4,"div",2),ye(5,DL,7,6,"div",1),d()),2&e&&(b(1),E("ngForOf",i.blogSeries),b(4),E("ngForOf",i.blogSeries))},dependencies:[yu,oa,aa,pn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function Su(n,t){return new F(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const u=X(n[a]);let h=!1;e.add(u.subscribe({next:p=>{h||(h=!0,o++),r[a]=p},error:p=>e.error(p),complete:()=>{s++,(s===i||!h)&&(o===i&&e.next(t?t.reduce((p,g,m)=>(p[g]=r[m],p),{}):r),e.complete())}}))}})}let IC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(C(On),C(bt))},n.\u0275dir=te({type:n}),n})(),Zr=(()=>{class n extends IC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=te({type:n,features:[Ce]}),n})();const Qn=new W("NgValueAccessor"),IL={provide:Qn,useExisting:He(()=>wa),multi:!0},AL=new W("CompositionEventMode");let wa=(()=>{class n extends IC{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function SL(){const n=Mi()?Mi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(C(On),C(bt),C(AL,8))},n.\u0275dir=te({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Be("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qe([IL]),Ce]}),n})();function Cr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function AC(n){return null!=n&&"number"==typeof n.length}const nn=new W("NgValidators"),Dr=new W("NgAsyncValidators"),xL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Er{static min(t){return function kC(n){return t=>{if(Cr(t.value)||Cr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function xC(n){return t=>{if(Cr(t.value)||Cr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function PC(n){return Cr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function OC(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function RC(n){return Cr(n.value)||xL.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function LC(n){return t=>Cr(t.value)||!AC(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return NC(t)}static pattern(t){return function FC(n){if(!n)return Au;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Cr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return $C(t)}static composeAsync(t){return GC(t)}}function NC(n){return t=>AC(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Au(n){return null}function VC(n){return null!=n}function BC(n){return Ho(n)?X(n):n}function HC(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function UC(n,t){return t.map(e=>e(n))}function jC(n){return n.map(t=>function PL(n){return!n.validate}(t)?t:e=>t.validate(e))}function $C(n){if(!n)return null;const t=n.filter(VC);return 0==t.length?null:function(e){return HC(UC(e,t))}}function Of(n){return null!=n?$C(jC(n)):null}function GC(n){if(!n)return null;const t=n.filter(VC);return 0==t.length?null:function(e){return function ML(...n){if(1===n.length){const t=n[0];if(Zt(t))return Su(t,null);if(Xn(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Su(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Su(n=1===n.length&&Zt(n[0])?n[0]:n,null).pipe(R(e=>t(...e)))}return Su(n,null)}(UC(e,t).map(BC)).pipe(R(HC))}}function Rf(n){return null!=n?GC(jC(n)):null}function WC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function qC(n){return n._rawValidators}function zC(n){return n._rawAsyncValidators}function Lf(n){return n?Array.isArray(n)?n:[n]:[]}function ku(n,t){return Array.isArray(n)?n.includes(t):n===t}function KC(n,t){const e=Lf(t);return Lf(n).forEach(r=>{ku(e,r)||e.push(r)}),e}function YC(n,t){return Lf(t).filter(e=>!ku(n,e))}class ZC{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Of(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Rf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class mn extends ZC{get formDirective(){return null}get path(){return null}}class Mr extends ZC{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class QC{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Nf=(()=>{class n extends QC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(C(Mr,2))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Ln("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ce]}),n})(),Ff=(()=>{class n extends QC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(C(mn,10))},n.\u0275dir=te({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Ln("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ce]}),n})();const Ca="VALID",Pu="INVALID",Js="PENDING",Da="DISABLED";function Uf(n){return(Ou(n)?n.validators:n)||null}function XC(n){return Array.isArray(n)?Of(n):n||null}function jf(n,t){return(Ou(t)?t.asyncValidators:n)||null}function eD(n){return Array.isArray(n)?Rf(n):n||null}function Ou(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function tD(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new V(1e3,"");if(!i[e])throw new V(1001,"")}function nD(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new V(1002,"")})}class Ru{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=XC(this._rawValidators),this._composedAsyncValidatorFn=eD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ca}get invalid(){return this.status===Pu}get pending(){return this.status==Js}get disabled(){return this.status===Da}get enabled(){return this.status!==Da}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=XC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=eD(t)}addValidators(t){this.setValidators(KC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(KC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(YC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(YC(t,this._rawAsyncValidators))}hasValidator(t){return ku(this._rawValidators,t)}hasAsyncValidator(t){return ku(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Js,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Da,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ca,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ca||this.status===Js)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Da:Ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Js,this._hasOwnPendingAsyncValidator=!0;const e=BC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Da:this.errors?Pu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Js)?Js:this._anyControlsHaveStatus(Pu)?Pu:Ca}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ou(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Lu extends Ru{constructor(t,e,i){super(Uf(e),jf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){nD(this,0,t),Object.keys(t).forEach(i=>{tD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Ea(n,t){$f(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function UL(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iD(n,t)})}(n,t),function $L(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function jL(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iD(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function HL(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Fu(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Bu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Vu(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function $f(n,t){const e=qC(n);null!==t.validator?n.setValidators(WC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=zC(n);null!==t.asyncValidator?n.setAsyncValidators(WC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Vu(t._rawValidators,r),Vu(t._rawAsyncValidators,r)}function Bu(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=qC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=zC(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Vu(t._rawValidators,i),Vu(t._rawAsyncValidators,i),e}function iD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function aD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function lD(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Ta=class extends Ru{constructor(t=null,e,i){super(Uf(e),jf(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ou(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=lD(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){aD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){aD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){lD(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let zf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=te({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const JL={provide:Qn,useExisting:He(()=>Kf),multi:!0};let Kf=(()=>{class n extends Zr{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=te({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&Be("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[qe([JL]),Ce]}),n})(),fD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({}),n})();const Yf=new W("NgModelWithFormControlWarning"),iN={provide:mn,useExisting:He(()=>Ia)};let Ia=(()=>{class n extends mn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Ea(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Fu(e.control||null,e,!1),function zL(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function oD(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Fu(i||null,e),(n=>n instanceof Ta)(r)&&(Ea(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function rD(n,t){$f(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function GL(n,t){return Bu(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$f(this.form,this),this._oldForm&&Bu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(C(nn,10),C(Dr,10))},n.\u0275dir=te({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&Be("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([iN]),Ce,_n]}),n})();const oN={provide:Mr,useExisting:He(()=>Hu)};let Hu=(()=>{class n extends Mr{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Le,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Wf(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===wa?e=s:function qL(n){return Object.getPrototypeOf(n.constructor)===Zr}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Gf(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Nu(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(C(mn,13),C(nn,10),C(Dr,10),C(Qn,10),C(Yf,8))},n.\u0275dir=te({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([oN]),Ce,_n]}),n})();let Qr=(()=>{class n{constructor(){this._validator=Au}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Au,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=te({type:n,features:[_n]}),n})();const bN={provide:nn,useExisting:He(()=>Uu),multi:!0};let Uu=(()=>{class n extends Qr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function _D(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>NC(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275dir=te({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&tn("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([bN]),Ce]}),n})(),wN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[fD]}),n})(),tp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Yf,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[wN]}),n})();class SD extends Ru{constructor(t,e,i){super(Uf(e),jf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){nD(this,0,t),t.forEach((i,r)=>{tD(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function AD(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let CN=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return AD(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new Lu(r,s)}control(e,i,r){let s={};return this.useNonNullable?(AD(i)?s=i:(s.validators=i,s.asyncValidators=r),new Ta(e,{...s,nonNullable:!0})):new Ta(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new SD(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Ta||e instanceof Ru?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:tp}),n})(),kD=(()=>{class n extends CN{group(e,i=null){return super.group(e,i)}control(e,i,r){return super.control(e,i,r)}array(e,i,r){return super.array(e,i,r)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:tp}),n})();var DN=mt(3028);class xD{}class PD{}class Yi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Yi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Yi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Yi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class EN{encodeKey(t){return OD(t)}encodeValue(t){return OD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const TN=/%(\d[a-f0-9])/gi,IN={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function OD(n){return encodeURIComponent(n).replace(TN,(t,e)=>IN[e]??t)}function ju(n){return`${n}`}class Zi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new EN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function MN(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(o)||[];u.push(a),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(ju):[ju(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Zi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ju(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ju(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class SN{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function RD(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function LD(n){return typeof Blob<"u"&&n instanceof Blob}function ND(n){return typeof FormData<"u"&&n instanceof FormData}class Sa{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function AN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Yi),this.context||(this.context=new SN),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Zi,this.urlWithParams=e}serializeBody(){return null===this.body?null:RD(this.body)||LD(this.body)||ND(this.body)||function kN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ND(this.body)?null:LD(this.body)?this.body.type||null:RD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,h=t.params||this.params;const p=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((g,m)=>g.set(m,t.setHeaders[m]),u)),t.setParams&&(h=Object.keys(t.setParams).reduce((g,m)=>g.set(m,t.setParams[m]),h)),new Sa(e,i,s,{params:h,headers:u,context:p,reportProgress:a,responseType:r,withCredentials:o})}}var At=(()=>((At=At||{})[At.Sent=0]="Sent",At[At.UploadProgress=1]="UploadProgress",At[At.ResponseHeader=2]="ResponseHeader",At[At.DownloadProgress=3]="DownloadProgress",At[At.Response=4]="Response",At[At.User=5]="User",At))();class np{constructor(t,e=200,i="OK"){this.headers=t.headers||new Yi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ip extends np{constructor(t={}){super(t),this.type=At.ResponseHeader}clone(t={}){return new ip({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class $u extends np{constructor(t={}){super(t),this.type=At.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new $u({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class FD extends np{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function rp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Sa)s=e;else{let u,h;u=r.headers instanceof Yi?r.headers:new Yi(r.headers),r.params&&(h=r.params instanceof Zi?r.params:new Zi({fromObject:r.params})),s=new Sa(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=ne(s).pipe(yr(u=>this.handler.handle(u)));if(e instanceof Sa||"events"===r.observe)return o;const a=o.pipe(gn(u=>u instanceof $u));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(R(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(R(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(R(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return a.pipe(R(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Zi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,rp(r,i))}post(e,i,r={}){return this.request("POST",e,rp(r,i))}put(e,i,r={}){return this.request("PUT",e,rp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(k(xD))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();class VD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const BD=new W("HTTP_INTERCEPTORS");let xN=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const PN=/^\)\]\}',?\n/;let HD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((y,v)=>r.setRequestHeader(y,v.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=r.statusText||"OK",v=new Yi(r.getAllResponseHeaders()),D=function ON(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new ip({headers:v,status:r.status,statusText:y,url:D}),o},u=()=>{let{headers:y,status:v,statusText:D,url:I}=a(),P=null;204!==v&&(P=typeof r.response>"u"?r.responseText:r.response),0===v&&(v=P?200:0);let $=v>=200&&v<300;if("json"===e.responseType&&"string"==typeof P){const M=P;P=P.replace(PN,"");try{P=""!==P?JSON.parse(P):null}catch(K){P=M,$&&($=!1,P={error:K,text:P})}}$?(i.next(new $u({body:P,headers:y,status:v,statusText:D,url:I||void 0})),i.complete()):i.error(new FD({error:P,headers:y,status:v,statusText:D,url:I||void 0}))},h=y=>{const{url:v}=a(),D=new FD({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:v||void 0});i.error(D)};let p=!1;const g=y=>{p||(i.next(a()),p=!0);let v={type:At.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),"text"===e.responseType&&!!r.responseText&&(v.partialText=r.responseText),i.next(v)},m=y=>{let v={type:At.UploadProgress,loaded:y.loaded};y.lengthComputable&&(v.total=y.total),i.next(v)};return r.addEventListener("load",u),r.addEventListener("error",h),r.addEventListener("timeout",h),r.addEventListener("abort",h),e.reportProgress&&(r.addEventListener("progress",g),null!==s&&r.upload&&r.upload.addEventListener("progress",m)),r.send(s),i.next({type:At.Sent}),()=>{r.removeEventListener("error",h),r.removeEventListener("abort",h),r.removeEventListener("load",u),r.removeEventListener("timeout",h),e.reportProgress&&(r.removeEventListener("progress",g),null!==s&&r.upload&&r.upload.removeEventListener("progress",m)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(k(j_))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})();const op=new W("XSRF_COOKIE_NAME"),ap=new W("XSRF_HEADER_NAME");class UD{}let RN=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=A_(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(k(ut),k(ta),k(op))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),lp=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(k(UD),k(ap))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),LN=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(BD,[]);this.chain=i.reduceRight((r,s)=>new VD(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(k(PD),k(Cn))},n.\u0275prov=q({token:n,factory:n.\u0275fac}),n})(),NN=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:lp,useClass:xN}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:op,useValue:e.cookieName}:[],e.headerName?{provide:ap,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({providers:[lp,{provide:BD,useExisting:lp,multi:!0},{provide:UD,useClass:RN},{provide:op,useValue:"XSRF-TOKEN"},{provide:ap,useValue:"X-XSRF-TOKEN"}]}),n})(),FN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({providers:[sp,{provide:xD,useClass:LN},HD,{provide:PD,useExisting:HD}],imports:[NN.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})(),Aa=(()=>{class n{log(e,i,...r){if(n.IS_ENABLED)switch(e){case"Error":console.error(i,r.join(" "));break;case"Warn":console.warn(i,r.join(" "));break;case"Info":console.log(i,r.join(" "))}}}return n.IS_ENABLED=!1,n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VN=(()=>{class n{constructor(e,i){this.http=e,this.logService=i,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=mt(305),this.creatureList.sort((r,s)=>r.kg>s.kg?-1:1)}loadAndCalculateMyLog(e){this.hasCalculatedMyStats&&e(this.myLiftingStats);let i=0;this.http.get("../../assets/data/FitNotes_Export.csv",{responseType:"text"}).subscribe(s=>{const a=DN.parse(s,{header:!0,skipEmptyLines:!0}),u=a.data,h=a.errors;let p;for(let v=h.length-1;v>=0;v--)p=h[v],this.logService.log("Warn",'Removing row "'+p.row+'". '+p.type+". "+p.code+". "+p.message),u.splice(p.row,1);u.forEach(v=>{const D=v["Weight (kgs)"],I=v.Reps;""!==D&&""!==I&&(i+=parseFloat(D)*parseFloat(I))});const g=this.weightInCreatures(i),m=new Date(u[0].Date),y=new Date(u[u.length-1].Date);this.myLiftingStats={totalKgLifted:i,totalCreaturesLifted:g,firstDate:m,lastDate:y},this.hasCalculatedMyStats=!0,e(this.myLiftingStats)})}weightInCreatures(e){let i=e;const r=[];return this.creatureList.forEach(s=>{let o=0;for(;s.kg<=i;)i-=s.kg,o++;o>0&&r.push({count:o,creature:{name:s.name,kg:s.kg,url:s.url}})}),r}}return n.\u0275fac=function(e){return new(e||n)(k(sp),k(Aa))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BN=(()=>{class n{transform(e,i=0,r="*",s=1){let o;switch(r){case"/":o=e/s;break;case"*":o=e*s;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let a=i;e===Math.trunc(e)&&(a=0);const u=o.toFixed(a),h=[];let p=u.includes(".")?u.indexOf("."):u.length;if(p<3)return u;let m=!0;for(;p>0;)p-=3,p<=0?h.unshift(u.substr(0,3+p)):m?(h.unshift(u.substr(p)),m=!1):h.unshift(u.substr(p,3));return h.join("'")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=on({name:"mynumber",type:n,pure:!0}),n})();function HN(n,t){if(1&n&&(c(0,"li"),l(1),c(2,"a",15),l(3),d(),l(4),js(5,"mynumber"),d()),2&n){const e=t.$implicit;b(1),Re(" ",e.count,"x "),b(1),Nt("href",e.creature.url,Li),b(1),je(e.creature.name),b(1),$o(" (",Zo(5,5,e.creature.kg,1)," kg",e.count>1?" each":"",") ")}}function UN(n,t){1&n&&(c(0,"div"),l(1," Only numbers are allowed (and ' . ' for fraction) "),d())}function jN(n,t){1&n&&(c(0,"div"),l(1," number is too big, reduce it "),d())}function $N(n,t){1&n&&(c(0,"div"),l(1," number is to small, increase it "),d())}function GN(n,t){if(1&n&&(c(0,"div",16),ye(1,UN,2,0,"div",7),ye(2,jN,2,0,"div",7),ye(3,$N,2,0,"div",7),d()),2&n){const e=ve();b(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.pattern),b(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.max),b(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.min)}}function WN(n,t){if(1&n&&(c(0,"li"),l(1),c(2,"a",15),l(3),d(),l(4),js(5,"mynumber"),d()),2&n){const e=t.$implicit;b(1),Re(" ",e.count,"x "),b(1),Nt("href",e.creature.url,Li),b(1),je(e.creature.name),b(1),$o(" (",Zo(5,5,e.creature.kg,1)," kg ",e.count>1?" each":"",") ")}}function qN(n,t){if(1&n&&(c(0,"table")(1,"tr")(2,"th"),l(3,"KGs"),d(),c(4,"th"),l(5,"Creatures"),d()(),c(6,"tr")(7,"td",0),l(8),d(),c(9,"td")(10,"ul"),ye(11,WN,6,8,"li",1),d()()()()),2&n){const e=ve();b(8),je(e.convertLastInputSubmit),b(3),E("ngForOf",e.convertResult)}}let zN=(()=>{class n{constructor(e,i){this.liftingService=e,this.fb=i,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,e.loadAndCalculateMyLog(s=>{this.totalKgLifted=s.totalKgLifted,this.totalCreaturesLifted=s.totalCreaturesLifted,this.firstDate=s.firstDate,this.lastDate=s.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[Er.pattern(/^\d+\.*\d*$/),Er.max(this.maximumInputAllowed),Er.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const e=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||e===this.convertLastInputSubmit||(this.convertLastInputSubmit=e,this.convert(e))}convert(e){this.convertResult=this.liftingService.weightInCreatures(e)}}return n.\u0275fac=function(e){return new(e||n)(C(VN),C(kD))},n.\u0275cmp=ht({type:n,selectors:[["app-lift"]],decls:103,vars:19,consts:[[1,"center"],[4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],[4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["href","https://vimeo.com/57172348"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],[3,"href"],[1,"alert"]],template:function(e,i){1&e&&(c(0,"div")(1,"h2"),l(2,"Progressing on my path to lift the Platinum Dragon!"),d(),c(3,"p"),l(4),js(5,"date"),js(6,"date"),d(),c(7,"table")(8,"tr")(9,"th"),l(10,"Tons lifted"),d(),c(11,"th"),l(12,"Creatures lifted"),d()(),c(13,"tr")(14,"td",0),l(15),js(16,"mynumber"),d(),c(17,"td")(18,"ul"),ye(19,HN,6,8,"li",1),d()()()(),c(20,"p"),l(21," I use "),c(22,"a",2),l(23,"FitNotes"),d(),l(24," app to log my lifting,"),f(25,"br"),l(26," and export the log from it and use it for the above calculation."),f(27,"br"),l(28," No creatures were hurt during the lifting :)\n"),d()(),c(29,"div")(30,"h1"),l(31,"Kg to Creatures converter"),d(),c(32,"div",3)(33,"form",4)(34,"div")(35,"input",5),Be("input",function(){return i.inputEvent()}),d()(),c(36,"sub"),l(37,"kg number in text field is converts to below:"),d(),f(38,"br"),ye(39,GN,4,3,"div",6),d()(),ye(40,qN,12,2,"table",7),c(41,"p"),l(42," The sources for the creature weight list:"),f(43,"br"),c(44,"a",8),l(45,"Metallic dragons of the Forgotten Realms"),d(),f(46,"br"),c(47,"a",9),l(48,"Dinosaur size"),d(),f(49,"br"),c(50,"a",10),l(51,"Adult mammals weight"),d()()(),c(52,"div")(53,"figure"),f(54,"img",11),c(55,"figcaption"),l(56,"Egill Antonsson dealing with the the dragon's breath"),d()()(),c(57,"div")(58,"h2"),l(59,"The beginning of my strength & hyperthropy journey"),d(),c(60,"h3"),l(61,"The first workout"),d(),c(62,"p"),l(63," I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."),f(64,"br"),l(65," My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."),f(66,"br"),l(67," I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."),f(68,"br"),l(69,' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'),f(70,"br"),l(71," Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"),f(72,"br"),l(73," This was a lesson learned for both me and Mummi in how not to begin your training.\n"),d(),c(74,"h3"),l(75,"The first years"),d(),c(76,"p"),l(77," Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."),f(78,"br"),l(79," I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."),f(80,"br"),d(),c(81,"p"),l(82," Gym 80 was founded by "),c(83,"a",12),l(84,"J\xf3n P\xe1ll Sigmarsson"),d(),l(85," who was the first man in history to win the World Strongest Man four times."),f(86,"br"),l(87," He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."),f(88,"br"),l(89," My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "),c(90,"a",13),l(91,'"There is no reason to be alive if you can\'t do deadlift!"'),d(),l(92,","),f(93,"br"),l(94,"\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."),f(95,"br"),l(96,"\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."),f(97,"br"),d()(),c(98,"div")(99,"figure"),f(100,"img",14),c(101,"figcaption"),l(102,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),d()()()),2&e&&(b(4),$o("\nDuring the period ",Zo(5,8,i.firstDate,"d. MMMM yyyy")," - ",Zo(6,11,i.lastDate,"d. MMMM yyyy"),":\n"),b(11),je(function pb(n,t,e,i,r,s){const o=n+22,a=S(),u=os(a,o);return Qo(a,o)?hb(a,un(),t,u.transform,e,i,r,s,u):u.transform(e,i,r,s)}(16,14,i.totalKgLifted,3,"/",1e3)),b(4),E("ngForOf",i.totalCreaturesLifted),b(14),E("formGroup",i.convertForm),b(2),E("maxlength",16),b(4),E("ngIf",i.inputKgControl.invalid),b(1),E("ngIf",i.convertResult.length>0))},dependencies:[aa,pn,zf,wa,Kf,Nf,Ff,Uu,Ia,Hu,zh,BN],styles:["ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]}),n})();class Qi{static validateNumberForRange(t,e,i){if(e>=i)throw new Xs(Xs.msgLowerLimitMustBeLowerThanUpperLimit);if(t>i)throw new Xs(Xs.msgNumberMustNotBeHigherThenUpperLimit);if(t<e)throw new Xs(Xs.msgNumberMustNotBeLowerThenLowerLimit);return t}}let Xs=(()=>{class n{constructor(e){this.name="SoundUtilError",this.message=e}}return n.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit",n.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit",n.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit",n})(),De=(()=>{class n{constructor(e,i,r,s="",o="",a="",u="",h="",p=""){this.defaultArtworkFilename="Egill_Antonsson.png",this.name=e,this.soundDatas=i,this.play=r,this.artworkPath=o,""===o&&(this.artworkPath=n.dir+this.defaultArtworkFilename),this.about=a,this.rootUrl=s,this.soundcloudUrl=u,this.spotifyUrl=h,this.buyUrl=p}}return n.dir="../../assets/tracks/",n})();class ka extends De{constructor(t,e,i,r){super(t,e,i),this.layeredMusicController=r}}function jD(n,t,e,i,r,s,o){try{var a=n[s](o),u=a.value}catch(h){return void e(h)}a.done?t(u):Promise.resolve(u).then(i,r)}function _e(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(u){jD(s,i,r,o,a,"next",u)}function a(u){jD(s,i,r,o,a,"throw",u)}o(void 0)})}}class KN{constructor(t,e,i,r,s,o,a){this._instanceMuted=!1,this.log=a,this._gainNode=t,this.maxGain=e,this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.soundType=o,this.value=this.defaultValue,[i,r].forEach(u=>{u.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),u.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(t){this._gainNode.gain.value=this.muted?0:this.calculateGain(Qi.validateNumberForRange(t,0,1))}get gainNode(){return this._gainNode}calculateGain(t){const e=t*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===e)return 0;if("SFX"===this.soundType){const r=this.dynamicRange.getRangeCenter()+(e-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${r}`),r}return e}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(t=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=t,this}setValueAtTime(t,e){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(t),e),this}exponentialRampToValueAtTime(t,e){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(t),e),this}linearRampToValueAtTime(t,e){return this.muted?this._gainNode?.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(t),e),this)}setTargetAtTime(t,e,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(t),e,i),this)}setValueCurveAtTime(t,e,i){if(this.muted)return this._gainNode.gain;for(let r=0;r<t.length;r++)t[r]=this.calculateGain(t[r]);return this._gainNode.gain.setValueCurveAtTime(t,e,i),this}cancelScheduledValues(t){return this._gainNode.gain.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._gainNode.gain.cancelAndHoldAtTime(t),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(t=>{t.removeAllListeners("GainChange"),t.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class YN{constructor(t,e,i,r,s){this.audioContext=t,this.sourceNode=e,this.analyzerNode=i,this.gainWrapper=r,this.id=s}}class ZN{constructor(t,e,i,r,s,o,a){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=t,this.log=a,this.configMaxNrPlayingAtOnce=e,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?Qi.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,e):this.soundData.loop?1:e,this.maxGainValidated=Qi.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(t=!0){var e=this;return _e(function*(){let i;e.reachedMaxNumberOfPlayingAtOnce&&e.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${e.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),e.firstInstancePromise?(e.log("Info",`[${e.label}]`,"play(): awaiting first instance promise"),i=yield e.firstInstancePromise,e.firstInstancePromise=void 0):(e.log("Info",`[${e.label}]`,"play(): createSoundInstance"),i=yield e.createSoundInstance(t)),e.instances.set(e.id,i),e.log("Info",`Added soundInstance with id '${e.id}' to the instances list which now has the size '${e.instances.size}'`);const r=e.createEndedPromise(i);return e.playSoundInstance(i),{instance:i,endedPromise:r}})()}createEndedPromise(t){return new Promise(e=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(t),e(t),this.instances.delete(t.id)||this.log("Warn",`deleting map with instance id '${t.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${t.id}, list with new size ${this.instances.size}`)},t.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(t){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t.sourceNode.start()}createSoundInstance(t){var e=this;return _e(function*(){const i=e.audioCtx.createBufferSource();i.buffer=e.sourceNodeBuffer?e.sourceNodeBuffer:e.sourceNodeBuffer=yield e.loadSound(),i.loop=e.soundData.loop;const r=e.audioCtx.createGain(),s=new KN(r,e.maxGainValidated,e.soundTypeGain,e.masterGain,e.dynamicRange,e.soundData.soundType,e.log),o=e.audioCtx.createAnalyser();return t&&i.connect(s.gainNode).connect(o).connect(e.audioCtx.destination),++e.id,e.log("Info",`Creating sound instance for key '${e.soundData.key}' with id '${e.id}'`),new YN(e.audioCtx,i,o,s,e.id)})()}loadSound(){var t=this;return _e(function*(){t.log("Info",`Loading sound with key '${t.soundData.key}'`);const i=yield(yield fetch(t.soundData.url)).arrayBuffer();return yield t.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.id=-1)}disposeInstance(t){return t.sourceNode.removeEventListener("ended",this.endedListener),t.sourceNode.stop(),t.gainWrapper.dispose(),t.sourceNode.disconnect(),t.analyzerNode.disconnect(),t}dispose(){this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var up=mt(9069);class QN extends up.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}class cp extends QN{constructor(t,e){super(t),this._muted=e}get muted(){return this._muted}set muted(t){this._muted=t}}class JN extends up.EventEmitter{constructor(t,e){super(),this._lowValue=0,this._highValue=1,this.lowValue=t,this.highValue=e}get lowValue(){return this._lowValue}set lowValue(t){this._lowValue=t}get highValue(){return this._highValue}set highValue(t){this._highValue=t}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class XN{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new JN(0,1),this._musicGain=new cp(1,!1),this._sfxGain=new cp(1,!1),this._masterGain=new cp(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(t){this._musicGain.value=Qi.validateNumberForRange(t,0,1),this._musicGain.emit("GainChange")}set musicMuted(t){this._musicGain.muted=t,this._musicGain.emit("MuteChange")}set sfxGain(t){this._sfxGain.value=Qi.validateNumberForRange(t,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(t){this._sfxGain.muted=t,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(t){this._masterGain.value=Qi.validateNumberForRange(t,0,1),this._masterGain.emit("GainChange")}set masterMuted(t){this._masterGain.muted=t,this._masterGain.emit("MuteChange")}set maxNrPlayingAtOncePerSound(t){this._maxNrPlayingAtOncePerSound=Qi.validateNumberForRange(t,1,24),this.sounds.forEach(e=>{e.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(t,e){this.log=e,this.audioContext=new(t.AudioContext||t.webkitAudioContext)}setDynamicRange(t,e){t>e&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${t}' must be lower than highValue '${e}', not setting new Dynamic Range`),this.dynamicRange.lowValue=Qi.validateNumberForRange(t,0,1),this.dynamicRange.highValue=Qi.validateNumberForRange(e,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(t){const e="Music"===t.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new ZN(t,this._maxNrPlayingAtOncePerSound,e,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(t.key,i),i}updateEmitterMaxListeners(t){const e=2*t*24;this._masterGain.setMaxListeners(e),this._musicGain.setMaxListeners(e),this._sfxGain.setMaxListeners(e),this.dynamicRange.setMaxListeners(e)}addToList(t,e){this.sounds.has(t)?this.log("Warn",`Sound with the key '${t}' is already in to SoundManager, not adding it again`):this.sounds.set(t,e)}playSound(t){const e=this.sounds.get(t);return e?e.play():(this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${t}', not in SoundManager`),null)}getSound(t){const e=this.sounds.get(t);if(!e)throw new $D($D.msgSoundNotInManager);return e}hasSound(t){return this.sounds.has(t)}stopSound(t){const e=this.sounds.get(t);e?e.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}stopMusic(){this.sounds.forEach(t=>{"Music"===t.soundData.soundType&&t.stop()})}stopAllSounds(){this.sounds.forEach(t=>{t.stop()})}purge(){this.sounds.forEach(t=>{t.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}let $D=(()=>{class n{constructor(e){this.name="SoundManagerError",this.message=e}}return n.msgSoundNotInManager="Sound Not In Manager",n})(),dp=(()=>{class n{constructor(){this._instance=new XN}get instance(){return this._instance}injectMocksForTests(e){this._instance=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tF=(()=>{class n{get nativeWindow(){return function eF(){return window}()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class H{constructor(t,e,i,r,s,o=1){this.key=t,this.url=e,this.maxGain=i,this.soundType=r,this.loop=s,this.maxNrPlayingAtOnce=o}static music(t,e,i=1){return new H(t,e,i,"Music",!1,1)}static musicLoop(t,e,i=1){return new H(t,e,i,"Music",!0,1)}static sfx(t,e,i){return new H(t,e,i,"SFX",!1,1)}static sfxLoop(t,e,i){return new H(t,e,i,"SFX",!0,1)}}class GD{constructor(t,e,i=3,r=30,s=20,o=!0,a=0,u=0){this.instanceEndedListeners=t,this.log=e,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=r,this.fadeDurationSec=s,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=a,this.maxLayerValue=u,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=a}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(t){this._gainsDisabled=t}start(t){this._layerSoundInstances=t,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let e=this.layerIndexToBeDecremented+1;e<this._layerSoundInstances.length;e++)this._layerSoundInstances[e].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,t),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(t){t&&!this._gainsDisabled.value&&(this._gainsDisabled.value=t,this._gainsDisabled.emit("Change",t))}setFadeTimeout(t,e,i){t.set(e,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),t.delete(e),0===t.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===e&&this.instanceEndedListeners.forEach(r=>r(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const t=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);t&&clearTimeout(t),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.unmuteInstance(e.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeInTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}let nF=(()=>{class n{constructor(e,i){this.soundManager=e,this.logService=i,this.pathRoot="../../assets/audio",this.pathGame=`${this.pathRoot}/game`,this.pathKuai=`${this.pathRoot}/kuai`,this.pathBrothers=`${this.pathRoot}/braedraminning`,this._isInitialized=!1,this._instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}getTrackByRootUrl(e){return this._tracksByRootUrl.get(e)}get instancePlayedListeners(){return this._instancePlayedListeners}get timeout(){return this._timeout}set timeout(e){this._timeout=e}init(){this._isInitialized||(this._byTracks=[{name:"Egill Antonsson",tracks:[this.harmoniesOfShadeAndLight(),this.weWillMeetAgain(),this.magmaMerryGoRound(),this.votThemeSong(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace(),this.lecube()],about:this.aboutEgillAntonsson},{name:"TribeOfOranges",tracks:[this.introduction(),this.routine(),this.hhiCommercial()],about:this.aboutTribeOfOranges},{name:"KUAI",tracks:[this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()],about:this.aboutKuai},{name:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()],about:""},{name:"Game Music",tracks:[this.cakePopParty(),this.symbol6(),this.softFreakFiesta(),this.habitarium(),this.tinyPlaces(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.godsrule(),this.vot(),this.crisisGame()],about:""},{name:"Br\xe6\xf0raminning",tracks:[this.pesi2002(),this.mouse2002(),this.rubber2002(),this.solos2002(),this.takeCare2002(),this.beLikeYou2002(),this.story2002(),this.frumlag2002(),this.world2002(),this.withoutThem2002(),this.myDearOldBrothers(),this.pesi1974(),this.mouse1975(),this.rubber1975(),this.solos1975(),this.takeCare1976(),this.beLikeYou1976(),this.story1976(),this.frumlag1977(),this.world1977(),this.withoutThem1977()],about:this.aboutBraedraminning}],this.flattenTracks(),this._isInitialized=!0)}get aboutEgillAntonsson(){return"I started playing the piano around the age of 7.<br>\nIn my teenage years I added guitar (inspired by <a href=\"https://www.slashonline.com/\">Slash</a> and others),<br>\nelectric bass (because all in the band can't be guitarists), and singing.<br>\nThrough the years I've been in various bands, projects and collaborations,<br>\nand the tracks that I drove (often including collaborations with others) are published under my name.\n"}get pathToDirEgillAntonsson(){return De.dir+"egillantonsson/"}get pathToDirBraedraminning(){return De.dir+"braedraminning/"}get aboutBraedraminning(){return"My parents kept a cassette with the recordings of the songs my older brothers made.<br>\n\t\tTo make sure the songs survived that old cassette,<br>\n\t\tI published the album Br\xe6\xf0raminning, which also includes my takes on their songs.\n\t\t"}get aboutTribeOfOranges(){return"A partnership with my friend <b>Sindri Bergmann Thorarinsson</b>.<br>\n\t\tWe coined the name when we needed to, which can be shortened to <b>TOO</b>.<br>\n\t\tMe and <b>Sindri</b> have done a lot together, although not always under this name."}get pathToDirTribeOfOranges(){return De.dir+"too/"}get aboutKuai(){return""}get braedraminningArtworkPath(){return`${this.pathToDirBraedraminning}braedraminning.jpeg`}get aboutBraedraminningTake2002(){return"My take on this song, recorded and mixed in 2001-2002.<br>\n\t\t<b>Sindri Bergmann Thorarinsson</b> mastered it as far as could be done in 2022.\n\t"}get pathToDirKuai(){return De.dir+"kuai/"}flattenTracks(){this._tracksByRootUrl=new Map,this._flatTracks=[];let e=0;for(let i=0;i<this._byTracks.length;i++)for(let r=0;r<this._byTracks[i].tracks.length;r++){const s=this._byTracks[i].tracks[r];s.index=e++;const o=this._byTracks[i];s.artistName=o.name,s.artistAbout=o.about,this._flatTracks.push(s),this._tracksByRootUrl.set(s.rootUrl,s)}}simpleTrack(e,i,r,s,o,a,u,h){var p=this;const g=new De(i,[H.music(e,r)],()=>_e(function*(){const m=p.soundManager.instance.getSound(g.soundDatas[0].key),{instance:y,endedPromise:v}=yield m.play();p.instancePlayedListeners.forEach(D=>D(y)),yield v,p.instanceEndedListeners.forEach(D=>D(!0))}),e,s,h,o,a,u);return g}pesi2002(){const e="pesi-year-2002";return this.simpleTrack(e,"P\xe9si (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/pesi-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6viU3JhxNEKkY2paBuOEaP","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}mouse2002(){const e="mouse-year-2002";return this.simpleTrack(e,"Mouse (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/mouse-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/1f2eGiZiCMOMZZbKc52IIH","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI did my take on the lyrics, thus differing to some extent.\n")}rubber2002(){const e="rubber-year-2002";return this.simpleTrack(e,"Rubber (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/rubber-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/23kZ3ftMMyigpXU49Rq35Q","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}solos2002(){const e="solos-year-2002";return this.simpleTrack(e,"Solos (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5J8kU1mdqcqKZ0Wb3sxrqj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}takeCare2002(){const e="take-care-year-2002";return this.simpleTrack(e,"Take Care (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6xiCd9HFh0SaJEngXtgldj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}beLikeYou2002(){const e="be-like-you-year-2002";return this.simpleTrack(e,"Be Like You (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/be-like-you-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/4zcgAvMsU46YVTKGmS8vJA","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}story2002(){const e="story-year-2002";return this.simpleTrack(e,"Story (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/story-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/0zcnfEWqzmaCfp7hsbcA9Z","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI 'upped the drama' in the lyrics by knocking the headmaster OUT, instead of down.<br>\nI don't remember if it was intentional or not.\n")}frumlag2002(){const e="frumlag-year-2002";return this.simpleTrack(e,"Frumlag (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/frumlag-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5fFuGjJMqLS0iPMmiZ3SBc","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}world2002(){const e="world-year-2002";return this.simpleTrack(e,"World (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/world-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5EFT7M2r9kiJqPn2EtXNoz","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI think I 'upped the drama' in the lyrics with 'The world is nothing except hate'<br>\nas it could be that Egill sung 'The world is nothing I say \"Hey\"'.<br>\nI also added lyrics where missing, etc.<br>\n")}withoutThem2002(){const e="without-them-year-2002";return this.simpleTrack(e,"Without them (year 2002)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/without-them-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5cfstB4Y5eIFI79e4KBAk8","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI kept with the 'no no no' like in the original (probably the lyrics were not ready)<br>\nand in fact went all in on 'no no no' and other sounds :)\n")}myDearOldBrothers(){const e="my-dear-old-brothers";return this.simpleTrack(e,"My Dear Old Brothers",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/my-dear-old-brothers?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6mnJyUYVPeoEx8oKUBu4Zw","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","I saw a chord progression with the title 'Lady Lobo' written in a note book that belonged to the brothers.<br>\nI thought this might be an original song and thus wanted to bring it to life for the album.<br>\nI added details and shaped the song (making some changes)<br>\nand wrote the lyrics (changing the title with it).\n")}pesi1974(){const e="pesi-year-1974";return this.simpleTrack(e,"P\xe9si (year 1974)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/pesi-year-1974?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5wmAzE3Mc0uWjhjxRf95OQ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","J\xf3nas wrote this song for Egill to play on the wurlitzer piano.<br>\nRecorded with their band playing that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}mouse1975(){const e="mouse-year-1975";return this.simpleTrack(e,"Mouse (year 1975)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/mouse-year-1975?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/3qtGfywTgrjxBMQcCdN1xo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer and vocals<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}rubber1975(){const e="rubber-year-1975";return this.simpleTrack(e,"Rubber (year 1975)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/rubber-year-1975?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/700fVJsCrH4BBpsMW7B60t","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer and vocals<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}solos1975(){const e="solos-year-1975";return this.simpleTrack(e,"Solos (year 1975)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/solos-year-1975?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/3X7wZlcTxFwkLs7rvEkkWZ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - organ<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}takeCare1976(){const e="take-care-year-1976";return this.simpleTrack(e,"Take Care (year 1976)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/take-care-year-1976?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/2V0X8p2Tefcg5MTrnuuplo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing by himself.<br>\nI think this is shortly after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n")}beLikeYou1976(){const e="be-like-you-year-1976";return this.simpleTrack(e,"Be Like You (year 1976)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/be-like-you-year-1976?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/23YxXCBVwziMTdJnIGqLZx","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing by himself.<br>\nI think this is not long after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n")}story1976(){const e="story-year-1976";return this.simpleTrack(e,"Story (year 1976)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/story-year-1976?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/47Tf6lPTTaibh0LFGi6ULh","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing by himself.<br>\nI think this is not long after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n")}frumlag1977(){const e="frumlag-year-1977";return this.simpleTrack(e,"Frumlag (year 1977)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/frumlag-year-1977?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/1TV6QGFbW0mdtO8GqXCfay","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - organ<br>\n(I will list the band mates later when I have my notes)\n")}world1977(){const e="world-year-1977";return this.simpleTrack(e,"World (year 1977)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/world-year-1977?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6dI0WypRxmbUK7Rw9TaHpT","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - vocals (and maybe guitar)<br>\n(I will list the band mates later when I have my notes)\n")}withoutThem1977(){const e="without-them-year-1977";return this.simpleTrack(e,"Without them (year 1977)",`${this.pathToDirBraedraminning}${e}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/without-them-year-1977?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/0rcIAwxbRtRhYbKX0bq142","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - vocals (and maybe guitar)<br>\n(I will list the band mates later when I have my notes)\n")}votThemeSong(){var e=this;const i=new De("Vikings of Thule Theme Song",[H.music("votThemeSong",`${this.pathRoot}/Vikings_of_Thule__Theme_Song.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}harmoniesOfShadeAndLight(){const e="harmonies-of-shade-and-light",r=`${this.pathToDirEgillAntonsson}${e}`;return this.simpleTrack(e,"Harmonies of Shade and Light",`${r}.ogg`,`${r}.jpg`,"https://soundcloud.com/egill-antonsson/harmonies-of-shade-and-light","https://open.spotify.com/track/1xHXUKERh3a6elM9VdPIUW","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc",'I got the idea of this song when I was with the family in Thailand at the beginning of 2017.<br>\nI borrowed a guitar with missing strings and created a harmony pattern and sung a melody over it.<br>\nIn circa 2019 I recorded the guitars and arranged the percussions from <a href="https://www.thelooploft.com/collections/drum-loops" target="_blank">The Loop Loft</a>.<br>\nIn the spring of 2021 my friend and music partner <b>Sindri Bergmann Thorarinsson</b><br>\nhelped me structure the song and write the lyrics,<br>\nand he recorded my vocals in his studio in Reykjavik.<br>\nIn April 2022 I recorded the rest of the instruments, processed and mixed the song.\n')}weWillMeetAgain(){const e="we-will-meet-again",r=`${this.pathToDirEgillAntonsson}${e}`;return this.simpleTrack(e,"We Will Meet Again",`${r}.ogg`,`${r}.jpg`,"https://soundcloud.com/egill-antonsson/we-will-meet-again","https://open.spotify.com/track/27t1JaFQlOX6hhkVC6d59Z","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib","In the spring of 2021 my friend and music partner <b>Sindri Bergmann Thorarinsson</b><br> asked me to collaborate with him to make a pop song.<br>\nAlthough we've played some pop over the years, we have not focused on creating one per se.<br>\nSo our goal now was to focus on the 'formula of what makes a good (modern) pop song',<br>\nand also speed up our workflow to complete the song in couple of days (from start to finish).<br>\nWe created the song and lyrics together, I sang in the lyrics and <b>Sindri</b> mixed, processed and polished the whole song.<br>\nWe put the song under artist Egill Antonsson (for convenience) although it's truly a collaboration.\n")}magmaMerryGoRound(){const e="magma-merryGoRound",r=`${this.pathToDirEgillAntonsson}${e}`;return this.simpleTrack(e,"Magma merryGoRound",`${r}.ogg`,`${r}.jpg`,"https://soundcloud.com/egill-antonsson/magma-merrygoround","https://open.spotify.com/track/06bQmD7bI6N1qGDeIVsGYR","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja",'Released at the <a href="https://edisonparty.com">Edison demo-party</a> in 2021 under my new handle/pseudonym <b>Vulkanoman</b>.<br>\nMy original title for the tune was \'Tivoli Chase Cop 27/16\' but I renamed<br>\nas I got more and more inspired by my recent trip to the then ongoing volcano eruption in <a href="https://en.wikipedia.org/wiki/Fagradalsfjall">Fagradallsfjall in Iceland</a>\n')}justInTime(){var e=this;const i=new De("Just in Time",[{url:`${this.pathRoot}/Just_in_Time.ogg`,key:"justInTime",soundType:"Music",maxGain:1,loop:!1,maxNrPlayingAtOnce:1}],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key);let s=2;do{const{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(1===s)),s--}while(s>0)}));return i}icelandSocksIntro(){var e=this;const i=new De("Iceland Socks: Intro",[H.music("icelandSocksIntro",`${this.pathRoot}/Iceland_Socks__Intro.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}fortidin(){var e=this;const i=new De("Fort\xed\xf0in",[H.music("fortidin",`${this.pathRoot}/Fortidin.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}toddlerTune(){var e=this;const i=new De("Toddler Tune",[H.music("toddlerTune",`${this.pathRoot}/Toddler_Tune.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}oddTimesInSpace(){var e=this;const i=new De("Odd Times in Space",[H.music("oddTimesInSpace",`${this.pathRoot}/Odd_Times_in_Space.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}lecube(){var e=this;const i=new De("Lecube",[H.music("lecube",`${this.pathRoot}/Lecube.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}introduction(){var e=this;const i="Introduction",r=new De(i,[H.music(i,`${this.pathToDirTribeOfOranges}${i}.aac`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),`${this.pathToDirTribeOfOranges}${i}.jpg`,this.aboutIntroduction);return r}get aboutIntroduction(){return"<b>Sindri Bergmann Thorarinsson</b> and me made this for a theatre play,<br>\nand it was played at the start of it, and thus it's named <b>Introduction</b>.<br>\nFor the artwork I chose the 'the indian head', which is a valuable family artifact.\n"}routine(){var e=this;const i=new De("Routine",[H.music("routine",`${this.pathRoot}/Routine.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}hhiCommercial(){var e=this;const i=new De("Song for HHI commercial",[H.music("hhiCommercial",`${this.pathRoot}/Song_for_HHI_commercial.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}pirringur(){var e=this;const i="Pirringur",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai,this.aboutPirringur);return r}get artworkKuai(){return`${this.pathToDirKuai}KUAI.jpg`}get aboutPirringur(){return""}apollo(){var e=this;const i="Apollo",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}andsetinn(){var e=this;const i="Andsetinn",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}hamskipti(){var e=this;const i="Hamskipti",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}rover(){var e=this;const i="Rover",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}andefni(){var e=this;const i="Andefni",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}agndofa(){var e=this;const i="Agndofa",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}ofurte(){var e=this;const i="Ofurte",r=new De(i,[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}lesblindaI(){var e=this;const i="Lesblinda-I",r=new De(i.split("-").join(" "),[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}lesblindaII(){var e=this;const i="Lesblinda-II",r=new De(i.split("-").join(" "),[H.music(i,`${this.pathToDirKuai}${i}.ogg`)],()=>_e(function*(){const s=e.soundManager.instance.getSound(r.soundDatas[0].key),{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u(!0))}),i.toLowerCase(),this.artworkKuai);return r}godsruleLayered(){var e=this;const i=new ka("Godsrule: Village",[H.musicLoop("godsruleEnvironmentLayer",`${this.pathGame}/loton_MusicVillageEnvironmentLayer.ogg`,.075),H.musicLoop("godsruleStringLayer",`${this.pathGame}/loton_MusicVillageStringLayer.ogg`,.55),H.musicLoop("godsruleHarpLayer",`${this.pathGame}/loton_MusicVillageHarpLayer.ogg`,.4),H.musicLoop("godsrulePianoLayer",`${this.pathGame}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>_e(function*(){const r=[e.soundManager.instance.getSound(i.soundDatas[0].key),e.soundManager.instance.getSound(i.soundDatas[1].key),e.soundManager.instance.getSound(i.soundDatas[2].key),e.soundManager.instance.getSound(i.soundDatas[3].key)],s=[];for(let o=0;o<r.length;o++){const a=r[o],{instance:u}=yield a.play();s.push(u),e.instancePlayedListeners.forEach(h=>h(u))}i.layeredMusicController.start(s)}),new GD(this.instanceEndedListeners,this.logService.log));return i}votLayered(){var e=this;const i=new ka("Vikings of Thule: Map",[H.musicLoop("votWindLayer",`${this.pathGame}/VOT_InterfaceMusic_0.mp3`),H.musicLoop("votChoirLayer",`${this.pathGame}/VOT_InterfaceMusic_3.ogg`),H.musicLoop("votHarpLayer",`${this.pathGame}/VOT_InterfaceMusic_2.ogg`),H.musicLoop("votMelodyLayer",`${this.pathGame}/VOT_InterfaceMusic_1.ogg`)],()=>_e(function*(){const r=[e.soundManager.instance.getSound(i.soundDatas[0].key),e.soundManager.instance.getSound(i.soundDatas[1].key),e.soundManager.instance.getSound(i.soundDatas[2].key),e.soundManager.instance.getSound(i.soundDatas[3].key)],s=[];for(let o=0;o<r.length;o++){const a=r[o],{instance:u}=yield a.play();s.push(u),e.instancePlayedListeners.forEach(h=>h(u))}i.layeredMusicController.start(s)}),new GD(this.instanceEndedListeners,this.logService.log));return i}cakePopParty(){var e=this;const i=new De("Cake Pop Party",[H.music("cppMusicIntro",`${this.pathGame}/CPP_workMusicIntroScreen.ogg`,.7),H.music("cppMusicScaleBeat",`${this.pathGame}/CPP_musicTransitionBeatFade.ogg`,.6),H.music("cppMusicMakePop",`${this.pathGame}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield o.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}));return i}symbol6(){var e=this;const i=new De("Symbol 6",[H.music("ssixMenu",`${this.pathGame}/SSIX_menu.ogg`),H.music("ssixGame",`${this.pathGame}/SSIX_game.ogg`),H.music("ssixHexago",`${this.pathGame}/SSIX_HexagoTune.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield o.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}));return i}softFreakFiesta(){var e=this;const i=new De("Soft Freak Fiesta",[H.music("sffIntroMenuMusic",`${this.pathGame}/SFF_IntroMenuMusic.ogg`,.9),H.music("sffMenuMusic",`${this.pathGame}/SFF_MenuMusic.ogg`,.9),H.music("sffLevelMusicNoEnv",`${this.pathGame}/SFF_LevelMusic_noEnv.ogg`),H.music("sffLevelMusicBubbling",`${this.pathGame}/SFF_LevelMusic_bubbling.ogg`),H.music("sffLoseJingle",`${this.pathGame}/SFF_LoseJingle.ogg`,.9),H.music("sffWinJingle",`${this.pathGame}/SFF_WinJingle.ogg`,.9)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key),a=e.soundManager.instance.getSound(i.soundDatas[3].key),u=e.soundManager.instance.getSound(i.soundDatas[4].key),h=e.soundManager.instance.getSound(i.soundDatas[5].key);let g,p=!0;g=yield r.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y());let m=2;do{g=yield s.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y()),g=yield o.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y()),g=yield a.play(),e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y()),g=p?yield u.play():yield h.play(),p=!p,e.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,e.instanceEndedListeners.forEach(y=>y(1===m)),--m}while(m>0)}));return i}habitarium(){var e=this;const i=new De("Habitarium",[H.music("habitariumMainTheme",`${this.pathGame}/Habitarium_main_theme.ogg`,.9),H.music("habitariumInGameLoop",`${this.pathGame}/Habitarium_InGameLoop.ogg`,.8)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key);let o,a=2;do{o=yield r.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u()),o=yield s.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u(1===a)),a--}while(a>0)}));return i}tinyPlaces(){var e=this;const i=new De("Tiny Places",[H.music("tpMainThemeIntro",`${this.pathGame}/TP_mainThemeIntro.ogg`,.8),H.music("tpMainThemeBridge",`${this.pathGame}/TP_mainThemeBridge.ogg`,.8),H.music("tpSpaceWorld",`${this.pathGame}/TP_spaceWorld.ogg`,.8),H.music("tpTomb",`${this.pathGame}/TP_tomb.ogg`,.8),H.music("tpLazyStyle",`${this.pathGame}/TP_lazyStyle.ogg`,.8),H.music("tpCutScene",`${this.pathGame}/TP_cutScene.ogg`,.8),H.music("tpInGame",`${this.pathGame}/TP_inGame.ogg`,.8),H.music("tpOutOfTime",`${this.pathGame}/TP_outoftime.ogg`,.8)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key),a=e.soundManager.instance.getSound(i.soundDatas[3].key),u=e.soundManager.instance.getSound(i.soundDatas[4].key),h=e.soundManager.instance.getSound(i.soundDatas[5].key),p=e.soundManager.instance.getSound(i.soundDatas[6].key),g=e.soundManager.instance.getSound(i.soundDatas[7].key);let m;m=yield r.play(),e.instancePlayedListeners.forEach(v=>v(m.instance));const y=r.audioCtx.currentTime;m.instance.gainWrapper.setValueAtTime(.4,y).exponentialRampToValueAtTime(.8,y+.3),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield s.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield o.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield o.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield a.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield a.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield u.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield u.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield h.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield p.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v()),m=yield g.play(),e.instancePlayedListeners.forEach(v=>v(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(v=>v(!0))}));return i}jol2008(){var e=this;const i=new De("Christmas Game 2008",[H.music("jol2008mainMusic",`${this.pathGame}/jolagogo2008_main_music.ogg`),H.music("jol2008gameOver",`${this.pathGame}/jolagogo2008_game_over.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}jol2009(){var e=this;const i=new De("Christmas Game 2009",[H.music("jol2009bridge",`${this.pathGame}/jolagogo2009_Bridge.ogg`),H.music("jol2009chorus",`${this.pathGame}/jolagogo2009_Chorus.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key);let o,a=2;do{if(o=yield r.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),2===a){const u=r.audioCtx.currentTime;o.instance.gainWrapper.setValueAtTime(.1,u).exponentialRampToValueAtTime(1,u+.25)}yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u()),o=yield s.play(),e.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(u=>u(1===a)),a--}while(a>0)}));return i}whosYourFriend(){var e=this;const i=new De("Who's Your Friend",[H.music("wyf",`${this.pathGame}/WYF_ThemeSong.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();e.instancePlayedListeners.forEach(a=>a(s)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}knowYourFriend(){var e=this;const i=new De("Know Your Friend",[H.music("kyfIntroMusic",`${this.pathGame}/KYF_IntroMusic_WithAudience.ogg`),H.music("kyf90secMusic",`${this.pathGame}/KYF_90secondsMusic.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}stackem(){var e=this;const i=new De("Stack'em",[H.music("stackem",`${this.pathGame}/Stackem_Tune_loop.ogg`,.9)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key);let s=2;do{const{instance:o,endedPromise:a}=yield r.play();e.instancePlayedListeners.forEach(u=>u(o)),yield a,e.instanceEndedListeners.forEach(u=>u()),s--}while(s>0)}));return i}glowbulleville(){var e=this;const i=new De("Glowbulleville",[H.music("glowMainMusic",`${this.pathGame}/GLOB_main_music.mp3`,.8),H.music("glowVillageMusic",`${this.pathGame}/GLOB_village_music.mp3`),H.music("glowWack",`${this.pathGame}/GLOB_wack_a_mole.mp3`,.8)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield r.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield s.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h()),a=yield o.play(),e.instancePlayedListeners.forEach(h=>h(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(h=>h(1===u)),u--}while(u>0)}));return i}godsrule(){var e=this;const i=new De("Godsrule: Battle",[H.music("godsruleBattle",`${this.pathGame}/LOTON_BattleBaseLayer.ogg`),H.music("godsruleDefeat",`${this.pathGame}/LOTON_CombatDefeatMusic.ogg`),H.music("godsruleVictory",`${this.pathGame}/LOTON_CombatVictory.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,u=2;do{a=yield r.play(),e.instancePlayedListeners.forEach(g=>g(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(g=>g()),a=yield s.play(),e.instancePlayedListeners.forEach(g=>g(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(g=>g()),a=yield o.play(),e.instancePlayedListeners.forEach(g=>g(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(g=>g()),u--}while(u>0);a=yield r.play(),e.instancePlayedListeners.forEach(g=>g(a.instance));const p=a.instance.sourceNode.buffer?.duration||10;a.instance.gainWrapper.setTargetAtTime(0,r.audioCtx.currentTime+p/2,p/6),yield a.endedPromise,e.instanceEndedListeners.forEach(g=>g(!0))}));return i}vot(){var e=this;const i=new De("Vikings of Thule: Feud",[H.music("votFeudDrums",`${this.pathGame}/VOT_FeudMusic_drums.ogg`),H.music("votFeud",`${this.pathGame}/VOT_FeudMusic.ogg`),H.music("votFeudEnding",`${this.pathGame}/VOT_FeudEnding.ogg`)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a;a=yield r.play(),e.instancePlayedListeners.forEach(g=>g(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(g=>g()),a=yield s.play(),e.instancePlayedListeners.forEach(g=>g(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(g=>g()),a=yield s.play(),e.instancePlayedListeners.forEach(g=>g(a.instance)),a.instance.gainWrapper.setTargetAtTime(0,s.audioCtx.currentTime+(a.instance.sourceNode.buffer?.duration||10)-.799,1);const p=function(){var g=_e(function*(){e.instanceEndedListeners.forEach(m=>m()),a=yield o.play(),e.instancePlayedListeners.forEach(m=>m(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(m=>m(!0))});return function(){return g.apply(this,arguments)}}();e.timeout=setTimeout(()=>{p()},1e3*(a.instance.sourceNode.buffer?.duration||10)-799)}));return i}crisisGame(){var e=this;const i=new De("The Crisis Game",[H.music("crisisBegin",`${this.pathGame}/Krepp_Byrjun.ogg`,.9),H.music("crisisEnd",`${this.pathGame}/Krepp_Endir.ogg`,.9)],()=>_e(function*(){const r=e.soundManager.instance.getSound(i.soundDatas[0].key),s=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a())}));return i}}return n.\u0275fac=function(e){return new(e||n)(k(dp),k(Aa))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class WD{}let iF=(()=>{class n{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(e){return Math.floor(e*Math.random())}startUniqueNumberTracking(e){if(e<=0)throw new qD(qD.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=e,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let e=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let i=0;i<=this.uniqueNumbers.size;i++)if(!this.uniqueNumbers.has(i)){e=i;break}}else do{e=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(e));return this.uniqueNumbers.set(e,!0),e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qD=(()=>{class n{constructor(e){this.name="RandomNumberError",this.message=e}}return n.msgNumberMustBeHigherThanZero="Number must be > 0",n})(),zD=(()=>{class n{constructor(e,i,r,s,o){this.soundManager=e,this.windowRef=i,this.myTracks=r,this.randomNumber=s,this.logService=o,this.label="MusicService",this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!0,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,o.log),this.myTracks.init(),this._byTracks=r.byTracks,this.tracks=r.flatTracks,this._isShuffle?(s.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[s.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}setSelectTrackByRootUrl(e){let i=this.myTracks.getTrackByRootUrl(e);void 0===i&&(this.logService.log("Error",`could not get track by rootUrl ${e}, returning first track`),i=this.tracks[0]),this._selectedTrack=this.nextSelectedTrack=i,this._isShuffle=!1}get playState(){return this._playState}get isShuffle(){return this._isShuffle}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}play(e){if("Loading"===this._playState)return;this.stop();const i=this.nextSelectedTrack;if(!this.soundManager.instance.hasSound(i.soundDatas[0].key))for(let r=0;r<i.soundDatas.length;r++)this.soundManager.instance.addSound(i.soundDatas[r]),this.logService.log("Info",`[${this.label}]`,"adding sounds");this._playState="Loading",i.play()(),i instanceof ka&&(i.layeredMusicController.gainsDisabled=e),this._selectedTrack=i}stop(){this.soundManager.instance.stopMusic();const e=this._selectedTrack;e instanceof ka&&e.layeredMusicController&&e.layeredMusicController.stop(),this.myTracks.instanceEndedListeners.forEach(i=>i(!0,!0))}nextTrack(){let e;e=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index===this.tracks.length-1?0:this._selectedTrack.index+1,this.logService.log("Info","nextIndex",e),this.nextSelectedTrack=this.tracks[e]}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,e=>{this._playState="Playing",this._playStateChangeListener()}),this.addInstanceEndedListener(`${this.label} endedListener`,(e,i)=>{this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0),e&&(this._playState="Stopped")})}addInstancePlayedListener(e,i){this.myTracks.instancePlayedListeners.set(e,i)}addInstanceEndedListener(e,i){this.myTracks.instanceEndedListeners.set(e,i)}addPlayStateChangeListener(e){this._playStateChangeListener=e}removeInstancePlayedListener(e){this.myTracks.instancePlayedListeners.delete(e)}removeInstanceEndedListener(e){this.myTracks.instanceEndedListeners.delete(e)}}return n.\u0275fac=function(e){return new(e||n)(k(dp),k(tF),k(nF),k(WD),k(Aa))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KD=(()=>{class n{constructor(){this.subject=new N}sendMessage(e){this.subject.next(e)}onMessage(){return this.subject.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const rF=["canvas0"],sF=["canvas1"],oF=["canvas2"],aF=["canvas3"],lF=["topLine"],YD=function(n){return{nodeSelected:n}};function uF(n,t){if(1&n){const e=dr();c(0,"div",24),Be("click",function(){const s=rr(e).$implicit;return sr(ve(3).onTrackClick(s))}),l(1),d()}if(2&n){const e=t.$implicit,i=ve(3);E("ngClass",Us(2,YD,e.name===i.selectedTrack.name)),b(1),Re(" ",e.name," ")}}function cF(n,t){if(1&n&&(c(0,"div",22),ye(1,uF,2,4,"div",23),d()),2&n){const e=ve().$implicit;b(1),E("ngForOf",e.tracks)}}const dF=function(n,t){return{branchAnimateClose:n,branchAnimateOpen:t}};function hF(n,t){if(1&n){const e=dr();c(0,"div")(1,"div",17),Be("click",function(){const s=rr(e).index;return sr(ve().onByClick(s))}),c(2,"div",18),f(3,"div",19),d(),c(4,"span",20),l(5),d()(),ye(6,cF,2,1,"div",21),d()}if(2&n){const e=t.$implicit,i=t.index,r=ve();b(3),E("ngClass",Ko(4,dF,r.openedUiByIndex!=i,r.openedUiByIndex===i)),b(1),E("ngClass",Us(7,YD,r.selectedTrack.artistName===e.name)),b(1),je(e.name),b(1),E("ngIf",r.openedUiByIndex===i)}}function fF(n,t){if(1&n&&(c(0,"span",25)(1,"a",26),f(2,"img",27),d()()),2&n){const e=ve();b(1),Nt("href",e.selectedTrack.soundcloudUrl,Li),b(1),Uo("alt","play track ",e.selectedTrack.name," on SoundCloud")("title","play track ",e.selectedTrack.name," on SoundCloud")}}function pF(n,t){if(1&n&&(c(0,"span",25)(1,"a",26),f(2,"img",28),d()()),2&n){const e=ve();b(1),Nt("href",e.selectedTrack.spotifyUrl,Li),b(1),Uo("alt","play track ",e.selectedTrack.name," on Spotify")("title","play track ",e.selectedTrack.name," on Spotify")}}function gF(n,t){if(1&n&&(c(0,"span",25)(1,"a",29),l(2,"Buy"),d()()),2&n){const e=ve();b(1),Nt("href",e.selectedTrack.buyUrl,Li)}}function mF(n,t){if(1&n&&(c(0,"div")(1,"h4"),l(2),d(),f(3,"p",30),d()),2&n){const e=ve();b(2),Re("About ",e.selectedTrack.name,""),b(1),E("innerHTML",e.selectedTrack.about,qn)}}function yF(n,t){if(1&n&&(c(0,"div")(1,"h4"),l(2),d(),f(3,"p",30),d()),2&n){const e=ve();b(2),Re("About ",e.selectedTrack.artistName,""),b(1),E("innerHTML",e.selectedTrack.artistAbout,qn)}}let ZD=(()=>{class n{constructor(e,i,r,s,o){this.musicService=e,this.messageService=i,this.logService=r,this.route=s,this.location=o,this.label="MusicPage",this.drawVisuals=[],this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=-1,this.currentCanvasNr=0,this.canvasNrAscending=!1,this.urlPathRoot="music/"}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}ngOnInit(){this.musicService.addInstancePlayedListener(this.playedListenerName,e=>{const i=this.getNextCanvas(),r=this.tryGetCanvasContext(i);r&&(this.topLine.nativeElement.classList.add("hide"),this.visualize(e,i,r,this.drawVisuals)),this.replaceUrlState()}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.topLine.nativeElement.classList.remove("hide"),this.clearVisuals()}),this.route.paramMap.subscribe(e=>{const i=e.get("trackName");null!==i?this.musicService.setSelectTrackByRootUrl(i):this.replaceUrlState()}),this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}replaceUrlState(){this.location.replaceState(`${this.urlPathRoot}${this.selectedTrack.rootUrl}`)}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}onTrackClick(e){"Loading"!==this.musicService.playState?(this.musicService.nextSelectedTrack=e,this.messageService.sendMessage({type:"Play"})):this.logService.log("Info","onTrackClick: is loading, returning without processing")}onByClick(e){this.openedUiByIndex=this.openedUiByIndex===e?-1:e}get layerText(){if(this.musicService.selectedTrack instanceof ka&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const e=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(e[e.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}tryGetCanvasContext(e){const i=e.nativeElement.getContext("2d");return i||this.logService.log("Error",'"canvasContext" was "null"'),i}visualize(e,i,r,s){const o=e.analyzerNode;o.fftSize=2048;const a=o.fftSize,u=new Uint8Array(a),h=i.nativeElement.width,p=i.nativeElement.height;r.clearRect(0,0,h,p),i.nativeElement.classList.remove("hide");const g=()=>{s.push(requestAnimationFrame(g)),o.getByteTimeDomainData(u),r.fillStyle="#111",r.fillRect(0,0,h,p),r.lineWidth=3,r.strokeStyle="#B9CA4A",r.beginPath();const m=1*h/a;let y=0;for(let v=0;v<a;v++){const I=u[v]/128*p/2;0===v?r.moveTo(y,I):r.lineTo(y,I),y+=m}r.lineTo(h,p/2),r.stroke()};g()}clearVisuals(){this.drawVisuals.forEach(e=>{window.cancelAnimationFrame(e)}),this.drawVisuals=[],this.canvases.forEach(e=>{this.tryGetCanvasContext(e)?.clearRect(0,0,e.nativeElement.width,e.nativeElement.height),e.nativeElement.classList.add("hide")}),this.currentCanvasNr=1,this.canvasNrAscending=!1}onSoundCloudClick(){}}return n.\u0275fac=function(e){return new(e||n)(C(zD),C(KD),C(Aa),C(_r),C(ia))},n.\u0275cmp=ht({type:n,selectors:[["app-music-page"]],viewQuery:function(e,i){if(1&e&&(Vt(rF,7),Vt(sF,7),Vt(oF,7),Vt(aF,7),Vt(lF,7)),2&e){let r;at(r=lt())&&(i.canvas0=r.first),at(r=lt())&&(i.canvas1=r.first),at(r=lt())&&(i.canvas2=r.first),at(r=lt())&&(i.canvas3=r.first),at(r=lt())&&(i.topLine=r.first)}},features:[qe([ia,{provide:fr,useClass:Lh}])],decls:25,vars:11,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"horizontalLine"],["topLine",""],[1,"canvas","hide"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],[1,"trackLeftContainer"],[1,"trackLeftInner"],[1,"artworkImage",3,"src","alt","title"],[1,"buttonContainer"],["class","iconButton",4,"ngIf"],[1,"trackRightContainer"],[1,"trackRightInner"],[4,"ngIf"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[1,"branchIcon",3,"ngClass"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"iconButton"],["target","\u201d_blank\u201d",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Soundcloud_logo.svg",1,"soundcloudIcon",3,"alt","title"],["src","https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg ",1,"spotifyIcon",3,"alt","title"],["target","\u201d_blank\u201d",1,"IconLink",3,"href"],[3,"innerHTML"]],template:function(e,i){1&e&&(c(0,"div",0),ye(1,hF,7,9,"div",1),d(),f(2,"div",2,3),c(4,"div"),f(5,"canvas",4,5)(7,"canvas",4,6)(9,"canvas",4,7)(11,"canvas",4,8),d(),c(13,"div",9)(14,"div",10)(15,"figure"),f(16,"img",11),d(),c(17,"div",12),ye(18,fF,3,3,"span",13),ye(19,pF,3,3,"span",13),ye(20,gF,3,1,"span",13),d()()(),c(21,"div",14)(22,"div",15),ye(23,mF,4,2,"div",16),ye(24,yF,4,2,"div",16),d()()),2&e&&(b(1),E("ngForOf",i.byTracks),b(15),Nt("src",i.selectedTrack.artworkPath,Li),Qd("alt","Artwork for ",i.selectedTrack.name," by ",i.selectedTrack.artistName,"")("title","Artwork for ",i.selectedTrack.name," by ",i.selectedTrack.artistName,""),b(2),E("ngIf",""!==i.selectedTrack.soundcloudUrl),b(1),E("ngIf",""!==i.selectedTrack.spotifyUrl),b(1),E("ngIf",""!==i.selectedTrack.buyUrl),b(3),E("ngIf",""!==i.selectedTrack.about),b(1),E("ngIf",""!==i.selectedTrack.artistAbout))},dependencies:[oa,aa,pn],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid var(--colorGrayLight);border-radius:.3em}.trackLeftContainer[_ngcontent-%COMP%]{float:left;width:50%}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.artworkImage[_ngcontent-%COMP%]{width:100%;max-width:400px;border-radius:5%;display:block;margin:0 auto}.trackRightContainer[_ngcontent-%COMP%]{float:right;width:50%}.trackRightInner[_ngcontent-%COMP%]{float:left;margin-left:2%}.iconButton[_ngcontent-%COMP%]{width:100px;height:30px;border:1px solid var(--colorGrayLight);border-radius:1em;text-align:center;padding-top:3px;margin-left:1em;margin-right:1em}.spotifyIcon[_ngcontent-%COMP%]{height:90%;width:80%}.soundcloudIcon[_ngcontent-%COMP%]{height:90%;width:96%}.IconLink[_ngcontent-%COMP%]{vertical-align:middle}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}@media screen and (max-width: 451px){.trackLeftContainer[_ngcontent-%COMP%]{width:100%}.trackLeftInner[_ngcontent-%COMP%]{float:none;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}}@media screen and (min-width: 452px) and (max-width: 703px){.canvas[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;width:96%}.trackLeftContainer[_ngcontent-%COMP%]{width:100%}.trackLeftInner[_ngcontent-%COMP%]{float:none;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}}@media screen and (min-width: 704px) and (max-width: 1053px){.canvas[_ngcontent-%COMP%]{margin-left:4%;margin-right:4%;width:92%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}.trackLeftInner[_ngcontent-%COMP%]{margin-right:10px}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.canvas[_ngcontent-%COMP%]{margin-left:6%;margin-right:6%;width:88%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.canvas[_ngcontent-%COMP%]{margin-left:8%;margin-right:8%;width:84%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 2001px){.canvas[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}"]}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ht({type:n,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,i){1&e&&(c(0,"h1"),l(1,"Page not found for this url"),d())},encapsulation:2}),n})(),Tr=(()=>{class n{constructor(e){this.blogService=e}get post(){return this.blogService.selectedPost}get publishedDateToString(){return this.dateToString(this.post.publishedDate)}get hasUpdatedDate(){return void 0!==this.post.updatedDate}get updatedDateToString(){return void 0===this.post.updatedDate?"":this.dateToString(this.post.updatedDate)}dateToString(e){const r=new zh("en-US").transform(e,"YYYY MMM dd");return null===r?"":r}get aboutCodeHtml(){return'<h2>The code</h2>\n<p>\n\tThe code shown below is focused on the current cycle step, thus only showing the relevant lines\t.<br>\n\tThe complete code and the Unity project is on <a href="https://github.com/EgillAntonsson/tdd-avatar-health-in-unity">GitHub</a>.\n</p>'}get completeRequirementListHtml(){return'<sup>The complete requirement list from the user perspective is in <a href="./blog/tdd-health/part2">Part 2</a></sup>'}get rewordRequirement(){return"Let's reword this focusing on the domain model and using its terminology:"}}return n.\u0275fac=function(e){return new(e||n)(C(EC))},n.\u0275cmp=ht({type:n,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,i){1&e&&(c(0,"h1"),l(1,"base class template not used"),d())},encapsulation:2}),n})();function bF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let _F=(()=>{class n extends Tr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-1"]],features:[Ce],decls:374,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","http://www.jamesshore.com/v2/blog/2005/red-green-refactor"],[1,"list"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/25"],[1,"list","inline"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/193"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://www.linkedin.com/in/egillantonsson"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/what-is-domain-logic/"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","http://xunitpatterns.com/Mocks,%20Fakes,%20Stubs%20and%20Dummies.html"],["href","https://medium.com/aia-sg-techblog/why-singleton-pattern-is-considered-as-anti-design-pattern-c81dd8b7e757"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],[1,"horizontalLine"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,bF,2,1,"small",1),d(),c(11,"h2"),l(12,"What is TDD ?"),d(),c(13,"p"),l(14," TDD is an acronym for "),c(15,"i"),l(16,"Test Driven Development"),d(),f(17,"br"),l(18," and is a workflow discipline / approach for developers, focused on "),c(19,"b"),l(20,"when"),d(),l(21," to write unit tests,"),f(22,"br"),l(23," and the heart of it is the "),c(24,"a",2),l(25,"RED / GREEN / REFACTOR cycle:"),d()(),c(26,"ol",3)(27,"li")(28,"span",4),l(29,"RED:"),d(),l(30," Write a test that fails"),d(),c(31,"li")(32,"span",5),l(33,"GREEN:"),d(),l(34," Get the test to pass, with minimal effort"),d(),c(35,"li")(36,"span",6),l(37,"REFACTOR:"),d(),l(38," Evaluate if refactoring is needed, e.g. remove a "),c(39,"a",7),l(40,"code smell"),d()()(),c(41,"p"),l(42,"The cycle should focus is on fulfilling a requirement on the SUT (Subject/Unit Under Test)"),f(43,"br"),l(44," repeating it until you are confident that the SUT has become generic enough to handle all meaningful cases"),f(45,"br"),l(46," (as the tests become more specific)."),f(47,"br"),l(48," At some interval you should stop and evaluate if the design of the overall system is sound, if not then refactor it."),f(49,"br"),l(50," (all tests run and passing as frequently as needed)."),f(51,"br"),l(52," This is my summarization of Uncle Bob's post "),c(53,"a",8),l(54,"The Cycles of TDD"),d(),l(55,"."),f(56,"br"),l(57," (Bob terms additional cycles within and around RED / GREEN / REFACTOR).\n"),d(),c(58,"h2"),l(59,"What is a good Unit Test ?"),d(),c(60,"p"),l(61," A good unit test is focused on a specific SUT requirement,"),f(62,"br"),l(63," of meaningful logic (e.g. don't test simple getter properties on their own)."),f(64,"br"),l(65," The test code should be kept as clean as the production code ("),c(66,"span",6),l(67,"REFACTOR"),d(),l(68," step in TDD applies to both)."),f(69,"br"),l(70," Here are definitions from "),c(71,"b"),l(72,"Roy Osherove"),d(),l(73," in "),c(74,"i"),l(75,"The Art of Unit testing, 3rd edition"),d(),f(76,"br"),l(77," (for him the word 'unit' in unit testing stands for 'unit of work'):\n"),d(),c(78,"h3")(79,"a",9),l(80,"Unit of Work definition"),d()(),c(81,"p"),l(82,"\nA "),c(83,"i"),l(84,"unit of work"),d(),l(85," is the sum of actions that take place between the invocation of an "),c(86,"i"),l(87,"entry point"),d(),f(88,"br"),l(89,"\nup until a noticeable end result through one or more "),c(90,"i"),l(91,"exit points"),d(),l(92,"."),f(93,"br"),l(94,"\nThe "),c(95,"i"),l(96,"entry point"),d(),l(97," is the thing we trigger."),f(98,"br"),l(99,"\nGiven a publicly visible function, for example:\n"),d(),c(100,"ul",10)(101,"li"),l(102,"The function's body is all or part of the "),c(103,"i"),l(104,"unit of work"),d(),l(105,"."),d(),c(106,"li"),l(107,"The function's declaration and signature are the "),c(108,"i"),l(109,"entry point"),d(),l(110," into the body."),d(),c(111,"li"),l(112,"The resulting outputs or behaviors of the function are its "),c(113,"i"),l(114,"exit points"),d(),l(115,"."),d()(),c(116,"h3")(117,"a",11),l(118,"Good Unit Test definition"),d()(),c(119,"p"),l(120,"\nA "),c(121,"i"),l(122,"unit test"),d(),l(123," is an automated piece of code that invokes the "),c(124,"i"),l(125,"unit of work"),d(),f(126,"br"),l(127,"\nthrough an "),c(128,"i"),l(129,"entry point"),d(),l(130,", and then checks one of its "),c(131,"i"),l(132,"exit points"),d(),l(133,"."),f(134,"br"),l(135,"\nIt can be written easily and runs quickly."),f(136,"br"),c(137,"b"),l(138,"It's trustworthy, readable & maintainable."),f(139,"br"),l(140,"\nIt is consistent as long as the production code we control has not changed."),d()(),c(141,"h2"),l(142,"Why do TDD ?"),d(),c(143,"p"),l(144,"Here is a my non-exhaustive list of the benefits of TDD in order of priority:"),d(),c(145,"ol",10)(146,"li"),l(147,"Ensures you'll have passing test suite with high production code coverage"),f(148,"br"),l(149," that runs fast (each case less than 0.1 sec) so you get feedback early,"),f(150,"br"),l(151," thus you can clean the code fast and continuously without fear of breaking it,"),f(152,"br"),l(153," thus have high confidence in the shipped product quality."),f(154,"br"),d(),c(155,"li"),l(156,"It pushes for good production code design and maintainability:"),d(),c(157,"ul")(158,"li")(159,"a",12),l(160,"Separation of Concerns (SoC)"),d()(),c(161,"li"),l(162,"code to be low "),c(163,"a",13),l(164,"coupled"),d(),l(165," / have few dependencies"),d(),c(166,"li"),l(167,"each unit / object has readable and requirement-focused interface"),f(168,"br"),l(169," (internals should be "),c(170,"a",14),l(171,"encapsulated"),d(),l(172,")"),d()(),c(173,"li"),l(174,"The tests are accurate and up-to-date (developer focused) documentation"),f(175,"br"),l(176," of the behavior of the tested units."),d(),c(177,"li"),l(178,"Less time spent in the debugger"),d()(),c(179,"p"),l(180," There are also criticisms on TDD, e.g. the post "),c(181,"a",15),l(182,"TDD is dead. Long live testing"),d(),l(183,","),f(184,"br"),l(185," and discussion about it, e.g. the YouTube series "),c(186,"a",16),l(187,"Is TDD dead ?"),d(),f(188,"br"),l(189," and responses to it, e.g the post "),c(190,"a",17),l(191,"Monogamous TDD"),d(),l(192,".\n"),d(),c(193,"h2"),l(194,"Is TDD suitable for all areas / situations ?"),d(),c(195,"p"),l(196," I have over a decade long "),c(197,"a",18),l(198,"developer work experience"),d(),f(199,"br"),l(200," mainly as front-end game developer, and shared game systems developer."),f(201,"br"),l(202," I've gained some experience in writing good unit tests (being 'not so good' at the start of the journey)."),f(203,"br"),l(204," but I've used TDD to a lesser degree, thus I'm currently not very seasoned in using TDD."),f(205,"br"),l(206," The reason why I haven't used TDD more is mainly two-fold:\n"),d(),c(207,"ul",10)(208,"li"),l(209,"Sometimes when facing many 'hard to influence' deadlines,"),f(210,"br"),l(211," I've chosen the (not ideal) 'get it done in time' approach (Thus writing unit tests later)."),d(),c(212,"li"),l(213,"I'm working in areas / situations where it is not so suited or easy to use TDD."),d()(),c(214,"p"),l(215," Below are areas / situations where it is not so suited or easy to use TDD"),f(216,"br"),l(217," (and some tips how to work TDD more into them).\n"),d(),c(218,"h3"),l(219,"Boundary layers"),d(),c(220,"p"),l(221," A big part of a game is the graphic user interface (GUI) and visual effects, user input and sound,"),f(222,"br"),l(223," should these parts be unit tested ?"),f(224,"br")(225,"br"),l(226," These parts can be described as layers close to the physical output/input boundaries (e.g. screen, speaker)"),f(227,"br"),l(228," The design can be driven to make these boundary layers thin and "),c(229,"a",19),l(230,"humble"),d(),l(231,","),f(232,"br"),l(233," focusing on the responsibility of the boundary (e.g. disable/enable button), and extracting other logic into other modules that can be easily tested."),f(234,"br")(235,"br"),l(236," It's likely that the logic to extract is in fact the "),c(237,"a",20),l(238,"domain logic"),d(),l(239," (a.k.a business logic),"),f(240,"br"),l(241," the code that makes (non-visual) game decisions (business)"),f(242,"br"),l(243," and thus belongs to the "),c(244,"a",21),l(245,"domain model"),d(),l(246," and then should be moved there"),f(247,"br"),l(248," (the domain model should not depend on any boundaries, thus be easily unit testable)."),f(249,"br")(250,"br"),l(251," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen."),f(252,"br"),l(253," If boundary bugs begin slipping into the production as the project grows,"),f(254,"br"),l(255," then it's time to replace some of the manual testing effort with automated tests (e.g integration and/or UI tests)."),f(256,"br"),l(257," The "),c(258,"a",22),l(259,"Test Pyramid"),d(),l(260," could be a guide for that process.\n"),d(),c(261,"h3"),l(262,"Legacy Code"),d(),c(263,"p"),l(264," Legacy code in a sentence is "),c(265,"a",23),l(266,"valuable code you are afraid to change"),d(),f(267,"br"),l(268," It typically:\n"),d(),c(269,"ul",10)(270,"li"),l(271,"has been developed for some time"),d(),c(272,"li"),l(273,"is already 'working' (for most common scenarios / most of the time)"),d(),c(274,"li"),l(275,"has some bad code design that has crept in with time"),f(276,"br"),l(277," (e.g. high coupling / high dependency)"),d(),c(278,"li"),l(279,"is hard to read and understand and reason about"),d(),c(280,"li"),l(281,"has no or few good unit tests / very low test coverage"),f(282,"br"),l(283," (or many very bad and fragile tests that are hard to read and understand"),d()(),c(284,"p"),l(285," When you need to fix or change legacy code"),f(286,"br"),l(287," it is hard to do and have the confidence that the change did not break something else."),f(288,"br"),l(289," A breakage is discovered late (QA manual testing or live production) which can be very costly"),f(290,"br"),l(291," (and it always takes effort to get again into the context to fix the bug)."),f(292,"br")(293,"br"),l(294," It's possible to prevent bad code design to creep up"),f(295,"br"),l(296," by strictly upholding great design principles, without writing unit tests."),f(297,"br"),l(298," But using TDD complements this prevention very well (see "),c(299,"i"),l(300,"Why do TDD ?"),d(),l(301," section above)"),f(302,"br")(303,"br"),l(304," One of the negative consequence of legacy code is that it's very hard to write unit tests"),f(305,"br"),l(306," They likely need a lot of "),c(307,"a",24),l(308,"Test Doubles"),d(),l(309," to mute dependency interference"),f(310,"br"),l(311," (where static objects and "),c(312,"a",25),l(313,"Singletons"),d(),l(314," become very tricky)."),f(315,"br")(316,"br"),l(317," Legacy code needs to be carefully refactored (ideally first covered with tests) into a better state"),f(318,"br"),l(319," before TDD can be used effortlessly and to it's full potential."),f(320,"br"),l(321," Improving legacy code is a big topic thus I'll leave it here by"),f(322,"br"),l(323," referencing one book: "),c(324,"a",26),l(325,"Working Effectively with Legacy Code"),d(),l(326,","),f(327,"br"),l(328," and one post: "),c(329,"a",27),l(330,"Starting TDD with legacy code"),d(),l(331,".\n"),d(),c(332,"h3"),l(333,"Prototype code"),d(),c(334,"p"),l(335," The focus of prototyping is to get out an idea as fast as possible to get feedback on it."),f(336,"br"),l(337," It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not,"),f(338,"br"),l(339," and there should be a "),c(340,"b"),l(341,"clear agreement that the prototype code will be thrown away"),d(),l(342,"."),f(343,"br"),l(344," It is fine to not (or sparsely) use TDD in the prototyping phase, if the consensus is it slows things down,"),f(345,"br"),l(346," but TDD should be used when the production project codebase is started from scratch."),f(347,"br"),d(),f(348,"div",28),c(349,"h2"),l(350,"Comments"),d(),c(351,"h4"),l(352,"Fabio Paes Pedro"),d(),c(353,"p"),l(354," I'm no expert but the value TDD provides became clear to me quite fast."),f(355,"br"),l(356," I believe this requires a mindset/process change though,"),f(357,"br"),l(358," a different way of thinking things through that might extend outside of our team, into a company level."),f(359,"br"),l(360," I can't wait to read the rest of this series!\n"),d(),c(361,"h4"),l(362,"My response"),d(),c(363,"p"),l(364," Thank you for your comment Fabio."),f(365,"br"),l(366," I agree that TDD requires a mindset/process change,"),f(367,"br"),l(368," where ideally the whole team and the company are aligned on using TDD to reap its benefits,"),f(369,"br"),l(370," (synced on an approach that recognizes that in some areas / situations the value of TDD can be limited (as the sections above go through)."),f(371,"br"),l(372," I aim to continue writing blog post and complete this series, so stay tuned :)\n"),d(),f(373,"div",28)),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate))},dependencies:[pn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function wF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let CF=(()=>{class n extends Tr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-2"]],features:[Ce],decls:296,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://www.maginteractive.com"],["href","https://www.youtube.com/watch?v=R1aO4Tmw3zA&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","https://egill.rocks/blog/tdd-health/part1"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","https://www.youtube.com/watch?v=_vd2JyX6C1Y&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=8"],["href","https://www.youtube.com/watch?v=LPlH87XaWC8&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=9"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"list"],[1,"noBulletinPoint"],[1,"center"],["href","./blog/tdd-health/part1"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,wF,2,1,"small",1),d(),c(11,"h2"),l(12,"Preparing the assignment"),d(),c(13,"h3"),l(14,"My workshop"),d(),c(15,"p"),l(16," I recently to do a short workshop about TDD at "),c(17,"a",2),l(18,"work"),d(),f(19,"br"),l(20," and for preparation I browsed the internet looking for a fitting assignment,"),f(21,"br"),l(22," and I came across "),c(23,"a",3),l(24,"TDD in Unity - Part 1"),d(),l(25," by Charles Amat, where he sets up his assignment:"),f(26,"br"),l(27," implementing the "),c(28,"i"),l(29,"Life Gauge"),d(),l(30," from "),c(31,"i"),l(32,"Zelda: Breath of the Wild"),d(),l(33," game."),f(34,"br")(35,"br"),l(36," I thought this assignment was fitting for the workshop,"),f(37,"br"),l(38," thus I read the "),c(39,"a",4),l(40,"Life Gauge page on the Zelda wiki"),d(),l(41," (which was linked in the 'Part 1' post),"),f(42,"br"),l(43," and also played the game a bit, focusing on the "),c(44,"i"),l(45,"Life Gauge"),d(),l(46," behavior."),f(47,"br"),l(48," But I did not go through the 'TDD in Unity' series, as I was running out of preparation time."),f(49,"br")(50,"br"),l(51," My focus and task order in both my preparations and workshop walk-through:"),f(52,"br"),d(),c(53,"ol",5)(54,"li"),l(55,"Write down the "),c(56,"i"),l(57,"Life Gauge"),d(),l(58," behavior from the user perspective"),f(59,"br"),l(60," (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),c(61,"i"),l(62,"Zelda: Breath of the Wild"),d(),l(63,")"),d(),f(64,"br"),c(65,"li"),l(66,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill,"),f(67,"br"),l(68," as TDD is fully effective and effortless in the domain model"),d(),f(69,"br"),c(70,"li"),l(71,"Afterwards the focus would shift to the visual GUI,"),f(72,"br"),l(73," where the value of TDD likely would dwindle the closer I got to the physical boundary of the screen,"),f(74,"br"),l(75," ending with just manually testing with my eyes."),f(76,"br"),l(77," (Boundary layers section in "),c(78,"a",6),l(79,"Part 1"),d(),l(80," elaborates on 2. and 3.)"),d()(),c(81,"p"),l(82," I only had time prepare the first couple of domain logic requirements,"),f(83,"br"),l(84," and during the workshop we collaboratively completed those together"),f(85,"br"),l(86," (before the time was up)."),f(87,"br"),d(),c(88,"h3"),l(89,"Comparing approaches on the assignment"),d(),c(90,"p"),l(91," After the workshop I was curious how Charles Amat solved it,"),f(92,"br"),l(93," thus I watched on YouTube the whole "),c(94,"a",3),l(95,"TDD in Unity"),d(),l(96," series."),f(97,"br"),l(98," I both enjoyed and learned from watching Charles Amat "),c(99,"a",7),l(100,"live coding"),d(),l(101," and implementing the "),c(102,"i"),l(103,"Life Gauge"),d(),f(104,"br"),l(105," and his end result solution is good and sound, and I thank Charles for his contribution."),f(106,"br"),l(107," but I noticed that his focus and task order quite differed from mine, as he:"),f(108,"br"),d(),c(109,"ol",5)(110,"li"),l(111,"Starts planning how to create the heart container in Unity,"),f(112,"br"),l(113," from a GUI perspective"),d(),f(114,"br"),c(115,"li"),l(116,"Starts TDD-ing logic close to the GUI"),d(),f(117,"br"),c(118,"li"),l(119,"Ends with TDD-ing the domain logic ("),c(120,"a",8),l(121,"Part 7"),d(),l(122," and "),c(123,"a",9),l(124,"Part 8"),d(),l(125,")."),f(126,"br"),l(127," He simplifies the domain requirements from the "),c(128,"i"),l(129,"Breath of the Wild"),d(),f(130,"br"),l(131," as he states in the beginning"),f(132,"br"),c(133,"q"),l(134,"The Heart container depletes when the player takes damage"),f(135,"br"),l(136," and is replenished when the player consumes an item with a health effect. "),d()()(),c(137,"h3"),l(138,"Same assignment, but with a different focus"),d(),c(139,"p"),l(140," This is why I think it's worth doing another series with the same assignment,"),f(141,"br"),l(142," but with my focus, task order, and format."),f(143,"br")(144,"br"),l(145," My format will be blog posts focused on the TDD cycles"),f(146,"br"),l(147," displaying the appropriate code for each step."),f(148,"br"),l(149," I'll demonstrate how the requirements and the cycles"),f(150,"br"),l(151," guide and shape the code and my reasoning,"),f(152,"br"),l(153," that will read like poetry of rhythmic "),c(154,"span",10),l(155,"RED "),d(),c(156,"span",11),l(157,"GREEN "),d(),c(158,"span",12),l(159,"REFACTOR "),d(),l(160," loops,"),f(161,"br"),l(162," at least that's my ambition :)"),f(163,"br"),d(),c(164,"h2"),l(165,"The Life Gauge behavior"),d(),c(166,"p"),l(167," The below list is user perspective behaviour summary from"),f(168,"br"),l(169," the "),c(170,"a",4),l(171,"Life Gauge page on the Zelda Wiki"),d(),l(172," for the "),c(173,"i"),l(174,"Breath of the Wild"),d(),l(175," game."),f(176,"br"),l(177," I've simplified some requirements to keep the scope within a sensible limit. "),d(),c(178,"ul",13)(179,"li",14)(180,"b"),l(181,"Definition and Start State"),d()(),c(182,"li"),l(183,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(184,"li"),l(185,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(186,"li"),l(187,"The Life Gauge starts with 3 Hearts"),d(),f(188,"br"),c(189,"li",14)(190,"b"),l(191,"Taking Damage and Dying"),d()(),c(192,"li"),l(193,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),f(194,"br"),l(195," equal to the damage points taken (always losing at least 1 fraction)"),d(),c(196,"li"),l(197,"When Link loses all of his Hearts the game ends"),d(),c(198,"li"),l(199,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),f(200,"br"),l(201," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(202,"ul")(203,"li"),l(204,"However, if the damage is more than five Hearts above his full Life Gauge, he will still die"),d()(),f(205,"br"),c(206,"li",14)(207,"b"),l(208,"Replenish and Increase"),d()(),c(209,"li"),l(210,"Link's Life Gauge can be replenished by consuming certain food"),d(),c(211,"li"),l(212,"The Life Gauge can be increased by 1 full Heart at a time,"),f(213,"br"),l(214," up to a maximum of 30 Hearts"),d(),c(215,"li"),l(216,"It can also be temporarily increased (lost when Link takes damage)"),f(217,"br"),l(218," by consuming certain food"),d(),c(219,"ul")(220,"li"),l(221,"These are visually represented as yellow Hearts"),d()()(),c(222,"h3"),l(223,"Domain / Visual "),c(224,"i"),l(225,"SoC"),d(),l(226," mapping of "),c(227,"i"),l(228,"Life Gauge"),d()(),c(229,"table")(230,"tr")(231,"th"),l(232,"Domain Model"),d(),c(233,"th"),l(234,"GUI / View"),d()(),c(235,"tr")(236,"td",15),l(237," (Avatar) Health "),d(),c(238,"td",15),l(239," Life Gauge "),d()(),c(240,"tr")(241,"td",15),l(242," - "),d(),c(243,"td",15),l(244," Heart (holds 4 Fractions) "),d()(),c(245,"tr")(246,"td",15),l(247," Points "),d(),c(248,"td",15),l(249," Heart Fractions "),d()()(),c(250,"p"),l(251," This "),c(252,"i"),l(253,"Separation of Concerns (SoC)"),d(),l(254," mapping is good to establish early:"),f(255,"br"),l(256," Heart Container (with its Hearts and fractions)"),f(257,"br"),l(258," is a specific GUI representation of the Avatar Health, the domain model."),f(259,"br")(260,"br"),l(261," I'll apply the approach noted in the "),c(262,"i"),l(263,"Boundary layers"),d(),l(264," section in "),c(265,"a",16),l(266,"Part 1"),d(),l(267,","),f(268,"br"),l(269," Making sure that the code dependency is minimal and one-way:"),f(270,"br"),l(271," The view can depend in some way on the model, but not vice-versa."),f(272,"br"),l(273," All the domain logic should be in the model"),f(274,"br"),l(275," and the view should be thin and humble."),f(276,"br")(277,"br"),l(278," When future change requests on the GUI arrive"),f(279,"br"),l(280," (which is quite likely, in a real-life scenario),"),f(281,"br"),l(282," it will be effortless to handle as:\n"),d(),c(283,"ul",5)(284,"li"),l(285,"The domain and its logic will be unaffected"),f(286,"br"),l(287," (as it does not depend on the view)"),d(),c(288,"li"),l(289,"The model naming and terms will be unaffected"),f(290,"br"),l(291," (as it does not depend on the view)"),d()(),c(292,"p"),l(293," This also makes it effortless to have simultaneously more than one"),f(294,"br"),l(295," GUI representations of the same model (quite common in game UI).\n"),d()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate))},dependencies:[pn],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();class EF{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new MF(t,this.resultSelector))}}class MF extends Te{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Zt(t)?e.push(new IF(t)):e.push("function"==typeof t[xt]?new TF(t[xt]()):new SF(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let a=t[o];if("function"==typeof a.hasValue&&!a.hasValue())return}let r=!1;const s=[];for(let o=0;o<e;o++){let a=t[o],u=a.next();if(a.hasCompleted()&&(r=!0),u.done)return void i.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),r&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class TF{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class IF{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[xt](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class SF extends vt{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[xt](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return jt(this.observable,new Xe(this))}}class AF extends ke{constructor(t,e){super()}schedule(t,e=0){return this}}class QD extends AF{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let JD=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Ji extends JD{constructor(t,e=JD.now){super(t,()=>Ji.delegate&&Ji.delegate!==this?Ji.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Ji.delegate&&Ji.delegate!==this?Ji.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const hp=new class xF extends Ji{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class kF extends QD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),Wu=new W("HIGHLIGHT_OPTIONS");let PF=(()=>{class n{constructor(e,i,r){this.doc=e,this._options=r,this._ready=new Nn(null),this.ready=this._ready.asObservable().pipe(gn(s=>!!s),R(s=>s),qr(1)),H_(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(Fn(s=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=s,this.loadLineNumbers().pipe(Ze(()=>this._ready.next(s)))):(this._ready.next(s),gr)),br(s=>(console.error("[HLJS] ",s),gr))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return Ti("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return Ti("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return Ti("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return Ti("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(Fn(e=>this._loadLanguages(e)))}return Ti("Highlight.js library was not imported!")}_loadLanguages(e){return function DF(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),Mt(n,void 0).lift(new EF(t))}(...Object.entries(this._options.languages).map(([r,s])=>qu(s()).pipe(Ze(o=>e.registerLanguage(r,o))))).pipe(R(()=>e))}loadCoreLibrary(){return qu(this._options.coreLibraryLoader())}loadFullLibrary(){return qu(this._options.fullLibraryLoader())}loadLineNumbers(){return qu(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(k(ut),k(ta),k(Wu,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qu=n=>X(n).pipe(gn(t=>!!t&&!!t.default),R(t=>t.default));let OF=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe(R(s=>s.highlight(e,{language:i,ignoreIllegals:r})))}highlightAuto(e,i){return this._loader.ready.pipe(R(r=>r.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(R(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(R(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(R(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(Ze(r=>r.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(Ze(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(Ze(r=>r.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(R(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(R(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(R(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(R(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(gn(i=>!!i.lineNumbersBlock),Ze(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(k(PF),k(Wu,8))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eo=(()=>{class n{constructor(e,i,r,s){this._hljs=i,this._sanitizer=r,this._options=s,this.highlighted=new Le,this._nativeElement=e.nativeElement}ngOnChanges(e){this.code&&e?.code?.currentValue&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(r=>{this.setInnerHTML(r.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),hp.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){hp.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){hp.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(We.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(C(bt),C(OF),C(aw),C(Wu,8))},n.\u0275dir=te({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&Ln("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[_n]}),n})(),RF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({}),n})();function LF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let NF=(()=>{class n extends Tr{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void Points_HasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.Points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n",this.test_1_Red2="// Health.cs\npublic class Health\n{\n\tpublic int Points;\n}\n",this.impl_1_Green="// Health.cs\npublic class Health\n{\n\tpublic int Points = 12;\n}\n",this.test_1_refactor="// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void CurrentPoints_HasStartingValue()\n{\n\tint startingPoints = 12;\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_1_refactor="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic Health(int startingPoints)\n{\n\tCurrentPoints = startingPoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(0);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='//Health.cs\npublic int CurrentPoints { get;  private set; }\n\npublic Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), "Invalid value");\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.impl_2_Refactor='//Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.test_3_Green='// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(startingPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-3"]],features:[Ce],decls:458,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://nunit.org"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html"],[1,"list","inline"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html"],[1,"redFail"],[3,"highlight"],["href","./blog/tdd-health/part1"],["href","https://daedtech.com/tdd-and-modeling-a-chess-game/"],["href","https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/"],["href","https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models"],["src","../assets/images/blog/tdd/TestRunner_first-test-fails.PNG","alt","Unity Test Runner: first test fail (the nested class displays nicely)","title","Unity Test Runner: first test fail (the nested class displays nicely)",1,"imageSmallText"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"code"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html"],["href","https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html"],["src","../assets/images/blog/tdd/TestRunner_tests-using-TestCase.PNG","alt","Unity Test Runner: tests using TestCase attribute","title","Unity Test Runner: tests using TestCase attribute",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,LF,2,1,"small",1),d(),c(11,"h2"),l(12,"Setting up Unity"),d(),c(13,"p"),l(14," I create a new Unity (3D) project and keep the default config,"),f(15,"br"),l(16," except that I update "),c(17,"i"),l(18,"Test Framework"),d(),l(19," package to latest version (currently 1.1.31),"),f(20,"br"),l(21," it uses a Unity integration of "),c(22,"a",2),l(23,"NUnit"),d(),l(24," library."),f(25,"br"),l(26," The "),c(27,"i"),l(28,"Test Framework "),d(),c(29,"a",3),l(30,"docs"),d(),l(31," details how to setup tests for a project."),f(32,"br")(33,"br"),l(34," My project structure starts very simple:\n"),d(),c(35,"ul",4)(36,"li"),l(37,"The test code is in: "),c(38,"i"),l(39,"Scripts/Tests/EditMode/[ClassName]Test.cs"),d()(),c(40,"li"),l(41,"The production code is in: "),c(42,"i"),l(43,"Scripts/Runtime/[ClassName].cs"),d()()(),c(44,"p"),l(45," As the folder structure implies,"),f(46,"br"),l(47," I'm doing "),c(48,"i"),l(49,"EditMode"),d(),l(50," tests for the production "),c(51,"i"),l(52,"Runtime"),d(),l(53," code."),f(54,"br"),c(55,"i"),l(56,"EditMode"),d(),l(57," test have access to both: "),d(),c(58,"ul",4)(59,"li"),l(60,"the "),c(61,"i"),l(62,"Editor"),d(),l(63," code (only about extending the Unity editor)"),d(),c(64,"li"),l(65,"the "),c(66,"i"),l(67,"Runtime"),d(),l(68," code (of the targeted platform, e.g iOS)."),d()(),c(69,"p"),l(70," My main reason to prefer "),c(71,"i"),l(72,"EditMode"),d(),l(73," tests for "),c(74,"i"),l(75,"Runtime"),d(),l(76," code"),f(77,"br"),l(78," is that they run faster (Player startup and run in editor not done)."),f(79,"br"),l(80," Also the domain logic should not need the "),c(81,"i"),l(82,"PlayMode"),d(),l(83," tests features"),f(84,"br"),l(85," (tests don't need to run as Unity "),c(86,"i"),l(87,"Coroutine"),d(),l(88," to 'step' through the code)."),f(89,"br"),l(90," The doc page "),c(91,"a",5),l(92,"EditMode vs. PlayMode tests"),d(),l(93," explains the difference further. "),d(),c(94,"h2"),l(95,"The requirements for "),c(96,"i"),l(97,"definition and start state"),d()(),c(98,"p"),l(99," Let's recap these requirements from the user perspective:\n"),d(),c(100,"ul",4)(101,"li"),l(102,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(103,"li"),l(104,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(105,"li"),l(106,"The Life Gauge starts with 3 Hearts"),d()(),c(107,"p"),l(108," Let's filter and transform this into a requirement that's focused only on the domain"),f(109,"br"),l(110," (as GUI will be done later):\n"),d(),c(111,"ul",4)(112,"li"),l(113,"Avatar Health starts with 12 Health Points"),f(114,"br"),l(115," (equals to visual representation of 3 Hearts * 4 Fractions)"),d()(),c(116,"h2"),l(117,"Health Points starting value"),d(),c(118,"h3")(119,"span",6),l(120,"RED (does not compile)"),d()(),c(121,"p"),l(122," The domain model focus will be the "),c(123,"code"),l(124,"Health"),d(),l(125," class (not created yet),"),f(126,"br"),l(127," Thus I create test file "),c(128,"code"),l(129,"HealthTest.cs"),d(),l(130," and write the first test,"),f(131,"br"),l(132," that fails as the code does not compile.\n"),d(),c(133,"pre"),f(134,"code",7),d(),c(135,"h3"),l(136,"Test code naming / structure convention"),d(),c(137,"p"),l(138," I use and name nested class after the "),c(139,"i"),l(140,"entry point"),d(),l(141," of the test"),f(142,"br"),l(143," ("),c(144,"i"),l(145,"entry point"),d(),l(146," is defined in "),c(147,"i"),l(148,"What is a good Unit Test section"),d(),l(149," in "),c(150,"a",8),l(151,"Part 1"),d(),l(152,"),"),f(153,"br"),l(154," which in this particular case is named "),c(155,"code"),l(156,"Constructor"),d(),l(157,"."),f(158,"br"),l(159," I got the idea from Erik Dietrich via "),c(160,"a",9),l(161,"TDD and modeling a chess game"),d(),f(162,"br"),l(163," that references Phil Haack via "),c(164,"a",10),l(165,"Structuring Unit Tests"),d(),f(166,"br")(167,"br"),l(168," I'm using the "),c(169,"a",11),l(170,"Constraint Model of Assertions."),d(),l(171,".\n"),d(),c(172,"h3")(173,"span",6),l(174,"RED (test fails)"),d()(),c(175,"p"),l(176," I want to run the test and see it fail."),f(177,"br"),l(178," This is done to verify that the test is not passing when it should not"),f(179,"br"),l(180," (provides more value for more complex scenario)."),f(181,"br"),l(182," Thus I write the needed production code for the compiler to compile successfully,"),f(183,"br"),l(184," then run the tests via Unity Test Runner (menu item "),c(185,"i"),l(186,"Window > General > Test Runner"),d(),l(187,")."),f(188,"br"),d(),c(189,"pre"),f(190,"code",7),d(),c(191,"figure"),f(192,"img",12),c(193,"figcaption"),l(194," Unity Test Runner: first test fail (the nested class displays nicely) "),d()(),c(195,"p"),l(196," Going forward I will skip demonstrating both steps"),f(197,"br"),l(198," 'does not compile' and 'test fails' (although I do them both when coding),"),f(199,"br"),l(200," thus demonstrating only one "),c(201,"span",6),l(202,"RED"),d(),l(203," step.\n"),d(),c(204,"h3")(205,"span",13),l(206,"GREEN"),d()(),c(207,"p"),l(208,"Let's make the test pass with a very simple implementation.\n"),d(),c(209,"pre"),f(210,"code",7),d(),c(211,"h3")(212,"span",14),l(213,"REFACTOR"),d()(),c(214,"p"),l(215,"Now it comes to mind that from a game design perspective"),f(216,"br"),l(217," it's good to be able to tweak the starting points for game balancing,"),f(218,"br"),l(219," thus I refactor the value to be passed as parameter into the constructor."),f(220,"br"),c(221,"span",15),l(222,"An advanced system would have an accessible"),f(223,"br"),l(224," game balancing config that the code would read the values"),f(225,"br"),l(226," and then pass them into the "),c(227,"span",16),l(228,"Health"),d(),l(229," constructor."),d(),f(230,"br")(231,"br"),l(232," I name the passed in parameter "),c(233,"span",16),l(234,"startingPoints"),d(),l(235,"."),f(236,"br"),l(237," I also rename the property to "),c(238,"span",16),l(239,"CurrentPoints"),d(),l(240," (and thus the test case) to further clarify the logic:"),f(241,"br"),c(242,"i"),l(243,"starting points is passed into the constructor which sets the current points."),d(),f(244,"br"),d(),c(245,"pre"),f(246,"code",7),d(),c(247,"p"),l(248," I also encapsulate "),c(249,"span",16),l(250,"CurrentPoints"),d(),l(251," into a 'getter, private setter'."),f(252,"br"),l(253," In general I want to "),c(254,"a",17),l(255,"encapsulate"),d(),l(256," the production code as much as possible."),f(257,"br"),l(258," The only exposed interface should come from"),f(259,"br"),l(260," the requirements that the TDD cycles will drive,"),f(261,"br"),l(262," and if the tests need additional exposure no top of that"),f(263,"br"),l(264," (should be kept to a minimum).\n"),d(),c(265,"pre"),f(266,"code",7),d(),c(267,"p"),l(268," From now on the code will mostly be presented as a part of the class,"),f(269,"br"),l(270," focused on the current TDD cycle."),f(271,"br"),l(272," The code in its entirety and the Unity project is on "),c(273,"a",18),l(274,"GitHub"),d(),l(275,".\n"),d(),c(276,"h2"),l(277,"Handle invalid "),c(278,"span",16),l(279,"StartingPoints"),d(),l(280," values"),d(),c(281,"p"),l(282," Now it comes to mind that invalid values can be passed in,"),f(283,"br"),l(284," as our avatar should never start with less than 1 points"),f(285,"br"),l(286," (because otherwise Link would start up being dead :P )."),f(287,"br"),l(288," Thus I'll throw an exception when the value is invalid."),f(289,"br"),c(290,"span",15),l(291,"Invalid values should also be handled where they are defined,"),f(292,"br"),l(293," in the previously mentioned game balancing config."),d()(),c(294,"h3")(295,"span",6),l(296,"RED"),d()(),c(297,"pre"),f(298,"code",7),d(),c(299,"p"),l(300," I deem I can use existing "),c(301,"span",16),l(302,"ArgumentOutOfRangeException"),d(),l(303," from "),c(304,"span",16),l(305,"System"),d(),f(306,"br"),l(307," if I include an informative message for my case."),f(308,"br"),l(309,' I assert that the message contains "invalid",'),f(310,"br"),l(311," intentionally not being more specific"),f(312,"br"),l(313," so the assert does not fail later because of potential rewording."),f(314,"br")(315,"br"),l(316," I chose the value "),c(317,"code"),l(318,"0"),d(),l(319," as it's on the edge of invalidation (as "),c(320,"code"),l(321,"1"),d(),l(322," is valid)."),f(323,"br"),d(),c(324,"h3"),l(325,"Test code naming / structure convention"),d(),c(326,"p"),l(327," Elaborating further, I use my template:"),f(328,"br")(329,"br"),l(330," ["),c(331,"i"),l(332,"exit point"),d(),l(333,"]_[will be in state]"),f(334,"br"),l(335," or"),f(336,"br"),l(337," ["),c(338,"i"),l(339,"exit point"),d(),l(340,"]_When[Scenario]"),f(341,"br"),l(342," or"),f(343,"br"),l(344," [expected behavior of "),c(345,"i"),l(346,"Unit of Work"),d(),l(347,"]_When[Scenario]"),f(348,"br")(349,"br"),l(350," _When is used for other scenarios than the 'happy path' / basic one."),f(351,"br"),l(352," ("),c(353,"i"),l(354,"exit point"),d(),l(355," is defined in "),c(356,"i"),l(357,"What is a good Unit Test section"),d(),l(358," in "),c(359,"a",8),l(360,"Part 1"),d(),l(361,"),"),f(362,"br")(363,"br"),l(364," Thus these two test cases are named accordingly:"),f(365,"br"),c(366,"code"),l(367,"CurrentPoints_HasStartingValue"),d(),f(368,"br"),c(369,"code"),l(370,"ThrowsError_WhenStartingPointsIsInvalid"),d()(),c(371,"h3")(372,"span",13),l(373,"GREEN"),d()(),c(374,"pre"),f(375,"code",7),d(),c(376,"p"),l(377," I'm confident that the implementation of the conditional"),f(378,"br"),l(379," is the proper generic solution for this requirement."),f(380,"br"),l(381," However I just did the bare minimum for the exception message,"),f(382,"br"),l(383," and I will refactor it in the next step."),f(384,"br"),d(),c(385,"h3")(386,"span",14),l(387,"REFACTOR"),d()(),c(388,"pre"),f(389,"code",7),d(),c(390,"p"),l(391," I define "),c(392,"code"),l(393,"lowestValidValue"),d(),l(394," and use it both in the condition and the message."),f(395,"br"),l(396," This both makes the exception message more readable"),f(397,"br"),l(398," and makes sure the conditional and message will always be in-sync."),f(399,"br"),l(400," I get the name of the sent in parameter with "),c(401,"code"),l(402,"nameof(startingPoints)"),d(),l(403,"."),f(404,"br")(405,"br"),l(406," I check the message in TestRunner by temporarily commenting out"),f(407,"br"),l(408," all lines in the test except the constructor invocation."),f(409,"br"),l(410," The message displays when value "),c(411,"code"),l(412,"0"),d(),l(413," was passed in:"),f(414,"br"),c(415,"code"),l(416,"System.ArgumentOutOfRangeException : Value '0' is invalid, it should be equal or higher than '1'"),f(417,"br"),l(418," Parameter name: startingPoints"),d(),f(419,"br")(420,"br"),l(421," That's reads pretty clear to me.\n"),d(),c(422,"h2"),l(423,"Let's test a few more values"),d(),c(424,"p"),l(425,"I'm confident that the implementation of the requirement"),f(426,"br"),l(427," will work for any passed-in parameter value."),f(428,"br"),l(429," But I'll test a few more values to verify it,"),f(430,"br"),l(431," and to demonstrate how to do it in a clean and maintainable way.\n"),d(),c(432,"h3")(433,"span",14),l(434,"REFACTOR"),d()(),c(435,"p"),l(436,"Refactoring the tests to add test cases"),f(437,"br"),l(438," where the value is close to the valid or invalid edge,"),f(439,"br"),l(440," using "),c(441,"a",19),l(442,"Parameterized Tests"),d(),l(443," with inline "),c(444,"a",20),l(445,"TestCase"),d(),l(446," attribute.\n"),d(),c(447,"pre"),f(448,"code",7),d(),c(449,"p"),l(450," This runs in total 4 test cases and Unity Test Runner looks like this:\n"),d(),c(451,"figure"),f(452,"img",21),c(453,"figcaption"),l(454," Unity Test Runner: tests using "),c(455,"i"),l(456,"TestCase"),d(),l(457," attribute "),d()()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate),b(124),E("highlight",i.test_1_Red),b(56),E("highlight",i.test_1_Red2),b(20),E("highlight",i.impl_1_Green),b(36),E("highlight",i.test_1_refactor),b(20),E("highlight",i.impl_1_refactor),b(32),E("highlight",i.test_2_Red),b(77),E("highlight",i.impl_2_Green),b(14),E("highlight",i.impl_2_Refactor),b(59),E("highlight",i.test_3_Green))},dependencies:[pn,eo],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function FF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let VF=(()=>{class n extends Tr{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void CurrentPoints_Decrease()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.impl_1_Green="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic void TakeDamage(int damagePoints)\n{\n\tCurrentPoints -= damagePoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.TakeDamage(damagePoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='// Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (damagePoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {damagePoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(damagePoints), message);\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n',this.impl_2_Refactor='// Health.cs\npublic Health(int startingPoints)\n{\n\tValidatePoints(startingPoints, 1);\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1);\n\tCurrentPoints -= damagePoints;\n}\n\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\tif (points < lowestValidValue)\n\t{\n\t\tvar message = $"Value {points} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), message);\n\t}\n}\n'}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-4"]],features:[Ce],decls:232,vars:12,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","https://www.jetbrains.com/resharper/"],["href","https://www.jetbrains.com/help/resharper/2022.1/MemberCanBeMadeStatic.Local.html"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,FF,2,1,"small",1),d(),c(11,"h2"),l(12,"The first Taking Damage requirement"),d(),c(13,"p"),l(14," Let's recap the first requirement under "),c(15,"i"),l(16,"Taking Damage and Dying"),d(),l(17," from the user perspective:\n"),d(),c(18,"ul",2)(19,"li"),l(20,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),f(21,"br"),l(22," equal to the damage points taken (always losing at least 1 fraction)"),d()(),f(23,"div",3),c(24,"p"),l(25),d(),c(26,"ul",2)(27,"li"),l(28,"Avatar will lose Health "),c(29,"code"),l(30,"CurrentPoints"),d(),l(31," equal to Damage Points taken (always losing at last 1 Health Point)"),d()(),f(32,"div",3),c(33,"h2"),l(34,"Take Damage cycling"),d(),c(35,"h3")(36,"span",4),l(37,"RED"),d()(),c(38,"p"),l(39," I start by writing the test."),f(40,"br"),l(41," The entry point will be a new method named "),c(42,"code"),l(43,"TakeDamage"),d(),l(44,","),f(45,"br"),l(46," thus I write a nested class with same name,"),f(47,"br"),l(48," and within it I write the test case "),c(49,"code"),l(50,"CurrentPointsDecrease"),d(),f(51,"br"),l(52," (according to my naming convention, explained in "),c(53,"a",5),l(54,"Part 3"),d(),l(55,")."),f(56,"br"),d(),c(57,"pre"),f(58,"code",6),d(),c(59,"p"),l(60," The test fails as the "),c(61,"code"),l(62,"TakeDamage"),d(),l(63," method is not defined.\n"),d(),c(64,"h3")(65,"span",7),l(66,"GREEN"),d()(),c(67,"pre"),f(68,"code",6),d(),c(69,"p"),l(70," I'm confident that this effortless implementation"),f(71,"br"),l(72," fulfills the requirement for all valid inputs."),f(73,"br"),l(74," It's clean and thus does not need a "),c(75,"span",8),l(76,"REFACTOR"),d(),l(77," step."),f(78,"br"),l(79," But invalid values can be passed in, so I'll do a cycle for handling those.\n"),d(),c(80,"h2"),l(81,"Handle invalid input values"),d(),c(82,"h3")(83,"span",4),l(84,"RED"),d()(),c(85,"p"),l(86," A minus value for "),c(87,"code"),l(88,"damagePoints"),d(),l(89," is clearly invalid but what about "),c(90,"code"),l(91,"0"),d(),l(92," ?"),f(93,"br"),l(94," I conclude that "),c(95,"code"),l(96,"0"),d(),l(97," is also invalid,"),f(98,"br"),l(99," as an outside 'damage calculator' logic should take care of this earlier"),f(100,"br"),l(101," (thus "),c(102,"code"),l(103,"TakeDamage won't be invoked)"),d(),l(104,"."),f(105,"br"),l(106," This also makes the design streamlined as it ensures that"),f(107,"br"),c(108,"code"),l(109,"CurrentPoints"),d(),l(110," will always decrease on "),c(111,"code"),l(112,"TakeDamage"),d(),l(113," call."),f(114,"br")(115,"br"),l(116," This will be a similar test as the existing "),c(117,"code"),l(118,"ThrowsError_WhenStartingPointsIsInvalid"),d(),f(119,"br"),l(120," but now the "),c(121,"i"),l(122,"entry point"),d(),l(123," is method "),c(124,"code"),l(125,"TakeDamage"),d(),l(126,","),f(127,"br"),l(128," and thus it will be inside the nested class "),c(129,"code"),l(130,"TakeDamage."),d()(),c(131,"pre"),f(132,"code",6),d(),c(133,"p"),l(134," The value I pass into the constructor has no significance to this test,"),f(135,"br"),l(136," and thus is not a "),c(137,"i"),l(138,"TestCase"),d(),l(139," parameter.\n"),d(),c(140,"h3")(141,"span",7),l(142,"GREEN"),d()(),c(143,"p"),l(144,"I make the test pass by"),f(145,"br"),l(146," duplicating the exception throwing code from the constructor,"),f(147,"br"),l(148," and then renaming the parameter to "),c(149,"code"),l(150,"damagePoints"),d(),f(151,"br"),l(152," (knowing that I'll refactor this code smell right away in the next step).\n"),d(),c(153,"pre"),f(154,"code",6),d(),f(155,"br"),c(156,"h3")(157,"span",8),l(158,"REFACTOR"),d()(),c(159,"p"),l(160," I refactor the duplicated code smell away."),f(161,"br"),d(),c(162,"pre"),f(163,"code",6),d(),c(164,"p"),l(165," When exception is thrown,"),f(166,"br"),l(167," the message is followed by the stack trace in the console,"),f(168,"br"),l(169," and therefore it is sufficient that the param name will simply be "),c(170,"i"),l(171,"points"),d(),f(172,"br"),l(173," as you can follow the trace to see which method called "),c(174,"code"),l(175,"ValidatePoints"),d(),l(176,"."),f(177,"br")(178,"br"),l(179," Having "),c(180,"code"),l(181,"lowestValidValue"),d(),l(182," as sent in parameter for method "),c(183,"code"),l(184,"ValidatePoints"),d(),f(185,"br"),l(186," makes the method easy to reuse,"),f(187,"br"),l(188," if another case comes later with different "),c(189,"code"),l(190,"lowestValidValue"),d(),l(191,"."),f(192,"br")(193,"br"),c(194,"a",9),l(195,"ReSharper"),d(),l(196," hints that "),c(197,"code"),l(198,"ValidatePoints"),d(),l(199," method can be made "),c(200,"code"),l(201,"static"),d(),l(202,","),f(203,"br"),l(204," and I agree, as it doesn't hinder testability nor design (it's "),c(205,"code"),l(206,"private"),d(),l(207,")."),f(208,"br"),l(209," Making it "),c(210,"code"),l(211,"static "),d(),c(212,"a",10),l(213,"can yield a small performance benefit"),d(),l(214,"."),f(215,"br")(216,"br"),l(217," I ignore ReSharper's hint to 'invert "),c(218,"code"),l(219,"if"),d(),l(220," statement' as the current format"),f(221,"br"),l(222," is more readable IMO and the nested braces are only one-level deep."),f(223,"br")(224,"br"),l(225," I run all the tests (and also did as needed while refactoring) to verify everything works."),f(226,"br"),l(227," Now the Test Runner looks like this:\n"),d(),c(228,"figure"),f(229,"img",11),c(230,"figcaption"),l(231," Unity Test Runner: after refactoring 'ThrowsError' implementation "),d()()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate),b(13),E("innerHTML",i.completeRequirementListHtml,qn),b(2),Re(" ",i.rewordRequirement,"\n"),b(7),E("innerHTML",i.aboutCodeHtml,qn),b(26),E("highlight",i.test_1_Red),b(10),E("highlight",i.impl_1_Green),b(64),E("highlight",i.test_2_Red),b(22),E("highlight",i.impl_2_Green),b(9),E("highlight",i.impl_2_Refactor))},dependencies:[pn,eo],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function BF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let HF=(()=>{class n extends Tr{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Constructor\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = new Health(12);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.impl_1_green="// Health.cs\npublic bool IsDead => false;\n",this.test_2_red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void IsDead_AfterTwoInvocations()\n{\n\tvar health = new Health(10);\n\thealth.TakeDamage(9);\n\tAssert.That(health.IsDead, Is.False);\n\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="// Health.cs\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="// Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1); // method not shown\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n}\n",this.test_4_red="// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(1, 2, 2)]\n[TestCase(1, 2, 3)]\n[TestCase(1, 2, 22)]\n[TestCase(-21, 2, 23)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.impl_4_green="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints < FullPoints\n\t\t|| CurrentPoints > damagePoints\n\t\t|| damagePoints > CurrentPoints + 20)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n\telse\n\t{\n\t\tCurrentPoints = 1;\n\t}\n}\n",this.impl_4_refactor="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints + 20)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n",this.impl_4_refactor_2="// Health.cs\npublic const int MaxNegativePointsForInstantKillProtection = -20;\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints - MaxNegativePointsForInstantKillProtection)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-5"]],features:[Ce],decls:341,vars:17,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["href","./blog/tdd-health/part1"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity/blob/3e9aeea7a9285a5b67e7900bd8471ec932b758de/Assets/Scripts/Tests/EditMode/HealthTest.cs"],["href","\thttps://github.com/EgillAntonsson/tdd-avatar-health-in-unity/blob/3e9aeea7a9285a5b67e7900bd8471ec932b758de/Assets/Scripts/Runtime/Health.cs"],["src","../assets/images/blog/tdd/TestRunner_tests-protected-from-instant-kill.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"],[1,"greenRefactor"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,BF,2,1,"small",1),d(),c(11,"h2"),l(12,"The Dying requirements"),d(),c(13,"p"),l(14," Let's recap the rest of the "),c(15,"i"),l(16,"Taking Damage and Dying"),d(),l(17," requirements from the user perspective:\n"),d(),c(18,"ul",2)(19,"li"),l(20,"When Link loses all of his Hearts the game ends"),d(),c(21,"li"),l(22,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),f(23,"br"),l(24," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(25,"ul")(26,"li"),l(27,"However, if the damage is more than five Hearts above his full Life Gauge, he will still die"),d()()(),f(28,"div",3),c(29,"p"),l(30),d(),c(31,"ul",2)(32,"li"),l(33,"When Avatar loses all of his Health Points he dies (and game ends)"),d(),c(34,"li"),l(35,"The Avatar is protected from any damage that would instantly kill him as long as his Health Points are full"),f(36,"br"),l(37," and will instead be left alive with 1 Health Points remaining"),d(),c(38,"ul")(39,"li"),l(40,"However, if the damage is more than 20 points above his full Health Points, he will still die"),d()()(),f(41,"div",3),c(42,"h2"),l(43,"Death cycling"),d(),c(44,"p"),l(45," I start cycling the first dying requirement."),f(46,"br"),l(47," The domain model focus will be a new property named "),c(48,"code"),l(49,"IsDead"),d(),l(50,".\n"),d(),c(51,"h3")(52,"span",4),l(53,"RED"),d()(),c(54,"p"),l(55," I write a new test case and it fails as "),c(56,"code"),l(57,"IsDead"),d(),l(58," is not defined.\n"),d(),c(59,"pre"),f(60,"code",5),d(),c(61,"h3")(62,"span",6),l(63,"GREEN"),d()(),c(64,"p"),l(65," I make "),c(66,"code"),l(67,"IsDead"),d(),l(68," simply return "),c(69,"code"),l(70,"false"),d(),l(71," to pass the test.\n"),d(),c(72,"pre"),f(73,"code",5),d(),c(74,"p"),l(75," I encapsulated the property into a 'getter' via "),c(76,"a",7),l(77,"Expression-Bodied Members syntax"),d(),l(78,"."),f(79,"br")(80,"br"),l(81," I know that simply returning "),c(82,"code"),l(83,"false"),d(),l(84," for "),c(85,"code"),l(86,"IsDead"),d(),l(87," will not hold as the generic solution that satisfies all cases,"),f(88,"br"),l(89," thus I'll now do a new cycle to achieve that."),f(90,"br"),d(),c(91,"h3")(92,"span",4),l(93,"RED"),d()(),c(94,"p"),l(95," Still Focusing on the first dying requirement, but also having the 'protected from instant kill' case in mind,"),f(96,"br"),l(97," I write a new test case that reduces the "),c(98,"code"),l(99,"CurrentPoints"),d(),l(100," to "),c(101,"code"),l(102,"0"),d(),l(103," after two "),c(104,"code"),l(105,"TakeDamage"),d(),l(106," invocations,"),f(107,"br"),l(108," as I know that that case should always kill the Avatar."),f(109,"br"),d(),c(110,"pre"),f(111,"code",5),d(),c(112,"p"),l(113," The "),c(114,"code"),l(115,"_After"),d(),l(116," in the name suits well for this scenario (better than "),c(117,"code"),l(118,"_When"),d(),l(119,")."),f(120,"br"),l(121," The test still checks only one exit point, although it asserts it twice."),f(122,"br"),l(123," As the test is readable, focused and meaningful,"),f(124,"br"),l(125," I'm still in line IMO with "),c(126,"i"),l(127,"What is a good Unit Test"),d(),l(128," section in "),c(129,"a",8),l(130,"Part 1"),d(),l(131,")."),f(132,"br")(133,"br"),l(134," The test fails as currently the Avatar is immortal!"),f(135,"br"),l(136," Of course that's no good, so let's fix that and make the test pass.\n"),d(),c(137,"h3")(138,"span",6),l(139,"GREEN"),d()(),c(140,"p"),l(141," I change the implementation of the "),c(142,"code"),l(143,"IsDead"),d(),l(144," property that makes the test (and the previous test) pass."),f(145,"br"),d(),c(146,"pre"),f(147,"code",5),d(),c(148,"p"),l(149," I'm confident that now I have the generic solution for this property,"),f(150,"br"),l(151," Thus I'll start a new cycle for the next requirement.\n"),d(),c(152,"h2"),l(153,"Protected from instant kill"),d(),c(154,"p"),l(155," Now focusing on the latter requirement (listed at start of this post),"),f(156,"br"),l(157," I now take further note of the concept 'full Health Points' in the requirement,"),f(158,"br"),l(159," and realize that it's part of the requirement, so I start cycling it.\n"),d(),c(160,"h2"),l(161,"Full Health Points cycle"),d(),c(162,"p"),l(163," The domain model focus will be a new property named "),c(164,"code"),l(165,"FullPoints"),d(),l(166,".\n"),d(),c(167,"h3")(168,"span",4),l(169,"RED"),d()(),c(170,"pre"),f(171,"code",5),d(),c(172,"p"),l(173," The test is very similar to the existing test for "),c(174,"i"),l(175,"exit point"),d(),c(176,"code"),l(177," CurrentPoints"),d(),f(178,"br"),l(179," but the key difference is that it's testing a different "),c(180,"i"),l(181,"exit point"),d(),l(182," (see "),c(183,"i"),l(184,"Good Unit Test definition"),d(),l(185," in "),c(186,"a",8),l(187,"part 1"),d(),l(188,").\n"),d(),c(189,"h3")(190,"span",6),l(191,"GREEN"),d()(),c(192,"pre"),f(193,"code",5),d(),c(194,"p"),l(195," I set "),c(196,"code"),l(197,"FullPoints"),d(),l(198," to the "),c(199,"code"),l(200,"startingPoints"),d(),l(201," parameter value (same as "),c(202,"code"),l(203,"CurrentPoints"),d(),l(204,")."),f(205,"br")(206,"br"),l(207," I also encapsulate "),c(208,"code"),l(209,"CurrentPoints"),d(),l(210," into a 'getter, private setter'."),f(211,"br")(212,"br"),l(213," This "),c(214,"code"),l(215,"FullPoints"),d(),l(216," implementation satisfies the current requirements,"),f(217,"br"),l(218," but likely will be extended on later with the Replenishing requirements."),f(219,"br"),l(220," Thus now I'll start a new cycle to fulfill the 'Protected from instant kill' requirement."),f(221,"br"),d(),c(222,"h2"),l(223,"Protected from instant kill cycling"),d(),c(224,"h3")(225,"span",4),l(226,"RED"),d()(),c(227,"pre"),f(228,"code",5),d(),c(229,"p"),l(230," I assert on the output "),c(231,"code"),l(232,"CurrentPoints"),d(),l(233," as the 'protected from instant kill' case should leave the value at "),c(234,"code"),l(235,"1"),d(),l(236,"."),f(237,"br"),l(238," The last "),c(239,"code"),l(240,"TestCase"),d(),l(241," tests the 'exception' case:"),f(242,"br"),l(243," when the damage is so much that it kills the Avatar regardless."),f(244,"br"),d(),c(245,"h3"),l(246,"Test code naming / structure convention"),d(),c(247,"p"),l(248," Elaborating further, the scenario starting with "),c(249,"code"),l(250,"_When"),d(),f(251,"br"),l(252," can continue with "),c(253,"code"),l(254,"_Then"),d(),l(255," as needed."),f(256,"br"),l(257," The whole scenario 'plays out' before the assertion / "),c(258,"i"),l(259,"exit point"),d(),l(260," check."),f(261,"br"),l(262," ("),c(263,"code"),l(264,"_Then"),d(),l(265," indicates occurring later in the internal scenario order).\n"),d(),c(266,"h2"),l(267,"Experience the value of TDD"),d(),c(268,"p"),l(269," Now the value of TDD starts to shine"),f(270,"br"),l(271," as my first attempts to make test pass failed and/or failed existing ones."),f(272,"br"),l(273," I suggest you try it out yourself before reading my "),c(274,"span",6),l(275,"GREEN"),d(),l(276," solution below."),f(277,"br"),l(278," You can get the current state of the code here: "),c(279,"a",9),l(280,"HealthTest.cs"),d(),l(281,", "),c(282,"a",10),l(283,"Health.cs"),d(),f(284,"br"),l(285," At this moment the Unity Test Runner looks like this: "),c(286,"figure"),f(287,"img",11),c(288,"figcaption"),l(289," Unity Test Runner: test cases for 'protected from instant kill' "),d()()(),c(290,"p"),l(291," Have you tried it out ?"),f(292,"br"),l(293," Great !"),f(294,"br"),l(295," Then you can compare with my solution below :)\n"),d(),c(296,"h3")(297,"span",6),l(298,"GREEN"),d()(),c(299,"pre"),f(300,"code",5),d(),c(301,"p"),l(302," I got all tests passing with this solution, but it could be cleaned up,"),f(303,"br"),l(304," thus onward to the refactoring step.\n"),d(),c(305,"h3")(306,"span",12),l(307,"REFACTOR"),d()(),c(308,"pre"),f(309,"code",5),d(),c(310,"p"),l(311," I 'flipped' the "),c(312,"code"),l(313,"if"),d(),l(314," check, which then checks for the 'protection' case,"),f(315,"br"),l(316," and returns early (instead of having "),c(317,"code"),l(318,"else"),d(),l(319,")."),f(320,"br"),l(321," This makes the code more readable and streamlined, IMO."),f(322,"br")(323,"br"),l(324," I don't like that the number "),c(325,"code"),l(326,"20"),d(),l(327," has no explanation to it ('magic' number),"),f(328,"br"),l(329," so I'll do an iteration on it.\n"),d(),c(330,"h3")(331,"span",12),l(332,"REFACTOR (2nd iteration)"),d()(),c(333,"pre"),f(334,"code",5),d(),c(335,"p"),l(336," I replaced the 'magic' number with a constant member"),f(337,"br"),l(338," and gave it a meaningful name that explains the number."),f(339,"br"),l(340," A negative value aligns with the naming of the const, so I 'flip' the value.\n"),d()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate),b(18),E("innerHTML",i.completeRequirementListHtml,qn),b(2),Re(" ",i.rewordRequirement,"\n"),b(11),E("innerHTML",i.aboutCodeHtml,qn),b(19),E("highlight",i.test_1_red),b(13),E("highlight",i.impl_1_green),b(38),E("highlight",i.test_2_red),b(36),E("highlight",i.impl_2_green),b(24),E("highlight",i.test_3_red),b(22),E("highlight",i.impl_3_green),b(35),E("highlight",i.test_4_red),b(72),E("highlight",i.impl_4_green),b(9),E("highlight",i.impl_4_refactor),b(25),E("highlight",i.impl_4_refactor_2))},dependencies:[pn,eo],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function UF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let jF=(()=>{class n extends Tr{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(12));\n}\n",this.impl_1_green="// Health.cs\npublic void Replenish(int replenishPoints) { }\n",this.test_2_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenNotFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(2);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.test_2_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n",this.test_invalid_input_red='// HealthTest.cs\n// inside nested class Replenish\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenReplenishPointsIsInvalid(int replenishPoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.Replenish(replenishPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.test_invalid_input_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tValidatePoints(replenishPoints, 1); // method not shown\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-6"]],features:[Ce],decls:164,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["src","../assets/images/blog/tdd/TestRunner_after-replenish-tests.PNG","alt","Unity Test Runner: after adding Replenish tests","title","Unity Test Runner: after adding Replenish tests",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,UF,2,1,"small",1),d(),c(11,"h2"),l(12,"The requirement"),d(),c(13,"p"),l(14," Let's recap it from the user perspective:\n"),d(),c(15,"ul",2)(16,"li"),l(17,"Link's Life Gauge can be replenished by consuming certain food"),d()(),f(18,"div",3),c(19,"p"),l(20),d(),c(21,"ul",2)(22,"li"),l(23,"Avatar Health / "),c(24,"code"),l(25,"CurrentPoints"),d(),l(26," can be replenished by consuming food"),d()(),f(27,"div",3),c(28,"h2"),l(29,"Replenish cycling"),d(),c(30,"p"),l(31," The domain model focus will be a new method named "),c(32,"code"),l(33,"Replenish"),d(),l(34,"."),f(35,"br"),d(),c(36,"h3")(37,"span",4),l(38,"RED"),d()(),c(39,"p"),l(40," One case is if the player decides to make the Avatar"),f(41,"br"),l(42," use an item that replenishes when Health is full,"),f(43,"br"),l(44," a complete waste of an item as "),c(45,"code"),l(46,"CurrentPoints"),d(),l(47," don't increase,"),f(48,"br"),l(49," but a valid case regardless.\n"),d(),c(50,"pre"),f(51,"code",5),d(),c(52,"h3")(53,"span",6),l(54,"GREEN"),d()(),c(55,"p"),l(56," I effortlessly pass the test by adding an empty "),c(57,"code"),l(58,"Replenish"),d(),l(59," method.\n"),d(),c(60,"pre"),f(61,"code",5),d(),c(62,"p"),l(63," Of course this will not hold for other cases,"),f(64,"br"),l(65," so I'll cycle in more test cases to drive the implementation.\n"),d(),c(66,"h3")(67,"span",4),l(68,"RED"),d()(),c(69,"p"),l(70," Let's do a test for a more sensible valid case,"),f(71,"br"),l(72," when replenish will actually increase the "),c(73,"code"),l(74,"CurrentPoints"),d(),l(75,".\n"),d(),c(76,"pre"),f(77,"code",5),d(),c(78,"p"),l(79," I use the existing method "),c(80,"code"),l(81,"TakeDamage"),d(),l(82," to decrease the "),c(83,"code"),l(84,"CurrentPoints"),d(),f(85,"br"),l(86," before the method "),c(87,"code"),l(88,"Replenish"),d(),l(89," is invoked (the "),c(90,"i"),l(91,"entry point"),d(),l(92," of this test)."),f(93,"br"),l(94," ("),c(95,"code"),l(96,"TakeDamage"),d(),l(97," has already been tested and thus will work as expected).\n"),d(),c(98,"h3")(99,"span",6),l(100,"GREEN"),d()(),c(101,"pre"),f(102,"code",5),d(),c(103,"p"),l(104," I'm confident that this is the generic solution for any valid input"),f(105,"br"),l(106," so don't add more tests cases."),f(107,"br")(108,"br"),l(109," But I have to handle invalid input, so let's do a cycle for those.\n"),d(),c(110,"h2"),l(111,"Handle invalid input values"),d(),c(112,"h3")(113,"span",4),l(114,"RED"),d()(),c(115,"p"),l(116," As this will be similar to the 'take damage' handling,"),f(117,"br"),l(118," I copy the existing 'take damage throws error' test"),f(119,"br"),l(120," and paste it under the nested "),c(121,"code"),l(122,"Replenish"),d(),l(123," class"),f(124,"br"),l(125," and change to 'replenish' appropriately.\n"),d(),c(126,"pre"),f(127,"code",5),d(),c(128,"p"),l(129," This test case 'copy / paste' is valid"),f(130,"br"),l(131," as it's tests the same handling for a different "),c(132,"i"),l(133,"entry point"),d(),l(134," and "),c(135,"i"),l(136,"input"),d(),l(137,".\n"),d(),c(138,"h3")(139,"span",6),l(140,"GREEN"),d()(),c(141,"p"),l(142," I invoke the existing "),c(143,"code"),l(144,"ValidatePoints"),d(),l(145," method"),f(146,"br"),l(147," passing in "),c(148,"code"),l(149,"replenishPoints"),d(),l(150," and "),c(151,"code"),l(152,"1"),d(),l(153," for "),c(154,"code"),l(155,"lowestValidValue"),d()(),c(156,"pre"),f(157,"code",5),d(),c(158,"p"),l(159," Now the Unity Test Runner looks like this:\n"),d(),c(160,"figure"),f(161,"img",7),c(162,"figcaption"),l(163," Unity Test Runner: after adding Replenish tests "),d()()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate),b(8),E("innerHTML",i.completeRequirementListHtml,qn),b(2),Re(" ",i.rewordRequirement,"\n"),b(7),E("innerHTML",i.aboutCodeHtml,qn),b(24),E("highlight",i.test_1_red),b(10),E("highlight",i.impl_1_green),b(16),E("highlight",i.test_2_red),b(25),E("highlight",i.test_2_green),b(25),E("highlight",i.test_invalid_input_red),b(30),E("highlight",i.test_invalid_input_green))},dependencies:[pn,eo],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function $F(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}let GF=(()=>{class n extends Tr{constructor(){super(...arguments),this.red_increaseByUnit_fullPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void FullPoints_Increase()\n{\n\tvar health = new Health(12);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.FullPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_fullPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += 4;\n}\n",this.refactor_increaseByUnit_fullPointsIncrease="// Health.cs\npublic const int PointsPerUnit = 4;\n\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n}\n",this.red_increaseByUnit_currentPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void CurrentPoints_Increase()\n{\n\tvar health = new Health(12);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_currentPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n",this.red_increaseByUnit_currentPoints_moreCases="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[TestCase(7, 4, 1)]\n[TestCase(6, 4, 2)]\n[TestCase(5, 4, 3)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.green_increaseByUnit_currentPoints_moreCases="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints += PointsPerUnit;\n}\n",this.red_IsMaxUnitsReached="// HealthTest.cs\n// inside nested class IsMaxUnitsReached\n[Test]\npublic void ReturnsTrue()\n{\n\tvar startingPointsAtMax = Health.MaxUnits * Health.PointsPerUnit;\n\tvar health = new Health(startingPointsAtMax);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n\n[Test]\npublic void ReturnsFalse()\n{\n\tvar startingPointsBelowMax = Health.MaxUnits * Health.PointsPerUnit - 1;\n\tvar health = new Health(startingPointsBelowMax);\n\tAssert.That(health.IsMaxUnitsReached, Is.False);\n}\n",this.green_IsMaxUnitsReached="// Health.cs\npublic const int MaxUnits = 30;\n\npublic bool IsMaxUnitsReached => MaxUnits == FullPoints / PointsPerUnit;\n",this.red_IncreaseByUnit_ThrowsError='// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void ThrowsError_WhenMaxUnitsReached()\n{\n\tvar startingPointsAtMax = Health.MaxUnits * Health.PointsPerUnit;\n\tvar health = new Health(startingPointsAtMax);\n\tvar exception = Assert.Throws(Is.TypeOf<InvalidOperationException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.IncreaseByUnit();\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.green_IncreaseByUnit_ThrowsError='// Health.cs\npublic void IncreaseByUnit()\n{\n\tif (IsMaxUnitsReached)\n\t{\n\t\tvar message = $"Method invocation is invalid as {nameof(IsMaxUnitsReached)} is true";\n\t\tthrow new InvalidOperationException(message);\n\t}\n\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints += PointsPerUnit;\n}\n'}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-7"]],features:[Ce],decls:418,vars:18,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[1,"list","inline"],[3,"innerHTML"],[1,"center"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","./blog/tdd-health/part1"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["src","../assets/images/blog/tdd/TestRunner_after-increase-tests.PNG","alt","Unity Test Runner: after adding Increase tests","title","Unity Test Runner: after adding Increase tests",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,$F,2,1,"small",1),d(),c(11,"h2"),l(12,"The requirement"),d(),c(13,"p"),l(14," Let's recap this requirement from the user perspective:\n"),d(),c(15,"ul",2)(16,"li"),l(17,"The Life Gauge can be increased by 1 full Heart at a time,"),f(18,"br"),l(19," up to a maximum of 30 Hearts"),d()(),c(20,"p"),l(21," Example of case when Life Gauge is not full when the increase is executed:"),f(22,"br"),d(),c(23,"ul",3)(24,"li"),l(25,"Before increase: 1 Fraction filled of total 3 Hearts"),d(),c(26,"li"),l(27,"After increase: 1 Hearth + 1 Fraction filled of total 4 Hearts"),d()(),c(28,"p"),l(29," In "),c(30,"i"),l(31,"Zelda: Breath of the Wild"),d(),l(32," this is a big gameplay event"),f(33,"br"),l(34," and thus the increase is always 1 full Heart each time and no more.\n"),d(),f(35,"div",4),c(36,"p"),l(37),d(),c(38,"ul",2)(39,"li")(40,"code"),l(41,"FullPoints"),d(),l(42," and "),c(43,"code"),l(44,"CurrentPoints"),d(),l(45," can be increased simultaneously"),f(46,"br"),l(47," by 4 "),c(48,"code"),l(49,"Points"),d(),l(50," at a time,"),f(51,"br"),l(52," up to a maximum of 120 "),c(53,"code"),l(54,"Points"),d(),f(55,"br"),d()(),c(56,"p"),l(57," Now it makes sense to define a new unit in "),c(58,"code"),l(59,"Health"),d(),l(60," that equals 4 "),c(61,"code"),l(62,"Points,"),d(),f(63,"br"),l(64," (that is visually represented as a Heart or something else),"),f(65,"br"),l(66," as the increase should always be in that unit."),f(67,"br"),d(),c(68,"h3"),l(69,"Domain / Visual SoC mapping, revisited"),d(),c(70,"table")(71,"tr")(72,"th"),l(73,"Domain Model"),d(),c(74,"th"),l(75,"GUI / View"),d()(),c(76,"tr")(77,"td",5),l(78," (Avatar) Health "),d(),c(79,"td",5),l(80," Life Gauge "),d()(),c(81,"tr")(82,"td",5)(83,"b")(84,"i"),l(85,"Unit"),d()()(),c(86,"td",5),l(87," Heart (holds 4 Fractions) "),d()(),c(88,"tr")(89,"td",5),l(90," Points "),d(),c(91,"td",5),l(92," Heart Fractions "),d()()(),c(93,"p"),l(94," I add a new domain definition "),c(95,"i"),l(96,"Unit"),d(),l(97," that maps to the visualized "),c(98,"i"),l(99,"Heart"),d(),f(100,"br"),l(101," now let's reword the requirement again:"),f(102,"br"),d(),c(103,"ul",2)(104,"li")(105,"code"),l(106,"FullPoints"),d(),l(107," and "),c(108,"code"),l(109,"CurrentPoints"),d(),l(110," can be increased simultaneously"),f(111,"br"),l(112," by 1 "),c(113,"code"),l(114,"Unit"),d(),l(115," at a time,"),f(116,"br"),l(117," up to a maximum of 30 "),c(118,"code"),l(119,"Units"),d(),f(120,"br"),d()(),c(121,"p"),l(122," It's also nice that using "),c(123,"code"),l(124,"Units"),d(),l(125," reduces back the number values"),f(126,"br"),l(127," (e.g 4 -> 1 and 120 -> 30)\n"),d(),f(128,"div",4),c(129,"h2"),l(130,"Entry point "),c(131,"code"),l(132,"IncreaseByUnit"),d()(),c(133,"p"),l(134," The domain model focus will be a new method named "),c(135,"code"),l(136,"IncreaseByUnit"),d(),l(137,"."),f(138,"br"),d(),c(139,"h2"),l(140,"Exit point "),c(141,"code"),l(142,"FullPoints"),d()(),c(143,"p"),l(144," Focusing first on the existing "),c(145,"code"),l(146,"FullPoints"),d(),l(147," property.\n"),d(),c(148,"h3")(149,"span",6),l(150,"RED"),d()(),c(151,"pre"),f(152,"code",7),d(),c(153,"h3")(154,"span",8),l(155,"GREEN"),d()(),c(156,"p"),l(157," I make the test pass with an effortless implementation.\n"),d(),c(158,"pre"),f(159,"code",7),d(),c(160,"p"),l(161," I don't like that the 'magic' number "),c(162,"code"),l(163,"4"),d(),l(164," does not explain"),f(165,"br"),l(166," the relationship between "),c(167,"code"),l(168,"Points"),d(),l(169," and "),c(170,"code"),l(171,"Unit"),d(),l(172,"."),f(173,"br"),l(174," Thus I refactor it.\n"),d(),c(175,"h3")(176,"span",9),l(177,"REFACTOR"),d()(),c(178,"pre"),f(179,"code",7),d(),c(180,"p"),l(181," Now it's replaced with a meaningfully named constant member"),f(182,"br"),l(183," that defines and documents well this relationship (in the code itself)."),f(184,"br"),d(),c(185,"h2"),l(186,"Exit point "),c(187,"code"),l(188,"CurrentPoints"),d()(),c(189,"p"),l(190," Now I focus on the other "),c(191,"i"),l(192,"exit point"),d(),l(193,", the existing "),c(194,"code"),l(195,"CurrentPoints"),d(),l(196," property."),f(197,"br"),l(198," It should have new tests as it's about a different "),c(199,"i"),l(200,"exit point"),d(),f(201,"br"),l(202," (see Good Unit Test definition in "),c(203,"a",10),l(204,"part 1"),d(),l(205,").\n"),d(),c(206,"h3")(207,"span",6),l(208,"RED"),d()(),c(209,"pre"),f(210,"code",7),d(),c(211,"h3")(212,"span",8),l(213,"GREEN"),d()(),c(214,"pre"),f(215,"code",7),d(),c(216,"p"),l(217," I effortlessly add the line "),c(218,"code"),l(219,"CurrentPoints = FullPoints"),d(),l(220,","),f(221,"br"),l(222," which is enough to make the test pass,"),f(223,"br"),l(224," but I know that it only holds for this particular case, and not for others."),f(225,"br"),l(226," Thus I'll cycle the other cases.\n"),d(),c(227,"h3")(228,"span",6),l(229,"RED"),d()(),c(230,"pre"),f(231,"code",7),d(),c(232,"p"),l(233," I select "),c(234,"code"),l(235,"4"),d(),l(236," for the "),c(237,"code"),l(238,"startingPoints"),d(),l(239," parameter value"),f(240,"br"),l(241," so all possible test cases will be the minimum "),c(242,"code"),l(243,"3"),d(),l(244,","),f(245,"br"),l(246," and other parameter values will be low as well,"),f(247,"br"),l(248," which makes the test simple and readable.\n"),d(),c(249,"h3")(250,"span",8),l(251,"GREEN"),d()(),c(252,"pre"),f(253,"code",7),d(),c(254,"p"),l(255," I could have taken a bigger step in the previous "),c(256,"span",8),l(257,"GREEN"),d(),l(258," step"),f(259,"br"),l(260," and come straight away with this generic solution,"),f(261,"br"),l(262," but both paths should lead to the same result (both solution and tests),"),f(263,"br"),l(264," the path presented here make the tests drive the implementation a bit more.\n"),d(),c(265,"h2"),l(266,"The maximum"),d(),c(267,"p"),l(268," All that is left of the requirement is the maximum part."),f(269,"br"),l(270," The game will only give the user the option to spend resources"),f(271,"br"),l(272," to increase the health if the "),c(273,"code"),l(274,"MaxUnits"),d(),l(275," has not been reached. Thus the outside code should query "),c(276,"code"),l(277,"Health"),d(),l(278," if maximum has been reached"),f(279,"br"),l(280," and then only invoke "),c(281,"code"),l(282,"IncreaseByUnit"),d(),l(283," if not."),f(284,"br"),c(285,"code"),l(286,"IncreaseByUnit"),d(),l(287," should though also handle improper usage in this regard.\n"),d(),c(288,"h3")(289,"span",6),l(290,"RED"),d()(),c(291,"p"),l(292," The "),c(293,"i"),l(294,"entry point"),d(),l(295," will be a new property named "),c(296,"code"),l(297,"IsMaxUnitsReached"),d(),l(298,"."),f(299,"br"),d(),c(300,"pre"),f(301,"code",7),d(),c(302,"p"),l(303," I'm presenting a bigger step, adding 2 test at the same time,"),f(304,"br"),l(305," (thus skipping the smaller cycles I did within it)."),f(306,"br")(307,"br"),l(308," Here I can concise the test names"),f(309,"br"),l(310," as the "),c(311,"i"),l(312,"exit point"),d(),l(313," is the same as the "),c(314,"i"),l(315,"entry point"),d(),l(316,","),f(317,"br"),l(318," thus I skip the "),c(319,"i"),l(320,"exit point"),d(),l(321," in the name (nested class already names it)."),f(322,"br")(323,"br"),l(324," The tests use a new constant "),c(325,"code"),l(326,"MaxUnits"),d(),l(327,","),f(328,"br"),l(329," and there are two compile errors as both"),f(330,"br"),c(331,"code"),l(332,"MaxFullPoints"),d(),l(333," and "),c(334,"code"),l(335,"IsMaxUnitsReached"),d(),l(336," are not defined.\n"),d(),c(337,"h3")(338,"span",8),l(339,"GREEN"),d()(),c(340,"pre"),f(341,"code",7),d(),c(342,"p"),l(343," I define the constant and give it the proper value."),f(344,"br"),l(345," And I implement the read-only property as an "),c(346,"a",11),l(347,"Expression-Bodied Member"),d(),l(348,"."),f(349,"br"),d(),c(350,"h2"),l(351,"Handle improper usage of "),c(352,"code"),l(353,"IncreaseByUnit"),d()(),c(354,"p"),l(355," If the outside code incorrectly invokes "),c(356,"code"),l(357,"IncreaseByUnit"),d(),l(358," when "),c(359,"code"),l(360,"IsMaxFullPointsReached"),d(),l(361," is "),c(362,"code"),l(363,"true"),d(),l(364,","),f(365,"br"),l(366," the method should handle it.\n"),d(),c(367,"h3")(368,"span",6),l(369,"RED"),d()(),c(370,"pre"),f(371,"code",7),d(),c(372,"p"),l(373," I deem I can use existing "),c(374,"code"),l(375,"InvalidOperationException"),d(),l(376," from "),c(377,"code"),l(378,"System"),d(),l(379,", if I include an informative message for my case."),f(380,"br")(381,"br"),l(382," I assert that the message contains string "),c(383,"i"),l(384,"invalid"),d(),l(385,"."),f(386,"br"),l(387," I'm intentionally not being more specific to minimize the assert will fail later if the message is reworded."),f(388,"br"),l(389," This simple "),c(390,"i"),l(391,"Resistance to refactoring"),d(),l(392," makes it a less fragile unit test."),f(393,"br"),l(394," (The book "),c(395,"a",11),l(396,"Unit Testing Principles, Practices, and Patterns"),d(),l(397," by Vladimir Khorikov, lists"),c(398,"i"),l(399,"Resistance to refactoring"),d(),l(400," os one of the 4 pillars of good unit test).\n"),d(),c(401,"h3")(402,"span",8),l(403,"GREEN"),d()(),c(404,"pre"),f(405,"code",7),d(),c(406,"p"),l(407," I pass the test by adding the "),c(408,"i"),l(409,"if"),d(),l(410," condition at the start of the method."),f(411,"br")(412,"br"),l(413," Now the requirement has been fulfilled and the Unity Test Runner looks like this:\n"),d(),c(414,"figure"),f(415,"img",12),c(416,"figcaption"),l(417," Unity Test Runner: after adding Increase tests "),d()()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate),b(25),E("innerHTML",i.completeRequirementListHtml,qn),b(2),Re(" ",i.rewordRequirement,"\n"),b(91),E("innerHTML",i.aboutCodeHtml,qn),b(24),E("highlight",i.red_increaseByUnit_fullPointsIncrease),b(7),E("highlight",i.green_increaseByUnit_fullPointsIncrease),b(20),E("highlight",i.refactor_increaseByUnit_fullPointsIncrease),b(31),E("highlight",i.red_increaseByUnit_currentPointsIncrease),b(5),E("highlight",i.green_increaseByUnit_currentPointsIncrease),b(16),E("highlight",i.red_increaseByUnit_currentPoints_moreCases),b(22),E("highlight",i.green_increaseByUnit_currentPoints_moreCases),b(48),E("highlight",i.red_IsMaxUnitsReached),b(40),E("highlight",i.green_IsMaxUnitsReached),b(30),E("highlight",i.red_IncreaseByUnit_ThrowsError),b(34),E("highlight",i.green_IncreaseByUnit_ThrowsError))},dependencies:[pn,eo],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function WF(n,t){if(1&n&&(c(0,"small"),l(1),d()),2&n){const e=ve();b(1),Re(" updated on ",e.updatedDateToString," ")}}const qF=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:yL},{path:"blog",component:EL,children:[{path:"tdd-health/part1",component:_F},{path:"tdd-health/part2",component:CF},{path:"tdd-health/part3",component:NF},{path:"tdd-health/part4",component:VF},{path:"tdd-health/part5",component:HF},{path:"tdd-health/part6",component:jF},{path:"tdd-health/part7",component:GF},{path:"tdd-health/part8",component:(()=>{class n extends Tr{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingPoints = 12;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativePointsForInstantKillProtection = -20;\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\nusing System;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1, Int32.MaxValue)]\n\t\t[TestCase(1, 1, Int32.MaxValue)]\n\t\t[TestCase(4, 2, Int32.MaxValue)]\n\t\t[TestCase(2, 2, Int32.MaxValue)]\n\t\t[TestCase(-20, Int32.MinValue, -1)]\n\t\t[TestCase(-1, Int32.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1, Int32.MaxValue)]\n\t\t[TestCase(1, 2, Int32.MaxValue)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, Int32.MinValue, -1)]\n\t\t[TestCase(1, Int32.MinValue, -1)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\nusing System;\n\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV = Int32.MinValue, int highestValidV = Int32.MaxValue)\n\t{\n\t\tstring message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == Int32.MaxValue ? lowestValidV : highestValidV;\n\t\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar validation = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(validation, nameof(StartingPoints));\n\n\tvalidation = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(validation, nameof(PointsPerUnit));\n\n\tvalidation = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(validation, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tvalidation = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(validation, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string propertyName)\n{\n\tif (!validation.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(validation.FailMessage + $\", for '{propertyName}'. Will set value to {validation.Value}.\");\n\t\t}\n\t\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.hookingValidationInConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(v, nameof(StartingPoints));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tv = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) v, string fieldName)\n{\n\tif (!v.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(v.FailMessage + $\", for '{fieldName}'. Will set value to {v.Value}.\");\n\t\t}\n\t\treturn v.Value;\n}\n",this.healthRefactor="// Health.cs\nprivate GameConfig config;\n\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingPoints;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit\n{\n\tget { return config.PointsPerUnit; }\n}\npublic int MaxUnits\n{\n\tget { return config.MaxUnits; }\n}\n\tpublic int MaxNegativePointsForInstantKillProtection\n{\n\tget { return config.MaxNegativePointsForInstantKillProtection; }\n}\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingPoints)\n\t{\n\t\t\tGameConfig config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingPoints = startingPoints;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n",this.healthTestStartingPointsAtMax="// HealthTest.cs\nint startingPointsAtMax = 120; // MaxUnits * PointsPerUnit (config vars set in MakeHealth method)\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=tt(n)))(i||n)}}(),n.\u0275cmp=ht({type:n,selectors:[["app-post-tdd-8"]],features:[Ce],decls:416,vars:14,consts:[[1,"byAndDate"],[4,"ngIf"],["href","./blog/tdd-health/part1"],[1,"list","inline"],["href","https://docs.unity3d.com/Manual/class-ScriptableObject.html"],[3,"highlight"],["src","../assets/images/blog/tdd/MenuItem_GameConfigInstance.png","alt","Unity Test Runner: after adding Increase tests","title","Create Game Config Instance via menu item",1,"imageSmallText"],["src","../assets/images/blog/tdd/Inspector_GameConfigInstance.png","alt","Unity Test Runner: after adding Increase tests","title","Game Config Instance via the Inspector window",1,"imageSmallText"],[1,"redFail"],[1,"greenPass"],["src","../assets/images/blog/tdd/Unity_config-validation.gif","alt","Unity Test Runner: after adding Increase tests","title","Config Validation in the Inspector and Console",1,"imageSmallText"],["src","../assets/images/blog/tdd/Unity_MaxUnits-validation.gif","alt","Unity Test Runner: after adding Increase tests","title","MaxUnits Validation in the Inspector and Console",1,"imageSmallText"],[1,"greenRefactor"],["src","../assets/images/blog/tdd/TestRunner_after-config-added.png","alt","Unity Test Runner: after adding Increase tests","title","TestRunner after config added and used",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),l(1),d(),c(2,"h2"),l(3),d(),c(4,"div",0)(5,"small"),l(6,"by Egill Antonsson"),f(7,"br"),l(8),f(9,"br"),d(),ye(10,WF,2,1,"small",1),d(),c(11,"h2"),l(12,"The game balancing config"),d(),c(13,"p"),l(14," The thought came early (in "),c(15,"a",2),l(16,"part 3"),d(),l(17,") that a game balance config, for values like "),c(18,"code"),l(19,"startingPoints"),d(),l(20,", would be valuable to have for tweaking during the development period."),f(21,"br"),l(22,"\nThe config should be accessible and validate the values, and then later at runtime be injected to the "),c(23,"code"),l(24,"Health"),d(),l(25," instance."),f(26,"br"),l(27,"\nValue changes in the config should be ideally validated right away when they occur."),f(28,"br"),l(29,"\nThere are other values in the "),c(30,"code"),l(31,"Health"),d(),l(32," class that are fitting, thus the config will include:\n"),d(),c(33,"ul",3)(34,"li")(35,"code"),l(36,"startingPoints"),d()(),c(37,"li")(38,"code"),l(39,"PointsPerUnit"),d()(),c(40,"li")(41,"code"),l(42,"MaxFullPoints"),d()(),c(43,"li")(44,"code"),l(45,"MaxNegativePointsForInstantKillProtection"),d()()(),c(46,"h2"),l(47,"Using "),c(48,"code"),l(49,"ScriptableObject"),d()(),c(50,"p"),l(51," By making the precondition that the game designer can work in Unity,"),f(52,"br"),l(53," we can keep the config solution within Unity."),f(54,"br"),l(55," I'll thus base it one Unity's "),c(56,"a",4),l(57,"ScriptableObject"),d(),l(58," (a data container that you can use to save large amounts of data, independent of class instances)"),f(59,"br"),l(60,"\nI'll create a folder "),c(61,"i"),l(62,"ScriptableObjects/"),d(),l(63," at "),c(64,"i"),l(65,"Assets/Scripts/Runtime/"),d(),l(66," and create file "),c(67,"code"),l(68,"GameConfig.cs"),d(),l(69," within it.\n"),d(),c(70,"pre"),f(71,"code",5),d(),c(72,"p"),l(73," I create another folder "),c(74,"i"),l(75,"ScriptableObjectsInstances/"),d(),l(76," at "),c(77,"i"),l(78,"Assets/"),d(),f(79,"br"),l(80," and because of the code above I can now right click on the folder / click at "),c(81,"i"),l(82,"Assets"),d(),l(83," at top menu,"),f(84,"br"),l(85," and select menu item "),c(86,"i"),l(87,"Create > Avatar Health > Create GameConfig Instance"),d(),l(88,"."),f(89,"br"),l(90," As the name applies this creates a scriptable object instance based on the "),c(91,"code"),l(92,"GameConfig"),d(),l(93," template (I'll use the given default filename "),c(94,"code"),l(95,"GameConfigInstance"),d(),l(96,").\n"),d(),c(97,"figure"),f(98,"img",6),c(99,"figcaption"),l(100,"Create GameConfig Instance via menu item"),d()(),c(101,"p"),l(102," I can now view and edit the "),c(103,"i"),l(104,"Game Config instance"),d(),l(105," via the Inspector window.\n"),d(),c(106,"figure"),f(107,"img",7),c(108,"figcaption"),l(109,"Game Config Instance via the Inspector window"),d()(),c(110,"p"),l(111," I can now change the values as I see fit via the Inspector, and the change will be saved on the instance."),f(112,"br"),l(113," But I need to add the validation to the config.\n"),d(),c(114,"h2"),l(115,"TDD-ing the validation"),d(),c(116,"p"),l(117," Unit testing logic in scriptable objects can quickly become complicated (not going into it here)."),f(118,"br"),l(119," For this reason, and also for others such as Re-usability and good Separation of Concern,"),f(120,"br"),l(121," I will have implement generic validation logic in a static utility class which will be easy to TDD."),f(122,"br"),l(123," Then I'll make the config process the validation using the utility logic.\n"),d(),c(124,"h3")(125,"span",8),l(126,"RED"),d()(),c(127,"p"),l(128," I create the folder "),c(129,"i"),l(130,"Utils"),d(),l(131," in the test folder"),f(132,"br"),l(133," ("),c(134,"i"),l(135,"Assets/Scripts/Tests/EditMode/"),d(),l(136,") and create file "),c(137,"code"),l(138,"ValidationTest"),d(),l(139," within it."),f(140,"br"),l(141," I take into consideration the requirements for both the config and other validations that the "),c(142,"code"),l(143,"Health"),d(),l(144," does, and then write the tests. "),d(),c(145,"pre"),f(146,"code",5),d(),c(147,"p"),l(148," I did a couple of smaller steps which I skip here"),f(149,"br"),l(150," and present the result, of having tests for all meaningful cases based on the current requirements."),f(151,"br"),l(152," The validation logic returns a tuple:\n"),d(),c(153,"pre"),f(154,"code",5),d(),c(155,"p"),l(156," The using code should then decide what to do.\n"),d(),c(157,"h3")(158,"span",9),l(159,"GREEN"),d()(),c(160,"p"),l(161," I mirror the location of the test, thus create the folder "),c(162,"i"),l(163,"Utils"),d(),l(164," in the production code folder"),f(165,"br"),l(166," ("),c(167,"i"),l(168,"Assets/Scripts/Runtime/"),d(),l(169,") and create file "),c(170,"code"),l(171,"Validation"),d(),l(172," within it."),f(173,"br"),l(174," I implement it gradually until I get all the tests to pass.\n"),d(),c(175,"pre"),f(176,"code",5),d(),c(177,"h2"),l(178,"Processing the validation in the config"),d(),c(179,"p"),l(180," I want to make sure the validation can't be bypassed"),f(181,"br"),l(182," thus I'll prevent the game designer from saving invalid values to the config,"),f(183,"br"),l(184," and provide some UI feedback.\n"),d(),c(185,"pre"),f(186,"code",5),d(),c(187,"p"),l(188," I use "),c(189,"code"),l(190,"OnValidate"),d(),l(191,", a (editor-only) function that Unity calls when the script is loaded or a value changes in the Inspector (part of the "),c(192,"a",4),l(193,"ScriptableObject"),d(),l(194,")."),f(195,"br"),d(),c(196,"h2"),l(197,"The validation at work"),d(),c(198,"figure"),f(199,"img",10),c(200,"figcaption"),l(201,"Config Validation in the Inspector and Console"),d()(),c(202,"p"),l(203," As the gif shows above, the logic accepts valid values (the first one)"),f(204,"br"),l(205," but prevents invalid values being set by reverting to the valid 'edge' value, and logging a message to the Console."),f(206,"br"),d(),c(207,"ul",3)(208,"li"),l(209,"reverts to "),c(210,"code"),l(211,"1"),d(),l(212," for "),c(213,"code"),l(214,"StartingPoints"),d()(),c(215,"li"),l(216,"reverts to "),c(217,"code"),l(218,"2"),d(),l(219," for "),c(220,"code"),l(221,"PointsPerUnit"),d()(),c(222,"li"),l(223,"reverts to "),c(224,"code"),l(225,"-1"),d(),l(226," for "),c(227,"code"),l(228,"MaxNegativePointsForInstantKillProtection"),d()()(),c(229,"p"),l(230," Below is the gif for the "),c(231,"code"),l(232,"MaxUnits"),d(),l(233," validation.\n"),d(),c(234,"figure"),f(235,"img",11),c(236,"figcaption"),l(237,"MaxUnits Validation in the Inspector and Console"),d()(),c(238,"p")(239,"code"),l(240,"MaxUnits"),d(),l(241," validation is based on the values of "),c(242,"code"),l(243,"StartingPoints"),d(),l(244," and "),c(245,"code"),l(246,"PointsPerUnit"),d(),l(247,","),f(248,"br"),l(249," thus "),c(250,"code"),l(251,"MaxUnits"),d(),l(252," can become invalid when the other two are updated to valid values,"),f(253,"br"),l(254," as the latter half of the gif conveys."),f(255,"br"),l(256," The logged message in the Console clarifies this occurrence.\n"),d(),c(257,"h2"),l(258,"Make "),c(259,"code"),l(260,"Health"),d(),l(261," use the config"),d(),c(262,"p"),l(263," I want "),c(264,"code"),l(265,"Health"),d(),l(266," to use the config and not provide another way to inject those values,"),f(267,"br"),l(268," thus I don't need to validate those values again in "),c(269,"code"),l(270,"Health"),d(),l(271,"."),f(272,"br"),l(273," (I have the ownership of the config code and am confident that its validation work properly)."),f(274,"br")(275,"br"),l(276," Thus I will refactor the health code in the steps presented below."),f(277,"br"),l(278," (For this particular refactor I will start with the production code and then the tests,"),f(279,"br"),l(280," as it is about a design change in the production code, thus not doing TDD).\n"),d(),c(281,"h3")(282,"span",12),l(283,"Refactor "),c(284,"code"),l(285,"Health"),d()()(),c(286,"pre"),f(287,"code",5),d(),c(288,"p"),l(289," I inject the "),c(290,"code"),l(291,"GameConfig"),d(),l(292," instance into the "),c(293,"code"),l(294,"Health"),d(),l(295," constructor,"),f(296,"br"),l(297," and store the config in a private member and access the "),c(298,"code"),l(299,"StartingPoints"),d(),l(300," within it."),f(301,"br"),l(302," I removed the old "),c(303,"code"),l(304,"startingPoints"),d(),l(305," validation (as config already validated)."),f(306,"br"),d(),c(307,"pre"),f(308,"code",5),d(),c(309,"p"),l(310," I refactor those constants into read-only properties, getting the value from the config."),f(311,"br"),l(312," (The "),c(313,"code"),l(314,"Health"),d(),l(315," code uses these properties (before constants) and does not need any refactoring as the name was not changed)."),f(316,"br"),l(317," This way the config values can't be set via the "),c(318,"code"),l(319,"Health"),d(),l(320," instance (are encapsulated)."),f(321,"br"),d(),c(322,"h3")(323,"span",12),l(324,"Refactor "),c(325,"code"),l(326,"HealthTest"),d()()(),c(327,"p"),l(328," Now many tests will "),c(329,"span",8),l(330,"fail"),d(),l(331,", mainly because they are not injecting the config into the constructor."),f(332,"br"),l(333," Let's refactor and fix them.\n"),d(),c(334,"pre"),f(335,"code",5),d(),c(336,"p"),l(337," I create the method "),c(338,"code"),l(339,"MakeHealth"),d(),l(340," with param "),c(341,"code"),l(342,"startingPoints"),d(),f(343,"br"),l(344," which creates the config instance and sets the "),c(345,"code"),l(346,"startingPoints"),d(),l(347,","),f(348,"br"),l(349," and the other values (in case the default config value will be changed, the test will still work)."),f(350,"br"),l(351," It then creates and return a "),c(352,"code"),l(353,"Health"),d(),l(354," instance."),f(355,"br"),l(356," I then change all the '"),c(357,"code"),l(358,"new Health("),d(),l(359,"' lines in the tests into '"),c(360,"code"),l(361,"MakeHealth("),d(),l(362,"' all at once, using my code editor.\n"),d(),c(363,"pre"),f(364,"code",5),d(),c(365,"p"),l(366," I simplify the setting of local variable "),c(367,"code"),l(368,"healthTestStartingPointsAtMax"),d(),f(369,"br"),l(370," and add a comment, for the three tests that use it."),f(371,"br")(372,"br"),l(373," Now only test "),c(374,"code"),l(375,"ThrowsError_WhenStartingPointsIsInvalid"),d(),c(376,"span",8),l(377," fails"),d(),l(378,"."),f(379,"br"),l(380," I remove it as I'm no longer validating "),c(381,"code"),l(382,"StartingPoints"),d(),l(383," (already validated in config)."),f(384,"br"),l(385," Now all the tests "),c(386,"span",9),l(387,"pass"),d(),l(388," again.\n"),d(),c(389,"h2"),l(390,"Reuse the utility "),c(391,"code"),l(392,"Validation"),d()(),c(393,"p"),l(394," Since now I have a utility "),c(395,"code"),l(396,"Validation"),d(),l(397," class"),f(398,"br"),l(399," I want to reuse it in the "),c(400,"code"),l(401,"Health"),d(),l(402," methods,"),f(403,"br"),l(404," thus I refactor the "),c(405,"code"),l(406,"ValidatePoints"),d(),l(407," method\n"),d(),c(408,"pre"),f(409,"code",5),d(),c(410,"p"),l(411,"Now the config has been added and used, the Unity Test Runner looks like this:"),d(),c(412,"figure"),f(413,"img",13),c(414,"figcaption"),l(415,"TestRunner after config added and used"),d()()),2&e&&(b(1),je(i.post.seriesTitle),b(2),je(i.post.title),b(5),Re(" published on ",i.publishedDateToString,""),b(2),E("ngIf",i.hasUpdatedDate),b(61),E("highlight",i.gameConfigCs),b(75),E("highlight",i.redValidationTest),b(8),E("highlight",i.validationReturn),b(22),E("highlight",i.greenValidation),b(10),E("highlight",i.hookingValidationInConfig),b(101),E("highlight",i.healthRefactor),b(21),E("highlight",i.healthRefactor1),b(27),E("highlight",i.healthTestRefactor),b(29),E("highlight",i.healthTestStartingPointsAtMax),b(45),E("highlight",i.healthReuseValidation))},dependencies:[pn,eo],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})()}]},{path:"music",component:ZD},{path:"music/:trackName",component:ZD},{path:"lifting",component:zN},{path:"**",component:vF}];let fp,zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[_C.forRoot(qF,{enableTracing:!1,relativeLinkResolution:"legacy"}),_C]}),n})();try{fp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fp=!1}let xa=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?H_(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(k(ta))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class r3{constructor(t){this.total=t}call(t,e){return e.subscribe(new s3(t,this.total))}}class s3 extends Te{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function mp(n,t){return e=>e.lift(new o3(n,t))}class o3{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new a3(t,this.compare,this.keySelector))}}class a3 extends Te{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function t1(n){return t=>t.lift(new l3(n))}class l3{constructor(t){this.notifier=t}call(t,e){const i=new u3(t),r=jt(this.notifier,new Xe(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class u3 extends vt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function n1(n){return Array.isArray(n)?n:[n]}const r1=new Ji(QD);class h3{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new f3(t,this.dueTime,this.scheduler))}}class f3 extends Te{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p3,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function p3(n){n.debouncedNext()}const s1=new Set;let io,g3=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):y3}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function m3(n){if(!s1.has(n))try{io||(io=document.createElement("style"),io.setAttribute("type","text/css"),document.head.appendChild(io)),io.sheet&&(io.sheet.insertRule(`@media ${n} {body{ }}`,0),s1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(k(xa))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function y3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let v3=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new N}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return o1(n1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=rf(o1(n1(e)).map(o=>this._registerQuery(o).observable));return s=ou(s.pipe(qr(1)),s.pipe(function e1(n){return t=>t.lift(new r3(n))}(1),function d3(n,t=r1){return e=>e.lift(new h3(n,t))}(0))),s.pipe(R(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:h})=>{a.matches=a.matches||u,a.breakpoints[h]=u}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new F(o=>{const a=u=>this._zone.run(()=>o.next(u));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(hw(i),R(({matches:o})=>({query:e,matches:o})),t1(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(k(g3),k(nt))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function o1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const f1="cdk-high-contrast-black-on-white",p1="cdk-high-contrast-white-on-black",yp="cdk-high-contrast-active";let P3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=ri(v3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(yp,f1,p1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(yp,f1):2===i&&e.add(yp,p1)}}}return n.\u0275fac=function(e){return new(e||n)(k(xa),k(ut))},n.\u0275prov=q({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),g1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({}),n})();const F3=new W("mat-sanity-checks",{providedIn:"root",factory:function N3(){return!0}});let Yu=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function QF(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(k(P3),k(F3,8),k(ut))},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[g1,g1]}),n})(),w1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[Yu,Yu]}),n})(),J3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[Yu,w1,Yu]}),n})();const T1={leading:!0,trailing:!1};function Zu(n,t=r1,e=T1){return i=>i.lift(new tV(n,t,e.leading,e.trailing))}class tV{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new nV(t,this.duration,this.scheduler,this.leading,this.trailing))}}class nV extends Te{constructor(t,e,i,r,s){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(iV,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function iV(n){const{subscriber:t}=n;t.clearThrottle()}var I1=mt(8089);const rV=["tooltipTemplate"],sV=["leftOuterSelectionBar"],oV=["rightOuterSelectionBar"],aV=["fullBar"],lV=["selectionBar"],uV=["minHandle"],cV=["maxHandle"],dV=["floorLabel"],hV=["ceilLabel"],fV=["minHandleLabel"],pV=["maxHandleLabel"],gV=["combinedLabel"],mV=["ticksElement"];function yV(n,t){if(1&n&&f(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=ve().$implicit;E("template",ve().tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function vV(n,t){1&n&&f(0,"span",32),2&n&&E("innerHTML",ve().$implicit.legend,qn)}const bV=function(n){return{"ngx-slider-selected":n}};function _V(n,t){if(1&n&&(c(0,"span",27),f(1,"ngx-slider-tooltip-wrapper",28),ye(2,yV,1,4,"ngx-slider-tooltip-wrapper",29),ye(3,vV,1,1,"span",30),d()),2&n){const e=t.$implicit,i=ve();E("ngClass",Us(7,bV,e.selected))("ngStyle",e.style),b(1),E("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),b(1),E("ngIf",null!=e.value),b(1),E("ngIf",null!=e.legend)}}function wV(n,t){}function CV(n,t){1&n&&ye(0,wV,0,0,"ng-template")}const DV=function(n,t,e){return{tooltip:n,placement:t,content:e}};function EV(n,t){if(1&n&&(Vo(0),ye(1,CV,1,0,null,1),Bo()),2&n){const e=ve();b(1),E("ngTemplateOutlet",e.template)("ngTemplateOutletContext",ah(2,DV,e.tooltip,e.placement,e.content))}}function MV(n,t){if(1&n&&(Vo(0),c(1,"div",2),l(2),d(),Bo()),2&n){const e=ve();b(1),tn("title",e.tooltip)("data-tooltip-placement",e.placement),b(1),Re(" ",e.content," ")}}const Ht={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Ht[Ht.Low]="Low",Ht[Ht.High]="High",Ht[Ht.Floor]="Floor",Ht[Ht.Ceil]="Ceil",Ht[Ht.TickValue]="TickValue";class Qu{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const G={Min:0,Max:1};G[G.Min]="Min",G[G.Max]="Max";class TV{}class T{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(s=>Math.abs(t-s.value));let r=0;for(let s=0;s<e.length;s++)i[s]!==i[r]&&i[s]<i[r]&&(r=s);return r}}class Ir{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class wt{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const r=Math.pow(10,-i);return Math.abs(t%e)<=r||Math.abs(Math.abs(t%e)-e)<=r}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class S1{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class A1{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,r){if(!0!==I1.Z.hasSupport)return this.attachEventListener(t,e,i,r);const s=new S1;s.eventName=e,s.events=new N;const o=a=>{s.events.next(a)};return t.addEventListener(e,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(T.isNullOrUndefined(r)?Ze(()=>{}):Zu(r,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),s}detachEventListener(t){T.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),T.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),T.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,r){const s=new S1;return s.eventName=e,s.events=new N,s.teardownCallback=this.renderer.listen(t,e,a=>{s.events.next(a)}),s.eventsSubscription=s.events.pipe(T.isNullOrUndefined(r)?Ze(()=>{}):Zu(r,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),s}}let Sr=(()=>{class n{constructor(e,i,r){this.elemRef=e,this.renderer=i,this.changeDetectionRef=r,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new A1(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,r){const s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}onPassive(e,i,r){const s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}off(e){let i,r;T.isNullOrUndefined(e)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(s=>s.eventName!==e),r=this.eventListeners.filter(s=>s.eventName===e));for(const s of r)this.eventListenerHelper.detachEventListener(s);this.eventListeners=i}isRefDestroyed(){return T.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(C(bt),C(On),C(di))},n.\u0275dir=te({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(e,i){2&e&&Il("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),bp=(()=>{class n extends Sr{constructor(e,i,r){super(e,i,r),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(C(bt),C(On),C(di))},n.\u0275dir=te({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(tn("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),Ln("ngx-slider-active",i.active))},features:[Ce]}),n})(),so=(()=>{class n extends Sr{constructor(e,i,r){super(e,i,r),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(T.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(C(bt),C(On),C(di))},n.\u0275dir=te({type:n,selectors:[["","ngxSliderLabel",""]],features:[Ce]}),n})();class IV{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class k1{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Ju{static compare(t,e){return!(T.isNullOrUndefined(t)&&T.isNullOrUndefined(e)||T.isNullOrUndefined(t)!==T.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class x1 extends Ju{static compare(t,e){return!(T.isNullOrUndefined(t)&&T.isNullOrUndefined(e)||T.isNullOrUndefined(t)!==T.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const SV={provide:Qn,useExisting:He(()=>P1),multi:!0};let P1=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.elementRef=i,this.changeDetectionRef=r,this.zone=s,this.value=null,this.valueChange=new Le,this.highValue=null,this.highValueChange=new Le,this.options=new Qu,this.userChangeStart=new Le,this.userChange=new Le,this.userChangeEnd=new Le,this.initHasRun=!1,this.inputModelChangeSubject=new N,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new N,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Qu,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new k1,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new A1(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!T.isNullOrUndefined(this.value)&&!T.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Qu,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){T.isNullOrUndefined(e.options)||this.onChangeOptions(),(!T.isNullOrUndefined(e.value)||!T.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(e){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(mp(x1.compare),gn(i=>!i.forceChange&&!i.internalChange),T.isNullOrUndefined(e)?Ze(()=>{}):Zu(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(e){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(mp(x1.compare),T.isNullOrUndefined(e)?Ze(()=>{}):Zu(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Ir.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Ir.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){T.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){T.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){T.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){T.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){T.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){T.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===G.Min?this.minHandleElement:e===G.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===G.Min?this.viewLowValue:this.currentTrackingPointer===G.Max?this.viewHighValue:null}modelValueToViewValue(e){return T.isNullOrUndefined(e)?NaN:T.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:T.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return T.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return T.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),r=!Ju.compare(e,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),T.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),T.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new Ju;if(i.value=e.value,i.highValue=e.highValue,!T.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=T.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const s=T.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[s].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=wt.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=wt.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=e.value;i.value=e.highValue,i.highValue=r}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);Ju.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,r=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const s=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!T.areArraysEqual(r,s);e!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new Qu,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!T.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!T.isNullOrUndefined(this.viewOptions.tickStep)||!T.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),T.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),T.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,T.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(T.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),T.isNullOrUndefined(this.viewOptions.ceil)||T.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,T.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==G.Min&&e!==G.Max&&(e=G.Min),e===G.Min?this.minHandleElement.focus():this.range&&e===G.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){T.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())T.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",T.isNullOrUndefined(this.viewOptions.ariaLabel)?T.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",T.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?T.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Ht.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Ht.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){T.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,T.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=T.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const r=T.isNullOrUndefined(this.viewOptions.tickValueStep)?T.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let s=!1;const o=e.map(a=>{let u=this.valueToPosition(a);this.viewOptions.vertical&&(u=this.maxHandlePosition-u);const h=i+"("+Math.round(u)+"px)",p=new IV;p.selected=this.isTickSelected(a),p.style={"-webkit-transform":h,"-moz-transform":h,"-o-transform":h,"-ms-transform":h,transform:h},p.selected&&!T.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(p.style["background-color"]=this.getSelectionBarColor()),!p.selected&&!T.isNullOrUndefined(this.viewOptions.getTickColor)&&(p.style["background-color"]=this.getTickColor(a)),T.isNullOrUndefined(this.viewOptions.ticksTooltip)||(p.tooltip=this.viewOptions.ticksTooltip(a),p.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!T.isNullOrUndefined(r)&&wt.isModuloWithinPrecisionLimit(a,r,this.viewOptions.precisionLimit)&&(p.value=this.getDisplayValue(a,Ht.TickValue),T.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(p.valueTooltip=this.viewOptions.ticksValuesTooltip(a),p.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let g=null;if(T.isNullOrUndefined(this.viewOptions.stepsArray))T.isNullOrUndefined(this.viewOptions.getLegend)||(g=this.viewOptions.getLegend(a));else{const m=this.viewOptions.stepsArray[a];T.isNullOrUndefined(m)||(g=m.legend)}return T.isNullOrUndefined(g)||(p.legend=g,s=!0),p});if(setTimeout(()=>{this.sliderElementWithLegendClass=s}),T.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let a=0;a<o.length;++a)Object.assign(this.ticks[a],o[a]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=T.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(wt.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let s=0;s<r;++s)i.push(wt.roundToPrecisionLimit(this.viewOptions.floor+e*s,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Ht.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Ht.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===G.Min?this.updateLowHandle(i):e===G.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const r=e===G.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=i-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===G.Min||!this.viewOptions.rightToLeft&&e===G.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Ht.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(G.Min,e)),T.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(G.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Ht.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(G.Max,e)),T.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(G.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),u=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),s?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const h=this.combinedLabelElement.isVisible()?u:o,p=this.combinedLabelElement.isVisible()?a:r;h?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),p?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,s=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=s-2:i<=s+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,s=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=s+this.ceilLabelElement.dimension+2:i+e.dimension>=s-2}updateSelectionBar(){let e=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=s;else if(T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-a,e=a+this.handleHalfDimension):(i=a-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),T.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!T.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=o-e>0&&!r||o-e<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?a?"bottom":"top":a?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===G.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,Ht.Low),r=this.getDisplayValue(this.viewHighValue,Ht.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(s);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!T.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const r=T.isNullOrUndefined(i)?this.viewOptions.step:i;let s=wt.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return s=Math.round(s)*r,wt.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(e){let i=T.linearValueToPosition;T.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=T.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(e=wt.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return T.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=T.linearPositionToValue;T.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=T.logPositionToValue):r=this.viewOptions.customPositionToValue;const s=r(i,this.viewOptions.floor,this.viewOptions.ceil);return T.isNullOrUndefined(s)?0:s}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical?e.clientY:e.clientX;let r=0;const s=e.touches;if(!T.isNullOrUndefined(i))for(let o=0;o<s.length;o++)if(s[o].identifier===i){r=o;break}return this.viewOptions.vertical?s[r].clientY:s[r].clientX}getEventPosition(e,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(e,i)+s:this.getEventXY(e,i)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return G.Min;const i=this.getEventPosition(e),r=Math.abs(i-this.minHandleElement.position),s=Math.abs(i-this.maxHandleElement.position);return r<s?G.Min:r>s?G.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?G.Min:G.Max:i<this.minHandleElement.position?G.Min:G.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(G.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(G.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(G.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(G.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(G.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(G.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(G.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(G.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(G.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(G.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())T.isNullOrUndefined(e)||e.off()}onBarStart(e,i,r,s,o,a,u){i?this.onDragStart(e,r,s,o):this.onStart(e,r,s,o,a,u)}onStart(e,i,r,s,o,a){i.stopPropagation(),(!Ir.isTouchEvent(i)||!I1.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),T.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const u=this.getPointerElement(e);if(u.active=!0,this.viewOptions.keyboardSupport&&u.focus(),r){this.unsubscribeOnMove();const h=p=>this.dragging.active?this.onDragMove(p):this.onMove(p);this.onMoveEventListener=Ir.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",h,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",h,this.viewOptions.mouseEventsInterval)}if(s){this.unsubscribeOnEnd();const h=p=>this.onEnd(p);this.onEndEventListener=Ir.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",h):this.eventListenerHelper.attachEventListener(document,"mouseup",h)}this.userChangeStart.emit(this.getChangeContext()),Ir.isTouchEvent(i)&&!T.isNullOrUndefined(i.changedTouches)&&T.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),a&&this.onEnd(i)}onMove(e,i){let r=null;if(Ir.isTouchEvent(e)){const h=e.changedTouches;for(let p=0;p<h.length;p++)if(h[p].identifier===this.touchId){r=h[p];break}if(T.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const s=T.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier);let o;s<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:s>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(s),o=i&&!T.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){Ir.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,T.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=e+this.viewOptions.step,s=e-this.viewOptions.step,o=e+i/10,a=e-i/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,s=e+this.viewOptions.step,o=e-i/10,a=e+i/10);const u={UP:r,DOWN:s,LEFT:s,RIGHT:r,PAGEUP:o,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(u.LEFT=r,u.RIGHT=s,this.viewOptions.vertical&&(u.UP=s,u.DOWN=r)),u}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),r=T.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,u=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(T.isNullOrUndefined(u)||T.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const h=wt.clampToRange(u,this.viewOptions.floor,this.viewOptions.ceil),p=this.roundStep(h);if(this.viewOptions.draggableRangeOnly){const g=this.viewHighValue-this.viewLowValue;let m,y;this.currentTrackingPointer===G.Min?(m=p,y=p+g,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,m=y-g)):this.currentTrackingPointer===G.Max&&(y=p,m=p-g,m<this.viewOptions.floor&&(m=this.viewOptions.floor,y=m+g)),this.positionTrackingBar(m,y)}else this.positionTrackingHandle(p)}onDragStart(e,i,r,s){const o=this.getEventPosition(i);this.dragging=new k1,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,r,s)}getMinValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(s?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let r,s,o,a;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,a=this.minHandleElement):(r=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,a=this.maxHandleElement);const h=i>=this.maxHandlePosition-r;let p,g;if(i<=s){if(0===o.position)return;p=this.getMinValue(i,!0,!1),g=this.getMaxValue(i,!0,!1)}else if(h){if(a.position===this.maxHandlePosition)return;g=this.getMaxValue(i,!0,!0),p=this.getMinValue(i,!0,!0)}else p=this.getMinValue(i,!1,!1),g=this.getMaxValue(i,!1,!1);this.positionTrackingBar(p,g)}positionTrackingBar(e,i){!T.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=wt.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!T.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=wt.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(G.Min,this.valueToPosition(e)),this.updateHandles(G.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===G.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===G.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===G.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(G.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=G.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===G.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(G.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=G.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===G.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===G.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!T.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!T.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const r=Math.abs(e-(this.currentTrackingPointer===G.Min?this.viewHighValue:this.viewLowValue));if(!T.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===G.Min)return wt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===G.Max)return wt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!T.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===G.Min)return wt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===G.Max)return wt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===G.Min?this.viewHighValue-e:e-this.viewLowValue,r=T.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===G.Min?(this.viewHighValue=wt.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=wt.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(G.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===G.Max&&(this.viewLowValue=wt.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=wt.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(G.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!T.isNullOrUndefined(s)&&i>s&&(this.currentTrackingPointer===G.Min?(this.viewHighValue=wt.roundToPrecisionLimit(e+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(G.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===G.Max&&(this.viewLowValue=wt.roundToPrecisionLimit(e-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(G.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new TV;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(C(On),C(bt),C(di),C(nt))},n.\u0275cmp=ht({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,r){if(1&e&&Jo(r,rV,5),2&e){let s;at(s=lt())&&(i.tooltipTemplate=s.first)}},viewQuery:function(e,i){if(1&e&&(Vt(sV,5,Sr),Vt(oV,5,Sr),Vt(aV,5,Sr),Vt(lV,5,Sr),Vt(uV,5,bp),Vt(cV,5,bp),Vt(dV,5,so),Vt(hV,5,so),Vt(fV,5,so),Vt(pV,5,so),Vt(gV,5,so),Vt(mV,5,Sr)),2&e){let r;at(r=lt())&&(i.leftOuterSelectionBarElement=r.first),at(r=lt())&&(i.rightOuterSelectionBarElement=r.first),at(r=lt())&&(i.fullBarElement=r.first),at(r=lt())&&(i.selectionBarElement=r.first),at(r=lt())&&(i.minHandleElement=r.first),at(r=lt())&&(i.maxHandleElement=r.first),at(r=lt())&&(i.floorLabelElement=r.first),at(r=lt())&&(i.ceilLabelElement=r.first),at(r=lt())&&(i.minHandleLabelElement=r.first),at(r=lt())&&(i.maxHandleLabelElement=r.first),at(r=lt())&&(i.combinedLabelElement=r.first),at(r=lt())&&(i.ticksElement=r.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(e,i){1&e&&Be("resize",function(s){return i.onResize(s)},0,um),2&e&&(tn("disabled",i.sliderElementDisabledAttr),Ln("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[qe([SV]),_n],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(c(0,"span",0,1),f(2,"span",2),d(),c(3,"span",3,4),f(5,"span",2),d(),c(6,"span",5,6),f(8,"span",2),d(),c(9,"span",7,8),f(11,"span",9),d(),f(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),c(26,"span",24,25),ye(28,_V,4,9,"span",26),d()),2&e&&(b(6),Ln("ngx-slider-transparent",i.fullBarTransparentClass),b(3),Ln("ngx-slider-draggable",i.selectionBarDraggableClass),b(2),E("ngStyle",i.barStyle),b(1),E("ngStyle",i.minPointerStyle),b(2),Il("display",i.range?"inherit":"none"),E("ngStyle",i.maxPointerStyle),b(12),Ln("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),E("hidden",!i.showTicks),b(2),E("ngForOf",i.ticks))},dependencies:function(){return[oa,aa,pn,L_,Sr,bp,so,AV]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),AV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=ht({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&(ye(0,EV,2,6,"ng-container",0),ye(1,MV,3,3,"ng-container",0)),2&e&&(E("ngIf",i.template),b(1),E("ngIf",!i.template))},dependencies:[pn,N_],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),kV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n}),n.\u0275inj=Ot({imports:[V_]}),n})();class xV extends up.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}const PV=function(n,t,e){return{playing:n,loading:t,stopped:e}},OV=function(n,t){return{shuffleOn:n,shuffleOff:t}},RV=function(n,t,e,i){return{mute:n,unmute:t,muteDisabled:e,unmuteDisabled:i}};let LV=(()=>{class n{constructor(e,i,r,s){this.musicService=e,this.soundManager=i,this.messageService=r,this.changeDetectorRef=s,this.label="MusicPlayer",this.masterMuted=!1,this._gainsDisabled=new xV(!1),this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=o=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,o?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.subscription=this.messageService.onMessage().subscribe(o=>{"Play"===o.type&&this.play()}),this.musicService.addInstanceEndedListener(`${this.label} endedListener`,(o,a)=>{o&&!a&&this.onNext()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(e){this.soundManager.instance.masterGain=e}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(e){return e<=.2?"#394A00":e<=.4?"#596A06":e<=.6?"#798A0A":e<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(e){return e<=.2?"#5D0800":e<=.4?"#7D2800":e<=.6?"#9D4800":e<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(e){return"#8B91A2"}onPlayStop(){"Loading"!==this.musicService.playState&&("Playing"===this.musicService.playState?this.musicService.stop():this.play())}onNext(){this.musicService.nextTrack(),this.play()}onShuffle(){this.musicService.toggleShuffle()}play(){this.musicService.play(this._gainsDisabled)}onMasterMuteChange(){this._gainsDisabled.value||(this.soundManager.instance.masterMuted=this.masterMuted=!this.masterMuted,this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors}))}}return n.\u0275fac=function(e){return new(e||n)(C(zD),C(dp),C(KD),C(di))},n.\u0275cmp=ht({type:n,selectors:[["app-music-player"]],decls:17,vars:18,consts:[[1,"playerContainer","noSelect"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"span",1),Be("click",function(){return i.onPlayStop()}),f(2,"div",2),d(),c(3,"span",3),Be("click",function(){return i.onNext()}),f(4,"div",4)(5,"div",5),d(),c(6,"span",6)(7,"span"),l(8),d()(),c(9,"span",7)(10,"span",8),Be("click",function(){return i.onShuffle()}),f(11,"div",9),d(),c(12,"span",10),Be("click",function(){return i.onMasterMuteChange()}),f(13,"div",2),d(),c(14,"span",11)(15,"span",12)(16,"ngx-slider",13),Be("valueChange",function(s){return i.masterGain=s}),d()()()()()),2&e&&(b(2),E("ngClass",ah(6,PV,"Playing"===i.playState,"Loading"===i.playState,"Stopped"===i.playState)),b(6),je(i.selectedTrack.name),b(3),E("ngClass",Ko(10,OV,i.isShuffle,!i.isShuffle)),b(2),E("ngClass",function lb(n,t,e,i,r,s,o){return hb(S(),un(),n,t,e,i,r,s,o)}(13,RV,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),b(3),E("value",i.masterGain)("options",i.optionsMasterGain))},dependencies:[oa,P1],styles:['.playerContainer[_ngcontent-%COMP%]{position:fixed;cursor:pointer;border:1px solid var(--colorGrayLightMed);border-radius:1em;padding-top:9px;padding-bottom:7px;z-index:2;transform:translateY(40px);width:90%}.trackName[_ngcontent-%COMP%]{position:fixed;margin-top:1.25px}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:6%;height:23px}.stopped[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:rotationFastReverse .5s infinite linear}@keyframes rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);animation:rotation 3s infinite linear;transition:all .2s}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(-359deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:42%;height:24px;float:right}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.playIconContainer[_ngcontent-%COMP%]{width:7%}.nextContainer[_ngcontent-%COMP%]{padding-right:2%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 452px) and (max-width: 703px){.playerContainer[_ngcontent-%COMP%]{margin:5px 0%}.playIconContainer[_ngcontent-%COMP%]{width:6%}.nextContainer[_ngcontent-%COMP%]{padding-right:3%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 704px) and (max-width: 1053px){.playerContainer[_ngcontent-%COMP%]{margin:10px 5%;width:80%}.playIconContainer[_ngcontent-%COMP%]{width:5%}.nextContainer[_ngcontent-%COMP%]{padding-right:4%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.playerContainer[_ngcontent-%COMP%]{margin:15px 10%;width:70%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.playerContainer[_ngcontent-%COMP%]{margin:20px 15%;width:60%}}@media screen and (min-width: 2001px){.playerContainer[_ngcontent-%COMP%]{margin:25px 20%;width:50%}}']}),n})();function NV(n,t){1&n&&(c(0,"div")(1,"label"),l(2,"Has to be a valid email address"),d()())}function FV(n,t){if(1&n&&(c(0,"div",21),ye(1,NV,3,0,"div",18),d()),2&n){const e=ve(3);b(1),E("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.pattern)}}function VV(n,t){if(1&n&&(c(0,"div")(1,"label"),l(2,"* Your Email:"),d(),f(3,"br")(4,"input",17),ye(5,FV,2,1,"div",20),f(6,"br")(7,"br"),d()),2&n){const e=ve(2);b(4),Nt("placeholder",e.placeholderEmail),Nt("formControlName",e.emailName),Nt("name",e.emailName),b(1),E("ngIf",e.emailControl.invalid)}}function BV(n,t){if(1&n){const e=dr();c(0,"div",13)(1,"form",14),f(2,"input",15),c(3,"label"),l(4),d(),f(5,"br")(6,"textarea",16)(7,"br")(8,"br"),c(9,"label"),l(10,"* Your Name / Handle:"),d(),f(11,"br")(12,"input",17)(13,"br")(14,"br"),ye(15,VV,8,4,"div",18),c(16,"button",19),Be("click",function(){return rr(e),sr(ve().onSendClick())}),l(17,"Send"),d()()()}if(2&n){const e=ve();b(1),Nt("name",e.formName),E("formGroup",e.messageForm),b(1),Nt("value",e.formName),b(2),je(e.messageLabel),b(2),Nt("placeholder",e.placeholderText),Nt("formControlName",e.messageName),Nt("name",e.messageName),E("maxlength",300),b(6),Nt("placeholder",e.placeholderHandle),Nt("formControlName",e.handleName),Nt("name",e.handleName),b(3),E("ngIf","/home"===e.urlEnd),b(1),E("disabled",e.messageForm.invalid)}}let HV=(()=>{class n{constructor(e,i,r,s){this.fb=e,this.http=i,this.router=r,this.logService=s,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* your comment will pend for moderation\n* this Comment-form will become hidden\nAfter approval I will publish your comment,\nI might also include a short response.",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(gn(o=>o instanceof qi)).subscribe(o=>{this.showCommentForm=!0,this.urlEnd=o.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(Er.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(Er.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[Er.required]],[this.handleName]:["",[Er.required]],[this.emailName]:["",[Er.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}onSendClick(){let e=(new Zi).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);e=e.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",e),this.http.post("/",e.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(i=>{this.logService.log("Info","result handler:",i),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},i=>{this.showCommentForm=!1,i instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",i.error),this.headerText="Something went wrong with sending"):200===i.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",i.status),this.logService.log("Error","Error body:",i.error))}),this.messageForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(C(kD),C(sp),C(Wt),C(Aa))},n.\u0275cmp=ht({type:n,selectors:[["app-root"]],decls:29,vars:2,consts:[[1,"headerContainer"],[1,"headerBackground"],[1,"noSelect"],["routerLink","/home","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],["routerLink","/lifting","routerLinkActive","active"],[1,"footer"],[1,"horizontalLine"],["class","messageForm",4,"ngIf"],[1,"tribute"],["href","https://icons8.com/icon/102034/mute"],["href","https://icons8.com/icon/108731/sound"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(e,i){1&e&&(c(0,"div",0),f(1,"div",1),c(2,"nav",2)(3,"li")(4,"a",3),l(5,"Home"),d()(),c(6,"li")(7,"a",4),l(8,"Music"),d()(),c(9,"li")(10,"a",5),l(11,"Blog"),d()(),c(12,"li")(13,"a",6),l(14,"Lifting"),d()()(),f(15,"app-music-player"),d(),f(16,"router-outlet"),c(17,"div",7),f(18,"div",8),c(19,"h2"),l(20),d(),ye(21,BV,18,13,"div",9),c(22,"div",10)(23,"small")(24,"a",11),l(25,"Mute icon by Icons8"),d(),f(26,"br"),c(27,"a",12),l(28,"Sound icon by Icons8"),d()()()()),2&e&&(b(20),je(i.headerText),b(1),E("ngIf",i.showCommentForm))},dependencies:[yu,Iu,fC,pn,zf,wa,Nf,Ff,Uu,Ia,Hu,LV],encapsulation:2}),n})(),UV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=$t({type:n,bootstrap:[HV]}),n.\u0275inj=Ot({providers:[{provide:WD,useExisting:iF},{provide:Wu,useValue:{coreLibraryLoader:()=>mt.e(112).then(mt.bind(mt,9112)),languages:{typescript:()=>mt.e(852).then(mt.bind(mt,9852))}}}],imports:[zF,aP,FN,w1,kV,J3,tp,RF]}),n})();(function Yk(){s_=!1})(),oP().bootstrapModule(UV)},8089:(Jn,En)=>{"use strict";var Ut={update:function(){if(typeof window<"u"&&"function"==typeof window.addEventListener){var Ct=!1,Y=Object.defineProperty({},"passive",{get:function(){Ct=!0}}),qt=function(){};window.addEventListener("testPassiveEventSupport",qt,Y),window.removeEventListener("testPassiveEventSupport",qt,Y),Ut.hasSupport=Ct}}};Ut.update(),En.Z=Ut},9069:Jn=>{"use strict";var Ut,En="object"==typeof Reflect?Reflect:null,mt=En&&"function"==typeof En.apply?En.apply:function(O,B,F){return Function.prototype.apply.call(O,B,F)};Ut=En&&"function"==typeof En.ownKeys?En.ownKeys:Object.getOwnPropertySymbols?function(O){return Object.getOwnPropertyNames(O).concat(Object.getOwnPropertySymbols(O))}:function(O){return Object.getOwnPropertyNames(O)};var Ct=Number.isNaN||function(O){return O!=O};function Y(){Y.init.call(this)}Jn.exports=Y,Jn.exports.once=function es(L,O){return new Promise(function(B,F){function ee(_){L.removeListener(O,ie),F(_)}function ie(){"function"==typeof L.removeListener&&L.removeListener("error",ee),B([].slice.call(arguments))}Bn(L,O,ie,{once:!0}),"error"!==O&&function Ai(L,O,B){"function"==typeof L.on&&Bn(L,"error",O,B)}(L,ee,{once:!0})})},Y.EventEmitter=Y,Y.prototype._events=void 0,Y.prototype._eventsCount=0,Y.prototype._maxListeners=void 0;var qt=10;function Zt(L){if("function"!=typeof L)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof L)}function Xn(L){return void 0===L._maxListeners?Y.defaultMaxListeners:L._maxListeners}function oo(L,O,B,F){var ee,ie,_;if(Zt(B),void 0===(ie=L._events)?(ie=L._events=Object.create(null),L._eventsCount=0):(void 0!==ie.newListener&&(L.emit("newListener",O,B.listener?B.listener:B),ie=L._events),_=ie[O]),void 0===_)_=ie[O]=B,++L._eventsCount;else if("function"==typeof _?_=ie[O]=F?[B,_]:[_,B]:F?_.unshift(B):_.push(B),(ee=Xn(L))>0&&_.length>ee&&!_.warned){_.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(O)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=L,w.type=O,w.count=_.length,function pi(L){console&&console.warn&&console.warn(L)}(w)}return L}function le(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ke(L,O,B){var F={fired:!1,wrapFn:void 0,target:L,type:O,listener:B},ee=le.bind(F);return ee.listener=B,F.wrapFn=ee,ee}function rn(L,O,B){var F=L._events;if(void 0===F)return[];var ee=F[O];return void 0===ee?[]:"function"==typeof ee?B?[ee.listener||ee]:[ee]:B?function Si(L){for(var O=new Array(L.length),B=0;B<O.length;++B)O[B]=L[B].listener||L[B];return O}(ee):Xi(ee,ee.length)}function Vn(L){var O=this._events;if(void 0!==O){var B=O[L];if("function"==typeof B)return 1;if(void 0!==B)return B.length}return 0}function Xi(L,O){for(var B=new Array(O),F=0;F<O;++F)B[F]=L[F];return B}function Bn(L,O,B,F){if("function"==typeof L.on)F.once?L.once(O,B):L.on(O,B);else{if("function"!=typeof L.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof L);L.addEventListener(O,function ee(ie){F.once&&L.removeEventListener(O,ee),B(ie)})}}Object.defineProperty(Y,"defaultMaxListeners",{enumerable:!0,get:function(){return qt},set:function(L){if("number"!=typeof L||L<0||Ct(L))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+L+".");qt=L}}),Y.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Y.prototype.setMaxListeners=function(O){if("number"!=typeof O||O<0||Ct(O))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+O+".");return this._maxListeners=O,this},Y.prototype.getMaxListeners=function(){return Xn(this)},Y.prototype.emit=function(O){for(var B=[],F=1;F<arguments.length;F++)B.push(arguments[F]);var ee="error"===O,ie=this._events;if(void 0!==ie)ee=ee&&void 0===ie.error;else if(!ee)return!1;if(ee){var _;if(B.length>0&&(_=B[0]),_ instanceof Error)throw _;var w=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw w.context=_,w}var x=ie[O];if(void 0===x)return!1;if("function"==typeof x)mt(x,this,B);else{var N=x.length,Q=Xi(x,N);for(F=0;F<N;++F)mt(Q[F],this,B)}return!0},Y.prototype.on=Y.prototype.addListener=function(O,B){return oo(this,O,B,!1)},Y.prototype.prependListener=function(O,B){return oo(this,O,B,!0)},Y.prototype.once=function(O,B){return Zt(B),this.on(O,ke(this,O,B)),this},Y.prototype.prependOnceListener=function(O,B){return Zt(B),this.prependListener(O,ke(this,O,B)),this},Y.prototype.off=Y.prototype.removeListener=function(O,B){var F,ee,ie,_,w;if(Zt(B),void 0===(ee=this._events))return this;if(void 0===(F=ee[O]))return this;if(F===B||F.listener===B)0==--this._eventsCount?this._events=Object.create(null):(delete ee[O],ee.removeListener&&this.emit("removeListener",O,F.listener||B));else if("function"!=typeof F){for(ie=-1,_=F.length-1;_>=0;_--)if(F[_]===B||F[_].listener===B){w=F[_].listener,ie=_;break}if(ie<0)return this;0===ie?F.shift():function Te(L,O){for(;O+1<L.length;O++)L[O]=L[O+1];L.pop()}(F,ie),1===F.length&&(ee[O]=F[0]),void 0!==ee.removeListener&&this.emit("removeListener",O,w||B)}return this},Y.prototype.removeAllListeners=function(O){var B,F,ee;if(void 0===(F=this._events))return this;if(void 0===F.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==F[O]&&(0==--this._eventsCount?this._events=Object.create(null):delete F[O]),this;if(0===arguments.length){var _,ie=Object.keys(F);for(ee=0;ee<ie.length;++ee)"removeListener"!==(_=ie[ee])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(B=F[O]))this.removeListener(O,B);else if(void 0!==B)for(ee=B.length-1;ee>=0;ee--)this.removeListener(O,B[ee]);return this},Y.prototype.listeners=function(O){return rn(this,O,!0)},Y.prototype.rawListeners=function(O){return rn(this,O,!1)},Y.listenerCount=function(L,O){return"function"==typeof L.listenerCount?L.listenerCount(O):Vn.call(L,O)},Y.prototype.listenerCount=Vn,Y.prototype.eventNames=function(){return this._eventsCount>0?Ut(this._events):[]}},3028:function(Jn,En){var mt,pi;mt=function Ct(){"use strict";var Y=typeof self<"u"?self:typeof window<"u"?window:void 0!==Y?Y:{},qt=!Y.document&&!!Y.postMessage,Zt=qt&&/blob:/i.test((Y.location||{}).protocol),Xn={},oo=0,le={parse:function(_,w){var x=(w=w||{}).dynamicTyping||!1;if(ie(x)&&(w.dynamicTypingFunction=x,x={}),w.dynamicTyping=x,w.transform=!!ie(w.transform)&&w.transform,w.worker&&le.WORKERS_SUPPORTED){var N=function(){if(!le.WORKERS_SUPPORTED)return!1;var kt,rt,he=(kt=Y.URL||Y.webkitURL||null,rt=Ct.toString(),le.BLOB_URL||(le.BLOB_URL=kt.createObjectURL(new Blob(["(",rt,")();"],{type:"text/javascript"})))),R=new Y.Worker(he);return R.onmessage=L,R.id=oo++,Xn[R.id]=R}();return N.userStep=w.step,N.userChunk=w.chunk,N.userComplete=w.complete,N.userError=w.error,w.step=ie(w.step),w.chunk=ie(w.chunk),w.complete=ie(w.complete),w.error=ie(w.error),delete w.worker,void N.postMessage({input:_,config:w,workerId:N.id})}var Q=null;return"string"==typeof _?Q=w.download?new Vn(w):new Te(w):!0===_.readable&&ie(_.read)&&ie(_.on)?Q=new Si(w):(Y.File&&_ instanceof File||_ instanceof Object)&&(Q=new Xi(w)),Q.stream(_)},unparse:function(_,w){var x=!1,N=!0,Q=",",he="\r\n",R='"',kt=R+R,rt=!1,J=null,dt=!1;!function(){if("object"==typeof w){if("string"!=typeof w.delimiter||le.BAD_DELIMITERS.filter(function(z){return-1!==w.delimiter.indexOf(z)}).length||(Q=w.delimiter),("boolean"==typeof w.quotes||"function"==typeof w.quotes||Array.isArray(w.quotes))&&(x=w.quotes),"boolean"!=typeof w.skipEmptyLines&&"string"!=typeof w.skipEmptyLines||(rt=w.skipEmptyLines),"string"==typeof w.newline&&(he=w.newline),"string"==typeof w.quoteChar&&(R=w.quoteChar),"boolean"==typeof w.header&&(N=w.header),Array.isArray(w.columns)){if(0===w.columns.length)throw new Error("Option columns is empty");J=w.columns}void 0!==w.escapeChar&&(kt=w.escapeChar+R),"boolean"==typeof w.escapeFormulae&&(dt=w.escapeFormulae)}}();var ce=new RegExp(Ai(R),"g");if("string"==typeof _&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return xt(null,_,rt);if("object"==typeof _[0])return xt(J||Object.keys(_[0]),_,rt)}else if("object"==typeof _)return"string"==typeof _.data&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:"object"==typeof _.data[0]?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||"object"==typeof _.data[0]||(_.data=[_.data])),xt(_.fields||[],_.data||[],rt);throw new Error("Unable to serialize unrecognized input");function xt(z,Qe,ot){var Pt="";"string"==typeof z&&(z=JSON.parse(z)),"string"==typeof Qe&&(Qe=JSON.parse(Qe));var yt=Array.isArray(z)&&0<z.length,Dt=!Array.isArray(Qe[0]);if(yt&&N){for(var Et=0;Et<z.length;Et++)0<Et&&(Pt+=Q),Pt+=zt(z[Et],Et);0<Qe.length&&(Pt+=he)}for(var re=0;re<Qe.length;re++){var Ne=yt?z.length:Qe[re].length,ze=!1,Je=yt?0===Object.keys(Qe[re]).length:0===Qe[re].length;if(ot&&!yt&&(ze="greedy"===ot?""===Qe[re].join("").trim():1===Qe[re].length&&0===Qe[re][0].length),"greedy"===ot&&yt){for(var xe=[],X=0;X<Ne;X++)xe.push(Qe[re][Dt?z[X]:X]);ze=""===xe.join("").trim()}if(!ze){for(var de=0;de<Ne;de++)0<de&&!Je&&(Pt+=Q),Pt+=zt(Qe[re][yt&&Dt?z[de]:de],de);re<Qe.length-1&&(!ot||0<Ne&&!Je)&&(Pt+=he)}}return Pt}function zt(z,Qe){if(null==z)return"";if(z.constructor===Date)return JSON.stringify(z).slice(1,25);!0===dt&&"string"==typeof z&&null!==z.match(/^[=+\-@].*$/)&&(z="'"+z);var ot=z.toString().replace(ce,kt);return"boolean"==typeof x&&x||"function"==typeof x&&x(z,Qe)||Array.isArray(x)&&x[Qe]||function(yt,Dt){for(var Et=0;Et<Dt.length;Et++)if(-1<yt.indexOf(Dt[Et]))return!0;return!1}(ot,le.BAD_DELIMITERS)||-1<ot.indexOf(Q)||" "===ot.charAt(0)||" "===ot.charAt(ot.length-1)?R+ot+R:ot}}};if(le.RECORD_SEP=String.fromCharCode(30),le.UNIT_SEP=String.fromCharCode(31),le.BYTE_ORDER_MARK="\ufeff",le.BAD_DELIMITERS=["\r","\n",'"',le.BYTE_ORDER_MARK],le.WORKERS_SUPPORTED=!qt&&!!Y.Worker,le.NODE_STREAM_INPUT=1,le.LocalChunkSize=10485760,le.RemoteChunkSize=5242880,le.DefaultDelimiter=",",le.Parser=Bn,le.ParserHandle=es,le.NetworkStreamer=Vn,le.FileStreamer=Xi,le.StringStreamer=Te,le.ReadableStreamStreamer=Si,Y.jQuery){var ke=Y.jQuery;ke.fn.parse=function(_){var w=_.config||{},x=[];return this.each(function(he){if("INPUT"!==ke(this).prop("tagName").toUpperCase()||"file"!==ke(this).attr("type").toLowerCase()||!Y.FileReader||!this.files||0===this.files.length)return!0;for(var R=0;R<this.files.length;R++)x.push({file:this.files[R],inputElem:this,instanceConfig:ke.extend({},w)})}),N(),this;function N(){if(0!==x.length){var R,kt,rt,J=x[0];if(ie(_.before)){var dt=_.before(J.file,J.inputElem);if("object"==typeof dt){if("abort"===dt.action)return"AbortError",R=J.file,kt=J.inputElem,rt=dt.reason,void(ie(_.error)&&_.error({name:"AbortError"},R,kt,rt));if("skip"===dt.action)return void Q();"object"==typeof dt.config&&(J.instanceConfig=ke.extend(J.instanceConfig,dt.config))}else if("skip"===dt)return void Q()}var ce=J.instanceConfig.complete;J.instanceConfig.complete=function(xt){ie(ce)&&ce(xt,J.file,J.inputElem),Q()},le.parse(J.file,J.instanceConfig)}else ie(_.complete)&&_.complete()}function Q(){x.splice(0,1),N()}}}function rn(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(w){var x=F(w);x.chunkSize=parseInt(x.chunkSize),w.step||w.chunk||(x.chunkSize=null),this._handle=new es(x),(this._handle.streamer=this)._config=x}.call(this,_),this.parseChunk=function(w,x){if(this.isFirstChunk&&ie(this._config.beforeFirstChunk)){var N=this._config.beforeFirstChunk(w);void 0!==N&&(w=N)}this.isFirstChunk=!1,this._halted=!1;var Q=this._partialLine+w;this._partialLine="";var he=this._handle.parse(Q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var R=he.meta.cursor;this._finished||(this._partialLine=Q.substring(R-this._baseIndex),this._baseIndex=R),he&&he.data&&(this._rowCount+=he.data.length);var kt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Zt)Y.postMessage({results:he,workerId:le.WORKER_ID,finished:kt});else if(ie(this._config.chunk)&&!x){if(this._config.chunk(he,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);he=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(he.data),this._completeResults.errors=this._completeResults.errors.concat(he.errors),this._completeResults.meta=he.meta),this._completed||!kt||!ie(this._config.complete)||he&&he.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),kt||he&&he.meta.paused||this._nextChunk(),he}this._halted=!0},this._sendError=function(w){ie(this._config.error)?this._config.error(w):Zt&&this._config.error&&Y.postMessage({workerId:le.WORKER_ID,error:w,finished:!1})}}function Vn(_){var w;(_=_||{}).chunkSize||(_.chunkSize=le.RemoteChunkSize),rn.call(this,_),this._nextChunk=qt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(w=new XMLHttpRequest,this._config.withCredentials&&(w.withCredentials=this._config.withCredentials),qt||(w.onload=ee(this._chunkLoaded,this),w.onerror=ee(this._chunkError,this)),w.open(this._config.downloadRequestBody?"POST":"GET",this._input,!qt),this._config.downloadRequestHeaders){var x=this._config.downloadRequestHeaders;for(var N in x)w.setRequestHeader(N,x[N])}this._config.chunkSize&&w.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{w.send(this._config.downloadRequestBody)}catch(he){this._chunkError(he.message)}qt&&0===w.status&&this._chunkError()}},this._chunkLoaded=function(){var N;4===w.readyState&&(w.status<200||400<=w.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:w.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(N=w.getResponseHeader("Content-Range"))?-1:parseInt(N.substring(N.lastIndexOf("/")+1))),this.parseChunk(w.responseText)))},this._chunkError=function(x){this._sendError(new Error(w.statusText||x))}}function Xi(_){var w,x;(_=_||{}).chunkSize||(_.chunkSize=le.LocalChunkSize),rn.call(this,_);var N=typeof FileReader<"u";this.stream=function(Q){this._input=Q,x=Q.slice||Q.webkitSlice||Q.mozSlice,N?((w=new FileReader).onload=ee(this._chunkLoaded,this),w.onerror=ee(this._chunkError,this)):w=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Q=this._input;if(this._config.chunkSize){var he=Math.min(this._start+this._config.chunkSize,this._input.size);Q=x.call(Q,this._start,he)}var R=w.readAsText(Q,this._config.encoding);N||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(Q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Q.target.result)},this._chunkError=function(){this._sendError(w.error)}}function Te(_){var w;rn.call(this,_=_||{}),this.stream=function(x){return w=x,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var x,N=this._config.chunkSize;return N?(x=w.substring(0,N),w=w.substring(N)):(x=w,w=""),this._finished=!w,this.parseChunk(x)}}}function Si(_){rn.call(this,_=_||{});var w=[],x=!0,N=!1;this.pause=function(){rn.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){rn.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Q){this._input=Q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&1===w.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),w.length?this.parseChunk(w.shift()):x=!0},this._streamData=ee(function(Q){try{w.push("string"==typeof Q?Q:Q.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(w.shift()))}catch(he){this._streamError(he)}},this),this._streamError=ee(function(Q){this._streamCleanUp(),this._sendError(Q)},this),this._streamEnd=ee(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function es(_){var w,x,N,Q=Math.pow(2,53),he=-Q,R=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,kt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,rt=this,J=0,dt=0,ce=!1,xt=!1,zt=[],z={data:[],errors:[],meta:{}};if(ie(_.step)){var Qe=_.step;_.step=function(re){if(z=re,yt())Pt();else{if(Pt(),0===z.data.length)return;J+=re.data.length,_.preview&&J>_.preview?x.abort():(z.data=z.data[0],Qe(z,rt))}}}function ot(re){return"greedy"===_.skipEmptyLines?""===re.join("").trim():1===re.length&&0===re[0].length}function Pt(){if(z&&N&&(Et("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+le.DefaultDelimiter+"'"),N=!1),_.skipEmptyLines)for(var re=0;re<z.data.length;re++)ot(z.data[re])&&z.data.splice(re--,1);return yt()&&function(){if(z)if(Array.isArray(z.data[0])){for(var ze=0;yt()&&ze<z.data.length;ze++)z.data[ze].forEach(Ne);z.data.splice(0,1)}else z.data.forEach(Ne);function Ne(Je,xe){ie(_.transformHeader)&&(Je=_.transformHeader(Je,xe)),zt.push(Je)}}(),function(){if(!z||!_.header&&!_.dynamicTyping&&!_.transform)return z;function Ne(Je,xe){var X,Xe=_.header?{}:[];for(X=0;X<Je.length;X++){var de=X,vt=Je[X];_.header&&(de=X>=zt.length?"__parsed_extra":zt[X]),_.transform&&(vt=_.transform(vt,de)),vt=Dt(de,vt),"__parsed_extra"===de?(Xe[de]=Xe[de]||[],Xe[de].push(vt)):Xe[de]=vt}return _.header&&(X>zt.length?Et("FieldMismatch","TooManyFields","Too many fields: expected "+zt.length+" fields but parsed "+X,dt+xe):X<zt.length&&Et("FieldMismatch","TooFewFields","Too few fields: expected "+zt.length+" fields but parsed "+X,dt+xe)),Xe}var ze=1;return!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(Ne),ze=z.data.length):z.data=Ne(z.data,0),_.header&&z.meta&&(z.meta.fields=zt),dt+=ze,z}()}function yt(){return _.header&&0===zt.length}function Dt(re,Ne){return ze=re,_.dynamicTypingFunction&&void 0===_.dynamicTyping[ze]&&(_.dynamicTyping[ze]=_.dynamicTypingFunction(ze)),!0===(_.dynamicTyping[ze]||_.dynamicTyping)?"true"===Ne||"TRUE"===Ne||"false"!==Ne&&"FALSE"!==Ne&&(function(Je){if(R.test(Je)){var xe=parseFloat(Je);if(he<xe&&xe<Q)return!0}return!1}(Ne)?parseFloat(Ne):kt.test(Ne)?new Date(Ne):""===Ne?null:Ne):Ne;var ze}function Et(re,Ne,ze,Je){var xe={type:re,code:Ne,message:ze};void 0!==Je&&(xe.row=Je),z.errors.push(xe)}this.parse=function(re,Ne,ze){if(_.newline||(_.newline=function(Xe,de){Xe=Xe.substring(0,1048576);var vt=new RegExp(Ai(de)+"([^]*?)"+Ai(de),"gm"),Hn=(Xe=Xe.replace(vt,"")).split("\r"),jt=Xe.split("\n");if(1===Hn.length||1<jt.length&&jt[0].length<Hn[0].length)return"\n";for(var Un=0,yn=0;yn<Hn.length;yn++)"\n"===Hn[yn][0]&&Un++;return Un>=Hn.length/2?"\r\n":"\r"}(re,_.quoteChar||'"')),N=!1,_.delimiter)ie(_.delimiter)&&(_.delimiter=_.delimiter(re),z.meta.delimiter=_.delimiter);else{var xe=function(Xe,de,vt,Hn,jt){var et,Un,yn,Kt;jt=jt||[",","\t","|",";",le.RECORD_SEP,le.UNIT_SEP];for(var sn=0;sn<jt.length;sn++){var Mt=jt[sn],er=0,vn=0,Na=0;yn=void 0;for(var Ar=new Bn({comments:Hn,delimiter:Mt,newline:de,preview:10}).parse(Xe),tr=0;tr<Ar.data.length;tr++)if(vt&&ot(Ar.data[tr]))Na++;else{var kr=Ar.data[tr].length;vn+=kr,void 0!==yn?0<kr&&(er+=Math.abs(kr-yn),yn=kr):yn=kr}0<Ar.data.length&&(vn/=Ar.data.length-Na),(void 0===Un||er<=Un)&&(void 0===Kt||Kt<vn)&&1.99<vn&&(Un=er,et=Mt,Kt=vn)}return{successful:!!(_.delimiter=et),bestDelimiter:et}}(re,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);xe.successful?_.delimiter=xe.bestDelimiter:(N=!0,_.delimiter=le.DefaultDelimiter),z.meta.delimiter=_.delimiter}var X=F(_);return _.preview&&_.header&&X.preview++,w=re,x=new Bn(X),z=x.parse(w,Ne,ze),Pt(),ce?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return ce},this.pause=function(){ce=!0,x.abort(),w=ie(_.chunk)?"":w.substring(x.getCharIndex())},this.resume=function(){rt.streamer._halted?(ce=!1,rt.streamer.parseChunk(w,!0)):setTimeout(rt.resume,3)},this.aborted=function(){return xt},this.abort=function(){xt=!0,x.abort(),z.meta.aborted=!0,ie(_.complete)&&_.complete(z),w=""}}function Ai(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Bn(_){var w,x=(_=_||{}).delimiter,N=_.newline,Q=_.comments,he=_.step,R=_.preview,kt=_.fastMode,rt=w=void 0===_.quoteChar?'"':_.quoteChar;if(void 0!==_.escapeChar&&(rt=_.escapeChar),("string"!=typeof x||-1<le.BAD_DELIMITERS.indexOf(x))&&(x=","),Q===x)throw new Error("Comment character same as delimiter");!0===Q?Q="#":("string"!=typeof Q||-1<le.BAD_DELIMITERS.indexOf(Q))&&(Q=!1),"\n"!==N&&"\r"!==N&&"\r\n"!==N&&(N="\n");var J=0,dt=!1;this.parse=function(ce,xt,zt){if("string"!=typeof ce)throw new Error("Input must be a string");var z=ce.length,Qe=x.length,ot=N.length,Pt=Q.length,yt=ie(he),Dt=[],Et=[],re=[],Ne=J=0;if(!ce)return Kt();if(kt||!1!==kt&&-1===ce.indexOf(w)){for(var ze=ce.split(N),Je=0;Je<ze.length;Je++){if(J+=(re=ze[Je]).length,Je!==ze.length-1)J+=N.length;else if(zt)return Kt();if(!Q||re.substring(0,Pt)!==Q){if(yt){if(Dt=[],jt(re.split(x)),sn(),dt)return Kt()}else jt(re.split(x));if(R&&R<=Je)return Dt=Dt.slice(0,R),Kt(!0)}}return Kt()}for(var xe=ce.indexOf(x,J),X=ce.indexOf(N,J),Xe=new RegExp(Ai(rt)+Ai(w),"g"),de=ce.indexOf(w,J);;)if(ce[J]!==w)if(Q&&0===re.length&&ce.substring(J,J+Pt)===Q){if(-1===X)return Kt();X=ce.indexOf(N,J=X+ot),xe=ce.indexOf(x,J)}else if(-1!==xe&&(xe<X||-1===X))re.push(ce.substring(J,xe)),xe=ce.indexOf(x,J=xe+Qe);else{if(-1===X)break;if(re.push(ce.substring(J,X)),yn(X+ot),yt&&(sn(),dt))return Kt();if(R&&Dt.length>=R)return Kt(!0)}else for(de=J,J++;;){if(-1===(de=ce.indexOf(w,de+1)))return zt||Et.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Dt.length,index:J}),Un();if(de===z-1)return Un(ce.substring(J,de).replace(Xe,w));if(w!==rt||ce[de+1]!==rt){if(w===rt||0===de||ce[de-1]!==rt){-1!==xe&&xe<de+1&&(xe=ce.indexOf(x,de+1)),-1!==X&&X<de+1&&(X=ce.indexOf(N,de+1));var vt=et(-1===X?xe:Math.min(xe,X));if(ce[de+1+vt]===x){re.push(ce.substring(J,de).replace(Xe,w)),ce[J=de+1+vt+Qe]!==w&&(de=ce.indexOf(w,J)),xe=ce.indexOf(x,J),X=ce.indexOf(N,J);break}var Hn=et(X);if(ce.substring(de+1+Hn,de+1+Hn+ot)===N){if(re.push(ce.substring(J,de).replace(Xe,w)),yn(de+1+Hn+ot),xe=ce.indexOf(x,J),de=ce.indexOf(w,J),yt&&(sn(),dt))return Kt();if(R&&Dt.length>=R)return Kt(!0);break}Et.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Dt.length,index:J}),de++}}else de++}return Un();function jt(Mt){Dt.push(Mt),Ne=J}function et(Mt){var er=0;if(-1!==Mt){var vn=ce.substring(de+1,Mt);vn&&""===vn.trim()&&(er=vn.length)}return er}function Un(Mt){return zt||(void 0===Mt&&(Mt=ce.substring(J)),re.push(Mt),J=z,jt(re),yt&&sn()),Kt()}function yn(Mt){J=Mt,jt(re),re=[],X=ce.indexOf(N,J)}function Kt(Mt){return{data:Dt,errors:Et,meta:{delimiter:x,linebreak:N,aborted:dt,truncated:!!Mt,cursor:Ne+(xt||0)}}}function sn(){he(Kt()),Dt=[],Et=[]}},this.abort=function(){dt=!0},this.getCharIndex=function(){return J}}function L(_){var w=_.data,x=Xn[w.workerId],N=!1;if(w.error)x.userError(w.error,w.file);else if(w.results&&w.results.data){var Q={abort:function(){N=!0,O(w.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:B,resume:B};if(ie(x.userStep)){for(var he=0;he<w.results.data.length&&(x.userStep({data:w.results.data[he],errors:w.results.errors,meta:w.results.meta},Q),!N);he++);delete w.results}else ie(x.userChunk)&&(x.userChunk(w.results,Q,w.file),delete w.results)}w.finished&&!N&&O(w.workerId,w.results)}function O(_,w){var x=Xn[_];ie(x.userComplete)&&x.userComplete(w),x.terminate(),delete Xn[_]}function B(){throw new Error("Not implemented.")}function F(_){if("object"!=typeof _||null===_)return _;var w=Array.isArray(_)?[]:{};for(var x in _)w[x]=F(_[x]);return w}function ee(_,w){return function(){_.apply(w,arguments)}}function ie(_){return"function"==typeof _}return Zt&&(Y.onmessage=function(_){var w=_.data;if(void 0===le.WORKER_ID&&w&&(le.WORKER_ID=w.workerId),"string"==typeof w.input)Y.postMessage({workerId:le.WORKER_ID,results:le.parse(w.input,w.config),finished:!0});else if(Y.File&&w.input instanceof File||w.input instanceof Object){var x=le.parse(w.input,w.config);x&&Y.postMessage({workerId:le.WORKER_ID,results:x,finished:!0})}}),(Vn.prototype=Object.create(rn.prototype)).constructor=Vn,(Xi.prototype=Object.create(rn.prototype)).constructor=Xi,(Te.prototype=Object.create(Te.prototype)).constructor=Te,(Si.prototype=Object.create(rn.prototype)).constructor=Si,le},void 0!==(pi=mt.apply(En,[]))&&(Jn.exports=pi)},305:Jn=>{"use strict";Jn.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis (dinosaur)"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus (dinosaur)"},{"kg":75900,"name":"Notocolossus gonzalezparejasi (dinosaur)"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum (dinosaur)"},{"kg":72600,"name":"Apatosaurus ajax (dinosaur)"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum (dinosaur)"},{"kg":60000,"name":"Sauroposeidon proteles (dinosaur)"},{"kg":59300,"name":"Dreadnoughtus schrani (dinosaur)"},{"kg":59000,"name":"Paralititan stromeri (dinosaur)"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus (dinosaur)"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex (dinosaur)"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus (dinosaur)"},{"kg":13800,"name":"Giganotosaurus carolinii (dinosaur)"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis (dinosaur)"},{"kg":7000,"name":"Oxalaia quilombensis (dinosaur)"},{"kg":6999,"name":"Tyrannotitan chubutensis (dinosaur)"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus (dinosaur)"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis (dinosaur)"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis (dinosaur)"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"African hedgehog"}]')}},Jn=>{Jn(Jn.s=9306)}]);