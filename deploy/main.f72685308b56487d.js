(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{9619:(ii,bn,vt)=>{"use strict";function Ut(n){return"function"==typeof n}let Ei=!1;const St={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else Ei&&console.log("RxJS: Back to a better error behavior. Thank you. <3");Ei=n},get useDeprecatedSynchronousErrorHandling(){return Ei}};function K(n){setTimeout(()=>{throw n},0)}const Qt={closed:!0,next(n){},error(n){if(St.useDeprecatedSynchronousErrorHandling)throw n;K(n)},complete(){}},Zt=Array.isArray||(n=>n&&"number"==typeof n.length);function si(n){return null!==n&&"object"==typeof n}const ae=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class Pe{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof Pe)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if(Ut(i))try{i.call(this)}catch(r){t=r instanceof ae?rn(r.errors):[r]}if(Zt(s)){let r=-1,o=s.length;for(;++r<o;){const a=s[r];if(si(a))try{a.unsubscribe()}catch(l){t=t||[],l instanceof ae?t=t.concat(rn(l.errors)):t.push(l)}}}if(t)throw new ae(t)}add(t){let e=t;if(!t)return Pe.EMPTY;switch(typeof t){case"function":e=new Pe(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof Pe)){const r=e;e=new Pe,e._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof Pe){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const s=this._subscriptions;return null===s?this._subscriptions=[e]:s.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function rn(n){return n.reduce((t,e)=>t.concat(e instanceof ae?e.errors:e),[])}Pe.EMPTY=((n=new Pe).closed=!0,n);const Un="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class ke extends Pe{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Qt;break;case 1:if(!t){this.destination=Qt;break}if("object"==typeof t){t instanceof ke?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new $i(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new $i(this,t,e,i)}}[Un](){return this}static create(t,e,i){const s=new ke(t,e,i);return s.syncErrorThrowable=!1,s}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class $i extends ke{constructor(t,e,i,s){super(),this._parentSubscriber=t;let r,o=this;Ut(e)?r=e:e&&(r=e.next,i=e.error,s=e.complete,e!==Qt&&(o=Object.create(e),Ut(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=r,this._error=i,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;St.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=St;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):K(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;K(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);St.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),St.useDeprecatedSynchronousErrorHandling)throw i;K(i)}}__tryOrSetError(t,e,i){if(!St.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(s){return St.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=s,t.syncErrorThrown=!0,!0):(K(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const jn="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(n){return n}let L=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,s){const{operator:r}=this,o=function(n,t,e){if(n){if(n instanceof ke)return n;if(n[Un])return n[Un]()}return n||t||e?new ke(n,t,e):new ke(Qt)}(e,i,s);if(o.add(r?r.call(o,this.source):this.source||St.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),St.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){St.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof ke?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=X(i))((s,r)=>{let o;o=this.subscribe(a=>{try{e(a)}catch(l){r(l),o&&o.unsubscribe()}},r,s)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[jn](){return this}pipe(...e){return 0===e.length?this:function(n){return 0===n.length?N:1===n.length?n[0]:function(e){return n.reduce((i,s)=>s(i),e)}}(e)(this)}toPromise(e){return new(e=X(e))((i,s)=>{let r;this.subscribe(o=>r=o,o=>s(o),()=>i(r))})}}return n.create=t=>new n(t),n})();function X(n){if(n||(n=St.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const v=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class b extends Pe{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class O extends ke{constructor(t){super(t),this.destination=t}}let F=(()=>{class n extends L{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Un](){return new O(this)}lift(e){const i=new Q(this,this);return i.operator=e,i}next(e){if(this.closed)throw new v;if(!this.isStopped){const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].next(e)}}error(e){if(this.closed)throw new v;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,s=i.length,r=i.slice();for(let o=0;o<s;o++)r[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new v;this.isStopped=!0;const{observers:e}=this,i=e.length,s=e.slice();for(let r=0;r<i;r++)s[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new v;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new v;return this.hasError?(e.error(this.thrownError),Pe.EMPTY):this.isStopped?(e.complete(),Pe.EMPTY):(this.observers.push(e),new b(this,e))}asObservable(){const e=new L;return e.source=this,e}}return n.create=(t,e)=>new Q(t,e),n})();class Q extends F{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Pe.EMPTY}}function de(n){return n&&"function"==typeof n.schedule}class Ee extends ke{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const Mt=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",q=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Qe(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const ot=n=>{if(n&&"function"==typeof n[jn])return(n=>t=>{const e=n[jn]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(q(n))return Mt(n);if(Qe(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,K),t))(n);if(n&&"function"==typeof n[Fe])return(n=>t=>{const e=n[Fe]();for(;;){let i;try{i=e.next()}catch(s){return t.error(s),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${si(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function at(n,t,e,i,s=new Ee(n,e,i)){if(!s.closed)return t instanceof L?t.subscribe(s):ot(t)(s)}class it extends ke{notifyNext(t,e,i,s,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function W(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new At(n,t))}}class At{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new re(t,this.project,this.thisArg))}}class re extends ke{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function qe(n,t){return new L(e=>{const i=new Pe;let s=0;return i.add(t.schedule(function(){s!==n.length?(e.next(n[s++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function Oe(n,t){return t?function(n,t){if(null!=n){if(function(n){return n&&"function"==typeof n[jn]}(n))return function(n,t){return new L(e=>{const i=new Pe;return i.add(t.schedule(()=>{const s=n[jn]();i.add(s.subscribe({next(r){i.add(t.schedule(()=>e.next(r)))},error(r){i.add(t.schedule(()=>e.error(r)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Qe(n))return function(n,t){return new L(e=>{const i=new Pe;return i.add(t.schedule(()=>n.then(s=>{i.add(t.schedule(()=>{e.next(s),i.add(t.schedule(()=>e.complete()))}))},s=>{i.add(t.schedule(()=>e.error(s)))}))),i})}(n,t);if(q(n))return qe(n,t);if(function(n){return n&&"function"==typeof n[Fe]}(n)||"string"==typeof n)return function(n,t){if(!n)throw new Error("Iterable cannot be null");return new L(e=>{const i=new Pe;let s;return i.add(()=>{s&&"function"==typeof s.return&&s.return()}),i.add(t.schedule(()=>{s=n[Fe](),i.add(t.schedule(function(){if(e.closed)return;let r,o;try{const a=s.next();r=a.value,o=a.done}catch(a){return void e.error(a)}o?e.complete():(e.next(r),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof L?n:new L(ot(n))}function Ve(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(Ve((s,r)=>Oe(n(s,r)).pipe(W((o,a)=>t(s,o,r,a))),e)):("number"==typeof t&&(e=t),i=>i.lift(new yn(n,e)))}class yn{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new Ci(t,this.project,this.concurrent))}}class Ci extends it{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(e,t,i)}_innerSub(t,e,i){const s=new Ee(this,e,i),r=this.destination;r.add(s);const o=at(this,t,void 0,void 0,s);o!==s&&r.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,i,s,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function $t(n=Number.POSITIVE_INFINITY){return Ve(N,n)}function wt(n,t){return t?qe(n,t):new L(Mt(n))}function Rt(){return function(t){return t.lift(new hs(t))}}class hs{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const s=new oi(t,i),r=e.subscribe(s);return s.closed||(s.connection=i.connect()),r}}class oi extends ke{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,s=t._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()}}class Oo extends L{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new Pe,t.add(this.source.subscribe(new hr(this.getSubject(),this))),t.closed&&(this._connection=null,t=Pe.EMPTY)),t}refCount(){return Rt()(this)}}const Vs=(()=>{const n=Oo.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class hr extends O{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function U0(){return new F}function We(n){for(let t in n)if(n[t]===We)return t;throw Error("Could not find renamed property on target object.")}function Rc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Nc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const $0=We({__forward_ref__:We});function Ue(n){return n.__forward_ref__=Ue,n.toString=function(){return Ae(this())},n}function ve(n){return mg(n)?n():n}function mg(n){return"function"==typeof n&&n.hasOwnProperty($0)&&n.__forward_ref__===Ue}class wn extends Error{constructor(t,e){super(function(n,t){return`${n?`NG0${n}: `:""}${t}`}(t,e)),this.code=t}}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function on(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}function ll(n,t){const e=t?` in ${t}`:"";throw new wn("201",`No provider for ${on(n)} found${e}`)}function Cn(n,t){null==n&&function(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function It(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fc(n){return yg(n,ul)||yg(n,vg)}function yg(n,t){return n.hasOwnProperty(t)?n[t]:null}function _g(n){return n&&(n.hasOwnProperty(Vc)||n.hasOwnProperty(Y0))?n[Vc]:null}const ul=We({\u0275prov:We}),Vc=We({\u0275inj:We}),vg=We({ngInjectableDef:We}),Y0=We({ngInjectorDef:We});var ye=(()=>((ye=ye||{})[ye.Default=0]="Default",ye[ye.Host=1]="Host",ye[ye.Self=2]="Self",ye[ye.SkipSelf=4]="SkipSelf",ye[ye.Optional=8]="Optional",ye))();let Bc;function fs(n){const t=Bc;return Bc=n,t}function bg(n,t,e){const i=Fc(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ye.Optional?null:void 0!==t?t:void ll(Ae(n),"Injector")}function ps(n){return{toString:n}.toString()}var ai=(()=>((ai=ai||{})[ai.OnPush=0]="OnPush",ai[ai.Default=1]="Default",ai))(),li=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(li||(li={})),li))();const J0="undefined"!=typeof globalThis&&globalThis,X0="undefined"!=typeof window&&window,eT="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,je=J0||"undefined"!=typeof global&&global||X0||eT,pr={},ze=[],cl=We({\u0275cmp:We}),Hc=We({\u0275dir:We}),Uc=We({\u0275pipe:We}),wg=We({\u0275mod:We}),Wi=We({\u0275fac:We}),xo=We({__NG_ELEMENT_ID__:We});let tT=0;function Gt(n){return ps(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ai.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||ze,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||li.Emulated,id:"c",styles:n.styles||ze,_:null,setInput:null,schemas:n.schemas||null,tView:null},s=n.directives,r=n.features,o=n.pipes;return i.id+=tT++,i.inputs=Tg(n.inputs,e),i.outputs=Tg(n.outputs),r&&r.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(Eg):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(Cg):null,i})}function Eg(n){return Jt(n)||function(n){return n[Hc]||null}(n)}function Cg(n){return function(n){return n[Uc]||null}(n)}const Dg={};function Nt(n){return ps(()=>{const t={type:n.type,bootstrap:n.bootstrap||ze,declarations:n.declarations||ze,imports:n.imports||ze,exports:n.exports||ze,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Dg[n.id]=n.type),t})}function Tg(n,t){if(null==n)return pr;const e={};for(const i in n)if(n.hasOwnProperty(i)){let s=n[i],r=s;Array.isArray(s)&&(r=s[1],s=s[0]),e[s]=i,t&&(t[s]=r)}return e}const ee=Gt;function an(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function Jt(n){return n[cl]||null}function Gn(n,t){const e=n[wg]||null;if(!e&&!0===t)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return e}function Ti(n){return Array.isArray(n)&&"object"==typeof n[1]}function ci(n){return Array.isArray(n)&&!0===n[1]}function Gc(n){return 0!=(8&n.flags)}function pl(n){return 2==(2&n.flags)}function gl(n){return 1==(1&n.flags)}function di(n){return null!==n.template}function aT(n){return 0!=(512&n[2])}function $s(n,t){return n.hasOwnProperty(Wi)?n[Wi]:null}class cT{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function ln(){return Mg}function Mg(n){return n.type.prototype.ngOnChanges&&(n.setInput=hT),dT}function dT(){const n=Ig(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===pr)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function hT(n,t,e,i){const s=Ig(n)||function(n,t){return n[Ag]=t}(n,{previous:pr,current:null}),r=s.current||(s.current={}),o=s.previous,a=this.declaredInputs[e],l=o[a];r[a]=new cT(l&&l.currentValue,t,o===pr),n[i]=t}ln.ngInherit=!0;const Ag="__ngSimpleChanges__";function Ig(n){return n[Ag]||null}let zc;function Kc(){return void 0!==zc?zc:"undefined"!=typeof document?document:void 0}function ft(n){return!!n.listen}const xg={createRenderer:(n,t)=>Kc()};function kt(n){for(;Array.isArray(n);)n=n[0];return n}function ml(n,t){return kt(t[n])}function zn(n,t){return kt(t[n.index])}function Qc(n,t){return n.data[t]}function vr(n,t){return n[t]}function Tn(n,t){const e=t[n];return Ti(e)?e:e[0]}function Pg(n){return 4==(4&n[2])}function Yc(n){return 128==(128&n[2])}function ms(n,t){return null==t?null:n[t]}function Rg(n){n[18]=0}function Zc(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const ce={lFrame:jg(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ng(){return ce.bindingsEnabled}function I(){return ce.lFrame.lView}function Ie(){return ce.lFrame.tView}function ys(n){return ce.lFrame.contextLView=n,n[8]}function Lt(){let n=Lg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Lg(){return ce.lFrame.currentTNode}function Si(n,t){const e=ce.lFrame;e.currentTNode=n,e.isParent=t}function Jc(){return ce.lFrame.isParent}function Xc(){ce.lFrame.isParent=!1}function yl(){return ce.isInCheckNoChangesMode}function _l(n){ce.isInCheckNoChangesMode=n}function un(){const n=ce.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function zi(){return ce.lFrame.bindingIndex}function br(){return ce.lFrame.bindingIndex++}function Ki(n){const t=ce.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function MT(n,t){const e=ce.lFrame;e.bindingIndex=e.bindingRootIndex=n,ed(t)}function ed(n){ce.lFrame.currentDirectiveIndex=n}function Bg(){return ce.lFrame.currentQueryIndex}function nd(n){ce.lFrame.currentQueryIndex=n}function IT(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function Hg(n,t,e){if(e&ye.SkipSelf){let s=t,r=n;for(;!(s=s.parent,null!==s||e&ye.Host||(s=IT(r),null===s||(r=r[15],10&s.type))););if(null===s)return!1;t=s,n=r}const i=ce.lFrame=Ug();return i.currentTNode=t,i.lView=n,!0}function vl(n){const t=Ug(),e=n[1];ce.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function Ug(){const n=ce.lFrame,t=null===n?null:n.child;return null===t?jg(n):t}function jg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function $g(){const n=ce.lFrame;return ce.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Gg=$g;function bl(){const n=$g();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function cn(){return ce.lFrame.selectedIndex}function _s(n){ce.lFrame.selectedIndex=n}function pt(){const n=ce.lFrame;return Qc(n.tView,n.selectedIndex)}function wl(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const r=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:d}=r;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),c&&((n.viewHooks||(n.viewHooks=[])).push(e,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,c)),null!=d&&(n.destroyHooks||(n.destroyHooks=[])).push(e,d)}}function El(n,t,e){qg(n,t,3,e)}function Cl(n,t,e,i){(3&n[2])===e&&qg(n,t,e,i)}function id(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function qg(n,t,e,i){const r=null!=i?i:-1,o=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<r||-1==r)&&(VT(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function VT(n,t,e,i){const s=e[i]<0,r=e[i+1],a=n[s?-e[i]:e[i]];if(s){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{r.call(a)}finally{}}}else try{r.call(a)}finally{}}class Fo{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function Dl(n,t,e){const i=ft(n);let s=0;for(;s<e.length;){const r=e[s];if("number"==typeof r){if(0!==r)break;s++;const o=e[s++],a=e[s++],l=e[s++];i?n.setAttribute(t,a,l,o):t.setAttributeNS(o,a,l)}else{const o=r,a=e[++s];rd(o)?i&&n.setProperty(t,o,a):i?n.setAttribute(t,o,a):t.setAttribute(o,a),s++}}return s}function Wg(n){return 3===n||4===n||6===n}function rd(n){return 64===n.charCodeAt(0)}function Tl(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const s=t[i];"number"==typeof s?e=s:0===e||zg(n,e,s,null,-1===e||2===e?t[++i]:null)}}return n}function zg(n,t,e,i,s){let r=0,o=n.length;if(-1===t)o=-1;else for(;r<n.length;){const a=n[r++];if("number"==typeof a){if(a===t){o=-1;break}if(a>t){o=r-1;break}}}for(;r<n.length;){const a=n[r];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==s&&(n[r+1]=s));if(i===n[r+1])return void(n[r+2]=s)}r++,null!==i&&r++,null!==s&&r++}-1!==o&&(n.splice(o,0,t),r=o+1),n.splice(r++,0,e),null!==i&&n.splice(r++,0,i),null!==s&&n.splice(r++,0,s)}function Kg(n){return-1!==n}function wr(n){return 32767&n}function Er(n,t){let e=function(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let od=!0;function Sl(n){const t=od;return od=n,t}let GT=0;function Bo(n,t){const e=ld(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,ad(i.data,n),ad(t,null),ad(i.blueprint,null));const s=Ml(n,t),r=n.injectorIndex;if(Kg(s)){const o=wr(s),a=Er(s,t),l=a[1].data;for(let c=0;c<8;c++)t[r+c]=a[o+c]|l[o+c]}return t[r+8]=s,r}function ad(n,t){n.push(0,0,0,0,0,0,0,0,t)}function ld(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Ml(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,s=t;for(;null!==s;){const r=s[1],o=r.type;if(i=2===o?r.declTNode:1===o?s[6]:null,null===i)return-1;if(e++,s=s[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function Al(n,t,e){!function(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(xo)&&(i=e[xo]),null==i&&(i=e[xo]=GT++);const s=255&i;t.data[n+(s>>5)]|=1<<s}(n,t,e)}function Zg(n,t,e){if(e&ye.Optional)return n;ll(t,"NodeInjector")}function Jg(n,t,e,i){if(e&ye.Optional&&void 0===i&&(i=null),0==(e&(ye.Self|ye.Host))){const s=n[9],r=fs(void 0);try{return s?s.get(t,i,e&ye.Optional):bg(t,i,e&ye.Optional)}finally{fs(r)}}return Zg(i,t,e)}function Xg(n,t,e,i=ye.Default,s){if(null!==n){const r=function(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(xo)?n[xo]:void 0;return"number"==typeof t?t>=0?255&t:zT:t}(e);if("function"==typeof r){if(!Hg(t,n,i))return i&ye.Host?Zg(s,e,i):Jg(t,e,i,s);try{const o=r(i);if(null!=o||i&ye.Optional)return o;ll(e)}finally{Gg()}}else if("number"==typeof r){let o=null,a=ld(n,t),l=-1,c=i&ye.Host?t[16][6]:null;for((-1===a||i&ye.SkipSelf)&&(l=-1===a?Ml(n,t):t[a+8],-1!==l&&nm(i,!1)?(o=t[1],a=wr(l),t=Er(l,t)):a=-1);-1!==a;){const d=t[1];if(tm(r,a,d.data)){const p=KT(a,t,e,o,i,c);if(p!==em)return p}l=t[a+8],-1!==l&&nm(i,t[1].data[a+8]===c)&&tm(r,a,t)?(o=d,a=wr(l),t=Er(l,t)):a=-1}}}return Jg(t,e,i,s)}const em={};function zT(){return new Cr(Lt(),I())}function KT(n,t,e,i,s,r){const o=t[1],a=o.data[n+8],d=Il(a,o,e,null==i?pl(a)&&od:i!=o&&0!=(3&a.type),s&ye.Host&&r===a);return null!==d?Ho(t,o,d,a):em}function Il(n,t,e,i,s){const r=n.providerIndexes,o=t.data,a=1048575&r,l=n.directiveStart,d=r>>20,m=s?a+d:n.directiveEnd;for(let y=i?a:a+d;y<m;y++){const _=o[y];if(y<l&&e===_||y>=l&&_.type===e)return y}if(s){const y=o[l];if(y&&di(y)&&y.type===e)return l}return null}function Ho(n,t,e,i){let s=n[e];const r=t.data;if(function(n){return n instanceof Fo}(s)){const o=s;o.resolving&&function(n,t){throw new wn("200",`Circular dependency in DI detected for ${n}`)}(on(r[e]));const a=Sl(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?fs(o.injectImpl):null;Hg(n,i,ye.Default);try{s=n[e]=o.factory(void 0,r,n,i),t.firstCreatePass&&e>=i.directiveStart&&function(n,t,e){const{ngOnChanges:i,ngOnInit:s,ngDoCheck:r}=t.type.prototype;if(i){const o=Mg(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}s&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,s),r&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,r),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,r))}(e,r[e],t)}finally{null!==l&&fs(l),Sl(a),o.resolving=!1,Gg()}}return s}function tm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function nm(n,t){return!(n&ye.Self||n&ye.Host&&t)}class Cr{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return Xg(this._tNode,this._lView,t,i,e)}}function Sn(n){return ps(()=>{const t=n.prototype.constructor,e=t[Wi]||ud(t),i=Object.prototype;let s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){const r=s[Wi]||ud(s);if(r&&r!==e)return r;s=Object.getPrototypeOf(s)}return r=>new r})}function ud(n){return mg(n)?()=>{const t=ud(ve(n));return t&&t()}:$s(n)}function Dr(n){return function(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let s=0;for(;s<i;){const r=e[s];if(Wg(r))break;if(0===r)s+=2;else if("number"==typeof r)for(s++;s<i&&"string"==typeof e[s];)s++;else{if(r===t)return e[s+1];s+=2}}}return null}(Lt(),n)}const Sr="__parameters__";function Ar(n,t,e){return ps(()=>{const i=function(n){return function(...e){if(n){const i=n(...e);for(const s in i)this[s]=i[s]}}}(t);function s(...r){if(this instanceof s)return i.apply(this,r),this;const o=new s(...r);return a.annotation=o,a;function a(l,c,d){const p=l.hasOwnProperty(Sr)?l[Sr]:Object.defineProperty(l,Sr,{value:[]})[Sr];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(o),l}}return e&&(s.prototype=Object.create(e.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}class Y{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ZT=new Y("AnalyzeForEntryComponents");function Kn(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Kn(i,t)):t!==n&&t.push(i)}return t}function Mi(n,t){n.forEach(e=>Array.isArray(e)?Mi(e,t):t(e))}function sm(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function kl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Mn(n,t,e){let i=Ir(n,t);return i>=0?n[1|i]=e:(i=~i,function(n,t,e,i){let s=n.length;if(s==t)n.push(e,i);else if(1===s)n.push(i,n[0]),n[0]=e;else{for(s--,n.push(n[s-1],n[s]);s>t;)n[s]=n[s-2],s--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function hd(n,t){const e=Ir(n,t);if(e>=0)return n[1|e]}function Ir(n,t){return function(n,t,e){let i=0,s=n.length>>e;for(;s!==i;){const r=i+(s-i>>1),o=n[r<<e];if(t===o)return r<<e;o>t?s=r:i=r+1}return~(s<<e)}(n,t,1)}const Go={},pd="__NG_DI_FLAG__",xl="ngTempTokenPath",aS=/\n/gm,um="__source",uS=We({provide:String,useValue:We});let qo;function cm(n){const t=qo;return qo=n,t}function cS(n,t=ye.Default){if(void 0===qo)throw new Error("inject() must be called from an injection context");return null===qo?bg(n,void 0,t):qo.get(n,t&ye.Optional?null:void 0,t)}function k(n,t=ye.Default){return(Bc||cS)(ve(n),t)}function gd(n){const t=[];for(let e=0;e<n.length;e++){const i=ve(n[e]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let s,r=ye.Default;for(let o=0;o<i.length;o++){const a=i[o],l=dS(a);"number"==typeof l?-1===l?s=a.token:r|=l:s=a}t.push(k(s,r))}else t.push(k(i))}return t}function Wo(n,t){return n[pd]=t,n.prototype[pd]=t,n}function dS(n){return n[pd]}const zo=Wo(Ar("Inject",n=>({token:n})),-1),Ai=Wo(Ar("Optional"),8),kr=Wo(Ar("SkipSelf"),4);let Rl,Nl;function xr(n){var t;return(null===(t=function(){if(void 0===Rl&&(Rl=null,je.trustedTypes))try{Rl=je.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Rl}())||void 0===t?void 0:t.createHTML(n))||n}function ym(n){var t;return(null===(t=function(){if(void 0===Nl&&(Nl=null,je.trustedTypes))try{Nl=je.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return Nl}())||void 0===t?void 0:t.createHTML(n))||n}class Gs{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class DS extends Gs{getTypeName(){return"HTML"}}class TS extends Gs{getTypeName(){return"Style"}}class SS extends Gs{getTypeName(){return"Script"}}class MS extends Gs{getTypeName(){return"URL"}}class AS extends Gs{getTypeName(){return"ResourceURL"}}function An(n){return n instanceof Gs?n.changingThisBreaksApplicationSecurity:n}function Ii(n,t){const e=bm(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function bm(n){return n instanceof Gs&&n.getTypeName()||null}class RS{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(xr(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class NS{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=xr(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=xr(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let s=e.length-1;0<s;s--){const o=e.item(s).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const FS=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,VS=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Qo(n){return(n=String(n)).match(FS)||n.match(VS)?n:"unsafe:"+n}function Em(n){return(n=String(n)).split(",").map(t=>Qo(t.trim())).join(", ")}function ki(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function Yo(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Cm=ki("area,br,col,hr,img,wbr"),Dm=ki("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tm=ki("rp,rt"),vd=Yo(Cm,Yo(Dm,ki("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yo(Tm,ki("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yo(Tm,Dm)),bd=ki("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),wd=ki("srcset"),Sm=Yo(bd,wd,ki("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ki("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),BS=ki("script,style,template");class HS{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let s=this.checkClobberedElement(e,e.nextSibling);if(s){e=s;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!vd.hasOwnProperty(e))return this.sanitizedSomething=!0,!BS.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let s=0;s<i.length;s++){const r=i.item(s),o=r.name,a=o.toLowerCase();if(!Sm.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=r.value;bd[a]&&(l=Qo(l)),wd[a]&&(l=Em(l)),this.buf.push(" ",o,'="',Mm(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();vd.hasOwnProperty(e)&&!Cm.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Mm(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const US=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,jS=/([^\#-~ |!])/g;function Mm(n){return n.replace(/&/g,"&amp;").replace(US,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(jS,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ll;function Am(n,t){let e=null;try{Ll=Ll||function(n){const t=new NS(n);return function(){try{return!!(new window.DOMParser).parseFromString(xr(""),"text/html")}catch(n){return!1}}()?new RS(t):t}(n);let i=t?String(t):"";e=Ll.getInertBodyElement(i);let s=5,r=i;do{if(0===s)throw new Error("Failed to sanitize html because the input is unstable");s--,i=r,r=e.innerHTML,e=Ll.getInertBodyElement(i)}while(i!==r);return xr((new HS).sanitizeChildren(Ed(e)||e))}finally{if(e){const i=Ed(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Ed(n){return"content"in n&&function(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ke=(()=>((Ke=Ke||{})[Ke.NONE=0]="NONE",Ke[Ke.HTML=1]="HTML",Ke[Ke.STYLE=2]="STYLE",Ke[Ke.SCRIPT=3]="SCRIPT",Ke[Ke.URL=4]="URL",Ke[Ke.RESOURCE_URL=5]="RESOURCE_URL",Ke))();function Im(n){const t=Jo();return t?ym(t.sanitize(Ke.HTML,n)||""):Ii(n,"HTML")?ym(An(n)):Am(Kc(),pe(n))}function Zo(n){const t=Jo();return t?t.sanitize(Ke.URL,n)||"":Ii(n,"URL")?An(n):Qo(pe(n))}function Jo(){const n=I();return n&&n[12]}const xm="__ngContext__";function en(n,t){n[xm]=t}function Dd(n){const t=function(n){return n[xm]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function Sd(n){return n.ngOriginalError}function oM(n,...t){n.error(...t)}class Pr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function(n){return n&&n.ngErrorLogger||oM}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&Sd(t);for(;e&&Sd(e);)e=Sd(e);return e||null}}const Fm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(je))();function Vm(n){return n.ownerDocument.defaultView}function Oi(n){return n instanceof Function?n():n}var In=(()=>((In=In||{})[In.Important=1]="Important",In[In.DashCase=2]="DashCase",In))();function Ad(n,t){return undefined(n,t)}function ea(n){const t=n[3];return ci(t)?t[3]:t}function Id(n){return $m(n[13])}function kd(n){return $m(n[4])}function $m(n){for(;null!==n&&!ci(n);)n=n[4];return n}function Nr(n,t,e,i,s){if(null!=i){let r,o=!1;ci(i)?r=i:Ti(i)&&(o=!0,i=i[0]);const a=kt(i);0===n&&null!==e?null==s?Qm(t,e,a):qs(t,e,a,s||null,!0):1===n&&null!==e?qs(t,e,a,s||null,!0):2===n?function(n,t,e){const i=Fl(n,t);i&&function(n,t,e,i){ft(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,o):3===n&&t.destroyNode(a),null!=r&&function(n,t,e,i,s){const r=e[7];r!==kt(e)&&Nr(t,n,i,r,s);for(let a=10;a<e.length;a++){const l=e[a];ta(l[1],l,n,t,i,r)}}(t,n,r,e,s)}}function xd(n,t,e){return ft(n)?n.createElement(t,e):null===e?n.createElement(t):n.createElementNS(e,t)}function qm(n,t){const e=n[9],i=e.indexOf(t),s=t[3];1024&t[2]&&(t[2]&=-1025,Zc(s,-1)),e.splice(i,1)}function Pd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const s=i[17];null!==s&&s!==n&&qm(s,i),t>0&&(n[e-1][4]=i[4]);const r=kl(n,10+t);!function(n,t){ta(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=r[19];null!==o&&o.detachView(r[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Wm(n,t){if(!(256&t[2])){const e=t[11];ft(e)&&e.destroyNode&&ta(n,t,e,3,null,null),function(n){let t=n[13];if(!t)return Rd(n[1],n);for(;t;){let e=null;if(Ti(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Ti(t)&&Rd(t[1],t),t=t[3];null===t&&(t=n),Ti(t)&&Rd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Rd(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const s=t[e[i]];if(!(s instanceof Fo)){const r=e[i+1];if(Array.isArray(r))for(let o=0;o<r.length;o+=2){const a=s[r[o]],l=r[o+1];try{l.call(a)}finally{}}else try{r.call(s)}finally{}}}}(n,t),function(n,t){const e=n.cleanup,i=t[7];let s=-1;if(null!==e)for(let r=0;r<e.length-1;r+=2)if("string"==typeof e[r]){const o=e[r+1],a="function"==typeof o?o(t):kt(t[o]),l=i[s=e[r+2]],c=e[r+3];"boolean"==typeof c?a.removeEventListener(e[r],l,c):c>=0?i[s=c]():i[s=-c].unsubscribe(),r+=2}else{const o=i[s=e[r+1]];e[r].call(o)}if(null!==i){for(let r=s+1;r<i.length;r++)i[r]();t[7]=null}}(n,t),1===t[1].type&&ft(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&ci(t[3])){e!==t[3]&&qm(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function zm(n,t,e){return function(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const s=n.data[i.directiveStart].encapsulation;if(s===li.None||s===li.Emulated)return null}return zn(i,e)}(n,t.parent,e)}function qs(n,t,e,i,s){ft(n)?n.insertBefore(t,e,i,s):t.insertBefore(e,i,s)}function Qm(n,t,e){ft(n)?n.appendChild(t,e):t.appendChild(e)}function Ym(n,t,e,i,s){null!==i?qs(n,t,e,i,s):Qm(n,t,e)}function Fl(n,t){return ft(n)?n.parentNode(t):t.parentNode}let Xm=function(n,t,e){return 40&n.type?zn(n,e):null};function Vl(n,t,e,i){const s=zm(n,i,t),r=t[11],a=function(n,t,e){return Xm(n,t,e)}(i.parent||t[6],i,t);if(null!=s)if(Array.isArray(e))for(let l=0;l<e.length;l++)Ym(r,s,e[l],a,!1);else Ym(r,s,e,a,!1)}function Bl(n,t){if(null!==t){const e=t.type;if(3&e)return zn(t,n);if(4&e)return Ld(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Bl(n,i);{const s=n[t.index];return ci(s)?Ld(-1,s):kt(s)}}if(32&e)return Ad(t,n)()||kt(n[t.index]);{const i=ty(n,t);return null!==i?Array.isArray(i)?i[0]:Bl(ea(n[16]),i):Bl(n,t.next)}}return null}function ty(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Ld(n,t){const e=10+n+1;if(e<t.length){const i=t[e],s=i[1].firstChild;if(null!==s)return Bl(i,s)}return t[7]}function Fd(n,t,e,i,s,r,o){for(;null!=e;){const a=i[e.index],l=e.type;if(o&&0===t&&(a&&en(kt(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)Fd(n,t,e.child,i,s,r,!1),Nr(t,n,s,a,r);else if(32&l){const c=Ad(e,i);let d;for(;d=c();)Nr(t,n,s,d,r);Nr(t,n,s,a,r)}else 16&l?iy(n,t,i,e,s,r):Nr(t,n,s,a,r);e=o?e.projectionNext:e.next}}function ta(n,t,e,i,s,r){Fd(e,i,n.firstChild,t,s,r,!1)}function iy(n,t,e,i,s,r){const o=e[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Nr(t,n,s,l[c],r);else Fd(n,t,l,o[3],s,r,!0)}function sy(n,t,e){ft(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function Vd(n,t,e){ft(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function ry(n,t,e){let i=n.length;for(;;){const s=n.indexOf(t,e);if(-1===s)return s;if(0===s||n.charCodeAt(s-1)<=32){const r=t.length;if(s+r===i||n.charCodeAt(s+r)<=32)return s}e=s+1}}const oy="ng-template";function PM(n,t,e){let i=0;for(;i<n.length;){let s=n[i++];if(e&&"class"===s){if(s=n[i],-1!==ry(s.toLowerCase(),t,0))return!0}else if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===t)return!0;return!1}}return!1}function ay(n){return 4===n.type&&n.value!==oy}function RM(n,t,e){return t===(4!==n.type||e?n.value:oy)}function NM(n,t,e){let i=4;const s=n.attrs||[],r=function(n){for(let t=0;t<n.length;t++)if(Wg(n[t]))return t;return n.length}(s);let o=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!RM(n,l,e)||""===l&&1===t.length){if(hi(i))return!1;o=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!PM(n.attrs,c,e)){if(hi(i))return!1;o=!0}continue}const p=LM(8&i?"class":l,s,ay(n),e);if(-1===p){if(hi(i))return!1;o=!0;continue}if(""!==c){let m;m=p>r?"":s[p+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==ry(y,c,0)||2&i&&c!==m){if(hi(i))return!1;o=!0}}}}else{if(!o&&!hi(i)&&!hi(l))return!1;if(o&&hi(l))continue;o=!1,i=l|1&i}}return hi(i)||o}function hi(n){return 0==(1&n)}function LM(n,t,e,i){if(null===t)return-1;let s=0;if(i||!e){let r=!1;for(;s<t.length;){const o=t[s];if(o===n)return s;if(3===o||6===o)r=!0;else{if(1===o||2===o){let a=t[++s];for(;"string"==typeof a;)a=t[++s];continue}if(4===o)break;if(0===o){s+=4;continue}}s+=r?1:2}return-1}return function(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function ly(n,t,e=!1){for(let i=0;i<t.length;i++)if(NM(n,t[i],e))return!0;return!1}function uy(n,t){return n?":not("+t.trim()+")":t}function UM(n){let t=n[0],e=1,i=2,s="",r=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const a=n[++e];s+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?s+="."+o:4&i&&(s+=" "+o);else""!==s&&!hi(o)&&(t+=uy(r,s),s=""),i=o,r=r||!hi(i);e++}return""!==s&&(t+=uy(r,s)),t}const ge={};function M(n){cy(Ie(),I(),cn()+n,yl())}function cy(n,t,e,i){if(!i)if(3==(3&t[2])){const r=n.preOrderCheckHooks;null!==r&&El(t,r,e)}else{const r=n.preOrderHooks;null!==r&&Cl(t,r,0,e)}_s(e)}function Hl(n,t){return n<<17|t<<2}function fi(n){return n>>17&32767}function Bd(n){return 2|n}function Qi(n){return(131068&n)>>2}function Hd(n,t){return-131069&n|t<<2}function Ud(n){return 1|n}function wy(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const s=e[i],r=e[i+1];if(-1!==r){const o=n.data[r];nd(s),o.contentQueries(2,t[r],r)}}}function na(n,t,e,i,s,r,o,a,l,c){const d=t.blueprint.slice();return d[0]=s,d[2]=140|i,Rg(d),d[3]=d[15]=n,d[8]=e,d[10]=o||n&&n[10],d[11]=a||n&&n[11],d[12]=l||n&&n[12]||null,d[9]=c||n&&n[9]||null,d[6]=r,d[16]=2==t.type?n[16]:d,d}function Lr(n,t,e,i,s){let r=n.data[t];if(null===r)r=function(n,t,e,i,s){const r=Lg(),o=Jc(),l=n.data[t]=function(n,t,e,i,s,r){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:s,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?r:r&&r.parent,e,t,i,s);return null===n.firstChild&&(n.firstChild=l),null!==r&&(o?null==r.child&&null!==l.parent&&(r.child=l):null===r.next&&(r.next=l)),l}(n,t,e,i,s),ce.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=e,r.value=i,r.attrs=s;const o=function(){const n=ce.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();r.injectorIndex=null===o?-1:o.injectorIndex}return Si(r,!0),r}function Fr(n,t,e,i){if(0===e)return-1;const s=t.length;for(let r=0;r<e;r++)t.push(i),n.blueprint.push(i),n.data.push(null);return s}function ia(n,t,e){vl(t);try{const i=n.viewQuery;null!==i&&rh(1,i,e);const s=n.template;null!==s&&Ey(n,t,s,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&wy(n,t),n.staticViewQueries&&rh(2,n.viewQuery,e);const r=n.components;null!==r&&function(n,t){for(let e=0;e<t.length;e++)D1(n,t[e])}(t,r)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,bl()}}function Vr(n,t,e,i){const s=t[2];if(256==(256&s))return;vl(t);const r=yl();try{Rg(t),function(n){ce.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Ey(n,t,e,2,i);const o=3==(3&s);if(!r)if(o){const c=n.preOrderCheckHooks;null!==c&&El(t,c,null)}else{const c=n.preOrderHooks;null!==c&&Cl(t,c,0,null),id(t,0)}if(function(n){for(let t=Id(n);null!==t;t=kd(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const s=e[i],r=s[3];0==(1024&s[2])&&Zc(r,1),s[2]|=1024}}}(t),function(n){for(let t=Id(n);null!==t;t=kd(t))for(let e=10;e<t.length;e++){const i=t[e],s=i[1];Yc(i)&&Vr(s,i,s.template,i[8])}}(t),null!==n.contentQueries&&wy(n,t),!r)if(o){const c=n.contentCheckHooks;null!==c&&El(t,c)}else{const c=n.contentHooks;null!==c&&Cl(t,c,1),id(t,1)}!function(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const s=e[i];if(s<0)_s(~s);else{const r=s,o=e[++i],a=e[++i];MT(o,r),a(2,t[r])}}}finally{_s(-1)}}(n,t);const a=n.components;null!==a&&function(n,t){for(let e=0;e<t.length;e++)C1(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&rh(2,l,i),!r)if(o){const c=n.viewCheckHooks;null!==c&&El(t,c)}else{const c=n.viewHooks;null!==c&&Cl(t,c,2),id(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Zc(t[3],-1))}finally{bl()}}function s1(n,t,e,i){const s=t[10],r=!yl(),o=Pg(t);try{r&&!o&&s.begin&&s.begin(),o&&ia(n,t,i),Vr(n,t,e,i)}finally{r&&!o&&s.end&&s.end()}}function Ey(n,t,e,i,s){const r=cn(),o=2&i;try{_s(-1),o&&t.length>20&&cy(n,t,20,yl()),e(i,s)}finally{_s(r)}}function Cy(n,t,e){if(Gc(t)){const s=t.directiveEnd;for(let r=t.directiveStart;r<s;r++){const o=n.data[r];o.contentQueries&&o.contentQueries(1,e[r],r)}}}function Zd(n,t,e){!Ng()||(function(n,t,e,i){const s=e.directiveStart,r=e.directiveEnd;n.firstCreatePass||Bo(e,t),en(i,t);const o=e.initialInputs;for(let a=s;a<r;a++){const l=n.data[a],c=di(l);c&&_1(t,e,l);const d=Ho(t,n,a,e);en(d,t),null!==o&&v1(0,a-s,d,l,0,o),c&&(Tn(e.index,t)[8]=d)}}(n,t,e,zn(e,t)),128==(128&e.flags)&&function(n,t,e){const i=e.directiveStart,s=e.directiveEnd,o=e.index,a=ce.lFrame.currentDirectiveIndex;try{_s(o);for(let l=i;l<s;l++){const c=n.data[l],d=t[l];ed(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Oy(c,d)}}finally{_s(-1),ed(a)}}(n,t,e))}function Jd(n,t,e=zn){const i=t.localNames;if(null!==i){let s=t.index+1;for(let r=0;r<i.length;r+=2){const o=i[r+1],a=-1===o?e(t,n):n[o];n[s++]=a}}}function Dy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=$l(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function $l(n,t,e,i,s,r,o,a,l,c){const d=20+i,p=d+s,m=function(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ge);return e}(d,p),y="function"==typeof c?c():c;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:a,declTNode:t,data:m.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:y,incompleteFirstPass:!1}}function My(n,t,e,i){const s=Fy(t);null===e?s.push(i):(s.push(e),n.firstCreatePass&&Vy(n).push(i,s.length-1))}function Ay(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const s=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,s):e[i]=[t,s]}return e}function kn(n,t,e,i,s,r,o,a){const l=zn(t,e);let d,c=t.inputs;!a&&null!=c&&(d=c[i])?(Uy(n,e,d,i,s),pl(t)&&function(n,t){const e=Tn(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),s=null!=o?o(s,t.value||"",i):s,ft(r)?r.setProperty(l,i,s):rd(i)||(l.setProperty?l.setProperty(i,s):l[i]=s))}function Xd(n,t,e,i){let s=!1;if(Ng()){const r=function(n,t,e){const i=n.directiveRegistry;let s=null;if(i)for(let r=0;r<i.length;r++){const o=i[r];ly(e,o.selectors,!1)&&(s||(s=[]),Al(Bo(e,t),n,o.type),di(o)?(xy(n,e),s.unshift(o)):s.push(o))}return s}(n,t,e),o=null===i?null:{"":-1};if(null!==r){s=!0,Py(e,n.data.length,r.length);for(let d=0;d<r.length;d++){const p=r[d];p.providersResolver&&p.providersResolver(p)}let a=!1,l=!1,c=Fr(n,t,r.length,null);for(let d=0;d<r.length;d++){const p=r[d];e.mergedAttrs=Tl(e.mergedAttrs,p.hostAttrs),Ry(n,e,t,c,p),y1(c,p,o),null!==p.contentQueries&&(e.flags|=8),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(e.flags|=128);const m=p.type.prototype;!a&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),c++}!function(n,t){const i=t.directiveEnd,s=n.data,r=t.attrs,o=[];let a=null,l=null;for(let c=t.directiveStart;c<i;c++){const d=s[c],p=d.inputs,m=null===r||ay(t)?null:b1(p,r);o.push(m),a=Ay(p,c,a),l=Ay(d.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=a,t.outputs=l}(n,e)}o&&function(n,t,e){if(t){const i=n.localNames=[];for(let s=0;s<t.length;s+=2){const r=e[t[s+1]];if(null==r)throw new wn("301",`Export of name '${t[s+1]}' not found!`);i.push(t[s],r)}}}(e,i,o)}return e.mergedAttrs=Tl(e.mergedAttrs,e.attrs),s}function ky(n,t,e,i,s,r){const o=r.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,s,o)}}function Oy(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function xy(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function y1(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;di(t)&&(e[""]=n)}}function Py(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function Ry(n,t,e,i,s){n.data[i]=s;const r=s.factory||(s.factory=$s(s.type)),o=new Fo(r,di(s),null);n.blueprint[i]=o,e[i]=o,ky(n,t,0,i,Fr(n,e,s.hostVars,ge),s)}function _1(n,t,e){const i=zn(t,n),s=Dy(e),r=n[10],o=Gl(n,na(n,s,null,e.onPush?64:16,i,t,r,r.createRenderer(i,e),null,null));n[t.index]=o}function xi(n,t,e,i,s,r){const o=zn(n,t);!function(n,t,e,i,s,r,o){if(null==r)ft(n)?n.removeAttribute(t,s,e):t.removeAttribute(s);else{const a=null==o?pe(r):o(r,i||"",s);ft(n)?n.setAttribute(t,s,a,e):e?t.setAttributeNS(e,s,a):t.setAttribute(s,a)}}(t[11],o,r,n.value,e,i,s)}function v1(n,t,e,i,s,r){const o=r[t];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],d=o[l++],p=o[l++];null!==a?i.setInput(e,p,c,d):e[d]=p}}}function b1(n,t){let e=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;n.hasOwnProperty(s)&&(null===e&&(e=[]),e.push(s,n[s],t[i+1])),i+=2}else i+=2;else i+=4}return e}function Ny(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function C1(n,t){const e=Tn(t,n);if(Yc(e)){const i=e[1];80&e[2]?Vr(i,e,i.template,e[8]):e[5]>0&&th(e)}}function th(n){for(let i=Id(n);null!==i;i=kd(i))for(let s=10;s<i.length;s++){const r=i[s];if(1024&r[2]){const o=r[1];Vr(o,r,o.template,r[8])}else r[5]>0&&th(r)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const s=Tn(e[i],n);Yc(s)&&s[5]>0&&th(s)}}function D1(n,t){const e=Tn(t,n),i=e[1];(function(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),ia(i,e,e[8])}function Gl(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function nh(n){for(;n;){n[2]|=64;const t=ea(n);if(aT(n)&&!t)return n;n=t}return null}function sh(n,t,e){const i=t[10];i.begin&&i.begin();try{Vr(n,t,n.template,e)}catch(s){throw Hy(t,s),s}finally{i.end&&i.end()}}function Ly(n){!function(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=Dd(e),s=i[1];s1(s,i,s.template,e)}}(n[8])}function rh(n,t,e){nd(0),t(n,e)}const I1=(()=>Promise.resolve(null))();function Fy(n){return n[7]||(n[7]=[])}function Vy(n){return n.cleanup||(n.cleanup=[])}function Hy(n,t){const e=n[9],i=e?e.get(Pr,null):null;i&&i.handleError(t)}function Uy(n,t,e,i,s){for(let r=0;r<e.length;){const o=e[r++],a=e[r++],l=t[o],c=n.data[o];null!==c.setInput?c.setInput(l,s,i,a):l[a]=s}}function Yi(n,t,e){const i=ml(t,n);!function(n,t,e){ft(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function ql(n,t,e){let i=e?n.styles:null,s=e?n.classes:null,r=0;if(null!==t)for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:1==r?s=Nc(s,a):2==r&&(i=Nc(i,a+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=s:n.classesWithoutHost=s}const oh=new Y("INJECTOR",-1);class jy{get(t,e=Go){if(e===Go){const i=new Error(`NullInjectorError: No provider for ${Ae(t)}!`);throw i.name="NullInjectorError",i}return e}}const ah=new Y("Set Injector scope."),sa={},x1={};let lh;function $y(){return void 0===lh&&(lh=new jy),lh}function Gy(n,t=null,e=null,i){const s=qy(n,t,e,i);return s._resolveInjectorDefTypes(),s}function qy(n,t=null,e=null,i){return new P1(n,e,t||$y(),i)}class P1{constructor(t,e,i,s=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Mi(e,a=>this.processProvider(a,t,e)),Mi([t],a=>this.processInjectorType(a,[],r)),this.records.set(oh,Br(void 0,this));const o=this.records.get(ah);this.scope=null!=o?o.value:null,this.source=s||("object"==typeof t?null:Ae(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=Go,i=ye.Default){this.assertNotDestroyed();const s=cm(this),r=fs(void 0);try{if(!(i&ye.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function(n){return"function"==typeof n||"object"==typeof n&&n instanceof Y}(t)&&Fc(t);a=l&&this.injectableDefInScope(l)?Br(uh(t),sa):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&ye.Self?$y():this.parent).get(t,e=i&ye.Optional&&e===Go?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[xl]=o[xl]||[]).unshift(Ae(t)),s)throw o;return function(n,t,e,i){const s=n[xl];throw t[um]&&s.unshift(t[um]),n.message=function(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let s=Ae(t);if(Array.isArray(t))s=t.map(Ae).join(" -> ");else if("object"==typeof t){let r=[];for(let o in t)if(t.hasOwnProperty(o)){let a=t[o];r.push(o+":"+("string"==typeof a?JSON.stringify(a):Ae(a)))}s=`{${r.join(", ")}}`}return`${e}${i?"("+i+")":""}[${s}]: ${n.replace(aS,"\n  ")}`}("\n"+n.message,s,e,i),n.ngTokenPath=s,n[xl]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{fs(r),cm(s)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,s)=>t.push(Ae(s))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,i){if(!(t=ve(t)))return!1;let s=_g(t);const r=null==s&&t.ngModule||void 0,o=void 0===r?t:r,a=-1!==i.indexOf(o);if(void 0!==r&&(s=_g(r)),null==s)return!1;if(null!=s.imports&&!a){let d;i.push(o);try{Mi(s.imports,p=>{this.processInjectorType(p,e,i)&&(void 0===d&&(d=[]),d.push(p))})}finally{}if(void 0!==d)for(let p=0;p<d.length;p++){const{ngModule:m,providers:y}=d[p];Mi(y,_=>this.processProvider(_,m,y||ze))}}this.injectorDefTypes.add(o);const l=$s(o)||(()=>new o);this.records.set(o,Br(l,sa));const c=s.providers;if(null!=c&&!a){const d=t;Mi(c,p=>this.processProvider(p,d,c))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,i){let s=Hr(t=ve(t))?t:ve(t&&t.provide);const r=function(n,t,e){return zy(n)?Br(void 0,n.useValue):Br(Wy(n),sa)}(t);if(Hr(t)||!0!==t.multi)this.records.get(s);else{let o=this.records.get(s);o||(o=Br(void 0,sa,!0),o.factory=()=>gd(o.multi),this.records.set(s,o)),s=t,o.multi.push(t)}this.records.set(s,r)}hydrate(t,e){return e.value===sa&&(e.value=x1,e.value=e.factory()),"object"==typeof e.value&&e.value&&function(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=ve(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function uh(n){const t=Fc(n),e=null!==t?t.factory:$s(n);if(null!==e)return e;if(n instanceof Y)throw new Error(`Token ${Ae(n)} is missing a \u0275prov definition.`);if(n instanceof Function)return function(n){const t=n.length;if(t>0){const i=function(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?");throw new Error(`Can't resolve all parameters for ${Ae(n)}: (${i.join(", ")}).`)}const e=function(n){const t=n&&(n[ul]||n[vg]);if(t){const e=function(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new Error("unreachable")}function Wy(n,t,e){let i;if(Hr(n)){const s=ve(n);return $s(s)||uh(s)}if(zy(n))i=()=>ve(n.useValue);else if(function(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...gd(n.deps||[]));else if(function(n){return!(!n||!n.useExisting)}(n))i=()=>k(ve(n.useExisting));else{const s=ve(n&&(n.useClass||n.provide));if(!function(n){return!!n.deps}(n))return $s(s)||uh(s);i=()=>new s(...gd(n.deps))}return i}function Br(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function zy(n){return null!==n&&"object"==typeof n&&uS in n}function Hr(n){return"function"==typeof n}let Wt=(()=>{class n{static create(e,i){var s;if(Array.isArray(e))return Gy({name:""},i,e,"");{const r=null!==(s=e.name)&&void 0!==s?s:"";return Gy({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=Go,n.NULL=new jy,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>k(oh)}),n.__NG_ELEMENT_ID__=-1,n})();function Q1(n,t){wl(Dd(n)[1],Lt())}function Be(n){let t=function(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let s;if(di(n))s=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");s=t.\u0275dir}if(s){if(e){i.push(s);const o=n;o.inputs=hh(n.inputs),o.declaredInputs=hh(n.declaredInputs),o.outputs=hh(n.outputs);const a=s.hostBindings;a&&X1(n,a);const l=s.viewQuery,c=s.contentQueries;if(l&&Z1(n,l),c&&J1(n,c),Rc(n.inputs,s.inputs),Rc(n.declaredInputs,s.declaredInputs),Rc(n.outputs,s.outputs),di(s)&&s.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(s.data.animation)}}const r=s.features;if(r)for(let o=0;o<r.length;o++){const a=r[o];a&&a.ngInherit&&a(n),a===Be&&(e=!1)}}t=Object.getPrototypeOf(t)}!function(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const s=n[i];s.hostVars=t+=s.hostVars,s.hostAttrs=Tl(s.hostAttrs,e=Tl(e,s.hostAttrs))}}(i)}function hh(n){return n===pr?{}:n===ze?[]:n}function Z1(n,t){const e=n.viewQuery;n.viewQuery=e?(i,s)=>{t(i,s),e(i,s)}:t}function J1(n,t){const e=n.contentQueries;n.contentQueries=e?(i,s,r)=>{t(i,s,r),e(i,s,r)}:t}function X1(n,t){const e=n.hostBindings;n.hostBindings=e?(i,s)=>{t(i,s),e(i,s)}:t}let Wl=null;function Ur(){if(!Wl){const n=je.Symbol;if(n&&n.iterator)Wl=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Wl=i)}}}return Wl}function ra(n){return!!fh(n)&&(Array.isArray(n)||!(n instanceof Map)&&Ur()in n)}function fh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Pi(n,t,e){return n[t]=e}function tn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Ws(n,t,e,i){const s=tn(n,t,e);return tn(n,t+1,i)||s}function zl(n,t,e,i,s){const r=Ws(n,t,e,i);return tn(n,t+2,s)||r}function nn(n,t,e,i){const s=I();return tn(s,br(),t)&&(Ie(),xi(pt(),s,n,t,e,i)),nn}function $r(n,t,e,i){return tn(n,br(),e)?t+pe(e)+i:ge}function $e(n,t,e,i,s,r,o,a){const l=I(),c=Ie(),d=n+20,p=c.firstCreatePass?function(n,t,e,i,s,r,o,a,l){const c=t.consts,d=Lr(t,n,4,o||null,ms(c,a));Xd(t,e,d,ms(c,l)),wl(t,d);const p=d.tViews=$l(2,d,i,s,r,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c);return null!==t.queries&&(t.queries.template(t,d),p.queries=t.queries.embeddedTView(d)),d}(d,c,l,t,e,i,s,r,o):c.data[d];Si(p,!1);const m=l[11].createComment("");Vl(c,l,m,p),en(m,l),Gl(l,l[d]=Ny(m,l,m,p)),gl(p)&&Zd(c,l,p),null!=o&&Jd(l,p,a)}function C(n,t=ye.Default){const e=I();return null===e?k(n,t):Xg(Lt(),e,ve(n),t)}function _h(){throw new Error("invalid")}function B(n,t,e){const i=I();return tn(i,br(),t)&&kn(Ie(),pt(),i,n,t,i[11],e,!1),B}function vh(n,t,e,i,s){const o=s?"class":"style";Uy(n,e,t.inputs[o],o,i)}function h(n,t,e,i){const s=I(),r=Ie(),o=20+n,a=s[11],l=s[o]=xd(a,t,ce.lFrame.currentNamespace),c=r.firstCreatePass?function(n,t,e,i,s,r,o){const a=t.consts,c=Lr(t,n,2,s,ms(a,r));return Xd(t,e,c,ms(a,o)),null!==c.attrs&&ql(c,c.attrs,!1),null!==c.mergedAttrs&&ql(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(o,r,s,0,t,e,i):r.data[o];Si(c,!0);const d=c.mergedAttrs;null!==d&&Dl(a,l,d);const p=c.classes;null!==p&&Vd(a,l,p);const m=c.styles;null!==m&&sy(a,l,m),64!=(64&c.flags)&&Vl(r,s,l,c),0===ce.lFrame.elementDepthCount&&en(l,s),ce.lFrame.elementDepthCount++,gl(c)&&(Zd(r,s,c),Cy(r,c,s)),null!==i&&Jd(s,c)}function f(){let n=Lt();Jc()?Xc():(n=n.parent,Si(n,!1));const t=n;ce.lFrame.elementDepthCount--;const e=Ie();e.firstCreatePass&&(wl(e,n),Gc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function(n){return 0!=(16&n.flags)}(t)&&vh(e,t,I(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(n){return 0!=(32&n.flags)}(t)&&vh(e,t,I(),t.stylesWithoutHost,!1)}function g(n,t,e,i){h(n,t,e,i),f()}function Ql(n,t,e){const i=I(),s=Ie(),r=n+20,o=s.firstCreatePass?function(n,t,e,i,s){const r=t.consts,o=ms(r,i),a=Lr(t,n,8,"ng-container",o);return null!==o&&ql(a,o,!0),Xd(t,e,a,ms(r,s)),null!==t.queries&&t.queries.elementStart(t,a),a}(r,s,i,t,e):s.data[r];Si(o,!0);const a=i[r]=i[11].createComment("");Vl(s,i,a,o),en(a,i),gl(o)&&(Zd(s,i,o),Cy(s,o,i)),null!=e&&Jd(i,o)}function Yl(){let n=Lt();const t=Ie();Jc()?Xc():(n=n.parent,Si(n,!1)),t.firstCreatePass&&(wl(t,n),Gc(n)&&t.queries.elementEnd(n))}function Es(){return I()}function aa(n){return!!n&&"function"==typeof n.then}const bh=function(n){return!!n&&"function"==typeof n.subscribe};function He(n,t,e,i){const s=I(),r=Ie(),o=Lt();return function(n,t,e,i,s,r,o,a){const l=gl(i),d=n.firstCreatePass&&Vy(n),p=t[8],m=Fy(t);let y=!0;if(3&i.type||a){const D=zn(i,t),T=a?a(D):D,E=m.length,P=a?$=>a(kt($[i.index])):i.index;if(ft(e)){let $=null;if(!a&&l&&($=function(n,t,e,i){const s=n.cleanup;if(null!=s)for(let r=0;r<s.length-1;r+=2){const o=s[r];if(o===e&&s[r+1]===i){const a=t[7],l=s[r+2];return a.length>l?a[l]:null}"string"==typeof o&&(r+=2)}return null}(n,t,s,i.index)),null!==$)($.__ngLastListenerFn__||$).__ngNextListenerFn__=r,$.__ngLastListenerFn__=r,y=!1;else{r=wh(i,t,p,r,!1);const _e=e.listen(T,s,r);m.push(r,_e),d&&d.push(s,P,E,E+1)}}else r=wh(i,t,p,r,!0),T.addEventListener(s,r,o),m.push(r),d&&d.push(s,P,E,o)}else r=wh(i,t,p,r,!1);const _=i.outputs;let w;if(y&&null!==_&&(w=_[s])){const D=w.length;if(D)for(let T=0;T<D;T+=2){const rt=t[w[T]][w[T+1]].subscribe(r),dt=m.length;m.push(r,rt),d&&d.push(s,i.index,dt,-(dt+1))}}}(r,s,s[11],o,n,t,!!e,i),He}function I_(n,t,e,i){try{return!1!==e(i)}catch(s){return Hy(n,s),!1}}function wh(n,t,e,i,s){return function r(o){if(o===Function)return i;const a=2&n.flags?Tn(n.index,t):t;0==(32&t[2])&&nh(a);let l=I_(t,0,i,o),c=r.__ngNextListenerFn__;for(;c;)l=I_(t,0,c,o)&&l,c=c.__ngNextListenerFn__;return s&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Ge(n=1){return function(n){return(ce.lFrame.contextLView=function(n,t){for(;n>0;)t=t[15],n--;return t}(n,ce.lFrame.contextLView))[8]}(n)}function hn(n,t,e){return Eh(n,"",t,"",e),hn}function Eh(n,t,e,i,s){const r=I(),o=$r(r,t,e,i);return o!==ge&&kn(Ie(),pt(),r,n,o,r[11],s,!1),Eh}function H_(n,t,e,i,s){const r=n[e+1],o=null===t;let a=i?fi(r):Qi(r),l=!1;for(;0!==a&&(!1===l||o);){const d=n[a+1];RA(n[a],t)&&(l=!0,n[a+1]=i?Ud(d):Bd(d)),a=i?fi(d):Qi(d)}l&&(n[e+1]=i?Bd(r):Ud(r))}function RA(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ir(n,t)>=0}function Zl(n,t,e){return gi(n,t,e,!1),Zl}function On(n,t){return gi(n,t,null,!0),On}function gi(n,t,e,i){const s=I(),r=Ie(),o=Ki(2);r.firstUpdatePass&&function(n,t,e,i){const s=n.data;if(null===s[e+1]){const r=s[cn()],o=function(n,t){return t>=n.expandoStartIndex}(n,e);(function(n,t){return 0!=(n.flags&(t?16:32))})(r,i)&&null===t&&!o&&(t=!1),t=function(n,t,e,i){const s=function(n){const t=ce.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let r=i?t.residualClasses:t.residualStyles;if(null===s)0===(i?t.classBindings:t.styleBindings)&&(e=la(e=Ch(null,n,t,e,i),t.attrs,i),r=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==s)if(e=Ch(s,n,t,e,i),null===r){let l=function(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Qi(i))return n[fi(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=Ch(null,n,t,l[1],i),l=la(l,t.attrs,i),function(n,t,e,i){n[fi(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else r=function(n,t,e){let i;const s=t.directiveEnd;for(let r=1+t.directiveStylingLast;r<s;r++)i=la(i,n[r].hostAttrs,e);return la(i,t.attrs,e)}(n,t,i)}return void 0!==r&&(i?t.residualClasses=r:t.residualStyles=r),e}(s,r,t,i),function(n,t,e,i,s,r){let o=r?t.classBindings:t.styleBindings,a=fi(o),l=Qi(o);n[i]=e;let d,c=!1;if(Array.isArray(e)){const p=e;d=p[1],(null===d||Ir(p,d)>0)&&(c=!0)}else d=e;if(s)if(0!==l){const m=fi(n[a+1]);n[i+1]=Hl(m,a),0!==m&&(n[m+1]=Hd(n[m+1],i)),n[a+1]=function(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=Hl(a,0),0!==a&&(n[a+1]=Hd(n[a+1],i)),a=i;else n[i+1]=Hl(l,0),0===a?a=i:n[l+1]=Hd(n[l+1],i),l=i;c&&(n[i+1]=Bd(n[i+1])),H_(n,d,i,!0),H_(n,d,i,!1),function(n,t,e,i,s){const r=s?n.residualClasses:n.residualStyles;null!=r&&"string"==typeof t&&Ir(r,t)>=0&&(e[i+1]=Ud(e[i+1]))}(t,d,n,i,r),o=Hl(a,l),r?t.classBindings=o:t.styleBindings=o}(s,r,t,e,o,i)}}(r,n,o,i),t!==ge&&tn(s,o,t)&&function(n,t,e,i,s,r,o,a){if(!(3&t.type))return;const l=n.data,c=l[a+1];Jl(function(n){return 1==(1&n)}(c)?Z_(l,t,e,s,Qi(c),o):void 0)||(Jl(r)||function(n){return 2==(2&n)}(c)&&(r=Z_(l,null,e,s,a,o)),function(n,t,e,i,s){const r=ft(n);if(t)s?r?n.addClass(e,i):e.classList.add(i):r?n.removeClass(e,i):e.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:In.DashCase;if(null==s)r?n.removeStyle(e,i,o):e.style.removeProperty(i);else{const a="string"==typeof s&&s.endsWith("!important");a&&(s=s.slice(0,-10),o|=In.Important),r?n.setStyle(e,i,s,o):e.style.setProperty(i,s,a?"important":"")}}}(i,o,ml(cn(),e),s,r))}(r,r.data[cn()],s,s[11],n,s[o+1]=function(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ae(An(n)))),n}(t,e),i,o)}function Ch(n,t,e,i,s){let r=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(r=t[a],i=la(i,r.hostAttrs,s),r!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function la(n,t,e){const i=e?1:2;let s=-1;if(null!==t)for(let r=0;r<t.length;r++){const o=t[r];"number"==typeof o?s=o:s===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Mn(n,o,!!e||t[++r]))}return void 0===n?null:n}function Z_(n,t,e,i,s,r){const o=null===t;let a;for(;s>0;){const l=n[s],c=Array.isArray(l),d=c?l[1]:l,p=null===d;let m=e[s+1];m===ge&&(m=p?ze:void 0);let y=p?hd(m,i):d===i?m:void 0;if(c&&!Jl(y)&&(y=hd(l,i)),Jl(y)&&(a=y,o))return a;const _=n[s+1];s=o?fi(_):Qi(_)}if(null!==t){let l=r?t.residualClasses:t.residualStyles;null!=l&&(a=hd(l,i))}return a}function Jl(n){return void 0!==n}function u(n,t=""){const e=I(),i=Ie(),s=n+20,r=i.firstCreatePass?Lr(i,s,1,t,null):i.data[s],o=e[s]=function(n,t){return ft(n)?n.createText(t):n.createTextNode(t)}(e[11],t);Vl(i,e,o,r),Si(r,!1)}function gt(n){return Zi("",n,""),gt}function Zi(n,t,e){const i=I(),s=$r(i,n,t,e);return s!==ge&&Yi(i,cn(),s),Zi}function ua(n,t,e,i,s){const r=I(),o=function(n,t,e,i,s,r){const a=Ws(n,zi(),e,s);return Ki(2),a?t+pe(e)+i+pe(s)+r:ge}(r,n,t,e,i,s);return o!==ge&&Yi(r,cn(),o),ua}function zs(n,t,e,i,s,r,o){const a=I(),l=function(n,t,e,i,s,r,o,a){const c=zl(n,zi(),e,s,o);return Ki(3),c?t+pe(e)+i+pe(s)+r+pe(o)+a:ge}(a,n,t,e,i,s,r,o);return l!==ge&&Yi(a,cn(),l),zs}const Ks=void 0;var gI=["en",[["a","p"],["AM","PM"],Ks],[["AM","PM"],Ks,Ks],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ks,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ks,"{1} 'at' {0}",Ks],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Xr={};function fn(n){const t=function(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=yv(t);if(e)return e;const i=t.split("-")[0];if(e=yv(i),e)return e;if("en"===i)return gI;throw new Error(`Missing locale data for the locale "${n}".`)}function yv(n){return n in Xr||(Xr[n]=je.ng&&je.ng.common&&je.ng.common.locales&&je.ng.common.locales[n]),Xr[n]}var U=(()=>((U=U||{})[U.LocaleId=0]="LocaleId",U[U.DayPeriodsFormat=1]="DayPeriodsFormat",U[U.DayPeriodsStandalone=2]="DayPeriodsStandalone",U[U.DaysFormat=3]="DaysFormat",U[U.DaysStandalone=4]="DaysStandalone",U[U.MonthsFormat=5]="MonthsFormat",U[U.MonthsStandalone=6]="MonthsStandalone",U[U.Eras=7]="Eras",U[U.FirstDayOfWeek=8]="FirstDayOfWeek",U[U.WeekendRange=9]="WeekendRange",U[U.DateFormat=10]="DateFormat",U[U.TimeFormat=11]="TimeFormat",U[U.DateTimeFormat=12]="DateTimeFormat",U[U.NumberSymbols=13]="NumberSymbols",U[U.NumberFormats=14]="NumberFormats",U[U.CurrencyCode=15]="CurrencyCode",U[U.CurrencySymbol=16]="CurrencySymbol",U[U.CurrencyName=17]="CurrencyName",U[U.Currencies=18]="Currencies",U[U.Directionality=19]="Directionality",U[U.PluralCase=20]="PluralCase",U[U.ExtraData=21]="ExtraData",U))();const Xl="en-US";let _v=Xl;function Sh(n,t,e,i,s){if(n=ve(n),Array.isArray(n))for(let r=0;r<n.length;r++)Sh(n[r],t,e,i,s);else{const r=Ie(),o=I();let a=Hr(n)?n:ve(n.provide),l=Wy(n);const c=Lt(),d=1048575&c.providerIndexes,p=c.directiveStart,m=c.providerIndexes>>20;if(Hr(n)||!n.multi){const y=new Fo(l,s,C),_=Ah(a,t,s?d:d+m,p);-1===_?(Al(Bo(c,o),r,a),Mh(r,n,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(y),o.push(y)):(e[_]=y,o[_]=y)}else{const y=Ah(a,t,d+m,p),_=Ah(a,t,d,d+m),w=y>=0&&e[y],D=_>=0&&e[_];if(s&&!D||!s&&!w){Al(Bo(c,o),r,a);const T=function(n,t,e,i,s){const r=new Fo(n,e,C);return r.multi=[],r.index=t,r.componentProviders=0,jv(r,s,i&&!e),r}(s?fk:hk,e.length,s,i,l);!s&&D&&(e[_].providerFactory=T),Mh(r,n,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,s&&(c.providerIndexes+=1048576),e.push(T),o.push(T)}else Mh(r,n,y>-1?y:_,jv(e[s?_:y],l,!s&&i));!s&&i&&D&&e[_].componentProviders++}}}function Mh(n,t,e,i){const s=Hr(t),r=function(n){return!!n.useClass}(t);if(s||r){const l=(r?ve(t.useClass):t).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!s&&t.multi){const d=c.indexOf(e);-1===d?c.push(e,[i,l]):c[d+1].push(i,l)}else c.push(e,l)}}}function jv(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Ah(n,t,e,i){for(let s=e;s<i;s++)if(t[s]===n)return s;return-1}function hk(n,t,e,i){return Ih(this.multi,[])}function fk(n,t,e,i){const s=this.multi;let r;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ho(e,e[1],this.providerFactory.index,i);r=a.slice(0,o),Ih(s,r);for(let l=o;l<a.length;l++)r.push(a[l])}else r=[],Ih(s,r);return r}function Ih(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Je(n,t=[]){return e=>{e.providersResolver=(i,s)=>function(n,t,e){const i=Ie();if(i.firstCreatePass){const s=di(n);Sh(e,i.data,i.blueprint,s,!0),Sh(t,i.data,i.blueprint,s,!1)}}(i,s?s(n):n,t)}}class $v{}class yk{resolveComponentFactory(t){throw function(n){const t=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let to=(()=>{class n{}return n.NULL=new yk,n})();function _k(){return no(Lt(),I())}function no(n,t){return new Ct(zn(n,t))}let Ct=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=_k,n})();function vk(n){return n instanceof Ct?n.nativeElement:n}class pa{}let xn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function(){const n=I(),e=Tn(Lt().index,n);return function(n){return n[11]}(Ti(e)?e:n)}(),n})(),Ek=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class Cs{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ck=new Cs("13.1.1"),kh={};function su(n,t,e,i,s=!1){for(;null!==e;){const r=t[e.index];if(null!==r&&i.push(kt(r)),ci(r))for(let a=10;a<r.length;a++){const l=r[a],c=l[1].firstChild;null!==c&&su(l[1],l,c,i)}const o=e.type;if(8&o)su(n,t,e.child,i);else if(32&o){const a=Ad(e,t);let l;for(;l=a();)i.push(l)}else if(16&o){const a=ty(t,e);if(Array.isArray(a))i.push(...a);else{const l=ea(t[16]);su(l[1],l,a,i,!0)}}e=s?e.projectionNext:e.next}return i}class ga{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return su(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ci(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Pd(t,i),kl(e,i))}this._attachedToViewContainer=!1}Wm(this._lView[1],this._lView)}onDestroy(t){My(this._lView[1],this._lView,null,t)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){sh(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(n,t,e){_l(!0);try{sh(n,t,e)}finally{_l(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function(n,t){ta(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Dk extends ga{constructor(t){super(t),this._view=t}detectChanges(){Ly(this._view)}checkNoChanges(){!function(n){_l(!0);try{Ly(n)}finally{_l(!1)}}(this._view)}get context(){return null}}class qv extends to{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Jt(t);return new Oh(e,this.ngModule)}}function Wv(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}const Sk=new Y("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Fm});class Oh extends $v{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function(n){return n.map(UM).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Wv(this.componentDef.inputs)}get outputs(){return Wv(this.componentDef.outputs)}create(t,e,i,s){const r=(s=s||this.ngModule)?function(n,t){return{get:(e,i,s)=>{const r=n.get(e,kh,s);return r!==kh||i===kh?r:t.get(e,i,s)}}}(t,s.injector):t,o=r.get(pa,xg),a=r.get(Ek,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",d=i?function(n,t,e){if(ft(n))return n.selectRootElement(t,e===li.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):xd(o.createRenderer(null,this.componentDef),c,function(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),p=this.componentDef.onPush?576:528,m=function(n,t){return{components:[],scheduler:n||Fm,clean:I1,playerHandler:t||null,flags:0}}(),y=$l(0,null,null,1,0,null,null,null,null,null),_=na(null,y,m,p,null,null,o,l,a,r);let w,D;vl(_);try{const T=function(n,t,e,i,s,r){const o=e[1];e[20]=n;const l=Lr(o,20,2,"#host",null),c=l.mergedAttrs=t.hostAttrs;null!==c&&(ql(l,c,!0),null!==n&&(Dl(s,n,c),null!==l.classes&&Vd(s,n,l.classes),null!==l.styles&&sy(s,n,l.styles)));const d=i.createRenderer(n,t),p=na(e,Dy(t),null,t.onPush?64:16,e[20],l,i,d,r||null,null);return o.firstCreatePass&&(Al(Bo(l,e),o,t.type),xy(o,l),Py(l,e.length,1)),Gl(e,p),e[20]=p}(d,this.componentDef,_,o,l);if(d)if(i)Dl(l,d,["ng-version",Ck.full]);else{const{attrs:E,classes:P}=function(n){const t=[],e=[];let i=1,s=2;for(;i<n.length;){let r=n[i];if("string"==typeof r)2===s?""!==r&&t.push(r,n[++i]):8===s&&e.push(r);else{if(!hi(s))break;s=r}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);E&&Dl(l,d,E),P&&P.length>0&&Vd(l,d,P.join(" "))}if(D=Qc(y,20),void 0!==e){const E=D.projection=[];for(let P=0;P<this.ngContentSelectors.length;P++){const $=e[P];E.push(null!=$?Array.from($):null)}}w=function(n,t,e,i,s){const r=e[1],o=function(n,t,e){const i=Lt();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),Ry(n,i,t,Fr(n,t,1,null),e));const s=Ho(t,n,i.directiveStart,i);en(s,t);const r=zn(i,t);return r&&en(r,t),s}(r,e,t);if(i.components.push(o),n[8]=o,s&&s.forEach(l=>l(o,t)),t.contentQueries){const l=Lt();t.contentQueries(1,o,l.directiveStart)}const a=Lt();return!r.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(_s(a.index),ky(e[1],a,0,a.directiveStart,a.directiveEnd,t),Oy(t,o)),o}(T,this.componentDef,_,m,[Q1]),ia(y,_,null)}finally{bl()}return new Ik(this.componentType,w,no(D,_),_,D)}}class Ik extends class{}{constructor(t,e,i,s,r){super(),this.location=i,this._rootLView=s,this._tNode=r,this.instance=e,this.hostView=this.changeDetectorRef=new Dk(s),this.componentType=t}get injector(){return new Cr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class Ji{}class zv{}const io=new Map;class Yv extends Ji{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new qv(this);const i=Gn(t);this._bootstrapComponents=Oi(i.bootstrap),this._r3Injector=qy(t,e,[{provide:Ji,useValue:this},{provide:to,useValue:this.componentFactoryResolver}],Ae(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Wt.THROW_IF_NOT_FOUND,i=ye.Default){return t===Wt||t===Ji||t===oh?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class xh extends zv{constructor(t){super(),this.moduleType=t,null!==Gn(t)&&function(n){const t=new Set;!function e(i){const s=Gn(i,!0),r=s.id;null!==r&&(function(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${Ae(t)} vs ${Ae(t.name)}`)}(r,io.get(r),i),io.set(r,i));const o=Oi(s.imports);for(const a of o)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new Yv(this.moduleType,t)}}function ma(n,t,e,i){return function(n,t,e,i,s,r){const o=t+e;return tn(n,o,s)?Pi(n,o+1,r?i.call(r,s):i(s)):_a(n,o+1)}(I(),un(),n,t,e,i)}function ya(n,t,e,i,s){return Xv(I(),un(),n,t,e,i,s)}function Ph(n,t,e,i,s,r){return function(n,t,e,i,s,r,o,a){const l=t+e;return zl(n,l,s,r,o)?Pi(n,l+3,a?i.call(a,s,r,o):i(s,r,o)):_a(n,l+3)}(I(),un(),n,t,e,i,s,r)}function _a(n,t){const e=n[t];return e===ge?void 0:e}function Xv(n,t,e,i,s,r,o){const a=t+e;return Ws(n,a,s,r)?Pi(n,a+2,o?i.call(o,s,r):i(s,r)):_a(n,a+2)}function tb(n,t,e,i,s,r,o,a,l){const c=t+e;return function(n,t,e,i,s,r){const o=Ws(n,t,e,i);return Ws(n,t+2,s,r)||o}(n,c,s,r,o,a)?Pi(n,c+4,l?i.call(l,s,r,o,a):i(s,r,o,a)):_a(n,c+4)}function so(n,t){const e=Ie();let i;const s=n+20;e.firstCreatePass?(i=function(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[s]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(s,i.onDestroy)):i=e.data[s];const r=i.factory||(i.factory=$s(i.type)),o=fs(C);try{const a=Sl(!1),l=r();return Sl(a),function(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,I(),s,l),l}finally{fs(o)}}function va(n,t,e,i){const s=n+20,r=I(),o=vr(r,s);return ba(r,s)?Xv(r,un(),t,o.transform,e,i,o):o.transform(e,i)}function ba(n,t){return n[1].data[t].pure}function Rh(n){return t=>{setTimeout(n,void 0,t)}}const Ne=class extends F{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var s,r,o;let a=t,l=e||(()=>null),c=i;if(t&&"object"==typeof t){const p=t;a=null===(s=p.next)||void 0===s?void 0:s.bind(p),l=null===(r=p.error)||void 0===r?void 0:r.bind(p),c=null===(o=p.complete)||void 0===o?void 0:o.bind(p)}this.__isAsync&&(l=Rh(l),a&&(a=Rh(a)),c&&(c=Rh(c)));const d=super.subscribe({next:a,error:l,complete:c});return t instanceof Pe&&t.add(d),d}};function $k(){return this._results[Ur()]()}class Nh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ur(),i=Nh.prototype;i[e]||(i[e]=$k)}get changes(){return this._changes||(this._changes=new Ne)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const s=Kn(t);(this._changesDetected=!function(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],r=t[i];if(e&&(s=e(s),r=e(r)),r!==s)return!1}return!0}(i._results,s,e))&&(i._results=s,i.length=s.length,i.last=s[this.length-1],i.first=s[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wk,n})();const Gk=Xi,qk=class extends Gk{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=na(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(i[19]=r.createEmbeddedView(e)),ia(e,i,t),new ga(i)}};function Wk(){return ru(Lt(),I())}function ru(n,t){return 4&n.type?new qk(t,n,no(n,t)):null}let yi=(()=>{class n{}return n.__NG_ELEMENT_ID__=zk,n})();function zk(){return ob(Lt(),I())}const Kk=yi,sb=class extends Kk{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return no(this._hostTNode,this._hostLView)}get injector(){return new Cr(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ml(this._hostTNode,this._hostLView);if(Kg(t)){const e=Er(t,this._hostLView),i=wr(t);return new Cr(e[1].data[i+8],e)}return new Cr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=rb(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const s=t.createEmbeddedView(e||{});return this.insert(s,i),s}createComponent(t,e,i,s,r){const o=t&&!function(n){return"function"==typeof n}(t);let a;if(o)a=e;else{const p=e||{};a=p.index,i=p.injector,s=p.projectableNodes,r=p.ngModuleRef}const l=o?t:new Oh(Jt(t)),c=i||this.parentInjector;if(!r&&null==l.ngModule&&c){const p=c.get(Ji,null);p&&(r=p)}const d=l.create(c,s,void 0,r);return this.insert(d.hostView,a),d}insert(t,e){const i=t._lView,s=i[1];if(function(n){return ci(n[3])}(i)){const d=this.indexOf(t);if(-1!==d)this.detach(d);else{const p=i[3],m=new sb(p,p[6],p[3]);m.detach(m.indexOf(t))}}const r=this._adjustIndex(e),o=this._lContainer;!function(n,t,e,i){const s=10+i,r=e.length;i>0&&(e[s-1][4]=t),i<r-10?(t[4]=e[s],sm(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(s,i,o,r);const a=Ld(r,o),l=i[11],c=Fl(l,o[7]);return null!==c&&function(n,t,e,i,s,r){i[0]=s,i[6]=t,ta(n,i,e,1,s,r)}(s,o[6],l,i,c,a),t.attachToViewContainerRef(),sm(Lh(o),r,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=rb(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Pd(this._lContainer,e);i&&(kl(Lh(this._lContainer),e),Wm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Pd(this._lContainer,e);return i&&null!=kl(Lh(this._lContainer),e)?new ga(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function rb(n){return n[8]}function Lh(n){return n[8]||(n[8]=[])}function ob(n,t){let e;const i=t[n.index];if(ci(i))e=i;else{let s;if(8&n.type)s=kt(i);else{const r=t[11];s=r.createComment("");const o=zn(n,t);qs(r,Fl(r,o),s,function(n,t){return ft(n)?n.nextSibling(t):t.nextSibling}(r,o),!1)}t[n.index]=e=Ny(i,t,s,n),Gl(t,e)}return new sb(e,n,t)}class Fh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Fh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Vh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,s=[];for(let r=0;r<i;r++){const o=e.getByIndex(r);s.push(this.queries[o.indexInDeclarationView].clone())}return new Vh(s)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==db(t,e).matches&&this.queries[e].setDirty()}}class ab{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class Bh{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const s=null!==e?e.length:0,r=this.getByIndex(i).embeddedTView(t,s);r&&(r.indexInDeclarationView=i,null!==e?e.push(r):e=[r])}return null!==e?new Bh(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Hh{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Hh(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){const r=i[s];this.matchTNodeWithReadOption(t,e,Zk(e,r)),this.matchTNodeWithReadOption(t,e,Il(e,t,r,!1,!1))}else i===Xi?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Il(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const s=this.metadata.read;if(null!==s)if(s===Ct||s===yi||s===Xi&&4&e.type)this.addMatch(e.index,-2);else{const r=Il(e,t,s,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Zk(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Xk(n,t,e,i){return-1===e?function(n,t){return 11&n.type?no(n,t):4&n.type?ru(n,t):null}(t,n):-2===e?function(n,t,e){return e===Ct?no(t,n):e===Xi?ru(t,n):e===yi?ob(t,n):void 0}(n,t,i):Ho(n,n[1],e,t)}function lb(n,t,e,i){const s=t[19].queries[i];if(null===s.matches){const r=n.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Xk(t,r[c],o[l+1],e.metadata.read))}s.matches=a}return s.matches}function Uh(n,t,e,i){const s=n.queries.getByIndex(e),r=s.matches;if(null!==r){const o=lb(n,t,s,e);for(let a=0;a<r.length;a+=2){const l=r[a];if(l>0)i.push(o[a/2]);else{const c=r[a+1],d=t[-l];for(let p=10;p<d.length;p++){const m=d[p];m[17]===m[3]&&Uh(m[1],m,c,i)}if(null!==d[9]){const p=d[9];for(let m=0;m<p.length;m++){const y=p[m];Uh(y[1],y,c,i)}}}}}return i}function yt(n){const t=I(),e=Ie(),i=Bg();nd(i+1);const s=db(e,i);if(n.dirty&&Pg(t)===(2==(2&s.metadata.flags))){if(null===s.matches)n.reset([]);else{const r=s.crossesNgTemplate?Uh(e,t,i,[]):lb(e,t,s,i);n.reset(r,vk),n.notifyOnChanges()}return!0}return!1}function zt(n,t,e){const i=Ie();i.firstCreatePass&&(cb(i,new ab(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),ub(i,I(),t)}function wa(n,t,e,i){const s=Ie();if(s.firstCreatePass){const r=Lt();cb(s,new ab(t,e,i),r.index),function(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(s,n),2==(2&e)&&(s.staticContentQueries=!0)}ub(s,I(),e)}function _t(){return function(n,t){return n[19].queries[t].queryList}(I(),Bg())}function ub(n,t,e){const i=new Nh(4==(4&e));My(n,t,i,i.destroy),null===t[19]&&(t[19]=new Vh),t[19].queries.push(new Fh(i))}function cb(n,t,e){null===n.queries&&(n.queries=new Bh),n.queries.track(new Hh(t,e))}function db(n,t){return n.queries.getByIndex(t)}function lu(...n){}const uu=new Y("Application Initializer");let oo=(()=>{class n{constructor(e){this.appInits=e,this.resolve=lu,this.reject=lu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let s=0;s<this.appInits.length;s++){const r=this.appInits[s]();if(aa(r))e.push(r);else if(bh(r)){const o=new Promise((a,l)=>{r.subscribe({complete:a,error:l})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(s=>{this.reject(s)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(k(uu,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Ca=new Y("AppId"),wO={provide:Ca,useFactory:function(){return`${zh()}${zh()}${zh()}`},deps:[]};function zh(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ab=new Y("Platform Initializer"),ao=new Y("Platform ID"),Ib=new Y("appBootstrapListener");let kb=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const es=new Y("LocaleId"),Ob=new Y("DefaultCurrencyCode");class EO{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let cu=(()=>{class n{compileModuleSync(e){return new xh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),r=Oi(Gn(e).declarations).reduce((o,a)=>{const l=Jt(a);return l&&o.push(new Oh(l)),o},[]);return new EO(i,r)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const DO=(()=>Promise.resolve(0))();function Kh(n){"undefined"==typeof Zone?DO.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class tt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&e,s.shouldCoalesceRunChangeDetection=i,s.lastRequestAnimationFrameId=-1,s.nativeRequestAnimationFrame=function(){let n=je.requestAnimationFrame,t=je.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(n){const t=()=>{!function(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(je,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,Yh(n),n.isCheckStableRunning=!0,Qh(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),Yh(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,s,r,o,a)=>{try{return xb(n),e.invokeTask(s,r,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||n.shouldCoalesceRunChangeDetection)&&t(),Pb(n)}},onInvoke:(e,i,s,r,o,a,l)=>{try{return xb(n),e.invoke(s,r,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),Pb(n)}},onHasTask:(e,i,s,r)=>{e.hasTask(s,r),i===s&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Yh(n),Qh(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,i,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}(s)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!tt.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(tt.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,s){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+s,t,SO,lu,lu);try{return r.runTask(o,e,i)}finally{r.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const SO={};function Qh(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Yh(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function xb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Pb(n){n._nesting--,Qh(n)}class IO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,s){return t.apply(e,i)}}let Zh=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{tt.assertNotInAngularZone(),Kh(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kh(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,s){let r=-1;i&&i>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==r),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:s})}whenStable(e,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,s){return[]}}return n.\u0275fac=function(e){return new(e||n)(k(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Rb=(()=>{class n{constructor(){this._applications=new Map,Jh.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return Jh.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class kO{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let _i,Jh=new kO;const Nb=new Y("AllowMultipleToken");class Lb{constructor(t,e){this.name=t,this.token=e}}function Fb(n,t,e=[]){const i=`Platform: ${t}`,s=new Y(i);return(r=[])=>{let o=Vb();if(!o||o.injector.get(Nb,!1))if(n)n(e.concat(r).concat({provide:s,useValue:!0}));else{const a=e.concat(r).concat({provide:s,useValue:!0},{provide:ah,useValue:"platform"});!function(n){if(_i&&!_i.destroyed&&!_i.injector.get(Nb,!1))throw new wn("400","");_i=n.get(Bb);const t=n.get(Ab,null);t&&t.forEach(e=>e())}(Wt.create({providers:a,name:i}))}return function(n){const t=Vb();if(!t)throw new wn("401","");return t}()}}function Vb(){return _i&&!_i.destroyed?_i:null}let Bb=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function(n,t){let e;return e="noop"===n?new IO:("zone.js"===n?void 0:n)||new tt({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:tt,useValue:a}];return a.run(()=>{const c=Wt.create({providers:l,parent:this.injector,name:e.moduleType.name}),d=e.create(c),p=d.injector.get(Pr,null);if(!p)throw new wn("402","");return a.runOutsideAngular(()=>{const m=a.onError.subscribe({next:y=>{p.handleError(y)}});d.onDestroy(()=>{Xh(this._modules,d),m.unsubscribe()})}),function(n,t,e){try{const i=e();return aa(i)?i.catch(s=>{throw t.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(p,a,()=>{const m=d.injector.get(oo);return m.runInitializers(),m.donePromise.then(()=>(function(n){Cn(n,"Expected localeId to be defined"),"string"==typeof n&&(_v=n.toLowerCase().replace(/_/g,"-"))}(d.injector.get(es,Xl)||Xl),this._moduleDoBootstrap(d),d))})})}bootstrapModule(e,i=[]){const s=Hb({},i);return function(n,t,e){const i=new xh(e);return Promise.resolve(i)}(0,0,e).then(r=>this.bootstrapModuleFactory(r,s))}_moduleDoBootstrap(e){const i=e.injector.get(Da);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!e.instance.ngDoBootstrap)throw new wn("403","");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new wn("404","");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(k(Wt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function Hb(n,t){return Array.isArray(t)?t.reduce(Hb,n):Object.assign(Object.assign({},n),t)}let Da=(()=>{class n{constructor(e,i,s,r,o){this._zone=e,this._injector=i,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new L(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new L(c=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{tt.assertNotInAngularZone(),Kh(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const p=this._zone.onUnstable.subscribe(()=>{tt.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{d.unsubscribe(),p.unsubscribe()}});this.isStable=function(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return de(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof L?n[0]:$t(t)(wt(n,e))}(a,l.pipe(n=>Rt()(function(n,t){return function(i){let s;s="function"==typeof n?n:function(){return n};const r=Object.create(i,Vs);return r.source=i,r.subjectFactory=s,r}}(U0)(n))))}bootstrap(e,i){if(!this._initStatus.done)throw new wn("405","");let s;s=e instanceof $v?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(s.componentType);const r=function(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Ji),a=s.create(Wt.NULL,[],i||s.selector,r),l=a.location.nativeElement,c=a.injector.get(Zh,null),d=c&&a.injector.get(Rb);return c&&d&&d.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),Xh(this.components,a),d&&d.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new wn("101","");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;Xh(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ib,[]).concat(this._bootstrapListeners).forEach(s=>s(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(k(tt),k(Wt),k(Pr),k(to),k(oo))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function Xh(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let jb=!0,Li=(()=>{class n{}return n.__NG_ELEMENT_ID__=UO,n})();function UO(n){return function(n,t,e){if(pl(n)&&!e){const i=Tn(n.index,t);return new ga(i,i)}return 47&n.type?new ga(t[16],t):null}(Lt(),I(),16==(16&n))}class Qb{constructor(){}supports(t){return ra(t)}create(t){return new KO(t)}}const zO=(n,t)=>t;class KO{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||zO}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,s=0,r=null;for(;e||i;){const o=!i||e&&e.currentIndex<Zb(i,s,r)?e:i,a=Zb(o,s,r),l=o.currentIndex;if(o===i)s--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)s++;else{r||(r=[]);const c=a-s,d=l-s;if(c!=d){for(let m=0;m<c;m++){const y=m<r.length?r[m]:r[m]=0,_=y+m;d<=_&&_<c&&(r[m]=y+1)}r[o.previousIndex]=d-c}}a!==l&&t(o,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!ra(t))throw new Error(`Error trying to diff '${Ae(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let s,r,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)r=t[a],o=this._trackByFn(a,r),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,r,o,a)),Object.is(e.item,r)||this._addIdentityChange(e,r)):(e=this._mismatch(e,r,o,a),i=!0),e=e._next}else s=0,function(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[Ur()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{o=this._trackByFn(s,a),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,a,o,s)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,s),i=!0),e=e._next,s++}),this.length=s;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,s){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,s)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,s))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,s)):t=this._addAfter(new QO(e,i),r,s),t}_verifyReinsertion(t,e,i,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==r?t=this._reinsertAfter(r,t._prev,s):t.currentIndex!=s&&(t.currentIndex=s,this._addToMoves(t,s)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const s=t._prevRemoved,r=t._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const s=null===e?this._itHead:e._next;return t._next=s,t._prev=e,null===s?this._itTail=t:s._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Yb),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yb),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class QO{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YO{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class Yb{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new YO,this.map.set(e,i)),i.add(t)}get(t,e){const s=this.map.get(t);return s?s.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Zb(n,t,e){const i=n.previousIndex;if(null===i)return i;let s=0;return e&&i<e.length&&(s=e[i]),i+t+s}class Jb{constructor(){}supports(t){return t instanceof Map||fh(t)}create(){return new ZO}}class ZO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||fh(t)))throw new Error(`Error trying to diff '${Ae(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,s)=>{if(e&&e.key===s)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(s,i);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const s=this._records.get(t);this._maybeAddToChanges(s,e);const r=s._prev,o=s._next;return r&&(r._next=o),o&&(o._prev=r),s._next=null,s._prev=null,s}const i=new JO(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class JO{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Xb(){return new Ta([new Qb])}let Ta=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||Xb()),deps:[[n,new kr,new Ai]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(null!=i)return i;throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'`)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:Xb}),n})();function ew(){return new lo([new Jb])}let lo=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const s=i.factories.slice();e=e.concat(s)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||ew()),deps:[[n,new kr,new Ai]]}}find(e){const i=this.factories.find(s=>s.supports(e));if(i)return i;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:ew}),n})();const ex=[new Jb],nx=new Ta([new Qb]),ix=new lo(ex),sx=Fb(null,"core",[{provide:ao,useValue:"unknown"},{provide:Bb,deps:[Wt]},{provide:Rb,deps:[]},{provide:kb,deps:[]}]),ux=[{provide:Da,useClass:Da,deps:[tt,Wt,Pr,to,oo]},{provide:Sk,deps:[tt],useFactory:function(n){let t=[];return n.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:oo,useClass:oo,deps:[[new Ai,uu]]},{provide:cu,useClass:cu,deps:[]},wO,{provide:Ta,useFactory:function(){return nx},deps:[]},{provide:lo,useFactory:function(){return ix},deps:[]},{provide:es,useFactory:function(n){return n||"undefined"!=typeof $localize&&$localize.locale||Xl},deps:[[new zo(es),new Ai,new kr]]},{provide:Ob,useValue:"USD"}];let dx=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(k(Da))},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({providers:ux}),n})(),hu=null;function Fi(){return hu}const lt=new Y("DocumentToken");let Ys=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return k(tw)},providedIn:"platform"}),n})();const mx=new Y("Location Initialized");let tw=(()=>{class n extends Ys{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fi().getBaseHref(this._doc)}onPopState(e){const i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Fi().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,s){nw()?this._history.pushState(e,i,s):this.location.hash=s}replaceState(e,i,s){nw()?this._history.replaceState(e,i,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(k(lt))},n.\u0275prov=z({token:n,factory:function(){return new tw(k(lt))},providedIn:"platform"}),n})();function nw(){return!!window.history.pushState}function rf(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function iw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ts(n){return n&&"?"!==n[0]?"?"+n:n}let uo=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return function(n){const t=k(lt).location;return new sw(k(Ys),t&&t.origin||"")}()},providedIn:"root"}),n})();const af=new Y("appBaseHref");let sw=(()=>{class n extends uo{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return rf(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+ts(this._platformLocation.search),s=this._platformLocation.hash;return s&&e?`${i}${s}`:i}pushState(e,i,s,r){const o=this.prepareExternalUrl(s+ts(r));this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){const o=this.prepareExternalUrl(s+ts(r));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(k(Ys),k(af,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),vx=(()=>{class n extends uo{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=rf(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,s,r){let o=this.prepareExternalUrl(s+ts(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,s,r){let o=this.prepareExternalUrl(s+ts(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformLocation).historyGo)||void 0===s||s.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(k(Ys),k(af,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),lf=(()=>{class n{constructor(e,i){this._subject=new Ne,this._urlChangeListeners=[],this._platformStrategy=e;const s=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=iw(rw(s)),this._platformStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+ts(i))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,rw(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",s=null){this._platformStrategy.pushState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ts(i)),s)}replaceState(e,i="",s=null){this._platformStrategy.replaceState(s,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ts(i)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,s;null===(s=(i=this._platformStrategy).historyGo)||void 0===s||s.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(s=>s(e,i))}subscribe(e,i,s){return this._subject.subscribe({next:e,error:i,complete:s})}}return n.normalizeQueryParams=ts,n.joinWithSlash=rf,n.stripTrailingSlash=iw,n.\u0275fac=function(e){return new(e||n)(k(uo),k(Ys))},n.\u0275prov=z({token:n,factory:function(){return new lf(k(uo),k(Ys))},providedIn:"root"}),n})();function rw(n){return n.replace(/\/index.html$/,"")}var Ot=(()=>((Ot=Ot||{})[Ot.Zero=0]="Zero",Ot[Ot.One=1]="One",Ot[Ot.Two=2]="Two",Ot[Ot.Few=3]="Few",Ot[Ot.Many=4]="Many",Ot[Ot.Other=5]="Other",Ot))(),Dt=(()=>((Dt=Dt||{})[Dt.Format=0]="Format",Dt[Dt.Standalone=1]="Standalone",Dt))(),Se=(()=>((Se=Se||{})[Se.Narrow=0]="Narrow",Se[Se.Abbreviated=1]="Abbreviated",Se[Se.Wide=2]="Wide",Se[Se.Short=3]="Short",Se))(),ut=(()=>((ut=ut||{})[ut.Short=0]="Short",ut[ut.Medium=1]="Medium",ut[ut.Long=2]="Long",ut[ut.Full=3]="Full",ut))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))();function fu(n,t){return Zn(fn(n)[U.DateFormat],t)}function pu(n,t){return Zn(fn(n)[U.TimeFormat],t)}function gu(n,t){return Zn(fn(n)[U.DateTimeFormat],t)}function Yn(n,t){const e=fn(n),i=e[U.NumberSymbols][t];if(void 0===i){if(t===se.CurrencyDecimal)return e[U.NumberSymbols][se.Decimal];if(t===se.CurrencyGroup)return e[U.NumberSymbols][se.Group]}return i}const Ax=function(n){return fn(n)[U.PluralCase]};function aw(n){if(!n[U.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[U.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Zn(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function cf(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const Rx=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Sa={},Nx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bt=(()=>((Bt=Bt||{})[Bt.Short=0]="Short",Bt[Bt.ShortGMT=1]="ShortGMT",Bt[Bt.Long=2]="Long",Bt[Bt.Extended=3]="Extended",Bt))(),oe=(()=>((oe=oe||{})[oe.FullYear=0]="FullYear",oe[oe.Month=1]="Month",oe[oe.Date=2]="Date",oe[oe.Hours=3]="Hours",oe[oe.Minutes=4]="Minutes",oe[oe.Seconds=5]="Seconds",oe[oe.FractionalSeconds=6]="FractionalSeconds",oe[oe.Day=7]="Day",oe))(),we=(()=>((we=we||{})[we.DayPeriods=0]="DayPeriods",we[we.Days=1]="Days",we[we.Months=2]="Months",we[we.Eras=3]="Eras",we))();function Lx(n,t,e,i){let s=function(n){if(cw(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,r=1,o=1]=n.split("-").map(a=>+a);return mu(s,r-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(Rx))return function(n){const t=new Date(0);let e=0,i=0;const s=n[8]?t.setUTCFullYear:t.setFullYear,r=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),s.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return r.call(t,o,a,l,c),t}(i)}const t=new Date(n);if(!cw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=ns(e,t)||t;let a,o=[];for(;t;){if(a=Nx.exec(t),!a){o.push(t);break}{o=o.concat(a.slice(1));const d=o.pop();if(!d)break;t=d}}let l=s.getTimezoneOffset();i&&(l=uw(i,l),s=function(n,t,e){const s=n.getTimezoneOffset();return function(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,-1*(uw(t,s)-s))}(s,i));let c="";return o.forEach(d=>{const p=function(n){if(hf[n])return hf[n];let t;switch(n){case"G":case"GG":case"GGG":t=Xe(we.Eras,Se.Abbreviated);break;case"GGGG":t=Xe(we.Eras,Se.Wide);break;case"GGGGG":t=Xe(we.Eras,Se.Narrow);break;case"y":t=xt(oe.FullYear,1,0,!1,!0);break;case"yy":t=xt(oe.FullYear,2,0,!0,!0);break;case"yyy":t=xt(oe.FullYear,3,0,!1,!0);break;case"yyyy":t=xt(oe.FullYear,4,0,!1,!0);break;case"Y":t=bu(1);break;case"YY":t=bu(2,!0);break;case"YYY":t=bu(3);break;case"YYYY":t=bu(4);break;case"M":case"L":t=xt(oe.Month,1,1);break;case"MM":case"LL":t=xt(oe.Month,2,1);break;case"MMM":t=Xe(we.Months,Se.Abbreviated);break;case"MMMM":t=Xe(we.Months,Se.Wide);break;case"MMMMM":t=Xe(we.Months,Se.Narrow);break;case"LLL":t=Xe(we.Months,Se.Abbreviated,Dt.Standalone);break;case"LLLL":t=Xe(we.Months,Se.Wide,Dt.Standalone);break;case"LLLLL":t=Xe(we.Months,Se.Narrow,Dt.Standalone);break;case"w":t=df(1);break;case"ww":t=df(2);break;case"W":t=df(1,!0);break;case"d":t=xt(oe.Date,1);break;case"dd":t=xt(oe.Date,2);break;case"c":case"cc":t=xt(oe.Day,1);break;case"ccc":t=Xe(we.Days,Se.Abbreviated,Dt.Standalone);break;case"cccc":t=Xe(we.Days,Se.Wide,Dt.Standalone);break;case"ccccc":t=Xe(we.Days,Se.Narrow,Dt.Standalone);break;case"cccccc":t=Xe(we.Days,Se.Short,Dt.Standalone);break;case"E":case"EE":case"EEE":t=Xe(we.Days,Se.Abbreviated);break;case"EEEE":t=Xe(we.Days,Se.Wide);break;case"EEEEE":t=Xe(we.Days,Se.Narrow);break;case"EEEEEE":t=Xe(we.Days,Se.Short);break;case"a":case"aa":case"aaa":t=Xe(we.DayPeriods,Se.Abbreviated);break;case"aaaa":t=Xe(we.DayPeriods,Se.Wide);break;case"aaaaa":t=Xe(we.DayPeriods,Se.Narrow);break;case"b":case"bb":case"bbb":t=Xe(we.DayPeriods,Se.Abbreviated,Dt.Standalone,!0);break;case"bbbb":t=Xe(we.DayPeriods,Se.Wide,Dt.Standalone,!0);break;case"bbbbb":t=Xe(we.DayPeriods,Se.Narrow,Dt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Xe(we.DayPeriods,Se.Abbreviated,Dt.Format,!0);break;case"BBBB":t=Xe(we.DayPeriods,Se.Wide,Dt.Format,!0);break;case"BBBBB":t=Xe(we.DayPeriods,Se.Narrow,Dt.Format,!0);break;case"h":t=xt(oe.Hours,1,-12);break;case"hh":t=xt(oe.Hours,2,-12);break;case"H":t=xt(oe.Hours,1);break;case"HH":t=xt(oe.Hours,2);break;case"m":t=xt(oe.Minutes,1);break;case"mm":t=xt(oe.Minutes,2);break;case"s":t=xt(oe.Seconds,1);break;case"ss":t=xt(oe.Seconds,2);break;case"S":t=xt(oe.FractionalSeconds,1);break;case"SS":t=xt(oe.FractionalSeconds,2);break;case"SSS":t=xt(oe.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=_u(Bt.Short);break;case"ZZZZZ":t=_u(Bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=_u(Bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=_u(Bt.Long);break;default:return null}return hf[n]=t,t}(d);c+=p?p(s,e,l):"''"===d?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function mu(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function ns(n,t){const e=function(n){return fn(n)[U.LocaleId]}(n);if(Sa[e]=Sa[e]||{},Sa[e][t])return Sa[e][t];let i="";switch(t){case"shortDate":i=fu(n,ut.Short);break;case"mediumDate":i=fu(n,ut.Medium);break;case"longDate":i=fu(n,ut.Long);break;case"fullDate":i=fu(n,ut.Full);break;case"shortTime":i=pu(n,ut.Short);break;case"mediumTime":i=pu(n,ut.Medium);break;case"longTime":i=pu(n,ut.Long);break;case"fullTime":i=pu(n,ut.Full);break;case"short":const s=ns(n,"shortTime"),r=ns(n,"shortDate");i=yu(gu(n,ut.Short),[s,r]);break;case"medium":const o=ns(n,"mediumTime"),a=ns(n,"mediumDate");i=yu(gu(n,ut.Medium),[o,a]);break;case"long":const l=ns(n,"longTime"),c=ns(n,"longDate");i=yu(gu(n,ut.Long),[l,c]);break;case"full":const d=ns(n,"fullTime"),p=ns(n,"fullDate");i=yu(gu(n,ut.Full),[d,p])}return i&&(Sa[e][t]=i),i}function yu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function vi(n,t,e="-",i,s){let r="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,r=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.substr(o.length-t)),r+o}function xt(n,t,e=0,i=!1,s=!1){return function(r,o){let a=function(n,t){switch(n){case oe.FullYear:return t.getFullYear();case oe.Month:return t.getMonth();case oe.Date:return t.getDate();case oe.Hours:return t.getHours();case oe.Minutes:return t.getMinutes();case oe.Seconds:return t.getSeconds();case oe.FractionalSeconds:return t.getMilliseconds();case oe.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,r);if((e>0||a>-e)&&(a+=e),n===oe.Hours)0===a&&-12===e&&(a=12);else if(n===oe.FractionalSeconds)return function(n,t){return vi(n,3).substr(0,t)}(a,t);const l=Yn(o,se.MinusSign);return vi(a,t,l,i,s)}}function Xe(n,t,e=Dt.Format,i=!1){return function(s,r){return function(n,t,e,i,s,r){switch(e){case we.Months:return function(n,t,e){const i=fn(n),r=Zn([i[U.MonthsFormat],i[U.MonthsStandalone]],t);return Zn(r,e)}(t,s,i)[n.getMonth()];case we.Days:return function(n,t,e){const i=fn(n),r=Zn([i[U.DaysFormat],i[U.DaysStandalone]],t);return Zn(r,e)}(t,s,i)[n.getDay()];case we.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(r){const c=function(n){const t=fn(n);return aw(t),(t[U.ExtraData][2]||[]).map(i=>"string"==typeof i?cf(i):[cf(i[0]),cf(i[1])])}(t),d=function(n,t,e){const i=fn(n);aw(i);const r=Zn([i[U.ExtraData][0],i[U.ExtraData][1]],t)||[];return Zn(r,e)||[]}(t,s,i),p=c.findIndex(m=>{if(Array.isArray(m)){const[y,_]=m,w=o>=y.hours&&a>=y.minutes,D=o<_.hours||o===_.hours&&a<_.minutes;if(y.hours<_.hours){if(w&&D)return!0}else if(w||D)return!0}else if(m.hours===o&&m.minutes===a)return!0;return!1});if(-1!==p)return d[p]}return function(n,t,e){const i=fn(n),r=Zn([i[U.DayPeriodsFormat],i[U.DayPeriodsStandalone]],t);return Zn(r,e)}(t,s,i)[o<12?0:1];case we.Eras:return function(n,t){return Zn(fn(n)[U.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(s,r,n,t,e,i)}}function _u(n){return function(t,e,i){const s=-1*i,r=Yn(e,se.MinusSign),o=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Bt.Short:return(s>=0?"+":"")+vi(o,2,r)+vi(Math.abs(s%60),2,r);case Bt.ShortGMT:return"GMT"+(s>=0?"+":"")+vi(o,1,r);case Bt.Long:return"GMT"+(s>=0?"+":"")+vi(o,2,r)+":"+vi(Math.abs(s%60),2,r);case Bt.Extended:return 0===i?"Z":(s>=0?"+":"")+vi(o,2,r)+":"+vi(Math.abs(s%60),2,r);default:throw new Error(`Unknown zone width "${n}"`)}}}function lw(n){return mu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function df(n,t=!1){return function(e,i){let s;if(t){const r=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();s=1+Math.floor((o+r)/7)}else{const r=lw(e),o=function(n){const t=mu(n,0,1).getDay();return mu(n,0,1+(t<=4?4:11)-t)}(r.getFullYear()),a=r.getTime()-o.getTime();s=1+Math.round(a/6048e5)}return vi(s,n,Yn(i,se.MinusSign))}}function bu(n,t=!1){return function(e,i){return vi(lw(e).getFullYear(),n,Yn(i,se.MinusSign),t)}}const hf={};function uw(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function cw(n){return n instanceof Date&&!isNaN(n.valueOf())}class Eu{}let iP=(()=>{class n extends Eu{constructor(e){super(),this.locale=e}getPluralCategory(e,i){switch(Ax(i||this.locale)(e)){case Ot.Zero:return"zero";case Ot.One:return"one";case Ot.Two:return"two";case Ot.Few:return"few";case Ot.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(k(es))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function pw(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[s,r]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}let Aa=(()=>{class n{constructor(e,i,s,r){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=s,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(ra(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ae(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(e){return new(e||n)(C(Ta),C(lo),C(Ct),C(xn))},n.\u0275dir=ee({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class rP{constructor(t,e,i,s){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ia=(()=>{class n{constructor(e,i,s){this._viewContainer=e,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((s,r,o)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new rP(s.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===r?void 0:r);else if(null!==r){const a=i.get(r);i.move(a,o),gw(a,s)}});for(let s=0,r=i.length;s<r;s++){const a=i.get(s).context;a.index=s,a.count=r,a.ngForOf=this._ngForOf}e.forEachIdentityChange(s=>{gw(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(C(yi),C(Xi),C(Ta))},n.\u0275dir=ee({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function gw(n,t){n.context.$implicit=t.item}let Zs=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new oP,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){mw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){mw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(C(yi),C(Xi))},n.\u0275dir=ee({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class oP{constructor(){this.$implicit=null,this.ngIf=null}}function mw(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ae(t)}'.`)}let _w=(()=>{class n{constructor(e,i,s){this._ngEl=e,this._differs=i,this._renderer=s,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[s,r]=e.split(".");null!=(i=null!=i&&r?`${i}${r}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,s,i):this._renderer.removeStyle(this._ngEl.nativeElement,s)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(C(Ct),C(lo),C(xn))},n.\u0275dir=ee({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),vw=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(C(yi))},n.\u0275dir=ee({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[ln]}),n})();const vP=new Y("DATE_PIPE_DEFAULT_TIMEZONE");let bw=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",s,r){var o;if(null==e||""===e||e!=e)return null;try{return Lx(e,i,r||this.locale,null!==(o=null!=s?s:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw function(n,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${Ae(n)}'`)}(n,a.message)}}}return n.\u0275fac=function(e){return new(e||n)(C(es,16),C(vP,24))},n.\u0275pipe=an({name:"date",type:n,pure:!0}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({providers:[{provide:Eu,useClass:iP}]}),n})();const Cw="browser";function Dw(n){return n===Cw}let PP=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new RP(k(lt),window)}),n})();class RP{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=i.currentNode;for(;s;){const r=s.shadowRoot;if(r){const o=r.getElementById(t)||r.querySelector(`[name="${t}"]`);if(o)return o}s=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,s=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(i-r[0],s-r[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Tw(this.window.history)||Tw(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Tw(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sw{}class wf extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function(n){hu||(hu=n)}(new wf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(ka=ka||document.querySelector("base"),ka?ka.getAttribute("href"):null);return null==e?null:function(n){Cu=Cu||document.createElement("a"),Cu.setAttribute("href",n);const t=Cu.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pw(document.cookie,t)}}let Cu,ka=null;const Mw=new Y("TRANSITION_ID"),HP=[{provide:uu,useFactory:function(n,t,e){return()=>{e.get(oo).donePromise.then(()=>{const i=Fi(),s=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let r=0;r<s.length;r++)i.remove(s[r])})}},deps:[Mw,lt,Wt],multi:!0}];class Ef{static init(){!function(n){Jh=n}(new Ef)}addToWindow(t){je.getAngularTestability=(i,s=!0)=>{const r=t.findTestabilityInTree(i,s);if(null==r)throw new Error("Could not find testability for element.");return r},je.getAllAngularTestabilities=()=>t.getAllTestabilities(),je.getAllAngularRootElements=()=>t.getAllRootElements(),je.frameworkStabilizers||(je.frameworkStabilizers=[]),je.frameworkStabilizers.push(i=>{const s=je.getAllAngularTestabilities();let r=s.length,o=!1;const a=function(l){o=o||l,r--,0==r&&i(o)};s.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const s=t.getTestability(e);return null!=s?s:i?Fi().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let UP=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Du=new Y("EventManagerPlugins");let Tu=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(s=>s.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,s){return this._findPluginFor(i).addEventListener(e,i,s)}addGlobalEventListener(e,i,s){return this._findPluginFor(i).addGlobalEventListener(e,i,s)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const s=this._plugins;for(let r=0;r<s.length;r++){const o=s[r];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(k(Du),k(tt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Aw{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const s=Fi().getGlobalEventTarget(this._doc,t);if(!s)throw new Error(`Unsupported event target ${s} for event ${e}`);return this.addEventListener(s,e,i)}}let Iw=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),i.add(s))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Oa=(()=>{class n extends Iw{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,s){e.forEach(r=>{const o=this._doc.createElement("style");o.textContent=r,s.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(kw),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,s)=>{this._addStylesToHost(e,s,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(kw))}}return n.\u0275fac=function(e){return new(e||n)(k(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function kw(n){Fi().remove(n)}const Cf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Df=/%COMP%/g;function Su(n,t,e){for(let i=0;i<t.length;i++){let s=t[i];Array.isArray(s)?Su(n,s,e):(s=s.replace(Df,n),e.push(s))}return e}function Pw(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Mu=(()=>{class n{constructor(e,i,s){this.eventManager=e,this.sharedStylesHost=i,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Tf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case li.Emulated:{let s=this.rendererByCompId.get(i.id);return s||(s=new zP(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,s)),s.applyToHost(e),s}case 1:case li.ShadowDom:return new KP(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const s=Su(i.id,i.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(k(Tu),k(Oa),k(Ca))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Tf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Cf[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,s){if(s){e=s+":"+e;const r=Cf[s];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const s=Cf[i];s?t.removeAttributeNS(s,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,s){s&(In.DashCase|In.Important)?t.style.setProperty(e,i,s&In.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&In.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pw(i)):this.eventManager.addEventListener(t,e,Pw(i))}}class zP extends Tf{constructor(t,e,i,s){super(t),this.component=i;const r=Su(s+"-"+i.id,i.styles,[]);e.addStyles(r),this.contentAttr=function(n){return"_ngcontent-%COMP%".replace(Df,n)}(s+"-"+i.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Df,n)}(s+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class KP extends Tf{constructor(t,e,i,s){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const r=Su(s.id,s.styles,[]);for(let o=0;o<r.length;o++){const a=document.createElement("style");a.textContent=r[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let QP=(()=>{class n extends Aw{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,s){return e.addEventListener(i,s,!1),()=>this.removeEventListener(e,i,s)}removeEventListener(e,i,s){return e.removeEventListener(i,s)}}return n.\u0275fac=function(e){return new(e||n)(k(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Nw=["alt","control","meta","shift"],ZP={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Lw={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},JP={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let XP=(()=>{class n extends Aw{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,s){const r=n.parseEventName(i),o=n.eventCallback(r.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fi().onAndCancel(e,r.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const r=n._normalizeKey(i.pop());let o="";if(Nw.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=r,0!=i.length||0===r.length)return null;const a={};return a.domEventName=s,a.fullKey=o,a}static getEventFullKey(e){let i="",s=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Lw.hasOwnProperty(t)&&(t=Lw[t]))}return ZP[t]||t}(e);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Nw.forEach(r=>{r!=s&&JP[r](e)&&(i+=r+".")}),i+=s,i}static eventCallback(e,i,s){return r=>{n.getEventFullKey(r)===e&&s.runGuarded(()=>i(r))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(k(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const sR=Fb(sx,"browser",[{provide:ao,useValue:Cw},{provide:Ab,useValue:function(){wf.makeCurrent(),Ef.init()},multi:!0},{provide:lt,useFactory:function(){return function(n){zc=n}(document),document},deps:[]}]),rR=[{provide:ah,useValue:"root"},{provide:Pr,useFactory:function(){return new Pr},deps:[]},{provide:Du,useClass:QP,multi:!0,deps:[lt,tt,ao]},{provide:Du,useClass:XP,multi:!0,deps:[lt]},{provide:Mu,useClass:Mu,deps:[Tu,Oa,Ca]},{provide:pa,useExisting:Mu},{provide:Iw,useExisting:Oa},{provide:Oa,useClass:Oa,deps:[lt]},{provide:Zh,useClass:Zh,deps:[tt]},{provide:Tu,useClass:Tu,deps:[Du,tt]},{provide:Sw,useClass:UP,deps:[]}];let oR=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:Ca,useValue:e.appId},{provide:Mw,useExisting:Ca},HP]}}}return n.\u0275fac=function(e){return new(e||n)(k(n,12))},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({providers:rR,imports:[Ew,dx]}),n})();"undefined"!=typeof window&&window;let Bw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new(e||n):k(Hw),i},providedIn:"root"}),n})(),Hw=(()=>{class n extends Bw{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ke.NONE:return i;case Ke.HTML:return Ii(i,"HTML")?An(i):Am(this._doc,String(i)).toString();case Ke.STYLE:return Ii(i,"Style")?An(i):i;case Ke.SCRIPT:if(Ii(i,"Script"))return An(i);throw new Error("unsafe value used in a script context");case Ke.URL:return bm(i),Ii(i,"URL")?An(i):Qo(String(i));case Ke.RESOURCE_URL:if(Ii(i,"ResourceURL"))return An(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function(n){return new DS(n)}(e)}bypassSecurityTrustStyle(e){return function(n){return new TS(n)}(e)}bypassSecurityTrustScript(e){return function(n){return new SS(n)}(e)}bypassSecurityTrustUrl(e){return function(n){return new MS(n)}(e)}bypassSecurityTrustResourceUrl(e){return function(n){return new AS(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(k(lt))},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new e:function(n){return new Hw(n.get(lt))}(k(Wt)),i},providedIn:"root"}),n})();function me(...n){let t=n[n.length-1];return de(t)?(n.pop(),qe(n,t)):wt(n)}class Pn extends F{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new v;return this._value}next(t){super.next(this._value=t)}}const Uw={};class _R{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new vR(t,this.resultSelector))}}class vR extends it{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Uw),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++){const s=t[i];this.add(at(this,s,s,i))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i,s,r){const o=this.values,l=this.toRespond?o[i]===Uw?--this.toRespond:this.toRespond:0;o[i]=e,0===l&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Au=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();function Mf(...n){return $t(1)(me(...n))}const Ts=new L(n=>n.complete());function Af(n){return n?function(n){return new L(t=>n.schedule(()=>t.complete()))}(n):Ts}function jw(n){return new L(t=>{let e;try{e=n()}catch(s){return void t.error(s)}return(e?Oe(e):Af()).subscribe(t)})}function Vi(n,t){return"function"==typeof t?e=>e.pipe(Vi((i,s)=>Oe(n(i,s)).pipe(W((r,o)=>t(i,r,s,o))))):e=>e.lift(new ER(n))}class ER{constructor(t){this.project=t}call(t,e){return e.subscribe(new CR(t,this.project))}}class CR extends it{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(s){return void this.destination.error(s)}this._innerSub(e,t,i)}_innerSub(t,e,i){const s=this.innerSubscription;s&&s.unsubscribe();const r=new Ee(this,e,i),o=this.destination;o.add(r),this.innerSubscription=at(this,t,void 0,void 0,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,i,s,r){this.destination.next(e)}}const $w=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Iu(n){return t=>0===n?Af():t.lift(new DR(n))}class DR{constructor(t){if(this.total=t,this.total<0)throw new $w}call(t,e){return e.subscribe(new TR(t,this.total))}}class TR extends ke{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function Gw(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(s){return s.lift(new MR(n,t,e))}}class MR{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new AR(t,this.accumulator,this.seed,this.hasSeed))}}class AR extends ke{constructor(t,e,i,s){super(t),this.accumulator=e,this._seed=i,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)}}function Rn(n,t){return function(i){return i.lift(new IR(n,t))}}class IR{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new kR(t,this.predicate,this.thisArg))}}class kR extends ke{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Ss(n){return function(e){const i=new OR(n),s=e.lift(i);return i.caught=s}}class OR{constructor(t){this.selector=t}call(t,e){return e.subscribe(new xR(t,this.selector,this.caught))}}class xR extends it{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(r){return void super.error(r)}this._unsubscribeAndRecycle();const i=new Ee(this,void 0,void 0);this.add(i);const s=at(this,e,void 0,void 0,i);s!==i&&this.add(s)}}}function co(n,t){return Ve(n,t,1)}function If(n){return function(e){return 0===n?Af():e.lift(new PR(n))}}class PR{constructor(t){if(this.total=t,this.total<0)throw new $w}call(t,e){return e.subscribe(new RR(t,this.total))}}class RR extends ke{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,s=this.count++;e.length<i?e.push(t):e[s%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,s=this.ring;for(let r=0;r<i;r++){const o=e++%i;t.next(s[o])}}t.complete()}}function qw(n=FR){return t=>t.lift(new NR(n))}class NR{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new LR(t,this.errorFactory))}}class LR extends ke{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function FR(){return new Au}function Ww(n=null){return t=>t.lift(new VR(n))}class VR{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new BR(t,this.defaultValue))}}class BR extends ke{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ho(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Rn((s,r)=>n(s,r,i)):N,Iu(1),e?Ww(t):qw(()=>new Au))}function Ms(){}function ct(n,t,e){return function(s){return s.lift(new UR(n,t,e))}}class UR{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new jR(t,this.nextOrObserver,this.error,this.complete))}}class jR extends ke{constructor(t,e,i,s){super(t),this._tapNext=Ms,this._tapError=Ms,this._tapComplete=Ms,this._tapError=i||Ms,this._tapComplete=s||Ms,Ut(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ms,this._tapError=e.error||Ms,this._tapComplete=e.complete||Ms)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class GR{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qR(t,this.callback))}}class qR extends ke{constructor(t,e){super(t),this.add(new Pe(e))}}class is{constructor(t,e){this.id=t,this.url=e}}class kf extends is{constructor(t,e,i="imperative",s=null){super(t,e),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Js extends is{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class zw extends is{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class WR extends is{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zR extends is{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KR extends is{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class QR extends is{constructor(t,e,i,s,r){super(t,e),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YR extends is{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ZR extends is{constructor(t,e,i,s){super(t,e),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kw{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Qw{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class JR{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class XR{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eN{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tN{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yw{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Te="primary";class nN{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fo(n){return new nN(n)}const Zw="ngNavigationCancelingError";function Of(n){const t=Error("NavigationCancelingError: "+n);return t[Zw]=!0,t}function sN(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const s={};for(let r=0;r<i.length;r++){const o=i[r],a=n[r];if(o.startsWith(":"))s[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function Bi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let s;for(let r=0;r<e.length;r++)if(s=e[r],!Jw(n[s],t[s]))return!1;return!0}function Jw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((s,r)=>i[r]===s)}return n===t}function Xw(n){return Array.prototype.concat.apply([],n)}function eE(n){return n.length>0?n[n.length-1]:null}function Yt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Hi(n){return bh(n)?n:aa(n)?Oe(Promise.resolve(n)):me(n)}const aN={exact:function iE(n,t,e){if(!er(n.segments,t.segments)||!ku(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!iE(n.children[i],t.children[i],e))return!1;return!0},subset:sE},tE={exact:function(n,t){return Bi(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Jw(n[e],t[e]))},ignored:()=>!0};function nE(n,t,e){return aN[e.paths](n.root,t.root,e.matrixParams)&&tE[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function sE(n,t,e){return rE(n,t,t.segments,e)}function rE(n,t,e,i){if(n.segments.length>e.length){const s=n.segments.slice(0,e.length);return!(!er(s,e)||t.hasChildren()||!ku(s,e,i))}if(n.segments.length===e.length){if(!er(n.segments,e)||!ku(n.segments,e,i))return!1;for(const s in t.children)if(!n.children[s]||!sE(n.children[s],t.children[s],i))return!1;return!0}{const s=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!!(er(n.segments,s)&&ku(n.segments,s,i)&&n.children[Te])&&rE(n.children[Te],t,r,i)}}function ku(n,t,e){return t.every((i,s)=>tE[e](n[s].parameters,i.parameters))}class Xs{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fo(this.queryParams)),this._queryParamMap}toString(){return hN.serialize(this)}}class Me{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Yt(e,(i,s)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ou(this)}}class xa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fo(this.parameters)),this._parameterMap}toString(){return cE(this)}}function er(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class oE{}class aE{parse(t){const e=new wN(t);return new Xs(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pa(t.root,!0)}`,i=function(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(s=>`${xu(e)}=${xu(s)}`).join("&"):`${xu(e)}=${xu(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),s="string"==typeof t.fragment?`#${function(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${s}`}}const hN=new aE;function Ou(n){return n.segments.map(t=>cE(t)).join("/")}function Pa(n,t){if(!n.hasChildren())return Ou(n);if(t){const e=n.children[Te]?Pa(n.children[Te],!1):"",i=[];return Yt(n.children,(s,r)=>{r!==Te&&i.push(`${r}:${Pa(s,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function(n,t){let e=[];return Yt(n.children,(i,s)=>{s===Te&&(e=e.concat(t(i,s)))}),Yt(n.children,(i,s)=>{s!==Te&&(e=e.concat(t(i,s)))}),e}(n,(i,s)=>s===Te?[Pa(n.children[Te],!1)]:[`${s}:${Pa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Te]?`${Ou(n)}/${e[0]}`:`${Ou(n)}/(${e.join("//")})`}}function lE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xu(n){return lE(n).replace(/%3B/gi,";")}function xf(n){return lE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pu(n){return decodeURIComponent(n)}function uE(n){return Pu(n.replace(/\+/g,"%20"))}function cE(n){return`${xf(n.path)}${function(n){return Object.keys(n).map(t=>`;${xf(t)}=${xf(n[t])}`).join("")}(n.parameters)}`}const mN=/^[^\/()?;=#]+/;function Ru(n){const t=n.match(mN);return t?t[0]:""}const yN=/^[^=?&#]+/,vN=/^[^&#]+/;class wN{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Te]=new Me(t,e)),i}parseSegment(){const t=Ru(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new xa(Pu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Ru(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=Ru(this.remaining);s&&(i=s,this.capture(i))}t[Pu(e)]=Pu(i)}parseQueryParam(t){const e=function(n){const t=n.match(yN);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function(n){const t=n.match(vN);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const s=uE(e),r=uE(i);if(t.hasOwnProperty(s)){let o=t[s];Array.isArray(o)||(o=[o],t[s]=o),o.push(r)}else t[s]=r}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Ru(this.remaining),s=this.remaining[i.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r;i.indexOf(":")>-1?(r=i.substr(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=Te);const o=this.parseChildren();e[r]=1===Object.keys(o).length?o[Te]:new Me([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class dE{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pf(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Pf(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Rf(t,this._root);return e.length<2?[]:e[e.length-2].children.map(s=>s.value).filter(s=>s!==t)}pathFromRoot(t){return Rf(t,this._root).map(e=>e.value)}}function Pf(n,t){if(n===t.value)return t;for(const e of t.children){const i=Pf(n,e);if(i)return i}return null}function Rf(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Rf(n,e);if(i.length)return i.unshift(t),i}return[]}class ss{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function po(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class hE extends dE{constructor(t,e){super(t),this.snapshot=e,Nf(this,t)}toString(){return this.snapshot.toString()}}function fE(n,t){const e=function(n,t){const o=new Nu([],{},{},"",{},Te,t,null,n.root,-1,{});return new gE("",new ss(o,[]))}(n,t),i=new Pn([new xa("",{})]),s=new Pn({}),r=new Pn({}),o=new Pn({}),a=new Pn(""),l=new tr(i,s,o,a,r,Te,t,e.root);return l.snapshot=e.root,new hE(new ss(l,[]),e)}class tr{constructor(t,e,i,s,r,o,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(W(t=>fo(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(W(t=>fo(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function pE(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const s=e[i],r=e[i-1];if(s.routeConfig&&""===s.routeConfig.path)i--;else{if(r.component)break;i--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Nu{constructor(t,e,i,s,r,o,a,l,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=s,this.data=r,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gE extends dE{constructor(t,e){super(e),this.url=t,Nf(this,e)}toString(){return mE(this._root)}}function Nf(n,t){t.value._routerState=n,t.children.forEach(e=>Nf(n,e))}function mE(n){const t=n.children.length>0?` { ${n.children.map(mE).join(", ")} } `:"";return`${n.value}${t}`}function Lf(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Bi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Bi(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Bi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Bi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ff(n,t){const e=Bi(n.params,t.params)&&function(n,t){return er(n,t)&&n.every((e,i)=>Bi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Ff(n.parent,t.parent))}function Ra(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const s=function(n,t,e){return t.children.map(i=>{for(const s of e.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Ra(n,i,s);return Ra(n,i)})}(n,t,e);return new ss(i,s)}{if(n.shouldAttach(t.value)){const r=n.retrieve(t.value);if(null!==r){const o=r.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Ra(n,a)),o}}const i=function(n){return new tr(new Pn(n.url),new Pn(n.params),new Pn(n.queryParams),new Pn(n.fragment),new Pn(n.data),n.outlet,n.component,n)}(t.value),s=t.children.map(r=>Ra(n,r));return new ss(i,s)}}function Lu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Na(n){return"object"==typeof n&&null!=n&&n.outlets}function Vf(n,t,e,i,s){let r={};return i&&Yt(i,(o,a)=>{r[a]=Array.isArray(o)?o.map(l=>`${l}`):`${o}`}),new Xs(e.root===n?t:yE(e.root,n,t),r,s)}function yE(n,t,e){const i={};return Yt(n.children,(s,r)=>{i[r]=s===t?e:yE(s,t,e)}),new Me(n.segments,i)}class _E{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Lu(i[0]))throw new Error("Root segment cannot have matrix parameters");const s=i.find(Na);if(s&&s!==eE(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Bf{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function vE(n,t,e){if(n||(n=new Me([],{})),0===n.segments.length&&n.hasChildren())return Fu(n,t,e);const i=function(n,t,e){let i=0,s=t;const r={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=e.length)return r;const o=n.segments[s],a=e[i];if(Na(a))break;const l=`${a}`,c=i<e.length-1?e[i+1]:null;if(s>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!wE(l,c,o))return r;i+=2}else{if(!wE(l,{},o))return r;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}(n,t,e),s=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const r=new Me(n.segments.slice(0,i.pathIndex),{});return r.children[Te]=new Me(n.segments.slice(i.pathIndex),n.children),Fu(r,0,s)}return i.match&&0===s.length?new Me(n.segments,{}):i.match&&!n.hasChildren()?Hf(n,t,e):i.match?Fu(n,0,s):Hf(n,t,e)}function Fu(n,t,e){if(0===e.length)return new Me(n.segments,{});{const i=function(n){return Na(n[0])?n[0].outlets:{[Te]:n}}(e),s={};return Yt(i,(r,o)=>{"string"==typeof r&&(r=[r]),null!==r&&(s[o]=vE(n.children[o],t,r))}),Yt(n.children,(r,o)=>{void 0===i[o]&&(s[o]=r)}),new Me(n.segments,s)}}function Hf(n,t,e){const i=n.segments.slice(0,t);let s=0;for(;s<e.length;){const r=e[s];if(Na(r)){const l=PN(r.outlets);return new Me(i,l)}if(0===s&&Lu(e[0])){i.push(new xa(n.segments[t].path,bE(e[0]))),s++;continue}const o=Na(r)?r.outlets[Te]:`${r}`,a=s<e.length-1?e[s+1]:null;o&&a&&Lu(a)?(i.push(new xa(o,bE(a))),s+=2):(i.push(new xa(o,{})),s++)}return new Me(i,{})}function PN(n){const t={};return Yt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Hf(new Me([],{}),0,e))}),t}function bE(n){const t={};return Yt(n,(e,i)=>t[i]=`${e}`),t}function wE(n,t,e){return n==e.path&&Bi(t,e.parameters)}class NN{constructor(t,e,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=s}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Lf(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const s=po(e);t.children.forEach(r=>{const o=r.value.outlet;this.deactivateRoutes(r,s[o],i),delete s[o]}),Yt(s,(r,o)=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(s===r)if(s.component){const o=i.getContext(s.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=po(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),s=i&&t.value.component?i.children:e,r=po(t);for(const o of Object.keys(r))this.deactivateRouteAndItsChildren(r[o],s);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const s=po(e);t.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],i),this.forwardEvent(new tN(r.value.snapshot))}),t.children.length&&this.forwardEvent(new XR(t.value.snapshot))}activateRoutes(t,e,i){const s=t.value,r=e?e.value:null;if(Lf(s),s===r)if(s.component){const o=i.getOrCreateContext(s.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(s.component){const o=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const a=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Lf(a.route.value),this.activateChildRoutes(t,null,o.children)}else{const a=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=s,o.resolver=l,o.outlet&&o.outlet.activateWith(s,l),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class Uf{constructor(t,e){this.routes=t,this.module=e}}function As(n){return"function"==typeof n}function nr(n){return n instanceof Xs}const La=Symbol("INITIAL_VALUE");function Fa(){return Vi(n=>function(...n){let t=null,e=null;return de(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Zt(n[0])&&(n=n[0]),wt(n,e).lift(new _R(t))}(n.map(t=>t.pipe(Iu(1),function(...n){const t=n[n.length-1];return de(t)?(n.pop(),e=>Mf(n,e,t)):e=>Mf(n,e)}(La)))).pipe(Gw((t,e)=>{let i=!1;return e.reduce((s,r,o)=>s!==La?s:(r===La&&(i=!0),i||!1!==r&&o!==e.length-1&&!nr(r)?s:r),t)},La),Rn(t=>t!==La),W(t=>nr(t)?t:!0===t),Iu(1)))}class jN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Va,this.attachRef=null}}class Va{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new jN,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Vu=(()=>{class n{constructor(e,i,s,r,o){this.parentContexts=e,this.location=i,this.resolver=s,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.name=r||Te,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const o=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new $N(e,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(C(Va),C(yi),C(to),Dr("name"),C(Li))},n.\u0275dir=ee({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class $N{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===tr?this.route:t===Va?this.childContexts:this.parent.get(t,e)}}let EE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Gt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&g(0,"router-outlet")},directives:[Vu],encapsulation:2}),n})();function CE(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];GN(i,qN(t,i))}}function GN(n,t){n.children&&CE(n.children,t)}function qN(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function jf(n){const t=n.children&&n.children.map(jf),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Te&&(e.component=EE),e}function Jn(n){return n.outlet||Te}function DE(n,t){const e=n.filter(i=>Jn(i)===t);return e.push(...n.filter(i=>Jn(i)!==t)),e}const TE={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Bu(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},TE):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const r=(t.matcher||sN)(e,n,t);if(!r)return Object.assign({},TE);const o={};Yt(r.posParams,(l,c)=>{o[c]=l.path});const a=r.consumed.length>0?Object.assign(Object.assign({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Hu(n,t,e,i,s="corrected"){if(e.length>0&&function(n,t,e){return e.some(i=>Uu(n,t,i)&&Jn(i)!==Te)}(n,e,i)){const o=new Me(t,function(n,t,e,i){const s={};s[Te]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const r of e)if(""===r.path&&Jn(r)!==Te){const o=new Me([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,s[Jn(r)]=o}return s}(n,t,i,new Me(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(i=>Uu(n,t,i))}(n,e,i)){const o=new Me(n.segments,function(n,t,e,i,s,r){const o={};for(const a of i)if(Uu(n,e,a)&&!s[Jn(a)]){const l=new Me([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===r?n.segments.length:t.length,o[Jn(a)]=l}return Object.assign(Object.assign({},s),o)}(n,t,e,i,n.children,s));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Me(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function Uu(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function SE(n,t,e,i){return!!(Jn(n)===i||i!==Te&&Uu(t,e,n))&&("**"===n.path||Bu(t,n,e).matched)}function ME(n,t,e){return 0===t.length&&!n.children[e]}class Ba{constructor(t){this.segmentGroup=t||null}}class AE{constructor(t){this.urlTree=t}}function ju(n){return new L(t=>t.error(new Ba(n)))}function IE(n){return new L(t=>t.error(new AE(n)))}function YN(n){return new L(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class XN{constructor(t,e,i,s,r){this.configLoader=e,this.urlSerializer=i,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=t.get(Ji)}apply(){const t=Hu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Me(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Te).pipe(W(r=>this.createUrlTree($f(r),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ss(r=>{if(r instanceof AE)return this.allowRedirects=!1,this.match(r.urlTree);throw r instanceof Ba?this.noMatchError(r):r}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Te).pipe(W(s=>this.createUrlTree($f(s),t.queryParams,t.fragment))).pipe(Ss(s=>{throw s instanceof Ba?this.noMatchError(s):s}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const s=t.segments.length>0?new Me([],{[Te]:t}):t;return new Xs(s,e,i)}expandSegmentGroup(t,e,i,s){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(W(r=>new Me([],r))):this.expandSegment(t,i,e,i.segments,s,!0)}expandChildren(t,e,i){const s=[];for(const r of Object.keys(i.children))"primary"===r?s.unshift(r):s.push(r);return Oe(s).pipe(co(r=>{const o=i.children[r],a=DE(e,r);return this.expandSegmentGroup(t,a,o,r).pipe(W(l=>({segment:l,outlet:r})))}),Gw((r,o)=>(r[o.outlet]=o.segment,r),{}),function(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Rn((s,r)=>n(s,r,i)):N,If(1),e?Ww(t):qw(()=>new Au))}())}expandSegment(t,e,i,s,r,o){return Oe(i).pipe(co(a=>this.expandSegmentAgainstRoute(t,e,i,a,s,r,o).pipe(Ss(c=>{if(c instanceof Ba)return me(null);throw c}))),ho(a=>!!a),Ss((a,l)=>{if(a instanceof Au||"EmptyError"===a.name){if(ME(e,s,r))return me(new Me([],{}));throw new Ba(e)}throw a}))}expandSegmentAgainstRoute(t,e,i,s,r,o,a){return SE(s,e,r,o)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(t,e,s,r,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o):ju(e):ju(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,s,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,s){const r=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?IE(r):this.lineralizeSegments(i,r).pipe(Ve(o=>{const a=new Me(o,{});return this.expandSegment(t,a,e,o,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,s,r,o){const{matched:a,consumedSegments:l,lastChild:c,positionalParamSegments:d}=Bu(e,s,r);if(!a)return ju(e);const p=this.applyRedirectCommands(l,s.redirectTo,d);return s.redirectTo.startsWith("/")?IE(p):this.lineralizeSegments(s,p).pipe(Ve(m=>this.expandSegment(t,e,i,m.concat(r.slice(c)),o,!1)))}matchSegmentAgainstRoute(t,e,i,s,r){if("**"===i.path)return i.loadChildren?(i._loadedConfig?me(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(W(m=>(i._loadedConfig=m,new Me(s,{})))):me(new Me(s,{}));const{matched:o,consumedSegments:a,lastChild:l}=Bu(e,i,s);if(!o)return ju(e);const c=s.slice(l);return this.getChildConfig(t,i,s).pipe(Ve(p=>{const m=p.module,y=p.routes,{segmentGroup:_,slicedSegments:w}=Hu(e,a,c,y),D=new Me(_.segments,_.children);if(0===w.length&&D.hasChildren())return this.expandChildren(m,y,D).pipe(W($=>new Me(a,$)));if(0===y.length&&0===w.length)return me(new Me(a,{}));const T=Jn(i)===r;return this.expandSegment(m,D,y,w,T?Te:r,!0).pipe(W(P=>new Me(a.concat(P.segments),P.children)))}))}getChildConfig(t,e,i){return e.children?me(new Uf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?me(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(Ve(s=>s?this.configLoader.load(t.injector,e).pipe(W(r=>(e._loadedConfig=r,r))):function(n){return new L(t=>t.error(Of(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):me(new Uf([],t))}runCanLoadGuards(t,e,i){const s=e.canLoad;if(!s||0===s.length)return me(!0);const r=s.map(o=>{const a=t.get(o);let l;if(function(n){return n&&As(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!As(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return Hi(l)});return me(r).pipe(Fa(),ct(o=>{if(!nr(o))return;const a=Of(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),W(o=>!0===o))}lineralizeSegments(t,e){let i=[],s=e.root;for(;;){if(i=i.concat(s.segments),0===s.numberOfChildren)return me(i);if(s.numberOfChildren>1||!s.children[Te])return YN(t.redirectTo);s=s.children[Te]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,s){const r=this.createSegmentGroup(t,e.root,i,s);return new Xs(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Yt(t,(s,r)=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=e[a]}else i[r]=s}),i}createSegmentGroup(t,e,i,s){const r=this.createSegments(t,e.segments,i,s);let o={};return Yt(e.children,(a,l)=>{o[l]=this.createSegmentGroup(t,a,i,s)}),new Me(r,o)}createSegments(t,e,i,s){return e.map(r=>r.path.startsWith(":")?this.findPosParam(t,r,s):this.findOrReturn(r,i))}findPosParam(t,e,i){const s=i[e.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return s}findOrReturn(t,e){let i=0;for(const s of e){if(s.path===t.path)return e.splice(i),s;i++}return t}}function $f(n){const t={};for(const i of Object.keys(n.children)){const r=$f(n.children[i]);(r.segments.length>0||r.hasChildren())&&(t[i]=r)}return function(n){if(1===n.numberOfChildren&&n.children[Te]){const t=n.children[Te];return new Me(n.segments.concat(t.segments),t.children)}return n}(new Me(n.segments,t))}class kE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $u{constructor(t,e){this.component=t,this.route=e}}function nL(n,t,e){const i=n._root;return Ha(i,t?t._root:null,e,[i.value])}function Gu(n,t,e){const i=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Ha(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=po(t);return n.children.forEach(o=>{(function(n,t,e,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const r=n.value,o=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){const l=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!er(n.url,t.url);case"pathParamsOrQueryParamsChange":return!er(n.url,t.url)||!Bi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ff(n,t)||!Bi(n.queryParams,t.queryParams);default:return!Ff(n,t)}}(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new kE(i)):(r.data=o.data,r._resolvedData=o._resolvedData),Ha(n,t,r.component?a?a.children:null:e,i,s),l&&a&&a.outlet&&a.outlet.isActivated&&s.canDeactivateChecks.push(new $u(a.outlet.component,o))}else o&&Ua(t,a,s),s.canActivateChecks.push(new kE(i)),Ha(n,null,r.component?a?a.children:null:e,i,s)})(o,r[o.value.outlet],e,i.concat([o.value]),s),delete r[o.value.outlet]}),Yt(r,(o,a)=>Ua(o,e.getContext(a),s)),s}function Ua(n,t,e){const i=po(n),s=n.value;Yt(i,(r,o)=>{Ua(r,s.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new $u(s.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,s))}class gL{}function OE(n){return new L(t=>t.error(n))}class yL{constructor(t,e,i,s,r,o){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){const t=Hu(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Te);if(null===e)return null;const i=new Nu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Te,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ss(i,e),r=new gE(this.url,s);return this.inheritParamsAndData(r._root),r}inheritParamsAndData(t){const e=t.value,i=pE(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const r of Object.keys(e.children)){const o=e.children[r],a=DE(t,r),l=this.processSegmentGroup(a,o,r);if(null===l)return null;i.push(...l)}const s=xE(i);return function(n){n.sort((t,e)=>t.value.outlet===Te?-1:e.value.outlet===Te?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}processSegment(t,e,i,s){for(const r of t){const o=this.processSegmentAgainstRoute(r,e,i,s);if(null!==o)return o}return ME(e,i,s)?[]:null}processSegmentAgainstRoute(t,e,i,s){if(t.redirectTo||!SE(t,e,i,s))return null;let r,o=[],a=[];if("**"===t.path){const y=i.length>0?eE(i).parameters:{};r=new Nu(i,y,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NE(t),Jn(t),t.component,t,PE(e),RE(e)+i.length,LE(t))}else{const y=Bu(e,t,i);if(!y.matched)return null;o=y.consumedSegments,a=i.slice(y.lastChild),r=new Nu(o,y.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,NE(t),Jn(t),t.component,t,PE(e),RE(e)+o.length,LE(t))}const l=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:d}=Hu(e,o,a,l.filter(y=>void 0===y.redirectTo),this.relativeLinkResolution);if(0===d.length&&c.hasChildren()){const y=this.processChildren(l,c);return null===y?null:[new ss(r,y)]}if(0===l.length&&0===d.length)return[new ss(r,[])];const p=Jn(t)===s,m=this.processSegment(l,c,d,p?Te:s);return null===m?null:[new ss(r,m)]}}function bL(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function xE(n){const t=[],e=new Set;for(const i of n){if(!bL(i)){t.push(i);continue}const s=t.find(r=>i.value.routeConfig===r.value.routeConfig);void 0!==s?(s.children.push(...i.children),e.add(s)):t.push(i)}for(const i of e){const s=xE(i.children);t.push(new ss(i.value,s))}return t.filter(i=>!e.has(i))}function PE(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function RE(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function NE(n){return n.data||{}}function LE(n){return n.resolve||{}}function Gf(n){return Vi(t=>{const e=n(t);return e?Oe(e).pipe(W(()=>t)):me(t)})}class AL extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const qf=new Y("ROUTES");class FE{constructor(t,e,i,s){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=s}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const s=this.loadModuleFactory(e.loadChildren).pipe(W(r=>{this.onLoadEndListener&&this.onLoadEndListener(e);const o=r.create(t);return new Uf(Xw(o.injector.get(qf,void 0,ye.Self|ye.Optional)).map(jf),o)}),Ss(r=>{throw e._loader$=void 0,r}));return e._loader$=new Oo(s,()=>new F).pipe(Rt()),e._loader$}loadModuleFactory(t){return Hi(t()).pipe(Ve(e=>e instanceof zv?me(e):Oe(this.compiler.compileModuleAsync(e))))}}class kL{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function OL(n){throw n}function xL(n,t,e){return t.parse("/")}function VE(n,t){return me(null)}const PL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gn=(()=>{class n{constructor(e,i,s,r,o,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=s,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new F,this.errorHandler=OL,this.malformedUriErrorHandler=xL,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:VE,afterPreactivation:VE},this.urlHandlingStrategy=new kL,this.routeReuseStrategy=new AL,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Ji),this.console=o.get(kb);const p=o.get(tt);this.isNgZoneEnabled=p instanceof tt&&tt.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=new Xs(new Me([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new FE(o,a,m=>this.triggerEvent(new Kw(m)),m=>this.triggerEvent(new Qw(m))),this.routerState=fE(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Rn(s=>0!==s.id),W(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Vi(s=>{let r=!1,o=!1;return me(s).pipe(ct(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Vi(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return qu(a.source)&&(this.browserUrlTree=a.extractedUrl),me(a).pipe(Vi(p=>{const m=this.transitions.getValue();return i.next(new kf(p.id,this.serializeUrl(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions.getValue()?Ts:Promise.resolve(p)}),function(n,t,e,i){return Vi(s=>function(n,t,e,i,s){return new XN(n,t,e,i,s).apply()}(n,t,e,s.extractedUrl,i).pipe(W(r=>Object.assign(Object.assign({},s),{urlAfterRedirects:r}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),ct(p=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:p.urlAfterRedirects})}),function(n,t,e,i,s){return Ve(r=>function(n,t,e,i,s="emptyOnly",r="legacy"){try{const o=new yL(n,t,e,i,s,r).recognize();return null===o?OE(new gL):me(o)}catch(o){return OE(o)}}(n,t,r.urlAfterRedirects,e(r.urlAfterRedirects),i,s).pipe(W(o=>Object.assign(Object.assign({},r),{targetSnapshot:o}))))}(this.rootComponentType,this.config,p=>this.serializeUrl(p),this.paramsInheritanceStrategy,this.relativeLinkResolution),ct(p=>{if("eager"===this.urlUpdateStrategy){if(!p.extras.skipLocationChange){const y=this.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);this.setBrowserUrl(y,p)}this.browserUrlTree=p.urlAfterRedirects}const m=new zR(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);i.next(m)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:m,extractedUrl:y,source:_,restoredState:w,extras:D}=a,T=new kf(m,this.serializeUrl(y),_,w);i.next(T);const E=fE(y,this.rootComponentType).snapshot;return me(Object.assign(Object.assign({},a),{targetSnapshot:E,urlAfterRedirects:y,extras:Object.assign(Object.assign({},D),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Ts}),Gf(a=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:p,extras:{skipLocationChange:m,replaceUrl:y}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:p,skipLocationChange:!!m,replaceUrl:!!y})}),ct(a=>{const l=new KR(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),W(a=>Object.assign(Object.assign({},a),{guards:nL(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function(n,t){return Ve(e=>{const{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=e;return 0===o.length&&0===r.length?me(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,i){return Oe(n).pipe(Ve(s=>function(n,t,e,i,s){const r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return r&&0!==r.length?me(r.map(a=>{const l=Gu(a,t,s);let c;if(function(n){return n&&As(n.canDeactivate)}(l))c=Hi(l.canDeactivate(n,t,e,i));else{if(!As(l))throw new Error("Invalid CanDeactivate guard");c=Hi(l(n,t,e,i))}return c.pipe(ho())})).pipe(Fa()):me(!0)}(s.component,s.route,e,t,i)),ho(s=>!0!==s,!0))}(o,i,s,n).pipe(Ve(a=>a&&function(n){return"boolean"==typeof n}(a)?function(n,t,e,i){return Oe(t).pipe(co(s=>Mf(function(n,t){return null!==n&&t&&t(new JR(n)),me(!0)}(s.route.parent,i),function(n,t){return null!==n&&t&&t(new eN(n)),me(!0)}(s.route,i),function(n,t,e){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(o=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>jw(()=>me(o.guards.map(l=>{const c=Gu(l,o.node,e);let d;if(function(n){return n&&As(n.canActivateChild)}(c))d=Hi(c.canActivateChild(i,n));else{if(!As(c))throw new Error("Invalid CanActivateChild guard");d=Hi(c(i,n))}return d.pipe(ho())})).pipe(Fa())));return me(r).pipe(Fa())}(n,s.path,e),function(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return me(!0);const s=i.map(r=>jw(()=>{const o=Gu(r,t,e);let a;if(function(n){return n&&As(n.canActivate)}(o))a=Hi(o.canActivate(t,n));else{if(!As(o))throw new Error("Invalid CanActivate guard");a=Hi(o(t,n))}return a.pipe(ho())}));return me(s).pipe(Fa())}(n,s.route,e))),ho(s=>!0!==s,!0))}(i,r,n,t):me(a)),W(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),ct(a=>{if(nr(a.guardsResult)){const c=Of(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new QR(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Rn(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),Gf(a=>{if(a.guards.canActivateChecks.length)return me(a).pipe(ct(l=>{const c=new YR(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Vi(l=>{let c=!1;return me(l).pipe(function(n,t){return Ve(e=>{const{targetSnapshot:i,guards:{canActivateChecks:s}}=e;if(!s.length)return me(e);let r=0;return Oe(s).pipe(co(o=>function(n,t,e,i){return function(n,t,e,i){const s=Object.keys(n);if(0===s.length)return me({});const r={};return Oe(s).pipe(Ve(o=>function(n,t,e,i){const s=Gu(n,t,i);return Hi(s.resolve?s.resolve(t,e):s(t,e))}(n[o],t,e,i).pipe(ct(a=>{r[o]=a}))),If(1),Ve(()=>Object.keys(r).length===s.length?me(r):Ts))}(n._resolve,n,t,i).pipe(W(r=>(n._resolvedData=r,n.data=Object.assign(Object.assign({},n.data),pE(n,e).resolve),null)))}(o.route,i,n,t)),ct(()=>r++),If(1),Ve(o=>r===s.length?me(e):Ts))})}(this.paramsInheritanceStrategy,this.ngModule.injector),ct({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),ct(l=>{const c=new ZR(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),Gf(a=>{const{targetSnapshot:l,id:c,extractedUrl:d,rawUrl:p,extras:{skipLocationChange:m,replaceUrl:y}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:d,rawUrlTree:p,skipLocationChange:!!m,replaceUrl:!!y})}),W(a=>{const l=function(n,t,e){const i=Ra(n,t._root,e?e._root:void 0);return new hE(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),ct(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>W(i=>(new NN(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),ct({next(){r=!0},complete(){r=!0}}),function(n){return t=>t.lift(new GR(n))}(()=>{var a;r||o||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===s.id&&(this.currentNavigation=null)}),Ss(a=>{if(o=!0,function(n){return n&&n[Zw]}(a)){const l=nr(a.url);l||(this.navigated=!0,this.restoreHistory(s,!0));const c=new zw(s.id,this.serializeUrl(s.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const d=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),p={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qu(s.source)};this.scheduleNavigation(d,"imperative",null,p,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const l=new WR(s.id,this.serializeUrl(s.extractedUrl),a);i.next(l);try{s.resolve(this.errorHandler(a))}catch(c){s.reject(c)}}return Ts}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var s;const r={replaceUrl:!0},o=(null===(s=e.state)||void 0===s?void 0:s.navigationId)?e.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){CE(e),this.config=e.map(jf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:s,queryParams:r,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=s||this.routerState.root,d=l?this.currentUrlTree.fragment:o;let p=null;switch(a){case"merge":p=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}return null!==p&&(p=this.removeEmptyProps(p)),function(n,t,e,i,s){if(0===e.length)return Vf(t.root,t.root,t,i,s);const r=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new _E(!0,0,n);let t=0,e=!1;const i=n.reduce((s,r,o)=>{if("object"==typeof r&&null!=r){if(r.outlets){const a={};return Yt(r.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...s,{outlets:a}]}if(r.segmentPath)return[...s,r.segmentPath]}return"string"!=typeof r?[...s,r]:0===o?(r.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&s.push(a))}),s):[...s,r]},[]);return new _E(e,t,i)}(e);if(r.toRoot())return Vf(t.root,new Me([],{}),t,i,s);const o=function(n,t,e){if(n.isAbsolute)return new Bf(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const r=e.snapshot._urlSegment;return new Bf(r,r===t.root,0)}const i=Lu(n.commands[0])?0:1;return function(n,t,e){let i=n,s=t,r=e;for(;r>s;){if(r-=s,i=i.parent,!i)throw new Error("Invalid number of '../'");s=i.segments.length}return new Bf(i,!1,s-r)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(r,t,n),a=o.processChildren?Fu(o.segmentGroup,o.index,r.commands):vE(o.segmentGroup,o.index,r.commands);return Vf(o.segmentGroup,a,t,i,s)}(c,this.currentUrlTree,e,p,null!=d?d:null)}navigateByUrl(e,i={skipLocationChange:!1}){const s=nr(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,e)}return i}isActive(e,i){let s;if(s=!0===i?Object.assign({},PL):!1===i?Object.assign({},RL):i,nr(e))return nE(this.currentUrlTree,e,s);const r=this.parseUrl(e);return nE(this.currentUrlTree,r,s)}removeEmptyProps(e){return Object.keys(e).reduce((i,s)=>{const r=e[s];return null!=r&&(i[s]=r),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Js(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,s,r,o){var a,l,c;if(this.disposed)return Promise.resolve(!1);const d=this.transitions.value,p=qu(i)&&d&&!qu(d.source),m=d.rawUrl.toString()===e.toString(),y=d.id===(null===(a=this.currentNavigation)||void 0===a?void 0:a.id);if(p&&m&&y)return Promise.resolve(!0);let w,D,T;o?(w=o.resolve,D=o.reject,T=o.promise):T=new Promise(($,_e)=>{w=$,D=_e});const E=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),P=s&&s.\u0275routerPageId?s.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(l=this.browserPageId)&&void 0!==l?l:0:(null!==(c=this.browserPageId)&&void 0!==c?c:0)+1):P=0,this.setTransition({id:E,targetPageId:P,source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:w,reject:D,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch($=>Promise.reject($))}setBrowserUrl(e,i){const s=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl?this.location.replaceState(s,"",r):this.location.go(s,"",r)}restoreHistory(e,i=!1){var s,r;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===o?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const s=new zw(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){_h()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function qu(n){return"imperative"!==n}let Wf=(()=>{class n{constructor(e,i,s,r,o){this.router=e,this.route=i,this.tabIndexAttribute=s,this.renderer=r,this.el=o,this.commands=null,this.onChanges=new F,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,s=this.el.nativeElement;null!==e?i.setAttribute(s,"tabindex",e):i.removeAttribute(s,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:go(this.skipLocationChange),replaceUrl:go(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:go(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(C(gn),C(tr),Dr("tabindex"),C(xn),C(Ct))},n.\u0275dir=ee({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&He("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ln]}),n})(),Wu=(()=>{class n{constructor(e,i,s){this.router=e,this.route=i,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new F,this.subscription=e.events.subscribe(r=>{r instanceof Js&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,s,r,o){if(0!==e||i||s||r||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:go(this.skipLocationChange),replaceUrl:go(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:go(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(C(gn),C(tr),C(uo))},n.\u0275dir=ee({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&He("click",function(r){return i.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),2&e&&nn("target",i.target)("href",i.href,Zo)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[ln]}),n})();function go(n){return""===n||!!n}let BE=(()=>{class n{constructor(e,i,s,r,o,a){this.router=e,this.element=i,this.renderer=s,this.cdr=r,this.link=o,this.linkWithHref=a,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ne,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Js&&this.update()})}ngAfterContentInit(){me(this.links.changes,this.linksWithHrefs.changes,me(null)).pipe($t()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const i=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=Oe(i).pipe($t()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&e.isActive(s.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(C(gn),C(Ct),C(xn),C(Li),C(Wf,8),C(Wu,8))},n.\u0275dir=ee({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,s){if(1&e&&(wa(s,Wf,5),wa(s,Wu,5)),2&e){let r;yt(r=_t())&&(i.links=r),yt(r=_t())&&(i.linksWithHrefs=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ln]}),n})();class HE{}class UE{preload(t,e){return me(null)}}let jE=(()=>{class n{constructor(e,i,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r,this.loader=new FE(s,i,l=>e.triggerEvent(new Kw(l)),l=>e.triggerEvent(new Qw(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Rn(e=>e instanceof Js),co(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(Ji);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const s=[];for(const r of i)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const o=r._loadedConfig;s.push(this.processRoutes(o.module,o.routes))}else r.loadChildren&&!r.canLoad?s.push(this.preloadConfig(e,r)):r.children&&s.push(this.processRoutes(e,r.children));return Oe(s).pipe($t(),W(r=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?me(i._loadedConfig):this.loader.load(e.injector,i)).pipe(Ve(r=>(i._loadedConfig=r,this.processRoutes(r.module,r.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(k(gn),k(cu),k(Wt),k(HE))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),zf=(()=>{class n{constructor(e,i,s={}){this.router=e,this.viewportScroller=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof kf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Js&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Yw&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Yw(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){_h()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const ir=new Y("ROUTER_CONFIGURATION"),$E=new Y("ROUTER_FORROOT_GUARD"),VL=[lf,{provide:oE,useClass:aE},{provide:gn,useFactory:function(n,t,e,i,s,r,o={},a,l){const c=new gn(null,n,t,e,i,s,Xw(r));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(d=>{var p,m;null===(p=console.group)||void 0===p||p.call(console,`Router Event: ${d.constructor.name}`),console.log(d.toString()),console.log(d),null===(m=console.groupEnd)||void 0===m||m.call(console)}),c},deps:[oE,Va,lf,Wt,cu,qf,ir,[class{},new Ai],[class{},new Ai]]},Va,{provide:tr,useFactory:function(n){return n.routerState.root},deps:[gn]},jE,UE,class{preload(t,e){return e().pipe(Ss(()=>me(null)))}},{provide:ir,useValue:{enableTracing:!1}}];function BL(){return new Lb("Router",gn)}let GE=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[VL,qE(e),{provide:$E,useFactory:jL,deps:[[gn,new Ai,new kr]]},{provide:ir,useValue:i||{}},{provide:uo,useFactory:UL,deps:[Ys,[new zo(af),new Ai],ir]},{provide:zf,useFactory:HL,deps:[gn,PP,ir]},{provide:HE,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:UE},{provide:Lb,multi:!0,useFactory:BL},[Kf,{provide:uu,multi:!0,useFactory:WL,deps:[Kf]},{provide:WE,useFactory:zL,deps:[Kf]},{provide:Ib,multi:!0,useExisting:WE}]]}}static forChild(e){return{ngModule:n,providers:[qE(e)]}}}return n.\u0275fac=function(e){return new(e||n)(k($E,8),k(gn,8))},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({}),n})();function HL(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new zf(n,t,e)}function UL(n,t,e={}){return e.useHash?new vx(n,t):new sw(n,t)}function jL(n){return"guarded"}function qE(n){return[{provide:ZT,multi:!0,useValue:n},{provide:qf,multi:!0,useValue:n}]}let Kf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new F}appInitializer(){return this.injector.get(mx,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const s=new Promise(a=>i=a),r=this.injector.get(gn),o=this.injector.get(ir);return"disabled"===o.initialNavigation?(r.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(r.hooks.afterPreactivation=()=>this.initNavigation?me(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),r.initialNavigation()):i(!0),s})}bootstrapListener(e){const i=this.injector.get(ir),s=this.injector.get(jE),r=this.injector.get(zf),o=this.injector.get(gn),a=this.injector.get(Da);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),s.setUpPreloading(),r.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(k(Wt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function WL(n){return n.appInitializer.bind(n)}function zL(n){return n.bootstrapListener.bind(n)}const WE=new Y("Router Initializer");let QL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Gt({type:n,selectors:[["app-home"]],decls:67,vars:0,consts:[["href","/blog"],["href","/music"],["href","/lifting"],["href","https://github.com/EgillAntonsson"],["href","https://www.maginteractive.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson",1,"image"],["href","https://rawfury.com"],["href","/music;by=4;track=0"]],template:function(e,i){1&e&&(h(0,"h1"),u(1,"Egill Antonsson"),f(),h(2,"h2"),u(3,"Software developer, music artist, weightlifter, earthling, stardust"),f(),h(4,"p"),u(5," Welcome to my website, where I share my passions:"),g(6,"br"),u(7," Software development and "),h(8,"a",0),u(9,"blogging about it"),f(),u(10,", "),h(11,"a",1),u(12,"music"),f(),u(13,", and "),h(14,"a",2),u(15,"weight lifting"),f(),u(16,"."),g(17,"br"),u(18," My code projects are on "),h(19,"a",3),u(20,"GitHub"),f(),u(21,"."),g(22,"br"),u(23," I'm a developer at "),h(24,"a",4),u(25,"MAG Interactive"),f(),u(26," where I develop front-end shared tech for the mobile games."),g(27,"br"),u(28," My "),h(29,"a",5),u(30,"LinkedIn profile"),f(),u(31," sums up my work experience.\n"),f(),h(32,"h2"),u(33,"Background & Family"),f(),h(34,"figure"),g(35,"img",6),h(36,"figcaption"),u(37," The Family, from left to right:"),g(38,"br"),u(39," Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson "),f(),f(),h(40,"p"),u(41," I was born in 1982 and raised in Reykjavik, Iceland."),g(42,"br"),u(43," Since 2014 I live in Stockholm, Sweden with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."),g(44,"br"),u(45," I'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."),g(46,"br"),f(),h(47,"p"),u(48," I'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir and they live in Iceland."),g(49,"br"),u(50," I have a brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's (un)publishing games like a Boss at "),h(51,"a",7),u(52,"Raw Fury"),f(),u(53,"."),g(54,"br"),f(),h(55,"p"),u(56," Our two older brothers J\xf3nas Bj\xf6rgvin Antonsson and Egill Antonsson passed away before I was born."),g(57,"br"),u(58," They played music and painted pictures and according to family and friends were brilliant boys."),g(59,"br"),u(60," I've digitalized their music that they recorded on a cassette in the early 1970s, you can listen to it under the "),h(61,"a",8),u(62,"J\xf3nas & Egill seniors"),f(),u(63," section in my "),h(64,"a",1),u(65,"music player."),f(),g(66,"br"),f())},encapsulation:2}),n})(),mo=(()=>{class n{constructor(){const e="TDD-ing Avatar Health in Unity (C# .NET)",i="2021",s="Dec",r="30";this.series=[{title:e,posts:[new ja("Part 1 - TDD: What, Why, When ?","tdd-health/part1",i,s,r,e),new ja("Part 2 - The assignment: The Avatar Health","tdd-health/part2",i,s,r,e),new ja("Part 3 - The implementation begins","tdd-health/part3",i,s,r,e),new ja("Part 4 - Taking Damage","tdd-health/part4","2022","January","4",e),new ja("Part 5 - The Dying part","tdd-health/part5","2022","February","1",e)]}],this.selectedPost=this.series[0].posts[0],this.posts=[];for(let o=0;o<this.series.length;o++)for(let a=0;a<this.series[o].posts.length;a++)this.posts.push(this.series[o].posts[a])}getPostWith(e){let i=null;return this.posts.filter(s=>{s.routePath===e&&(i=s)}),i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ja{constructor(t,e,i,s,r,o){this.title=t,this.routePath=e,this.dateYear=i,this.dateMonth=s,this.dateDay=r,this.seriesTitle=o}}const zE=function(n){return{nodeSelected:n}};function YL(n,t){if(1&n){const e=Es();h(0,"div",8),He("click",function(){const r=ys(e).$implicit;return Ge(3).onPostClick(r)}),u(1),f()}if(2&n){const e=t.$implicit,i=Ge(3);B("ngClass",ma(2,zE,e===i.selectedPost)),M(1),Zi(" ",e.title," ")}}function ZL(n,t){if(1&n&&(h(0,"div",6),$e(1,YL,2,4,"div",7),f()),2&n){const e=Ge().$implicit;M(1),B("ngForOf",e.posts)}}const KE=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function JL(n,t){if(1&n){const e=Es();h(0,"div"),h(1,"div",2),He("click",function(){const r=ys(e).index;return Ge().onSeriesClick(r)}),h(2,"div",3),g(3,"div",4),f(),h(4,"span"),u(5),f(),f(),$e(6,ZL,2,1,"div",5),f()}if(2&n){const e=t.$implicit,i=t.index,s=Ge();M(3),B("ngClass",ya(3,KE,s.openedUiSeriesIndex!=i,s.openedUiSeriesIndex===i)),M(2),gt(e.title),M(1),B("ngIf",s.openedUiSeriesIndex===i)}}function XL(n,t){if(1&n){const e=Es();h(0,"div",8),He("click",function(){const r=ys(e).$implicit;return Ge(3).onPostClick(r)}),u(1),f()}if(2&n){const e=t.$implicit,i=Ge(3);B("ngClass",ma(2,zE,e===i.selectedPost)),M(1),Zi(" ",e.title," ")}}function eF(n,t){if(1&n&&(h(0,"div",6),$e(1,XL,2,4,"div",7),f()),2&n){const e=Ge().$implicit;M(1),B("ngForOf",e.posts)}}function tF(n,t){if(1&n){const e=Es();h(0,"div"),h(1,"div",2),He("click",function(){const r=ys(e).index;return Ge().onSeriesClick(r)}),h(2,"div",3),g(3,"div",4),f(),h(4,"span"),u(5),f(),f(),$e(6,eF,2,1,"div",5),f()}if(2&n){const e=t.$implicit,i=t.index,s=Ge();M(3),B("ngClass",ya(3,KE,s.openedUiSeriesIndex!=i,s.openedUiSeriesIndex===i)),M(2),gt(e.title),M(1),B("ngIf",s.openedUiSeriesIndex===i)}}let nF=(()=>{class n{constructor(e,i,s){this.blogService=e,this.router=i,this.route=s,this.openedUiSeriesIndex=0,this.selectedSeriesIndex=0,this.router.events.pipe(Rn(o=>o instanceof Js)).subscribe(o=>{"/blog"===o.urlAfterRedirects&&this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route})})}get blogSeries(){return this.blogService.series}get selectedPost(){return this.blogService.selectedPost}onSeriesClick(e){this.openedUiSeriesIndex=e}onPostClick(e){this.selectedSeriesIndex=this.openedUiSeriesIndex,this.blogService.selectedPost=e,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),window.scroll(0,0)}}return n.\u0275fac=function(e){return new(e||n)(C(mo),C(gn),C(tr))},n.\u0275cmp=Gt({type:n,selectors:[["app-blog"]],decls:6,vars:2,consts:[[1,"treeContainer"],[4,"ngFor","ngForOf"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(h(0,"div",0),$e(1,JL,7,6,"div",1),f(),g(2,"router-outlet"),g(3,"br"),h(4,"div",0),$e(5,tF,7,6,"div",1),f()),2&e&&(M(1),B("ngForOf",i.blogSeries),M(4),B("ngForOf",i.blogSeries))},directives:[Ia,Vu,Aa,Zs],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function zu(n,t){return new L(e=>{const i=n.length;if(0===i)return void e.complete();const s=new Array(i);let r=0,o=0;for(let a=0;a<i;a++){const l=Oe(n[a]);let c=!1;e.add(l.subscribe({next:d=>{c||(c=!0,o++),s[a]=d},error:d=>e.error(d),complete:()=>{r++,(r===i||!c)&&(o===i&&e.next(t?t.reduce((d,p,m)=>(d[p]=s[m],d),{}):s),e.complete())}}))}})}let QE=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(C(xn),C(Ct))},n.\u0275dir=ee({type:n}),n})(),sr=(()=>{class n extends QE{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Sn(n)))(i||n)}}(),n.\u0275dir=ee({type:n,features:[Be]}),n})();const Xn=new Y("NgValueAccessor"),rF={provide:Xn,useExisting:Ue(()=>$a),multi:!0},aF=new Y("CompositionEventMode");let $a=(()=>{class n extends QE{constructor(e,i,s){super(e,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=Fi()?Fi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(C(xn),C(Ct),C(aF,8))},n.\u0275dir=ee({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&He("input",function(r){return i._handleInput(r.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(r){return i._compositionEnd(r.target.value)})},features:[Je([rF]),Be]}),n})();function Is(n){return null==n||0===n.length}function ZE(n){return null!=n&&"number"==typeof n.length}const sn=new Y("NgValidators"),ks=new Y("NgAsyncValidators"),lF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Os{static min(t){return function(n){return t=>{if(Is(t.value)||Is(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function(n){return t=>{if(Is(t.value)||Is(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function(n){return Is(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function(n){return Is(n.value)||lF.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function(n){return t=>Is(t.value)||!ZE(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return sC(t)}static pattern(t){return function(n){if(!n)return Ga;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Is(i.value))return null;const s=i.value;return t.test(s)?null:{pattern:{requiredPattern:e,actualValue:s}}}}(t)}static nullValidator(t){return null}static compose(t){return dC(t)}static composeAsync(t){return hC(t)}}function sC(n){return t=>ZE(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function Ga(n){return null}function oC(n){return null!=n}function aC(n){const t=aa(n)?Oe(n):n;return bh(t),t}function lC(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function uC(n,t){return t.map(e=>e(n))}function cC(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function dC(n){if(!n)return null;const t=n.filter(oC);return 0==t.length?null:function(e){return lC(uC(e,t))}}function Qf(n){return null!=n?dC(cC(n)):null}function hC(n){if(!n)return null;const t=n.filter(oC);return 0==t.length?null:function(e){return function(...n){if(1===n.length){const t=n[0];if(Zt(t))return zu(t,null);if(si(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return zu(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return zu(n=1===n.length&&Zt(n[0])?n[0]:n,null).pipe(W(e=>t(...e)))}return zu(n,null)}(uC(e,t).map(aC)).pipe(W(lC))}}function Yf(n){return null!=n?hC(cC(n)):null}function fC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function pC(n){return n._rawValidators}function gC(n){return n._rawAsyncValidators}function Zf(n){return n?Array.isArray(n)?n:[n]:[]}function Ku(n,t){return Array.isArray(n)?n.includes(t):n===t}function mC(n,t){const e=Zf(t);return Zf(n).forEach(s=>{Ku(e,s)||e.push(s)}),e}function yC(n,t){return Zf(t).filter(e=>!Ku(n,e))}class _C{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Qf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Yf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class xs extends _C{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mn extends _C{get formDirective(){return null}get path(){return null}}class vC{constructor(t){this._cd=t}is(t){var e,i,s;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(s=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===s?void 0:s[t])}}let Jf=(()=>{class n extends vC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(C(xs,2))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&On("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[Be]}),n})(),Xf=(()=>{class n extends vC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(C(mn,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&On("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[Be]}),n})();function qa(n,t){np(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bC(n,t)})}(n,t),function(n,t){const e=(i,s)=>{t.valueAccessor.writeValue(i),s&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bC(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Zu(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Xu(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ju(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function np(n,t){const e=pC(n);null!==t.validator?n.setValidators(fC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=gC(n);null!==t.asyncValidator?n.setAsyncValidators(fC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const s=()=>n.updateValueAndValidity();Ju(t._rawValidators,s),Ju(t._rawAsyncValidators,s)}function Xu(n,t){let e=!1;if(null!==n){if(null!==t.validator){const s=pC(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.validator);r.length!==s.length&&(e=!0,n.setValidators(r))}}if(null!==t.asyncValidator){const s=gC(n);if(Array.isArray(s)&&s.length>0){const r=s.filter(o=>o!==t.asyncValidator);r.length!==s.length&&(e=!0,n.setAsyncValidators(r))}}}const i=()=>{};return Ju(t._rawValidators,i),Ju(t._rawAsyncValidators,i),e}function bC(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ec(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Wa="VALID",tc="INVALID",yo="PENDING",za="DISABLED";function rp(n){return(ap(n)?n.validators:n)||null}function CC(n){return Array.isArray(n)?Qf(n):n||null}function op(n,t){return(ap(t)?t.asyncValidators:n)||null}function DC(n){return Array.isArray(n)?Yf(n):n||null}function ap(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class lp{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=CC(this._rawValidators),this._composedAsyncValidatorFn=DC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Wa}get invalid(){return this.status===tc}get pending(){return this.status==yo}get disabled(){return this.status===za}get enabled(){return this.status!==za}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=CC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=DC(t)}addValidators(t){this.setValidators(mC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(mC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(yC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(yC(t,this._rawAsyncValidators))}hasValidator(t){return Ku(this._rawValidators,t)}hasAsyncValidator(t){return Ku(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=yo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=za,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Wa,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Wa||this.status===yo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?za:Wa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=yo,this._hasOwnPendingAsyncValidator=!0;const e=aC(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(s=>{i=i instanceof Ka?i.controls.hasOwnProperty(s)?i.controls[s]:null:i instanceof up&&i.at(s)||null}),i}(this,t)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?za:this.errors?tc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yo)?yo:this._anyControlsHaveStatus(tc)?tc:Wa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ap(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class _o extends lp{constructor(t=null,e,i){super(rp(e),op(i,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ec(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ec(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ka extends lp{constructor(t,e,i){super(rp(e),op(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(i=>{this._throwIfControlMissing(i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e instanceof _o?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((s,r)=>{i=e(i,s,r)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control with name: '${i}'.`)})}}class up extends lp{constructor(t,e,i){super(rp(e),op(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((i,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,s)=>{this.at(s)&&this.at(s).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,s)=>{i.reset(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof _o?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,i)=>{if(void 0===t[i])throw new Error(`Must supply a value for form control at index: ${i}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ee({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const DF={provide:Xn,useExisting:Ue(()=>hp),multi:!0};let hp=(()=>{class n extends sr{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Sn(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&He("input",function(r){return i.onChange(r.target.value)})("blur",function(){return i.onTouched()})},features:[Je([DF]),Be]}),n})(),IC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({}),n})();const fp=new Y("NgModelWithFormControlWarning"),IF={provide:mn,useExisting:Ue(()=>Ya)};let Ya=(()=>{class n extends mn{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ne,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Xu(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return qa(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Zu(e.control||null,e,!1),ec(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,s=this.form.get(e.path);i!==s&&(Zu(i||null,e),s instanceof _o&&(qa(s,e),e.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function(n,t){np(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function(n,t){return Xu(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){np(this.form,this),this._oldForm&&Xu(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(C(sn,10),C(ks,10))},n.\u0275dir=ee({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&He("submit",function(r){return i.onSubmit(r)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Je([IF]),Be,ln]}),n})();const xF={provide:xs,useExisting:Ue(()=>nc)};let nc=(()=>{class n extends xs{constructor(e,i,s,r,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Ne,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function(n,t){if(!t)return null;let e,i,s;return Array.isArray(t),t.forEach(r=>{r.constructor===$a?e=r:function(n){return Object.getPrototypeOf(n.constructor)===sr}(r)?i=r:s=r}),s||i||e||null}(0,r)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(C(mn,13),C(sn,10),C(ks,10),C(Xn,10),C(fp,8))},n.\u0275dir=ee({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Je([xF]),Be,ln]}),n})();let ic=(()=>{class n{constructor(){this._validator=Ga}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(i):Ga,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ee({type:n,features:[ln]}),n})();const qF={provide:sn,useExisting:Ue(()=>sc),multi:!0};let sc=(()=>{class n extends ic{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>sC(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Sn(n)))(i||n)}}(),n.\u0275dir=ee({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&nn("maxlength",i.enabled()?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Je([qF]),Be]}),n})(),zF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[[IC]]}),n})(),GC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[zF]}),n})(),qC=(()=>{class n{group(e,i=null){const s=this._reduceControls(e);let a,r=null,o=null;return null!=i&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(i)?(r=null!=i.validators?i.validators:null,o=null!=i.asyncValidators?i.asyncValidators:null,a=null!=i.updateOn?i.updateOn:void 0):(r=null!=i.validator?i.validator:null,o=null!=i.asyncValidator?i.asyncValidator:null)),new Ka(s,{asyncValidators:o,updateOn:a,validators:r})}control(e,i,s){return new _o(e,i,s)}array(e,i,s){const r=e.map(o=>this._createControl(o));return new up(r,i,s)}_reduceControls(e){const i={};return Object.keys(e).forEach(s=>{i[s]=this._createControl(e[s])}),i}_createControl(e){return e instanceof _o||e instanceof Ka||e instanceof up?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:GC}),n})();var QF=vt(3028);class WC{}class zC{}class rs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const s=e.slice(0,i),r=s.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const s=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(s,i),this.maybeSetNormalizedName(e,s))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof rs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new rs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof rs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const s=("a"===t.op?this.headers.get(e):void 0)||[];s.push(...i),this.headers.set(e,s);break;case"d":const r=t.value;if(r){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===r.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class YF{encodeKey(t){return KC(t)}encodeValue(t){return KC(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const JF=/%(\d[a-f0-9])/gi,XF={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function KC(n){return encodeURIComponent(n).replace(JF,(t,e)=>{var i;return null!==(i=XF[e])&&void 0!==i?i:t})}function QC(n){return`${n}`}class os{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new YF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const r=s.indexOf("="),[o,a]=-1==r?[t.decodeKey(s),""]:[t.decodeKey(s.slice(0,r)),t.decodeValue(s.slice(r+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const s=t[i];Array.isArray(s)?s.forEach(r=>{e.push({param:i,value:r,op:"a"})}):e.push({param:i,value:s,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new os({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(QC(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const s=i.indexOf(QC(t.value));-1!==s&&i.splice(s,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class e2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function YC(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function ZC(n){return"undefined"!=typeof Blob&&n instanceof Blob}function JC(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Za{constructor(t,e,i,s){let r;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==i?i:null,r=s):r=i,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params)),this.headers||(this.headers=new rs),this.context||(this.context=new e2),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new os,this.urlWithParams=e}serializeBody(){return null===this.body?null:YC(this.body)||ZC(this.body)||JC(this.body)||function(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof os?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||JC(this.body)?null:ZC(this.body)?this.body.type||null:YC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof os?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,s=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let c=t.headers||this.headers,d=t.params||this.params;const p=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(c=Object.keys(t.setHeaders).reduce((m,y)=>m.set(y,t.setHeaders[y]),c)),t.setParams&&(d=Object.keys(t.setParams).reduce((m,y)=>m.set(y,t.setParams[y]),d)),new Za(i,s,o,{params:d,headers:c,context:p,reportProgress:l,responseType:r,withCredentials:a})}}var Pt=(()=>((Pt=Pt||{})[Pt.Sent=0]="Sent",Pt[Pt.UploadProgress=1]="UploadProgress",Pt[Pt.ResponseHeader=2]="ResponseHeader",Pt[Pt.DownloadProgress=3]="DownloadProgress",Pt[Pt.Response=4]="Response",Pt[Pt.User=5]="User",Pt))();class vp{constructor(t,e=200,i="OK"){this.headers=t.headers||new rs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bp extends vp{constructor(t={}){super(t),this.type=Pt.ResponseHeader}clone(t={}){return new bp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rc extends vp{constructor(t={}){super(t),this.type=Pt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class XC extends vp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ep=(()=>{class n{constructor(e){this.handler=e}request(e,i,s={}){let r;if(e instanceof Za)r=e;else{let l,c;l=s.headers instanceof rs?s.headers:new rs(s.headers),s.params&&(c=s.params instanceof os?s.params:new os({fromObject:s.params})),r=new Za(e,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:c,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const o=me(r).pipe(co(l=>this.handler.handle(l)));if(e instanceof Za||"events"===s.observe)return o;const a=o.pipe(Rn(l=>l instanceof rc));switch(s.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return a.pipe(W(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(W(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(W(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(W(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new os).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,s={}){return this.request("PATCH",e,wp(s,i))}post(e,i,s={}){return this.request("POST",e,wp(s,i))}put(e,i,s={}){return this.request("PUT",e,wp(s,i))}}return n.\u0275fac=function(e){return new(e||n)(k(WC))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class eD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const tD=new Y("HTTP_INTERCEPTORS");let i2=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const s2=/^\)\]\}',?\n/;let nD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new L(i=>{const s=this.xhrFactory.build();if(s.open(e.method,e.urlWithParams),e.withCredentials&&(s.withCredentials=!0),e.headers.forEach((y,_)=>s.setRequestHeader(y,_.join(","))),e.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&s.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();s.responseType="json"!==y?y:"text"}const r=e.serializeBody();let o=null;const a=()=>{if(null!==o)return o;const y=1223===s.status?204:s.status,_=s.statusText||"OK",w=new rs(s.getAllResponseHeaders()),D=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||e.url;return o=new bp({headers:w,status:y,statusText:_,url:D}),o},l=()=>{let{headers:y,status:_,statusText:w,url:D}=a(),T=null;204!==_&&(T=void 0===s.response?s.responseText:s.response),0===_&&(_=T?200:0);let E=_>=200&&_<300;if("json"===e.responseType&&"string"==typeof T){const P=T;T=T.replace(s2,"");try{T=""!==T?JSON.parse(T):null}catch($){T=P,E&&(E=!1,T={error:$,text:T})}}E?(i.next(new rc({body:T,headers:y,status:_,statusText:w,url:D||void 0})),i.complete()):i.error(new XC({error:T,headers:y,status:_,statusText:w,url:D||void 0}))},c=y=>{const{url:_}=a(),w=new XC({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:_||void 0});i.error(w)};let d=!1;const p=y=>{d||(i.next(a()),d=!0);let _={type:Pt.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),"text"===e.responseType&&!!s.responseText&&(_.partialText=s.responseText),i.next(_)},m=y=>{let _={type:Pt.UploadProgress,loaded:y.loaded};y.lengthComputable&&(_.total=y.total),i.next(_)};return s.addEventListener("load",l),s.addEventListener("error",c),s.addEventListener("timeout",c),s.addEventListener("abort",c),e.reportProgress&&(s.addEventListener("progress",p),null!==r&&s.upload&&s.upload.addEventListener("progress",m)),s.send(r),i.next({type:Pt.Sent}),()=>{s.removeEventListener("error",c),s.removeEventListener("abort",c),s.removeEventListener("load",l),s.removeEventListener("timeout",c),e.reportProgress&&(s.removeEventListener("progress",p),null!==r&&s.upload&&s.upload.removeEventListener("progress",m)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(k(Sw))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Cp=new Y("XSRF_COOKIE_NAME"),Dp=new Y("XSRF_HEADER_NAME");class iD{}let o2=(()=>{class n{constructor(e,i,s){this.doc=e,this.platform=i,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pw(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(k(lt),k(ao),k(Cp))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),Tp=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const s=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||s.startsWith("http://")||s.startsWith("https://"))return i.handle(e);const r=this.tokenService.getToken();return null!==r&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,r)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(k(iD),k(Dp))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),a2=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(tD,[]);this.chain=i.reduceRight((s,r)=>new eD(s,r),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(k(zC),k(Wt))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),l2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Tp,useClass:i2}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Cp,useValue:e.cookieName}:[],e.headerName?{provide:Dp,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({providers:[Tp,{provide:tD,useExisting:Tp,multi:!0},{provide:iD,useClass:o2},{provide:Cp,useValue:"XSRF-TOKEN"},{provide:Dp,useValue:"X-XSRF-TOKEN"}]}),n})(),u2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({providers:[Ep,{provide:WC,useClass:a2},nD,{provide:zC,useExisting:nD}],imports:[[l2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})(),Ja=(()=>{class n{log(e,i,...s){if(n.IS_ENABLED)switch(e){case"Error":console.error(i,s.join(" "));break;case"Warn":console.warn(i,s.join(" "));break;case"Info":console.log(i,s.join(" "))}}}return n.IS_ENABLED=!0,n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c2=(()=>{class n{constructor(e,i){this.http=e,this.logService=i,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=vt(305),this.creatureList.sort((s,r)=>s.kg>r.kg?-1:1)}loadAndCalculateMyLog(e){this.hasCalculatedMyStats&&e(this.myLiftingStats);let i=0;this.http.get("../../assets/data/FitNotes_Export.csv",{responseType:"text"}).subscribe(r=>{const a=QF.parse(r,{header:!0,skipEmptyLines:!0}),l=a.data,c=a.errors;let d;for(let _=c.length-1;_>=0;_--)d=c[_],this.logService.log("Warn",'Removing row "'+d.row+'". '+d.type+". "+d.code+". "+d.message),l.splice(d.row,1);l.forEach(_=>{const w=_["Weight (kgs)"],D=_.Reps;""!==w&&""!==D&&(i+=parseFloat(w)*parseFloat(D))});const p=this.weightInCreatures(i),m=new Date(l[0].Date),y=new Date(l[l.length-1].Date);this.myLiftingStats={totalKgLifted:i,totalCreaturesLifted:p,firstDate:m,lastDate:y},this.hasCalculatedMyStats=!0,e(this.myLiftingStats)})}weightInCreatures(e){let i=e;const s=[];return this.creatureList.forEach(r=>{let o=0;for(;r.kg<=i;)i-=r.kg,o++;o>0&&s.push({count:o,creature:{name:r.name,kg:r.kg,url:r.url}})}),s}}return n.\u0275fac=function(e){return new(e||n)(k(Ep),k(Ja))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d2=(()=>{class n{transform(e,i=0,s="*",r=1){let o;switch(s){case"/":o=e/r;break;case"*":o=e*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let a=i;e===Math.trunc(e)&&(a=0);const l=o.toFixed(a),c=[];let d=l.includes(".")?l.indexOf("."):l.length;if(d<3)return l;let m=!0;for(;d>0;)d-=3,d<=0?c.unshift(l.substr(0,3+d)):m?(c.unshift(l.substr(d)),m=!1):c.unshift(l.substr(d,3));return c.join("'")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=an({name:"mynumber",type:n,pure:!0}),n})();function h2(n,t){if(1&n&&(h(0,"li"),u(1),h(2,"a",15),u(3),f(),u(4),so(5,"mynumber"),f()),2&n){const e=t.$implicit;M(1),Zi(" ",e.count,"x "),M(1),hn("href",e.creature.url,Zo),M(1),gt(e.creature.name),M(1),ua(" (",va(5,5,e.creature.kg,1)," kg",e.count>1?" each":"",") ")}}function f2(n,t){1&n&&(h(0,"div"),u(1," Only numbers are allowed (and ' . ' for fraction) "),f())}function p2(n,t){1&n&&(h(0,"div"),u(1," number is too big, reduce it "),f())}function g2(n,t){1&n&&(h(0,"div"),u(1," number is to small, increase it "),f())}function m2(n,t){if(1&n&&(h(0,"div",16),$e(1,f2,2,0,"div",7),$e(2,p2,2,0,"div",7),$e(3,g2,2,0,"div",7),f()),2&n){const e=Ge();M(1),B("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.pattern),M(1),B("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.max),M(1),B("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.min)}}function y2(n,t){if(1&n&&(h(0,"li"),u(1),h(2,"a",15),u(3),f(),u(4),so(5,"mynumber"),f()),2&n){const e=t.$implicit;M(1),Zi(" ",e.count,"x "),M(1),hn("href",e.creature.url,Zo),M(1),gt(e.creature.name),M(1),ua(" (",va(5,5,e.creature.kg,1)," kg ",e.count>1?" each":"",") ")}}function _2(n,t){if(1&n&&(h(0,"table"),h(1,"tr"),h(2,"th"),u(3,"KGs"),f(),h(4,"th"),u(5,"Creatures"),f(),f(),h(6,"tr"),h(7,"td",0),u(8),f(),h(9,"td"),h(10,"ul"),$e(11,y2,6,8,"li",1),f(),f(),f(),f()),2&n){const e=Ge();M(8),gt(e.convertLastInputSubmit),M(3),B("ngForOf",e.convertResult)}}let v2=(()=>{class n{constructor(e,i){this.liftingService=e,this.fb=i,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,e.loadAndCalculateMyLog(r=>{this.totalKgLifted=r.totalKgLifted,this.totalCreaturesLifted=r.totalCreaturesLifted,this.firstDate=r.firstDate,this.lastDate=r.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[Os.pattern(/^\d+\.*\d*$/),Os.max(this.maximumInputAllowed),Os.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const e=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||e===this.convertLastInputSubmit||(this.convertLastInputSubmit=e,this.convert(e))}convert(e){this.convertResult=this.liftingService.weightInCreatures(e)}}return n.\u0275fac=function(e){return new(e||n)(C(c2),C(qC))},n.\u0275cmp=Gt({type:n,selectors:[["app-lift"]],decls:103,vars:19,consts:[[1,"center"],[4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],[4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["href","https://vimeo.com/57172348"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],[3,"href"],[1,"alert"]],template:function(e,i){1&e&&(h(0,"div"),h(1,"h2"),u(2,"Progressing on my path to lift the Platinum Dragon!"),f(),h(3,"p"),u(4),so(5,"date"),so(6,"date"),f(),h(7,"table"),h(8,"tr"),h(9,"th"),u(10,"Tons lifted"),f(),h(11,"th"),u(12,"Creatures lifted"),f(),f(),h(13,"tr"),h(14,"td",0),u(15),so(16,"mynumber"),f(),h(17,"td"),h(18,"ul"),$e(19,h2,6,8,"li",1),f(),f(),f(),f(),h(20,"p"),u(21," I use "),h(22,"a",2),u(23,"FitNotes"),f(),u(24," app to log my lifting,"),g(25,"br"),u(26," and export the log from it and use it for the above calculation."),g(27,"br"),u(28," No creatures were hurt during the lifting :)\n"),f(),f(),h(29,"div"),h(30,"h1"),u(31,"Kg to Creatures converter"),f(),h(32,"div",3),h(33,"form",4),h(34,"div"),h(35,"input",5),He("input",function(){return i.inputEvent()}),f(),f(),h(36,"sub"),u(37,"kg number in text field is converts to below:"),f(),g(38,"br"),$e(39,m2,4,3,"div",6),f(),f(),$e(40,_2,12,2,"table",7),h(41,"p"),u(42," The sources for the creature weight list:"),g(43,"br"),h(44,"a",8),u(45,"Metallic dragons of the Forgotten Realms"),f(),g(46,"br"),h(47,"a",9),u(48,"Dinosaur size"),f(),g(49,"br"),h(50,"a",10),u(51,"Adult mammals weight"),f(),f(),f(),h(52,"div"),h(53,"figure"),g(54,"img",11),h(55,"figcaption"),u(56,"Egill Antonsson dealing with the the dragon's breath"),f(),f(),f(),h(57,"div"),h(58,"h2"),u(59,"The beginning of my strength & hyperthropy journey"),f(),h(60,"h3"),u(61,"The first workout"),f(),h(62,"p"),u(63," I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."),g(64,"br"),u(65," My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."),g(66,"br"),u(67," I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."),g(68,"br"),u(69,' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'),g(70,"br"),u(71," Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"),g(72,"br"),u(73," This was a lesson learned for both me and Mummi in how not to begin your training.\n"),f(),h(74,"h3"),u(75,"The first years"),f(),h(76,"p"),u(77," Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."),g(78,"br"),u(79," I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."),g(80,"br"),f(),h(81,"p"),u(82," Gym 80 was founded by "),h(83,"a",12),u(84,"J\xf3n P\xe1ll Sigmarsson"),f(),u(85," who was the first man in history to win the World Strongest Man four times."),g(86,"br"),u(87," He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."),g(88,"br"),u(89," My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "),h(90,"a",13),u(91,'"There is no reason to be alive if you can\'t do deadlift!"'),f(),u(92,","),g(93,"br"),u(94,"\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."),g(95,"br"),u(96,"\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."),g(97,"br"),f(),f(),h(98,"div"),h(99,"figure"),g(100,"img",14),h(101,"figcaption"),u(102,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),f(),f(),f()),2&e&&(M(4),ua("\nDuring the period ",va(5,8,i.firstDate,"d. MMMM yyyy")," - ",va(6,11,i.lastDate,"d. MMMM yyyy"),":\n"),M(11),gt(function(n,t,e,i,s,r){const o=n+20,a=I(),l=vr(a,o);return ba(a,o)?tb(a,un(),t,l.transform,e,i,s,r,l):l.transform(e,i,s,r)}(16,14,i.totalKgLifted,3,"/",1e3)),M(4),B("ngForOf",i.totalCreaturesLifted),M(14),B("formGroup",i.convertForm),M(2),B("maxlength",16),M(4),B("ngIf",i.inputKgControl.invalid),M(1),B("ngIf",i.convertResult.length>0))},directives:[Ia,dp,Xf,Ya,hp,$a,Jf,nc,sc,Zs],pipes:[bw,d2],styles:["ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]}),n})();class as{static validateNumberForRange(t,e,i){if(e>=i)throw new vo(vo.msgLowerLimitMustBeLowerThanUpperLimit);if(t>i)throw new vo(vo.msgNumberMustNotBeHigherThenUpperLimit);if(t<e)throw new vo(vo.msgNumberMustNotBeLowerThenLowerLimit);return t}}let vo=(()=>{class n{constructor(e){this.name="SoundUtilError",this.message=e}}return n.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit",n.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit",n.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit",n})();class ue{constructor(t,e,i){this.name=t,this.soundDatas=e,this.play=i}}class Xa extends ue{constructor(t,e,i,s){super(t,e,i),this.layeredMusicController=s}}function sD(n,t,e,i,s,r,o){try{var a=n[r](o),l=a.value}catch(c){return void e(c)}a.done?t(l):Promise.resolve(l).then(i,s)}function ie(n){return function(){var t=this,e=arguments;return new Promise(function(i,s){var r=n.apply(t,e);function o(l){sD(r,i,s,o,a,"next",l)}function a(l){sD(r,i,s,o,a,"throw",l)}o(void 0)})}}class b2{constructor(t,e,i,s,r,o,a){this._instanceMuted=!1,this.log=a,this._gainNode=t,this.maxGain=e,this.soundTypeGain=i,this.masterGain=s,this.dynamicRange=r,this.soundType=o,this.value=this.defaultValue,[i,s].forEach(l=>{l.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),l.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(t){this._gainNode.gain.value=this.muted?0:this.calculateGain(as.validateNumberForRange(t,0,1))}get gainNode(){return this._gainNode}calculateGain(t){const e=t*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===e)return 0;if("SFX"===this.soundType){const s=this.dynamicRange.getRangeCenter()+(e-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${s}`),s}return e}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(t=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=t,this}setValueAtTime(t,e){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(t),e),this}exponentialRampToValueAtTime(t,e){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(t),e),this}linearRampToValueAtTime(t,e){var i;return this.muted?null===(i=this._gainNode)||void 0===i?void 0:i.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(t),e),this)}setTargetAtTime(t,e,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(t),e,i),this)}setValueCurveAtTime(t,e,i){if(this.muted)return this._gainNode.gain;for(let s=0;s<t.length;s++)t[s]=this.calculateGain(t[s]);return this._gainNode.gain.setValueCurveAtTime(t,e,i),this}cancelScheduledValues(t){return this._gainNode.gain.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._gainNode.gain.cancelAndHoldAtTime(t),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(t=>{t.removeAllListeners("GainChange"),t.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class w2{constructor(t,e,i,s,r){this.audioContext=t,this.sourceNode=e,this.analyzerNode=i,this.gainWrapper=s,this.id=r}}class E2{constructor(t,e,i,s,r,o,a){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=t,this.log=a,this.configMaxNrPlayingAtOnce=e,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?as.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,e):this.soundData.loop?1:e,this.maxGainValidated=as.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=s,this.dynamicRange=r,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(t=!0){var e=this;return ie(function*(){let i;e.reachedMaxNumberOfPlayingAtOnce&&e.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${e.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),e.firstInstancePromise?(e.log("Info",`[${e.label}]`,"play(): awaiting first instance promise"),i=yield e.firstInstancePromise,e.firstInstancePromise=void 0):(e.log("Info",`[${e.label}]`,"play(): createSoundInstance"),i=yield e.createSoundInstance(t)),e.instances.set(e.id,i),e.log("Info",`Added soundInstance with id '${e.id}' to the instances list which now has the size '${e.instances.size}'`);const s=e.createEndedPromise(i);return e.playSoundInstance(i),{instance:i,endedPromise:s}})()}createEndedPromise(t){return new Promise(e=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(t),e(t),this.instances.delete(t.id)||this.log("Warn",`deleting map with instance id '${t.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${t.id}, list with new size ${this.instances.size}`)},t.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(t){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t.sourceNode.start()}createSoundInstance(t){var e=this;return ie(function*(){const i=e.audioCtx.createBufferSource();i.buffer=e.sourceNodeBuffer?e.sourceNodeBuffer:e.sourceNodeBuffer=yield e.loadSound(),i.loop=e.soundData.loop;const s=e.audioCtx.createGain(),r=new b2(s,e.maxGainValidated,e.soundTypeGain,e.masterGain,e.dynamicRange,e.soundData.soundType,e.log),o=e.audioCtx.createAnalyser();return t&&i.connect(r.gainNode).connect(o).connect(e.audioCtx.destination),++e.id,e.log("Info",`Creating sound instance for key '${e.soundData.key}' with id '${e.id}'`),new w2(e.audioCtx,i,o,r,e.id)})()}loadSound(){var t=this;return ie(function*(){t.log("Info",`Loading sound with key '${t.soundData.key}'`);const i=yield(yield fetch(t.soundData.url)).arrayBuffer();return yield t.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.id=-1)}disposeInstance(t){return t.sourceNode.removeEventListener("ended",this.endedListener),t.sourceNode.stop(),t.gainWrapper.dispose(),t.sourceNode.disconnect(),t.analyzerNode.disconnect(),t}dispose(){this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var Sp=vt(9069);class C2 extends Sp.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}class Mp extends C2{constructor(t,e){super(t),this._muted=e}get muted(){return this._muted}set muted(t){this._muted=t}}class D2 extends Sp.EventEmitter{constructor(t,e){super(),this._lowValue=0,this._highValue=1,this.lowValue=t,this.highValue=e}get lowValue(){return this._lowValue}set lowValue(t){this._lowValue=t}get highValue(){return this._highValue}set highValue(t){this._highValue=t}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class T2{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new D2(0,1),this._musicGain=new Mp(1,!1),this._sfxGain=new Mp(1,!1),this._masterGain=new Mp(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(t){this._musicGain.value=as.validateNumberForRange(t,0,1),this._musicGain.emit("GainChange")}set musicMuted(t){this._musicGain.muted=t,this._musicGain.emit("MuteChange")}set sfxGain(t){this._sfxGain.value=as.validateNumberForRange(t,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(t){this._sfxGain.muted=t,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(t){this._masterGain.value=as.validateNumberForRange(t,0,1),this._masterGain.emit("GainChange")}set masterMuted(t){this._masterGain.muted=t,this._masterGain.emit("MuteChange")}set maxNrPlayingAtOncePerSound(t){this._maxNrPlayingAtOncePerSound=as.validateNumberForRange(t,1,24),this.sounds.forEach(e=>{e.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(t,e){this.log=e,this.audioContext=new(t.AudioContext||t.webkitAudioContext)}setDynamicRange(t,e){t>e&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${t}' must be lower than highValue '${e}', not setting new Dynamic Range`),this.dynamicRange.lowValue=as.validateNumberForRange(t,0,1),this.dynamicRange.highValue=as.validateNumberForRange(e,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(t){const e="Music"===t.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new E2(t,this._maxNrPlayingAtOncePerSound,e,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(t.key,i),i}updateEmitterMaxListeners(t){const e=2*t*24;this._masterGain.setMaxListeners(e),this._musicGain.setMaxListeners(e),this._sfxGain.setMaxListeners(e),this.dynamicRange.setMaxListeners(e)}addToList(t,e){this.sounds.has(t)?this.log("Warn",`Sound with the key '${t}' is already in to SoundManager, not adding it again`):this.sounds.set(t,e)}playSound(t){const e=this.sounds.get(t);if(e)return e.play();this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${t}', not in SoundManager`)}getSound(t){const e=this.sounds.get(t);if(!e)throw new rD(rD.msgSoundNotInManager);return e}hasSound(t){return this.sounds.has(t)}stopSound(t){const e=this.sounds.get(t);e?e.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}stopMusic(){this.sounds.forEach(t=>{"Music"===t.soundData.soundType&&t.stop()})}stopAllSounds(){this.sounds.forEach(t=>{t.stop()})}purge(){this.sounds.forEach(t=>{t.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}let rD=(()=>{class n{constructor(e){this.name="SoundManagerError",this.message=e}}return n.msgSoundNotInManager="Sound Not In Manager",n})(),Ap=(()=>{class n{constructor(){this._instance=new T2}get instance(){return this._instance}injectMocksForTests(e){this._instance=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M2=(()=>{class n{get nativeWindow(){return window}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class R{constructor(t,e,i,s,r,o=1){this.key=t,this.url=e,this.maxGain=i,this.soundType=s,this.loop=r,this.maxNrPlayingAtOnce=o}static music(t,e,i=1){return new R(t,e,i,"Music",!1,1)}static musicLoop(t,e,i=1){return new R(t,e,i,"Music",!0,1)}static sfx(t,e,i){return new R(t,e,i,"SFX",!1,1)}static sfxLoop(t,e,i){return new R(t,e,i,"SFX",!0,1)}}class oD{constructor(t,e,i=3,s=30,r=20,o=!0,a=0,l=0){this.instanceEndedListeners=t,this.log=e,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=s,this.fadeDurationSec=r,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=a,this.maxLayerValue=l,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=a}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(t){this._gainsDisabled=t}start(t){this._layerSoundInstances=t,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let e=this.layerIndexToBeDecremented+1;e<this._layerSoundInstances.length;e++)this._layerSoundInstances[e].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,t),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(t){t&&!this._gainsDisabled.value&&(this._gainsDisabled.value=t,this._gainsDisabled.emit("Change",t))}setFadeTimeout(t,e,i){t.set(e,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),t.delete(e),0===t.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===e&&this.instanceEndedListeners.forEach(s=>s(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const t=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);t&&clearTimeout(t),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.unmuteInstance(e.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeInTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}let A2=(()=>{class n{constructor(e,i){this.soundManager=e,this.logService=i,this.pathRoot="../../assets/audio",this.pathGame=`${this.pathRoot}/game`,this.pathKuai=`${this.pathRoot}/kuai`,this.pathBrothers=`${this.pathRoot}/braedraminning`,this._isInitialized=!1,this.instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}get timeout(){return this._timeout}set timeout(e){this._timeout=e}init(){this._isInitialized||(this._byTracks=[{by:"Egill Antonsson",tracks:[this.weWillMeetAgain(),this.magmaMerryGoRound(),this.votThemeSong(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace(),this.lecube()]},{by:"TribeOfOranges",tracks:[this.intro(),this.routine(),this.hhiCommercial()]},{by:"KUAI",tracks:[this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()]},{by:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()]},{by:"Game Music",tracks:[this.cakePopParty(),this.symbol6(),this.softFreakFiesta(),this.habitarium(),this.tinyPlaces(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.godsrule(),this.vot(),this.crisisGame()]},{by:"Egill & J\xf3nas seniors",tracks:[this.rubber(),this.mouse(),this.chase(),this.guitarSolos(),this.withoutThem(),this.story(),this.worldIsNothing(),this.tapDance(),this.beLikeYou(),this.takeCare()]}],this.flattenTracks(),this._isInitialized=!0)}flattenTracks(){this._flatTracks=[];let e=0;for(let i=0;i<this._byTracks.length;i++)for(let s=0;s<this._byTracks[i].tracks.length;s++){const r=this._byTracks[i].tracks[s];r.index=e++,this._flatTracks.push(r)}}rubber(){var e=this;const i=new ue("Rubber",[R.music("rubber",`${this.pathBrothers}/Rubber.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}mouse(){var e=this;const i=new ue("Mouse",[R.music("mouse",`${this.pathBrothers}/Mouse.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}chase(){var e=this;const i=new ue("The Chase",[R.music("chase",`${this.pathBrothers}/The_Chase.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}guitarSolos(){var e=this;const i=new ue("The Guitar Solos",[R.music("guitarSolos",`${this.pathBrothers}/The_Guitar_Solos.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}withoutThem(){var e=this;const i=new ue("Without Them",[R.music("withoutThem",`${this.pathBrothers}/Without_Them.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}story(){var e=this;const i=new ue("The Story",[R.music("story",`${this.pathBrothers}/The_Story.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}worldIsNothing(){var e=this;const i=new ue("The World is Nothing",[R.music("worldIsNothing",`${this.pathBrothers}/The_World_is_Nothing.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}tapDance(){var e=this;const i=new ue("Tap Dance",[R.music("tapDance",`${this.pathBrothers}/Tap_Dance.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}beLikeYou(){var e=this;const i=new ue("Be Like You",[R.music("beLikeYou",`${this.pathBrothers}/Be_Like_You.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}takeCare(){var e=this;const i=new ue("Take Care",[R.music("takeCare",`${this.pathBrothers}/Take_Care.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}votThemeSong(){var e=this;const i=new ue("Vikings of Thule Theme Song",[R.music("votThemeSong",`${this.pathRoot}/Vikings_of_Thule__Theme_Song.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}weWillMeetAgain(){var e=this;const i=new ue("We Will Meet Again",[R.music("weWillMeetAgain",`${this.pathRoot}/We_Will_Meet_Again.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}magmaMerryGoRound(){var e=this;const i=new ue("Magma MerryGoRound",[R.music("magmaMerryGoRound",`${this.pathRoot}/Magma_MerryGoRound.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}justInTime(){var e=this;const i=new ue("Just in Time",[{url:`${this.pathRoot}/Just_in_Time.ogg`,key:"justInTime",soundType:"Music",maxGain:1,loop:!1,maxNrPlayingAtOnce:1}],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key);let r=2;do{const{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(l=>l(o)),yield a,e.instanceEndedListeners.forEach(l=>l(1===r)),r--}while(r>0)}));return i}icelandSocksIntro(){var e=this;const i=new ue("Iceland Socks: Intro",[R.music("icelandSocksIntro",`${this.pathRoot}/Iceland_Socks__Intro.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}fortidin(){var e=this;const i=new ue("Fort\xed\xf0in",[R.music("fortidin",`${this.pathRoot}/Fortidin.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}toddlerTune(){var e=this;const i=new ue("Toddler Tune",[R.music("toddlerTune",`${this.pathRoot}/Toddler_Tune.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}oddTimesInSpace(){var e=this;const i=new ue("Odd Times in Space",[R.music("oddTimesInSpace",`${this.pathRoot}/Odd_Times_in_Space.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}lecube(){var e=this;const i=new ue("Lecube",[R.music("lecude",`${this.pathRoot}/Lecube.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}intro(){var e=this;const i=new ue("Introduction",[R.music("intro",`${this.pathRoot}/Introduction.aac`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}routine(){var e=this;const i=new ue("Routine",[R.music("routine",`${this.pathRoot}/Routine.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}hhiCommercial(){var e=this;const i=new ue("Song for HHI commercial",[R.music("hhiCommercial",`${this.pathRoot}/Song_for_HHI_commercial.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}pirringur(){var e=this;const i=new ue("Pirringur",[R.music("pirringur",`${this.pathKuai}/Pirringur.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}apollo(){var e=this;const i=new ue("Apollo",[R.music("apollo",`${this.pathKuai}/Apollo.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}andsetinn(){var e=this;const i=new ue("Andsetinn",[R.music("andsetinn",`${this.pathKuai}/Andsetinn.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}hamskipti(){var e=this;const i=new ue("Hamskipti",[R.music("hamskipti",`${this.pathKuai}/Hamskipti.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}rover(){var e=this;const i=new ue("Rover",[R.music("rover",`${this.pathKuai}/Rover.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}andefni(){var e=this;const i=new ue("Andefni",[R.music("andefni",`${this.pathKuai}/Andefni.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}agndofa(){var e=this;const i=new ue("Agndofa",[R.music("agndofa",`${this.pathKuai}/Agndofa.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}ofurte(){var e=this;const i=new ue("Ofurte",[R.music("ofurte",`${this.pathKuai}/Ofurte.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}lesblindaI(){var e=this;const i=new ue("Lesblinda I",[R.music("lesblindaI",`${this.pathKuai}/Lesblinda_I.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}lesblindaII(){var e=this;const i=new ue("Lesblinda II",[R.music("lesblindaII",`${this.pathKuai}/Lesblinda_II.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}godsruleLayered(){var e=this;const i=new Xa("Godsrule: Village",[R.musicLoop("godsruleEnvironmentLayer",`${this.pathGame}/loton_MusicVillageEnvironmentLayer.ogg`,.075),R.musicLoop("godsruleStringLayer",`${this.pathGame}/loton_MusicVillageStringLayer.ogg`,.55),R.musicLoop("godsruleHarpLayer",`${this.pathGame}/loton_MusicVillageHarpLayer.ogg`,.4),R.musicLoop("godsrulePianoLayer",`${this.pathGame}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>ie(function*(){const s=[e.soundManager.instance.getSound(i.soundDatas[0].key),e.soundManager.instance.getSound(i.soundDatas[1].key),e.soundManager.instance.getSound(i.soundDatas[2].key),e.soundManager.instance.getSound(i.soundDatas[3].key)],r=[];for(let o=0;o<s.length;o++){const a=s[o],{instance:l}=yield a.play();r.push(l),e.instancePlayedListeners.forEach(c=>c(l))}i.layeredMusicController.start(r)}),new oD(this.instanceEndedListeners,this.logService.log));return i}votLayered(){var e=this;const i=new Xa("Vikings of Thule: Map",[R.musicLoop("votWindLayer",`${this.pathGame}/VOT_InterfaceMusic_0.mp3`),R.musicLoop("votChoirLayer",`${this.pathGame}/VOT_InterfaceMusic_3.ogg`),R.musicLoop("votHarpLayer",`${this.pathGame}/VOT_InterfaceMusic_2.ogg`),R.musicLoop("votMelodyLayer",`${this.pathGame}/VOT_InterfaceMusic_1.ogg`)],()=>ie(function*(){const s=[e.soundManager.instance.getSound(i.soundDatas[0].key),e.soundManager.instance.getSound(i.soundDatas[1].key),e.soundManager.instance.getSound(i.soundDatas[2].key),e.soundManager.instance.getSound(i.soundDatas[3].key)],r=[];for(let o=0;o<s.length;o++){const a=s[o],{instance:l}=yield a.play();r.push(l),e.instancePlayedListeners.forEach(c=>c(l))}i.layeredMusicController.start(r)}),new oD(this.instanceEndedListeners,this.logService.log));return i}cakePopParty(){var e=this;const i=new ue("Cake Pop Party",[R.music("cppMusicIntro",`${this.pathGame}/CPP_workMusicIntroScreen.ogg`,.7),R.music("cppMusicScaleBeat",`${this.pathGame}/CPP_musicTransitionBeatFade.ogg`,.6),R.music("cppMusicMakePop",`${this.pathGame}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,l=2;do{a=yield s.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield s.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield r.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield o.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c(1===l)),l--}while(l>0)}));return i}symbol6(){var e=this;const i=new ue("Symbol 6",[R.music("ssixMenu",`${this.pathGame}/SSIX_menu.ogg`),R.music("ssixGame",`${this.pathGame}/SSIX_game.ogg`),R.music("ssixHexago",`${this.pathGame}/SSIX_HexagoTune.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,l=2;do{a=yield s.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield r.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield o.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c(1===l)),l--}while(l>0)}));return i}softFreakFiesta(){var e=this;const i=new ue("Soft Freak Fiesta",[R.music("sffIntroMenuMusic",`${this.pathGame}/SFF_IntroMenuMusic.ogg`,.9),R.music("sffMenuMusic",`${this.pathGame}/SFF_MenuMusic.ogg`,.9),R.music("sffLevelMusicNoEnv",`${this.pathGame}/SFF_LevelMusic_noEnv.ogg`),R.music("sffLevelMusicBubbling",`${this.pathGame}/SFF_LevelMusic_bubbling.ogg`),R.music("sffLoseJingle",`${this.pathGame}/SFF_LoseJingle.ogg`,.9),R.music("sffWinJingle",`${this.pathGame}/SFF_WinJingle.ogg`,.9)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key),a=e.soundManager.instance.getSound(i.soundDatas[3].key),l=e.soundManager.instance.getSound(i.soundDatas[4].key),c=e.soundManager.instance.getSound(i.soundDatas[5].key);let p,d=!0;p=yield s.play(),e.instancePlayedListeners.forEach(y=>y(p.instance)),yield p.endedPromise,e.instanceEndedListeners.forEach(y=>y());let m=2;do{p=yield r.play(),e.instancePlayedListeners.forEach(y=>y(p.instance)),yield p.endedPromise,e.instanceEndedListeners.forEach(y=>y()),p=yield o.play(),e.instancePlayedListeners.forEach(y=>y(p.instance)),yield p.endedPromise,e.instanceEndedListeners.forEach(y=>y()),p=yield a.play(),e.instancePlayedListeners.forEach(y=>y(p.instance)),yield p.endedPromise,e.instanceEndedListeners.forEach(y=>y()),p=d?yield l.play():yield c.play(),d=!d,e.instancePlayedListeners.forEach(y=>y(p.instance)),yield p.endedPromise,e.instanceEndedListeners.forEach(y=>y(1===m)),--m}while(m>0)}));return i}habitarium(){var e=this;const i=new ue("Habitarium",[R.music("habitariumMainTheme",`${this.pathGame}/Habitarium_main_theme.ogg`,.9),R.music("habitariumInGameLoop",`${this.pathGame}/Habitarium_InGameLoop.ogg`,.8)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o,a=2;do{o=yield s.play(),e.instancePlayedListeners.forEach(l=>l(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(l=>l()),o=yield r.play(),e.instancePlayedListeners.forEach(l=>l(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(l=>l(1===a)),a--}while(a>0)}));return i}tinyPlaces(){var e=this;const i=new ue("Tiny Places",[R.music("tpMainThemeIntro",`${this.pathGame}/TP_mainThemeIntro.ogg`,.8),R.music("tpMainThemeBridge",`${this.pathGame}/TP_mainThemeBridge.ogg`,.8),R.music("tpSpaceWorld",`${this.pathGame}/TP_spaceWorld.ogg`,.8),R.music("tpTomb",`${this.pathGame}/TP_tomb.ogg`,.8),R.music("tpLazyStyle",`${this.pathGame}/TP_lazyStyle.ogg`,.8),R.music("tpCutScene",`${this.pathGame}/TP_cutScene.ogg`,.8),R.music("tpInGame",`${this.pathGame}/TP_inGame.ogg`,.8),R.music("tpOutOfTime",`${this.pathGame}/TP_outoftime.ogg`,.8)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key),a=e.soundManager.instance.getSound(i.soundDatas[3].key),l=e.soundManager.instance.getSound(i.soundDatas[4].key),c=e.soundManager.instance.getSound(i.soundDatas[5].key),d=e.soundManager.instance.getSound(i.soundDatas[6].key),p=e.soundManager.instance.getSound(i.soundDatas[7].key);let m;m=yield s.play(),e.instancePlayedListeners.forEach(_=>_(m.instance));const y=s.audioCtx.currentTime;m.instance.gainWrapper.setValueAtTime(.4,y).exponentialRampToValueAtTime(.8,y+.3),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield r.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield o.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield o.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield a.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield a.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield l.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield l.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield c.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield d.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_()),m=yield p.play(),e.instancePlayedListeners.forEach(_=>_(m.instance)),yield m.endedPromise,e.instanceEndedListeners.forEach(_=>_(!0))}));return i}jol2008(){var e=this;const i=new ue("Christmas Game 2008",[R.music("jol2008mainMusic",`${this.pathGame}/jolagogo2008_main_music.ogg`),R.music("jol2008gameOver",`${this.pathGame}/jolagogo2008_game_over.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}jol2009(){var e=this;const i=new ue("Christmas Game 2009",[R.music("jol2009bridge",`${this.pathGame}/jolagogo2009_Bridge.ogg`),R.music("jol2009chorus",`${this.pathGame}/jolagogo2009_Chorus.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o,a=2;do{if(o=yield s.play(),e.instancePlayedListeners.forEach(l=>l(o.instance)),2===a){const l=s.audioCtx.currentTime;o.instance.gainWrapper.setValueAtTime(.1,l).exponentialRampToValueAtTime(1,l+.25)}yield o.endedPromise,e.instanceEndedListeners.forEach(l=>l()),o=yield r.play(),e.instancePlayedListeners.forEach(l=>l(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(l=>l(1===a)),a--}while(a>0)}));return i}whosYourFriend(){var e=this;const i=new ue("Who's Your Friend",[R.music("wyf",`${this.pathGame}/WYF_ThemeSong.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),{instance:r,endedPromise:o}=yield s.play();e.instancePlayedListeners.forEach(a=>a(r)),yield o,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}knowYourFriend(){var e=this;const i=new ue("Know Your Friend",[R.music("kyfIntroMusic",`${this.pathGame}/KYF_IntroMusic_WithAudience.ogg`),R.music("kyf90secMusic",`${this.pathGame}/KYF_90secondsMusic.ogg`)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a(!0))}));return i}stackem(){var e=this;const i=new ue("Stack'em",[R.music("stackem",`${this.pathGame}/Stackem_Tune_loop.ogg`,.9)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key);let r=2;do{const{instance:o,endedPromise:a}=yield s.play();e.instancePlayedListeners.forEach(l=>l(o)),yield a,e.instanceEndedListeners.forEach(l=>l()),r--}while(r>0)}));return i}glowbulleville(){var e=this;const i=new ue("Glowbulleville",[R.music("glowMainMusic",`${this.pathGame}/GLOB_main_music.mp3`,.8),R.music("glowVillageMusic",`${this.pathGame}/GLOB_village_music.mp3`),R.music("glowWack",`${this.pathGame}/GLOB_wack_a_mole.mp3`,.8)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key),o=e.soundManager.instance.getSound(i.soundDatas[2].key);let a,l=2;do{a=yield s.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield s.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield r.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield r.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c()),a=yield o.play(),e.instancePlayedListeners.forEach(c=>c(a.instance)),yield a.endedPromise,e.instanceEndedListeners.forEach(c=>c(1===l)),l--}while(l>0)}));return i}godsrule(){var e=this;const i=new ue("Godsrule: Battle",[R.music("godsruleBattle",`${this.pathGame}/LOTON_BattleBaseLayer.ogg`),R.music("godsruleDefeat",`${this.pathGame}/LOTON_CombatDefeatMusic.ogg`),R.music("godsruleVictory",`${this.pathGame}/LOTON_CombatVictory.ogg`)],()=>ie(function*(){var s;const r=e.soundManager.instance.getSound(i.soundDatas[0].key),o=e.soundManager.instance.getSound(i.soundDatas[1].key),a=e.soundManager.instance.getSound(i.soundDatas[2].key);let l,c=2;do{l=yield r.play(),e.instancePlayedListeners.forEach(m=>m(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(m=>m()),l=yield o.play(),e.instancePlayedListeners.forEach(m=>m(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(m=>m()),l=yield a.play(),e.instancePlayedListeners.forEach(m=>m(l.instance)),yield l.endedPromise,e.instanceEndedListeners.forEach(m=>m()),c--}while(c>0);l=yield r.play(),e.instancePlayedListeners.forEach(m=>m(l.instance));const p=(null===(s=l.instance.sourceNode.buffer)||void 0===s?void 0:s.duration)||10;l.instance.gainWrapper.setTargetAtTime(0,r.audioCtx.currentTime+p/2,p/6),yield l.endedPromise,e.instanceEndedListeners.forEach(m=>m(!0))}));return i}vot(){var e=this;const i=new ue("Vikings of Thule: Feud",[R.music("votFeudDrums",`${this.pathGame}/VOT_FeudMusic_drums.ogg`),R.music("votFeud",`${this.pathGame}/VOT_FeudMusic.ogg`),R.music("votFeudEnding",`${this.pathGame}/VOT_FeudEnding.ogg`)],()=>ie(function*(){var s,r;const o=e.soundManager.instance.getSound(i.soundDatas[0].key),a=e.soundManager.instance.getSound(i.soundDatas[1].key),l=e.soundManager.instance.getSound(i.soundDatas[2].key);let c;c=yield o.play(),e.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,e.instanceEndedListeners.forEach(y=>y()),c=yield a.play(),e.instancePlayedListeners.forEach(y=>y(c.instance)),yield c.endedPromise,e.instanceEndedListeners.forEach(y=>y()),c=yield a.play(),e.instancePlayedListeners.forEach(y=>y(c.instance));const p=(null===(s=c.instance.sourceNode.buffer)||void 0===s?void 0:s.duration)||10;c.instance.gainWrapper.setTargetAtTime(0,a.audioCtx.currentTime+p-.799,1);const m=function(){var y=ie(function*(){e.instanceEndedListeners.forEach(_=>_()),c=yield l.play(),e.instancePlayedListeners.forEach(_=>_(c.instance)),yield c.endedPromise,e.instanceEndedListeners.forEach(_=>_(!0))});return function(){return y.apply(this,arguments)}}();e.timeout=setTimeout(()=>{m()},1e3*((null===(r=c.instance.sourceNode.buffer)||void 0===r?void 0:r.duration)||10)-799)}));return i}crisisGame(){var e=this;const i=new ue("The Crisis Game",[R.music("crisisBegin",`${this.pathGame}/Krepp_Byrjun.ogg`,.9),R.music("crisisEnd",`${this.pathGame}/Krepp_Endir.ogg`,.9)],()=>ie(function*(){const s=e.soundManager.instance.getSound(i.soundDatas[0].key),r=e.soundManager.instance.getSound(i.soundDatas[1].key);let o;o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield s.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a()),o=yield r.play(),e.instancePlayedListeners.forEach(a=>a(o.instance)),yield o.endedPromise,e.instanceEndedListeners.forEach(a=>a())}));return i}}return n.\u0275fac=function(e){return new(e||n)(k(Ap),k(Ja))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aD{}let I2=(()=>{class n{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(e){return Math.floor(e*Math.random())}startUniqueNumberTracking(e){if(e<=0)throw new lD(lD.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=e,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let e=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let i=0;i<=this.uniqueNumbers.size;i++)if(!this.uniqueNumbers.has(i)){e=i;break}}else do{e=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(e));return this.uniqueNumbers.set(e,!0),e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lD=(()=>{class n{constructor(e){this.name="RandomNumberError",this.message=e}}return n.msgNumberMustBeHigherThanZero="Number must be > 0",n})(),uD=(()=>{class n{constructor(e,i,s,r,o){this.soundManager=e,this.windowRef=i,this.myTracks=s,this.randomNumber=r,this.logService=o,this.label="MusicService",this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!0,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,o.log),this.myTracks.init(),this._byTracks=s.byTracks,this.tracks=s.flatTracks,this._isShuffle?(r.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[r.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}get playState(){return this._playState}get isShuffle(){return this._isShuffle}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}play(e){if("Loading"===this._playState)return;this.stop();const i=this.nextSelectedTrack;if(!this.soundManager.instance.hasSound(i.soundDatas[0].key))for(let s=0;s<i.soundDatas.length;s++)this.soundManager.instance.addSound(i.soundDatas[s]),this.logService.log("Info",`[${this.label}]`,"adding sounds");this._playState="Loading",i.play()(),i instanceof Xa&&(i.layeredMusicController.gainsDisabled=e),this._selectedTrack=i}stop(){this.soundManager.instance.stopMusic();const e=this._selectedTrack;e instanceof Xa&&e.layeredMusicController&&e.layeredMusicController.stop(),this.myTracks.instanceEndedListeners.forEach(i=>i(!0,!0))}nextTrack(){let e;e=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index+1,this.logService.log("Info","nextIndex",e),this.nextSelectedTrack=this.tracks[e]}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,e=>{this._playState="Playing",this._playStateChangeListener()}),this.addInstanceEndedListener(`${this.label} endedListener`,(e,i)=>{this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0),e&&(this._playState="Stopped")})}addInstancePlayedListener(e,i){this.myTracks.instancePlayedListeners.set(e,i)}addInstanceEndedListener(e,i){this.myTracks.instanceEndedListeners.set(e,i)}addPlayStateChangeListener(e){this._playStateChangeListener=e}removeInstancePlayedListener(e){this.myTracks.instancePlayedListeners.delete(e)}removeInstanceEndedListener(e){this.myTracks.instanceEndedListeners.delete(e)}}return n.\u0275fac=function(e){return new(e||n)(k(Ap),k(M2),k(A2),k(aD),k(Ja))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cD=(()=>{class n{constructor(){this.subject=new F}sendMessage(e){this.subject.next(e)}onMessage(){return this.subject.asObservable()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const k2=["canvas0"],O2=["canvas1"],x2=["canvas2"],P2=["canvas3"],R2=function(n){return{nodeSelected:n}};function N2(n,t){if(1&n){const e=Es();h(0,"div",15),He("click",function(){const r=ys(e).$implicit;return Ge(3).onTrackClick(r)}),u(1),f()}if(2&n){const e=t.$implicit,i=Ge(3);B("ngClass",ma(2,R2,e.name===i.selectedTrack.name)),M(1),Zi(" ",e.name," ")}}function L2(n,t){if(1&n&&(h(0,"div",13),$e(1,N2,2,4,"div",14),f()),2&n){const e=Ge().$implicit;M(1),B("ngForOf",e.tracks)}}const F2=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function V2(n,t){if(1&n){const e=Es();h(0,"div"),h(1,"div",9),He("click",function(){const r=ys(e).index;return Ge().onByClick(r)}),h(2,"div",10),g(3,"div",11),f(),h(4,"span"),u(5),f(),f(),$e(6,L2,2,1,"div",12),f()}if(2&n){const e=t.$implicit,i=t.index,s=Ge();M(3),B("ngClass",ya(3,F2,s.openedUiByIndex!=i,s.openedUiByIndex===i)),M(2),gt(e.by),M(1),B("ngIf",s.openedUiByIndex===i)}}let B2=(()=>{class n{constructor(e,i,s){this.musicService=e,this.messageService=i,this.logService=s,this.label="MusicPage",this.drawVisuals=[],this.currentCanvasNr=0,this.canvasNrAscending=!1,this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=0,this.musicService.addInstancePlayedListener(this.playedListenerName,r=>{const o=this.getNextCanvas(),a=this.tryGetCanvasContext(o);a&&this.visualize(r,o,a,this.drawVisuals)}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.clearVisuals()})}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}ngOnInit(){this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}onTrackClick(e){"Loading"!==this.musicService.playState?(this.selectedByIndex=this.openedUiByIndex,this.musicService.nextSelectedTrack=e,this.messageService.sendMessage({type:"Play"})):this.logService.log("Info","onTrackClick: is loading, returning without processing")}onByClick(e){this.openedUiByIndex=this.openedUiByIndex===e?-1:e}get layerText(){if(this.musicService.selectedTrack instanceof Xa&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const e=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(e[e.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}incrementMusicLayerValue(){this.musicService.selectedTrack.layeredMusicController.incrementLayerValue()}visualize(e,i,s,r){const o=e.analyzerNode;o.fftSize=2048;const a=o.fftSize,l=new Uint8Array(a),c=i.nativeElement.width,d=i.nativeElement.height;s.clearRect(0,0,c,d);const p=()=>{r.push(requestAnimationFrame(p)),o.getByteTimeDomainData(l),s.fillStyle="#111",s.fillRect(0,0,c,d),s.lineWidth=3,s.strokeStyle="#b9ca4a",s.beginPath();const m=1*c/a;let y=0;for(let _=0;_<a;_++){const D=l[_]/128*d/2;0===_?s.moveTo(y,D):s.lineTo(y,D),y+=m}s.lineTo(c,d/2),s.stroke()};p()}clearVisuals(){this.drawVisuals.forEach(e=>{window.cancelAnimationFrame(e)}),this.drawVisuals=[],this.canvases.forEach(e=>{const i=this.tryGetCanvasContext(e);null==i||i.clearRect(0,0,e.nativeElement.width,e.nativeElement.height)}),this.currentCanvasNr=1,this.canvasNrAscending=!1}tryGetCanvasContext(e){const i=e.nativeElement.getContext("2d");return i||this.logService.log("Error",'"canvasContext" was "null"'),i}}return n.\u0275fac=function(e){return new(e||n)(C(uD),C(cD),C(Ja))},n.\u0275cmp=Gt({type:n,selectors:[["app-music-page"]],viewQuery:function(e,i){if(1&e&&(zt(k2,7),zt(O2,7),zt(x2,7),zt(P2,7)),2&e){let s;yt(s=_t())&&(i.canvas0=s.first),yt(s=_t())&&(i.canvas1=s.first),yt(s=_t())&&(i.canvas2=s.first),yt(s=_t())&&(i.canvas3=s.first)}},decls:18,vars:1,consts:[[1,"treeContainer"],[4,"ngFor","ngForOf"],[1,"canvas"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],["href","https://icons8.com/icon/102034/mute",1,"tribute"],["href","https://icons8.com/icon/108731/sound",1,"tribute"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(h(0,"div",0),$e(1,V2,7,6,"div",1),f(),h(2,"div"),g(3,"canvas",2,3),g(5,"canvas",2,4),g(7,"canvas",2,5),g(9,"canvas",2,6),f(),g(11,"br"),g(12,"br"),h(13,"a",7),u(14,"Mute icon by Icons8"),f(),g(15,"br"),h(16,"a",8),u(17,"Sound icon by Icons8"),f()),2&e&&(M(1),B("ngForOf",i.byTracks))},directives:[Ia,Aa,Zs],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:40px;border:1px solid var(--colorGrayLight);border-radius:.3em}.tribute[_ngcontent-%COMP%]{font-size:xx-small}.button[_ngcontent-%COMP%]{float:right;width:115px;height:25px;border:1px solid var(--colorGrayLight);border-radius:1em;cursor:pointer;text-align:center;margin-top:1.8em}@keyframes lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0px;left:0px;width:72px;height:72px;opacity:0}}@media screen and (min-width: 452px) and (max-width: 703px){.muteInnerContainer[_ngcontent-%COMP%]{width:75%;left:35%}.button[_ngcontent-%COMP%]{margin-right:5%}.canvas[_ngcontent-%COMP%], .gainOuterContainer[_ngcontent-%COMP%]{margin-left:5%;margin-right:5%;width:90%}}@media screen and (min-width: 704px) and (max-width: 1053px){.muteInnerContainer[_ngcontent-%COMP%]{width:60%;left:40%}.button[_ngcontent-%COMP%]{margin-right:10%}.canvas[_ngcontent-%COMP%], .gainOuterContainer[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.muteInnerContainer[_ngcontent-%COMP%]{width:40%;left:50%}.button[_ngcontent-%COMP%]{margin-right:15%}.canvas[_ngcontent-%COMP%], .gainOuterContainer[_ngcontent-%COMP%]{margin-left:15%;margin-right:15%;width:70%}}@media screen and (min-width: 1404px){.muteInnerContainer[_ngcontent-%COMP%]{width:30%;left:60%}.button[_ngcontent-%COMP%]{margin-right:20%}.canvas[_ngcontent-%COMP%], .gainOuterContainer[_ngcontent-%COMP%]{margin-left:20%;margin-right:20%;width:60%}}"]}),n})(),H2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Gt({type:n,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,i){1&e&&(h(0,"h1"),u(1,"Page not found for this url"),f())},encapsulation:2}),n})(),U2=(()=>{class n{constructor(e){this.blogService=e,this.post=this.blogService.selectedPost}}return n.\u0275fac=function(e){return new(e||n)(C(mo))},n.\u0275cmp=Gt({type:n,selectors:[["app-post-tdd-1"]],decls:326,vars:5,consts:[[1,"byAndDate"],["href","http://www.jamesshore.com/v2/blog/2005/red-green-refactor"],[1,"list"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/25"],[1,"list","inline"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/193"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://www.linkedin.com/in/egillantonsson"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/what-is-domain-logic/"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","http://xunitpatterns.com/Mocks,%20Fakes,%20Stubs%20and%20Dummies.html"],["href","https://medium.com/aia-sg-techblog/why-singleton-pattern-is-considered-as-anti-design-pattern-c81dd8b7e757"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],[1,"horizontalLine"]],template:function(e,i){1&e&&(h(0,"h1"),u(1),f(),h(2,"h2"),u(3),f(),h(4,"div",0),h(5,"small"),u(6),f(),f(),h(7,"h2"),u(8,"What is TDD ?"),f(),h(9,"p"),u(10," TDD is an acronym for "),h(11,"i"),u(12,"Test Driven Development"),f(),g(13,"br"),u(14," and is a workflow discipline / approach for developers, focused on "),h(15,"b"),u(16,"when"),f(),u(17," to write unit tests,"),g(18,"br"),u(19," and the heart of it is the "),h(20,"a",1),u(21,"RED / GREEN / REFACTOR cycle:"),f(),f(),h(22,"ol",2),h(23,"li"),h(24,"span",3),u(25,"RED:"),f(),u(26," Write a test that fails"),f(),h(27,"li"),h(28,"span",4),u(29,"GREEN:"),f(),u(30," Get the test to pass, with minimal effort"),f(),h(31,"li"),h(32,"span",5),u(33,"REFACTOR:"),f(),u(34," if needed: generalize the solution, clean up the structure / design / "),h(35,"a",6),u(36,"code smells"),f(),u(37," (all tests passing)"),f(),f(),h(38,"p"),u(39,"The cycle should focus is on fulfilling a requirement on the Subject under Test (SUT)"),g(40,"br"),u(41," repeating it until you are confident that the production code has become generic enough to handle all input cases. (with test becoming more specific)."),g(42,"br"),u(43," At some interval you should stop and evaluate if the design of the overall system is sound,"),g(44,"br"),u(45," and refactor if needed (all test passing)."),g(46,"br"),u(47," This is my summarization of Uncle Bob's post "),h(48,"a",7),u(49,"The Cycles of TDD"),f(),u(50," and other sources."),g(51,"br"),u(52," (Bob terms additional cycles within and around RED / GREEN / REFACTOR in his post).\n"),f(),h(53,"h2"),u(54,"What is a good Unit Test ?"),f(),h(55,"p"),u(56," Write good unit tests that are based on requirements and provide value (e.g. don't test a simple getters/setters specifically),"),g(57,"br"),u(58," and test code should be kept as clean as the production code. (REFACTOR step in TDD applies to both)"),g(59,"br"),u(60," Here are definitions from Roy Osherove in The Art of Unit testing, 3rd edition:"),g(61,"br"),f(),h(62,"h3"),h(63,"a",8),u(64,"Unit of Work definition"),f(),f(),h(65,"p"),u(66,"\nA unit of work is the sum of actions that take place between the invocation of an entry point"),g(67,"br"),u(68,"\nup until a noticeable end result through one or more exit points."),g(69,"br"),u(70,"\nThe entry point is the thing we trigger."),g(71,"br"),u(72,"\nGiven a publicly visible function, for example:\n"),f(),h(73,"ul",9),h(74,"li"),u(75,"The function's body is all or part of the unit of work."),f(),h(76,"li"),u(77,"The function's declaration and signature are the entry point into the body."),f(),h(78,"li"),u(79,"The resulting outputs or behaviors of the function are its exit points."),f(),f(),h(80,"h3"),h(81,"a",10),u(82,"Good Unit Test definition"),f(),f(),h(83,"p"),u(84,"\nA unit test is an automated piece of code that invokes the unit of work"),g(85,"br"),u(86,"\nthrough an entry point, and then checks one of its exit points."),g(87,"br"),u(88,"\nIt can be written easily and runs quickly."),g(89,"br"),u(90,"\nIt's trustworthy, readable & maintainable."),g(91,"br"),u(92,"\nIt is consistent as long as the production code we control has not changed.\n"),f(),h(93,"h2"),u(94,"Why do TDD ?"),f(),h(95,"p"),u(96,"Here is a my non-exhaustive list of the benefits of TDD in order of priority:"),f(),h(97,"ol",9),h(98,"li"),u(99,"Ensures you'll have passing test suite with high production code coverage"),g(100,"br"),u(101," that runs fast (each case less than 0.1 sec) so you get feedback early,"),g(102,"br"),u(103," thus you can clean the code fast and continuously without fear of breaking it,"),g(104,"br"),u(105," thus have high confidence in the shipped product quality."),g(106,"br"),f(),h(107,"li"),u(108,"It pushes for good production code design and maintainability:"),f(),h(109,"ul"),h(110,"li"),h(111,"a",11),u(112,"Separation of Concerns (SoC)"),f(),f(),h(113,"li"),u(114,"code to be low "),h(115,"a",12),u(116,"coupled"),f(),u(117," / have few dependencies"),f(),h(118,"li"),u(119,"each unit / object has readable and requirement-focused interface"),g(120,"br"),u(121," (internals should be "),h(122,"a",13),u(123,"encapsulated"),f(),u(124,")"),f(),f(),h(125,"li"),u(126,"The tests are accurate and up-to-date (developer focused) documentation"),g(127,"br"),u(128," of the behavior of the tested units."),f(),h(129,"li"),u(130,"Less time spent in the debugger"),f(),f(),h(131,"p"),u(132," There are also criticisms on TDD, e.g. the post "),h(133,"a",14),u(134,"TDD is dead. Long live testing"),f(),u(135,","),g(136,"br"),u(137," and discussion about it, e.g. the YouTube series "),h(138,"a",15),u(139,"Is TDD dead ?"),f(),g(140,"br"),u(141," and responses to it, e.g the post "),h(142,"a",16),u(143,"Monogamous TDD"),f(),u(144,".\n"),f(),h(145,"h2"),u(146,"Is TDD suitable for all areas / situations ?"),f(),h(147,"p"),u(148," I have over a decade long "),h(149,"a",17),u(150,"developer work experience"),f(),g(151,"br"),u(152," mainly as front-end game developer, and shared game systems developer."),g(153,"br"),u(154," I've gained some experience in writing good unit tests (being 'not so good' at the start of the journey)."),g(155,"br"),u(156," but I've used TDD to a lesser degree, thus I'm currently not very seasoned in using TDD."),g(157,"br"),u(158," The reason why I haven't used TDD more is mainly two-fold:\n"),f(),h(159,"ul",9),h(160,"li"),u(161,"Sometimes when facing many 'hard to influence' deadlines,"),g(162,"br"),u(163," I've chosen the (not ideal) 'get it done in time' approach (Thus writing unit tests later)."),f(),h(164,"li"),u(165,"I'm working in areas / situations where it is not so suited or easy to use TDD."),f(),f(),h(166,"p"),u(167," Below are areas / situations where it is not so suited or easy to use TDD"),g(168,"br"),u(169," (and some tips how to work TDD more into them).\n"),f(),h(170,"h3"),u(171,"Boundary layers"),f(),h(172,"p"),u(173," A big part of a game is the graphic user interface (GUI) and visual effects, user input and sound,"),g(174,"br"),u(175," should these parts be unit tested ?"),g(176,"br"),g(177,"br"),u(178," These parts can be described as layers close to the physical output/input boundaries (e.g. screen, speaker)"),g(179,"br"),u(180," The design can be driven to make these boundary layers thin and "),h(181,"a",18),u(182,"humble"),f(),u(183,","),g(184,"br"),u(185," focusing on the responsibility of the boundary (e.g. disable/enable button), and extracting other logic into other modules that can be easily tested."),g(186,"br"),g(187,"br"),u(188," It's likely that the logic to extract is in fact the "),h(189,"a",19),u(190,"domain logic"),f(),u(191," (a.k.a business logic),"),g(192,"br"),u(193," the code that makes (non-visual) game decisions (business)"),g(194,"br"),u(195," and thus belongs to the "),h(196,"a",20),u(197,"domain model"),f(),u(198," and then should be moved there"),g(199,"br"),u(200," (the domain model should not depend on any boundaries, thus be easily unit testable)."),g(201,"br"),g(202,"br"),u(203," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen."),g(204,"br"),u(205," If boundary bugs begin slipping into the production as the project grows,"),g(206,"br"),u(207," then it's time to replace some of the manual testing effort with automated tests (e.g integration and/or UI tests)."),g(208,"br"),u(209," The "),h(210,"a",21),u(211,"Test Pyramid"),f(),u(212," could be a guide for that process.\n"),f(),h(213,"h3"),u(214,"Legacy Code"),f(),h(215,"p"),u(216," Legacy code in a sentence is "),h(217,"a",22),u(218,"valuable code you are afraid to change"),f(),g(219,"br"),u(220," It typically:\n"),f(),h(221,"ul",9),h(222,"li"),u(223,"has been developed for some time"),f(),h(224,"li"),u(225,"is already 'working' (for most common scenarios / most of the time)"),f(),h(226,"li"),u(227,"has some bad code design that has crept in with time"),g(228,"br"),u(229," (e.g. high coupling / high dependency)"),f(),h(230,"li"),u(231,"is hard to read and understand and reason about"),f(),h(232,"li"),u(233,"has no or few good unit tests / very low test coverage"),g(234,"br"),u(235," (or many very bad and brittle tests that are hard to read and understand"),f(),f(),h(236,"p"),u(237," When you need to fix or change legacy code"),g(238,"br"),u(239," it is hard to do and have the confidence that the change did not break something else."),g(240,"br"),u(241," A breakage is discovered late (QA manual testing or live production) which can be very costly"),g(242,"br"),u(243," (and it always takes effort to get again into the context to fix the bug)."),g(244,"br"),g(245,"br"),u(246," It's possible to prevent bad code design to creep up"),g(247,"br"),u(248," by strictly upholding great design principles, without writing unit tests."),g(249,"br"),u(250," But using TDD complements this prevention very well (see "),h(251,"i"),u(252,"Why do TDD ?"),f(),u(253," section above)"),g(254,"br"),g(255,"br"),u(256," One of the negative consequence of legacy code is that it's very hard to write unit tests"),g(257,"br"),u(258," They likely need a lot of "),h(259,"a",23),u(260,"Test Doubles"),f(),u(261," to mute dependency interference"),g(262,"br"),u(263," (where static objects and "),h(264,"a",24),u(265,"Singletons"),f(),u(266," become very tricky)."),g(267,"br"),g(268,"br"),u(269," Legacy code needs to be carefully refactored (ideally first covered with tests) into a better state"),g(270,"br"),u(271," before TDD can be used effortlessly and to it's full potential."),g(272,"br"),u(273," Improving legacy code is a big topic thus I'll leave it here by"),g(274,"br"),u(275," referencing one book: "),h(276,"a",25),u(277,"Working Effectively with Legacy Code"),f(),u(278,","),g(279,"br"),u(280," and one post: "),h(281,"a",26),u(282,"Starting TDD with legacy code"),f(),u(283,".\n"),f(),h(284,"h3"),u(285,"Prototype code"),f(),h(286,"p"),u(287," The focus of prototyping is to get out an idea as fast as possible to get feedback on it."),g(288,"br"),u(289," It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not,"),g(290,"br"),u(291," and there should be a "),h(292,"b"),u(293,"clear agreement that the prototype code will be thrown away"),f(),u(294,"."),g(295,"br"),u(296," It is fine to not (or sparsely) use TDD in the prototyping phase, if the consensus is it slows things down,"),g(297,"br"),u(298," but TDD should be used when the production project codebase is started from scratch."),g(299,"br"),f(),g(300,"div",27),h(301,"h2"),u(302,"Comments"),f(),h(303,"h4"),u(304,"Fabio Paes Pedro"),f(),h(305,"p"),u(306," I'm no expert but the value TDD provides became clear to me quite fast."),g(307,"br"),u(308," I believe this requires a mindset/process change though,"),g(309,"br"),u(310," a different way of thinking things through that might extend outside of our team, into a company level."),g(311,"br"),u(312," I can't wait to read the rest of this series!\n"),f(),h(313,"h4"),u(314,"My response"),f(),h(315,"p"),u(316," Thank you for your comment Fabio."),g(317,"br"),u(318," I agree that TDD requires a mindset/process change,"),g(319,"br"),u(320," where ideally the whole team and the company are aligned on using TDD to reap its benefits,"),g(321,"br"),u(322," (synced on an approach that recognizes that in some areas / situations the value of TDD can be limited (as the sections above go through)."),g(323,"br"),u(324," I aim to continue writing blog post and complete this series, so stay tuned :)\n"),f(),g(325,"div",27)),2&e&&(M(1),gt(i.post.seriesTitle),M(2),gt(i.post.title),M(3),zs("by Egill Antonsson, published on ",i.post.dateYear," ",i.post.dateMonth," ",i.post.dateDay," (updated on 2022 Jan 30)"))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})(),j2=(()=>{class n{constructor(e){this.blogService=e,this.post=this.blogService.selectedPost}}return n.\u0275fac=function(e){return new(e||n)(C(mo))},n.\u0275cmp=Gt({type:n,selectors:[["app-post-tdd-2"]],decls:323,vars:5,consts:[[1,"byAndDate"],["href","https://www.maginteractive.com"],["href","http://infalliblecode.com/unity-tdd-1/"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","https://egill.rocks/blog/tdd-health/part1"],["href","http://infalliblecode.com/unity-tdd-2/"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","http://infalliblecode.com/unity-tdd-7/"],["href","http://infalliblecode.com/unity-tdd-8/"],[1,"outOfScope"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"list"],[1,"noBulletinPoint"],[1,"center"],["href","./blog/tdd-health/part1"]],template:function(e,i){1&e&&(h(0,"h1"),u(1),f(),h(2,"h2"),u(3),f(),h(4,"div",0),h(5,"small"),u(6),f(),f(),h(7,"h2"),u(8,"My workshop"),f(),h(9,"p"),u(10," I recently decided to do a short workshop about TDD at "),h(11,"a",1),u(12,"work"),f(),g(13,"br"),u(14," and for preparation I browsed the internet looking for a fitting assignment,"),g(15,"br"),u(16," and I came across "),h(17,"a",2),u(18,"TDD in Unity - Part 1"),f(),u(19," by Charles Amat, where he sets up his assignment:"),g(20,"br"),u(21," implementing the "),h(22,"i"),u(23,"Life Gauge"),f(),u(24," from "),h(25,"i"),u(26,"Zelda: Breath of the Wild"),f(),u(27," game."),g(28,"br"),g(29,"br"),u(30," I thought this assignment was fitting for the workshop,"),g(31,"br"),u(32," thus I read the "),h(33,"a",3),u(34,"Life Gauge page on the Zelda wiki"),f(),u(35," (which was linked in the 'Part 1' post),"),g(36,"br"),u(37," and also played the game a bit, focusing on the "),h(38,"i"),u(39,"Life Gauge"),f(),u(40," behavior."),g(41,"br"),u(42," But I did not go through the 'TDD in Unity' series, as I was running out of preparation time."),g(43,"br"),g(44,"br"),u(45," My focus and task order in both my preparations and workshop walk-through:"),g(46,"br"),f(),h(47,"ol",4),h(48,"li"),u(49,"Write down the "),h(50,"i"),u(51,"Life Gauge"),f(),u(52," behavior from the user perspective"),g(53,"br"),u(54," (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),h(55,"i"),u(56,"Zelda: Breath of the Wild"),f(),u(57,")"),f(),h(58,"li"),u(59,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill,"),g(60,"br"),u(61," as TDD can fully and easily be used in the domain model"),f(),h(62,"li"),u(63,"Afterwards the focus would shift to the visual GUI,"),g(64,"br"),u(65," where the value of TDD likely would dwindle the closer I got to the physical boundary of the screen,"),g(66,"br"),u(67," ending with just manually testing with my eyes."),g(68,"br"),u(69," (Boundary layers section in "),h(70,"a",5),u(71,"Part 1"),f(),u(72," elaborates on 2. and 3.)"),f(),f(),h(73,"p"),u(74," With this I held the workshop where I screen shared TDD-ing the implementation,"),g(75,"br"),u(76," and me and the participants collaboratively completed some of the domain logic requirements,"),g(77,"br"),u(78," when the bell rang and the time was up."),g(79,"br"),f(),h(80,"h2"),u(81,"Comparing approaches of the assignment"),f(),h(82,"p"),u(83," After the workshop I was curious how Charles Amat solved it,"),g(84,"br"),u(85," thus I watched on YouTube the whole "),h(86,"a",6),u(87,"TDD in Unity"),f(),u(88," series."),g(89,"br"),u(90," I both enjoyed and learned from watching Charles Amat "),h(91,"a",7),u(92,"live coding"),f(),u(93," and implementing the "),h(94,"i"),u(95,"Life Gauge"),f(),g(96,"br"),u(97," and his end result solution is good and sound, and I thank Charles for his work and contribution."),g(98,"br"),u(99," but I noticed that his focus and task order quite differed from mine, as he:"),g(100,"br"),f(),h(101,"ol",4),h(102,"li"),u(103,"Starts planning how he would go about creating the heart container in Unity, from a GUI perspective"),f(),h(104,"li"),u(105,"Starts TDD-ing logic close to the GUI"),f(),h(106,"li"),u(107,"Ends with TDD-ing the domain logic, the Player Health in "),h(108,"a",8),u(109,"Part 7"),f(),u(110," and "),h(111,"a",9),u(112,"Part 8"),f(),u(113,"."),g(114,"br"),u(115," The requirements on the domain logic are very simple"),g(116,"br"),u(117," and are far from covering the requirements of "),h(118,"i"),u(119,"Breath of the Wild"),f(),g(120,"br"),h(121,"span",10),u(122,"After re-reading the 'Part 1', I acknowledge that Charles does indicate"),g(123,"br"),u(124," that the domain logic requirements would be very simple, as he wrote:"),g(125,"br"),h(126,"q"),u(127,"The Life Gauge depletes when damage is taken"),g(128,"br"),u(129," and replenishes when health regenerating items are consumed."),g(130,"br"),u(131," Besides some animations and effects, that's all there is to it;"),g(132,"br"),u(133," the requirements for the Life Gauge are pretty straightforward."),f(),f(),f(),f(),h(134,"h3"),u(135,"TDD-ing the same assignment, but with my focus and task order"),f(),h(136,"p"),u(137," This is why I think it's worth doing a blog post series with the same assignment,"),g(138,"br"),u(139," but with my focus and task order (see my ordered bulletin list above in "),h(140,"i"),u(141,"My workshop"),f(),u(142," section)."),g(143,"br"),g(144,"br"),u(145," When focusing on the domain logic, there will mainly be .NET code and not much usage of the Unity editor"),g(146,"br"),u(147," (though I run the tests via Unity Test Runner)."),g(148,"br"),u(149," When the focus later goes to the GUI, then there will be more focus on Unity"),g(150,"br"),u(151," (e.g some Unity GUI specific code, setting and configuring the GUI in the Unity editor)."),g(152,"br"),u(153," The GUI implementation part will likely be similar to the "),h(154,"a",2),u(155,"TDD in Unity series"),f(),u(156,","),g(157,"br"),u(158," thus I might decide to reference it heavily, when I get to it."),g(159,"br"),g(160,"br"),u(161," My format will also differ:"),g(162,"br"),u(163," I will not "),h(164,"a",7),u(165,"live code"),f(),u(166," it, but instead"),g(167,"br"),u(168," I will write directly into the blog posts the "),h(169,"span",11),u(170,"RED"),f(),u(171," / "),h(172,"span",12),u(173,"GREEN"),f(),u(174," / "),h(175,"span",13),u(176,"REFACTOR"),f(),u(177," cycles"),g(178,"br"),u(179,"\nand show the appropriate code for each step."),g(180,"br"),u(181," With this approach I filter away the smallest repetitive 'back and forth' steps of the cycles and in my reasoning,"),g(182,"br"),u(183," usually skipping over my missteps, unless I want to show them to showcase the value and benefits of TDD."),g(184,"br"),u(185," Thus I will present a polished happy path (pretty much)"),g(186,"br"),u(187," but demonstrating how the requirements and cycles guide and shape the code and my reasoning,"),g(188,"br"),u(189," that will read like a soothing poetry of rhythmic red green refactor loops (at least that's my ambition)."),g(190,"br"),u(191," There are pros and cons with each format, and I might later switch format depending on the task at hand.\n"),f(),h(192,"h3"),u(193,"The Life Gauge behavior from the user perspective"),f(),h(194,"p"),u(195," The below list is the behaviour summary from"),g(196,"br"),u(197," the "),h(198,"a",3),u(199,"Life Gauge page on the Zelda Wiki"),f(),u(200," for the "),h(201,"i"),u(202,"Breath of the Wild"),f(),u(203," game"),g(204,"br"),u(205," (Small streamlining done for the sake of the assignment): "),f(),h(206,"ul",14),h(207,"li",15),h(208,"b"),u(209,"Definition and Start State"),f(),f(),h(210,"li"),u(211,"The Life Gauge measures Link's (the avatar) current amount of health"),f(),h(212,"li"),u(213,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),f(),h(214,"li"),u(215,"The Life Gauge starts with 3 Hearts"),f(),g(216,"br"),h(217,"li",15),h(218,"b"),u(219,"Taking Damage and Dying"),f(),f(),h(220,"li"),u(221,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),g(222,"br"),u(223," equal to the damage points taken (always losing at least 1 fraction)"),f(),h(224,"li"),u(225,"When Link loses all of his Hearts the game ends"),f(),h(226,"li"),u(227,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),g(228,"br"),u(229," and will instead be left alive with Hearth 1 fraction remaining"),f(),h(230,"ul"),h(231,"li"),u(232,"However, if the damage is more than five Hearts above his full Life Gauge, he will still die"),f(),f(),g(233,"br"),h(234,"li",15),h(235,"b"),u(236,"Health Replenishing and Maximum"),f(),f(),h(237,"li"),u(238,"Link's Life Gauge can be replenished by:"),g(239,"br"),h(240,"ul"),h(241,"li"),u(242,"Picking up recovery Hearts / drinking recovery Potions"),f(),h(243,"li"),u(244,"Resting while Sitting or Sleeping."),f(),f(),f(),h(245,"li"),u(246,"The Life Gauge can be extended to a maximum of 30 Hearts"),f(),h(247,"li"),u(248,"It can also be temporarily extended by consuming certain Foods that grant yellow temporary Hearts"),f(),h(249,"ul"),h(250,"li"),u(251,"These yellow Hearts are lost when Link takes damage and cannot be recovered"),f(),f(),f(),h(252,"h3"),u(253,"Domain / Visual "),h(254,"i"),u(255,"SoC"),f(),u(256," mapping of "),h(257,"i"),u(258,"Life Gauge"),f(),f(),h(259,"table"),h(260,"tr"),h(261,"th"),u(262,"Domain Model"),f(),h(263,"th"),u(264,"GUI / View"),f(),f(),h(265,"tr"),h(266,"td",16),u(267," Avatar Health "),f(),h(268,"td",16),u(269," Heart Container "),f(),f(),h(270,"tr"),h(271,"td",16),u(272," - "),f(),h(273,"td",16),u(274," Heart (contains 4 Fractions) "),f(),f(),h(275,"tr"),h(276,"td",16),u(277," Health Points "),f(),h(278,"td",16),u(279," Heart Fraction "),f(),f(),f(),h(280,"p"),u(281," This "),h(282,"i"),u(283,"Separation of Concerns (SoC)"),f(),u(284," mapping is helpful and good to establish early:"),g(285,"br"),h(286,"i"),u(287,"Heart Container (with its Hearts and fractions) is a specific GUI representation"),g(288,"br"),u(289,"\nof the Avatar Health, the domain model."),f(),g(290,"br"),g(291,"br"),u(292," In a real-life scenario things are likely to change along the way,"),g(293,"br"),u(294," e.g. the team might decide to change the GUI to a health bar or something else. "),g(295,"br"),g(296,"br"),u(297," I'll apply the approach noted in the "),h(298,"i"),u(299,"Boundary layers"),f(),u(300," section in "),h(301,"a",17),u(302,"Part 1"),f(),u(303,")."),g(304,"br"),u(305," Make sure that the code dependency is minimal and one-way:"),g(306,"br"),u(307," The view can depend in some way on the model, but not vice-versa."),g(308,"br"),u(309," And put all the domain logic into the model and keep the view thin and humble."),g(310,"br"),g(311,"br"),u(312," When future change requests on the GUI arrive, it will be effortless to handle as:\n"),f(),h(313,"ul",4),h(314,"li"),u(315,"The domain and its logic will be unaffected (as it does not depend on the view)"),f(),h(316,"li"),u(317,"The model naming and terms will be unaffected (as it does not depend on the view)"),f(),f(),h(318,"p"),h(319,"span",10),u(320,"I might decide to have more than one GUI representations simultaneously to fully illustrate this."),g(321,"br"),u(322," It is quite common in game UI to have more than one GUI representation of the same model object."),f(),f()),2&e&&(M(1),gt(i.post.seriesTitle),M(2),gt(i.post.title),M(3),zs("by Egill Antonsson, published on ",i.post.dateYear," ",i.post.dateMonth," ",i.post.dateDay,""))},styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})();function el(n,t){return new L(t?e=>t.schedule($2,0,{error:n,subscriber:e}):e=>e.error(n))}function $2({error:n,subscriber:t}){t.error(n)}class q2{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new W2(t,this.resultSelector))}}class W2 extends ke{constructor(t,e,i=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=i}_next(t){const e=this.iterators;Zt(t)?e.push(new K2(t)):e.push("function"==typeof t[Fe]?new z2(t[Fe]()):new Q2(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let s=t[i];s.stillUnsubscribed?this.destination.add(s.subscribe(s,i)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let a=t[o];if("function"==typeof a.hasValue&&!a.hasValue())return}let s=!1;const r=[];for(let o=0;o<e;o++){let a=t[o],l=a.next();if(a.hasCompleted()&&(s=!0),l.done)return void i.complete();r.push(l.value)}this.resultSelector?this._tryresultSelector(r):i.next(r),s&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class z2{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class K2{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Fe](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class Q2 extends it{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Fe](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,i,s,r){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return at(this,this.observable,this,e)}}class Y2 extends Pe{constructor(t,e){super()}schedule(t,e=0){return this}}class dD extends Y2{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(s,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let s,i=!1;try{this.work(t)}catch(r){i=!0,s=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),s}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&i.splice(s,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let hD=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,s){return new this.SchedulerAction(this,e).schedule(s,i)}}return n.now=()=>Date.now(),n})();class ls extends hD{constructor(t,e=hD.now){super(t,()=>ls.delegate&&ls.delegate!==this?ls.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return ls.delegate&&ls.delegate!==this?ls.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const Ip=new class extends ls{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,s=-1,r=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++s<r&&(t=e.shift()));if(this.active=!1,i){for(;++s<r&&(t=e.shift());)t.unsubscribe();throw i}}}(class extends dD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),ac=new Y("HIGHLIGHT_OPTIONS");let X2=(()=>{class n{constructor(e,i,s){this.doc=e,this._options=s,this._ready=new Pn(null),this.ready=this._ready.asObservable().pipe(Rn(r=>!!r),W(r=>r),Iu(1)),Dw(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(Vi(r=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=r,this.loadLineNumbers().pipe(ct(()=>this._ready.next(r)))):(this._ready.next(r),Ts)),Ss(r=>(console.error("[HLJS] ",r),Ts))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return el("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return el("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return el("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return el("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(Vi(e=>this._loadLanguages(e)))}return el("Highlight.js library was not imported!")}_loadLanguages(e){return function(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),wt(n,void 0).lift(new q2(t))}(...Object.entries(this._options.languages).map(([s,r])=>lc(r()).pipe(ct(o=>e.registerLanguage(s,o))))).pipe(W(()=>e))}loadCoreLibrary(){return lc(this._options.coreLibraryLoader())}loadFullLibrary(){return lc(this._options.fullLibraryLoader())}loadLineNumbers(){return lc(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(k(lt),k(ao),k(ac,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lc=n=>Oe(n).pipe(Rn(t=>!!t&&!!t.default),W(t=>t.default));let eV=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(s=>{this._hljs=s,i&&i.config&&(s.configure(i.config),s.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:s}){return this._loader.ready.pipe(W(r=>r.highlight(e,{language:i,ignoreIllegals:s})))}highlightAuto(e,i){return this._loader.ready.pipe(W(s=>s.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(W(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(W(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(W(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(ct(s=>s.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(ct(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(ct(s=>s.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(W(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(W(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(W(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(W(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(Rn(i=>!!i.lineNumbersBlock),ct(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(k(X2),k(ac,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kp=(()=>{class n{constructor(e,i,s,r){this._hljs=i,this._sanitizer=s,this._options=r,this.highlighted=new Ne,this._nativeElement=e.nativeElement}ngOnChanges(e){var i;this.code&&(null===(i=null==e?void 0:e.code)||void 0===i?void 0:i.currentValue)&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(s=>{this.setInnerHTML(s.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(s)})}addLineNumbers(){this.destroyLineNumbersObserver(),Ip.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){Ip.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){Ip.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(Ke.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(C(Ct),C(eV),C(Bw),C(ac,8))},n.\u0275dir=ee({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&On("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[ln]}),n})(),tV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({}),n})();const nV=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:QL},{path:"blog",component:nF,children:[{path:"tdd-health/part1",component:U2},{path:"tdd-health/part2",component:j2},{path:"tdd-health/part3",component:(()=>{class n{constructor(e){this.blogService=e,this.test_1_Red="//HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void PointsHasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.Points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n",this.test_1_Red2="//Health.cs\npublic class Health\n{\n\tpublic int Points;\n}\n",this.impl_1_Green="//Health.cs\npublic class Health\n{\n\tpublic int Points = 12;\n}\n",this.code_1_Refactor="//HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void CurrentPointsHasStartingValue()\n\t\t{\n\t\t\tint startingPoints = 12;\n\t\t\tvar health = new Health(startingPoints);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n\t\t}\n\t}\n}\n\n//Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get;  private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tCurrentPoints = startingPoints;\n\t}\n}\n",this.test_2_Red="//HealthTest.cs (only showing the new test)\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\tdelegate {\n\t\tnew Health(0);\n\t});\n}\n",this.impl_2_Green='//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get;  private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tif (startingPoints < 1)\n\t\t{\n\t\t\tthrow new ArgumentOutOfRangeException("startingPoints", "Invalid value");\n\t\t}\n\t\tCurrentPoints = startingPoints;\n\t}\n}\n',this.impl_2_Refactor="//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get;  private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tint lowestValidValue = 1;\n\t\tif (startingPoints < lowestValidValue)\n\t\t{\n\t\t\tvar paramName = nameof(startingPoints);\n\t\t\tvar message = $\"Value '{startingPoints}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t\tCurrentPoints = startingPoints;\n\t}\n}\n",this.test_3_Green="//HealthTest.cs\nusing NUnit.Framework;\nusing System;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\n\t\t[TestCase(12)]\n\t\t[TestCase(1)]\n\t\tpublic void CurrentPointsHasStartingValue(int startingPoints)\n\t\t{\n\t\t\tvar health = new Health(startingPoints);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n\t\t}\n\n\t\t[TestCase(0)]\n\t\t[TestCase(-1)]\n\t\tpublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n\t\t{\n\t\t\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\t\tdelegate\n\t\t\t{\n\t\t\t\tnew Health(startingPoints);\n\t\t\t});\n\t\t}\n\t}\n}\n",this.post=this.blogService.selectedPost}}return n.\u0275fac=function(e){return new(e||n)(C(mo))},n.\u0275cmp=Gt({type:n,selectors:[["app-post-tdd-3"]],decls:424,vars:14,consts:[[1,"byAndDate"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html"],[1,"list","inline"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html"],[1,"redFail"],[1,"outOfScope"],[3,"highlight"],["href","http://infalliblecode.com/unity-tdd-1/"],["href","https://daedtech.com/tdd-and-modeling-a-chess-game/"],["href","https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/"],["href","./blog/tdd-health/part1"],["href","https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models"],["src","../assets/images/blog/tdd/TestRunner_first-test-fails.PNG","alt","Unity Test Runner: first test fail (the nested class displays nicely)","title","Unity Test Runner: first test fail (the nested class displays nicely)",1,"imageSmallText"],[1,"greenPass"],[1,"greenRefactor"],[1,"code"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html"],["href","https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html"],["src","../assets/images/blog/tdd/TestRunner_tests-using-TestCase.PNG","alt","Unity Test Runner: tests using TestCase attribute","title","Unity Test Runner: tests using TestCase attribute",1,"imageSmallText"]],template:function(e,i){1&e&&(h(0,"h1"),u(1),f(),h(2,"h2"),u(3),f(),h(4,"div",0),h(5,"small"),u(6),f(),f(),h(7,"h2"),u(8,"Setting up Unity"),f(),h(9,"p"),u(10," I'm using Unity version 2020.3.24f1 and I create a new project (3D is the default), and keep the default config,"),g(11,"br"),u(12," except that I update "),h(13,"i"),u(14,"Test Framework"),f(),u(15," package to latest version (currently 1.1.30)."),g(16,"br"),u(17," The "),h(18,"a",1),u(19,"documentation"),f(),u(20," details how setup tests for a project."),g(21,"br"),u(22," My project structure starts very simple:\n"),f(),h(23,"ul",2),h(24,"li"),u(25,"The test code is in: "),h(26,"i"),u(27,"Scripts/Tests/EditMode/[ClassName]Test.cs"),f(),f(),h(28,"li"),u(29,"The production code is in: "),h(30,"i"),u(31,"Scripts/Runtime/[ClassName].cs"),f(),f(),f(),h(32,"p"),u(33," As the folder structure implies, I'm doing "),h(34,"i"),u(35,"EditMode"),f(),u(36," tests for the production "),h(37,"i"),u(38,"Runtime"),f(),u(39," code."),g(40,"br"),h(41,"i"),u(42,"EditMode"),f(),u(43," test have access to both: "),f(),h(44,"ul",2),h(45,"li"),u(46,"the "),h(47,"i"),u(48,"Editor"),f(),u(49," code (only about extending the Unity editor)"),f(),h(50,"li"),u(51,"the "),h(52,"i"),u(53,"Runtime"),f(),u(54," code (of the targeted platform, e.g iOS)."),f(),f(),h(55,"p"),u(56," My main reason to prefer "),h(57,"i"),u(58,"EditMode"),f(),u(59," tests for "),h(60,"i"),u(61,"Runtime"),f(),u(62," code"),g(63,"br"),u(64," is that they run faster (as no startup of the Player is needed in the Unity editor)."),g(65,"br"),u(66," Also the domain logic should not need the "),h(67,"i"),u(68,"PlayMode"),f(),u(69," tests features"),g(70,"br"),u(71," (tests can run as Unity "),h(72,"i"),u(73,"Coroutine"),f(),u(74," to step through the (coroutine based) production code)."),g(75,"br"),u(76," The doc page "),h(77,"a",3),u(78,"EditMode vs. PlayMode tests"),f(),u(79," explains their difference further. "),f(),h(80,"h2"),u(81,"The requirements for "),h(82,"i"),u(83,"definition and start state"),f(),f(),h(84,"p"),u(85," Let's recap these requirements from the user perspective:\n"),f(),h(86,"ul",2),h(87,"li"),u(88,"The Life Gauge measures Link's (the avatar) current amount of health"),f(),h(89,"li"),u(90,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),f(),h(91,"li"),u(92,"The Life Gauge starts with 3 Hearts"),f(),f(),h(93,"p"),u(94," Let's filter and transform this into a requirement that's focused only on the domain"),g(95,"br"),u(96," (as GUI will be done later):\n"),f(),h(97,"ul",2),h(98,"li"),u(99,"Avatar Health starts with 12 Health Points"),g(100,"br"),u(101," (equals to visual representation of 3 Hearts * 4 Fractions)"),f(),f(),g(102,"p"),h(103,"h2"),u(104,"Health Points starting value"),f(),h(105,"h3"),h(106,"span",4),u(107,"RED (does not compile)"),f(),f(),h(108,"p"),u(109," I start by writing the test."),g(110,"br"),u(111," The domain model focus will be "),h(112,"code"),u(113,"Health"),f(),u(114," class (not created yet),"),g(115,"br"),h(116,"span",5),u(117,"which in the end will likely be owned by "),h(118,"code"),u(119,"Avatar"),f(),u(120," class."),f(),g(121,"br"),u(122," Thus I create test file "),h(123,"code"),u(124,"HealthTest.cs"),f(),u(125," and write the first test,"),g(126,"br"),u(127," that fails as the code does not compile.\n"),f(),h(128,"pre"),g(129,"code",6),f(),h(130,"p"),u(131," I'm using a naming/structuring convention by using nested test classes."),g(132,"br"),u(133," (that I recently discovered via Charles Amat via "),h(134,"a",7),u(135,"TDD in Unity - Part 1"),f(),u(136," that references"),g(137,"br"),u(138," Erik Dietrich via "),h(139,"a",8),u(140,"TDD and modeling a chess game"),f(),u(141," that references Phil Haack via "),h(142,"a",9),u(143,"Structuring Unit Tests"),f(),u(144,")"),g(145,"br"),u(146," I name the nested class after the "),h(147,"i"),u(148,"entry point"),f(),u(149," of the test,"),g(150,"br"),u(151," which in this case is the "),h(152,"i"),u(153,"Constructor"),f(),u(154," method, as the test invokes "),h(155,"code"),u(156,"new Health()"),f(),g(157,"br"),u(158," (see "),h(159,"i"),u(160,"What is a good Unit Test section"),f(),u(161," in "),h(162,"a",10),u(163,"Part 1"),f(),u(164,")."),g(165,"br"),g(166,"br"),u(167," I'm using the "),h(168,"a",11),u(169,"Constraint Model of Assertions"),f(),u(170,".\n"),f(),h(171,"h3"),h(172,"span",4),u(173,"RED (test fails)"),f(),f(),h(174,"p"),u(175," I want to run the test and see it fail."),g(176,"br"),u(177," This is done to verify that the test is not passing when it should not"),g(178,"br"),u(179," (provides more value for more complex scenario)."),g(180,"br"),u(181," Thus I write the needed production code for the compiler to compile successfully,"),g(182,"br"),u(183," then run the tests via Unity Test Runner (menu item "),h(184,"i"),u(185,"Window > General > Test Runner"),f(),u(186,")."),g(187,"br"),f(),h(188,"pre"),g(189,"code",6),f(),h(190,"figure"),g(191,"img",12),h(192,"figcaption"),u(193," Unity Test Runner: first test fail (the nested class displays nicely) "),f(),f(),h(194,"p"),u(195," Going forward I will skip demonstrating the step from 'does not compile' to 'test fails'"),g(196,"br"),u(197," (although I actually do it when coding),"),g(198,"br"),u(199," thus having only one "),h(200,"span",4),u(201,"RED"),f(),u(202," step.\n"),f(),h(203,"h3"),h(204,"span",13),u(205,"GREEN"),f(),f(),h(206,"p"),u(207,"Let's make the test pass with a very simple implementation.\n"),f(),h(208,"pre"),g(209,"code",6),f(),h(210,"h3"),h(211,"span",14),u(212,"REFACTOR"),f(),f(),h(213,"p"),u(214,"Now it comes to mind that from a game design perspective"),g(215,"br"),u(216," it is good to be able to tweak the starting health points for game balancing,"),g(217,"br"),u(218," thus I refactor the value to be passed as parameter into the constructor."),g(219,"br"),h(220,"span",5),u(221,"An advanced system would have an accessible game balancing config that's integrated into the code base,"),g(222,"br"),u(223," that would then likely use "),h(224,"span",15),u(225,"Health"),f(),u(226," class as designed (passing in value/s)."),g(227,"br"),u(228," I might later decide to implement a very simplified game balancing config and integration."),f(),g(229,"br"),g(230,"br"),u(231," I name the passed in parameter "),h(232,"span",15),u(233,"startingPoints"),f(),u(234,"."),g(235,"br"),u(236," I also rename the property to "),h(237,"span",15),u(238,"CurrentPoints"),f(),u(239," (and thus the test case) to further clarify the logic:"),g(240,"br"),h(241,"i"),u(242,"starting points is passed into the constructor which sets the current points."),f(),g(243,"br"),g(244,"br"),u(245," I also encapsulate "),h(246,"span",15),u(247,"CurrentPoints"),f(),u(248," with a private setter,"),g(249,"br"),u(250," as I want to "),h(251,"a",16),u(252,"encapsulate"),f(),u(253," the production code as much as possible."),g(254,"br"),u(255," The only exposure should be for the class interface that other production code will use and the tests"),g(256,"br"),u(257," (though no or minimal exposure should be only for the tests)."),g(258,"br"),u(259," The requirements and the TDD cycles will gradually expose the required and proper interface.\n"),f(),h(260,"pre"),g(261,"code",6),f(),h(262,"h2"),u(263,"Handle invalid "),h(264,"span",15),u(265,"StartingPoints"),f(),u(266," values"),f(),h(267,"p"),u(268," Now it comes to mind that invalid "),h(269,"span",15),u(270,"StartingPoints"),f(),u(271," values can be passed in,"),g(272,"br"),u(273," as our avatar should never start with less than 1 points"),g(274,"br"),u(275," (because otherwise Link would start up being dead :P )."),g(276,"br"),u(277," Thus I'll throw an exception when the value is invalid."),g(278,"br"),h(279,"span",5),u(280,"Invalid values should also be handled where they are defined, in the previously mentioned game balancing config."),g(281,"br"),f(),f(),h(282,"h3"),h(283,"span",4),u(284,"RED"),f(),f(),h(285,"pre"),g(286,"code",6),f(),h(287,"p"),u(288," I deem I can use existing "),h(289,"span",15),u(290,"ArgumentOutOfRangeException"),f(),u(291," from namespace "),h(292,"span",15),u(293,"System"),f(),g(294,"br"),u(295," if I include an informative message for my case."),g(296,"br"),u(297," I chose the value "),h(298,"code"),u(299,"0"),f(),u(300," as it's on the edge of invalidation (as "),h(301,"code"),u(302,"1"),f(),u(303," is valid)."),g(304,"br"),g(305,"br"),u(306," To elaborate on my test case naming convention, I use my template:"),g(307,"br"),h(308,"i"),u(309,"[Output behavior]"),f(),u(310," or "),h(311,"i"),u(312,"[expected behavior of Unit of Work]"),f(),g(313,"br"),u(314," postfixing it with "),h(315,"i"),u(316,"_When[Scenario]"),f(),u(317," for other paths than the happy path."),g(318,"br"),u(319," which translates to the two test cases:"),g(320,"br"),h(321,"code"),u(322,"ThrowsError_WhenStartingPointsIsInvalid"),f(),g(323,"br"),h(324,"code"),u(325,"CurrentPointsHasStartingValue"),f(),f(),h(326,"h3"),h(327,"span",13),u(328,"GREEN"),f(),f(),h(329,"pre"),g(330,"code",6),f(),h(331,"p"),u(332," I'm confident that the implementation of the conditional is the proper generic solution for this requirement,"),g(333,"br"),u(334," and it was also easy to come up with, and thus does not need additional steps to generalize."),g(335,"br"),g(336,"br"),u(337," However I just did the bare minimum for the exception message,"),g(338,"br"),u(339," and I will refactor it in the next step."),g(340,"br"),g(341,"br"),u(342," I feel that manually testing the exception message with my eyes will be sufficient"),g(343,"br"),u(344," (alternatively I could do assert/s on it via the thrown exception in the test case)."),g(345,"br"),g(346,"br"),u(347," I do this by temporarily commenting out the code of "),h(348,"code"),u(349,"ThrowsError_WhenStartingPointsIsInvalid"),f(),u(350," test case,"),g(351,"br"),u(352," only leaving the line '"),g(353,"code",6),u(354,"'"),g(355,"br"),u(356," Then I run the test, see it fail, and then select the failed case"),g(357,"br"),u(358," and read the message from the stacktrace below (in Unity Test Runner)."),g(359,"br"),u(360," Afterwards I undo my commenting out in the test case, make sure the test passes again."),g(361,"br"),g(362,"br"),f(),h(363,"h3"),h(364,"span",14),u(365,"REFACTOR"),f(),f(),h(366,"pre"),g(367,"code",6),f(),h(368,"p"),u(369," To make the exception message very informative and clear"),g(370,"br"),u(371," I create and use the variable "),h(372,"code"),u(373,"lowestValidValue"),f(),g(374,"br"),u(375," to make sure the conditional and the exception message are in-sync."),g(376,"br"),u(377," I also get the name of the sent in parameter with "),h(378,"code"),u(379,"nameof(startingPoints)"),f(),u(380,"."),g(381,"br"),g(382,"br"),u(383," The message displays, if value "),h(384,"code"),u(385,"0"),f(),u(386," was passed in:"),g(387,"br"),h(388,"code"),u(389,"System.ArgumentOutOfRangeException : Value '0' is invalid, it should be equal or higher than '1'"),g(390,"br"),u(391," Parameter name: startingPoints"),f(),f(),h(392,"h2"),u(393,"Let's test a few more values"),f(),h(394,"p"),u(395,"As the implementation is very simple I am confident that it's"),g(396,"br"),u(397," the proper generic solution that works for any passed-in value."),g(398,"br"),u(399," But let's test a few more values to demonstrate how to do it in a clean and maintainable way.\n"),f(),h(400,"h3"),h(401,"span",14),u(402,"REFACTOR"),f(),f(),h(403,"p"),u(404,"Refactoring the tests to add test cases where the value is close to the valid/invalid edge,"),g(405,"br"),u(406," using "),h(407,"a",17),u(408,"Parameterized Tests"),f(),u(409," with inline "),h(410,"a",18),u(411,"TestCase"),f(),u(412," attribute.\n"),f(),h(413,"pre"),g(414,"code",6),f(),h(415,"p"),u(416," This runs in total 4 test cases and Unity Test Runner looks like this:\n"),f(),h(417,"figure"),g(418,"img",19),h(419,"figcaption"),u(420," Unity Test Runner: tests using "),h(421,"i"),u(422,"TestCase"),f(),u(423," attribute "),f(),f()),2&e&&(M(1),gt(i.post.seriesTitle),M(2),gt(i.post.title),M(3),zs("by Egill Antonsson, published on ",i.post.dateYear," ",i.post.dateMonth," ",i.post.dateDay,""),M(123),B("highlight",i.test_1_Red),M(60),B("highlight",i.test_1_Red2),M(20),B("highlight",i.impl_1_Green),M(52),B("highlight",i.code_1_Refactor),M(25),B("highlight",i.test_2_Red),M(44),B("highlight",i.impl_2_Green),M(23),B("highlight","new Health(0);"),M(14),B("highlight",i.impl_2_Refactor),M(47),B("highlight",i.test_3_Green))},directives:[kp],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})()},{path:"tdd-health/part4",component:(()=>{class n{constructor(e){this.blogService=e,this.test_1_Red="//HealthTest.cs\nusing NUnit.Framework;\nusing System;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[TestCase(12)]\n\t\t[TestCase(1)]\n\t\tpublic void CurrentPointsHasStartingValue(int startingPoints)\n\t\t{\n\t\t\tvar health = new Health(startingPoints);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n\t\t}\n\n\t\t[TestCase(0)]\n\t\t[TestCase(-1)]\n\t\tpublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n\t\t{\n\t\t\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\t\tdelegate\n\t\t\t{\n\t\t\t\tnew Health(startingPoints);\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic class TakeDamage\n\t{\n\t\t[Test]\n\t\tpublic void CurrentPointsDecrease()\n\t\t{\n\t\t\tvar health = new Health(11);\n\t\t\thealth.TakeDamage(1);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(10));\n\t\t}\n\t}\n}\n",this.impl_1_Green="//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tint lowestValidValue = 1;\n\t\tif (startingPoints < lowestValidValue)\n\t\t{\n\t\t\tvar paramName = nameof(startingPoints);\n\t\t\tvar message = $\"Value '{startingPoints}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t\tCurrentPoints = startingPoints;\n\t}\n\n\tpublic void TakeDamage(int damagePoints)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n}\n",this.test_2_Red="//HealthTest.cs (only showing the new test)\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\tdelegate\n\t{\n\t\thealth.TakeDamage(damagePoints);\n\t});\n}\n",this.impl_2_Green="//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tint lowestValidValue = 1;\n\t\tif (startingPoints < lowestValidValue)\n\t\t{\n\t\t\tvar paramName = nameof(startingPoints);\n\t\t\tvar message = $\"Value '{startingPoints}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t\tCurrentPoints = startingPoints;\n\t}\n\n\tpublic void TakeDamage(int damagePoints)\n\t{\n\t\tint lowestValidValue = 1;\n\t\tif (damagePoints < lowestValidValue)\n\t\t{\n\t\t\tvar paramName = nameof(damagePoints);\n\t\t\tvar message = $\"Value '{damagePoints}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t\tCurrentPoints -= damagePoints;\n\t}\n}\n",this.impl_2_Refactor="//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1, nameof(startingPoints));\n\t\tCurrentPoints = startingPoints;\n\t}\n\n\tpublic void TakeDamage(int damagePoints)\n\t{\n\t\tValidatePoints(damagePoints, 1, nameof(damagePoints));\n\t\tCurrentPoints -= damagePoints;\n\t}\n\n\tprivate void ValidatePoints(int points, int lowestValidValue, string paramName)\n\t{\n\t\tif (points < lowestValidValue)\n\t\t{\n\t\t\tvar message = $\"Value '{points}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t}\n}\n",this.test_final="//HealthTest.cs\nusing NUnit.Framework;\nusing System;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[TestCase(12)]\n\t\t[TestCase(1)]\n\t\tpublic void CurrentPointsHasStartingValue(int startingPoints)\n\t\t{\n\t\t\tvar health = new Health(startingPoints);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n\t\t}\n\n\t\t[TestCase(0)]\n\t\t[TestCase(-1)]\n\t\tpublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n\t\t{\n\t\t\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\t\tdelegate\n\t\t\t{\n\t\t\t\tnew Health(startingPoints);\n\t\t\t});\n\t\t}\n\t}\n\n\tpublic class TakeDamage\n\t{\n\t\t[Test]\n\t\tpublic void CurrentPointsDecrease()\n\t\t{\n\t\t\tvar health = new Health(11);\n\t\t\thealth.TakeDamage(1);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(10));\n\t\t}\n\n\t\t[TestCase(0)]\n\t\t[TestCase(-1)]\n\t\tpublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n\t\t{\n\t\t\tvar health = new Health(12);\n\t\t\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\t\tdelegate\n\t\t\t{\n\t\t\t\thealth.TakeDamage(damagePoints);\n\t\t\t});\n\t\t}\n\t}\n}\n",this.post=this.blogService.selectedPost}}return n.\u0275fac=function(e){return new(e||n)(C(mo))},n.\u0275cmp=Gt({type:n,selectors:[["app-post-tdd-4"]],decls:233,vars:11,consts:[[1,"byAndDate"],["href","./blog/tdd-health/part2"],[1,"list"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],[1,"code"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"]],template:function(e,i){1&e&&(h(0,"h1"),u(1),f(),h(2,"h2"),u(3),f(),h(4,"div",0),h(5,"small"),u(6),f(),f(),h(7,"h2"),u(8,"The first Taking Damage requirement"),f(),h(9,"p"),u(10," Let's recap the first requirement under "),h(11,"i"),u(12,"Taking Damage and Dying"),f(),u(13," from the user perspective"),g(14,"br"),u(15," (whole "),h(16,"i"),u(17,"Life Gauge behavior"),f(),u(18," list is in "),h(19,"a",1),u(20,"Part 2"),f(),u(21,"):\n"),f(),h(22,"ul",2),h(23,"li"),u(24,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),g(25,"br"),u(26," equal to the damage points taken (always losing at least 1 fraction)"),f(),f(),h(27,"p"),u(28," Let's tweak this to focus on our current domain model ("),h(29,"code"),u(30,"Health"),f(),u(31," class):\n"),f(),h(32,"ul",2),h(33,"li"),u(34,"Avatar will lose Health "),h(35,"code"),u(36,"CurrentPoints"),f(),u(37," equal to Damage Points taken (always losing at last 1 Health Point)"),f(),f(),h(38,"h2"),u(39,"TDD cycling"),f(),h(40,"h3"),h(41,"span",3),u(42,"RED"),f(),f(),h(43,"p"),u(44," I start by writing the test."),g(45,"br"),u(46," The domain model focus will be a new method named "),h(47,"code"),u(48,"TakeDamage"),f(),u(49,","),g(50,"br"),u(51," thus I write nested class with same name at the bottom,"),g(52,"br"),u(53," and within it I write the test case "),h(54,"code"),u(55,"CurrentPointsDecrease"),f(),u(56," (I elaborate on my naming convention in "),h(57,"a",4),u(58,"Part 3"),f(),u(59,"),"),g(60,"br"),u(61," that fails as the code does not compile ("),h(62,"code"),u(63,"TakeDamage"),f(),u(64," not yet written).\n"),f(),h(65,"pre"),g(66,"code",5),f(),h(67,"p"),u(68," Just to test not always the same starting value, I use "),h(69,"code"),u(70,"11"),f(),u(71," here (instead of "),h(72,"code"),u(73,"12"),f(),u(74,").\n"),f(),h(75,"h3"),h(76,"span",6),u(77,"GREEN"),f(),u(78," -> "),h(79,"span",7),u(80,"REFACTOR"),f(),f(),h(81,"p"),u(82,"Let's make the test pass with a simple implementation of "),h(83,"code"),u(84,"TakeDamage"),f(),u(85,".\n"),f(),h(86,"pre"),g(87,"code",5),f(),h(88,"p"),u(89," I'm confident that the implementation is the proper generic solution for this requirement,"),g(90,"br"),u(91," and it was also easy to come up with, and thus does not need additional steps to generalize."),g(92,"br"),g(93,"br"),u(94," I feel that no other refactoring is needed in this cycle,"),g(95,"br"),u(96," but I notice that invalid values can be passed in for "),h(97,"code"),u(98,"damagePoints"),f(),u(99," parameter,"),g(100,"br"),u(101," so let's do a cycle for that.\n"),f(),h(102,"h2"),u(103,"Handle invalid "),h(104,"span",8),u(105,"damagePoints"),f(),u(106," values"),f(),h(107,"h3"),h(108,"span",3),u(109,"RED"),f(),f(),h(110,"p"),u(111," I start by writing the test."),g(112,"br"),u(113," A minus value for "),h(114,"code"),u(115,"damagePoints"),f(),u(116," is clearly invalid but what about "),h(117,"code"),u(118,"0"),f(),u(119," ?"),g(120,"br"),u(121," I conclude that "),h(122,"code"),u(123,"0"),f(),u(124," is also invalid,"),g(125,"br"),u(126," as an outside 'damage checker and calculator' logic should take care of this earlier"),g(127,"br"),u(128," and not process further when "),h(129,"code"),u(130,"damagePoints"),f(),u(131," is "),h(132,"code"),u(133,"0"),f(),u(134," or less (thus "),h(135,"code"),u(136,"TakeDamage won't be called)"),f(),u(137,"."),g(138,"br"),u(139," This also makes the design streamlined as it ensures that"),g(140,"br"),h(141,"code"),u(142,"CurrentPoints"),f(),u(143," will always decrease on "),h(144,"code"),u(145,"TakeDamage"),f(),u(146," call."),g(147,"br"),g(148,"br"),u(149," This will be similar test to the existing "),h(150,"code"),u(151,"ThrowsError_WhenStartingPointsIsInvalid"),f(),u(152," test"),g(153,"br"),u(154," but now the "),h(155,"i"),u(156,"entry point"),f(),u(157," is method "),h(158,"code"),u(159,"TakeDamage"),f(),u(160,","),g(161,"br"),u(162," and thus it will be inside nested class "),h(163,"code"),u(164,"TakeDamage."),f(),f(),h(165,"pre"),g(166,"code",5),f(),h(167,"p"),u(168," The number I pass into the constructor does not matter to this test, and thus is not a "),h(169,"i"),u(170,"TestCase"),f(),u(171," parameter.\n"),f(),h(172,"h3"),h(173,"span",6),u(174,"GREEN"),f(),f(),h(175,"p"),u(176,"Let's make the test pass with a simple implementation."),g(177,"br"),u(178," I duplicate the exception throwing code from the constructor and simply fix the parameter to "),h(179,"code"),u(180,"damagePoints"),f(),u(181,"."),g(182,"br"),u(183," (knowing that I'll refactor this code smell right away in the next step).\n"),f(),h(184,"pre"),g(185,"code",5),f(),h(186,"h3"),h(187,"span",7),u(188,"REFACTOR"),f(),f(),h(189,"p"),u(190," I refactor the duplicated code smell away,"),g(191,"br"),u(192," and I run all the tests as needed during it, to verify I haven't broken anything."),g(193,"br"),u(194," After some time the implementation feels fully refactored for the requirements:\n"),f(),h(195,"pre"),g(196,"code",5),f(),h(197,"p"),u(198," Having "),h(199,"code"),u(200,"lowestValidValue"),f(),u(201," as sent in parameter for method "),h(202,"code"),u(203,"ValidatePoints"),f(),g(204,"br"),u(205," makes the method easy to reuse, if another case comes later with different "),h(206,"code"),u(207,"lowestValidValue"),f(),u(208,"."),g(209,"br"),g(210,"br"),u(211," I run the tests in the end to verify everything works."),g(212,"br"),u(213," Below is the whole "),h(214,"code"),u(215,"HealthTest.cs"),f(),u(216,", along showing last run in the Test Runner:\n"),f(),h(217,"pre"),g(218,"code",5),f(),h(219,"figure"),g(220,"img",9),h(221,"figcaption"),u(222," Unity Test Runner: after refactoring 'ThrowsError' implementation "),f(),f(),h(223,"h2"),u(224,"Concluding this part"),f(),h(225,"p"),u(226,"This concludes these requirements and this part."),g(227,"br"),u(228," The code and Unity project is in this "),h(229,"a",10),u(230,"GitHub repo"),f(),g(231,"br"),u(232," I aim to continue with the requirements and the implementation in later blog posts.\n"),f()),2&e&&(M(1),gt(i.post.seriesTitle),M(2),gt(i.post.title),M(3),zs("by Egill Antonsson, published on ",i.post.dateYear," ",i.post.dateMonth," ",i.post.dateDay,""),M(60),B("highlight",i.test_1_Red),M(21),B("highlight",i.impl_1_Green),M(79),B("highlight",i.test_2_Red),M(19),B("highlight",i.impl_2_Green),M(11),B("highlight",i.impl_2_Refactor),M(22),B("highlight",i.test_final))},directives:[kp],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})()},{path:"tdd-health/part5",component:(()=>{class n{constructor(e){this.blogService=e,this.test_1_red="//HealthTest.cs\nusing NUnit.Framework;\nusing System;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[TestCase(12)]\n\t\t[TestCase(1)]\n\t\tpublic void CurrentPointsHasStartingValue(int startingPoints)\n\t\t{\n\t\t\tvar health = new Health(startingPoints);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n\t\t}\n\n\t\t[TestCase(0)]\n\t\t[TestCase(-1)]\n\t\tpublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n\t\t{\n\t\t\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\t\tdelegate\n\t\t\t{\n\t\t\t\tnew Health(startingPoints);\n\t\t\t});\n\t\t}\n\n\t\t[Test]\n\t\tpublic void IsDeadIsFalse()\n\t\t{\n\t\t\tvar health = new Health(12);\n\t\t\tAssert.That(health.IsDead, Is.False);\n\t\t}\n\t}\n\n\tpublic class TakeDamage\n\t{\n\t\t[Test]\n\t\tpublic void CurrentPointsDecrease()\n\t\t{\n\t\t\tvar health = new Health(12);\n\t\t\thealth.TakeDamage(1);\n\t\t\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n\t\t}\n\n\t\t[TestCase(0)]\n\t\t[TestCase(-1)]\n\t\tpublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n\t\t{\n\t\t\tvar health = new Health(12);\n\t\t\tAssert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\t\tdelegate\n\t\t\t{\n\t\t\t\thealth.TakeDamage(damagePoints);\n\t\t\t});\n\t\t}\n\t}\n}\n",this.impl_1_green="//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic bool IsDead => false;\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1, nameof(startingPoints));\n\t\tCurrentPoints = startingPoints;\n\t}\n\n\tpublic void TakeDamage(int damagePoints)\n\t{\n\t\tValidatePoints(damagePoints, 1, nameof(damagePoints));\n\t\tCurrentPoints -= damagePoints;\n\t}\n\n\tprivate void ValidatePoints(int points, int lowestValidValue, string paramName)\n\t{\n\t\tif (points < lowestValidValue)\n\t\t{\n\t\t\tvar message = $\"Value '{points}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t}\n}\n",this.test_2_red="//HealthTest.cs (only showing the new test)\n[Test]\npublic void IsDead_InTwoTakeDamageCalls()\n{\n\tvar health = new Health(10);\n\thealth.TakeDamage(9);\n\tAssert.That(health.IsDead, Is.False);\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="//Health.cs (only showing the new implementation)\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="//HealthTest.cs (only showing the new test inside nested Constructor class)\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPointsHasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="//Health.cs\nusing System;\n\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\tpublic bool IsDead => CurrentPoints < 1;\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1, nameof(startingPoints));\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n\n\tpublic void TakeDamage(int damagePoints)\n\t{\n\t\tValidatePoints(damagePoints, 1, nameof(damagePoints));\n\n\t\tif (CurrentPoints < FullPoints || CurrentPoints > damagePoints || damagePoints > CurrentPoints + 20)\n\t\t{\n\t\t\tCurrentPoints -= damagePoints;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tCurrentPoints = 1;\n\t\t}\n\t}\n\n\tprivate void ValidatePoints(int points, int lowestValidValue, string paramName)\n\t{\n\t\tif (points < lowestValidValue)\n\t\t{\n\t\t\tvar message = $\"Value '{points}' is invalid, it should be equal or higher than '{lowestValidValue}'\";\n\t\t\tthrow new ArgumentOutOfRangeException(paramName, message);\n\t\t}\n\t}\n}\n",this.test_4_red="//HealthTest.cs (only showing the new test inside nested TakeDamage)\n[TestCase(1, 2, 2)]\n[TestCase(1, 2, 3)]\n[TestCase(1, 2, 22)]\n[TestCase(-21, 2, 23)]\npublic void CurrentPoints_WhenStartingPoints_andDamagePoints(int currentPoints, int startingPoints, int damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.post=this.blogService.selectedPost}}return n.\u0275fac=function(e){return new(e||n)(C(mo))},n.\u0275cmp=Gt({type:n,selectors:[["app-post-tdd-5"]],decls:293,vars:12,consts:[[1,"byAndDate"],["href","./blog/tdd-health/part2"],[1,"list"],[1,"noBulletinPoint"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],[1,"list","inline"],["src","../assets/images/blog/tdd/TestRunner_tests-protected-death.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity/tree/rest-of-damage-requirements--part-5/Assets/Scripts"]],template:function(e,i){1&e&&(h(0,"h1"),u(1),f(),h(2,"h2"),u(3),f(),h(4,"div",0),h(5,"small"),u(6),f(),f(),h(7,"h2"),u(8,"The Dying requirements"),f(),h(9,"p"),u(10," Let's recap the rest of the requirements (2nd and 3rd) under "),h(11,"i"),u(12,"Taking Damage and Dying"),f(),u(13," from the user perspective"),g(14,"br"),u(15," (whole "),h(16,"i"),u(17,"Life Gauge behavior"),f(),u(18," list is in "),h(19,"a",1),u(20,"Part 2"),f(),u(21,"):\n"),f(),h(22,"ul",2),h(23,"li",3),h(24,"b"),u(25,"Taking Damage and Dying"),f(),f(),h(26,"li"),u(27,"When Link loses all of his Hearts the game ends"),f(),h(28,"li"),u(29,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),g(30,"br"),u(31," and will instead be left alive with Hearth 1 fraction remaining"),f(),h(32,"ul"),h(33,"li"),u(34,"However, if the damage is more than five Hearts above his full Life Gauge, he will still die"),f(),f(),f(),h(35,"p"),u(36," Let's tweak this to focus on our current domain model ("),h(37,"code"),u(38,"Health"),f(),u(39," class):\n"),f(),h(40,"ul",2),h(41,"li"),u(42,"When Avatar loses all of his Health "),h(43,"code"),u(44,"CurrentPoints"),f(),u(45," he dies (and game ends)"),f(),h(46,"li"),u(47,"The Avatar is protected from any damage that would instantly kill him as long as his Health "),h(48,"code"),u(49,"CurrentPoints"),f(),u(50," are full"),g(51,"br"),u(52," and will instead be left alive with 1 Health "),h(53,"code"),u(54,"CurrentPoints"),f(),u(55," remaining"),f(),h(56,"ul"),h(57,"li"),u(58,"However, if the damage is more than 20 "),h(59,"code"),u(60,"damagePoints"),f(),u(61," above his full Health "),h(62,"code"),u(63,"CurrentPoints"),f(),u(64,", he will still die"),f(),f(),f(),h(65,"h2"),u(66,"Die TDD cycling"),f(),h(67,"h3"),h(68,"span",4),u(69,"RED"),f(),f(),h(70,"p"),u(71," I start by writing the test."),g(72,"br"),u(73," The domain model focus will be a new property named "),h(74,"code"),u(75,"IsDead"),f(),u(76,","),g(77,"br"),u(78," Thus the write a new test case "),h(79,"code"),u(80,"IsDeadIsFalse"),f(),u(81," inside the nested "),h(82,"code"),u(83,"Constructor"),f(),u(84," class."),g(85,"br"),u(86," This test fails as the code does not compile ("),h(87,"code"),u(88,"IsDead"),f(),u(89," not yet written).\n"),f(),h(90,"pre"),g(91,"code",5),f(),h(92,"h3"),h(93,"span",6),u(94,"GREEN"),f(),u(95," and "),h(96,"span",7),u(97,"REFACTOR"),f(),f(),h(98,"p"),u(99,"Let's make the test pass with simple implementation of "),h(100,"code"),u(101,"IsDead"),f(),u(102,".\n"),f(),h(103,"pre"),g(104,"code",5),f(),h(105,"p"),u(106," I make "),h(107,"code"),u(108,"IsDead"),f(),u(109," simply return "),h(110,"code"),u(111,"false"),f(),u(112," and that makes the test pass."),g(113,"br"),u(114," I made it a readonly getter to fully encapsulate it, so it can not be set from the outside code (the implicit REFACTOR step)."),g(115,"br"),u(116," I know that simply returning "),h(117,"code"),u(118,"false"),f(),u(119," for "),h(120,"code"),u(121,"IsDead"),f(),g(122,"br"),u(123," will not hold as the generalized solution that satisfies all the requirements,"),g(124,"br"),u(125," but I'll start a new cycle to achieve that."),g(126,"br"),f(),h(127,"h3"),h(128,"span",4),u(129,"RED"),f(),f(),h(130,"p"),u(131," Still Focusing on the dying requirement, but also having the 'protected from instant kill' case in mind,"),g(132,"br"),u(133," I'll write a test case that reduces the "),h(134,"code"),u(135,"CurrentPoints"),f(),u(136," to "),h(137,"code"),u(138,"0"),f(),u(139," in two "),h(140,"code"),u(141,"TakeDamage"),f(),u(142," calls,"),g(143,"br"),u(144," as I know that that case should always kill the Avatar.\n"),f(),h(145,"pre"),g(146,"code",5),f(),h(147,"p"),u(148," The test fails currently as I've made the Avatar immortal!"),g(149,"br"),u(150," Of course that's no good, so let's fix that and make the test pass.\n"),f(),h(151,"h3"),h(152,"span",6),u(153,"GREEN"),f(),u(154," and "),h(155,"span",7),u(156,"REFACTOR"),f(),f(),h(157,"p"),u(158," I change the implementation change of the "),h(159,"code"),u(160,"IsDead"),f(),u(161," property that makes the test (and all tests) pass."),g(162,"br"),u(163," I'm confident that now I have the generic solution for this property,"),g(164,"br"),u(165," and I feel no refactoring needs to be done,"),g(166,"br"),u(167," thus I'll start a new cycle for the 'protected from instant kill' requirement.\n"),f(),h(168,"pre"),g(169,"code",5),f(),h(170,"h2"),u(171,"The Protected Requirement"),f(),h(172,"p"),u(173," Now it's time to take a close look the below requirement and write tests for it.\n"),f(),h(174,"ul",8),h(175,"li"),u(176,"The Avatar is protected from any damage that would instantly kill him as long as his Health "),h(177,"code"),u(178,"CurrentPoints"),f(),u(179," are full"),g(180,"br"),u(181," and will instead be left alive with 1 Health "),h(182,"code"),u(183,"CurrentPoints"),f(),u(184," remaining"),f(),h(185,"ul"),h(186,"li"),u(187,"However, if the damage is more than 20 "),h(188,"code"),u(189,"damagePoints"),f(),u(190," above his full Health "),h(191,"code"),u(192,"CurrentPoints"),f(),u(193,", he will still die"),f(),f(),f(),h(194,"p"),u(195," I take further note of the concept of 'full Health' in the requirement"),g(196,"br"),u(197," and realize that it's an implementation that the requirement needs, so I start cycling it.\n"),f(),h(198,"h2"),u(199,"TDD cycling Full Health"),f(),h(200,"h3"),h(201,"span",4),u(202,"RED"),f(),f(),h(203,"pre"),g(204,"code",5),f(),h(205,"p"),u(206," This test fails as the code does not compile ("),h(207,"code"),u(208,"FullPoints"),f(),u(209," is not yet written)."),g(210,"br"),u(211," The test is very similar to the existing test "),h(212,"code"),u(213,"CurrentPointsHasStartingValue"),f(),u(214," but it's testing a different output,"),g(215,"br"),u(216," and thus the duplication is justified.\n"),f(),h(217,"h3"),h(218,"span",6),u(219,"GREEN"),f(),u(220," and "),h(221,"span",7),u(222,"REFACTOR"),f(),f(),h(223,"pre"),g(224,"code",5),f(),h(225,"p"),u(226," I made "),h(227,"code"),u(228,"FullPoints"),f(),u(229," a readonly getter to fully encapsulate it (the implicit REFACTOR step),"),g(230,"br"),u(231," and set "),h(232,"code"),u(233,"FullPoints"),f(),u(234," to the value of passed-in parameter "),h(235,"code"),u(236,"startingPoints"),f(),u(237," (same as for "),h(238,"code"),u(239,"CurrentPoints"),f(),u(240,")."),g(241,"br"),u(242," I'm confident that I this is generic solution for this property (at least for now),"),g(243,"br"),u(244," and I feel no refactoring needs to be done,"),g(245,"br"),u(246," thus I'll start a new cycle."),g(247,"br"),f(),h(248,"h2"),u(249,"The Protected Test Cases"),f(),h(250,"h3"),h(251,"span",4),u(252,"RED"),f(),f(),h(253,"pre"),g(254,"code",5),f(),h(255,"p"),u(256," I focus on the output of "),h(257,"code"),u(258,"CurrentPoints"),f(),u(259," as the 'protected from instant kill' case should leave the value at "),h(260,"code"),u(261,"1"),f(),u(262,"."),g(263,"br"),u(264," The last "),h(265,"code"),u(266,"TestCase"),f(),u(267," tests the 'exception': when the damage is so much that it kills the Avatar regardless."),g(268,"br"),u(269," The test run is shown below.\n"),f(),h(270,"figure"),g(271,"img",9),h(272,"figcaption"),u(273," Unity Test Runner: test cases for 'protected from instant kill' "),f(),f(),h(274,"h2"),u(275,"Experience the value of TDD"),f(),h(276,"p"),u(277," Now we are at the point that we have enough tests to make sure the implementation will be correct by passing them all."),g(278,"br"),u(279," It took me a couple of tries where at first I thought I had it correct,"),g(280,"br"),u(281," but running the tests proved that I broke some of them (not always the last written test above)."),g(282,"br"),u(283," I'll intentionally stop here, and encourage you to implement the solution so that all tests passes to experience the value of TDD,"),g(284,"br"),u(285," and feel free to send in a comment below with the solution."),g(286,"br"),u(287," You can get the code up to this point on "),h(288,"a",10),u(289,"GitHub"),f(),u(290,"."),g(291,"br"),u(292," After couple of weeks I aim write a new blog post with the solution and carry on, so stay tuned :)\n"),f()),2&e&&(M(1),gt(i.post.seriesTitle),M(2),gt(i.post.title),M(3),zs("by Egill Antonsson, published on ",i.post.dateYear," ",i.post.dateMonth," ",i.post.dateDay,""),M(85),B("highlight",i.test_1_red),M(13),B("highlight",i.impl_1_green),M(42),B("highlight",i.test_2_red),M(23),B("highlight",i.impl_2_green),M(35),B("highlight",i.test_3_red),M(20),B("highlight",i.impl_3_green),M(30),B("highlight",i.test_4_red))},directives:[kp],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]}),n})()}]},{path:"music",component:B2},{path:"lifting",component:v2},{path:"**",component:H2}];let Op,iV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[[GE.forRoot(nV,{enableTracing:!1,relativeLinkResolution:"legacy"})],GE]}),n})(),fD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({}),n})();try{Op="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Op=!1}let uc=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Dw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Op)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(k(ao))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({}),n})();function Rp(n,t){return e=>e.lift(new wV(n,t))}class wV{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new EV(t,this.compare,this.keySelector))}}class EV extends ke{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:s}=this;e=s?s(t):t}catch(s){return this.destination.error(s)}let i=!1;if(this.hasKey)try{const{compare:s}=this;i=s(this.key,e)}catch(s){return this.destination.error(s)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}const ED="cdk-high-contrast-black-on-white",CD="cdk-high-contrast-white-on-black",Np="cdk-high-contrast-active";let BV=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(e):null,r=(s&&s.backgroundColor||"").replace(/ /g,"");switch(e.remove(),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Np),e.remove(ED),e.remove(CD),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Np),e.add(ED)):2===i&&(e.add(Np),e.add(CD))}}}return n.\u0275fac=function(e){return new(e||n)(k(uc),k(lt))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ID(){return"undefined"!=typeof window&&void 0!==window.document}function Fp(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}let Up=(n,t)=>!1,xD=(n,t,e)=>[];(Fp()||"undefined"!=typeof Element)&&(Up=ID()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),xD=(n,t,e)=>{let i=[];if(e){const s=n.querySelectorAll(t);for(let r=0;r<s.length;r++)i.push(s[r])}else{const s=n.querySelector(t);s&&i.push(s)}return i});const f3=new Y("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ic=(()=>{class n{constructor(e,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!("undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(k(BV),k(f3,8),k(lt))},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[[fD],fD]}),n})(),T0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[[Ic,lV],Ic]}),n})(),I3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[[Ic,T0],Ic]}),n})();const k3=new ls(dD),k0={leading:!0,trailing:!1};function kc(n,t=k3,e=k0){return i=>i.lift(new P3(n,t,e.leading,e.trailing))}class P3{constructor(t,e,i,s){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=s}call(t,e){return e.subscribe(new R3(t,this.duration,this.scheduler,this.leading,this.trailing))}}class R3 extends ke{constructor(t,e,i,s,r){super(t),this.duration=e,this.scheduler=i,this.leading=s,this.trailing=r,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(N3,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function N3(n){const{subscriber:t}=n;t.clearThrottle()}var O0=vt(8089);const L3=["tooltipTemplate"],F3=["leftOuterSelectionBar"],V3=["rightOuterSelectionBar"],B3=["fullBar"],H3=["selectionBar"],U3=["minHandle"],j3=["maxHandle"],$3=["floorLabel"],G3=["ceilLabel"],q3=["minHandleLabel"],W3=["maxHandleLabel"],z3=["combinedLabel"],K3=["ticksElement"];function Q3(n,t){if(1&n&&g(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=Ge().$implicit;B("template",Ge().tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function Y3(n,t){1&n&&g(0,"span",32),2&n&&B("innerHTML",Ge().$implicit.legend,Im)}const Z3=function(n){return{"ngx-slider-selected":n}};function J3(n,t){if(1&n&&(h(0,"span",27),g(1,"ngx-slider-tooltip-wrapper",28),$e(2,Q3,1,4,"ngx-slider-tooltip-wrapper",29),$e(3,Y3,1,1,"span",30),f()),2&n){const e=t.$implicit,i=Ge();B("ngClass",ma(7,Z3,e.selected))("ngStyle",e.style),M(1),B("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),M(1),B("ngIf",null!=e.value),M(1),B("ngIf",null!=e.legend)}}function X3(n,t){}function eH(n,t){1&n&&$e(0,X3,0,0,"ng-template")}const tH=function(n,t,e){return{tooltip:n,placement:t,content:e}};function nH(n,t){if(1&n&&(Ql(0),$e(1,eH,1,0,void 0,1),Yl()),2&n){const e=Ge();M(1),B("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Ph(2,tH,e.tooltip,e.placement,e.content))}}function iH(n,t){if(1&n&&(Ql(0),h(1,"div",2),u(2),f(),Yl()),2&n){const e=Ge();M(1),nn("title",e.tooltip)("data-tooltip-placement",e.placement),M(1),Zi(" ",e.content," ")}}const Ht={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Ht[Ht.Low]="Low",Ht[Ht.High]="High",Ht[Ht.Floor]="Floor",Ht[Ht.Ceil]="Ceil",Ht[Ht.TickValue]="TickValue";class Oc{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const j={Min:0,Max:1};j[j.Min]="Min",j[j.Max]="Max";class sH{}class S{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(r=>Math.abs(t-r.value));let s=0;for(let r=0;r<e.length;r++)i[r]!==i[s]&&i[r]<i[s]&&(s=r);return s}}class Ns{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Tt{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const s=Math.pow(10,-i);return Math.abs(t%e)<=s||Math.abs(Math.abs(t%e)-e)<=s}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class x0{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class P0{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,s){if(!0!==O0.Z.hasSupport)return this.attachEventListener(t,e,i,s);const r=new x0;r.eventName=e,r.events=new F;const o=a=>{r.events.next(a)};return t.addEventListener(e,o,{passive:!0,capture:!1}),r.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},r.eventsSubscription=r.events.pipe(S.isNullOrUndefined(s)?ct(()=>{}):kc(s,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),r}detachEventListener(t){S.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),S.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),S.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,s){const r=new x0;return r.eventName=e,r.events=new F,r.teardownCallback=this.renderer.listen(t,e,a=>{r.events.next(a)}),r.eventsSubscription=r.events.pipe(S.isNullOrUndefined(s)?ct(()=>{}):kc(s,void 0,{leading:!0,trailing:!0})).subscribe(a=>{i(a)}),r}}let Ls=(()=>{class n{constructor(e,i,s){this.elemRef=e,this.renderer=i,this.changeDetectionRef=s,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new P0(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,s){const r=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,s);this.eventListeners.push(r)}onPassive(e,i,s){const r=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,s);this.eventListeners.push(r)}off(e){let i,s;S.isNullOrUndefined(e)?(i=[],s=this.eventListeners):(i=this.eventListeners.filter(r=>r.eventName!==e),s=this.eventListeners.filter(r=>r.eventName===e));for(const r of s)this.eventListenerHelper.detachEventListener(r);this.eventListeners=i}isRefDestroyed(){return S.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(C(Ct),C(xn),C(Li))},n.\u0275dir=ee({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(e,i){2&e&&Zl("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),pg=(()=>{class n extends Ls{constructor(e,i,s){super(e,i,s),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(C(Ct),C(xn),C(Li))},n.\u0275dir=ee({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(nn("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),On("ngx-slider-active",i.active))},features:[Be]}),n})(),So=(()=>{class n extends Ls{constructor(e,i,s){super(e,i,s),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(S.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(C(Ct),C(xn),C(Li))},n.\u0275dir=ee({type:n,selectors:[["","ngxSliderLabel",""]],features:[Be]}),n})();class rH{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class R0{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class xc{static compare(t,e){return!(S.isNullOrUndefined(t)&&S.isNullOrUndefined(e)||S.isNullOrUndefined(t)!==S.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class N0 extends xc{static compare(t,e){return!(S.isNullOrUndefined(t)&&S.isNullOrUndefined(e)||S.isNullOrUndefined(t)!==S.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const oH={provide:Xn,useExisting:Ue(()=>L0),multi:!0};let L0=(()=>{class n{constructor(e,i,s,r){this.renderer=e,this.elementRef=i,this.changeDetectionRef=s,this.zone=r,this.value=null,this.valueChange=new Ne,this.highValue=null,this.highValueChange=new Ne,this.options=new Oc,this.userChangeStart=new Ne,this.userChange=new Ne,this.userChangeEnd=new Ne,this.initHasRun=!1,this.inputModelChangeSubject=new F,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new F,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Oc,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new R0,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new P0(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!S.isNullOrUndefined(this.value)&&!S.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Oc,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){S.isNullOrUndefined(e.options)||this.onChangeOptions(),(!S.isNullOrUndefined(e.value)||!S.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(e){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(Rp(N0.compare),Rn(i=>!i.forceChange&&!i.internalChange),S.isNullOrUndefined(e)?ct(()=>{}):kc(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(e){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(Rp(N0.compare),S.isNullOrUndefined(e)?ct(()=>{}):kc(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Ns.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Ns.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){S.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){S.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){S.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){S.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){S.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){S.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===j.Min?this.minHandleElement:e===j.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===j.Min?this.viewLowValue:this.currentTrackingPointer===j.Max?this.viewHighValue:null}modelValueToViewValue(e){return S.isNullOrUndefined(e)?NaN:S.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:S.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return S.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return S.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),s=!xc.compare(e,i);s&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:s,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),S.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),S.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new xc;if(i.value=e.value,i.highValue=e.highValue,!S.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const s=S.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[s].value,this.range){const r=S.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[r].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Tt.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Tt.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const s=e.value;i.value=e.highValue,i.highValue=s}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);xc.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,s=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const r=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!S.areArraysEqual(s,r);e!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new Oc,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!S.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!S.isNullOrUndefined(this.viewOptions.tickStep)||!S.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!S.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),S.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),S.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,S.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(S.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),S.isNullOrUndefined(this.viewOptions.ceil)||S.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,S.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==j.Min&&e!==j.Max&&(e=j.Min),e===j.Min?this.minHandleElement.focus():this.range&&e===j.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){S.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())S.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",S.isNullOrUndefined(this.viewOptions.ariaLabel)?S.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",S.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?S.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Ht.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Ht.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){S.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,S.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=S.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const s=S.isNullOrUndefined(this.viewOptions.tickValueStep)?S.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let r=!1;const o=e.map(a=>{let l=this.valueToPosition(a);this.viewOptions.vertical&&(l=this.maxHandlePosition-l);const c=i+"("+Math.round(l)+"px)",d=new rH;d.selected=this.isTickSelected(a),d.style={"-webkit-transform":c,"-moz-transform":c,"-o-transform":c,"-ms-transform":c,transform:c},d.selected&&!S.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(d.style["background-color"]=this.getSelectionBarColor()),!d.selected&&!S.isNullOrUndefined(this.viewOptions.getTickColor)&&(d.style["background-color"]=this.getTickColor(a)),S.isNullOrUndefined(this.viewOptions.ticksTooltip)||(d.tooltip=this.viewOptions.ticksTooltip(a),d.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!S.isNullOrUndefined(s)&&Tt.isModuloWithinPrecisionLimit(a,s,this.viewOptions.precisionLimit)&&(d.value=this.getDisplayValue(a,Ht.TickValue),S.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(d.valueTooltip=this.viewOptions.ticksValuesTooltip(a),d.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let p=null;if(S.isNullOrUndefined(this.viewOptions.stepsArray))S.isNullOrUndefined(this.viewOptions.getLegend)||(p=this.viewOptions.getLegend(a));else{const m=this.viewOptions.stepsArray[a];S.isNullOrUndefined(m)||(p=m.legend)}return S.isNullOrUndefined(p)||(d.legend=p,r=!0),d});if(setTimeout(()=>{this.sliderElementWithLegendClass=r}),S.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let a=0;a<o.length;++a)Object.assign(this.ticks[a],o[a]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=S.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],s=1+Math.floor(Tt.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let r=0;r<s;++r)i.push(Tt.roundToPrecisionLimit(this.viewOptions.floor+e*r,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(S.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Ht.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Ht.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===j.Min?this.updateLowHandle(i):e===j.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const s=e===j.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,r=i-s/2+this.handleHalfDimension,o=this.fullBarElement.dimension-s;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===j.Min||!this.viewOptions.rightToLeft&&e===j.Max?Math.min(r,o):Math.min(Math.max(r,0),o):r}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Ht.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(j.Min,e)),S.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(j.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Ht.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(j.Max,e)),S.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(j.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const s=this.isLabelBelowFloorLabel(this.minHandleLabelElement),r=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),a=this.isLabelBelowFloorLabel(this.combinedLabelElement),l=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(s?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),r?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const c=this.combinedLabelElement.isVisible()?l:o,d=this.combinedLabelElement.isVisible()?a:s;c?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),d?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,r=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=r-2:i<=r+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,r=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=r+this.ceilLabelElement.dimension+2:i+e.dimension>=r-2}updateSelectionBar(){let e=0,i=0;const s=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,r=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=r;else if(S.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))s?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,a=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-a,e=a+this.handleHalfDimension):(i=a-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),S.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!S.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=S.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),a=o-e>0&&!s||o-e<=0&&s;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?a?"bottom":"top":a?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(a?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(a?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===j.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,Ht.Low),s=this.getDisplayValue(this.viewHighValue,Ht.High),r=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(s,i):this.viewOptions.combineLabels(i,s);this.combinedLabelElement.setValue(r);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!S.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const s=S.isNullOrUndefined(i)?this.viewOptions.step:i;let r=Tt.roundToPrecisionLimit((e-this.viewOptions.floor)/s,this.viewOptions.precisionLimit);return r=Math.round(r)*s,Tt.roundToPrecisionLimit(this.viewOptions.floor+r,this.viewOptions.precisionLimit)}valueToPosition(e){let i=S.linearValueToPosition;S.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=S.logValueToPosition):i=this.viewOptions.customValueToPosition;let s=i(e=Tt.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return S.isNullOrUndefined(s)&&(s=0),this.viewOptions.rightToLeft&&(s=1-s),s*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let s=S.linearPositionToValue;S.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(s=S.logPositionToValue):s=this.viewOptions.customPositionToValue;const r=s(i,this.viewOptions.floor,this.viewOptions.ceil);return S.isNullOrUndefined(r)?0:r}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical?e.clientY:e.clientX;let s=0;const r=e.touches;if(!S.isNullOrUndefined(i))for(let o=0;o<r.length;o++)if(r[o].identifier===i){s=o;break}return this.viewOptions.vertical?r[s].clientY:r[s].clientX}getEventPosition(e,i){const s=this.elementRef.nativeElement.getBoundingClientRect(),r=this.viewOptions.vertical?s.bottom:s.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(e,i)+r:this.getEventXY(e,i)-r,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return j.Min;const i=this.getEventPosition(e),s=Math.abs(i-this.minHandleElement.position),r=Math.abs(i-this.maxHandleElement.position);return s<r?j.Min:s>r?j.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?j.Min:j.Max:i<this.minHandleElement.position?j.Min:j.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(j.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(j.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(j.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(j.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(j.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(j.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(j.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(j.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(j.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(j.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())S.isNullOrUndefined(e)||e.off()}onBarStart(e,i,s,r,o,a,l){i?this.onDragStart(e,s,r,o):this.onStart(e,s,r,o,a,l)}onStart(e,i,s,r,o,a){i.stopPropagation(),(!Ns.isTouchEvent(i)||!O0.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),S.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const l=this.getPointerElement(e);if(l.active=!0,this.viewOptions.keyboardSupport&&l.focus(),s){this.unsubscribeOnMove();const c=d=>this.dragging.active?this.onDragMove(d):this.onMove(d);this.onMoveEventListener=Ns.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",c,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",c,this.viewOptions.mouseEventsInterval)}if(r){this.unsubscribeOnEnd();const c=d=>this.onEnd(d);this.onEndEventListener=Ns.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",c):this.eventListenerHelper.attachEventListener(document,"mouseup",c)}this.userChangeStart.emit(this.getChangeContext()),Ns.isTouchEvent(i)&&!S.isNullOrUndefined(i.changedTouches)&&S.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),a&&this.onEnd(i)}onMove(e,i){let s=null;if(Ns.isTouchEvent(e)){const c=e.changedTouches;for(let d=0;d<c.length;d++)if(c[d].identifier===this.touchId){s=c[d];break}if(S.isNullOrUndefined(s))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const r=S.isNullOrUndefined(s)?this.getEventPosition(e):this.getEventPosition(e,s.identifier);let o;r<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:r>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(r),o=i&&!S.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){Ns.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",s=>this.onKeyboardEvent(s)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,S.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let s=e+this.viewOptions.step,r=e-this.viewOptions.step,o=e+i/10,a=e-i/10;this.viewOptions.reversedControls&&(s=e-this.viewOptions.step,r=e+this.viewOptions.step,o=e-i/10,a=e+i/10);const l={UP:s,DOWN:r,LEFT:r,RIGHT:s,PAGEUP:o,PAGEDOWN:a,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(l.LEFT=s,l.RIGHT=r,this.viewOptions.vertical&&(l.UP=r,l.DOWN=s)),l}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),s=S.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,l=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[s]];if(S.isNullOrUndefined(l)||S.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const c=Tt.clampToRange(l,this.viewOptions.floor,this.viewOptions.ceil),d=this.roundStep(c);if(this.viewOptions.draggableRangeOnly){const p=this.viewHighValue-this.viewLowValue;let m,y;this.currentTrackingPointer===j.Min?(m=d,y=d+p,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,m=y-p)):this.currentTrackingPointer===j.Max&&(y=d,m=d-p,m<this.viewOptions.floor&&(m=this.viewOptions.floor,y=m+p)),this.positionTrackingBar(m,y)}else this.positionTrackingHandle(d)}onDragStart(e,i,s,r){const o=this.getEventPosition(i);this.dragging=new R0,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,s,r)}getMinValue(e,i,s){const r=this.viewOptions.rightToLeft;let o=null;return o=i?s?r?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:r?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(r?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,s){const r=this.viewOptions.rightToLeft;let o=null;return o=i?s?r?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:r?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:r?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let s,r,o,a;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(s=this.dragging.lowLimit,r=this.dragging.highLimit,o=this.maxHandleElement,a=this.minHandleElement):(s=this.dragging.highLimit,r=this.dragging.lowLimit,o=this.minHandleElement,a=this.maxHandleElement);const c=i>=this.maxHandlePosition-s;let d,p;if(i<=r){if(0===o.position)return;d=this.getMinValue(i,!0,!1),p=this.getMaxValue(i,!0,!1)}else if(c){if(a.position===this.maxHandlePosition)return;p=this.getMaxValue(i,!0,!0),d=this.getMinValue(i,!0,!0)}else d=this.getMinValue(i,!1,!1),p=this.getMaxValue(i,!1,!1);this.positionTrackingBar(d,p)}positionTrackingBar(e,i){!S.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=Tt.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!S.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=Tt.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(j.Min,this.valueToPosition(e)),this.updateHandles(j.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===j.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===j.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===j.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(j.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=j.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===j.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(j.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=j.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===j.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===j.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!S.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!S.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const s=Math.abs(e-(this.currentTrackingPointer===j.Min?this.viewHighValue:this.viewLowValue));if(!S.isNullOrUndefined(this.viewOptions.minRange)&&s<this.viewOptions.minRange){if(this.currentTrackingPointer===j.Min)return Tt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===j.Max)return Tt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!S.isNullOrUndefined(this.viewOptions.maxRange)&&s>this.viewOptions.maxRange){if(this.currentTrackingPointer===j.Min)return Tt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===j.Max)return Tt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===j.Min?this.viewHighValue-e:e-this.viewLowValue,s=S.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,r=this.viewOptions.maxRange;return i<s?(this.currentTrackingPointer===j.Min?(this.viewHighValue=Tt.roundToPrecisionLimit(Math.min(e+s,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=Tt.roundToPrecisionLimit(this.viewHighValue-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(j.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===j.Max&&(this.viewLowValue=Tt.roundToPrecisionLimit(Math.max(e-s,this.viewOptions.floor),this.viewOptions.precisionLimit),e=Tt.roundToPrecisionLimit(this.viewLowValue+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(j.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!S.isNullOrUndefined(r)&&i>r&&(this.currentTrackingPointer===j.Min?(this.viewHighValue=Tt.roundToPrecisionLimit(e+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(j.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===j.Max&&(this.viewLowValue=Tt.roundToPrecisionLimit(e-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(j.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new sH;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(C(xn),C(Ct),C(Li),C(tt))},n.\u0275cmp=Gt({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,s){if(1&e&&wa(s,L3,5),2&e){let r;yt(r=_t())&&(i.tooltipTemplate=r.first)}},viewQuery:function(e,i){if(1&e&&(zt(F3,5,Ls),zt(V3,5,Ls),zt(B3,5,Ls),zt(H3,5,Ls),zt(U3,5,pg),zt(j3,5,pg),zt($3,5,So),zt(G3,5,So),zt(q3,5,So),zt(W3,5,So),zt(z3,5,So),zt(K3,5,Ls)),2&e){let s;yt(s=_t())&&(i.leftOuterSelectionBarElement=s.first),yt(s=_t())&&(i.rightOuterSelectionBarElement=s.first),yt(s=_t())&&(i.fullBarElement=s.first),yt(s=_t())&&(i.selectionBarElement=s.first),yt(s=_t())&&(i.minHandleElement=s.first),yt(s=_t())&&(i.maxHandleElement=s.first),yt(s=_t())&&(i.floorLabelElement=s.first),yt(s=_t())&&(i.ceilLabelElement=s.first),yt(s=_t())&&(i.minHandleLabelElement=s.first),yt(s=_t())&&(i.maxHandleLabelElement=s.first),yt(s=_t())&&(i.combinedLabelElement=s.first),yt(s=_t())&&(i.ticksElement=s.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(e,i){1&e&&He("resize",function(r){return i.onResize(r)},!1,Vm),2&e&&(nn("disabled",i.sliderElementDisabledAttr),On("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[Je([oH]),ln],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(h(0,"span",0,1),g(2,"span",2),f(),h(3,"span",3,4),g(5,"span",2),f(),h(6,"span",5,6),g(8,"span",2),f(),h(9,"span",7,8),g(11,"span",9),f(),g(12,"span",10,11),g(14,"span",12,13),g(16,"span",14,15),g(18,"span",16,17),g(20,"span",18,19),g(22,"span",20,21),g(24,"span",22,23),h(26,"span",24,25),$e(28,J3,4,9,"span",26),f()),2&e&&(M(6),On("ngx-slider-transparent",i.fullBarTransparentClass),M(3),On("ngx-slider-draggable",i.selectionBarDraggableClass),M(2),B("ngStyle",i.barStyle),M(1),B("ngStyle",i.minPointerStyle),M(2),Zl("display",i.range?"inherit":"none"),B("ngStyle",i.maxPointerStyle),M(12),On("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),B("hidden",!i.showTicks),M(2),B("ngForOf",i.ticks))},directives:function(){return[Ls,_w,pg,So,Ia,Aa,aH,Zs]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),aH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=Gt({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&($e(0,nH,2,6,"ng-container",0),$e(1,iH,3,3,"ng-container",0)),2&e&&(B("ngIf",i.template),M(1),B("ngIf",!i.template))},directives:[Zs,vw],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),lH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n}),n.\u0275inj=It({imports:[[Ew]]}),n})();class uH extends Sp.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}const cH=function(n,t,e){return{playing:n,loading:t,stopped:e}},dH=function(n,t){return{shuffleOn:n,shuffleOff:t}},hH=function(n,t,e,i){return{mute:n,unmute:t,muteDisabled:e,unmuteDisabled:i}};let fH=(()=>{class n{constructor(e,i,s,r){this.musicService=e,this.soundManager=i,this.messageService=s,this.changeDetectorRef=r,this.label="MusicPlayer",this.masterMuted=!1,this._gainsDisabled=new uH(!1),this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=o=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,o?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.subscription=this.messageService.onMessage().subscribe(o=>{"Play"===o.type&&this.play()}),this.musicService.addInstanceEndedListener(`${this.label} endedListener`,(o,a)=>{o&&!a&&this.onNext()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(e){this.soundManager.instance.masterGain=e}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(e){return e<=.2?"#394A00":e<=.4?"#596A06":e<=.6?"#798A0A":e<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(e){return e<=.2?"#5D0800":e<=.4?"#7D2800":e<=.6?"#9D4800":e<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(e){return"#8B91A2"}onPlayStop(){"Loading"!==this.musicService.playState&&("Playing"===this.musicService.playState?this.musicService.stop():this.play())}onNext(){this.musicService.nextTrack(),this.play()}onShuffle(){this.musicService.toggleShuffle()}play(){this.musicService.play(this._gainsDisabled)}onMasterMuteChange(){this._gainsDisabled.value||(this.soundManager.instance.masterMuted=this.masterMuted=!this.masterMuted,this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors}))}}return n.\u0275fac=function(e){return new(e||n)(C(uD),C(Ap),C(cD),C(Li))},n.\u0275cmp=Gt({type:n,selectors:[["app-music-player"]],decls:16,vars:18,consts:[[1,"playerContainer"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"]],template:function(e,i){1&e&&(h(0,"div",0),h(1,"span",1),He("click",function(){return i.onPlayStop()}),g(2,"div",2),f(),h(3,"span",3),He("click",function(){return i.onNext()}),g(4,"div",4),g(5,"div",5),f(),h(6,"span",6),u(7),f(),h(8,"span",7),h(9,"span",8),He("click",function(){return i.onShuffle()}),g(10,"div",9),f(),h(11,"span",10),He("click",function(){return i.onMasterMuteChange()}),g(12,"div",2),f(),h(13,"span",11),h(14,"span",12),h(15,"ngx-slider",13),He("valueChange",function(r){return i.masterGain=r}),f(),f(),f(),f(),f()),2&e&&(M(2),B("ngClass",Ph(6,cH,"Playing"===i.playState,"Loading"===i.playState,"Stopped"===i.playState)),M(5),gt(i.selectedTrack.name),M(3),B("ngClass",ya(10,dH,i.isShuffle,!i.isShuffle)),M(2),B("ngClass",function(n,t,e,i,s,r,o){return tb(I(),un(),n,t,e,i,s,r,o)}(13,hH,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),M(3),B("value",i.masterGain)("options",i.optionsMasterGain))},directives:[Aa,L0],styles:['.playerContainer[_ngcontent-%COMP%]{position:fixed;cursor:pointer;border:1px solid var(--colorGrayLightMed);border-radius:1em;padding-top:9px;padding-bottom:7px;z-index:2;transform:translateY(40px);width:90%}.trackName[_ngcontent-%COMP%]{text-align:center}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:8%;height:23px}.stopped[_ngcontent-%COMP%]{-webkit-clip-path:polygon(50% 0%,0% 100%,100% 100%);clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:rotationFastReverse .5s infinite linear}@keyframes rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);animation:rotation 3s infinite linear;transition:all .2s}@keyframes rotation{0%{transform:rotate(0)}to{transform:rotate(-359deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{-webkit-clip-path:polygon(50% 0%,0% 100%,100% 100%);clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.artworkContainer[_ngcontent-%COMP%]{float:right;width:50%;margin-top:2em;margin-bottom:2em}.artworkImage[_ngcontent-%COMP%]{width:100%;max-width:500px;border-radius:5%;display:block;margin:0 auto}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\d\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.sliderContainer[_ngcontent-%COMP%]{display:none}.artworkContainer[_ngcontent-%COMP%]{float:left;width:100%;margin-top:0}}@media screen and (min-width: 452px) and (max-width: 703px){.playerContainer[_ngcontent-%COMP%]{margin:5px 0%}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:40%;height:24px}.artworkContainer[_ngcontent-%COMP%]{width:45%;margin-right:5%}}@media screen and (min-width: 704px) and (max-width: 1053px){.playerContainer[_ngcontent-%COMP%]{margin:10px 5%;width:80%}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:40%;height:24px}.artworkContainer[_ngcontent-%COMP%]{width:40%;margin-right:10%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.playerContainer[_ngcontent-%COMP%]{margin:15px 10%;width:70%}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:40%;height:24px}.artworkContainer[_ngcontent-%COMP%]{width:35%;margin-right:15%}.buttonRow[_ngcontent-%COMP%]{margin-right:10%}}@media screen and (min-width: 1404px){.playerContainer[_ngcontent-%COMP%]{margin:20px 15%;width:60%}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:40%;height:24px}.artworkContainer[_ngcontent-%COMP%]{width:30%;margin-right:20%}.buttonRow[_ngcontent-%COMP%]{margin-right:15%}}']}),n})();function pH(n,t){1&n&&(h(0,"div"),h(1,"label"),u(2,"Has to be a valid email address"),f(),f())}function gH(n,t){if(1&n&&(h(0,"div",16),$e(1,pH,3,0,"div",13),f()),2&n){const e=Ge(3);M(1),B("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.pattern)}}function mH(n,t){if(1&n&&(h(0,"div"),h(1,"label"),u(2,"* Your Email:"),f(),g(3,"br"),g(4,"input",12),$e(5,gH,2,1,"div",15),g(6,"br"),g(7,"br"),f()),2&n){const e=Ge(2);M(4),hn("placeholder",e.placeholderEmail),hn("formControlName",e.emailName),hn("name",e.emailName),M(1),B("ngIf",e.emailControl.invalid)}}function yH(n,t){if(1&n){const e=Es();h(0,"div",8),h(1,"form",9),g(2,"input",10),h(3,"label"),u(4),f(),g(5,"br"),g(6,"textarea",11),g(7,"br"),g(8,"br"),h(9,"label"),u(10,"* Your Name / Handle:"),f(),g(11,"br"),g(12,"input",12),g(13,"br"),g(14,"br"),$e(15,mH,8,4,"div",13),h(16,"button",14),He("click",function(){return ys(e),Ge().onSendClick()}),u(17,"Send"),f(),f(),f()}if(2&n){const e=Ge();M(1),hn("name",e.formName),B("formGroup",e.messageForm),M(1),hn("value",e.formName),M(2),gt(e.messageLabel),M(2),hn("placeholder",e.placeholderText),hn("formControlName",e.messageName),hn("name",e.messageName),B("maxlength",300),M(6),hn("placeholder",e.placeholderHandle),hn("formControlName",e.handleName),hn("name",e.handleName),M(3),B("ngIf","/home"===e.urlEnd),M(1),B("disabled",e.messageForm.invalid)}}let _H=(()=>{class n{constructor(e,i,s,r){this.fb=e,this.http=i,this.router=s,this.logService=r,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* the comment will pend for moderation\n* this comment form will become hidden\nAfter approval I will publish\nthe Comment and Name here.\n(I might also add a short response).",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(Rn(o=>o instanceof Js)).subscribe(o=>{this.showCommentForm=!0,this.urlEnd=o.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(Os.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(Os.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[Os.required]],[this.handleName]:["",[Os.required]],[this.emailName]:["",[Os.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}onSendClick(){let e=(new os).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);e=e.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",e),this.http.post("/",e.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(i=>{this.logService.log("Info","result handler:",i),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},i=>{this.showCommentForm=!1,i instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",i.error),this.headerText="Something went wrong with sending"):200===i.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",i.status),this.logService.log("Error","Error body:",i.error))}),this.messageForm.reset()}}return n.\u0275fac=function(e){return new(e||n)(C(qC),C(Ep),C(gn),C(Ja))},n.\u0275cmp=Gt({type:n,selectors:[["app-root"]],decls:23,vars:2,consts:[[1,"headerContainer"],[1,"headerBackground"],["routerLink","/home","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/lifting","routerLinkActive","active"],[1,"horizontalLine"],["class","messageForm",4,"ngIf"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(e,i){1&e&&(h(0,"div",0),g(1,"div",1),h(2,"nav"),h(3,"li"),h(4,"a",2),u(5,"Home"),f(),f(),h(6,"li"),h(7,"a",3),u(8,"Blog"),f(),f(),h(9,"li"),h(10,"a",4),u(11,"Music"),f(),f(),h(12,"li"),h(13,"a",5),u(14,"Lifting"),f(),f(),f(),g(15,"app-music-player"),f(),g(16,"router-outlet"),g(17,"div",6),h(18,"h2"),u(19),f(),$e(20,yH,18,13,"div",7),g(21,"br"),g(22,"br")),2&e&&(M(19),gt(i.headerText),M(1),B("ngIf",i.showCommentForm))},directives:[Wu,BE,fH,Vu,Zs,dp,Xf,Ya,$a,Jf,nc,sc],encapsulation:2}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Nt({type:n,bootstrap:[_H]}),n.\u0275inj=It({providers:[{provide:aD,useExisting:I2},{provide:ac,useValue:{coreLibraryLoader:()=>vt.e(112).then(vt.bind(vt,9112)),languages:{typescript:()=>vt.e(852).then(vt.bind(vt,9852))}}}],imports:[[iV,oR,u2,T0,lH,I3,GC,tV]]}),n})();jb=!1,sR().bootstrapModule(vH)},8089:(ii,bn)=>{"use strict";var Ut={update:function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var St=!1,K=Object.defineProperty({},"passive",{get:function(){St=!0}}),Qt=function(){};window.addEventListener("testPassiveEventSupport",Qt,K),window.removeEventListener("testPassiveEventSupport",Qt,K),Ut.hasSupport=St}}};Ut.update(),bn.Z=Ut},9069:ii=>{"use strict";var Ut,bn="object"==typeof Reflect?Reflect:null,vt=bn&&"function"==typeof bn.apply?bn.apply:function(x,V,L){return Function.prototype.apply.call(x,V,L)};Ut=bn&&"function"==typeof bn.ownKeys?bn.ownKeys:Object.getOwnPropertySymbols?function(x){return Object.getOwnPropertyNames(x).concat(Object.getOwnPropertySymbols(x))}:function(x){return Object.getOwnPropertyNames(x)};var St=Number.isNaN||function(x){return x!=x};function K(){K.init.call(this)}ii.exports=K,ii.exports.once=function(N,x){return new Promise(function(V,L){function X(v){N.removeListener(x,te),L(v)}function te(){"function"==typeof N.removeListener&&N.removeListener("error",X),V([].slice.call(arguments))}jn(N,x,te,{once:!0}),"error"!==x&&function(N,x,V){"function"==typeof N.on&&jn(N,"error",x,{once:!0})}(N,X)})},K.EventEmitter=K,K.prototype._events=void 0,K.prototype._eventsCount=0,K.prototype._maxListeners=void 0;var Qt=10;function Zt(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function si(N){return void 0===N._maxListeners?K.defaultMaxListeners:N._maxListeners}function ko(N,x,V,L){var X,te,v;if(Zt(V),void 0===(te=N._events)?(te=N._events=Object.create(null),N._eventsCount=0):(void 0!==te.newListener&&(N.emit("newListener",x,V.listener?V.listener:V),te=N._events),v=te[x]),void 0===v)v=te[x]=V,++N._eventsCount;else if("function"==typeof v?v=te[x]=L?[V,v]:[v,V]:L?v.unshift(V):v.push(V),(X=si(N))>0&&v.length>X&&!v.warned){v.warned=!0;var b=new Error("Possible EventEmitter memory leak detected. "+v.length+" "+String(x)+" listeners added. Use emitter.setMaxListeners() to increase limit");b.name="MaxListenersExceededWarning",b.emitter=N,b.type=x,b.count=v.length,function(N){console&&console.warn&&console.warn(N)}(b)}return N}function ae(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Pe(N,x,V){var L={fired:!1,wrapFn:void 0,target:N,type:x,listener:V},X=ae.bind(L);return X.listener=V,L.wrapFn=X,X}function rn(N,x,V){var L=N._events;if(void 0===L)return[];var X=L[x];return void 0===X?[]:"function"==typeof X?V?[X.listener||X]:[X]:V?function(N){for(var x=new Array(N.length),V=0;V<x.length;++V)x[V]=N[V].listener||N[V];return x}(X):ds(X,X.length)}function Un(N){var x=this._events;if(void 0!==x){var V=x[N];if("function"==typeof V)return 1;if(void 0!==V)return V.length}return 0}function ds(N,x){for(var V=new Array(x),L=0;L<x;++L)V[L]=N[L];return V}function jn(N,x,V,L){if("function"==typeof N.on)L.once?N.once(x,V):N.on(x,V);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(x,function X(te){L.once&&N.removeEventListener(x,X),V(te)})}}Object.defineProperty(K,"defaultMaxListeners",{enumerable:!0,get:function(){return Qt},set:function(N){if("number"!=typeof N||N<0||St(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");Qt=N}}),K.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},K.prototype.setMaxListeners=function(x){if("number"!=typeof x||x<0||St(x))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+x+".");return this._maxListeners=x,this},K.prototype.getMaxListeners=function(){return si(this)},K.prototype.emit=function(x){for(var V=[],L=1;L<arguments.length;L++)V.push(arguments[L]);var X="error"===x,te=this._events;if(void 0!==te)X=X&&void 0===te.error;else if(!X)return!1;if(X){var v;if(V.length>0&&(v=V[0]),v instanceof Error)throw v;var b=new Error("Unhandled error."+(v?" ("+v.message+")":""));throw b.context=v,b}var O=te[x];if(void 0===O)return!1;if("function"==typeof O)vt(O,this,V);else{var F=O.length,Q=ds(O,F);for(L=0;L<F;++L)vt(Q[L],this,V)}return!0},K.prototype.on=K.prototype.addListener=function(x,V){return ko(this,x,V,!1)},K.prototype.prependListener=function(x,V){return ko(this,x,V,!0)},K.prototype.once=function(x,V){return Zt(V),this.on(x,Pe(this,x,V)),this},K.prototype.prependOnceListener=function(x,V){return Zt(V),this.prependListener(x,Pe(this,x,V)),this},K.prototype.off=K.prototype.removeListener=function(x,V){var L,X,te,v,b;if(Zt(V),void 0===(X=this._events))return this;if(void 0===(L=X[x]))return this;if(L===V||L.listener===V)0==--this._eventsCount?this._events=Object.create(null):(delete X[x],X.removeListener&&this.emit("removeListener",x,L.listener||V));else if("function"!=typeof L){for(te=-1,v=L.length-1;v>=0;v--)if(L[v]===V||L[v].listener===V){b=L[v].listener,te=v;break}if(te<0)return this;0===te?L.shift():function(N,x){for(;x+1<N.length;x++)N[x]=N[x+1];N.pop()}(L,te),1===L.length&&(X[x]=L[0]),void 0!==X.removeListener&&this.emit("removeListener",x,b||V)}return this},K.prototype.removeAllListeners=function(x){var V,L,X;if(void 0===(L=this._events))return this;if(void 0===L.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==L[x]&&(0==--this._eventsCount?this._events=Object.create(null):delete L[x]),this;if(0===arguments.length){var v,te=Object.keys(L);for(X=0;X<te.length;++X)"removeListener"!==(v=te[X])&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(V=L[x]))this.removeListener(x,V);else if(void 0!==V)for(X=V.length-1;X>=0;X--)this.removeListener(x,V[X]);return this},K.prototype.listeners=function(x){return rn(this,x,!0)},K.prototype.rawListeners=function(x){return rn(this,x,!1)},K.listenerCount=function(N,x){return"function"==typeof N.listenerCount?N.listenerCount(x):Un.call(N,x)},K.prototype.listenerCount=Un,K.prototype.eventNames=function(){return this._eventsCount>0?Ut(this._events):[]}},3028:function(ii,bn){var vt,Ei;vt=function St(){"use strict";var K="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==K?K:{},Qt=!K.document&&!!K.postMessage,Zt=Qt&&/blob:/i.test((K.location||{}).protocol),si={},ko=0,ae={parse:function(v,b){var O=(b=b||{}).dynamicTyping||!1;if(te(O)&&(b.dynamicTypingFunction=O,O={}),b.dynamicTyping=O,b.transform=!!te(b.transform)&&b.transform,b.worker&&ae.WORKERS_SUPPORTED){var F=function(){if(!ae.WORKERS_SUPPORTED)return!1;var Mt,nt,de=(Mt=K.URL||K.webkitURL||null,nt=St.toString(),ae.BLOB_URL||(ae.BLOB_URL=Mt.createObjectURL(new Blob(["(",nt,")();"],{type:"text/javascript"})))),Ee=new K.Worker(de);return Ee.onmessage=N,Ee.id=ko++,si[Ee.id]=Ee}();return F.userStep=b.step,F.userChunk=b.chunk,F.userComplete=b.complete,F.userError=b.error,b.step=te(b.step),b.chunk=te(b.chunk),b.complete=te(b.complete),b.error=te(b.error),delete b.worker,void F.postMessage({input:v,config:b,workerId:F.id})}var Q=null;return"string"==typeof v?Q=b.download?new Un(b):new ke(b):!0===v.readable&&te(v.read)&&te(v.on)?Q=new $i(b):(K.File&&v instanceof File||v instanceof Object)&&(Q=new ds(b)),Q.stream(v)},unparse:function(v,b){var O=!1,F=!0,Q=",",de="\r\n",Ee='"',Mt=Ee+Ee,nt=!1,J=null,Fe=!1;!function(){if("object"==typeof b){if("string"!=typeof b.delimiter||ae.BAD_DELIMITERS.filter(function(q){return-1!==b.delimiter.indexOf(q)}).length||(Q=b.delimiter),("boolean"==typeof b.quotes||"function"==typeof b.quotes||Array.isArray(b.quotes))&&(O=b.quotes),"boolean"!=typeof b.skipEmptyLines&&"string"!=typeof b.skipEmptyLines||(nt=b.skipEmptyLines),"string"==typeof b.newline&&(de=b.newline),"string"==typeof b.quoteChar&&(Ee=b.quoteChar),"boolean"==typeof b.header&&(F=b.header),Array.isArray(b.columns)){if(0===b.columns.length)throw new Error("Option columns is empty");J=b.columns}void 0!==b.escapeChar&&(Mt=b.escapeChar+Ee),"boolean"==typeof b.escapeFormulae&&(Fe=b.escapeFormulae)}}();var he=new RegExp(Gi(Ee),"g");if("string"==typeof v&&(v=JSON.parse(v)),Array.isArray(v)){if(!v.length||Array.isArray(v[0]))return $n(null,v,nt);if("object"==typeof v[0])return $n(J||Object.keys(v[0]),v,nt)}else if("object"==typeof v)return"string"==typeof v.data&&(v.data=JSON.parse(v.data)),Array.isArray(v.data)&&(v.fields||(v.fields=v.meta&&v.meta.fields),v.fields||(v.fields=Array.isArray(v.data[0])?v.fields:"object"==typeof v.data[0]?Object.keys(v.data[0]):[]),Array.isArray(v.data[0])||"object"==typeof v.data[0]||(v.data=[v.data])),$n(v.fields||[],v.data||[],nt);throw new Error("Unable to serialize unrecognized input");function $n(q,Qe,ot){var at="";"string"==typeof q&&(q=JSON.parse(q)),"string"==typeof Qe&&(Qe=JSON.parse(Qe));var it=Array.isArray(q)&&0<q.length,W=!Array.isArray(Qe[0]);if(it&&F){for(var At=0;At<q.length;At++)0<At&&(at+=Q),at+=jt(q[At],At);0<Qe.length&&(at+=de)}for(var re=0;re<Qe.length;re++){var Le=it?q.length:Qe[re].length,Ye=!1,qe=it?0===Object.keys(Qe[re]).length:0===Qe[re].length;if(ot&&!it&&(Ye="greedy"===ot?""===Qe[re].join("").trim():1===Qe[re].length&&0===Qe[re][0].length),"greedy"===ot&&it){for(var Re=[],Ce=0;Ce<Le;Ce++)Re.push(Qe[re][W?q[Ce]:Ce]);Ye=""===Re.join("").trim()}if(!Ye){for(var le=0;le<Le;le++)0<le&&!qe&&(at+=Q),at+=jt(Qe[re][it&&W?q[le]:le],le);re<Qe.length-1&&(!ot||0<Le&&!qe)&&(at+=de)}}return at}function jt(q,Qe){if(null==q)return"";if(q.constructor===Date)return JSON.stringify(q).slice(1,25);!0===Fe&&"string"==typeof q&&null!==q.match(/^[=+\-@].*$/)&&(q="'"+q);var ot=q.toString().replace(he,Mt);return"boolean"==typeof O&&O||"function"==typeof O&&O(q,Qe)||Array.isArray(O)&&O[Qe]||function(it,W){for(var At=0;At<W.length;At++)if(-1<it.indexOf(W[At]))return!0;return!1}(ot,ae.BAD_DELIMITERS)||-1<ot.indexOf(Q)||" "===ot.charAt(0)||" "===ot.charAt(ot.length-1)?Ee+ot+Ee:ot}}};if(ae.RECORD_SEP=String.fromCharCode(30),ae.UNIT_SEP=String.fromCharCode(31),ae.BYTE_ORDER_MARK="\ufeff",ae.BAD_DELIMITERS=["\r","\n",'"',ae.BYTE_ORDER_MARK],ae.WORKERS_SUPPORTED=!Qt&&!!K.Worker,ae.NODE_STREAM_INPUT=1,ae.LocalChunkSize=10485760,ae.RemoteChunkSize=5242880,ae.DefaultDelimiter=",",ae.Parser=jn,ae.ParserHandle=dr,ae.NetworkStreamer=Un,ae.FileStreamer=ds,ae.StringStreamer=ke,ae.ReadableStreamStreamer=$i,K.jQuery){var Pe=K.jQuery;Pe.fn.parse=function(v){var b=v.config||{},O=[];return this.each(function(de){if("INPUT"!==Pe(this).prop("tagName").toUpperCase()||"file"!==Pe(this).attr("type").toLowerCase()||!K.FileReader||!this.files||0===this.files.length)return!0;for(var Ee=0;Ee<this.files.length;Ee++)O.push({file:this.files[Ee],inputElem:this,instanceConfig:Pe.extend({},b)})}),F(),this;function F(){if(0!==O.length){var Ee,Mt,nt,J=O[0];if(te(v.before)){var Fe=v.before(J.file,J.inputElem);if("object"==typeof Fe){if("abort"===Fe.action)return"AbortError",Ee=J.file,Mt=J.inputElem,nt=Fe.reason,void(te(v.error)&&v.error({name:"AbortError"},Ee,Mt,nt));if("skip"===Fe.action)return void Q();"object"==typeof Fe.config&&(J.instanceConfig=Pe.extend(J.instanceConfig,Fe.config))}else if("skip"===Fe)return void Q()}var he=J.instanceConfig.complete;J.instanceConfig.complete=function($n){te(he)&&he($n,J.file,J.inputElem),Q()},ae.parse(J.file,J.instanceConfig)}else te(v.complete)&&v.complete()}function Q(){O.splice(0,1),F()}}}function rn(v){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(b){var O=L(b);O.chunkSize=parseInt(O.chunkSize),b.step||b.chunk||(O.chunkSize=null),this._handle=new dr(O),(this._handle.streamer=this)._config=O}.call(this,v),this.parseChunk=function(b,O){if(this.isFirstChunk&&te(this._config.beforeFirstChunk)){var F=this._config.beforeFirstChunk(b);void 0!==F&&(b=F)}this.isFirstChunk=!1,this._halted=!1;var Q=this._partialLine+b;this._partialLine="";var de=this._handle.parse(Q,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var Ee=de.meta.cursor;this._finished||(this._partialLine=Q.substring(Ee-this._baseIndex),this._baseIndex=Ee),de&&de.data&&(this._rowCount+=de.data.length);var Mt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Zt)K.postMessage({results:de,workerId:ae.WORKER_ID,finished:Mt});else if(te(this._config.chunk)&&!O){if(this._config.chunk(de,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);de=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(de.data),this._completeResults.errors=this._completeResults.errors.concat(de.errors),this._completeResults.meta=de.meta),this._completed||!Mt||!te(this._config.complete)||de&&de.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Mt||de&&de.meta.paused||this._nextChunk(),de}this._halted=!0},this._sendError=function(b){te(this._config.error)?this._config.error(b):Zt&&this._config.error&&K.postMessage({workerId:ae.WORKER_ID,error:b,finished:!1})}}function Un(v){var b;(v=v||{}).chunkSize||(v.chunkSize=ae.RemoteChunkSize),rn.call(this,v),this._nextChunk=Qt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),Qt||(b.onload=X(this._chunkLoaded,this),b.onerror=X(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!Qt),this._config.downloadRequestHeaders){var O=this._config.downloadRequestHeaders;for(var F in O)b.setRequestHeader(F,O[F])}this._config.chunkSize&&b.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{b.send(this._config.downloadRequestBody)}catch(de){this._chunkError(de.message)}Qt&&0===b.status&&this._chunkError()}},this._chunkLoaded=function(){var F;4===b.readyState&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(F=b.getResponseHeader("Content-Range"))?-1:parseInt(F.substring(F.lastIndexOf("/")+1))),this.parseChunk(b.responseText)))},this._chunkError=function(O){this._sendError(new Error(b.statusText||O))}}function ds(v){var b,O;(v=v||{}).chunkSize||(v.chunkSize=ae.LocalChunkSize),rn.call(this,v);var F="undefined"!=typeof FileReader;this.stream=function(Q){this._input=Q,O=Q.slice||Q.webkitSlice||Q.mozSlice,F?((b=new FileReader).onload=X(this._chunkLoaded,this),b.onerror=X(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Q=this._input;if(this._config.chunkSize){var de=Math.min(this._start+this._config.chunkSize,this._input.size);Q=O.call(Q,this._start,de)}var Ee=b.readAsText(Q,this._config.encoding);F||this._chunkLoaded({target:{result:Ee}})},this._chunkLoaded=function(Q){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Q.target.result)},this._chunkError=function(){this._sendError(b.error)}}function ke(v){var b;rn.call(this,v=v||{}),this.stream=function(O){return b=O,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var O,F=this._config.chunkSize;return F?(O=b.substring(0,F),b=b.substring(F)):(O=b,b=""),this._finished=!b,this.parseChunk(O)}}}function $i(v){rn.call(this,v=v||{});var b=[],O=!0,F=!1;this.pause=function(){rn.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){rn.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Q){this._input=Q,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){F&&1===b.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):O=!0},this._streamData=X(function(Q){try{b.push("string"==typeof Q?Q:Q.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(de){this._streamError(de)}},this),this._streamError=X(function(Q){this._streamCleanUp(),this._sendError(Q)},this),this._streamEnd=X(function(){this._streamCleanUp(),F=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function dr(v){var b,O,F,Q=Math.pow(2,53),de=-Q,Ee=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Mt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,nt=this,J=0,Fe=0,he=!1,$n=!1,jt=[],q={data:[],errors:[],meta:{}};if(te(v.step)){var Qe=v.step;v.step=function(re){if(q=re,it())at();else{if(at(),0===q.data.length)return;J+=re.data.length,v.preview&&J>v.preview?O.abort():(q.data=q.data[0],Qe(q,nt))}}}function ot(re){return"greedy"===v.skipEmptyLines?""===re.join("").trim():1===re.length&&0===re[0].length}function at(){if(q&&F&&(At("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ae.DefaultDelimiter+"'"),F=!1),v.skipEmptyLines)for(var re=0;re<q.data.length;re++)ot(q.data[re])&&q.data.splice(re--,1);return it()&&function(){if(q)if(Array.isArray(q.data[0])){for(var Ye=0;it()&&Ye<q.data.length;Ye++)q.data[Ye].forEach(Le);q.data.splice(0,1)}else q.data.forEach(Le);function Le(qe,Re){te(v.transformHeader)&&(qe=v.transformHeader(qe,Re)),jt.push(qe)}}(),function(){if(!q||!v.header&&!v.dynamicTyping&&!v.transform)return q;function Le(qe,Re){var Ce,bt=v.header?{}:[];for(Ce=0;Ce<qe.length;Ce++){var le=Ce,Oe=qe[Ce];v.header&&(le=Ce>=jt.length?"__parsed_extra":jt[Ce]),v.transform&&(Oe=v.transform(Oe,le)),Oe=W(le,Oe),"__parsed_extra"===le?(bt[le]=bt[le]||[],bt[le].push(Oe)):bt[le]=Oe}return v.header&&(Ce>jt.length?At("FieldMismatch","TooManyFields","Too many fields: expected "+jt.length+" fields but parsed "+Ce,Fe+Re):Ce<jt.length&&At("FieldMismatch","TooFewFields","Too few fields: expected "+jt.length+" fields but parsed "+Ce,Fe+Re)),bt}var Ye=1;return!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(Le),Ye=q.data.length):q.data=Le(q.data,0),v.header&&q.meta&&(q.meta.fields=jt),Fe+=Ye,q}()}function it(){return v.header&&0===jt.length}function W(re,Le){return Ye=re,v.dynamicTypingFunction&&void 0===v.dynamicTyping[Ye]&&(v.dynamicTyping[Ye]=v.dynamicTypingFunction(Ye)),!0===(v.dynamicTyping[Ye]||v.dynamicTyping)?"true"===Le||"TRUE"===Le||"false"!==Le&&"FALSE"!==Le&&(function(qe){if(Ee.test(qe)){var Re=parseFloat(qe);if(de<Re&&Re<Q)return!0}return!1}(Le)?parseFloat(Le):Mt.test(Le)?new Date(Le):""===Le?null:Le):Le;var Ye}function At(re,Le,Ye,qe){var Re={type:re,code:Le,message:Ye};void 0!==qe&&(Re.row=qe),q.errors.push(Re)}this.parse=function(re,Le,Ye){if(v.newline||(v.newline=function(bt,le){bt=bt.substring(0,1048576);var Oe=new RegExp(Gi(le)+"([^]*?)"+Gi(le),"gm"),Ve=(bt=bt.replace(Oe,"")).split("\r"),yn=bt.split("\n");if(1===Ve.length||1<yn.length&&yn[0].length<Ve[0].length)return"\n";for(var ri=0,$t=0;$t<Ve.length;$t++)"\n"===Ve[$t][0]&&ri++;return ri>=Ve.length/2?"\r\n":"\r"}(re,v.quoteChar||'"')),F=!1,v.delimiter)te(v.delimiter)&&(v.delimiter=v.delimiter(re),q.meta.delimiter=v.delimiter);else{var Re=function(bt,le,Oe,Ve,yn){var Ci,ri,$t,wt;yn=yn||[",","\t","|",";",ae.RECORD_SEP,ae.UNIT_SEP];for(var Di=0;Di<yn.length;Di++){var Rt=yn[Di],hs=0,oi=0,Oo=0;$t=void 0;for(var Vs=new jn({comments:Ve,delimiter:Rt,newline:le,preview:10}).parse(bt),hr=0;hr<Vs.data.length;hr++)if(Oe&&ot(Vs.data[hr]))Oo++;else{var fr=Vs.data[hr].length;oi+=fr,void 0!==$t?0<fr&&(hs+=Math.abs(fr-$t),$t=fr):$t=fr}0<Vs.data.length&&(oi/=Vs.data.length-Oo),(void 0===ri||hs<=ri)&&(void 0===wt||wt<oi)&&1.99<oi&&(ri=hs,Ci=Rt,wt=oi)}return{successful:!!(v.delimiter=Ci),bestDelimiter:Ci}}(re,v.newline,v.skipEmptyLines,v.comments,v.delimitersToGuess);Re.successful?v.delimiter=Re.bestDelimiter:(F=!0,v.delimiter=ae.DefaultDelimiter),q.meta.delimiter=v.delimiter}var Ce=L(v);return v.preview&&v.header&&Ce.preview++,b=re,O=new jn(Ce),q=O.parse(b,Le,Ye),at(),he?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return he},this.pause=function(){he=!0,O.abort(),b=te(v.chunk)?"":b.substring(O.getCharIndex())},this.resume=function(){nt.streamer._halted?(he=!1,nt.streamer.parseChunk(b,!0)):setTimeout(nt.resume,3)},this.aborted=function(){return $n},this.abort=function(){$n=!0,O.abort(),q.meta.aborted=!0,te(v.complete)&&v.complete(q),b=""}}function Gi(v){return v.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function jn(v){var b,O=(v=v||{}).delimiter,F=v.newline,Q=v.comments,de=v.step,Ee=v.preview,Mt=v.fastMode,nt=b=void 0===v.quoteChar?'"':v.quoteChar;if(void 0!==v.escapeChar&&(nt=v.escapeChar),("string"!=typeof O||-1<ae.BAD_DELIMITERS.indexOf(O))&&(O=","),Q===O)throw new Error("Comment character same as delimiter");!0===Q?Q="#":("string"!=typeof Q||-1<ae.BAD_DELIMITERS.indexOf(Q))&&(Q=!1),"\n"!==F&&"\r"!==F&&"\r\n"!==F&&(F="\n");var J=0,Fe=!1;this.parse=function(he,$n,jt){if("string"!=typeof he)throw new Error("Input must be a string");var q=he.length,Qe=O.length,ot=F.length,at=Q.length,it=te(de),W=[],At=[],re=[],Le=J=0;if(!he)return wt();if(Mt||!1!==Mt&&-1===he.indexOf(b)){for(var Ye=he.split(F),qe=0;qe<Ye.length;qe++){if(J+=(re=Ye[qe]).length,qe!==Ye.length-1)J+=F.length;else if(jt)return wt();if(!Q||re.substring(0,at)!==Q){if(it){if(W=[],yn(re.split(O)),Di(),Fe)return wt()}else yn(re.split(O));if(Ee&&Ee<=qe)return W=W.slice(0,Ee),wt(!0)}}return wt()}for(var Re=he.indexOf(O,J),Ce=he.indexOf(F,J),bt=new RegExp(Gi(nt)+Gi(b),"g"),le=he.indexOf(b,J);;)if(he[J]!==b)if(Q&&0===re.length&&he.substring(J,J+at)===Q){if(-1===Ce)return wt();Ce=he.indexOf(F,J=Ce+ot),Re=he.indexOf(O,J)}else if(-1!==Re&&(Re<Ce||-1===Ce))re.push(he.substring(J,Re)),Re=he.indexOf(O,J=Re+Qe);else{if(-1===Ce)break;if(re.push(he.substring(J,Ce)),$t(Ce+ot),it&&(Di(),Fe))return wt();if(Ee&&W.length>=Ee)return wt(!0)}else for(le=J,J++;;){if(-1===(le=he.indexOf(b,le+1)))return jt||At.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:W.length,index:J}),ri();if(le===q-1)return ri(he.substring(J,le).replace(bt,b));if(b!==nt||he[le+1]!==nt){if(b===nt||0===le||he[le-1]!==nt){-1!==Re&&Re<le+1&&(Re=he.indexOf(O,le+1)),-1!==Ce&&Ce<le+1&&(Ce=he.indexOf(F,le+1));var Oe=Ci(-1===Ce?Re:Math.min(Re,Ce));if(he[le+1+Oe]===O){re.push(he.substring(J,le).replace(bt,b)),he[J=le+1+Oe+Qe]!==b&&(le=he.indexOf(b,J)),Re=he.indexOf(O,J),Ce=he.indexOf(F,J);break}var Ve=Ci(Ce);if(he.substring(le+1+Ve,le+1+Ve+ot)===F){if(re.push(he.substring(J,le).replace(bt,b)),$t(le+1+Ve+ot),Re=he.indexOf(O,J),le=he.indexOf(b,J),it&&(Di(),Fe))return wt();if(Ee&&W.length>=Ee)return wt(!0);break}At.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:W.length,index:J}),le++}}else le++}return ri();function yn(Rt){W.push(Rt),Le=J}function Ci(Rt){var hs=0;if(-1!==Rt){var oi=he.substring(le+1,Rt);oi&&""===oi.trim()&&(hs=oi.length)}return hs}function ri(Rt){return jt||(void 0===Rt&&(Rt=he.substring(J)),re.push(Rt),J=q,yn(re),it&&Di()),wt()}function $t(Rt){J=Rt,yn(re),re=[],Ce=he.indexOf(F,J)}function wt(Rt){return{data:W,errors:At,meta:{delimiter:O,linebreak:F,aborted:Fe,truncated:!!Rt,cursor:Le+($n||0)}}}function Di(){de(wt()),W=[],At=[]}},this.abort=function(){Fe=!0},this.getCharIndex=function(){return J}}function N(v){var b=v.data,O=si[b.workerId],F=!1;if(b.error)O.userError(b.error,b.file);else if(b.results&&b.results.data){var Q={abort:function(){F=!0,x(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:V,resume:V};if(te(O.userStep)){for(var de=0;de<b.results.data.length&&(O.userStep({data:b.results.data[de],errors:b.results.errors,meta:b.results.meta},Q),!F);de++);delete b.results}else te(O.userChunk)&&(O.userChunk(b.results,Q,b.file),delete b.results)}b.finished&&!F&&x(b.workerId,b.results)}function x(v,b){var O=si[v];te(O.userComplete)&&O.userComplete(b),O.terminate(),delete si[v]}function V(){throw new Error("Not implemented.")}function L(v){if("object"!=typeof v||null===v)return v;var b=Array.isArray(v)?[]:{};for(var O in v)b[O]=L(v[O]);return b}function X(v,b){return function(){v.apply(b,arguments)}}function te(v){return"function"==typeof v}return Zt&&(K.onmessage=function(v){var b=v.data;if(void 0===ae.WORKER_ID&&b&&(ae.WORKER_ID=b.workerId),"string"==typeof b.input)K.postMessage({workerId:ae.WORKER_ID,results:ae.parse(b.input,b.config),finished:!0});else if(K.File&&b.input instanceof File||b.input instanceof Object){var O=ae.parse(b.input,b.config);O&&K.postMessage({workerId:ae.WORKER_ID,results:O,finished:!0})}}),(Un.prototype=Object.create(rn.prototype)).constructor=Un,(ds.prototype=Object.create(rn.prototype)).constructor=ds,(ke.prototype=Object.create(ke.prototype)).constructor=ke,($i.prototype=Object.create(rn.prototype)).constructor=$i,ae},void 0!==(Ei=vt.apply(bn,[]))&&(ii.exports=Ei)},305:ii=>{"use strict";ii.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis (dinosaur)"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus (dinosaur)"},{"kg":75900,"name":"Notocolossus gonzalezparejasi (dinosaur)"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum (dinosaur)"},{"kg":72600,"name":"Apatosaurus ajax (dinosaur)"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum (dinosaur)"},{"kg":60000,"name":"Sauroposeidon proteles (dinosaur)"},{"kg":59300,"name":"Dreadnoughtus schrani (dinosaur)"},{"kg":59000,"name":"Paralititan stromeri (dinosaur)"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus (dinosaur)"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex (dinosaur)"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus (dinosaur)"},{"kg":13800,"name":"Giganotosaurus carolinii (dinosaur)"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis (dinosaur)"},{"kg":7000,"name":"Oxalaia quilombensis (dinosaur)"},{"kg":6999,"name":"Tyrannotitan chubutensis (dinosaur)"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus (dinosaur)"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis (dinosaur)"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis (dinosaur)"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"African hedgehog"}]')}},ii=>{ii(ii.s=9619)}]);