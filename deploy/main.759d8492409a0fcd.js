(self.webpackChunkegill_antonsson_website=self.webpackChunkegill_antonsson_website||[]).push([[179],{1997:(ni,Tn,yt)=>{"use strict";function jt(n){return"function"==typeof n}let yi=!1;const Et={Promise:void 0,set useDeprecatedSynchronousErrorHandling(n){if(n){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else yi&&console.log("RxJS: Back to a better error behavior. Thank you. <3");yi=n},get useDeprecatedSynchronousErrorHandling(){return yi}};function K(n){setTimeout(()=>{throw n},0)}const qt={closed:!0,next(n){},error(n){if(Et.useDeprecatedSynchronousErrorHandling)throw n;K(n)},complete(){}},Xt=Array.isArray||(n=>n&&"number"==typeof n.length);function ii(n){return null!==n&&"object"==typeof n}const ue=(()=>{function n(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((e,i)=>`${i+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return n.prototype=Object.create(Error.prototype),n})();class ke{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:i,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof ke)e.remove(this);else if(null!==e)for(let o=0;o<e.length;++o)e[o].remove(this);if(jt(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(o){t=o instanceof ue?un(o.errors):[o]}}if(Xt(s)){let o=-1,l=s.length;for(;++o<l;){const u=s[o];if(ii(u))try{u.unsubscribe()}catch(h){t=t||[],h instanceof ue?t=t.concat(un(h.errors)):t.push(h)}}}if(t)throw new ue(t)}add(t){let e=t;if(!t)return ke.EMPTY;switch(typeof t){case"function":e=new ke(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof ke)){const s=e;e=new ke,e._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=e;if(null===i)e._parentOrParents=this;else if(i instanceof ke){if(i===this)return e;e._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return e;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}}}var n;function un(n){return n.reduce((t,e)=>t.concat(e instanceof ue?e.errors:e),[])}ke.EMPTY=((n=new ke).closed=!0,n);const jn="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class Me extends ke{constructor(t,e,i){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=qt;break;case 1:if(!t){this.destination=qt;break}if("object"==typeof t){t instanceof Me?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new xi(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new xi(this,t,e,i)}}[jn](){return this}static create(t,e,i){const r=new Me(t,e,i);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class xi extends Me{constructor(t,e,i,r){super(),this._parentSubscriber=t;let s,o=this;jt(e)?s=e:e&&(s=e.next,i=e.error,r=e.complete,e!==qt&&(o=Object.create(e),jt(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=i,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Et.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:i}=Et;if(this._error)i&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)i?(e.syncErrorValue=t,e.syncErrorThrown=!0):K(t),this.unsubscribe();else{if(this.unsubscribe(),i)throw t;K(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Et.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(i){if(this.unsubscribe(),Et.useDeprecatedSynchronousErrorHandling)throw i;K(i)}}__tryOrSetError(t,e,i){if(!Et.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,i)}catch(r){return Et.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(K(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const $n="function"==typeof Symbol&&Symbol.observable||"@@observable";function N(n){return n}function H(n){return 0===n.length?N:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}let F=(()=>{class n{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const{operator:s}=this,o=function Pi(n,t,e){if(n){if(n instanceof Me)return n;if(n[jn])return n[jn]()}return n||t||e?new Me(n,t,e):new Me(qt)}(e,i,r);if(o.add(s?s.call(o,this.source):this.source||Et.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),Et.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){Et.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=i),function ns(n){for(;n;){const{closed:t,destination:e,isStopped:i}=n;if(t||i)return!1;n=e&&e instanceof Me?e:null}return!0}(e)?e.error(i):console.warn(i)}}forEach(e,i){return new(i=X(i))((r,s)=>{let o;o=this.subscribe(l=>{try{e(l)}catch(u){s(u),o&&o.unsubscribe()}},s,r)})}_subscribe(e){const{source:i}=this;return i&&i.subscribe(e)}[$n](){return this}pipe(...e){return 0===e.length?this:H(e)(this)}toPromise(e){return new(e=X(e))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=t=>new n(t),n})();function X(n){if(n||(n=Et.Promise||Promise),!n)throw new Error("no Promise impl found");return n}const _=(()=>{function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return n.prototype=Object.create(Error.prototype),n})();class w extends ke{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const i=e.indexOf(this.subscriber);-1!==i&&e.splice(i,1)}}class x extends Me{constructor(t){super(t),this.destination=t}}let V=(()=>{class n extends F{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[jn](){return new x(this)}lift(e){const i=new Y(this,this);return i.operator=e,i}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:i}=this,r=i.length,s=i.slice();for(let o=0;o<r;o++)s[o].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,i=e.length,r=e.slice();for(let s=0;s<i;s++)r[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),ke.EMPTY):this.isStopped?(e.complete(),ke.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new F;return e.source=this,e}}return n.create=(t,e)=>new Y(t,e),n})();class Y extends V{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):ke.EMPTY}}function he(n){return n&&"function"==typeof n.schedule}function R(n,t){return function(i){if("function"!=typeof n)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return i.lift(new xt(n,t))}}class xt{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new st(t,this.project,this.thisArg))}}class st extends Me{constructor(t,e,i){super(t),this.project=e,this.count=0,this.thisArg=i||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}const Q=n=>t=>{for(let e=0,i=n.length;e<i&&!t.closed;e++)t.next(n[e]);t.complete()},Pt=function ce(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),at=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Ot(n){return!!n&&"function"!=typeof n.subscribe&&"function"==typeof n.then}const vt=n=>{if(n&&"function"==typeof n[$n])return(n=>t=>{const e=n[$n]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)})(n);if(at(n))return Q(n);if(Ot(n))return(n=>t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,K),t))(n);if(n&&"function"==typeof n[Pt])return(n=>t=>{const e=n[Pt]();for(;;){let i;try{i=e.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof e.return&&t.add(()=>{e.return&&e.return()}),t})(n);{const e=`You provided ${ii(n)?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}};function re(n,t){return new F(e=>{const i=new ke;let r=0;return i.add(t.schedule(function(){r!==n.length?(e.next(n[r++]),e.closed||i.add(this.schedule())):e.complete()})),i})}function J(n,t){return t?function xe(n,t){if(null!=n){if(function Ke(n){return n&&"function"==typeof n[$n]}(n))return function Mt(n,t){return new F(e=>{const i=new ke;return i.add(t.schedule(()=>{const r=n[$n]();i.add(r.subscribe({next(s){i.add(t.schedule(()=>e.next(s)))},error(s){i.add(t.schedule(()=>e.error(s)))},complete(){i.add(t.schedule(()=>e.complete()))}}))})),i})}(n,t);if(Ot(n))return function Tt(n,t){return new F(e=>{const i=new ke;return i.add(t.schedule(()=>n.then(r=>{i.add(t.schedule(()=>{e.next(r),i.add(t.schedule(()=>e.complete()))}))},r=>{i.add(t.schedule(()=>e.error(r)))}))),i})}(n,t);if(at(n))return re(n,t);if(function et(n){return n&&"function"==typeof n[Pt]}(n)||"string"==typeof n)return function Ne(n,t){if(!n)throw new Error("Iterable cannot be null");return new F(e=>{const i=new ke;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=n[Pt](),i.add(t.schedule(function(){if(e.closed)return;let s,o;try{const l=r.next();s=l.value,o=l.done}catch(l){return void e.error(l)}o?e.complete():(e.next(s),this.schedule())}))})),i})}(n,t)}throw new TypeError((null!==n&&typeof n||n)+" is not observable")}(n,t):n instanceof F?n:new F(vt(n))}class tt extends Me{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class bt extends Me{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function $t(n,t){if(t.closed)return;if(n instanceof F)return n.subscribe(t);let e;try{e=vt(n)(t)}catch(i){t.error(i)}return e}function nt(n,t,e=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe(nt((r,s)=>J(n(r,s)).pipe(R((o,l)=>t(r,o,s,l))),e)):("number"==typeof t&&(e=t),i=>i.lift(new zn(n,e)))}class zn{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new _n(t,this.project,this.concurrent))}}class _n extends bt{constructor(t,e,i=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=i,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new tt(this),i=this.destination;i.add(e);const r=$t(t,e);r!==e&&i.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function cn(n=Number.POSITIVE_INFINITY){return nt(N,n)}function It(n,t){return t?re(n,t):new F(Q(n))}function wn(){return function(t){return t.lift(new ll(t))}}class ll{constructor(t){this.connectable=t}call(t,e){const{connectable:i}=this;i._refCount++;const r=new Ar(t,i),s=e.subscribe(r);return r.closed||(r.connection=i.connect()),s}}class Ar extends Me{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:i}=this,r=t._connection;this.connection=null,r&&(!i||r===i)&&r.unsubscribe()}}class nr extends F{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new ke,t.add(this.source.subscribe(new TE(this.getSubject(),this))),t.closed&&(this._connection=null,t=ke.EMPTY)),t}refCount(){return wn()(this)}}const kr=(()=>{const n=nr.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:n._subscribe},_isComplete:{value:n._isComplete,writable:!0},getSubject:{value:n.getSubject},connect:{value:n.connect},refCount:{value:n.refCount}}})();class TE extends x{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}class AE{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:i}=this,r=this.subjectFactory(),s=i(r).subscribe(t);return s.add(e.subscribe(r)),s}}function kE(){return new V}function $e(n){for(let t in n)if(n[t]===$e)return t;throw Error("Could not find renamed property on target object.")}function Hc(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function Ge(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ge).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Bc(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const PE=$e({__forward_ref__:$e});function Be(n){return n.__forward_ref__=Be,n.toString=function(){return Ge(this())},n}function oe(n){return jc(n)?n():n}function jc(n){return"function"==typeof n&&n.hasOwnProperty(PE)&&n.__forward_ref__===Be}function $c(n){return n&&!!n.\u0275providers}const ul="https://g.co/ng/security#xss";class O extends Error{constructor(t,e){super(function cl(n,t){return`NG0${Math.abs(n)}${t?": "+t.trim():""}`}(t,e)),this.code=t}}function pe(n){return"string"==typeof n?n:null==n?"":String(n)}function dl(n,t){throw new O(-201,!1)}function Sn(n,t){null==n&&function Ve(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Gt(n){return{providers:n.providers||[],imports:n.imports||[]}}function hl(n){return bg(n,fl)||bg(n,wg)}function bg(n,t){return n.hasOwnProperty(t)?n[t]:null}function _g(n){return n&&(n.hasOwnProperty(Gc)||n.hasOwnProperty(BE))?n[Gc]:null}const fl=$e({\u0275prov:$e}),Gc=$e({\u0275inj:$e}),wg=$e({ngInjectableDef:$e}),BE=$e({ngInjectorDef:$e});var ae=(()=>((ae=ae||{})[ae.Default=0]="Default",ae[ae.Host=1]="Host",ae[ae.Self=2]="Self",ae[ae.SkipSelf=4]="SkipSelf",ae[ae.Optional=8]="Optional",ae))();let zc;function Wn(n){const t=zc;return zc=n,t}function Cg(n,t,e){const i=hl(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&ae.Optional?null:void 0!==t?t:void dl(Ge(n))}const Ye=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),fo={},Wc="__NG_DI_FLAG__",pl="ngTempTokenPath",GE=/\n/gm,Dg="__source";let po;function is(n){const t=po;return po=n,t}function WE(n,t=ae.Default){if(void 0===po)throw new O(-203,!1);return null===po?Cg(n,void 0,t):po.get(n,t&ae.Optional?null:void 0,t)}function P(n,t=ae.Default){return(function jE(){return zc}()||WE)(oe(n),t)}function Se(n,t=ae.Default){return P(n,gl(t))}function gl(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function qc(n){const t=[];for(let e=0;e<n.length;e++){const i=oe(n[e]);if(Array.isArray(i)){if(0===i.length)throw new O(900,!1);let r,s=ae.Default;for(let o=0;o<i.length;o++){const l=i[o],u=qE(l);"number"==typeof u?-1===u?r=l.token:s|=u:r=l}t.push(P(r,s))}else t.push(P(i))}return t}function go(n,t){return n[Wc]=t,n.prototype[Wc]=t,n}function qE(n){return n[Wc]}function ir(n){return{toString:n}.toString()}var ri=(()=>((ri=ri||{})[ri.OnPush=0]="OnPush",ri[ri.Default=1]="Default",ri))(),vi=(()=>(function(n){n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom"}(vi||(vi={})),vi))();const Li={},Oe=[],ml=$e({\u0275cmp:$e}),Kc=$e({\u0275dir:$e}),Yc=$e({\u0275pipe:$e}),Mg=$e({\u0275mod:$e}),Ri=$e({\u0275fac:$e}),mo=$e({__NG_ELEMENT_ID__:$e});let ZE=0;function lt(n){return ir(()=>{const e=!0===n.standalone,i={},r={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===ri.OnPush,directiveDefs:null,pipeDefs:null,standalone:e,dependencies:e&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Oe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||vi.Emulated,id:"c"+ZE++,styles:n.styles||Oe,_:null,setInput:null,schemas:n.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=n.dependencies,o=n.features;return r.inputs=Sg(n.inputs,i),r.outputs=Sg(n.outputs),o&&o.forEach(l=>l(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(Tg).filter(Ig):null,r.pipeDefs=s?()=>("function"==typeof s?s():s).map(hn).filter(Ig):null,r})}function Tg(n){return Ue(n)||en(n)}function Ig(n){return null!==n}function Zt(n){return ir(()=>({type:n.type,bootstrap:n.bootstrap||Oe,declarations:n.declarations||Oe,imports:n.imports||Oe,exports:n.exports||Oe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Sg(n,t){if(null==n)return Li;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=i,t&&(t[r]=s)}return e}const ie=lt;function dn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ue(n){return n[ml]||null}function en(n){return n[Kc]||null}function hn(n){return n[Yc]||null}function An(n,t){const e=n[Mg]||null;if(!e&&!0===t)throw new Error(`Type ${Ge(n)} does not have '\u0275mod' property.`);return e}function Cn(n){return Array.isArray(n)&&"object"==typeof n[1]}function oi(n){return Array.isArray(n)&&!0===n[1]}function Jc(n){return 0!=(4&n.flags)}function _l(n){return n.componentOffset>-1}function wl(n){return 1==(1&n.flags)}function ai(n){return null!==n.template}function n0(n){return 0!=(256&n[2])}function Rr(n,t){return n.hasOwnProperty(Ri)?n[Ri]:null}class o0{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Dn(){return xg}function xg(n){return n.type.prototype.ngOnChanges&&(n.setInput=l0),a0}function a0(){const n=Og(this),t=n?.current;if(t){const e=n.previous;if(e===Li)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function l0(n,t,e,i){const r=this.declaredInputs[e],s=Og(n)||function u0(n,t){return n[Pg]=t}(n,{previous:Li,current:null}),o=s.current||(s.current={}),l=s.previous,u=l[r];o[r]=new o0(u&&u.currentValue,t,l===Li),n[i]=t}Dn.ngInherit=!0;const Pg="__ngSimpleChanges__";function Og(n){return n[Pg]||null}function Lt(n){for(;Array.isArray(n);)n=n[0];return n}function Cl(n,t){return Lt(t[n])}function xn(n,t){return Lt(t[n.index])}function id(n,t){return n.data[t]}function ls(n,t){return n[t]}function Pn(n,t){const e=t[n];return Cn(e)?e:e[0]}function Dl(n){return 64==(64&n[2])}function rr(n,t){return null==t?null:n[t]}function Lg(n){n[18]=0}function rd(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const fe={lFrame:Gg(null),bindingsEnabled:!0};function Ng(){return fe.bindingsEnabled}function S(){return fe.lFrame.lView}function Ae(){return fe.lFrame.tView}function sr(n){return fe.lFrame.contextLView=n,n[8]}function or(n){return fe.lFrame.contextLView=null,n}function Qt(){let n=Fg();for(;null!==n&&64===n.type;)n=n.parent;return n}function Fg(){return fe.lFrame.currentTNode}function bi(n,t){const e=fe.lFrame;e.currentTNode=n,e.isParent=t}function sd(){return fe.lFrame.isParent}function od(){fe.lFrame.isParent=!1}function fn(){const n=fe.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function us(){return fe.lFrame.bindingIndex++}function Fi(n){const t=fe.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function E0(n,t){const e=fe.lFrame;e.bindingIndex=e.bindingRootIndex=n,ad(t)}function ad(n){fe.lFrame.currentDirectiveIndex=n}function Bg(){return fe.lFrame.currentQueryIndex}function ud(n){fe.lFrame.currentQueryIndex=n}function T0(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function jg(n,t,e){if(e&ae.SkipSelf){let r=t,s=n;for(;!(r=r.parent,null!==r||e&ae.Host||(r=T0(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;t=r,n=s}const i=fe.lFrame=$g();return i.currentTNode=t,i.lView=n,!0}function cd(n){const t=$g(),e=n[1];fe.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function $g(){const n=fe.lFrame,t=null===n?null:n.child;return null===t?Gg(n):t}function Gg(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function zg(){const n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Wg=zg;function dd(){const n=zg();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function pn(){return fe.lFrame.selectedIndex}function Nr(n){fe.lFrame.selectedIndex=n}function ut(){const n=fe.lFrame;return id(n.tView,n.selectedIndex)}function El(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const s=n.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:u,ngAfterViewChecked:h,ngOnDestroy:f}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-e,o),l&&((n.contentHooks||(n.contentHooks=[])).push(e,l),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,l)),u&&(n.viewHooks||(n.viewHooks=[])).push(-e,u),h&&((n.viewHooks||(n.viewHooks=[])).push(e,h),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,h)),null!=f&&(n.destroyHooks||(n.destroyHooks=[])).push(e,f)}}function Ml(n,t,e){qg(n,t,3,e)}function Tl(n,t,e,i){(3&n[2])===e&&qg(n,t,e,i)}function hd(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function qg(n,t,e,i){const s=i??-1,o=t.length-1;let l=0;for(let u=void 0!==i?65535&n[18]:0;u<o;u++)if("number"==typeof t[u+1]){if(l=t[u],null!=i&&l>=i)break}else t[u]<0&&(n[18]+=65536),(l<s||-1==s)&&(R0(n,e,t,u),n[18]=(4294901760&n[18])+u+2),u++}function R0(n,t,e,i){const r=e[i]<0,s=e[i+1],l=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class Co{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function pd(n,t,e){let i=0;for(;i<e.length;){const r=e[i];if("number"==typeof r){if(0!==r)break;i++;const s=e[i++],o=e[i++],l=e[i++];n.setAttribute(t,o,l,s)}else{const s=r,o=e[++i];Yg(s)?n.setProperty(t,s,o):n.setAttribute(t,s,o),i++}}return i}function Kg(n){return 3===n||4===n||6===n}function Yg(n){return 64===n.charCodeAt(0)}function Eo(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||Zg(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function Zg(n,t,e,i,r){let s=0,o=n.length;if(-1===t)o=-1;else for(;s<n.length;){const l=n[s++];if("number"==typeof l){if(l===t){o=-1;break}if(l>t){o=s-1;break}}}for(;s<n.length;){const l=n[s];if("number"==typeof l)break;if(l===e){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,t),s=o+1),n.splice(s++,0,e),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Qg(n){return-1!==n}function cs(n){return 32767&n}function ds(n,t){let e=function H0(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let gd=!0;function Il(n){const t=gd;return gd=n,t}let B0=0;const _i={};function Sl(n,t){const e=yd(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,md(i.data,n),md(t,null),md(i.blueprint,null));const r=Al(n,t),s=n.injectorIndex;if(Qg(r)){const o=cs(r),l=ds(r,t),u=l[1].data;for(let h=0;h<8;h++)t[s+h]=l[o+h]|u[o+h]}return t[s+8]=r,s}function md(n,t){n.push(0,0,0,0,0,0,0,0,t)}function yd(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Al(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){if(i=om(r),null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function vd(n,t,e){!function j0(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(mo)&&(i=e[mo]),null==i&&(i=e[mo]=B0++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function em(n,t,e){if(e&ae.Optional||void 0!==n)return n;dl()}function tm(n,t,e,i){if(e&ae.Optional&&void 0===i&&(i=null),0==(e&(ae.Self|ae.Host))){const r=n[9],s=Wn(void 0);try{return r?r.get(t,i,e&ae.Optional):Cg(t,i,e&ae.Optional)}finally{Wn(s)}}return em(i,0,e)}function nm(n,t,e,i=ae.Default,r){if(null!==n){if(1024&t[2]){const o=function q0(n,t,e,i,r){let s=n,o=t;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const l=im(s,o,e,i|ae.Self,_i);if(l!==_i)return l;let u=s.parent;if(!u){const h=o[21];if(h){const f=h.get(e,_i,i);if(f!==_i)return f}u=om(o),o=o[15]}s=u}return r}(n,t,e,i,_i);if(o!==_i)return o}const s=im(n,t,e,i,_i);if(s!==_i)return s}return tm(t,e,i,r)}function im(n,t,e,i,r){const s=function z0(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(mo)?n[mo]:void 0;return"number"==typeof t?t>=0?255&t:W0:t}(e);if("function"==typeof s){if(!jg(t,n,i))return i&ae.Host?em(r,0,i):tm(t,e,i,r);try{const o=s(i);if(null!=o||i&ae.Optional)return o;dl()}finally{Wg()}}else if("number"==typeof s){let o=null,l=yd(n,t),u=-1,h=i&ae.Host?t[16][6]:null;for((-1===l||i&ae.SkipSelf)&&(u=-1===l?Al(n,t):t[l+8],-1!==u&&sm(i,!1)?(o=t[1],l=cs(u),t=ds(u,t)):l=-1);-1!==l;){const f=t[1];if(rm(s,l,f.data)){const g=G0(l,t,e,o,i,h);if(g!==_i)return g}u=t[l+8],-1!==u&&sm(i,t[1].data[l+8]===h)&&rm(s,l,t)?(o=f,l=cs(u),t=ds(u,t)):l=-1}}return r}function G0(n,t,e,i,r,s){const o=t[1],l=o.data[n+8],f=kl(l,o,e,null==i?_l(l)&&gd:i!=o&&0!=(3&l.type),r&ae.Host&&s===l);return null!==f?hs(t,o,f,l):_i}function kl(n,t,e,i,r){const s=n.providerIndexes,o=t.data,l=1048575&s,u=n.directiveStart,f=s>>20,m=r?l+f:n.directiveEnd;for(let y=i?l:l+f;y<m;y++){const b=o[y];if(y<u&&e===b||y>=u&&b.type===e)return y}if(r){const y=o[u];if(y&&ai(y)&&y.type===e)return u}return null}function hs(n,t,e,i){let r=n[e];const s=t.data;if(function N0(n){return n instanceof Co}(r)){const o=r;o.resolving&&function OE(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new O(-200,`Circular dependency in DI detected for ${n}${e}`)}(function Fe(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pe(n)}(s[e]));const l=Il(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Wn(o.injectImpl):null;jg(n,i,ae.Default);try{r=n[e]=o.factory(void 0,s,n,i),t.firstCreatePass&&e>=i.directiveStart&&function L0(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=t.type.prototype;if(i){const o=xg(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),s&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s))}(e,s[e],t)}finally{null!==u&&Wn(u),Il(l),o.resolving=!1,Wg()}}return r}function rm(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function sm(n,t){return!(n&ae.Self||n&ae.Host&&t)}class fs{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return nm(this._tNode,this._lView,t,gl(i),e)}}function W0(){return new fs(Qt(),S())}function ze(n){return ir(()=>{const t=n.prototype.constructor,e=t[Ri]||bd(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[Ri]||bd(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function bd(n){return jc(n)?()=>{const t=bd(oe(n));return t&&t()}:Rr(n)}function om(n){const t=n[1],e=t.type;return 2===e?t.declTNode:1===e?n[6]:null}const gs="__parameters__";function ys(n,t,e){return ir(()=>{const i=function _d(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return l.annotation=o,l;function l(u,h,f){const g=u.hasOwnProperty(gs)?u[gs]:Object.defineProperty(u,gs,{value:[]})[gs];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(o),u}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class U{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=z({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function On(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),On(i,t)):t!==n&&t.push(i)}return t}function Fr(n,t){n.forEach(e=>Array.isArray(e)?Fr(e,t):t(e))}function lm(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function xl(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function Ln(n,t,e){let i=vs(n,t);return i>=0?n[1|i]=e:(i=~i,function Q0(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function Cd(n,t){const e=vs(n,t);if(e>=0)return n[1|e]}function vs(n,t){return function dm(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<e];if(t===o)return s<<e;o>t?r=s:i=s+1}return~(r<<e)}(n,t,1)}const Ao=go(ys("Optional"),8),ko=go(ys("SkipSelf"),4);var En=(()=>((En=En||{})[En.Important=1]="Important",En[En.DashCase=2]="DashCase",En))();const Sd=new Map;let bM=0;const kd="__ngContext__";function rn(n,t){Cn(t)?(n[kd]=t[20],function wM(n){Sd.set(n[20],n)}(t)):n[kd]=t}function Pd(n,t){return undefined(n,t)}function Lo(n){const t=n[3];return oi(t)?t[3]:t}function Od(n){return Pm(n[13])}function Ld(n){return Pm(n[4])}function Pm(n){for(;null!==n&&!oi(n);)n=n[4];return n}function _s(n,t,e,i,r){if(null!=i){let s,o=!1;oi(i)?s=i:Cn(i)&&(o=!0,i=i[0]);const l=Lt(i);0===n&&null!==e?null==r?Vm(t,e,l):Vr(t,e,l,r||null,!0):1===n&&null!==e?Vr(t,e,l,r||null,!0):2===n?function Bd(n,t,e){const i=Rl(n,t);i&&function jM(n,t,e,i){n.removeChild(t,e,i)}(n,i,t,e)}(t,l,o):3===n&&t.destroyNode(l),null!=s&&function zM(n,t,e,i,r){const s=e[7];s!==Lt(e)&&_s(t,n,i,s,r);for(let l=10;l<e.length;l++){const u=e[l];Ro(u[1],u,n,t,i,s)}}(t,n,s,e,r)}}function Nd(n,t,e){return n.createElement(t,e)}function Lm(n,t){const e=n[9],i=e.indexOf(t),r=t[3];512&t[2]&&(t[2]&=-513,rd(r,-1)),e.splice(i,1)}function Fd(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&Lm(r,i),t>0&&(n[e-1][4]=i[4]);const s=xl(n,10+t);!function LM(n,t){Ro(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-65}return i}function Rm(n,t){if(!(128&t[2])){const e=t[11];e.destroyNode&&Ro(n,t,e,3,null,null),function FM(n){let t=n[13];if(!t)return Vd(n[1],n);for(;t;){let e=null;if(Cn(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Cn(t)&&Vd(t[1],t),t=t[3];null===t&&(t=n),Cn(t)&&Vd(t[1],t),e=t&&t[4]}t=e}}(t)}}function Vd(n,t){if(!(128&t[2])){t[2]&=-65,t[2]|=128,function BM(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Co)){const s=e[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=r[s[o]],u=s[o+1];try{u.call(l)}finally{}}else try{s.call(r)}finally{}}}}(n,t),function HM(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?i[r=o]():i[r=-o].unsubscribe(),s+=2}else{const o=i[r=e[s+1]];e[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)(0,i[s])();t[7]=null}}(n,t),1===t[1].type&&t[11].destroy();const e=t[17];if(null!==e&&oi(t[3])){e!==t[3]&&Lm(e,t);const i=t[19];null!==i&&i.detachView(n)}!function CM(n){Sd.delete(n[20])}(t)}}function Nm(n,t,e){return function Fm(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===vi.None||s===vi.Emulated)return null}return xn(i,e)}}(n,t.parent,e)}function Vr(n,t,e,i,r){n.insertBefore(t,e,i,r)}function Vm(n,t,e){n.appendChild(t,e)}function Um(n,t,e,i,r){null!==i?Vr(n,t,e,i,r):Vm(n,t,e)}function Rl(n,t){return n.parentNode(t)}let Vl,Gd,Ul,jm=function Bm(n,t,e){return 40&n.type?xn(n,e):null};function Nl(n,t,e,i){const r=Nm(n,i,t),s=t[11],l=function Hm(n,t,e){return jm(n,t,e)}(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let u=0;u<e.length;u++)Um(s,r,e[u],l,!1);else Um(s,r,e,l,!1)}function Fl(n,t){if(null!==t){const e=t.type;if(3&e)return xn(t,n);if(4&e)return Hd(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return Fl(n,i);{const r=n[t.index];return oi(r)?Hd(-1,r):Lt(r)}}if(32&e)return Pd(t,n)()||Lt(n[t.index]);{const i=Gm(n,t);return null!==i?Array.isArray(i)?i[0]:Fl(Lo(n[16]),i):Fl(n,t.next)}}return null}function Gm(n,t){return null!==t?n[16][6].projection[t.projection]:null}function Hd(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return Fl(i,r)}return t[7]}function jd(n,t,e,i,r,s,o){for(;null!=e;){const l=i[e.index],u=e.type;if(o&&0===t&&(l&&rn(Lt(l),i),e.flags|=2),32!=(32&e.flags))if(8&u)jd(n,t,e.child,i,r,s,!1),_s(t,n,r,l,s);else if(32&u){const h=Pd(e,i);let f;for(;f=h();)_s(t,n,r,f,s);_s(t,n,r,l,s)}else 16&u?zm(n,t,i,e,r,s):_s(t,n,r,l,s);e=o?e.projectionNext:e.next}}function Ro(n,t,e,i,r,s){jd(e,i,n.firstChild,t,r,s,!1)}function zm(n,t,e,i,r,s){const o=e[16],u=o[6].projection[i.projection];if(Array.isArray(u))for(let h=0;h<u.length;h++)_s(t,n,r,u[h],s);else jd(n,t,u,o[3],r,s,!0)}function Wm(n,t,e){""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e)}function qm(n,t,e){const{mergedAttrs:i,classes:r,styles:s}=e;null!==i&&pd(n,t,i),null!==r&&Wm(n,t,r),null!==s&&function qM(n,t,e){n.setAttribute(t,"style",e)}(n,t,s)}function Ur(n){return function $d(){if(void 0===Vl&&(Vl=null,Ye.trustedTypes))try{Vl=Ye.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Vl}()?.createHTML(n)||n}function zd(){if(void 0===Ul&&(Ul=null,Ye.trustedTypes))try{Ul=Ye.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ul}function Ym(n){return zd()?.createHTML(n)||n}function Qm(n){return zd()?.createScriptURL(n)||n}class Hr{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ul})`}}class JM extends Hr{getTypeName(){return"HTML"}}class XM extends Hr{getTypeName(){return"Style"}}class eT extends Hr{getTypeName(){return"Script"}}class tT extends Hr{getTypeName(){return"URL"}}class nT extends Hr{getTypeName(){return"ResourceURL"}}function Rn(n){return n instanceof Hr?n.changingThisBreaksApplicationSecurity:n}function wi(n,t){const e=function iT(n){return n instanceof Hr&&n.getTypeName()||null}(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see ${ul})`)}return e===t}class uT{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ur(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch{return null}}}class cT{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ur(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=Ur(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const o=e.item(r).name;("xmlns:ns1"===o||0===o.indexOf("ns1:"))&&t.removeAttribute(o)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const hT=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Hl(n){return(n=String(n)).match(hT)?n:"unsafe:"+n}function Vi(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function No(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const Xm=Vi("area,br,col,hr,img,wbr"),ey=Vi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ty=Vi("rp,rt"),Wd=No(Xm,No(ey,Vi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),No(ty,Vi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),No(ty,ey)),qd=Vi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ny=No(qd,Vi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fT=Vi("script,style,template");class pT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wd.hasOwnProperty(e))return this.sanitizedSomething=!0,!fT.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,l=o.toLowerCase();if(!ny.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let u=s.value;qd[l]&&(u=Hl(u)),this.buf.push(" ",o,'="',iy(u),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wd.hasOwnProperty(e)&&!Xm.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(iy(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const gT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mT=/([^\#-~ |!])/g;function iy(n){return n.replace(/&/g,"&amp;").replace(gT,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(mT,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bl;function ry(n,t){let e=null;try{Bl=Bl||function Jm(n){const t=new cT(n);return function dT(){try{return!!(new window.DOMParser).parseFromString(Ur(""),"text/html")}catch{return!1}}()?new uT(t):t}(n);let i=t?String(t):"";e=Bl.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=e.innerHTML,e=Bl.getInertBodyElement(i)}while(i!==s);return Ur((new pT).sanitizeChildren(Kd(e)||e))}finally{if(e){const i=Kd(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function Kd(n){return"content"in n&&function yT(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var We=(()=>((We=We||{})[We.NONE=0]="NONE",We[We.HTML=1]="HTML",We[We.STYLE=2]="STYLE",We[We.SCRIPT=3]="SCRIPT",We[We.URL=4]="URL",We[We.RESOURCE_URL=5]="RESOURCE_URL",We))();function Yn(n){const t=Fo();return t?Ym(t.sanitize(We.HTML,n)||""):wi(n,"HTML")?Ym(Rn(n)):ry(function Km(){return void 0!==Gd?Gd:typeof document<"u"?document:void 0}(),pe(n))}function lr(n){const t=Fo();return t?t.sanitize(We.URL,n)||"":wi(n,"URL")?Rn(n):Hl(pe(n))}function sy(n){const t=Fo();if(t)return Qm(t.sanitize(We.RESOURCE_URL,n)||"");if(wi(n,"ResourceURL"))return Qm(Rn(n));throw new O(904,!1)}function Fo(){const n=S();return n&&n[12]}const jl=new U("ENVIRONMENT_INITIALIZER"),ay=new U("INJECTOR",-1),ly=new U("INJECTOR_DEF_TYPES");class uy{get(t,e=fo){if(e===fo){const i=new Error(`NullInjectorError: No provider for ${Ge(t)}!`);throw i.name="NullInjectorError",i}return e}}function ET(...n){return{\u0275providers:cy(0,n),\u0275fromNgModule:!0}}function cy(n,...t){const e=[],i=new Set;let r;return Fr(t,s=>{const o=s;Yd(o,e,[],i)&&(r||(r=[]),r.push(o))}),void 0!==r&&dy(r,e),e}function dy(n,t){for(let e=0;e<n.length;e++){const{providers:r}=n[e];Zd(r,s=>{t.push(s)})}}function Yd(n,t,e,i){if(!(n=oe(n)))return!1;let r=null,s=_g(n);const o=!s&&Ue(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=_g(u),!s)return!1;r=u}const l=i.has(r);if(o){if(l)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const h of u)Yd(h,t,e,i)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let h;i.add(r);try{Fr(s.imports,f=>{Yd(f,t,e,i)&&(h||(h=[]),h.push(f))})}finally{}void 0!==h&&dy(h,t)}if(!l){const h=Rr(r)||(()=>new r);t.push({provide:r,useFactory:h,deps:Oe},{provide:ly,useValue:r,multi:!0},{provide:jl,useValue:()=>P(r),multi:!0})}const u=s.providers;null==u||l||Zd(u,f=>{t.push(f)})}}return r!==n&&void 0!==n.providers}function Zd(n,t){for(let e of n)$c(e)&&(e=e.\u0275providers),Array.isArray(e)?Zd(e,t):t(e)}const MT=$e({provide:String,useValue:$e});function Qd(n){return null!==n&&"object"==typeof n&&MT in n}function Br(n){return"function"==typeof n}const Jd=new U("Set Injector scope."),$l={},IT={};let Xd;function Gl(){return void 0===Xd&&(Xd=new uy),Xd}class Ui{}class py extends Ui{constructor(t,e,i,r){super(),this.parent=e,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,th(t,o=>this.processProvider(o)),this.records.set(ay,ws(void 0,this)),r.has("environment")&&this.records.set(Ui,ws(void 0,this));const s=this.records.get(Jd);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ly.multi,Oe,ae.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const e=is(this),i=Wn(void 0);try{return t()}finally{is(e),Wn(i)}}get(t,e=fo,i=ae.Default){this.assertNotDestroyed(),i=gl(i);const r=is(this),s=Wn(void 0);try{if(!(i&ae.SkipSelf)){let l=this.records.get(t);if(void 0===l){const u=function PT(n){return"function"==typeof n||"object"==typeof n&&n instanceof U}(t)&&hl(t);l=u&&this.injectableDefInScope(u)?ws(eh(t),$l):null,this.records.set(t,l)}if(null!=l)return this.hydrate(t,l)}return(i&ae.Self?Gl():this.parent).get(t,e=i&ae.Optional&&e===fo?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[pl]=o[pl]||[]).unshift(Ge(t)),r)throw o;return function KE(n,t,e,i){const r=n[pl];throw t[Dg]&&r.unshift(t[Dg]),n.message=function YE(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=Ge(t);if(Array.isArray(t))r=t.map(Ge).join(" -> ");else if("object"==typeof t){let s=[];for(let o in t)if(t.hasOwnProperty(o)){let l=t[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):Ge(l)))}r=`{${s.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(GE,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[pl]=null,n}(o,t,"R3InjectorError",this.source)}throw o}finally{Wn(s),is(r)}}resolveInjectorInitializers(){const t=is(this),e=Wn(void 0);try{const i=this.get(jl.multi,Oe,ae.Self);for(const r of i)r()}finally{is(t),Wn(e)}}toString(){const t=[],e=this.records;for(const i of e.keys())t.push(Ge(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(t){let e=Br(t=oe(t))?t:oe(t&&t.provide);const i=function AT(n){return Qd(n)?ws(void 0,n.useValue):ws(gy(n),$l)}(t);if(Br(t)||!0!==t.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=ws(void 0,$l,!0),r.factory=()=>qc(r.multi),this.records.set(e,r)),e=t,r.multi.push(t)}this.records.set(e,i)}hydrate(t,e){return e.value===$l&&(e.value=IT,e.value=e.factory()),"object"==typeof e.value&&e.value&&function xT(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=oe(t.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}}function eh(n){const t=hl(n),e=null!==t?t.factory:Rr(n);if(null!==e)return e;if(n instanceof U)throw new O(204,!1);if(n instanceof Function)return function ST(n){const t=n.length;if(t>0)throw function So(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}(t,"?"),new O(204,!1);const e=function UE(n){const t=n&&(n[fl]||n[wg]);if(t){const e=function HE(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new O(204,!1)}function gy(n,t,e){let i;if(Br(n)){const r=oe(n);return Rr(r)||eh(r)}if(Qd(n))i=()=>oe(n.useValue);else if(function fy(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...qc(n.deps||[]));else if(function hy(n){return!(!n||!n.useExisting)}(n))i=()=>P(oe(n.useExisting));else{const r=oe(n&&(n.useClass||n.provide));if(!function kT(n){return!!n.deps}(n))return Rr(r)||eh(r);i=()=>new r(...qc(n.deps))}return i}function ws(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function th(n,t){for(const e of n)Array.isArray(e)?th(e,t):e&&$c(e)?th(e.\u0275providers,t):t(e)}class OT{}class my{}class RT{resolveComponentFactory(t){throw function LT(n){const t=Error(`No component factory found for ${Ge(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let Vo=(()=>{class n{}return n.NULL=new RT,n})();function NT(){return Cs(Qt(),S())}function Cs(n,t){return new _t(xn(n,t))}let _t=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=NT,n})();function FT(n){return n instanceof _t?n.nativeElement:n}class vy{}let Nn=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function VT(){const n=S(),e=Pn(Qt().index,n);return(Cn(e)?e:n)[11]}(),n})(),UT=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class jr{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const HT=new jr("15.0.1"),nh={};function rh(n){return n.ngOriginalError}class Ds{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t);this._console.error("ERROR",t),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&rh(t);for(;e&&rh(e);)e=rh(e);return e||null}}function by(n){return n.ownerDocument.defaultView}function Hi(n){return n instanceof Function?n():n}function wy(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=t.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}e=r+1}}const Cy="ng-template";function ZT(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==wy(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function Dy(n){return 4===n.type&&n.value!==Cy}function QT(n,t,e){return t===(4!==n.type||e?n.value:Cy)}function JT(n,t,e){let i=4;const r=n.attrs||[],s=function tI(n){for(let t=0;t<n.length;t++)if(Kg(n[t]))return t;return n.length}(r);let o=!1;for(let l=0;l<t.length;l++){const u=t[l];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!QT(n,u,e)||""===u&&1===t.length){if(li(i))return!1;o=!0}}else{const h=8&i?u:t[++l];if(8&i&&null!==n.attrs){if(!ZT(n.attrs,h,e)){if(li(i))return!1;o=!0}continue}const g=XT(8&i?"class":u,r,Dy(n),e);if(-1===g){if(li(i))return!1;o=!0;continue}if(""!==h){let m;m=g>s?"":r[g+1].toLowerCase();const y=8&i?m:null;if(y&&-1!==wy(y,h,0)||2&i&&h!==m){if(li(i))return!1;o=!0}}}}else{if(!o&&!li(i)&&!li(u))return!1;if(o&&li(u))continue;o=!1,i=u|1&i}}return li(i)||o}function li(n){return 0==(1&n)}function XT(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let s=!1;for(;r<t.length;){const o=t[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=t[++r];for(;"string"==typeof l;)l=t[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function nI(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function Ey(n,t,e=!1){for(let i=0;i<t.length;i++)if(JT(n,t[i],e))return!0;return!1}function My(n,t){return n?":not("+t.trim()+")":t}function rI(n){let t=n[0],e=1,i=2,r="",s=!1;for(;e<n.length;){let o=n[e];if("string"==typeof o)if(2&i){const l=n[++e];r+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!li(o)&&(t+=My(s,r),r=""),i=o,s=s||!li(i);e++}return""!==r&&(t+=My(s,r)),t}const ge={};function v(n){Ty(Ae(),S(),pn()+n,!1)}function Ty(n,t,e,i){if(!i)if(3==(3&t[2])){const s=n.preOrderCheckHooks;null!==s&&Ml(t,s,e)}else{const s=n.preOrderHooks;null!==s&&Tl(t,s,0,e)}Nr(e)}function ky(n,t=null,e=null,i){const r=xy(n,t,e,i);return r.resolveInjectorInitializers(),r}function xy(n,t=null,e=null,i,r=new Set){const s=[e||Oe,ET(n)];return i=i||("object"==typeof n?void 0:Ge(n)),new py(s,t||Gl(),i||null,r)}let Fn=(()=>{class n{static create(e,i){if(Array.isArray(e))return ky({name:""},i,e,"");{const r=e.name??"";return ky({name:r},e.parent,e.providers,r)}}}return n.THROW_IF_NOT_FOUND=fo,n.NULL=new uy,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>P(ay)}),n.__NG_ELEMENT_ID__=-1,n})();function C(n,t=ae.Default){const e=S();return null===e?P(n,t):nm(Qt(),e,oe(n),t)}function uh(){throw new Error("invalid")}function Wl(n,t){return n<<17|t<<2}function ui(n){return n>>17&32767}function ch(n){return 2|n}function Bi(n){return(131068&n)>>2}function dh(n,t){return-131069&n|t<<2}function hh(n){return 1|n}function Ky(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],s=e[i+1];if(-1!==s){const o=n.data[s];ud(r),o.contentQueries(2,t[s],s)}}}function Yl(n,t,e,i,r,s,o,l,u,h,f){const g=t.blueprint.slice();return g[0]=r,g[2]=76|i,(null!==f||n&&1024&n[2])&&(g[2]|=1024),Lg(g),g[3]=g[15]=n,g[8]=e,g[10]=o||n&&n[10],g[11]=l||n&&n[11],g[12]=u||n&&n[12]||null,g[9]=h||n&&n[9]||null,g[6]=s,g[20]=function _M(){return bM++}(),g[21]=f,g[16]=2==t.type?n[16]:g,g}function Ts(n,t,e,i,r){let s=n.data[t];if(null===s)s=function _h(n,t,e,i,r){const s=Fg(),o=sd(),u=n.data[t]=function HI(n,t,e,i,r,s){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(n,t,e,i,r),function D0(){return fe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=i,s.attrs=r;const o=function wo(){const n=fe.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return bi(s,!0),s}function Uo(n,t,e,i){if(0===e)return-1;const r=t.length;for(let s=0;s<e;s++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function wh(n,t,e){cd(t);try{const i=n.viewQuery;null!==i&&xh(1,i,e);const r=n.template;null!==r&&Yy(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ky(n,t),n.staticViewQueries&&xh(2,n.viewQuery,e);const s=n.components;null!==s&&function FI(n,t){for(let e=0;e<t.length;e++)sS(n,t[e])}(t,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,dd()}}function Zl(n,t,e,i){const r=t[2];if(128!=(128&r)){cd(t);try{Lg(t),function Ug(n){return fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&Yy(n,t,e,2,i);const o=3==(3&r);if(o){const h=n.preOrderCheckHooks;null!==h&&Ml(t,h,null)}else{const h=n.preOrderHooks;null!==h&&Tl(t,h,0,null),hd(t,0)}if(function iS(n){for(let t=Od(n);null!==t;t=Ld(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],s=r[3];0==(512&r[2])&&rd(s,1),r[2]|=512}}}(t),function nS(n){for(let t=Od(n);null!==t;t=Ld(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];Dl(i)&&Zl(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&Ky(n,t),o){const h=n.contentCheckHooks;null!==h&&Ml(t,h)}else{const h=n.contentHooks;null!==h&&Tl(t,h,1),hd(t,1)}!function RI(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Nr(~r);else{const s=r,o=e[++i],l=e[++i];E0(o,s),l(2,t[s])}}}finally{Nr(-1)}}(n,t);const l=n.components;null!==l&&function NI(n,t){for(let e=0;e<t.length;e++)rS(n,t[e])}(t,l);const u=n.viewQuery;if(null!==u&&xh(2,u,i),o){const h=n.viewCheckHooks;null!==h&&Ml(t,h)}else{const h=n.viewHooks;null!==h&&Tl(t,h,2),hd(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),t[2]&=-41,512&t[2]&&(t[2]&=-513,rd(t[3],-1))}finally{dd()}}}function Yy(n,t,e,i,r){const s=pn(),o=2&i;try{Nr(-1),o&&t.length>22&&Ty(n,t,22,!1),e(i,r)}finally{Nr(s)}}function Ch(n,t,e){if(Jc(t)){const r=t.directiveEnd;for(let s=t.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,e[s],s)}}}function Dh(n,t,e){!Ng()||(function WI(n,t,e,i){const r=e.directiveStart,s=e.directiveEnd;n.firstCreatePass||Sl(e,t),rn(i,t);const o=e.initialInputs;for(let l=r;l<s;l++){const u=n.data[l],h=ai(u);h&&XI(t,e,u);const f=hs(t,n,l,e);rn(f,t),null!==o&&eS(0,l-r,f,u,0,o),h&&(Pn(e.index,t)[8]=f)}}(n,t,e,xn(e,t)),64==(64&e.flags)&&nv(n,t,e))}function Eh(n,t,e=xn){const i=t.localNames;if(null!==i){let r=t.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],l=-1===o?e(t,n):n[o];n[r++]=l}}}function Zy(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=Mh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function Mh(n,t,e,i,r,s,o,l,u,h){const f=22+i,g=f+r,m=function VI(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:ge);return e}(f,g),y="function"==typeof h?h():h;return m[1]={type:n,blueprint:m,template:e,queries:null,viewQuery:l,declTNode:t,data:m.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1}}function Qy(n,t,e,i){const r=rv(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&sv(n).push(i,r.length-1))}function Jy(n,t,e,i){for(let r in n)if(n.hasOwnProperty(r)){e=null===e?{}:e;const s=n[r];null===i?Xy(e,t,r,s):i.hasOwnProperty(r)&&Xy(e,t,i[r],s)}return e}function Xy(n,t,e,i){n.hasOwnProperty(e)?n[e].push(t,i):n[e]=[t,i]}function Vn(n,t,e,i,r,s,o,l){const u=xn(t,e);let f,h=t.inputs;!l&&null!=h&&(f=h[i])?(Ph(n,e,f,i,r),_l(t)&&ev(e,t.index)):3&t.type&&(i=function jI(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,t.value||"",i):r,s.setProperty(u,i,r))}function ev(n,t){const e=Pn(t,n);16&e[2]||(e[2]|=32)}function Th(n,t,e,i){let r=!1;if(Ng()){const s=null===i?null:{"":-1},o=function KI(n,t){const e=n.directiveRegistry;let i=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Ey(t,o.selectors,!1))if(i||(i=[]),ai(o))if(null!==o.findHostDirectiveDefs){const l=[];r=r||new Map,o.findHostDirectiveDefs(o,l,r),i.unshift(...l,o),Ih(n,t,l.length)}else i.unshift(o),Ih(n,t,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,e);let l,u;null===o?l=u=null:[l,u]=o,null!==l&&(r=!0,tv(n,t,e,l,s,u)),s&&function YI(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const s=e[t[r+1]];if(null==s)throw new O(-301,!1);i.push(t[r],s)}}}(e,i,s)}return e.mergedAttrs=Eo(e.mergedAttrs,e.attrs),r}function tv(n,t,e,i,r,s){for(let h=0;h<i.length;h++)vd(Sl(e,t),n,i[h].type);!function QI(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}(e,n.data.length,i.length);for(let h=0;h<i.length;h++){const f=i[h];f.providersResolver&&f.providersResolver(f)}let o=!1,l=!1,u=Uo(n,t,i.length,null);for(let h=0;h<i.length;h++){const f=i[h];e.mergedAttrs=Eo(e.mergedAttrs,f.hostAttrs),JI(n,e,t,u,f),ZI(u,f,r),null!==f.contentQueries&&(e.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(e.flags|=64);const g=f.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),o=!0),!l&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function BI(n,t,e){const r=t.directiveEnd,s=n.data,o=t.attrs,l=[];let u=null,h=null;for(let f=t.directiveStart;f<r;f++){const g=s[f],m=e?e.get(g):null,b=m?m.outputs:null;u=Jy(g.inputs,f,u,m?m.inputs:null),h=Jy(g.outputs,f,h,b);const D=null===u||null===o||Dy(t)?null:tS(u,f,o);l.push(D)}null!==u&&(u.hasOwnProperty("class")&&(t.flags|=8),u.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=l,t.inputs=u,t.outputs=h}(n,e,s)}function nv(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,o=function M0(){return fe.lFrame.currentDirectiveIndex}();try{Nr(s);for(let l=i;l<r;l++){const u=n.data[l],h=t[l];ad(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&qI(u,h)}}finally{Nr(-1),ad(o)}}function qI(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function Ih(n,t,e){t.componentOffset=e,(n.components||(n.components=[])).push(t.index)}function ZI(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;ai(t)&&(e[""]=n)}}function JI(n,t,e,i,r){n.data[i]=r;const s=r.factory||(r.factory=Rr(r.type)),o=new Co(s,ai(r),C);n.blueprint[i]=o,e[i]=o,function GI(n,t,e,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const l=~t.index;(function zI(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(o)!=l&&o.push(l),o.push(e,i,s)}}(n,t,i,Uo(n,e,r.hostVars,ge),r)}function XI(n,t,e){const i=xn(t,n),r=Zy(e),s=n[10],o=Ql(n,Yl(n,r,null,e.onPush?32:16,i,t,s,s.createRenderer(i,e),null,null,null));n[t.index]=o}function Ci(n,t,e,i,r,s){const o=xn(n,t);!function Sh(n,t,e,i,r,s,o){if(null==s)n.removeAttribute(t,r,e);else{const l=null==o?pe(s):o(s,i||"",r);n.setAttribute(t,r,l,e)}}(t[11],o,s,n.value,e,i,r)}function eS(n,t,e,i,r,s){const o=s[t];if(null!==o){const l=i.setInput;for(let u=0;u<o.length;){const h=o[u++],f=o[u++],g=o[u++];null!==l?i.setInput(e,g,h,f):e[f]=g}}}function tS(n,t,e){let i=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let l=0;l<o.length;l+=2)if(o[l]===t){i.push(s,o[l+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function iv(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function rS(n,t){const e=Pn(t,n);if(Dl(e)){const i=e[1];48&e[2]?Zl(i,e,i.template,e[8]):e[5]>0&&Ah(e)}}function Ah(n){for(let i=Od(n);null!==i;i=Ld(i))for(let r=10;r<i.length;r++){const s=i[r];if(Dl(s))if(512&s[2]){const o=s[1];Zl(o,s,o.template,s[8])}else s[5]>0&&Ah(s)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=Pn(e[i],n);Dl(r)&&r[5]>0&&Ah(r)}}function sS(n,t){const e=Pn(t,n),i=e[1];(function oS(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),wh(i,e,e[8])}function Ql(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function kh(n){for(;n;){n[2]|=32;const t=Lo(n);if(n0(n)&&!t)return n;n=t}return null}function Jl(n,t,e,i=!0){const r=t[10];r.begin&&r.begin();try{Zl(n,t,n.template,e)}catch(o){throw i&&av(t,o),o}finally{r.end&&r.end()}}function xh(n,t,e){ud(0),t(n,e)}function rv(n){return n[7]||(n[7]=[])}function sv(n){return n.cleanup||(n.cleanup=[])}function av(n,t){const e=n[9],i=e?e.get(Ds,null):null;i&&i.handleError(t)}function Ph(n,t,e,i,r){for(let s=0;s<e.length;){const o=e[s++],l=e[s++],u=t[o],h=n.data[o];null!==h.setInput?h.setInput(u,r,i,l):u[l]=r}}function ji(n,t,e){const i=Cl(t,n);!function Om(n,t,e){n.setValue(t,e)}(n[11],i,e)}function Xl(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,s=0;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?s=l:1==s?r=Bc(r,l):2==s&&(i=Bc(i,l+": "+t[++o]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}function eu(n,t,e,i,r=!1){for(;null!==e;){const s=t[e.index];if(null!==s&&i.push(Lt(s)),oi(s))for(let l=10;l<s.length;l++){const u=s[l],h=u[1].firstChild;null!==h&&eu(u[1],u,h,i)}const o=e.type;if(8&o)eu(n,t,e.child,i);else if(32&o){const l=Pd(e,t);let u;for(;u=l();)i.push(u)}else if(16&o){const l=Gm(t,e);if(Array.isArray(l))i.push(...l);else{const u=Lo(t[16]);eu(u[1],u,l,i,!0)}}e=r?e.projectionNext:e.next}return i}class Ho{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return eu(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(oi(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(Fd(t,i),xl(e,i))}this._attachedToViewContainer=!1}Rm(this._lView[1],this._lView)}onDestroy(t){Qy(this._lView[1],this._lView,null,t)}markForCheck(){kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Jl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function NM(n,t){Ro(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=t}}class aS extends Ho{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Jl(t[1],t,t[8],!1)}checkNoChanges(){}get context(){return null}}class Oh extends Vo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Ue(t);return new Bo(e,this.ngModule)}}function lv(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class uS{constructor(t,e){this.injector=t,this.parentInjector=e}get(t,e,i){i=gl(i);const r=this.injector.get(t,nh,i);return r!==nh||e===nh?r:this.parentInjector.get(t,e,i)}}class Bo extends my{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function sI(n){return n.map(rI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return lv(this.componentDef.inputs)}get outputs(){return lv(this.componentDef.outputs)}create(t,e,i,r){let s=(r=r||this.ngModule)instanceof Ui?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new uS(t,s):t,l=o.get(vy,null);if(null===l)throw new O(407,!1);const u=o.get(UT,null),h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",g=i?function UI(n,t,e){return n.selectRootElement(t,e===vi.ShadowDom)}(h,i,this.componentDef.encapsulation):Nd(h,f,function lS(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(f)),m=this.componentDef.onPush?288:272,y=Mh(0,null,null,1,0,null,null,null,null,null),b=Yl(null,y,null,m,null,null,l,h,u,o,null);let D,I;cd(b);try{const k=this.componentDef;let B,M=null;k.findHostDirectiveDefs?(B=[],M=new Map,k.findHostDirectiveDefs(k,B,M),B.push(k)):B=[k];const ee=function hS(n,t){const e=n[1];return n[22]=t,Ts(e,22,2,"#host",null)}(b,g),Re=function fS(n,t,e,i,r,s,o,l){const u=r[1];!function pS(n,t,e,i){for(const r of n)t.mergedAttrs=Eo(t.mergedAttrs,r.hostAttrs);null!==t.mergedAttrs&&(Xl(t,t.mergedAttrs,!0),null!==e&&qm(i,e,t))}(i,n,t,o);const h=s.createRenderer(t,e),f=Yl(r,Zy(e),null,e.onPush?32:16,r[n.index],n,s,h,l||null,null,null);return u.firstCreatePass&&Ih(u,n,i.length-1),Ql(r,f),r[n.index]=f}(ee,g,k,B,b,l,h);I=id(y,22),g&&function mS(n,t,e,i){if(i)pd(n,e,["ng-version",HT.full]);else{const{attrs:r,classes:s}=function oI(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&t.push(s,n[++i]):8===r&&e.push(s);else{if(!li(r))break;r=s}i++}return{attrs:t,classes:e}}(t.selectors[0]);r&&pd(n,e,r),s&&s.length>0&&Wm(n,e,s.join(" "))}}(h,k,g,i),void 0!==e&&function yS(n,t,e){const i=n.projection=[];for(let r=0;r<t.length;r++){const s=e[r];i.push(null!=s?Array.from(s):null)}}(I,this.ngContentSelectors,e),D=function gS(n,t,e,i,r,s){const o=Qt(),l=r[1],u=xn(o,r);tv(l,r,o,e,null,i);for(let f=0;f<e.length;f++)rn(hs(r,l,o.directiveStart+f,o),r);nv(l,r,o),u&&rn(u,r);const h=hs(r,l,o.directiveStart+o.componentOffset,o);if(n[8]=r[8]=h,null!==s)for(const f of s)f(h,t);return Ch(l,o,n),h}(Re,k,B,M,b,[vS]),wh(y,b,null)}finally{dd()}return new dS(this.componentType,D,Cs(I,b),b,I)}}class dS extends OT{constructor(t,e,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=e,this.hostView=this.changeDetectorRef=new aS(r),this.componentType=t}setInput(t,e){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[t])){const s=this._rootLView;Ph(s[1],s,r,t,e),ev(s,this._tNode.index)}}get injector(){return new fs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function vS(){const n=Qt();El(S()[1],n)}function we(n){let t=function uv(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(ai(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new O(903,!1);r=t.\u0275dir}if(r){if(e){i.push(r);const o=n;o.inputs=Lh(n.inputs),o.declaredInputs=Lh(n.declaredInputs),o.outputs=Lh(n.outputs);const l=r.hostBindings;l&&CS(n,l);const u=r.viewQuery,h=r.contentQueries;if(u&&_S(n,u),h&&wS(n,h),Hc(n.inputs,r.inputs),Hc(n.declaredInputs,r.declaredInputs),Hc(n.outputs,r.outputs),ai(r)&&r.data.animation){const f=n.data;f.animation=(f.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(n),l===we&&(e=!1)}}t=Object.getPrototypeOf(t)}!function bS(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Eo(r.hostAttrs,e=Eo(e,r.hostAttrs))}}(i)}function Lh(n){return n===Li?{}:n===Oe?[]:n}function _S(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function wS(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,s)=>{t(i,r,s),e(i,r,s)}:t}function CS(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let tu=null;function $r(){if(!tu){const n=Ye.Symbol;if(n&&n.iterator)tu=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(tu=i)}}}return tu}function jo(n){return!!Rh(n)&&(Array.isArray(n)||!(n instanceof Map)&&$r()in n)}function Rh(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Di(n,t,e){return n[t]=e}function sn(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Gr(n,t,e,i){const r=sn(n,t,e);return sn(n,t+1,i)||r}function on(n,t,e,i){const r=S();return sn(r,us(),t)&&(Ae(),Ci(ut(),r,n,t,e,i)),on}function Ss(n,t,e,i){return sn(n,us(),e)?t+pe(e)+i:ge}function As(n,t,e,i,r,s){const l=Gr(n,function Ni(){return fe.lFrame.bindingIndex}(),e,r);return Fi(2),l?t+pe(e)+i+pe(r)+s:ge}function ve(n,t,e,i,r,s,o,l){const u=S(),h=Ae(),f=n+22,g=h.firstCreatePass?function PS(n,t,e,i,r,s,o,l,u){const h=t.consts,f=Ts(t,n,4,o||null,rr(h,l));Th(t,e,f,rr(h,u)),El(t,f);const g=f.tViews=Mh(2,f,i,r,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,h);return null!==t.queries&&(t.queries.template(t,f),g.queries=t.queries.embeddedTView(f)),f}(f,h,u,t,e,i,r,s,o):h.data[f];bi(g,!1);const m=u[11].createComment("");Nl(h,u,m,g),rn(m,u),Ql(u,u[f]=iv(m,u,m,g)),wl(g)&&Dh(h,u,g),null!=o&&Eh(u,g,l)}function E(n,t,e){const i=S();return sn(i,us(),t)&&Vn(Ae(),ut(),i,n,t,i[11],e,!1),E}function Nh(n,t,e,i,r){const o=r?"class":"style";Ph(n,e,t.inputs[o],o,i)}function c(n,t,e,i){const r=S(),s=Ae(),o=22+n,l=r[11],u=r[o]=Nd(l,t,function O0(){return fe.lFrame.currentNamespace}()),h=s.firstCreatePass?function LS(n,t,e,i,r,s,o){const l=t.consts,h=Ts(t,n,2,r,rr(l,s));return Th(t,e,h,rr(l,o)),null!==h.attrs&&Xl(h,h.attrs,!1),null!==h.mergedAttrs&&Xl(h,h.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,h),h}(o,s,r,0,t,e,i):s.data[o];return bi(h,!0),qm(l,u,h),32!=(32&h.flags)&&Nl(s,r,u,h),0===function y0(){return fe.lFrame.elementDepthCount}()&&rn(u,r),function v0(){fe.lFrame.elementDepthCount++}(),wl(h)&&(Dh(s,r,h),Ch(s,h,r)),null!==i&&Eh(r,h),c}function d(){let n=Qt();sd()?od():(n=n.parent,bi(n,!1));const t=n;!function b0(){fe.lFrame.elementDepthCount--}();const e=Ae();return e.firstCreatePass&&(El(e,n),Jc(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function V0(n){return 0!=(8&n.flags)}(t)&&Nh(e,t,S(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function U0(n){return 0!=(16&n.flags)}(t)&&Nh(e,t,S(),t.stylesWithoutHost,!1),d}function p(n,t,e,i){return c(n,t,e,i),d(),p}function Go(n,t,e){const i=S(),r=Ae(),s=n+22,o=r.firstCreatePass?function RS(n,t,e,i,r){const s=t.consts,o=rr(s,i),l=Ts(t,n,8,"ng-container",o);return null!==o&&Xl(l,o,!0),Th(t,e,l,rr(s,r)),null!==t.queries&&t.queries.elementStart(t,l),l}(s,r,i,t,e):r.data[s];bi(o,!0);const l=i[s]=i[11].createComment("");return Nl(r,i,l,o),rn(l,i),wl(o)&&(Dh(r,i,o),Ch(r,o,i)),null!=e&&Eh(i,o),Go}function zo(){let n=Qt();const t=Ae();return sd()?od():(n=n.parent,bi(n,!1)),t.firstCreatePass&&(El(t,n),Jc(n)&&t.queries.elementEnd(n)),zo}function dr(){return S()}function Wo(n){return!!n&&"function"==typeof n.then}const Fh=function Ev(n){return!!n&&"function"==typeof n.subscribe};function je(n,t,e,i){const r=S(),s=Ae(),o=Qt();return function Tv(n,t,e,i,r,s,o){const l=wl(i),h=n.firstCreatePass&&sv(n),f=t[8],g=rv(t);let m=!0;if(3&i.type||o){const D=xn(i,t),I=o?o(D):D,k=g.length,B=o?ee=>o(Lt(ee[i.index])):i.index;let M=null;if(!o&&l&&(M=function NS(n,t,e,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===i){const l=t[7],u=r[s+2];return l.length>u?l[u]:null}"string"==typeof o&&(s+=2)}return null}(n,t,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,m=!1;else{s=Sv(i,t,f,s,!1);const ee=e.listen(I,r,s);g.push(s,ee),h&&h.push(r,B,k,k+1)}}else s=Sv(i,t,f,s,!1);const y=i.outputs;let b;if(m&&null!==y&&(b=y[r])){const D=b.length;if(D)for(let I=0;I<D;I+=2){const Re=t[b[I]][b[I+1]].subscribe(s),rt=g.length;g.push(s,Re),h&&h.push(r,i.index,rt,-(rt+1))}}}(s,r,r[11],o,n,t,i),je}function Iv(n,t,e,i){try{return!1!==e(i)}catch(r){return av(n,r),!1}}function Sv(n,t,e,i,r){return function s(o){if(o===Function)return i;kh(n.componentOffset>-1?Pn(n.index,t):t);let u=Iv(t,0,i,o),h=s.__ngNextListenerFn__;for(;h;)u=Iv(t,0,h,o)&&u,h=h.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function be(n=1){return function I0(n){return(fe.lFrame.contextLView=function S0(n,t){for(;n>0;)t=t[15],n--;return t}(n,fe.lFrame.contextLView))[8]}(n)}function Nt(n,t,e){return qo(n,"",t,"",e),Nt}function qo(n,t,e,i,r){const s=S(),o=Ss(s,t,e,i);return o!==ge&&Vn(Ae(),ut(),s,n,o,s[11],r,!1),qo}function Vh(n,t,e,i,r,s,o){const l=S(),u=As(l,t,e,i,r,s);return u!==ge&&Vn(Ae(),ut(),l,n,u,l[11],o,!1),Vh}function Vv(n,t,e,i,r){const s=n[e+1],o=null===t;let l=i?ui(s):Bi(s),u=!1;for(;0!==l&&(!1===u||o);){const f=n[l+1];HS(n[l],t)&&(u=!0,n[l+1]=i?hh(f):ch(f)),l=i?ui(f):Bi(f)}u&&(n[e+1]=i?ch(s):hh(s))}function HS(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&vs(n,t)>=0}function iu(n,t,e){return ci(n,t,e,!1),iu}function Un(n,t){return ci(n,t,null,!0),Un}function ci(n,t,e,i){const r=S(),s=Ae(),o=Fi(2);s.firstUpdatePass&&function Wv(n,t,e,i){const r=n.data;if(null===r[e+1]){const s=r[pn()],o=function zv(n,t){return t>=n.expandoStartIndex}(n,e);(function Zv(n,t){return 0!=(n.flags&(t?8:16))})(s,i)&&null===t&&!o&&(t=!1),t=function YS(n,t,e,i){const r=function ld(n){const t=fe.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let s=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=Ko(e=Uh(null,n,t,e,i),t.attrs,i),s=null);else{const o=t.directiveStylingLast;if(-1===o||n[o]!==r)if(e=Uh(r,n,t,e,i),null===s){let u=function ZS(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Bi(i))return n[ui(i)]}(n,t,i);void 0!==u&&Array.isArray(u)&&(u=Uh(null,n,t,u[1],i),u=Ko(u,t.attrs,i),function QS(n,t,e,i){n[ui(e?t.classBindings:t.styleBindings)]=i}(n,t,i,u))}else s=function JS(n,t,e){let i;const r=t.directiveEnd;for(let s=1+t.directiveStylingLast;s<r;s++)i=Ko(i,n[s].hostAttrs,e);return Ko(i,t.attrs,e)}(n,t,i)}return void 0!==s&&(i?t.residualClasses=s:t.residualStyles=s),e}(r,s,t,i),function VS(n,t,e,i,r,s){let o=s?t.classBindings:t.styleBindings,l=ui(o),u=Bi(o);n[i]=e;let f,h=!1;if(Array.isArray(e)){const g=e;f=g[1],(null===f||vs(g,f)>0)&&(h=!0)}else f=e;if(r)if(0!==u){const m=ui(n[l+1]);n[i+1]=Wl(m,l),0!==m&&(n[m+1]=dh(n[m+1],i)),n[l+1]=function MI(n,t){return 131071&n|t<<17}(n[l+1],i)}else n[i+1]=Wl(l,0),0!==l&&(n[l+1]=dh(n[l+1],i)),l=i;else n[i+1]=Wl(u,0),0===l?l=i:n[u+1]=dh(n[u+1],i),u=i;h&&(n[i+1]=ch(n[i+1])),Vv(n,f,i,!0),Vv(n,f,i,!1),function US(n,t,e,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof t&&vs(s,t)>=0&&(e[i+1]=hh(e[i+1]))}(t,f,n,i,s),o=Wl(l,u),s?t.classBindings=o:t.styleBindings=o}(r,s,t,e,o,i)}}(s,n,o,i),t!==ge&&sn(r,o,t)&&function Kv(n,t,e,i,r,s,o,l){if(!(3&t.type))return;const u=n.data,h=u[l+1];ru(function Hy(n){return 1==(1&n)}(h)?Yv(u,t,e,r,Bi(h),o):void 0)||(ru(s)||function Uy(n){return 2==(2&n)}(h)&&(s=Yv(u,null,e,r,l,o)),function WM(n,t,e,i,r){if(t)r?n.addClass(e,i):n.removeClass(e,i);else{let s=-1===i.indexOf("-")?void 0:En.DashCase;null==r?n.removeStyle(e,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=En.Important),n.setStyle(e,i,r,s))}}(i,o,Cl(pn(),e),r,s))}(s,s.data[pn()],r,r[11],n,r[o+1]=function tA(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=Ge(Rn(n)))),n}(t,e),i,o)}function Uh(n,t,e,i,r){let s=null;const o=e.directiveEnd;let l=e.directiveStylingLast;for(-1===l?l=e.directiveStart:l++;l<o&&(s=t[l],i=Ko(i,s.hostAttrs,r),s!==n);)l++;return null!==n&&(e.directiveStylingLast=l),i}function Ko(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let s=0;s<t.length;s++){const o=t[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ln(n,o,!!e||t[++s]))}return void 0===n?null:n}function Yv(n,t,e,i,r,s){const o=null===t;let l;for(;r>0;){const u=n[r],h=Array.isArray(u),f=h?u[1]:u,g=null===f;let m=e[r+1];m===ge&&(m=g?Oe:void 0);let y=g?Cd(m,i):f===i?m:void 0;if(h&&!ru(y)&&(y=Cd(u,i)),ru(y)&&(l=y,o))return l;const b=n[r+1];r=o?ui(b):Bi(b)}if(null!==t){let u=s?t.residualClasses:t.residualStyles;null!=u&&(l=Cd(u,i))}return l}function ru(n){return void 0!==n}function a(n,t=""){const e=S(),i=Ae(),r=n+22,s=i.firstCreatePass?Ts(i,r,1,t,null):i.data[r],o=e[r]=function Rd(n,t){return n.createText(t)}(e[11],t);Nl(i,e,o,s),bi(s,!1)}function He(n){return Pe("",n,""),He}function Pe(n,t,e){const i=S(),r=Ss(i,n,t,e);return r!==ge&&ji(i,pn(),r),Pe}function Yo(n,t,e,i,r){const s=S(),o=As(s,n,t,e,i,r);return o!==ge&&ji(s,pn(),o),Yo}const zr=void 0;var wA=["en",[["a","p"],["AM","PM"],zr],[["AM","PM"],zr,zr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zr,"{1} 'at' {0}",zr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _A(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let Fs={};function mn(n){const t=function CA(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=mb(t);if(e)return e;const i=t.split("-")[0];if(e=mb(i),e)return e;if("en"===i)return wA;throw new O(701,!1)}function mb(n){return n in Fs||(Fs[n]=Ye.ng&&Ye.ng.common&&Ye.ng.common.locales&&Ye.ng.common.locales[n]),Fs[n]}var G=(()=>((G=G||{})[G.LocaleId=0]="LocaleId",G[G.DayPeriodsFormat=1]="DayPeriodsFormat",G[G.DayPeriodsStandalone=2]="DayPeriodsStandalone",G[G.DaysFormat=3]="DaysFormat",G[G.DaysStandalone=4]="DaysStandalone",G[G.MonthsFormat=5]="MonthsFormat",G[G.MonthsStandalone=6]="MonthsStandalone",G[G.Eras=7]="Eras",G[G.FirstDayOfWeek=8]="FirstDayOfWeek",G[G.WeekendRange=9]="WeekendRange",G[G.DateFormat=10]="DateFormat",G[G.TimeFormat=11]="TimeFormat",G[G.DateTimeFormat=12]="DateTimeFormat",G[G.NumberSymbols=13]="NumberSymbols",G[G.NumberFormats=14]="NumberFormats",G[G.CurrencyCode=15]="CurrencyCode",G[G.CurrencySymbol=16]="CurrencySymbol",G[G.CurrencyName=17]="CurrencyName",G[G.Currencies=18]="Currencies",G[G.Directionality=19]="Directionality",G[G.PluralCase=20]="PluralCase",G[G.ExtraData=21]="ExtraData",G))();const Vs="en-US";let yb=Vs;function jh(n,t,e,i,r){if(n=oe(n),Array.isArray(n))for(let s=0;s<n.length;s++)jh(n[s],t,e,i,r);else{const s=Ae(),o=S();let l=Br(n)?n:oe(n.provide),u=gy(n);const h=Qt(),f=1048575&h.providerIndexes,g=h.directiveStart,m=h.providerIndexes>>20;if(Br(n)||!n.multi){const y=new Co(u,r,C),b=Gh(l,t,r?f:f+m,g);-1===b?(vd(Sl(h,o),s,l),$h(s,n,t.length),t.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(y),o.push(y)):(e[b]=y,o[b]=y)}else{const y=Gh(l,t,f+m,g),b=Gh(l,t,f,f+m),D=y>=0&&e[y],I=b>=0&&e[b];if(r&&!I||!r&&!D){vd(Sl(h,o),s,l);const k=function bk(n,t,e,i,r){const s=new Co(n,e,C);return s.multi=[],s.index=t,s.componentProviders=0,jb(s,r,i&&!e),s}(r?vk:yk,e.length,r,i,u);!r&&I&&(e[b].providerFactory=k),$h(s,n,t.length,0),t.push(l),h.directiveStart++,h.directiveEnd++,r&&(h.providerIndexes+=1048576),e.push(k),o.push(k)}else $h(s,n,y>-1?y:b,jb(e[r?b:y],u,!r&&i));!r&&i&&I&&e[b].componentProviders++}}}function $h(n,t,e,i){const r=Br(t),s=function TT(n){return!!n.useClass}(t);if(r||s){const u=(s?oe(t.useClass):t).prototype.ngOnDestroy;if(u){const h=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const f=h.indexOf(e);-1===f?h.push(e,[i,u]):h[f+1].push(i,u)}else h.push(e,u)}}}function jb(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function Gh(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function yk(n,t,e,i){return zh(this.multi,[])}function vk(n,t,e,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=hs(e,e[1],this.providerFactory.index,i);s=l.slice(0,o),zh(r,s);for(let u=o;u<l.length;u++)s.push(l[u])}else s=[],zh(r,s);return s}function zh(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function qe(n,t=[]){return e=>{e.providersResolver=(i,r)=>function mk(n,t,e){const i=Ae();if(i.firstCreatePass){const r=ai(n);jh(e,i.data,i.blueprint,r,!0),jh(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class Wr{}class $b{}class Gb extends Wr{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Oh(this);const i=An(t);this._bootstrapComponents=Hi(i.bootstrap),this._r3Injector=xy(t,e,[{provide:Wr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],Ge(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Wh extends $b{constructor(t){super(),this.moduleType=t}create(t){return new Gb(this.moduleType,t)}}class wk extends Wr{constructor(t,e,i){super(),this.componentFactoryResolver=new Oh(this),this.instance=null;const r=new py([...t,{provide:Wr,useValue:this},{provide:Vo,useValue:this.componentFactoryResolver}],e||Gl(),i,new Set(["environment"]));this.injector=r,r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function uu(n,t,e=null){return new wk(n,t,e).injector}let Ck=(()=>{class n{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e.id)){const i=cy(0,e.type),r=i.length>0?uu([i],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e.id,r)}return this.cachedInjectors.get(e.id)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(P(Ui))}),n})();function zb(n){n.getStandaloneInjector=t=>t.get(Ck).getOrCreateStandaloneInjector(n)}function Us(n,t,e,i){return function Xb(n,t,e,i,r,s){const o=t+e;return sn(n,o,r)?Di(n,o+1,s?i.call(s,r):i(r)):na(n,o+1)}(S(),fn(),n,t,e,i)}function ta(n,t,e,i,r){return e_(S(),fn(),n,t,e,i,r)}function Kh(n,t,e,i,r,s){return function t_(n,t,e,i,r,s,o,l){const u=t+e;return function nu(n,t,e,i,r){const s=Gr(n,t,e,i);return sn(n,t+2,r)||s}(n,u,r,s,o)?Di(n,u+3,l?i.call(l,r,s,o):i(r,s,o)):na(n,u+3)}(S(),fn(),n,t,e,i,r,s)}function na(n,t){const e=n[t];return e===ge?void 0:e}function e_(n,t,e,i,r,s,o){const l=t+e;return Gr(n,l,r,s)?Di(n,l+2,o?i.call(o,r,s):i(r,s)):na(n,l+2)}function n_(n,t,e,i,r,s,o,l,u){const h=t+e;return function Zn(n,t,e,i,r,s){const o=Gr(n,t,e,i);return Gr(n,t+2,r,s)||o}(n,h,r,s,o,l)?Di(n,h+4,u?i.call(u,r,s,o,l):i(r,s,o,l)):na(n,h+4)}function Hs(n,t){const e=Ae();let i;const r=n+22;e.firstCreatePass?(i=function Fk(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const s=i.factory||(i.factory=Rr(i.type)),o=Wn(C);try{const l=Il(!1),u=s();return Il(l),function OS(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,S(),r,u),u}finally{Wn(o)}}function ia(n,t,e,i){const r=n+22,s=S(),o=ls(s,r);return ra(s,r)?e_(s,fn(),t,o.transform,e,i,o):o.transform(e,i)}function ra(n,t){return n[1].data[t].pure}function Yh(n){return t=>{setTimeout(n,void 0,t)}}const Le=class Bk extends V{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){let r=t,s=e||(()=>null),o=i;if(t&&"object"==typeof t){const u=t;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Yh(s),r&&(r=Yh(r)),o&&(o=Yh(o)));const l=super.subscribe({next:r,error:s,complete:o});return t instanceof ke&&t.add(l),l}};function jk(){return this._results[$r()]()}class Zh{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=$r(),i=Zh.prototype;i[e]||(i[e]=jk)}get changes(){return this._changes||(this._changes=new Le)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=On(t);(this._changesDetected=!function Y0(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=t[i];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $i=(()=>{class n{}return n.__NG_ELEMENT_ID__=zk,n})();const $k=$i,Gk=class extends $k{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t,e){const i=this._declarationTContainer.tViews,r=Yl(this._declarationLView,i,t,16,null,i.declTNode,null,null,null,null,e||null);r[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(r[19]=o.createEmbeddedView(i)),wh(i,r,t),new Ho(r)}};function zk(){return cu(Qt(),S())}function cu(n,t){return 4&n.type?new Gk(t,n,Cs(n,t)):null}let hi=(()=>{class n{}return n.__NG_ELEMENT_ID__=Wk,n})();function Wk(){return a_(Qt(),S())}const qk=hi,s_=class extends qk{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return Cs(this._hostTNode,this._hostLView)}get injector(){return new fs(this._hostTNode,this._hostLView)}get parentInjector(){const t=Al(this._hostTNode,this._hostLView);if(Qg(t)){const e=ds(t,this._hostLView),i=cs(t);return new fs(e[1].data[i+8],e)}return new fs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=o_(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const o=t.createEmbeddedView(e||{},s);return this.insert(o,r),o}createComponent(t,e,i,r,s){const o=t&&!function Io(n){return"function"==typeof n}(t);let l;if(o)l=e;else{const g=e||{};l=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?t:new Bo(Ue(t)),h=i||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?h:this.parentInjector).get(Ui,null);m&&(s=m)}const f=u.create(h,r,void 0,s);return this.insert(f.hostView,l),f}insert(t,e){const i=t._lView,r=i[1];if(function m0(n){return oi(n[3])}(i)){const f=this.indexOf(t);if(-1!==f)this.detach(f);else{const g=i[3],m=new s_(g,g[6],g[3]);m.detach(m.indexOf(t))}}const s=this._adjustIndex(e),o=this._lContainer;!function VM(n,t,e,i){const r=10+i,s=e.length;i>0&&(e[r-1][4]=t),i<s-10?(t[4]=e[r],lm(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const o=t[17];null!==o&&e!==o&&function UM(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(o,t);const l=t[19];null!==l&&l.insertView(n),t[2]|=64}(r,i,o,s);const l=Hd(s,o),u=i[11],h=Rl(u,o[7]);return null!==h&&function RM(n,t,e,i,r,s){i[0]=r,i[6]=t,Ro(n,i,e,1,r,s)}(r,o[6],u,i,h,l),t.attachToViewContainerRef(),lm(Qh(o),s,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=o_(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=Fd(this._lContainer,e);i&&(xl(Qh(this._lContainer),e),Rm(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=Fd(this._lContainer,e);return i&&null!=xl(Qh(this._lContainer),e)?new Ho(i):null}_adjustIndex(t,e=0){return t??this.length+e}};function o_(n){return n[8]}function Qh(n){return n[8]||(n[8]=[])}function a_(n,t){let e;const i=t[n.index];if(oi(i))e=i;else{let r;if(8&n.type)r=Lt(i);else{const s=t[11];r=s.createComment("");const o=xn(n,t);Vr(s,Rl(s,o),r,function $M(n,t){return n.nextSibling(t)}(s,o),!1)}t[n.index]=e=iv(i,t,r,n),Ql(t,e)}return new s_(e,n,t)}class Jh{constructor(t){this.queryList=t,this.matches=null}clone(){return new Jh(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xh{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let s=0;s<i;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Xh(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==h_(t,e).matches&&this.queries[e].setDirty()}}class l_{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class ef{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,s=this.getByIndex(i).embeddedTView(t,r);s&&(s.indexInDeclarationView=i,null!==e?e.push(s):e=[s])}return null!==e?new ef(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class tf{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new tf(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(t,e,Zk(e,s)),this.matchTNodeWithReadOption(t,e,kl(e,t,s,!1,!1))}else i===$i?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,kl(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===_t||r===hi||r===$i&&4&e.type)this.addMatch(e.index,-2);else{const s=kl(e,t,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Zk(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function Jk(n,t,e,i){return-1===e?function Qk(n,t){return 11&n.type?Cs(n,t):4&n.type?cu(n,t):null}(t,n):-2===e?function Xk(n,t,e){return e===_t?Cs(t,n):e===$i?cu(t,n):e===hi?a_(t,n):void 0}(n,t,i):hs(n,n[1],e,t)}function u_(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const s=n.data,o=e.matches,l=[];for(let u=0;u<o.length;u+=2){const h=o[u];l.push(h<0?null:Jk(t,s[h],o[u+1],e.metadata.read))}r.matches=l}return r.matches}function nf(n,t,e,i){const r=n.queries.getByIndex(e),s=r.matches;if(null!==s){const o=u_(n,t,r,e);for(let l=0;l<s.length;l+=2){const u=s[l];if(u>0)i.push(o[l/2]);else{const h=s[l+1],f=t[-u];for(let g=10;g<f.length;g++){const m=f[g];m[17]===m[3]&&nf(m[1],m,h,i)}if(null!==f[9]){const g=f[9];for(let m=0;m<g.length;m++){const y=g[m];nf(y[1],y,h,i)}}}}}return i}function gt(n){const t=S(),e=Ae(),i=Bg();ud(i+1);const r=h_(e,i);if(n.dirty&&function g0(n){return 4==(4&n[2])}(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?nf(e,t,i,[]):u_(e,t,r,i);n.reset(s,FT),n.notifyOnChanges()}return!0}return!1}function Vt(n,t,e){const i=Ae();i.firstCreatePass&&(d_(i,new l_(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),c_(i,S(),t)}function du(n,t,e,i){const r=Ae();if(r.firstCreatePass){const s=Qt();d_(r,new l_(t,e,i),s.index),function tx(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}c_(r,S(),e)}function mt(){return function ex(n,t){return n[19].queries[t].queryList}(S(),Bg())}function c_(n,t,e){const i=new Zh(4==(4&e));Qy(n,t,i,i.destroy),null===t[19]&&(t[19]=new Xh),t[19].queries.push(new Jh(i))}function d_(n,t,e){null===n.queries&&(n.queries=new ef),n.queries.track(new tf(t,e))}function h_(n,t){return n.queries.getByIndex(t)}function fu(...n){}const pu=new U("Application Initializer");let gu=(()=>{class n{constructor(e){this.appInits=e,this.resolve=fu,this.reject=fu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(Wo(s))e.push(s);else if(Fh(s)){const o=new Promise((l,u)=>{s.subscribe({complete:l,error:u})});e.push(o)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(P(pu,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oa=new U("AppId",{providedIn:"root",factory:function x_(){return`${uf()}${uf()}${uf()}`}});function uf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const P_=new U("Platform Initializer"),aa=new U("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),O_=new U("appBootstrapListener");let Dx=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Ti=new U("LocaleId",{providedIn:"root",factory:()=>Se(Ti,ae.Optional|ae.SkipSelf)||function Ex(){return typeof $localize<"u"&&$localize.locale||Vs}()});class Tx{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let cf=(()=>{class n{compileModuleSync(e){return new Wh(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),s=Hi(An(e).declarations).reduce((o,l)=>{const u=Ue(l);return u&&o.push(new Bo(u)),o},[]);return new Tx(i,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ax=(()=>Promise.resolve(0))();function df(n){typeof Zone>"u"?Ax.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class it{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Le(!1),this.onMicrotaskEmpty=new Le(!1),this.onStable=new Le(!1),this.onError=new Le(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kx(){let n=Ye.requestAnimationFrame,t=Ye.cancelAnimationFrame;if(typeof Zone<"u"&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Ox(n){const t=()=>{!function Px(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ye,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,ff(n),n.isCheckStableRunning=!0,hf(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),ff(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,s,o,l)=>{try{return N_(n),e.invokeTask(r,s,o,l)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&t(),F_(n)}},onInvoke:(e,i,r,s,o,l,u)=>{try{return N_(n),e.invoke(r,s,o,l,u)}finally{n.shouldCoalesceRunChangeDetection&&t(),F_(n)}},onHasTask:(e,i,r,s)=>{e.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,ff(n),hf(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,i,r,s)=>(e.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!it.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(it.isInAngularZone())throw new O(909,!1)}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,t,xx,fu,fu);try{return s.runTask(o,e,i)}finally{s.cancelTask(o)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const xx={};function hf(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function ff(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function N_(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function F_(n){n._nesting--,hf(n)}class Lx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Le,this.onMicrotaskEmpty=new Le,this.onStable=new Le,this.onError=new Le}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}const V_=new U(""),mu=new U("");let mf,pf=(()=>{class n{constructor(e,i,r){this._ngZone=e,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mf||(function Rx(n){mf=n}(r),r.addToWindow(i)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{it.assertNotInAngularZone(),df(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())df(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(P(it),P(gf),P(mu))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),gf=(()=>{class n{constructor(){this._applications=new Map}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return mf?.findTestabilityInTree(this,e,i)??null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),hr=null;const U_=new U("AllowMultipleToken"),yf=new U("PlatformDestroyListeners");class H_{constructor(t,e){this.name=t,this.token=e}}function j_(n,t,e=[]){const i=`Platform: ${t}`,r=new U(i);return(s=[])=>{let o=vf();if(!o||o.injector.get(U_,!1)){const l=[...e,...s,{provide:r,useValue:!0}];n?n(l):function Vx(n){if(hr&&!hr.get(U_,!1))throw new O(400,!1);hr=n;const t=n.get(G_);(function B_(n){const t=n.get(P_,null);t&&t.forEach(e=>e())})(n)}(function $_(n=[],t){return Fn.create({name:t,providers:[{provide:Jd,useValue:"platform"},{provide:yf,useValue:new Set([()=>hr=null])},...n]})}(l,i))}return function Hx(n){const t=vf();if(!t)throw new O(401,!1);return t}()}}function vf(){return hr?.get(G_)??null}let G_=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const r=function W_(n,t){let e;return e="noop"===n?new Lx:("zone.js"===n?void 0:n)||new it(t),e}(i?.ngZone,function z_(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(i)),s=[{provide:it,useValue:r}];return r.run(()=>{const o=Fn.create({providers:s,parent:this.injector,name:e.moduleType.name}),l=e.create(o),u=l.injector.get(Ds,null);if(!u)throw new O(402,!1);return r.runOutsideAngular(()=>{const h=r.onError.subscribe({next:f=>{u.handleError(f)}});l.onDestroy(()=>{vu(this._modules,l),h.unsubscribe()})}),function q_(n,t,e){try{const i=e();return Wo(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(u,r,()=>{const h=l.injector.get(gu);return h.runInitializers(),h.donePromise.then(()=>(function vb(n){Sn(n,"Expected localeId to be defined"),"string"==typeof n&&(yb=n.toLowerCase().replace(/_/g,"-"))}(l.injector.get(Ti,Vs)||Vs),this._moduleDoBootstrap(l),l))})})}bootstrapModule(e,i=[]){const r=K_({},i);return function Nx(n,t,e){const i=new Wh(e);return Promise.resolve(i)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const i=e.injector.get(yu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new O(403,!1);e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const e=this._injector.get(yf,null);e&&(e.forEach(i=>i()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(P(Fn))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function K_(n,t){return Array.isArray(t)?t.reduce(K_,n):{...n,...t}}let yu=(()=>{class n{constructor(e,i,r){this._zone=e,this._injector=i,this._exceptionHandler=r,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new F(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),o=new F(l=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{it.assertNotInAngularZone(),df(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const h=this._zone.onUnstable.subscribe(()=>{it.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{u.unsubscribe(),h.unsubscribe()}});this.isStable=function tr(...n){let t=Number.POSITIVE_INFINITY,e=null,i=n[n.length-1];return he(i)?(e=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(t=n.pop())):"number"==typeof i&&(t=n.pop()),null===e&&1===n.length&&n[0]instanceof F?n[0]:cn(t)(It(n,e))}(s,o.pipe(function xE(){return n=>wn()(function SE(n,t){return function(i){let r;if(r="function"==typeof n?n:function(){return n},"function"==typeof t)return i.lift(new AE(r,t));const s=Object.create(i,kr);return s.source=i,s.subjectFactory=r,s}}(kE)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,i){const r=e instanceof my;if(!this._injector.get(gu).done)throw!r&&function rs(n){const t=Ue(n)||en(n)||hn(n);return null!==t&&t.standalone}(e),new O(405,false);let o;o=r?e:this._injector.get(Vo).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const l=function Fx(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Wr),h=o.create(Fn.NULL,[],i||o.selector,l),f=h.location.nativeElement,g=h.injector.get(V_,null);return g?.registerApplication(f),h.onDestroy(()=>{this.detachView(h.hostView),vu(this.components,h),g?.unregisterApplication(f)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;vu(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(O_,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>vu(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new O(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(e){return new(e||n)(P(it),P(Ui),P(Ds))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function vu(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let pi=(()=>{class n{}return n.__NG_ELEMENT_ID__=jx,n})();function jx(n){return function $x(n,t,e){if(_l(n)&&!e){const i=Pn(n.index,t);return new Ho(i,i)}return 47&n.type?new Ho(t[16],t):null}(Qt(),S(),16==(16&n))}class X_{constructor(){}supports(t){return jo(t)}create(t){return new Yx(t)}}const Kx=(n,t)=>t;class Yx{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Kx}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,s=null;for(;e||i;){const o=!i||e&&e.currentIndex<tw(i,r,s)?e:i,l=tw(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const h=l-r,f=u-r;if(h!=f){for(let m=0;m<h;m++){const y=m<s.length?s[m]:s[m]=0,b=y+m;f<=b&&b<h&&(s[m]=y+1)}s[o.previousIndex]=f-h}}l!==u&&t(o,l,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!jo(t))throw new O(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,s,o,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let l=0;l<this.length;l++)s=t[l],o=this._trackByFn(l,s),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,s,o,l)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,l),i=!0),e=e._next}else r=0,function AS(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[$r()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,l=>{o=this._trackByFn(r,l),null!==e&&Object.is(e.trackById,o)?(i&&(e=this._verifyReinsertion(e,l,o,r)),Object.is(e.item,l)||this._addIdentityChange(e,l)):(e=this._mismatch(e,l,o,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let s;return null===t?s=this._itTail:(s=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,s,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,s,r)):t=this._addAfter(new Zx(e,i),s,r),t}_verifyReinsertion(t,e,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?t=this._reinsertAfter(s,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,s=t._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ew),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ew),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Zx{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class ew{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Qx,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function tw(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class nw{constructor(){}supports(t){return t instanceof Map||Rh(t)}create(){return new Jx}}class Jx{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Rh(t)))throw new O(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new Xx(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class Xx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function iw(){return new wu([new X_])}let wu=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||iw()),deps:[[n,new ko,new Ao]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new O(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:iw}),n})();function rw(){return new la([new nw])}let la=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||rw()),deps:[[n,new ko,new Ao]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(i)return i;throw new O(901,!1)}}return n.\u0275prov=z({token:n,providedIn:"root",factory:rw}),n})();const n2=j_(null,"core",[]);let i2=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(P(yu))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({}),n})();function $s(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Cu=null;function Ii(){return Cu}class o2{}const ct=new U("DocumentToken");let Df=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return function a2(){return P(sw)}()},providedIn:"platform"}),n})();const l2=new U("Location Initialized");let sw=(()=>{class n extends Df{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ii().getBaseHref(this._doc)}onPopState(e){const i=Ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=Ii().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ow()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ow()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(P(ct))},n.\u0275prov=z({token:n,factory:function(){return function u2(){return new sw(P(ct))}()},providedIn:"platform"}),n})();function ow(){return!!window.history.pushState}function Ef(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function aw(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function zi(n){return n&&"?"!==n[0]?"?"+n:n}let fr=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return Se(Mf)},providedIn:"root"}),n})();const lw=new U("appBaseHref");let Mf=(()=>{class n extends fr{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Se(ct).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ef(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+zi(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const o=this.prepareExternalUrl(r+zi(s));this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){const o=this.prepareExternalUrl(r+zi(s));this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Df),P(lw,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c2=(()=>{class n extends fr{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ef(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let o=this.prepareExternalUrl(r+zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,i,o)}replaceState(e,i,r,s){let o=this.prepareExternalUrl(r+zi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(P(Df),P(lw,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),ua=(()=>{class n{constructor(e){this._subject=new Le,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=aw(uw(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+zi(i))}normalize(e){return n.stripTrailingSlash(function h2(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,uw(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zi(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+zi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=zi,n.joinWithSlash=Ef,n.stripTrailingSlash=aw,n.\u0275fac=function(e){return new(e||n)(P(fr))},n.\u0275prov=z({token:n,factory:function(){return function d2(){return new ua(P(fr))}()},providedIn:"root"}),n})();function uw(n){return n.replace(/\/index.html$/,"")}var wt=(()=>((wt=wt||{})[wt.Format=0]="Format",wt[wt.Standalone=1]="Standalone",wt))(),Ie=(()=>((Ie=Ie||{})[Ie.Narrow=0]="Narrow",Ie[Ie.Abbreviated=1]="Abbreviated",Ie[Ie.Wide=2]="Wide",Ie[Ie.Short=3]="Short",Ie))(),dt=(()=>((dt=dt||{})[dt.Short=0]="Short",dt[dt.Medium=1]="Medium",dt[dt.Long=2]="Long",dt[dt.Full=3]="Full",dt))(),se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Group=1]="Group",se[se.List=2]="List",se[se.PercentSign=3]="PercentSign",se[se.PlusSign=4]="PlusSign",se[se.MinusSign=5]="MinusSign",se[se.Exponential=6]="Exponential",se[se.SuperscriptingExponent=7]="SuperscriptingExponent",se[se.PerMille=8]="PerMille",se[se.Infinity=9]="Infinity",se[se.NaN=10]="NaN",se[se.TimeSeparator=11]="TimeSeparator",se[se.CurrencyDecimal=12]="CurrencyDecimal",se[se.CurrencyGroup=13]="CurrencyGroup",se))();function Du(n,t){return Jn(mn(n)[G.DateFormat],t)}function Eu(n,t){return Jn(mn(n)[G.TimeFormat],t)}function Mu(n,t){return Jn(mn(n)[G.DateTimeFormat],t)}function Qn(n,t){const e=mn(n),i=e[G.NumberSymbols][t];if(typeof i>"u"){if(t===se.CurrencyDecimal)return e[G.NumberSymbols][se.Decimal];if(t===se.CurrencyGroup)return e[G.NumberSymbols][se.Group]}return i}function dw(n){if(!n[G.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[G.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Jn(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function If(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const M2=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ca={},T2=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ut=(()=>((Ut=Ut||{})[Ut.Short=0]="Short",Ut[Ut.ShortGMT=1]="ShortGMT",Ut[Ut.Long=2]="Long",Ut[Ut.Extended=3]="Extended",Ut))(),le=(()=>((le=le||{})[le.FullYear=0]="FullYear",le[le.Month=1]="Month",le[le.Date=2]="Date",le[le.Hours=3]="Hours",le[le.Minutes=4]="Minutes",le[le.Seconds=5]="Seconds",le[le.FractionalSeconds=6]="FractionalSeconds",le[le.Day=7]="Day",le))(),Ce=(()=>((Ce=Ce||{})[Ce.DayPeriods=0]="DayPeriods",Ce[Ce.Days=1]="Days",Ce[Ce.Months=2]="Months",Ce[Ce.Eras=3]="Eras",Ce))();function I2(n,t,e,i){let r=function N2(n){if(pw(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(l=>+l);return Tu(r,s-1,o)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(M2))return function F2(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-e,l=Number(n[5]||0)-i,u=Number(n[6]||0),h=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,o,l,u,h),t}(i)}const t=new Date(n);if(!pw(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wi(e,t)||t;let l,o=[];for(;t;){if(l=T2.exec(t),!l){o.push(t);break}{o=o.concat(l.slice(1));const f=o.pop();if(!f)break;t=f}}let u=r.getTimezoneOffset();i&&(u=fw(i,u),r=function R2(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function L2(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(fw(t,r)-r))}(r,i,!0));let h="";return o.forEach(f=>{const g=function O2(n){if(Af[n])return Af[n];let t;switch(n){case"G":case"GG":case"GGG":t=Qe(Ce.Eras,Ie.Abbreviated);break;case"GGGG":t=Qe(Ce.Eras,Ie.Wide);break;case"GGGGG":t=Qe(Ce.Eras,Ie.Narrow);break;case"y":t=At(le.FullYear,1,0,!1,!0);break;case"yy":t=At(le.FullYear,2,0,!0,!0);break;case"yyy":t=At(le.FullYear,3,0,!1,!0);break;case"yyyy":t=At(le.FullYear,4,0,!1,!0);break;case"Y":t=ku(1);break;case"YY":t=ku(2,!0);break;case"YYY":t=ku(3);break;case"YYYY":t=ku(4);break;case"M":case"L":t=At(le.Month,1,1);break;case"MM":case"LL":t=At(le.Month,2,1);break;case"MMM":t=Qe(Ce.Months,Ie.Abbreviated);break;case"MMMM":t=Qe(Ce.Months,Ie.Wide);break;case"MMMMM":t=Qe(Ce.Months,Ie.Narrow);break;case"LLL":t=Qe(Ce.Months,Ie.Abbreviated,wt.Standalone);break;case"LLLL":t=Qe(Ce.Months,Ie.Wide,wt.Standalone);break;case"LLLLL":t=Qe(Ce.Months,Ie.Narrow,wt.Standalone);break;case"w":t=Sf(1);break;case"ww":t=Sf(2);break;case"W":t=Sf(1,!0);break;case"d":t=At(le.Date,1);break;case"dd":t=At(le.Date,2);break;case"c":case"cc":t=At(le.Day,1);break;case"ccc":t=Qe(Ce.Days,Ie.Abbreviated,wt.Standalone);break;case"cccc":t=Qe(Ce.Days,Ie.Wide,wt.Standalone);break;case"ccccc":t=Qe(Ce.Days,Ie.Narrow,wt.Standalone);break;case"cccccc":t=Qe(Ce.Days,Ie.Short,wt.Standalone);break;case"E":case"EE":case"EEE":t=Qe(Ce.Days,Ie.Abbreviated);break;case"EEEE":t=Qe(Ce.Days,Ie.Wide);break;case"EEEEE":t=Qe(Ce.Days,Ie.Narrow);break;case"EEEEEE":t=Qe(Ce.Days,Ie.Short);break;case"a":case"aa":case"aaa":t=Qe(Ce.DayPeriods,Ie.Abbreviated);break;case"aaaa":t=Qe(Ce.DayPeriods,Ie.Wide);break;case"aaaaa":t=Qe(Ce.DayPeriods,Ie.Narrow);break;case"b":case"bb":case"bbb":t=Qe(Ce.DayPeriods,Ie.Abbreviated,wt.Standalone,!0);break;case"bbbb":t=Qe(Ce.DayPeriods,Ie.Wide,wt.Standalone,!0);break;case"bbbbb":t=Qe(Ce.DayPeriods,Ie.Narrow,wt.Standalone,!0);break;case"B":case"BB":case"BBB":t=Qe(Ce.DayPeriods,Ie.Abbreviated,wt.Format,!0);break;case"BBBB":t=Qe(Ce.DayPeriods,Ie.Wide,wt.Format,!0);break;case"BBBBB":t=Qe(Ce.DayPeriods,Ie.Narrow,wt.Format,!0);break;case"h":t=At(le.Hours,1,-12);break;case"hh":t=At(le.Hours,2,-12);break;case"H":t=At(le.Hours,1);break;case"HH":t=At(le.Hours,2);break;case"m":t=At(le.Minutes,1);break;case"mm":t=At(le.Minutes,2);break;case"s":t=At(le.Seconds,1);break;case"ss":t=At(le.Seconds,2);break;case"S":t=At(le.FractionalSeconds,1);break;case"SS":t=At(le.FractionalSeconds,2);break;case"SSS":t=At(le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Su(Ut.Short);break;case"ZZZZZ":t=Su(Ut.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Su(Ut.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Su(Ut.Long);break;default:return null}return Af[n]=t,t}(f);h+=g?g(r,e,u):"''"===f?"'":f.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}function Tu(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wi(n,t){const e=function f2(n){return mn(n)[G.LocaleId]}(n);if(ca[e]=ca[e]||{},ca[e][t])return ca[e][t];let i="";switch(t){case"shortDate":i=Du(n,dt.Short);break;case"mediumDate":i=Du(n,dt.Medium);break;case"longDate":i=Du(n,dt.Long);break;case"fullDate":i=Du(n,dt.Full);break;case"shortTime":i=Eu(n,dt.Short);break;case"mediumTime":i=Eu(n,dt.Medium);break;case"longTime":i=Eu(n,dt.Long);break;case"fullTime":i=Eu(n,dt.Full);break;case"short":const r=Wi(n,"shortTime"),s=Wi(n,"shortDate");i=Iu(Mu(n,dt.Short),[r,s]);break;case"medium":const o=Wi(n,"mediumTime"),l=Wi(n,"mediumDate");i=Iu(Mu(n,dt.Medium),[o,l]);break;case"long":const u=Wi(n,"longTime"),h=Wi(n,"longDate");i=Iu(Mu(n,dt.Long),[u,h]);break;case"full":const f=Wi(n,"fullTime"),g=Wi(n,"fullDate");i=Iu(Mu(n,dt.Full),[f,g])}return i&&(ca[e][t]=i),i}function Iu(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function gi(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let o=String(n);for(;o.length<t;)o="0"+o;return i&&(o=o.slice(o.length-t)),s+o}function At(n,t,e=0,i=!1,r=!1){return function(s,o){let l=function A2(n,t){switch(n){case le.FullYear:return t.getFullYear();case le.Month:return t.getMonth();case le.Date:return t.getDate();case le.Hours:return t.getHours();case le.Minutes:return t.getMinutes();case le.Seconds:return t.getSeconds();case le.FractionalSeconds:return t.getMilliseconds();case le.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||l>-e)&&(l+=e),n===le.Hours)0===l&&-12===e&&(l=12);else if(n===le.FractionalSeconds)return function S2(n,t){return gi(n,3).substring(0,t)}(l,t);const u=Qn(o,se.MinusSign);return gi(l,t,u,i,r)}}function Qe(n,t,e=wt.Format,i=!1){return function(r,s){return function k2(n,t,e,i,r,s){switch(e){case Ce.Months:return function m2(n,t,e){const i=mn(n),s=Jn([i[G.MonthsFormat],i[G.MonthsStandalone]],t);return Jn(s,e)}(t,r,i)[n.getMonth()];case Ce.Days:return function g2(n,t,e){const i=mn(n),s=Jn([i[G.DaysFormat],i[G.DaysStandalone]],t);return Jn(s,e)}(t,r,i)[n.getDay()];case Ce.DayPeriods:const o=n.getHours(),l=n.getMinutes();if(s){const h=function _2(n){const t=mn(n);return dw(t),(t[G.ExtraData][2]||[]).map(i=>"string"==typeof i?If(i):[If(i[0]),If(i[1])])}(t),f=function w2(n,t,e){const i=mn(n);dw(i);const s=Jn([i[G.ExtraData][0],i[G.ExtraData][1]],t)||[];return Jn(s,e)||[]}(t,r,i),g=h.findIndex(m=>{if(Array.isArray(m)){const[y,b]=m,D=o>=y.hours&&l>=y.minutes,I=o<b.hours||o===b.hours&&l<b.minutes;if(y.hours<b.hours){if(D&&I)return!0}else if(D||I)return!0}else if(m.hours===o&&m.minutes===l)return!0;return!1});if(-1!==g)return f[g]}return function p2(n,t,e){const i=mn(n),s=Jn([i[G.DayPeriodsFormat],i[G.DayPeriodsStandalone]],t);return Jn(s,e)}(t,r,i)[o<12?0:1];case Ce.Eras:return function y2(n,t){return Jn(mn(n)[G.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function Su(n){return function(t,e,i){const r=-1*i,s=Qn(e,se.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ut.Short:return(r>=0?"+":"")+gi(o,2,s)+gi(Math.abs(r%60),2,s);case Ut.ShortGMT:return"GMT"+(r>=0?"+":"")+gi(o,1,s);case Ut.Long:return"GMT"+(r>=0?"+":"")+gi(o,2,s)+":"+gi(Math.abs(r%60),2,s);case Ut.Extended:return 0===i?"Z":(r>=0?"+":"")+gi(o,2,s)+":"+gi(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function hw(n){return Tu(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Sf(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,o=e.getDate();r=1+Math.floor((o+s)/7)}else{const s=hw(e),o=function P2(n){const t=Tu(n,0,1).getDay();return Tu(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),l=s.getTime()-o.getTime();r=1+Math.round(l/6048e5)}return gi(r,n,Qn(i,se.MinusSign))}}function ku(n,t=!1){return function(e,i){return gi(hw(e).getFullYear(),n,Qn(i,se.MinusSign),t)}}const Af={};function fw(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function pw(n){return n instanceof Date&&!isNaN(n.valueOf())}function vw(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let ha=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(jo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Ge(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(C(wu),C(la),C(_t),C(Nn))},n.\u0275dir=ie({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Z2{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let fa=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Z2(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const l=i.get(s);i.move(l,o),ww(l,r)}});for(let r=0,s=i.length;r<s;r++){const l=i.get(r).context;l.index=r,l.count=s,l.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ww(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(C(hi),C($i),C(wu))},n.\u0275dir=ie({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ww(n,t){n.context.$implicit=t.item}let an=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new J2,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Cw("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Cw("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(C(hi),C($i))},n.\u0275dir=ie({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class J2{constructor(){this.$implicit=null,this.ngIf=null}}function Cw(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ge(t)}'.`)}let Ew=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),o=-1===r.indexOf("-")?void 0:En.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(C(_t),C(la),C(Nn))},n.\u0275dir=ie({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Mw=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(e.ngTemplateOutlet||e.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=i.createEmbeddedView(r,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(C(hi))},n.\u0275dir=ie({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Dn]}),n})();const hP=new U("DATE_PIPE_DEFAULT_TIMEZONE"),fP=new U("DATE_PIPE_DEFAULT_OPTIONS");let Ff=(()=>{class n{constructor(e,i,r){this.locale=e,this.defaultTimezone=i,this.defaultOptions=r}transform(e,i,r,s){if(null==e||""===e||e!=e)return null;try{return I2(e,i??this.defaultOptions?.dateFormat??"mediumDate",s||this.locale,r??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(o){throw function mi(n,t){return new O(2100,!1)}()}}}return n.\u0275fac=function(e){return new(e||n)(C(Ti,16),C(hP,24),C(fP,24))},n.\u0275pipe=dn({name:"date",type:n,pure:!0,standalone:!0}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({}),n})();const Sw="browser";function Aw(n){return n===Sw}let IP=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new SP(P(ct),window)}),n})();class SP{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function AP(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=kw(this.window.history)||kw(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function kw(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class xw{}class nO extends o2{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jf extends nO{static makeCurrent(){!function s2(n){Cu||(Cu=n)}(new jf)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function iO(){return ga=ga||document.querySelector("base"),ga?ga.getAttribute("href"):null}();return null==e?null:function rO(n){Ou=Ou||document.createElement("a"),Ou.setAttribute("href",n);const t=Ou.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ga=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return vw(document.cookie,t)}}let Ou,ga=null;const Fw=new U("TRANSITION_ID"),oO=[{provide:pu,useFactory:function sO(n,t,e){return()=>{e.get(gu).donePromise.then(()=>{const i=Ii(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Fw,ct,Fn],multi:!0}];let lO=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Lu=new U("EventManagerPlugins");let Ru=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(e))return this._eventNameToPlugin.set(e,o),o}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(P(Lu),P(it))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Vw{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=Ii().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Uw=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),ma=(()=>{class n extends Uw{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Hw),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hw))}}return n.\u0275fac=function(e){return new(e||n)(P(ct))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function Hw(n){Ii().remove(n)}const $f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Gf=/%COMP%/g;function Nu(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Nu(n,r,e):(r=r.replace(Gf,n),e.push(r))}return e}function $w(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let zf=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Wf(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case vi.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new pO(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case vi.ShadowDom:return new gO(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Nu(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(P(Ru),P(ma),P(oa))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Wf{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS($f[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(zw(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(zw(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=$f[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=$f[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(En.DashCase|En.Important)?t.style.setProperty(e,i,r&En.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&En.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$w(i)):this.eventManager.addEventListener(t,e,$w(i))}}function zw(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class pO extends Wf{constructor(t,e,i,r){super(t),this.component=i;const s=Nu(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function dO(n){return"_ngcontent-%COMP%".replace(Gf,n)}(r+"-"+i.id),this.hostAttr=function hO(n){return"_nghost-%COMP%".replace(Gf,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class gO extends Wf{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Nu(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let mO=(()=>{class n extends Vw{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(P(ct))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Ww=["alt","control","meta","shift"],yO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bO=(()=>{class n extends Vw{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ii().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),o="code."),Ww.forEach(h=>{const f=i.indexOf(h);f>-1&&(i.splice(f,1),o+=h+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(e,i){let r=yO[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Ww.forEach(o=>{o!==r&&(0,vO[o])(e)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(P(ct))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Kw=[{provide:aa,useValue:Sw},{provide:P_,useValue:function _O(){jf.makeCurrent()},multi:!0},{provide:ct,useFactory:function CO(){return function QM(n){Gd=n}(document),document},deps:[]}],DO=j_(n2,"browser",Kw),Yw=new U(""),Zw=[{provide:mu,useClass:class aO{addToWindow(t){Ye.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},Ye.getAllAngularTestabilities=()=>t.getAllTestabilities(),Ye.getAllAngularRootElements=()=>t.getAllRootElements(),Ye.frameworkStabilizers||(Ye.frameworkStabilizers=[]),Ye.frameworkStabilizers.push(i=>{const r=Ye.getAllAngularTestabilities();let s=r.length,o=!1;const l=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(function(u){u.whenStable(l)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?Ii().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:V_,useClass:pf,deps:[it,gf,mu]},{provide:pf,useClass:pf,deps:[it,gf,mu]}],Qw=[{provide:Jd,useValue:"root"},{provide:Ds,useFactory:function wO(){return new Ds},deps:[]},{provide:Lu,useClass:mO,multi:!0,deps:[ct,it,aa]},{provide:Lu,useClass:bO,multi:!0,deps:[ct]},{provide:zf,useClass:zf,deps:[Ru,ma,oa]},{provide:vy,useExisting:zf},{provide:Uw,useExisting:ma},{provide:ma,useClass:ma,deps:[ct]},{provide:Ru,useClass:Ru,deps:[Lu,it]},{provide:xw,useClass:lO,deps:[]},[]];let EO=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:oa,useValue:e.appId},{provide:Fw,useExisting:oa},oO]}}}return n.\u0275fac=function(e){return new(e||n)(P(Yw,12))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({providers:[...Qw,...Zw],imports:[Iw,i2]}),n})(),Jw=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(P(ct))},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new e:function TO(){return new Jw(P(ct))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let tC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new(e||n):P(nC),i},providedIn:"root"}),n})(),nC=(()=>{class n extends tC{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case We.NONE:return i;case We.HTML:return wi(i,"HTML")?Rn(i):ry(this._doc,String(i)).toString();case We.STYLE:return wi(i,"Style")?Rn(i):i;case We.SCRIPT:if(wi(i,"Script"))return Rn(i);throw new Error("unsafe value used in a script context");case We.URL:return wi(i,"URL")?Rn(i):Hl(String(i));case We.RESOURCE_URL:if(wi(i,"ResourceURL"))return Rn(i);throw new Error(`unsafe value used in a resource URL context (see ${ul})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${ul})`)}}bypassSecurityTrustHtml(e){return function rT(n){return new JM(n)}(e)}bypassSecurityTrustStyle(e){return function sT(n){return new XM(n)}(e)}bypassSecurityTrustScript(e){return function oT(n){return new eT(n)}(e)}bypassSecurityTrustUrl(e){return function aT(n){return new tT(n)}(e)}bypassSecurityTrustResourceUrl(e){return function lT(n){return new nT(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(P(ct))},n.\u0275prov=z({token:n,factory:function(e){let i=null;return i=e?new e:function OO(n){return new nC(n.get(ct))}(P(Fn)),i},providedIn:"root"}),n})();function te(...n){let t=n[n.length-1];return he(t)?(n.pop(),re(n,t)):It(n)}class Hn extends V{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(t){super.next(this._value=t)}}const Fu=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();class LO extends Me{notifyNext(t,e,i,r,s){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class RO extends Me{constructor(t,e,i){super(),this.parent=t,this.outerValue=e,this.outerIndex=i,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}function NO(n,t,e,i,r=new RO(n,e,i)){if(!r.closed)return t instanceof F?t.subscribe(r):vt(t)(r)}const iC={};function Yf(...n){let t,e;return he(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&Xt(n[0])&&(n=n[0]),It(n,e).lift(new FO(t))}class FO{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new VO(t,this.resultSelector))}}class VO extends LO{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(iC),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let i=0;i<e;i++)this.add(NO(this,t[i],void 0,i))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,i){const r=this.values,o=this.toRespond?r[i]===iC?--this.toRespond:this.toRespond:0;r[i]=e,0===o&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}function Vu(...n){return function UO(){return cn(1)}()(te(...n))}const gr=new F(n=>n.complete());function Zf(n){return n?function HO(n){return new F(t=>n.schedule(()=>t.complete()))}(n):gr}function rC(n){return new F(t=>{let e;try{e=n()}catch(r){return void t.error(r)}return(e?J(e):Zf()).subscribe(t)})}function Si(n,t){return new F(t?e=>t.schedule(BO,0,{error:n,subscriber:e}):e=>e.error(n))}function BO({error:n,subscriber:t}){t.error(n)}function Bn(n,t){return"function"==typeof t?e=>e.pipe(Bn((i,r)=>J(n(i,r)).pipe(R((s,o)=>t(i,s,r,o))))):e=>e.lift(new jO(n))}class jO{constructor(t){this.project=t}call(t,e){return e.subscribe(new $O(t,this.project))}}class $O extends bt{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const i=this.index++;try{e=this.project(t,i)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const i=new tt(this),r=this.destination;r.add(i),this.innerSubscription=$t(t,i),this.innerSubscription!==i&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const sC=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function Kr(n){return t=>0===n?Zf():t.lift(new GO(n))}class GO{constructor(t){if(this.total=t,this.total<0)throw new sC}call(t,e){return e.subscribe(new zO(t,this.total))}}class zO extends Me{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,i=++this.count;i<=e&&(this.destination.next(t),i===e&&(this.destination.complete(),this.unsubscribe()))}}function oC(...n){const t=n[n.length-1];return he(t)?(n.pop(),e=>Vu(n,e,t)):e=>Vu(n,e)}function vn(n,t){return function(i){return i.lift(new WO(n,t))}}class WO{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new qO(t,this.predicate,this.thisArg))}}class qO extends Me{constructor(t,e,i){super(t),this.predicate=e,this.thisArg=i,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(i){return void this.destination.error(i)}e&&this.destination.next(t)}}function Uu(n=null){return t=>t.lift(new KO(n))}class KO{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new YO(t,this.defaultValue))}}class YO extends Me{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function aC(n=JO){return t=>t.lift(new ZO(n))}class ZO{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new QO(t,this.errorFactory))}}class QO extends Me{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function JO(){return new Fu}function mr(n,t){const e=arguments.length>=2;return i=>i.pipe(n?vn((r,s)=>n(r,s,i)):N,Kr(1),e?Uu(t):aC(()=>new Fu))}function yr(n,t){return nt(n,t,1)}function vr(){}function Je(n,t,e){return function(r){return r.lift(new XO(n,t,e))}}class XO{constructor(t,e,i){this.nextOrObserver=t,this.error=e,this.complete=i}call(t,e){return e.subscribe(new eL(t,this.nextOrObserver,this.error,this.complete))}}class eL extends Me{constructor(t,e,i,r){super(t),this._tapNext=vr,this._tapError=vr,this._tapComplete=vr,this._tapError=i||vr,this._tapComplete=r||vr,jt(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||vr,this._tapError=e.error||vr,this._tapComplete=e.complete||vr)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function br(n){return function(e){const i=new tL(n),r=e.lift(i);return i.caught=r}}class tL{constructor(t){this.selector=t}call(t,e){return e.subscribe(new nL(t,this.selector,this.caught))}}class nL extends bt{constructor(t,e,i){super(t),this.selector=e,this.caught=i}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(s){return void super.error(s)}this._unsubscribeAndRecycle();const i=new tt(this);this.add(i);const r=$t(e,i);r!==i&&this.add(r)}}}function lC(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new iL(n,t,e))}}class iL{constructor(t,e,i=!1){this.accumulator=t,this.seed=e,this.hasSeed=i}call(t,e){return e.subscribe(new rL(t,this.accumulator,this.seed,this.hasSeed))}}class rL extends Me{constructor(t,e,i,r){super(t),this.accumulator=e,this._seed=i,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let i;try{i=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=i,this.destination.next(i)}}function Qf(n){return function(e){return 0===n?Zf():e.lift(new sL(n))}}class sL{constructor(t){if(this.total=t,this.total<0)throw new sC}call(t,e){return e.subscribe(new oL(t,this.total))}}class oL extends Me{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,i=this.total,r=this.count++;e.length<i?e.push(t):e[r%i]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const i=this.count>=this.total?this.total:this.count,r=this.ring;for(let s=0;s<i;s++){const o=e++%i;t.next(r[o])}}t.complete()}}function uC(n,t){const e=arguments.length>=2;return i=>i.pipe(n?vn((r,s)=>n(r,s,i)):N,Qf(1),e?Uu(t):aC(()=>new Fu))}class lL{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new uL(t,this.predicate,this.inclusive))}}class uL extends Me{constructor(t,e,i){super(t),this.predicate=e,this.inclusive=i,this.index=0}_next(t){const e=this.destination;let i;try{i=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,i)}nextOrComplete(t,e){const i=this.destination;Boolean(e)?i.next(t):(this.inclusive&&i.next(t),i.complete())}}class dL{constructor(t){this.value=t}call(t,e){return e.subscribe(new hL(t,this.value))}}class hL extends Me{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function Jf(n){return t=>t.lift(new fL(n))}class fL{constructor(t){this.callback=t}call(t,e){return e.subscribe(new pL(t,this.callback))}}class pL extends Me{constructor(t,e){super(t),this.add(new ke(e))}}const Ee="primary",ya=Symbol("RouteTitle");class gL{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gs(n){return new gL(n)}function mL(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],l=n[s];if(o.startsWith(":"))r[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ai(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!cC(n[r],t[r]))return!1;return!0}function cC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function dC(n){return Array.prototype.concat.apply([],n)}function hC(n){return n.length>0?n[n.length-1]:null}function Jt(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function _r(n){return Fh(n)?n:Wo(n)?J(Promise.resolve(n)):te(n)}const Hu=!1,vL={exact:function gC(n,t,e){if(!Zr(n.segments,t.segments)||!Bu(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!gC(n.children[i],t.children[i],e))return!1;return!0},subset:mC},fC={exact:function bL(n,t){return Ai(n,t)},subset:function _L(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cC(n[e],t[e]))},ignored:()=>!0};function pC(n,t,e){return vL[e.paths](n.root,t.root,e.matrixParams)&&fC[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function mC(n,t,e){return yC(n,t,t.segments,e)}function yC(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Zr(r,e)||t.hasChildren()||!Bu(r,e,i))}if(n.segments.length===e.length){if(!Zr(n.segments,e)||!Bu(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!mC(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Zr(n.segments,r)&&Bu(n.segments,r,i)&&n.children[Ee])&&yC(n.children[Ee],t,s,i)}}function Bu(n,t,e){return t.every((i,r)=>fC[e](n[r].parameters,i.parameters))}class Yr{constructor(t=new Te([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return DL.serialize(this)}}class Te{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Jt(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ju(this)}}class va{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gs(this.parameters)),this._parameterMap}toString(){return wC(this)}}function Zr(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let vC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return new Xf},providedIn:"root"}),n})();class Xf{parse(t){const e=new PL(t);return new Yr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ba(t.root,!0)}`,i=function TL(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${$u(e)}=${$u(r)}`).join("&"):`${$u(e)}=${$u(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function EL(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const DL=new Xf;function ju(n){return n.segments.map(t=>wC(t)).join("/")}function ba(n,t){if(!n.hasChildren())return ju(n);if(t){const e=n.children[Ee]?ba(n.children[Ee],!1):"",i=[];return Jt(n.children,(r,s)=>{s!==Ee&&i.push(`${s}:${ba(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function CL(n,t){let e=[];return Jt(n.children,(i,r)=>{r===Ee&&(e=e.concat(t(i,r)))}),Jt(n.children,(i,r)=>{r!==Ee&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ee?[ba(n.children[Ee],!1)]:[`${r}:${ba(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ee]?`${ju(n)}/${e[0]}`:`${ju(n)}/(${e.join("//")})`}}function bC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $u(n){return bC(n).replace(/%3B/gi,";")}function ep(n){return bC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gu(n){return decodeURIComponent(n)}function _C(n){return Gu(n.replace(/\+/g,"%20"))}function wC(n){return`${ep(n.path)}${function ML(n){return Object.keys(n).map(t=>`;${ep(t)}=${ep(n[t])}`).join("")}(n.parameters)}`}const IL=/^[^\/()?;=#]+/;function zu(n){const t=n.match(IL);return t?t[0]:""}const SL=/^[^=?&#]+/,kL=/^[^&#]+/;class PL{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Te([],{}):new Te([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ee]=new Te(t,e)),i}parseSegment(){const t=zu(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new O(4009,Hu);return this.capture(t),new va(Gu(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=zu(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=zu(this.remaining);r&&(i=r,this.capture(i))}t[Gu(e)]=Gu(i)}parseQueryParam(t){const e=function AL(n){const t=n.match(SL);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const o=function xL(n){const t=n.match(kL);return t?t[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=_C(e),s=_C(i);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=zu(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new O(4010,Hu);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=Ee);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Ee]:new Te([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new O(4011,Hu)}}function tp(n){return n.segments.length>0?new Te([],{[Ee]:n}):n}function Wu(n){const t={};for(const i of Object.keys(n.children)){const s=Wu(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function OL(n){if(1===n.numberOfChildren&&n.children[Ee]){const t=n.children[Ee];return new Te(n.segments.concat(t.segments),t.children)}return n}(new Te(n.segments,t))}function Qr(n){return n instanceof Yr}function NL(n,t,e,i,r){if(0===e.length)return zs(t.root,t.root,t.root,i,r);const s=function EC(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DC(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return Jt(s.outlets,(u,h)=>{l[h]="string"==typeof u?u.split("/"):u}),[...r,{outlets:l}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((l,u)=>{0==u&&"."===l||(0==u&&""===l?e=!0:".."===l?t++:""!=l&&r.push(l))}),r):[...r,s]},[]);return new DC(e,t,i)}(e);return s.toRoot()?zs(t.root,t.root,new Te([],{}),i,r):function o(u){const h=function VL(n,t,e,i){if(n.isAbsolute)return new Ws(t.root,!0,0);if(-1===i)return new Ws(e,e===t.root,0);return function MC(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new Ws(i,!1,r-s)}(e,i+(_a(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,u),f=h.processChildren?Ca(h.segmentGroup,h.index,s.commands):ip(h.segmentGroup,h.index,s.commands);return zs(t.root,h.segmentGroup,f,i,r)}(n.snapshot?._lastPathIndex)}function _a(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wa(n){return"object"==typeof n&&null!=n&&n.outlets}function zs(n,t,e,i,r){let o,s={};i&&Jt(i,(u,h)=>{s[h]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`}),o=n===t?e:CC(n,t,e);const l=tp(Wu(o));return new Yr(l,s,r)}function CC(n,t,e){const i={};return Jt(n.children,(r,s)=>{i[s]=r===t?e:CC(r,t,e)}),new Te(n.segments,i)}class DC{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&_a(i[0]))throw new O(4003,!1);const r=i.find(wa);if(r&&r!==hC(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ws{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function ip(n,t,e){if(n||(n=new Te([],{})),0===n.segments.length&&n.hasChildren())return Ca(n,t,e);const i=function HL(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const o=n.segments[r],l=e[i];if(wa(l))break;const u=`${l}`,h=i<e.length-1?e[i+1]:null;if(r>0&&void 0===u)break;if(u&&h&&"object"==typeof h&&void 0===h.outlets){if(!IC(u,h,o))return s;i+=2}else{if(!IC(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Te(n.segments.slice(0,i.pathIndex),{});return s.children[Ee]=new Te(n.segments.slice(i.pathIndex),n.children),Ca(s,0,r)}return i.match&&0===r.length?new Te(n.segments,{}):i.match&&!n.hasChildren()?rp(n,t,e):i.match?Ca(n,0,r):rp(n,t,e)}function Ca(n,t,e){if(0===e.length)return new Te(n.segments,{});{const i=function UL(n){return wa(n[0])?n[0].outlets:{[Ee]:n}}(e),r={};return Jt(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=ip(n.children[o],t,s))}),Jt(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Te(n.segments,r)}}function rp(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(wa(s)){const u=BL(s.outlets);return new Te(i,u)}if(0===r&&_a(e[0])){i.push(new va(n.segments[t].path,TC(e[0]))),r++;continue}const o=wa(s)?s.outlets[Ee]:`${s}`,l=r<e.length-1?e[r+1]:null;o&&l&&_a(l)?(i.push(new va(o,TC(l))),r+=2):(i.push(new va(o,{})),r++)}return new Te(i,{})}function BL(n){const t={};return Jt(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=rp(new Te([],{}),0,e))}),t}function TC(n){const t={};return Jt(n,(e,i)=>t[i]=`${e}`),t}function IC(n,t,e){return n==e.path&&Ai(t,e.parameters)}class qi{constructor(t,e){this.id=t,this.url=e}}class sp extends qi{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ki extends qi{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class qu extends qi{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class SC extends qi{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jL extends qi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $L extends qi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GL extends qi{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class zL extends qi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WL extends qi{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qL{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KL{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YL{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZL{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QL{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JL{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class AC{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=op(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=op(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ap(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return ap(t,this._root).map(e=>e.value)}}function op(n,t){if(n===t.value)return t;for(const e of t.children){const i=op(n,e);if(i)return i}return null}function ap(n,t){if(n===t.value)return[t];for(const e of t.children){const i=ap(n,e);if(i.length)return i.unshift(t),i}return[]}class Yi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qs(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class xC extends kC{constructor(t,e){super(t),this.snapshot=e,lp(this,t)}toString(){return this.snapshot.toString()}}function PC(n,t){const e=function eR(n,t){const o=new Ku([],{},{},"",{},Ee,t,null,n.root,-1,{});return new LC("",new Yi(o,[]))}(n,t),i=new Hn([new va("",{})]),r=new Hn({}),s=new Hn({}),o=new Hn({}),l=new Hn(""),u=new wr(i,r,o,l,s,Ee,t,e.root);return u.snapshot=e.root,new xC(new Yi(u,[]),e)}class wr{constructor(t,e,i,r,s,o,l,u){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.pipe(R(h=>h[ya]))??te(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(R(t=>Gs(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(R(t=>Gs(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function OC(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function tR(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Ku{constructor(t,e,i,r,s,o,l,u,h,f,g){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=l,this.routeConfig=u,this._urlSegment=h,this._lastPathIndex=f,this._resolve=g}get title(){return this.data?.[ya]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class LC extends kC{constructor(t,e){super(e),this.url=t,lp(this,e)}toString(){return RC(this._root)}}function lp(n,t){t.value._routerState=n,t.children.forEach(e=>lp(n,e))}function RC(n){const t=n.children.length>0?` { ${n.children.map(RC).join(", ")} } `:"";return`${n.value}${t}`}function up(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ai(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ai(t.params,e.params)||n.params.next(e.params),function yL(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ai(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ai(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cp(n,t){const e=Ai(n.params,t.params)&&function wL(n,t){return Zr(n,t)&&n.every((e,i)=>Ai(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||cp(n.parent,t.parent))}function Da(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function iR(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Da(n,i,r);return Da(n,i)})}(n,t,e);return new Yi(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(l=>Da(n,l)),o}}const i=function rR(n){return new wr(new Hn(n.url),new Hn(n.params),new Hn(n.queryParams),new Hn(n.fragment),new Hn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>Da(n,s));return new Yi(i,r)}}const dp="ngNavigationCancelingError";function NC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Qr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=FC(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function FC(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[dp]=!0,i.cancellationCode=t,e&&(i.url=e),i}function VC(n){return UC(n)&&Qr(n.url)}function UC(n){return n&&n[dp]}class sR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ea,this.attachRef=null}}let Ea=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new sR,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yu=!1;let Zu=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ee,this.activateEvents=new Le,this.deactivateEvents=new Le,this.attachEvents=new Le,this.detachEvents=new Le,this.parentContexts=Se(Ea),this.location=Se(hi),this.changeDetector=Se(pi),this.environmentInjector=Se(Ui)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,Yu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,Yu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,Yu);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new O(4013,Yu);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,u=new oR(e,l,r.injector);if(i&&function aR(n){return!!n.resolveComponentFactory}(i)){const h=i.resolveComponentFactory(o);this.activated=r.createComponent(h,r.length,u)}else this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ie({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Dn]}),n})();class oR{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===wr?this.route:t===Ea?this.childContexts:this.parent.get(t,e)}}let hp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=lt({type:n,selectors:[["ng-component"]],standalone:!0,features:[zb],decls:1,vars:0,template:function(e,i){1&e&&p(0,"router-outlet")},dependencies:[Zu],encapsulation:2}),n})();function HC(n,t){return n.providers&&!n._injector&&(n._injector=uu(n.providers,t,`Route: ${n.path}`)),n._injector??t}function pp(n){const t=n.children&&n.children.map(pp),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ee&&(e.component=hp),e}function Xn(n){return n.outlet||Ee}function BC(n,t){const e=n.filter(i=>Xn(i)===t);return e.push(...n.filter(i=>Xn(i)!==t)),e}function Ma(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class hR{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),up(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=qs(e);t.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Jt(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=qs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:l})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=qs(t);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=qs(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new JL(s.value.snapshot))}),t.children.length&&this.forwardEvent(new ZL(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(up(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),up(l.route.value),this.activateChildRoutes(t,null,o.children)}else{const l=Ma(r.snapshot),u=l?.get(Vo)??null;o.attachRef=null,o.route=r,o.resolver=u,o.injector=l,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,i)}}class jC{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Qu{constructor(t,e){this.component=t,this.route=e}}function fR(n,t,e){const i=n._root;return Ta(i,t?t._root:null,e,[i.value])}function Ks(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||function VE(n){return null!==hl(n)}(n)?t.get(n):n:i}function Ta(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=qs(t);return n.children.forEach(o=>{(function gR(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=t?t.value:null,l=e?e.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function mR(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Zr(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zr(n.url,t.url)||!Ai(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cp(n,t)||!Ai(n.queryParams,t.queryParams);default:return!cp(n,t)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new jC(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Ta(n,t,s.component?l?l.children:null:e,i,r),u&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new Qu(l.outlet.component,o))}else o&&Ia(t,l,r),r.canActivateChecks.push(new jC(i)),Ta(n,null,s.component?l?l.children:null:e,i,r)})(o,s[o.value.outlet],e,i.concat([o.value]),r),delete s[o.value.outlet]}),Jt(s,(o,l)=>Ia(o,e.getContext(l),r)),r}function Ia(n,t,e){const i=qs(n),r=n.value;Jt(i,(s,o)=>{Ia(s,r.component?t?t.children.getContext(o):null:t,e)}),e.canDeactivateChecks.push(new Qu(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Sa(n){return"function"==typeof n}function gp(n){return n instanceof Fu||"EmptyError"===n?.name}const Ju=Symbol("INITIAL_VALUE");function Ys(){return Bn(n=>Yf(n.map(t=>t.pipe(Kr(1),oC(Ju)))).pipe(R(t=>{for(const e of t)if(!0!==e){if(e===Ju)return Ju;if(!1===e||e instanceof Yr)return e}return!0}),vn(t=>t!==Ju),Kr(1)))}function $C(n){return function L(...n){return H(n)}(Je(t=>{if(Qr(t))throw NC(0,t)}),R(t=>!0===t))}const mp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function GC(n,t,e,i,r){const s=yp(n,t,e);return s.matched?function OR(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?te(r.map(o=>{const l=Ks(o,n);return _r(function CR(n){return n&&Sa(n.canMatch)}(l)?l.canMatch(t,e):n.runInContext(()=>l(t,e)))})).pipe(Ys(),$C()):te(!0)}(i=HC(t,i),t,e).pipe(R(o=>!0===o?s:{...mp})):te(s)}function yp(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...mp}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||mL)(e,n,t);if(!r)return{...mp};const s={};Jt(r.posParams,(l,u)=>{s[u]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Xu(n,t,e,i){if(e.length>0&&function NR(n,t,e){return e.some(i=>ec(n,t,i)&&Xn(i)!==Ee)}(n,e,i)){const s=new Te(t,function RR(n,t,e,i){const r={};r[Ee]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Xn(s)!==Ee){const o=new Te([],{});o._sourceSegment=n,o._segmentIndexShift=t.length,r[Xn(s)]=o}return r}(n,t,i,new Te(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function FR(n,t,e){return e.some(i=>ec(n,t,i))}(n,e,i)){const s=new Te(n.segments,function LR(n,t,e,i,r){const s={};for(const o of i)if(ec(n,e,o)&&!r[Xn(o)]){const l=new Te([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,s[Xn(o)]=l}return{...r,...s}}(n,t,e,i,n.children));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const r=new Te(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function ec(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function zC(n,t,e,i){return!!(Xn(n)===i||i!==Ee&&ec(t,e,n))&&("**"===n.path||yp(t,n,e).matched)}function WC(n,t,e){return 0===t.length&&!n.children[e]}const tc=!1;class nc{constructor(t){this.segmentGroup=t||null}}class qC{constructor(t){this.urlTree=t}}function Aa(n){return Si(new nc(n))}function KC(n){return Si(new qC(n))}class BR{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=Xu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Te(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ee).pipe(R(s=>this.createUrlTree(Wu(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(br(s=>{if(s instanceof qC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof nc?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ee).pipe(R(r=>this.createUrlTree(Wu(r),t.queryParams,t.fragment))).pipe(br(r=>{throw r instanceof nc?this.noMatchError(r):r}))}noMatchError(t){return new O(4002,tc)}createUrlTree(t,e,i){const r=tp(t);return new Yr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(R(s=>new Te([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return J(r).pipe(yr(s=>{const o=i.children[s],l=BC(e,s);return this.expandSegmentGroup(t,l,o,s).pipe(R(u=>({segment:u,outlet:s})))}),lC((s,o)=>(s[o.outlet]=o.segment,s),{}),uC())}expandSegment(t,e,i,r,s,o){return J(i).pipe(yr(l=>this.expandSegmentAgainstRoute(t,e,i,l,r,s,o).pipe(br(h=>{if(h instanceof nc)return te(null);throw h}))),mr(l=>!!l),br((l,u)=>{if(gp(l))return WC(e,r,s)?te(new Te([],{})):Aa(e);throw l}))}expandSegmentAgainstRoute(t,e,i,r,s,o,l){return zC(r,e,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o):Aa(e):Aa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?KC(s):this.lineralizeSegments(i,s).pipe(nt(o=>{const l=new Te(o,{});return this.expandSegment(t,l,e,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,o){const{matched:l,consumedSegments:u,remainingSegments:h,positionalParamSegments:f}=yp(e,r,s);if(!l)return Aa(e);const g=this.applyRedirectCommands(u,r.redirectTo,f);return r.redirectTo.startsWith("/")?KC(g):this.lineralizeSegments(r,g).pipe(nt(m=>this.expandSegment(t,e,i,m.concat(h),o,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=HC(i,t),i.loadChildren?(i._loadedRoutes?te({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe(R(l=>(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,new Te(r,{})))):te(new Te(r,{}))):GC(e,i,r,t).pipe(Bn(({matched:o,consumedSegments:l,remainingSegments:u})=>o?this.getChildConfig(t=i._injector??t,i,r).pipe(nt(f=>{const g=f.injector??t,m=f.routes,{segmentGroup:y,slicedSegments:b}=Xu(e,l,u,m),D=new Te(y.segments,y.children);if(0===b.length&&D.hasChildren())return this.expandChildren(g,m,D).pipe(R(M=>new Te(l,M)));if(0===m.length&&0===b.length)return te(new Te(l,{}));const I=Xn(i)===s;return this.expandSegment(g,D,m,b,I?Ee:s,!0).pipe(R(B=>new Te(l.concat(B.segments),B.children)))})):Aa(e)))}getChildConfig(t,e,i){return e.children?te({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?te({routes:e._loadedRoutes,injector:e._loadedInjector}):function PR(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?te(!0):te(r.map(o=>{const l=Ks(o,n);return _r(function vR(n){return n&&Sa(n.canLoad)}(l)?l.canLoad(t,e):n.runInContext(()=>l(t,e)))})).pipe(Ys(),$C())}(t,e,i).pipe(nt(r=>r?this.configLoader.loadChildren(t,e).pipe(Je(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function UR(n){return Si(FC(tc,3))}())):te({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return te(i);if(r.numberOfChildren>1||!r.children[Ee])return Si(new O(4e3,tc));r=r.children[Ee]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new Yr(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Jt(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const l=r.substring(1);i[s]=e[l]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let o={};return Jt(e.children,(l,u)=>{o[u]=this.createSegmentGroup(t,l,i,r)}),new Te(s,o)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new O(4001,tc);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class $R{}class WR{constructor(t,e,i,r,s,o,l){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=l}recognize(){const t=Xu(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ee).pipe(R(e=>{if(null===e)return null;const i=new Ku([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ee,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Yi(i,e),s=new LC(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=OC(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return J(Object.keys(i.children)).pipe(yr(r=>{const s=i.children[r],o=BC(e,r);return this.processSegmentGroup(t,o,s,r)}),lC((r,s)=>r&&s?(r.push(...s),r):null),function aL(n,t=!1){return e=>e.lift(new lL(n,t))}(r=>null!==r),Uu(null),uC(),R(r=>{if(null===r)return null;const s=ZC(r);return function qR(n){n.sort((t,e)=>t.value.outlet===Ee?-1:e.value.outlet===Ee?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return J(e).pipe(yr(o=>this.processSegmentAgainstRoute(o._injector??t,o,i,r,s)),mr(o=>!!o),br(o=>{if(gp(o))return WC(i,r,s)?te([]):te(null);throw o}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!zC(e,i,r,s))return te(null);let o;if("**"===e.path){const l=r.length>0?hC(r).parameters:{},u=JC(i)+r.length;o=te({snapshot:new Ku(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XC(e),Xn(e),e.component??e._loadedComponent??null,e,QC(i),u,eD(e)),consumedSegments:[],remainingSegments:[]})}else o=GC(i,e,r,t).pipe(R(({matched:l,consumedSegments:u,remainingSegments:h,parameters:f})=>{if(!l)return null;const g=JC(i)+u.length;return{snapshot:new Ku(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,XC(e),Xn(e),e.component??e._loadedComponent??null,e,QC(i),g,eD(e)),consumedSegments:u,remainingSegments:h}}));return o.pipe(Bn(l=>{if(null===l)return te(null);const{snapshot:u,consumedSegments:h,remainingSegments:f}=l;t=e._injector??t;const g=e._loadedInjector??t,m=function KR(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:y,slicedSegments:b}=Xu(i,h,f,m.filter(I=>void 0===I.redirectTo));if(0===b.length&&y.hasChildren())return this.processChildren(g,m,y).pipe(R(I=>null===I?null:[new Yi(u,I)]));if(0===m.length&&0===b.length)return te([new Yi(u,[])]);const D=Xn(e)===s;return this.processSegment(g,m,y,b,D?Ee:s).pipe(R(I=>null===I?null:[new Yi(u,I)]))}))}}function YR(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function ZC(n){const t=[],e=new Set;for(const i of n){if(!YR(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=ZC(i.children);t.push(new Yi(i.value,r))}return t.filter(i=>!e.has(i))}function QC(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function JC(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function XC(n){return n.data||{}}function eD(n){return n.resolve||{}}function tD(n){return"string"==typeof n.title||null===n.title}function vp(n){return Bn(t=>{const e=n(t);return e?J(e).pipe(R(()=>t)):te(t)})}class iN{constructor(t){this.router=t,this.currentNavigation=null}setupNavigations(t){const e=this.router.events;return t.pipe(vn(i=>0!==i.id),R(i=>({...i,extractedUrl:this.router.urlHandlingStrategy.extract(i.rawUrl)})),Bn(i=>{let r=!1,s=!1;return te(i).pipe(Je(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.router.lastSuccessfulNavigation?{...this.router.lastSuccessfulNavigation,previousNavigation:null}:null}}),Bn(o=>{const l=this.router.browserUrlTree.toString(),u=!this.router.navigated||o.extractedUrl.toString()!==l||l!==this.router.currentUrlTree.toString();if(("reload"===this.router.onSameUrlNavigation||u)&&this.router.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return iD(o.source)&&(this.router.browserUrlTree=o.extractedUrl),te(o).pipe(Bn(f=>{const g=this.router.transitions.getValue();return e.next(new sp(f.id,this.router.serializeUrl(f.extractedUrl),f.source,f.restoredState)),g!==this.router.transitions.getValue()?gr:Promise.resolve(f)}),function jR(n,t,e,i){return Bn(r=>function HR(n,t,e,i,r){return new BR(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(R(s=>({...r,urlAfterRedirects:s}))))}(this.router.ngModule.injector,this.router.configLoader,this.router.urlSerializer,this.router.config),Je(f=>{this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects},i.urlAfterRedirects=f.urlAfterRedirects}),function QR(n,t,e,i,r){return nt(s=>function zR(n,t,e,i,r,s,o="emptyOnly"){return new WR(n,t,e,i,r,o,s).recognize().pipe(Bn(l=>null===l?function GR(n){return new F(t=>t.error(n))}(new $R):te(l)))}(n,t,e,s.urlAfterRedirects,i.serialize(s.urlAfterRedirects),i,r).pipe(R(o=>({...s,targetSnapshot:o}))))}(this.router.ngModule.injector,this.router.rootComponentType,this.router.config,this.router.urlSerializer,this.router.paramsInheritanceStrategy),Je(f=>{if(i.targetSnapshot=f.targetSnapshot,"eager"===this.router.urlUpdateStrategy){if(!f.extras.skipLocationChange){const m=this.router.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl);this.router.setBrowserUrl(m,f)}this.router.browserUrlTree=f.urlAfterRedirects}const g=new jL(f.id,this.router.serializeUrl(f.extractedUrl),this.router.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);e.next(g)}));if(u&&this.router.rawUrlTree&&this.router.urlHandlingStrategy.shouldProcessUrl(this.router.rawUrlTree)){const{id:g,extractedUrl:m,source:y,restoredState:b,extras:D}=o,I=new sp(g,this.router.serializeUrl(m),y,b);e.next(I);const k=PC(m,this.router.rootComponentType).snapshot;return te(i={...o,targetSnapshot:k,urlAfterRedirects:m,extras:{...D,skipLocationChange:!1,replaceUrl:!1}})}return this.router.rawUrlTree=o.rawUrl,o.resolve(null),gr}),Je(o=>{const l=new $L(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot);this.router.triggerEvent(l)}),R(o=>i={...o,guards:fR(o.targetSnapshot,o.currentSnapshot,this.router.rootContexts)}),function ER(n,t){return nt(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?te({...e,guardsResult:!0}):function MR(n,t,e,i){return J(n).pipe(nt(r=>function xR(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?te(s.map(l=>{const u=Ma(t)??r,h=Ks(l,u);return _r(function wR(n){return n&&Sa(n.canDeactivate)}(h)?h.canDeactivate(n,t,e,i):u.runInContext(()=>h(n,t,e,i))).pipe(mr())})).pipe(Ys()):te(!0)}(r.component,r.route,e,t,i)),mr(r=>!0!==r,!0))}(o,i,r,n).pipe(nt(l=>l&&function yR(n){return"boolean"==typeof n}(l)?function TR(n,t,e,i){return J(t).pipe(yr(r=>Vu(function SR(n,t){return null!==n&&t&&t(new YL(n)),te(!0)}(r.route.parent,i),function IR(n,t){return null!==n&&t&&t(new QL(n)),te(!0)}(r.route,i),function kR(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>function pR(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(o)).filter(o=>null!==o).map(o=>rC(()=>te(o.guards.map(u=>{const h=Ma(o.node)??e,f=Ks(u,h);return _r(function _R(n){return n&&Sa(n.canActivateChild)}(f)?f.canActivateChild(i,n):h.runInContext(()=>f(i,n))).pipe(mr())})).pipe(Ys())));return te(s).pipe(Ys())}(n,r.path,e),function AR(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return te(!0);const r=i.map(s=>rC(()=>{const o=Ma(t)??e,l=Ks(s,o);return _r(function bR(n){return n&&Sa(n.canActivate)}(l)?l.canActivate(t,n):o.runInContext(()=>l(t,n))).pipe(mr())}));return te(r).pipe(Ys())}(n,r.route,e))),mr(r=>!0!==r,!0))}(i,s,n,t):te(l)),R(l=>({...e,guardsResult:l})))})}(this.router.ngModule.injector,o=>this.router.triggerEvent(o)),Je(o=>{if(i.guardsResult=o.guardsResult,Qr(o.guardsResult))throw NC(0,o.guardsResult);const l=new GL(o.id,this.router.serializeUrl(o.extractedUrl),this.router.serializeUrl(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.router.triggerEvent(l)}),vn(o=>!!o.guardsResult||(this.router.restoreHistory(o),this.router.cancelNavigationTransition(o,"",3),!1)),vp(o=>{if(o.guards.canActivateChecks.length)return te(o).pipe(Je(l=>{const u=new zL(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(u)}),Bn(l=>{let u=!1;return te(l).pipe(function JR(n,t){return nt(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return te(e);let s=0;return J(r).pipe(yr(o=>function XR(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!tD(r)&&(s[ya]=r.title),function eN(n,t,e,i){const r=function tN(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return te({});const s={};return J(r).pipe(nt(o=>function nN(n,t,e,i){const r=Ma(t)??i,s=Ks(n,r);return _r(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[o],t,e,i).pipe(mr(),Je(l=>{s[o]=l}))),Qf(1),function cL(n){return t=>t.lift(new dL(n))}(s),br(o=>gp(o)?gr:Si(o)))}(s,n,t,i).pipe(R(o=>(n._resolvedData=o,n.data=OC(n,e).resolve,r&&tD(r)&&(n.data[ya]=r.title),null)))}(o.route,i,n,t)),Je(()=>s++),Qf(1),nt(o=>s===r.length?te(e):gr))})}(this.router.paramsInheritanceStrategy,this.router.ngModule.injector),Je({next:()=>u=!0,complete:()=>{u||(this.router.restoreHistory(l),this.router.cancelNavigationTransition(l,"",2))}}))}),Je(l=>{const u=new WL(l.id,this.router.serializeUrl(l.extractedUrl),this.router.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.router.triggerEvent(u)}))}),vp(o=>{const l=u=>{const h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.router.configLoader.loadComponent(u.routeConfig).pipe(Je(f=>{u.component=f}),R(()=>{})));for(const f of u.children)h.push(...l(f));return h};return Yf(l(o.targetSnapshot.root)).pipe(Uu(),Kr(1))}),vp(()=>this.router.afterPreactivation()),R(o=>{const l=function nR(n,t,e){const i=Da(n,t._root,e?e._root:void 0);return new xC(i,t)}(this.router.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return i={...o,targetRouterState:l}}),Je(o=>{this.router.currentUrlTree=o.urlAfterRedirects,this.router.rawUrlTree=this.router.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.router.routerState=o.targetRouterState,"deferred"===this.router.urlUpdateStrategy&&(o.extras.skipLocationChange||this.router.setBrowserUrl(this.router.rawUrlTree,o),this.router.browserUrlTree=o.urlAfterRedirects)}),((n,t,e)=>R(i=>(new hR(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.router.rootContexts,this.router.routeReuseStrategy,o=>this.router.triggerEvent(o)),Je({next(){r=!0},complete(){r=!0}}),Jf(()=>{r||s||this.router.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),br(o=>{if(s=!0,UC(o)){VC(o)||(this.router.navigated=!0,this.router.restoreHistory(i,!0));const l=new qu(i.id,this.router.serializeUrl(i.extractedUrl),o.message,o.cancellationCode);if(e.next(l),VC(o)){const u=this.router.urlHandlingStrategy.merge(o.url,this.router.rawUrlTree),h={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.router.urlUpdateStrategy||iD(i.source)};this.router.scheduleNavigation(u,"imperative",null,h,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.router.restoreHistory(i,!0);const l=new SC(i.id,this.router.serializeUrl(i.extractedUrl),o,i.targetSnapshot??void 0);e.next(l);try{i.resolve(this.router.errorHandler(o))}catch(u){i.reject(u)}}return gr}))}))}}function iD(n){return"imperative"!==n}let rD=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Ee);return i}getResolvedTitleForRoute(e){return e.data[ya]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return Se(rN)},providedIn:"root"}),n})(),rN=(()=>{class n extends rD{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(P(Jw))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return Se(aN)},providedIn:"root"}),n})();class oN{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let aN=(()=>{class n extends oN{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ze(n)))(i||n)}}(),n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ic=new U("",{providedIn:"root",factory:()=>({})}),Zs=new U("ROUTES");let bp=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return te(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=_r(e.loadComponent()).pipe(R(oD),Je(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Jf(()=>{this.componentLoaders.delete(e)})),r=new nr(i,()=>new V).pipe(wn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return te({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(R(l=>{this.onLoadEndListener&&this.onLoadEndListener(i);let u,h,f=!1;Array.isArray(l)?h=l:(u=l.create(e).injector,h=dC(u.get(Zs,[],ae.Self|ae.Optional)));return{routes:h.map(pp),injector:u}}),Jf(()=>{this.childrenLoaders.delete(i)})),o=new nr(s,()=>new V).pipe(wn());return this.childrenLoaders.set(i,o),o}loadModuleFactoryOrRoutes(e){return _r(e()).pipe(R(oD),nt(r=>r instanceof $b||Array.isArray(r)?te(r):J(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(P(Fn),P(cf))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oD(n){return function cN(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let dN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:function(){return Se(hN)},providedIn:"root"}),n})(),hN=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fN(n){throw n}function pN(n,t,e){return t.parse("/")}const gN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function lD(){const n=Se(vC),t=Se(Ea),e=Se(ua),i=Se(Fn),r=Se(cf),s=Se(Zs,{optional:!0})??[],o=Se(ic,{optional:!0})??{},l=new Wt(null,n,t,e,i,r,dC(s));return function yN(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(o,l),l}let Wt=(()=>{class n{constructor(e,i,r,s,o,l,u){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=u,this.lastSuccessfulNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new V,this.errorHandler=fN,this.malformedUriErrorHandler=pN,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>te(void 0),this.urlHandlingStrategy=Se(dN),this.routeReuseStrategy=Se(sN),this.titleStrategy=Se(rD),this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.canceledNavigationResolution="replace",this.navigationTransitions=new iN(this),this.configLoader=o.get(bp),this.configLoader.onLoadEndListener=m=>this.triggerEvent(new KL(m)),this.configLoader.onLoadStartListener=m=>this.triggerEvent(new qL(m)),this.ngModule=o.get(Wr),this.console=o.get(Dx);const g=o.get(it);this.isNgZoneEnabled=g instanceof it&&it.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Yr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=PC(this.currentUrlTree,this.rootComponentType),this.transitions=new Hn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.navigationTransitions.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(e.state){const l={...e.state};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(r.state=l)}const o=this.parseUrl(e.url);this.scheduleNavigation(o,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(pp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:u}=i,h=r||this.routerState.root,f=u?this.currentUrlTree.fragment:o;let g=null;switch(l){case"merge":g={...this.currentUrlTree.queryParams,...s};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}return null!==g&&(g=this.removeEmptyProps(g)),NL(h,this.currentUrlTree,e,g,f??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Qr(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function vN(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new O(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...gN}:!1===i?{...mN}:i,Qr(e))return pC(this.currentUrlTree,e,r);const s=this.parseUrl(e);return pC(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ki(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.getCurrentNavigation(),this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let l,u,h;o?(l=o.resolve,u=o.reject,h=o.promise):h=new Promise((m,y)=>{l=m,u=y});const f=++this.navigationId;let g;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),g=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):g=0,this.setTransition({id:f,targetPageId:g,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,rawUrl:e,extras:s,resolve:l,reject:u,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new qu(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){uh()},n.\u0275prov=z({token:n,factory:function(){return lD()},providedIn:"root"}),n})(),rc=(()=>{class n{constructor(e,i,r,s,o,l){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=l,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new V;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=e.events.subscribe(h=>{h instanceof Ki&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=$s(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=$s(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=$s(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function oy(n,t,e){return function CT(n,t){return"src"===t&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===t&&("base"===n||"link"===n)?sy:lr}(t,e)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,s=this.el.nativeElement;null!==i?r.setAttribute(s,e,i):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(C(Wt),C(wr),function Mo(n){return function $0(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const s=e[r];if(Kg(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(s===t)return e[r+1];r+=2}}}return null}(Qt(),n)}("tabindex"),C(Nn),C(_t),C(fr))},n.\u0275dir=ie({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&je("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&on("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[Dn]}),n})(),uD=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Le,this.routerEventsSubscription=e.events.subscribe(l=>{l instanceof Ki&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(cn()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=J(e).pipe(cn()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function bN(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}}return n.\u0275fac=function(e){return new(e||n)(C(Wt),C(_t),C(Nn),C(pi),C(rc,8))},n.\u0275dir=ie({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&du(r,rc,5),2&e){let s;gt(s=mt())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Dn]}),n})();class cD{}let _N=(()=>{class n{constructor(e,i,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(vn(e=>e instanceof Ki),yr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=uu(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,l=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(l,s.children??s._loadedRoutes))}return J(r).pipe(cn())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):te(null);const s=r.pipe(nt(o=>null===o?te(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return i.loadComponent&&!i._loadedComponent?J([s,this.loader.loadComponent(i)]).pipe(cn()):s})}}return n.\u0275fac=function(e){return new(e||n)(P(Wt),P(cf),P(Ui),P(cD),P(bp))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _p=new U("");let dD=(()=>{class n{constructor(e,i,r,s={}){this.router=e,this.viewportScroller=i,this.zone=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof sp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ki&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof AC&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.router.triggerEvent(new AC(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){uh()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function Js(n,t){return{\u0275kind:n,\u0275providers:t}}function fD(){const n=Se(Fn);return t=>{const e=n.get(yu);if(t!==e.components[0])return;const i=n.get(Wt),r=n.get(pD);1===n.get(Cp)&&i.initialNavigation(),n.get(gD,null,ae.Optional)?.setUpPreloading(),n.get(_p,null,ae.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const pD=new U("",{factory:()=>new V}),Cp=new U("",{providedIn:"root",factory:()=>1});const gD=new U("");function MN(n){return Js(0,[{provide:gD,useExisting:_N},{provide:cD,useExisting:n}])}const mD=new U("ROUTER_FORROOT_GUARD"),TN=[ua,{provide:vC,useClass:Xf},{provide:Wt,useFactory:lD},Ea,{provide:wr,useFactory:function hD(n){return n.routerState.root},deps:[Wt]},bp,[]];function IN(){return new H_("Router",Wt)}let yD=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[TN,[],{provide:Zs,multi:!0,useValue:e},{provide:mD,useFactory:xN,deps:[[Wt,new Ao,new ko]]},{provide:ic,useValue:i||{}},i?.useHash?{provide:fr,useClass:c2}:{provide:fr,useClass:Mf},{provide:_p,useFactory:()=>{const n=Se(Wt),t=Se(IP),e=Se(it),i=Se(ic);return i.scrollOffset&&t.setOffset(i.scrollOffset),new dD(n,t,e,i)}},i?.preloadingStrategy?MN(i.preloadingStrategy).\u0275providers:[],{provide:H_,multi:!0,useFactory:IN},i?.initialNavigation?PN(i):[],[{provide:vD,useFactory:fD},{provide:O_,multi:!0,useExisting:vD}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Zs,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(P(mD,8))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[hp]}),n})();function xN(n){return"guarded"}function PN(n){return["disabled"===n.initialNavigation?Js(3,[{provide:pu,multi:!0,useFactory:()=>{const t=Se(Wt);return()=>{t.setUpLocationChangeListener()}}},{provide:Cp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Js(2,[{provide:Cp,useValue:0},{provide:pu,multi:!0,deps:[Fn],useFactory:t=>{const e=t.get(l2,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const s=t.get(Wt),o=t.get(pD);(function i(r){t.get(Wt).events.pipe(vn(o=>o instanceof Ki||o instanceof qu||o instanceof SC),R(o=>o instanceof Ki||o instanceof qu&&(0===o.code||1===o.code)&&null),vn(o=>null!==o),Kr(1)).subscribe(()=>{r()})})(()=>{r(!0)}),s.afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const vD=new U("");class sc{static#e=this.\u0275fac=function(e){return new(e||sc)};static#t=this.\u0275cmp=lt({type:sc,selectors:[["app-home"]],decls:63,vars:0,consts:[[1,"list","inline"],["href","/music"],["href","/blog"],["href","https://github.com/EgillAntonsson"],["href","/lifting"],["href","https://www.resolutiongames.com"],["href","https://www.linkedin.com/in/egillantonsson"],["src","../assets/images/home/Egill_Antonsson_and_family.jpg","alt","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson","title","The family: Egill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson",1,"image"],["href","https://rawfury.com"],["href","/music/pesi-year-1974"]],template:function(e,i){1&e&&(c(0,"h1"),a(1,"Egill Antonsson"),d(),c(2,"h2"),a(3,"Software developer, music artist, weightlifter, earthling, stardust"),d(),c(4,"p"),a(5,"\nWelcome to my website, where I share my passions:"),p(6,"br"),d(),c(7,"ul",0)(8,"li")(9,"a",1),a(10,"Music"),d()(),c(11,"li")(12,"a",2),a(13,"Blogging"),d(),a(14," about software development,"),p(15,"br"),a(16," my code projects are on "),c(17,"a",3),a(18,"GitHub"),d()(),c(19,"li")(20,"a",4),a(21,"Weight Lifting"),d()()(),c(22,"p"),a(23,"\nMy profession is Software Development, and I work as a Sound Programmer at "),c(24,"a",5),a(25,"Resolution Games"),d(),p(26,"br"),a(27,"\nMy "),c(28,"a",6),a(29,"LinkedIn profile"),d(),a(30," sums up my work experience.\n"),d(),c(31,"h2"),a(32,"Background & Family"),d(),c(33,"figure"),p(34,"img",7),c(35,"figcaption"),a(36,"\nThe Family, from left to right:"),p(37,"br"),a(38,"\nEgill Antonsson, Soff\xeda R\xf3s Egilsd\xf3ttir, Jantra Phosri & Andri Reyr Ragnarsson\n"),d()(),c(39,"p"),a(40,"\nI was born in 1982 and raised in Reykjavik, Iceland."),p(41,"br"),a(42,"\nSince 2014 I live in Stockholm (Sweden) with my wonderful wife Jantra Phosri and daughter Soff\xeda R\xf3s Egilsd\xf3ttir."),p(43,"br"),a(44,"\nI'm a proud bonus/step dad of Andri Reyr Ragnarsson who lives in Norway."),p(45,"br"),d(),c(46,"p"),a(47,"\nI'm son of Anton Angant\xfdsson (that's what my last name literally means) and Halla Soff\xeda J\xf3nasd\xf3ttir."),p(48,"br"),a(49,"\nMy brother J\xf3nas B. Antonsson and he also lives in Stockholm and he's (un)publishing games at "),c(50,"a",8),a(51,"Raw Fury"),d(),a(52,"."),p(53,"br")(54,"br"),a(55,"\nOur two older brothers and namesakes passed away before I was born."),p(56,"br"),a(57,"\nThey played music and painted pictures and according to family and friends were brilliant boys."),p(58,"br"),a(59,"\nI digitalized their music that they recorded on a cassette in the early 1970s and you can listen to "),c(60,"a",9),a(61,"here"),d(),a(62,".\n"),d())},encapsulation:2})}class Xs{constructor(){const t="TDD-ing Avatar Health in Unity (C# .NET)";this.series=[{title:t,posts:[new Cr("Part 1 - TDD: What, Why, When ?","tdd-health/part1",t,new Date(2021,11,30),new Date(2022,4,14)),new Cr("Part 2 - The assignment: The Avatar Health","tdd-health/part2",t,new Date(2021,11,30),new Date(2022,4,14)),new Cr("Part 3 - The implementation begins","tdd-health/part3",t,new Date(2021,11,30),new Date(2022,4,14)),new Cr("Part 4 - Taking Damage","tdd-health/part4",t,new Date(2022,0,4),new Date(2022,4,14)),new Cr("Part 5 - The Dying part","tdd-health/part5",t,new Date(2022,1,1),new Date(2022,4,14)),new Cr("Part 6 - The Replenishing part","tdd-health/part6",t,new Date(2022,4,9),new Date(2022,4,14)),new Cr("Part 7 - The Increasing and Max part","tdd-health/part7",t,new Date(2022,4,14),new Date(2022,7,16)),new Cr("Part 8 - Adding the Config","tdd-health/part8",t,new Date(2022,7,16))]}],this.selectedPost=this.series[0].posts[0],this.posts=[];for(let e=0;e<this.series.length;e++)for(let i=0;i<this.series[e].posts.length;i++){const r=this.series[e].posts[i];r.index=i,this.posts.push(r)}}getPostWith(t){let e=null;return this.posts.filter(i=>{i.routePath===t&&(e=i)}),e}static#e=this.\u0275fac=function(e){return new(e||Xs)};static#t=this.\u0275prov=z({token:Xs,factory:Xs.\u0275fac,providedIn:"root"})}class Cr{constructor(t,e,i,r,s){this.title=t,this.routePath=e,this.seriesTitle=i,this.publishedDate=r,this.updatedDate=s}}const bD=function(n){return{nodeSelected:n}};function LN(n,t){if(1&n){const e=dr();c(0,"div",9),je("click",function(){const s=sr(e).$implicit;return or(be(3).onPostClick(s))}),a(1),d()}if(2&n){const e=t.$implicit,i=be(3);E("ngClass",Us(2,bD,e===i.selectedPost)),v(1),Pe(" ",e.title," ")}}function RN(n,t){if(1&n&&(c(0,"div",7),ve(1,LN,2,4,"div",8),d()),2&n){const e=be().$implicit;v(1),E("ngForOf",e.posts)}}const _D=function(n,t){return{branchIcon:!0,branchAnimateClose:n,branchAnimateOpen:t}};function NN(n,t){if(1&n){const e=dr();c(0,"div")(1,"div",3),je("click",function(){const s=sr(e).index;return or(be().onSeriesClick(s))}),c(2,"div",4),p(3,"div",5),d(),c(4,"span"),a(5),d()(),ve(6,RN,2,1,"div",6),d()}if(2&n){const e=t.$implicit,i=t.index,r=be();v(3),E("ngClass",ta(3,_D,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),v(2),He(e.title),v(1),E("ngIf",r.openedUiSeriesIndex===i)}}function FN(n,t){if(1&n){const e=dr();c(0,"div",9),je("click",function(){const s=sr(e).$implicit;return or(be(3).onPostClick(s))}),a(1),d()}if(2&n){const e=t.$implicit,i=be(3);E("ngClass",Us(2,bD,e===i.selectedPost)),v(1),Pe(" ",e.title," ")}}function VN(n,t){if(1&n&&(c(0,"div",7),ve(1,FN,2,4,"div",8),d()),2&n){const e=be().$implicit;v(1),E("ngForOf",e.posts)}}function UN(n,t){if(1&n){const e=dr();c(0,"div")(1,"div",3),je("click",function(){const s=sr(e).index;return or(be().onSeriesClick(s))}),c(2,"div",4),p(3,"div",5),d(),c(4,"span"),a(5),d()(),ve(6,VN,2,1,"div",6),d()}if(2&n){const e=t.$implicit,i=t.index,r=be();v(3),E("ngClass",ta(3,_D,r.openedUiSeriesIndex!=i,r.openedUiSeriesIndex===i)),v(2),He(e.title),v(1),E("ngIf",r.openedUiSeriesIndex===i)}}class oc{constructor(t,e,i){this.blogService=t,this.router=e,this.route=i,this.openedUiSeriesIndex=0,this.selectedSeriesIndex=0,this.router.events.pipe(vn(r=>r instanceof Ki)).subscribe(r=>{const s=r.urlAfterRedirects;if("/blog"===s)this.blogService.selectedPost=this.blogService.posts[0],this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route});else{const o=s.substring(s.length-1,s.length);this.blogService.selectedPost=this.blogService.posts[parseInt(o,10)-1]}})}get blogSeries(){return this.blogService.series}get selectedPost(){return this.blogService.selectedPost}onSeriesClick(t){this.openedUiSeriesIndex=t}onPostClick(t){this.selectedSeriesIndex=this.openedUiSeriesIndex,this.blogService.selectedPost=t,this.router.navigate([this.selectedPost.routePath],{relativeTo:this.route}),window.scroll(0,0)}static#e=this.\u0275fac=function(e){return new(e||oc)(C(Xs),C(Wt),C(wr))};static#t=this.\u0275cmp=lt({type:oc,selectors:[["app-blog"]],decls:6,vars:2,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"treeContainer"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[3,"ngClass"],["class","nodeContainer NodeFadeIn",4,"ngIf"],[1,"nodeContainer","NodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(e,i){1&e&&(c(0,"div",0),ve(1,NN,7,6,"div",1),d(),p(2,"router-outlet")(3,"br"),c(4,"div",2),ve(5,UN,7,6,"div",1),d()),2&e&&(v(1),E("ngForOf",i.blogSeries),v(4),E("ngForOf",i.blogSeries))},dependencies:[Zu,ha,fa,an],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function ac(n,t){return new F(e=>{const i=n.length;if(0===i)return void e.complete();const r=new Array(i);let s=0,o=0;for(let l=0;l<i;l++){const u=J(n[l]);let h=!1;e.add(u.subscribe({next:f=>{h||(h=!0,o++),r[l]=f},error:f=>e.error(f),complete:()=>{s++,(s===i||!h)&&(o===i&&e.next(t?t.reduce((f,g,m)=>(f[g]=r[m],f),{}):r),e.complete())}}))}})}let wD=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(C(Nn),C(_t))},n.\u0275dir=ie({type:n}),n})(),Jr=(()=>{class n extends wD{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ze(n)))(i||n)}}(),n.\u0275dir=ie({type:n,features:[we]}),n})();const ei=new U("NgValueAccessor"),jN={provide:ei,useExisting:Be(()=>xa),multi:!0},GN=new U("CompositionEventMode");let xa=(()=>{class n extends wD{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function $N(){const n=Ii()?Ii().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(C(Nn),C(_t),C(GN,8))},n.\u0275dir=ie({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&je("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[qe([jN]),we]}),n})();function Dr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function DD(n){return null!=n&&"number"==typeof n.length}const ln=new U("NgValidators"),Er=new U("NgAsyncValidators"),WN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Mr{static min(t){return function ED(n){return t=>{if(Dr(t.value)||Dr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function MD(n){return t=>{if(Dr(t.value)||Dr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function TD(n){return Dr(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function ID(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function SD(n){return Dr(n.value)||WN.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function AD(n){return t=>Dr(t.value)||!DD(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return kD(t)}static pattern(t){return function xD(n){if(!n)return lc;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Dr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return FD(t)}static composeAsync(t){return VD(t)}}function kD(n){return t=>DD(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function lc(n){return null}function PD(n){return null!=n}function OD(n){return Wo(n)?J(n):n}function LD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function RD(n,t){return t.map(e=>e(n))}function ND(n){return n.map(t=>function qN(n){return!n.validate}(t)?t:e=>t.validate(e))}function FD(n){if(!n)return null;const t=n.filter(PD);return 0==t.length?null:function(e){return LD(RD(e,t))}}function Dp(n){return null!=n?FD(ND(n)):null}function VD(n){if(!n)return null;const t=n.filter(PD);return 0==t.length?null:function(e){return function HN(...n){if(1===n.length){const t=n[0];if(Xt(t))return ac(t,null);if(ii(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return ac(e.map(i=>t[i]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return ac(n=1===n.length&&Xt(n[0])?n[0]:n,null).pipe(R(e=>t(...e)))}return ac(n,null)}(RD(e,t).map(OD)).pipe(R(LD))}}function Ep(n){return null!=n?VD(ND(n)):null}function UD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function HD(n){return n._rawValidators}function BD(n){return n._rawAsyncValidators}function Mp(n){return n?Array.isArray(n)?n:[n]:[]}function uc(n,t){return Array.isArray(n)?n.includes(t):n===t}function jD(n,t){const e=Mp(t);return Mp(n).forEach(r=>{uc(e,r)||e.push(r)}),e}function $D(n,t){return Mp(t).filter(e=>!uc(n,e))}class GD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Dp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ep(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class bn extends GD{get formDirective(){return null}get path(){return null}}class Tr extends GD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zD{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Tp=(()=>{class n extends zD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(C(Tr,2))},n.\u0275dir=ie({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&Un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[we]}),n})(),Ip=(()=>{class n extends zD{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(C(bn,10))},n.\u0275dir=ie({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&Un("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[we]}),n})();const Pa="VALID",dc="INVALID",eo="PENDING",Oa="DISABLED";function xp(n){return(hc(n)?n.validators:n)||null}function Pp(n,t){return(hc(t)?t.asyncValidators:n)||null}function hc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function qD(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new O(1e3,"");if(!i[e])throw new O(1001,"")}function KD(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new O(1002,"")})}class fc{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Pa}get invalid(){return this.status===dc}get pending(){return this.status==eo}get disabled(){return this.status===Oa}get enabled(){return this.status!==Oa}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(jD(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(jD(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators($D(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators($D(t,this._rawAsyncValidators))}hasValidator(t){return uc(this._rawValidators,t)}hasAsyncValidator(t){return uc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=eo,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oa,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Pa,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pa||this.status===eo)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oa:Pa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;const e=OD(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Le,this.statusChanges=new Le}_calculateStatus(){return this._allControlsDisabled()?Oa:this.errors?dc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(dc)?dc:Pa}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function eF(n){return Array.isArray(n)?Dp(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function tF(n){return Array.isArray(n)?Ep(n):n||null}(this._rawAsyncValidators)}}class La extends fc{constructor(t,e,i){super(xp(e),Pp(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){KD(this,0,t),Object.keys(t).forEach(i=>{qD(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class YD extends La{}const Ra=new U("CallSetDisabledState",{providedIn:"root",factory:()=>Op}),Op="always";function Na(n,t,e=Op){Lp(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function iF(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ZD(n,t)})}(n,t),function sF(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function rF(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ZD(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function nF(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function gc(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),yc(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mc(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Lp(n,t){const e=HD(n);null!==t.validator?n.setValidators(UD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=BD(n);null!==t.asyncValidator?n.setAsyncValidators(UD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();mc(t._rawValidators,r),mc(t._rawAsyncValidators,r)}function yc(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=HD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=BD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(o=>o!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return mc(t._rawValidators,i),mc(t._rawAsyncValidators,i),e}function ZD(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function XD(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function e1(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Va=class extends fc{constructor(t=null,e,i){super(xp(e),Pp(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),hc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=e1(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){XD(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){XD(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){e1(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Up=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ie({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const pF={provide:ei,useExisting:Be(()=>Hp),multi:!0};let Hp=(()=>{class n extends Jr{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ze(n)))(i||n)}}(),n.\u0275dir=ie({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,i){1&e&&je("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[qe([pF]),we]}),n})(),o1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({}),n})();const Bp=new U("NgModelWithFormControlWarning"),bF={provide:bn,useExisting:Be(()=>Ua)};let Ua=(()=>{class n extends bn{constructor(e,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Le,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(yc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Na(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){gc(e.control||null,e,!1),function uF(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,function JD(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(gc(i||null,e),(n=>n instanceof Va)(r)&&(Na(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);(function QD(n,t){Lp(n,t)})(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function oF(n,t){return yc(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lp(this.form,this),this._oldForm&&yc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(C(ln,10),C(Er,10),C(Ra,8))},n.\u0275dir=ie({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&je("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[qe([bF]),we,Dn]}),n})();const CF={provide:Tr,useExisting:Be(()=>vc)};let vc=(()=>{class n extends Tr{constructor(e,i,r,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new Le,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Fp(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===xa?e=s:function lF(n){return Object.getPrototypeOf(n.constructor)===Jr}(s)?i=s:r=s}),r||i||e||null}(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function Np(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function pc(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(C(bn,13),C(ln,10),C(Er,10),C(ei,10),C(Bp,8))},n.\u0275dir=ie({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[qe([CF]),we,Dn]}),n})();let Xr=(()=>{class n{constructor(){this._validator=lc}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):lc,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=ie({type:n,features:[Dn]}),n})();const RF={provide:ln,useExisting:Be(()=>bc),multi:!0};let bc=(()=>{class n extends Xr{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function f1(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>kD(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ze(n)))(i||n)}}(),n.\u0275dir=ie({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&on("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[qe([RF]),we]}),n})(),FF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[o1]}),n})(),qp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Bp,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ra,useValue:e.callSetDisabledState??Op}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[FF]}),n})();class w1 extends fc{constructor(t,e,i){super(xp(e),Pp(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){KD(this,0,t),t.forEach((i,r)=>{qD(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function C1(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let VF=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let s={};return C1(i)?s=i:null!==i&&(s.validators=i.validator,s.asyncValidators=i.asyncValidator),new La(r,s)}record(e,i=null){const r=this._reduceControls(e);return new YD(r,i)}control(e,i,r){let s={};return this.useNonNullable?(C1(i)?s=i:(s.validators=i,s.asyncValidators=r),new Va(e,{...s,nonNullable:!0})):new Va(e,i,r)}array(e,i,r){const s=e.map(o=>this._createControl(o));return new w1(s,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Va||e instanceof fc?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:qp}),n})(),D1=(()=>{class n extends VF{group(e,i=null){return super.group(e,i)}control(e,i,r){return super.control(e,i,r)}array(e,i,r){return super.array(e,i,r)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=ze(n)))(i||n)}}(),n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:qp}),n})();var UF=yt(3028);class _c{}class Kp{}class Zi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),o=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class HF{encodeKey(t){return E1(t)}encodeValue(t){return E1(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const jF=/%(\d[a-f0-9])/gi,$F={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function E1(n){return encodeURIComponent(n).replace(jF,(t,e)=>$F[e]??t)}function wc(n){return`${n}`}class Qi{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new HF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function BF(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,l]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],u=e.get(o)||[];u.push(l),e.set(o,u)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(wc):[wc(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Qi({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wc(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(wc(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class GF{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function M1(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function T1(n){return typeof Blob<"u"&&n instanceof Blob}function I1(n){return typeof FormData<"u"&&n instanceof FormData}class Ha{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function zF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Zi),this.context||(this.context=new GF),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const l=e.indexOf("?");this.urlWithParams=e+(-1===l?"?":l<e.length-1?"&":"")+o}}else this.params=new Qi,this.urlWithParams=e}serializeBody(){return null===this.body?null:M1(this.body)||T1(this.body)||I1(this.body)||function WF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qi?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||I1(this.body)?null:T1(this.body)?this.body.type||null:M1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qi?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,h=t.params||this.params;const f=t.context??this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((g,m)=>g.set(m,t.setHeaders[m]),u)),t.setParams&&(h=Object.keys(t.setParams).reduce((g,m)=>g.set(m,t.setParams[m]),h)),new Ha(e,i,s,{params:h,headers:u,context:f,reportProgress:l,responseType:r,withCredentials:o})}}var kt=(()=>((kt=kt||{})[kt.Sent=0]="Sent",kt[kt.UploadProgress=1]="UploadProgress",kt[kt.ResponseHeader=2]="ResponseHeader",kt[kt.DownloadProgress=3]="DownloadProgress",kt[kt.Response=4]="Response",kt[kt.User=5]="User",kt))();class Yp{constructor(t,e=200,i="OK"){this.headers=t.headers||new Zi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Zp extends Yp{constructor(t={}){super(t),this.type=kt.ResponseHeader}clone(t={}){return new Zp({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Cc extends Yp{constructor(t={}){super(t),this.type=kt.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Cc({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S1 extends Yp{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Qp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Jp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Ha)s=e;else{let u,h;u=r.headers instanceof Zi?r.headers:new Zi(r.headers),r.params&&(h=r.params instanceof Qi?r.params:new Qi({fromObject:r.params})),s=new Ha(e,i,void 0!==r.body?r.body:null,{headers:u,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const o=te(s).pipe(yr(u=>this.handler.handle(u)));if(e instanceof Ha||"events"===r.observe)return o;const l=o.pipe(vn(u=>u instanceof Cc));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(R(u=>{if(null!==u.body&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return l.pipe(R(u=>{if(null!==u.body&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return l.pipe(R(u=>{if(null!==u.body&&"string"!=typeof u.body)throw new Error("Response is not a string.");return u.body}));default:return l.pipe(R(u=>u.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Qi).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Qp(r,i))}post(e,i,r={}){return this.request("POST",e,Qp(r,i))}put(e,i,r={}){return this.request("PUT",e,Qp(r,i))}}return n.\u0275fac=function(e){return new(e||n)(P(_c))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function A1(n,t){return t(n)}function qF(n,t){return(e,i)=>t.intercept(e,{handle:r=>n(r,i)})}const YF=new U("HTTP_INTERCEPTORS"),Ba=new U("HTTP_INTERCEPTOR_FNS");function ZF(){let n=null;return(t,e)=>(null===n&&(n=(Se(YF,{optional:!0})??[]).reduceRight(qF,A1)),n(t,e))}let k1=(()=>{class n extends _c{constructor(e,i){super(),this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=Array.from(new Set(this.injector.get(Ba)));this.chain=i.reduceRight((r,s)=>function KF(n,t,e){return(i,r)=>e.runInContext(()=>t(i,s=>n(s,r)))}(r,s,this.injector),A1)}return this.chain(e,i=>this.backend.handle(i))}}return n.\u0275fac=function(e){return new(e||n)(P(Kp),P(Ui))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const eV=/^\)\]\}',?\n/;let P1=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new F(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((y,b)=>r.setRequestHeader(y,b.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const y=e.detectContentTypeHeader();null!==y&&r.setRequestHeader("Content-Type",y)}if(e.responseType){const y=e.responseType.toLowerCase();r.responseType="json"!==y?y:"text"}const s=e.serializeBody();let o=null;const l=()=>{if(null!==o)return o;const y=r.statusText||"OK",b=new Zi(r.getAllResponseHeaders()),D=function tV(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return o=new Zp({headers:b,status:r.status,statusText:y,url:D}),o},u=()=>{let{headers:y,status:b,statusText:D,url:I}=l(),k=null;204!==b&&(k=typeof r.response>"u"?r.responseText:r.response),0===b&&(b=k?200:0);let B=b>=200&&b<300;if("json"===e.responseType&&"string"==typeof k){const M=k;k=k.replace(eV,"");try{k=""!==k?JSON.parse(k):null}catch(ee){k=M,B&&(B=!1,k={error:ee,text:k})}}B?(i.next(new Cc({body:k,headers:y,status:b,statusText:D,url:I||void 0})),i.complete()):i.error(new S1({error:k,headers:y,status:b,statusText:D,url:I||void 0}))},h=y=>{const{url:b}=l(),D=new S1({error:y,status:r.status||0,statusText:r.statusText||"Unknown Error",url:b||void 0});i.error(D)};let f=!1;const g=y=>{f||(i.next(l()),f=!0);let b={type:kt.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),"text"===e.responseType&&!!r.responseText&&(b.partialText=r.responseText),i.next(b)},m=y=>{let b={type:kt.UploadProgress,loaded:y.loaded};y.lengthComputable&&(b.total=y.total),i.next(b)};return r.addEventListener("load",u),r.addEventListener("error",h),r.addEventListener("timeout",h),r.addEventListener("abort",h),e.reportProgress&&(r.addEventListener("progress",g),null!==s&&r.upload&&r.upload.addEventListener("progress",m)),r.send(s),i.next({type:kt.Sent}),()=>{r.removeEventListener("error",h),r.removeEventListener("abort",h),r.removeEventListener("load",u),r.removeEventListener("timeout",h),e.reportProgress&&(r.removeEventListener("progress",g),null!==s&&r.upload&&r.upload.removeEventListener("progress",m)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(P(xw))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Xp=new U("XSRF_ENABLED"),O1="XSRF-TOKEN",L1=new U("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>O1}),R1="X-XSRF-TOKEN",N1=new U("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>R1});class F1{}let nV=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=vw(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(P(ct),P(aa),P(L1))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function iV(n,t){const e=n.url.toLowerCase();if(!Se(Xp)||"GET"===n.method||"HEAD"===n.method||e.startsWith("http://")||e.startsWith("https://"))return t(n);const i=Se(F1).getToken(),r=Se(N1);return null!=i&&!n.headers.has(r)&&(n=n.clone({headers:n.headers.set(r,i)})),t(n)}var Ct=(()=>((Ct=Ct||{})[Ct.Interceptors=0]="Interceptors",Ct[Ct.LegacyInterceptors=1]="LegacyInterceptors",Ct[Ct.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ct[Ct.NoXsrfProtection=3]="NoXsrfProtection",Ct[Ct.JsonpSupport=4]="JsonpSupport",Ct[Ct.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ct))();function to(n,t){return{\u0275kind:n,\u0275providers:t}}function rV(...n){const t=[Jp,P1,k1,{provide:_c,useExisting:k1},{provide:Kp,useExisting:P1},{provide:Ba,useValue:iV,multi:!0},{provide:Xp,useValue:!0},{provide:F1,useClass:nV}];for(const e of n)t.push(...e.\u0275providers);return function DT(n){return{\u0275providers:n}}(t)}const V1=new U("LEGACY_INTERCEPTOR_FN");function oV({cookieName:n,headerName:t}){const e=[];return void 0!==n&&e.push({provide:L1,useValue:n}),void 0!==t&&e.push({provide:N1,useValue:t}),to(Ct.CustomXsrfConfiguration,e)}let aV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({providers:[rV(to(Ct.LegacyInterceptors,[{provide:V1,useFactory:ZF},{provide:Ba,useExisting:V1,multi:!0}]),oV({cookieName:O1,headerName:R1}))]}),n})();class ki{static#e=this.IS_ENABLED=!1;log(t,e,...i){if(ki.IS_ENABLED)switch(t){case"Error":console.error(e,i.join(" "));break;case"Warn":console.warn(e,i.join(" "));break;case"Info":console.log(e,i.join(" "))}}static#t=this.\u0275fac=function(e){return new(e||ki)};static#n=this.\u0275prov=z({token:ki,factory:ki.\u0275fac,providedIn:"root"})}class ja{constructor(t,e){this.http=t,this.logService=e,this.creatureList=[],this.hasCalculatedMyStats=!1,this.creatureList=yt(305),this.creatureList.sort((i,r)=>i.kg>r.kg?-1:1)}loadAndCalculateMyLog(t){this.hasCalculatedMyStats&&t(this.myLiftingStats);let e=0;this.http.get("../../assets/data/FitNotes_Export.csv",{responseType:"text"}).subscribe(r=>{const o=UF.parse(r,{header:!0,skipEmptyLines:!0}),l=o.data,u=o.errors;let h;for(let y=u.length-1;y>=0;y--)h=u[y],this.logService.log("Warn",'Removing row "'+h.row+'". '+h.type+". "+h.code+". "+h.message),l.splice(h.row,1);l.forEach(y=>{const b=y["Weight (kgs)"],D=y.Reps;""!==b&&""!==D&&(e+=parseFloat(b)*parseFloat(D))});const f=this.weightInCreatures(e),g=new Date(l[0].Date),m=new Date(l[l.length-1].Date);this.myLiftingStats={totalKgLifted:e,totalCreaturesLifted:f,firstDate:g,lastDate:m},this.hasCalculatedMyStats=!0,t(this.myLiftingStats)})}weightInCreatures(t){let e=t;const i=[];return this.creatureList.forEach(r=>{let s=0;for(;r.kg<=e;)e-=r.kg,s++;s>0&&i.push({count:s,creature:{name:r.name,kg:r.kg,url:r.url}})}),i}static#e=this.\u0275fac=function(e){return new(e||ja)(P(Jp),P(ki))};static#t=this.\u0275prov=z({token:ja,factory:ja.\u0275fac,providedIn:"root"})}class Dc{transform(t,e=0,i="*",r=1){let s;switch(i){case"/":s=t/r;break;case"*":s=t*r;break;default:throw new RangeError('parameter "conversionSign" can only have value "/" or "*"')}let o=e;t===Math.trunc(t)&&(o=0);const l=s.toFixed(o),u=[];let h=l.includes(".")?l.indexOf("."):l.length;if(h<3)return l;let g=!0;for(;h>0;)h-=3,h<=0?u.unshift(l.substr(0,3+h)):g?(u.unshift(l.substr(h)),g=!1):u.unshift(l.substr(h,3));return u.join("'")}static#e=this.\u0275fac=function(e){return new(e||Dc)};static#t=this.\u0275pipe=dn({name:"mynumber",type:Dc,pure:!0})}function lV(n,t){if(1&n&&(c(0,"li"),a(1),c(2,"a",15),a(3),d(),a(4),Hs(5,"mynumber"),d()),2&n){const e=t.$implicit;v(1),Pe(" ",e.count,"x "),v(1),Nt("href",e.creature.url,lr),v(1),He(e.creature.name),v(1),Yo(" (",ia(5,5,e.creature.kg,1)," kg",e.count>1?" each":"",") ")}}function uV(n,t){1&n&&(c(0,"div"),a(1," Only numbers are allowed (and ' . ' for fraction) "),d())}function cV(n,t){1&n&&(c(0,"div"),a(1," number is too big, reduce it "),d())}function dV(n,t){1&n&&(c(0,"div"),a(1," number is to small, increase it "),d())}function hV(n,t){if(1&n&&(c(0,"div",16),ve(1,uV,2,0,"div",7),ve(2,cV,2,0,"div",7),ve(3,dV,2,0,"div",7),d()),2&n){const e=be();v(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.pattern),v(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.max),v(1),E("ngIf",null==e.inputKgControl.errors?null:e.inputKgControl.errors.min)}}function fV(n,t){if(1&n&&(c(0,"li"),a(1),c(2,"a",15),a(3),d(),a(4),Hs(5,"mynumber"),d()),2&n){const e=t.$implicit;v(1),Pe(" ",e.count,"x "),v(1),Nt("href",e.creature.url,lr),v(1),He(e.creature.name),v(1),Yo(" (",ia(5,5,e.creature.kg,1)," kg ",e.count>1?" each":"",") ")}}function pV(n,t){if(1&n&&(c(0,"table")(1,"tr")(2,"th"),a(3,"KGs"),d(),c(4,"th"),a(5,"Creatures"),d()(),c(6,"tr")(7,"td",0),a(8),d(),c(9,"td")(10,"ul"),ve(11,fV,6,8,"li",1),d()()()()),2&n){const e=be();v(8),He(e.convertLastInputSubmit),v(3),E("ngForOf",e.convertResult)}}class Ec{constructor(t,e){this.liftingService=t,this.fb=e,this.firstDate=new Date(2016,6,15),this.lastDate=new Date,this.totalKgLifted=0,this.totalCreaturesLifted=[],this.convertLastInputSubmit=0,this.convertResult=[],this.maximumInputAllowed=999999999,this.minimumInputAllowed=.5,t.loadAndCalculateMyLog(r=>{this.totalKgLifted=r.totalKgLifted,this.totalCreaturesLifted=r.totalCreaturesLifted,this.firstDate=r.firstDate,this.lastDate=r.lastDate}),this.convertForm=this.fb.group({inputKg:[120,[Mr.pattern(/^\d+\.*\d*$/),Mr.max(this.maximumInputAllowed),Mr.min(this.minimumInputAllowed)]]}),this.inputKgControl=this.convertForm.controls.inputKg,this.convert(120)}inputEvent(){const t=parseFloat(this.inputKgControl.value);this.inputKgControl.invalid||t===this.convertLastInputSubmit||(this.convertLastInputSubmit=t,this.convert(t))}convert(t){this.convertResult=this.liftingService.weightInCreatures(t)}static#e=this.\u0275fac=function(e){return new(e||Ec)(C(ja),C(D1))};static#t=this.\u0275cmp=lt({type:Ec,selectors:[["app-lift"]],decls:103,vars:19,consts:[[1,"center"],[4,"ngFor","ngForOf"],["href","https://play.google.com/store/apps/details?id=com.github.jamesgay.fitnotes&hl=en"],[1,"converter"],["novalidate","",3,"formGroup"],["type","number","formControlName","inputKg",1,"convertInput",3,"maxlength","input"],["class","alert",4,"ngIf"],[4,"ngIf"],["href","http://forgottenrealms.wikia.com/wiki/Metallic_dragon"],["href","https://en.wikipedia.org/wiki/Dinosaur_size"],["href","https://thewebsiteofeverything.com/animals/mammals/adult-weight.html"],["src","../assets/images/lifting/Egill_Antonsson_against_the_dragon_breath.jpg","alt","Egill Antonsson dealing with the the dragon's breath by wearing sunglasses","title","Egill Antonsson dealing with the the dragon's breath",1,"image"],["href","https://en.wikipedia.org/wiki/J\xf3n_P\xe1ll_Sigmarsson"],["href","https://vimeo.com/57172348"],["src","../assets/images/lifting/Jon_Pall_Sigmarsson_and_Egill_Antonsson.jpg","alt","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988","title","J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988",1,"image"],[3,"href"],[1,"alert"]],template:function(e,i){1&e&&(c(0,"div")(1,"h2"),a(2,"Progressing on my path to lift the Platinum Dragon!"),d(),c(3,"p"),a(4),Hs(5,"date"),Hs(6,"date"),d(),c(7,"table")(8,"tr")(9,"th"),a(10,"Tons lifted"),d(),c(11,"th"),a(12,"Creatures lifted"),d()(),c(13,"tr")(14,"td",0),a(15),Hs(16,"mynumber"),d(),c(17,"td")(18,"ul"),ve(19,lV,6,8,"li",1),d()()()(),c(20,"p"),a(21," I use "),c(22,"a",2),a(23,"FitNotes"),d(),a(24," app to log my lifting,"),p(25,"br"),a(26," and export the log from it and use it for the above calculation."),p(27,"br"),a(28," No creatures were hurt during the lifting :)\n"),d()(),c(29,"div")(30,"h1"),a(31,"Kg to Creatures converter"),d(),c(32,"div",3)(33,"form",4)(34,"div")(35,"input",5),je("input",function(){return i.inputEvent()}),d()(),c(36,"sub"),a(37,"kg number in text field is converts to below:"),d(),p(38,"br"),ve(39,hV,4,3,"div",6),d()(),ve(40,pV,12,2,"table",7),c(41,"p"),a(42," The sources for the creature weight list:"),p(43,"br"),c(44,"a",8),a(45,"Metallic dragons of the Forgotten Realms"),d(),p(46,"br"),c(47,"a",9),a(48,"Dinosaur size"),d(),p(49,"br"),c(50,"a",10),a(51,"Adult mammals weight"),d()()(),c(52,"div")(53,"figure"),p(54,"img",11),c(55,"figcaption"),a(56,"Egill Antonsson dealing with the the dragon's breath"),d()()(),c(57,"div")(58,"h2"),a(59,"The beginning of my strength & hyperthropy journey"),d(),c(60,"h3"),a(61,"The first workout"),d(),c(62,"p"),a(63," I've been lifting weights off and on since I was a 15 year old boy living in Reykjav\xedk, Iceland in 1997."),p(64,"br"),a(65," My first gym workout was with my friend Mummi who was training kick boxing and also hitting the gym to some extend at the time."),p(66,"br"),a(67," I'd like to think that he'd forgotten that this was my first workout ever and told me \"Today we are going to DESTROY the Biceps!\"."),p(68,"br"),a(69,' I replied enthustically "Sounds great!", and then we went on taking many sets to failure with many forced reps.'),p(70,"br"),a(71," Little did I know that this would leave me so sore that even the lightest bump in the arms would be agonisingly painful for a WEEK!"),p(72,"br"),a(73," This was a lesson learned for both me and Mummi in how not to begin your training.\n"),d(),c(74,"h3"),a(75,"The first years"),d(),c(76,"p"),a(77," Although my first workout took weeks to recover from, I was eager to continue training for the next 3 to 4 years."),p(78,"br"),a(79," I frequently worked out in the gym called Gym 80 with my friend and lifting partner Kalli (Mummi was more into kick boxing)."),p(80,"br"),d(),c(81,"p"),a(82," Gym 80 was founded by "),c(83,"a",12),a(84,"J\xf3n P\xe1ll Sigmarsson"),d(),a(85," who was the first man in history to win the World Strongest Man four times."),p(86,"br"),a(87," He is a big inspiration to me as he was the first Icelandic athlete to be the best in the world in a sport, along being charismatic and entertaining."),p(88,"br"),a(89," My parents knew J\xf3n's dad and they took a photo of J\xf3n and me when I was around 6 years old.\nIn 1987 while making a strongman world record Deadlift of 523 kg, J\xf3n shouted "),c(90,"a",13),a(91,'"There is no reason to be alive if you can\'t do deadlift!"'),d(),a(92,","),p(93,"br"),a(94,"\nand as fate would have it he died in 1993, 32 years of age, of cardiac arrest due to an aortic rupture while deadlifting in his gym."),p(95,"br"),a(96,"\nSo 5 years later me and Kalli were Deadlifting, Squatting and Bench Pressing at the very same spot where J\xf3n P\xe1ll Sigmarsson the Legend had died."),p(97,"br"),d()(),c(98,"div")(99,"figure"),p(100,"img",14),c(101,"figcaption"),a(102,"J\xf3n P\xe1ll Sigmarsson and Egill Antonsson circa 1988, both wearing fashionable 80s outfits"),d()()()),2&e&&(v(4),Yo("\nDuring the period ",ia(5,8,i.firstDate,"d. MMMM yyyy")," - ",ia(6,11,i.lastDate,"d. MMMM yyyy"),":\n"),v(11),He(function r_(n,t,e,i,r,s){const o=n+22,l=S(),u=ls(l,o);return ra(l,o)?n_(l,fn(),t,u.transform,e,i,r,s,u):u.transform(e,i,r,s)}(16,14,i.totalKgLifted,3,"/",1e3)),v(4),E("ngForOf",i.totalCreaturesLifted),v(14),E("formGroup",i.convertForm),v(2),E("maxlength",16),v(4),E("ngIf",i.inputKgControl.invalid),v(1),E("ngIf",i.convertResult.length>0))},dependencies:[fa,an,Up,xa,Hp,Tp,Ip,bc,Ua,vc,Ff,Dc],styles:["ul[_ngcontent-%COMP%]{list-style:none}.converter[_ngcontent-%COMP%], .convertInput[_ngcontent-%COMP%]{text-align:center}"]})}class Ji{static validateNumberForRange(t,e,i){if(e>=i)throw new no(no.msgLowerLimitMustBeLowerThanUpperLimit);if(t>i)throw new no(no.msgNumberMustNotBeHigherThenUpperLimit);if(t<e)throw new no(no.msgNumberMustNotBeLowerThenLowerLimit);return t}}class no{constructor(t){this.name="SoundUtilError",this.message=t}static#e=this.msgLowerLimitMustBeLowerThanUpperLimit="Lower Limit must be lower than Upper  Limit";static#t=this.msgNumberMustNotBeHigherThenUpperLimit="number must not be higher than Upper Limit";static#n=this.msgNumberMustNotBeLowerThenLowerLimit="number must not be lower than Lower Limit"}class me{constructor(t,e,i,r="",s="",o="",l="",u="",h=""){this.defaultArtworkFilename="Egill_Antonsson.png",this.name=t,this.soundDatas=e,this.play=i,this.artworkPath=s,""===s&&(this.artworkPath=me.dir+this.defaultArtworkFilename),this.about=o,this.rootUrl=r,this.soundcloudUrl=l,this.spotifyUrl=u,this.buyUrl=h}static#e=this.dir="../../assets/tracks/"}class $a extends me{constructor(t,e,i,r){super(t,e,i),this.layeredMusicController=r}}function U1(n,t,e,i,r,s,o){try{var l=n[s](o),u=l.value}catch(h){return void e(h)}l.done?t(u):Promise.resolve(u).then(i,r)}function De(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var s=n.apply(t,e);function o(u){U1(s,i,r,o,l,"next",u)}function l(u){U1(s,i,r,o,l,"throw",u)}o(void 0)})}}class gV{constructor(t,e,i,r,s,o,l){this._instanceMuted=!1,this.log=l,this._gainNode=t,this.maxGain=e,this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.soundType=o,this.value=this.defaultValue,[i,r].forEach(u=>{u.on("GainChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue}),u.on("MuteChange",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}),this.dynamicRange.on("Change",()=>{this.cancelScheduledValues(0),this.value=this.defaultValue})}get automationRate(){return this._gainNode.gain.automationRate}get defaultValue(){return this._gainNode.gain.defaultValue}get maxValue(){return this._gainNode.gain.maxValue}get minValue(){return this._gainNode.gain.minValue}get value(){return this._gainNode.gain.value}get instanceMuted(){return this._instanceMuted}get muted(){return this.instanceMuted||this.soundTypeGain.muted||this.masterGain.muted}set value(t){this._gainNode.gain.value=this.muted?0:this.calculateGain(Ji.validateNumberForRange(t,0,1))}get gainNode(){return this._gainNode}calculateGain(t){const e=t*this.maxGain*this.soundTypeGain.value*this.masterGain.value;if(0===e)return 0;if("SFX"===this.soundType){const r=this.dynamicRange.getRangeCenter()+(e-.5)*this.dynamicRange.getRange();return this.log("Info",`calculateGain calculatedGain: ${r}`),r}return e}muteInstance(){return this._instanceMuted=!0,this.cancelScheduledValues(0),this.value=this.defaultValue,this}unmuteInstance(t=1){return this._instanceMuted=!1,this.cancelScheduledValues(0),this.value=t,this}setValueAtTime(t,e){return this.muted||this._gainNode.gain.setValueAtTime(this.calculateGain(t),e),this}exponentialRampToValueAtTime(t,e){return this.muted||this._gainNode.gain.exponentialRampToValueAtTime(this.calculateGain(t),e),this}linearRampToValueAtTime(t,e){return this.muted?this._gainNode?.gain:(this._gainNode.gain.linearRampToValueAtTime(this.calculateGain(t),e),this)}setTargetAtTime(t,e,i){return this.muted?this._gainNode.gain:(this._gainNode.gain.setTargetAtTime(this.calculateGain(t),e,i),this)}setValueCurveAtTime(t,e,i){if(this.muted)return this._gainNode.gain;for(let r=0;r<t.length;r++)t[r]=this.calculateGain(t[r]);return this._gainNode.gain.setValueCurveAtTime(t,e,i),this}cancelScheduledValues(t){return this._gainNode.gain.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._gainNode.gain.cancelAndHoldAtTime(t),this}dispose(){[this.soundTypeGain,this.masterGain].forEach(t=>{t.removeAllListeners("GainChange"),t.removeAllListeners("MuteChange")}),this.cancelScheduledValues(0),this._gainNode.disconnect()}}class mV{constructor(t,e,i,r,s){this.audioContext=t,this.sourceNode=e,this.analyzerNode=i,this.gainWrapper=r,this.id=s}}class yV{constructor(t,e,i,r,s,o,l){this.label="Sound",this.instances=new Map,this.id=-1,this._loaded=!1,this.audioCtx=o,this.soundData=t,this.log=l,this.configMaxNrPlayingAtOnce=e,this.maxNrPlayingAtOnceValidated=this.soundData.maxNrPlayingAtOnce?Ji.validateNumberForRange(this.soundData.maxNrPlayingAtOnce,0,e):this.soundData.loop?1:e,this.maxGainValidated=Ji.validateNumberForRange(this.soundData.maxGain,0,1),this.soundTypeGain=i,this.masterGain=r,this.dynamicRange=s,this.firstInstancePromise=this.createSoundInstance(!0)}get loaded(){return this._loaded}get reachedMaxNumberOfPlayingAtOnce(){return this.instances.size>=this.maxNrPlayingAtOnceValidated||this.instances.size>=this.configMaxNrPlayingAtOnce}get isPlaying(){return this.instances.size>0}play(t=!0){var e=this;return De(function*(){let i;e.reachedMaxNumberOfPlayingAtOnce&&e.log("Warn",`Reached MaxNrPlayingAtOnce for sound with key '${e.soundData.key}'. Will play sound, but client code can check property 'reachedMaxNumberOfPlayingAtOnce'`),e.firstInstancePromise?(e.log("Info",`[${e.label}]`,"play(): awaiting first instance promise"),i=yield e.firstInstancePromise,e.firstInstancePromise=void 0):(e.log("Info",`[${e.label}]`,"play(): createSoundInstance"),i=yield e.createSoundInstance(t)),e.instances.set(e.id,i),e.log("Info",`Added soundInstance with id '${e.id}' to the instances list which now has the size '${e.instances.size}'`);const r=e.createEndedPromise(i);return e.playSoundInstance(i),{instance:i,endedPromise:r}})()}createEndedPromise(t){return new Promise(e=>{this.endedListener=()=>{this.log("Info","endedListener"),this.disposeInstance(t),e(t),this.instances.delete(t.id)||this.log("Warn",`deleting map with instance id '${t.id}' as key failed`),this.log("Info",`endedListener for key '${this.soundData.key}' with instance id '${t.id}, list with new size ${this.instances.size}`)},t.sourceNode.addEventListener("ended",this.endedListener)})}playSoundInstance(t){"suspended"===this.audioCtx.state&&this.audioCtx.resume(),t.sourceNode.start()}createSoundInstance(t){var e=this;return De(function*(){const i=e.audioCtx.createBufferSource();i.buffer=e.sourceNodeBuffer?e.sourceNodeBuffer:e.sourceNodeBuffer=yield e.loadSound(),i.loop=e.soundData.loop;const r=e.audioCtx.createGain(),s=new gV(r,e.maxGainValidated,e.soundTypeGain,e.masterGain,e.dynamicRange,e.soundData.soundType,e.log),o=e.audioCtx.createAnalyser();return t&&i.connect(s.gainNode).connect(o).connect(e.audioCtx.destination),++e.id,e.log("Info",`Creating sound instance for key '${e.soundData.key}' with id '${e.id}'`),new mV(e.audioCtx,i,o,s,e.id)})()}loadSound(){var t=this;return De(function*(){t.log("Info",`Loading sound with key '${t.soundData.key}'`);const i=yield(yield fetch(t.soundData.url)).arrayBuffer();return yield t.audioCtx.decodeAudioData(i)})()}stop(){!this.isPlaying||(this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.id=-1)}disposeInstance(t){return t.sourceNode.removeEventListener("ended",this.endedListener),t.sourceNode.stop(),t.gainWrapper.dispose(),t.sourceNode.disconnect(),t.analyzerNode.disconnect(),t}dispose(){this.instances.forEach(t=>{this.disposeInstance(t)}),this.instances.clear(),this.soundTypeGain.removeAllListeners(),this.masterGain.removeAllListeners(),this.id=-1}}var eg=yt(9069);class vV extends eg.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}class tg extends vV{constructor(t,e){super(t),this._muted=e}get muted(){return this._muted}set muted(t){this._muted=t}}class bV extends eg.EventEmitter{constructor(t,e){super(),this._lowValue=0,this._highValue=1,this.lowValue=t,this.highValue=e}get lowValue(){return this._lowValue}set lowValue(t){this._lowValue=t}get highValue(){return this._highValue}set highValue(t){this._highValue=t}getRangeCenter(){return this.lowValue+(this.highValue-this.lowValue)/2}getRange(){return this.highValue-this.lowValue}}class _V{constructor(){this.label="SoundManager",this.sounds=new Map,this.dynamicRange=new bV(0,1),this._musicGain=new tg(1,!1),this._sfxGain=new tg(1,!1),this._masterGain=new tg(1,!1),this._maxNrPlayingAtOncePerSound=24}set musicGain(t){this._musicGain.value=Ji.validateNumberForRange(t,0,1),this._musicGain.emit("GainChange")}set musicMuted(t){this._musicGain.muted=t,this._musicGain.emit("MuteChange")}set sfxGain(t){this._sfxGain.value=Ji.validateNumberForRange(t,0,1),this._sfxGain.emit("GainChange")}set sfxMuted(t){this._sfxGain.muted=t,this._sfxGain.emit("MuteChange")}get masterGain(){return this._masterGain.value}set masterGain(t){this._masterGain.value=Ji.validateNumberForRange(t,0,1),this._masterGain.emit("GainChange")}set masterMuted(t){this._masterGain.muted=t,this._masterGain.emit("MuteChange")}set maxNrPlayingAtOncePerSound(t){this._maxNrPlayingAtOncePerSound=Ji.validateNumberForRange(t,1,24),this.sounds.forEach(e=>{e.configMaxNrPlayingAtOnce=this._maxNrPlayingAtOncePerSound})}init(t,e){this.log=e,this.audioContext=new(t.AudioContext||t.webkitAudioContext)}setDynamicRange(t,e){t>e&&this.log("Error",`Invalid params for setDynamicRange, lowValue '${t}' must be lower than highValue '${e}', not setting new Dynamic Range`),this.dynamicRange.lowValue=Ji.validateNumberForRange(t,0,1),this.dynamicRange.highValue=Ji.validateNumberForRange(e,0,1),this.dynamicRange.emit("Change",this.dynamicRange)}addSound(t){const e="Music"===t.soundType?this._musicGain:this._sfxGain;this.updateEmitterMaxListeners(this.sounds.size+1);const i=new yV(t,this._maxNrPlayingAtOncePerSound,e,this._masterGain,this.dynamicRange,this.audioContext,this.log);return this.addToList(t.key,i),i}updateEmitterMaxListeners(t){const e=2*t*24;this._masterGain.setMaxListeners(e),this._musicGain.setMaxListeners(e),this._sfxGain.setMaxListeners(e),this.dynamicRange.setMaxListeners(e)}addToList(t,e){this.sounds.has(t)?this.log("Warn",`Sound with the key '${t}' is already in to SoundManager, not adding it again`):this.sounds.set(t,e)}playSound(t){const e=this.sounds.get(t);return e?e.play():(this.log("Warn",`[${this.label}]`,`Cannot play sound with key '${t}', not in SoundManager`),null)}getSound(t){const e=this.sounds.get(t);if(!e)throw new H1(H1.msgSoundNotInManager);return e}hasSound(t){return this.sounds.has(t)}stopSound(t){const e=this.sounds.get(t);e?e.stop():this.log("Info","Cannot stop Sound, not in SoundManager")}stopMusic(){this.sounds.forEach(t=>{"Music"===t.soundData.soundType&&t.stop()})}stopAllSounds(){this.sounds.forEach(t=>{t.stop()})}purge(){this.sounds.forEach(t=>{t.dispose()}),this.sounds.clear(),this.updateEmitterMaxListeners(0),this.audioContext&&this.audioContext.close()}}class H1{constructor(t){this.name="SoundManagerError",this.message=t}static#e=this.msgSoundNotInManager="Sound Not In Manager"}class es{constructor(){this._instance=new _V}get instance(){return this._instance}injectMocksForTests(t){this._instance=t}static#e=this.\u0275fac=function(e){return new(e||es)};static#t=this.\u0275prov=z({token:es,factory:es.\u0275fac,providedIn:"root"})}class Ga{get nativeWindow(){return function wV(){return window}()}static#e=this.\u0275fac=function(e){return new(e||Ga)};static#t=this.\u0275prov=z({token:Ga,factory:Ga.\u0275fac,providedIn:"root"})}class j{constructor(t,e,i,r,s,o=1){this.key=t,this.url=e,this.maxGain=i,this.soundType=r,this.loop=s,this.maxNrPlayingAtOnce=o}static music(t,e,i=1){return new j(t,e,i,"Music",!1,1)}static musicLoop(t,e,i=1){return new j(t,e,i,"Music",!0,1)}static sfx(t,e,i){return new j(t,e,i,"SFX",!1,1)}static sfxLoop(t,e,i){return new j(t,e,i,"SFX",!0,1)}}class B1{constructor(t,e,i=3,r=30,s=20,o=!0,l=0,u=0){this.instanceEndedListeners=t,this.log=e,this.startLayerIndexToBeDecremented=i,this.timeIntervalSec=r,this.fadeDurationSec=s,this.lastLayerFadesOutAndStops=o,this.startCurrentLayerValue=l,this.maxLayerValue=u,this.hasStarted=!1,this.fadeOutTimeouts=new Map,this.fadeInTimeouts=new Map,this.layerIndexToBeDecremented=i,this.currentLayerValue=l}get layerSoundInstances(){return this._layerSoundInstances}set gainsDisabled(t){this._gainsDisabled=t}start(t){this._layerSoundInstances=t,this.layerIndexToBeDecremented=this.startLayerIndexToBeDecremented,this.currentLayerValue=this.startCurrentLayerValue;for(let e=this.layerIndexToBeDecremented+1;e<this._layerSoundInstances.length;e++)this._layerSoundInstances[e].gainWrapper.muteInstance();this.setLayerMusicTimer(),this.hasStarted=!0}setLayerMusicTimer(){this.layerMusicTimer=setInterval(()=>{if(this.log("Info","on timer: currentLayerValue",this.currentLayerValue),0<this.currentLayerValue)return--this.currentLayerValue,void this.log("Info","decremented to value",this.currentLayerValue);if(this.lastLayerFadesOutAndStops||0<this.layerIndexToBeDecremented){this.log("Info","fading out index",this.layerIndexToBeDecremented),this.setGainsDisabledValue(!0);const t=this._layerSoundInstances[this.layerIndexToBeDecremented];t.gainWrapper.cancelScheduledValues(0).linearRampToValueAtTime(0,t.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeOutTimeouts,this.layerIndexToBeDecremented,t),--this.layerIndexToBeDecremented,this.currentLayerValue=this.maxLayerValue/2}},1e3*this.timeIntervalSec)}setGainsDisabledValue(t){t&&!this._gainsDisabled.value&&(this._gainsDisabled.value=t,this._gainsDisabled.emit("Change",t))}setFadeTimeout(t,e,i){t.set(e,setTimeout(()=>{this.log("Info","onFadeTimeout"),i&&i.gainWrapper.muteInstance(),t.delete(e),0===t.size&&this.setGainsDisabledValue(!1),this.lastLayerFadesOutAndStops&&0===e&&this.instanceEndedListeners.forEach(r=>r(!0))},1e3*this.fadeDurationSec))}incrementLayerValue(){if(this.hasStarted){if(this.currentLayerValue<this.maxLayerValue)return++this.currentLayerValue,void this.log("Info","incremented by 1 to value",this.currentLayerValue);if(this.log("Info","clearing timer"),clearInterval(this.layerMusicTimer),this.setLayerMusicTimer(),this.layerIndexToBeDecremented<this._layerSoundInstances.length-1){++this.layerIndexToBeDecremented,this.log("Info","fading in index",this.layerIndexToBeDecremented);const t=this.fadeOutTimeouts.get(this.layerIndexToBeDecremented);t&&clearTimeout(t),this.setGainsDisabledValue(!0);const e=this._layerSoundInstances[this.layerIndexToBeDecremented];e.gainWrapper.unmuteInstance(e.gainWrapper.value).cancelScheduledValues(0).linearRampToValueAtTime(1,e.audioContext.currentTime+this.fadeDurationSec),this.setFadeTimeout(this.fadeInTimeouts,this.layerIndexToBeDecremented),this.currentLayerValue=this.maxLayerValue/2}}}stop(){clearInterval(this.layerMusicTimer),this.fadeOutTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeInTimeouts.forEach(t=>{clearTimeout(t)}),this.fadeOutTimeouts.clear(),this.fadeInTimeouts.clear(),this.setGainsDisabledValue(!1)}}class za{constructor(t,e){this.soundManager=t,this.logService=e,this.pathRoot="../../assets/audio",this.pathGame=`${this.pathRoot}/game`,this.pathKuai=`${this.pathRoot}/kuai`,this.pathBrothers=`${this.pathRoot}/braedraminning`,this._isInitialized=!1,this._instancePlayedListeners=new Map,this.instanceEndedListeners=new Map}get isInitialized(){return this._isInitialized}get byTracks(){return this._byTracks}get flatTracks(){return this._flatTracks}getTrackByRootUrl(t){return this._tracksByRootUrl.get(t)}get instancePlayedListeners(){return this._instancePlayedListeners}get timeout(){return this._timeout}set timeout(t){this._timeout=t}init(){this._isInitialized||(this._byTracks=[{name:"Egill Antonsson",tracks:[this.harmoniesOfShadeAndLight(),this.weWillMeetAgain(),this.magmaMerryGoRound(),this.votThemeSong(),this.justInTime(),this.icelandSocksIntro(),this.fortidin(),this.toddlerTune(),this.oddTimesInSpace(),this.lecube()],about:this.aboutEgillAntonsson},{name:"Kanez Kane",tracks:[this.strawberryCityLights()],about:this.aboutKanezKane},{name:"KUAI",tracks:[this.pirringur(),this.apollo(),this.andsetinn(),this.hamskipti(),this.rover(),this.andefni(),this.agndofa(),this.ofurte(),this.lesblindaI(),this.lesblindaII()],about:this.aboutKuai},{name:"TribeOfOranges",tracks:[this.introduction(),this.routine(),this.hhiCommercial()],about:this.aboutTribeOfOranges},{name:"Game Music - Layered",tracks:[this.godsruleLayered(),this.votLayered()],about:""},{name:"Game Music",tracks:[this.cakePopParty(),this.symbol6(),this.softFreakFiesta(),this.habitarium(),this.tinyPlaces(),this.jol2008(),this.jol2009(),this.whosYourFriend(),this.knowYourFriend(),this.stackem(),this.glowbulleville(),this.godsrule(),this.vot(),this.crisisGame()],about:""},{name:"Br\xe6\xf0raminning",tracks:[this.pesi2002(),this.mouse2002(),this.rubber2002(),this.solos2002(),this.takeCare2002(),this.beLikeYou2002(),this.story2002(),this.frumlag2002(),this.world2002(),this.withoutThem2002(),this.myDearOldBrothers(),this.pesi1974(),this.mouse1975(),this.rubber1975(),this.solos1975(),this.takeCare1976(),this.beLikeYou1976(),this.story1976(),this.frumlag1977(),this.world1977(),this.withoutThem1977()],about:this.aboutBraedraminning}],this.flattenTracks(),this._isInitialized=!0)}get aboutEgillAntonsson(){return"I started playing the piano around the age of 7.<br>\nIn my teenage years I added guitar (inspired by <a href=\"https://www.slashonline.com/\">Slash</a> and others),<br>\nelectric bass (because all in the band can't be guitarists), and singing.<br>\nThrough the years I've been in various bands, projects and collaborations,<br>\nand the tracks that I drove (often including collaborations with others) are published under my name."}get pathToDirEgillAntonsson(){return me.dir+"egillantonsson/"}get aboutKanezKane(){return"A partnership with my friend <b>Sindri Bergmann Thorarinsson</b>. We have done lots of music through the decades but have only released to the world a small part of it. We decided to changed that so watch this space..."}get aboutBraedraminning(){return"My parents kept a cassette with the recordings of the songs my older brothers made.<br>\n\t\tTo make sure the songs survived that old cassette,<br>\n\t\tI published the album Br\xe6\xf0raminning, which also includes my takes on their songs.\n"}get pathToDirKanez(){return me.dir+"kanez/"}get pathToDirBraedraminning(){return me.dir+"braedraminning/"}get aboutTribeOfOranges(){return"A partnership with my friend <b>Sindri Bergmann Thorarinsson</b>.<br>\n\t\tWe coined the name when we needed to, which can be shortened to <b>TOO</b>.<br>\n\t\tMe and <b>Sindri</b> have done a lot together, although not always under this name."}get pathToDirTribeOfOranges(){return me.dir+"too/"}get aboutKuai(){return""}get braedraminningArtworkPath(){return`${this.pathToDirBraedraminning}braedraminning.jpeg`}get aboutBraedraminningTake2002(){return"My take on this song, recorded and mixed in 2001-2002.<br>\n\t\t<b>Sindri Bergmann Thorarinsson</b> mastered it as far as could be done in 2022.\n\t"}get pathToDirKuai(){return me.dir+"kuai/"}flattenTracks(){this._tracksByRootUrl=new Map,this._flatTracks=[];let t=0;for(let e=0;e<this._byTracks.length;e++)for(let i=0;i<this._byTracks[e].tracks.length;i++){const r=this._byTracks[e].tracks[i];r.index=t++;const s=this._byTracks[e];r.artistName=s.name,r.artistAbout=s.about,this._flatTracks.push(r),this._tracksByRootUrl.set(r.rootUrl,r)}}simpleTrack(t,e,i,r,s,o,l,u){var h=this;const f=new me(e,[j.music(t,i)],()=>De(function*(){const g=h.soundManager.instance.getSound(f.soundDatas[0].key),{instance:m,endedPromise:y}=yield g.play();h.instancePlayedListeners.forEach(b=>b(m)),yield y,h.instanceEndedListeners.forEach(b=>b(!0))}),t,r,u,s,o,l);return f}strawberryCityLights(){const t="strawberry-city-lights";return this.simpleTrack(t,"Strawberry City Lights",`${this.pathToDirKanez}${t}.mp3`,`${this.pathToDirKanez}${t}.jpg`,"","https://open.spotify.com/track/0lRUvYevsLK5pBrTYfl3be?si=04526be015af456e","https://www.qobuz.com/se-en/album/strawberry-city-lights-kanez-kane/b31j9xshkikja","Strawberry City Lights is the first track release from Kanez Kane. This version here is close to the finalized version (available on Spotify and other services). The artwork is computer generated from using the title as input keywords.")}pesi2002(){const t="pesi-year-2002";return this.simpleTrack(t,"P\xe9si (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/pesi-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6viU3JhxNEKkY2paBuOEaP","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}mouse2002(){const t="mouse-year-2002";return this.simpleTrack(t,"Mouse (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/mouse-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/1f2eGiZiCMOMZZbKc52IIH","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI did my take on the lyrics, thus differing to some extent.\n")}rubber2002(){const t="rubber-year-2002";return this.simpleTrack(t,"Rubber (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/rubber-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/23kZ3ftMMyigpXU49Rq35Q","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}solos2002(){const t="solos-year-2002";return this.simpleTrack(t,"Solos (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5J8kU1mdqcqKZ0Wb3sxrqj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}takeCare2002(){const t="take-care-year-2002";return this.simpleTrack(t,"Take Care (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/solos-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6xiCd9HFh0SaJEngXtgldj","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}beLikeYou2002(){const t="be-like-you-year-2002";return this.simpleTrack(t,"Be Like You (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/be-like-you-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/4zcgAvMsU46YVTKGmS8vJA","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}story2002(){const t="story-year-2002";return this.simpleTrack(t,"Story (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/story-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/0zcnfEWqzmaCfp7hsbcA9Z","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI 'upped the drama' in the lyrics by knocking the headmaster OUT, instead of down.<br>\nI don't remember if it was intentional or not.\n")}frumlag2002(){const t="frumlag-year-2002";return this.simpleTrack(t,"Frumlag (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/frumlag-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5fFuGjJMqLS0iPMmiZ3SBc","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002)}world2002(){const t="world-year-2002";return this.simpleTrack(t,"World (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/world-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5EFT7M2r9kiJqPn2EtXNoz","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI think I 'upped the drama' in the lyrics with 'The world is nothing except hate'<br>\nas it could be that Egill sung 'The world is nothing I say \"Hey\"'.<br>\nI also added lyrics where missing, etc.<br>\n")}withoutThem2002(){const t="without-them-year-2002";return this.simpleTrack(t,"Without them (year 2002)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/without-them-year-2002?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5cfstB4Y5eIFI79e4KBAk8","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb",this.aboutBraedraminningTake2002+"<br>\nI kept with the 'no no no' like in the original (probably the lyrics were not ready)<br>\nand in fact went all in on 'no no no' and other sounds :)\n")}myDearOldBrothers(){const t="my-dear-old-brothers";return this.simpleTrack(t,"My Dear Old Brothers",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/my-dear-old-brothers?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6mnJyUYVPeoEx8oKUBu4Zw","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","I saw a chord progression with the title 'Lady Lobo' written in a note book that belonged to the brothers.<br>\nI thought this might be an original song and thus wanted to bring it to life for the album.<br>\nI added details and shaped the song (making some changes)<br>\nand wrote the lyrics (changing the title with it).\n")}pesi1974(){const t="pesi-year-1974";return this.simpleTrack(t,"P\xe9si (year 1974)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/pesi-year-1974?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/5wmAzE3Mc0uWjhjxRf95OQ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","J\xf3nas wrote this song for Egill to play on the wurlitzer piano.<br>\nRecorded with their band playing that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}mouse1975(){const t="mouse-year-1975";return this.simpleTrack(t,"Mouse (year 1975)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/mouse-year-1975?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/3qtGfywTgrjxBMQcCdN1xo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer and vocals<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}rubber1975(){const t="rubber-year-1975";return this.simpleTrack(t,"Rubber (year 1975)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/rubber-year-1975?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/700fVJsCrH4BBpsMW7B60t","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - wurlitzer and vocals<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}solos1975(){const t="solos-year-1975";return this.simpleTrack(t,"Solos (year 1975)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/solos-year-1975?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/3X7wZlcTxFwkLs7rvEkkWZ","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Recorded with their band that was either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - organ<br>\nJ\xf3nas - guitar<br>\n(I will list the band mates later when I have my notes)\n")}takeCare1976(){const t="take-care-year-1976";return this.simpleTrack(t,"Take Care (year 1976)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/take-care-year-1976?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/2V0X8p2Tefcg5MTrnuuplo","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing by himself.<br>\nI think this is shortly after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n")}beLikeYou1976(){const t="be-like-you-year-1976";return this.simpleTrack(t,"Be Like You (year 1976)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/be-like-you-year-1976?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/23YxXCBVwziMTdJnIGqLZx","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing by himself.<br>\nI think this is not long after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n")}story1976(){const t="story-year-1976";return this.simpleTrack(t,"Story (year 1976)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/story-year-1976?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/47Tf6lPTTaibh0LFGi6ULh","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing by himself.<br>\nI think this is not long after J\xf3nas is gone but I'm not sure,<br>\nthus I'm guessing a bit the year of this recording (and for the others as well).\n")}frumlag1977(){const t="frumlag-year-1977";return this.simpleTrack(t,"Frumlag (year 1977)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/frumlag-year-1977?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/1TV6QGFbW0mdtO8GqXCfay","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - organ<br>\n(I will list the band mates later when I have my notes)\n")}world1977(){const t="world-year-1977";return this.simpleTrack(t,"World (year 1977)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/world-year-1977?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/6dI0WypRxmbUK7Rw9TaHpT","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - vocals (and maybe guitar)<br>\n(I will list the band mates later when I have my notes)\n")}withoutThem1977(){const t="without-them-year-1977";return this.simpleTrack(t,"Without them (year 1977)",`${this.pathToDirBraedraminning}${t}.ogg`,this.braedraminningArtworkPath,"https://soundcloud.com/egill-antonsson/without-them-year-1977?in=egill-antonsson/sets/braedraminning","https://open.spotify.com/track/0rcIAwxbRtRhYbKX0bq142","https://www.qobuz.com/album/braeraminning-in-memory-of-the-brothers-egill-antonsson/pa3y1de6ejnqb","Egill playing with his band mates from either Lazarus or Fl\xf3 (not sure which one).<br>\nEgill - vocals (and maybe guitar)<br>\n(I will list the band mates later when I have my notes)\n")}votThemeSong(){var t=this;const e=new me("Vikings of Thule Theme Song",[j.music("votThemeSong",`${this.pathRoot}/Vikings_of_Thule__Theme_Song.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}harmoniesOfShadeAndLight(){const t="harmonies-of-shade-and-light",i=`${this.pathToDirEgillAntonsson}${t}`;return this.simpleTrack(t,"Harmonies of Shade and Light",`${i}.ogg`,`${i}.jpg`,"https://soundcloud.com/egill-antonsson/harmonies-of-shade-and-light","https://open.spotify.com/track/1xHXUKERh3a6elM9VdPIUW","https://www.qobuz.com/album/harmonies-of-shade-and-light-egill-antonsson/y84mz2hhlrtbc",'I got the idea of this song when I was with the family in Thailand at the beginning of 2017.<br>\nI borrowed a guitar with missing strings and created a harmony pattern and sung a melody over it.<br>\nIn circa 2019 I recorded the guitars and arranged the percussions from <a href="https://www.thelooploft.com/collections/drum-loops" target="_blank">The Loop Loft</a>.<br>\nIn the spring of 2021 my friend and music partner <b>Sindri Bergmann Thorarinsson</b><br>\nhelped me structure the song and write the lyrics,<br>\nand he recorded my vocals in his studio in Reykjavik.<br>\nIn April 2022 I recorded the rest of the instruments, processed and mixed the song.\n')}weWillMeetAgain(){const t="we-will-meet-again",i=`${this.pathToDirEgillAntonsson}${t}`;return this.simpleTrack(t,"We Will Meet Again",`${i}.ogg`,`${i}.jpg`,"https://soundcloud.com/egill-antonsson/we-will-meet-again","https://open.spotify.com/track/27t1JaFQlOX6hhkVC6d59Z","https://www.qobuz.com/album/we-will-meet-again-egill-antonsson/hytrd9qqfadib","In the spring of 2021 my friend and music partner <b>Sindri Bergmann Thorarinsson</b><br> asked me to collaborate with him to make a pop song.<br>\nAlthough we've played some pop over the years, we have not focused on creating one per se.<br>\nSo our goal now was to focus on the 'formula of what makes a good (modern) pop song',<br>\nand also speed up our workflow to complete the song in couple of days (from start to finish).<br>\nWe created the song and lyrics together, I sang in the lyrics and <b>Sindri</b> mixed, processed and polished the whole song.<br>\nWe put the song under artist Egill Antonsson (for convenience) although it's truly a collaboration.\n")}magmaMerryGoRound(){const t="magma-merrygoround",i=`${this.pathToDirEgillAntonsson}${t}`;return this.simpleTrack(t,"Magma merryGoRound",`${i}.ogg`,`${i}.jpg`,"https://soundcloud.com/egill-antonsson/magma-merrygoround","https://open.spotify.com/track/06bQmD7bI6N1qGDeIVsGYR","https://www.qobuz.com/album/magma-merrygoround-egill-antonsson/bqp8z0xr9lqja",'Released at the <a href="https://edisonparty.com">Edison demo-party</a> in 2021 under my new handle/pseudonym <b>Vulkanoman</b>.<br>\nMy original title for the tune was \'Tivoli Chase Cop 27/16\' but I renamed<br>\nas I got more and more inspired by my recent trip to the then ongoing volcano eruption in <a href="https://en.wikipedia.org/wiki/Fagradalsfjall">Fagradallsfjall in Iceland</a>\n')}justInTime(){var t=this;const e=new me("Just in Time",[{url:`${this.pathRoot}/Just_in_Time.ogg`,key:"justInTime",soundType:"Music",maxGain:1,loop:!1,maxNrPlayingAtOnce:1}],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key);let r=2;do{const{instance:s,endedPromise:o}=yield i.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(1===r)),r--}while(r>0)}));return e}icelandSocksIntro(){var t=this;const e=new me("Iceland Socks: Intro",[j.music("icelandSocksIntro",`${this.pathRoot}/Iceland_Socks__Intro.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}fortidin(){var t=this;const e=new me("Fort\xed\xf0in",[j.music("fortidin",`${this.pathRoot}/Fortidin.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}toddlerTune(){var t=this;const e=new me("Toddler Tune",[j.music("toddlerTune",`${this.pathRoot}/Toddler_Tune.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}oddTimesInSpace(){var t=this;const e=new me("Odd Times in Space",[j.music("oddTimesInSpace",`${this.pathRoot}/Odd_Times_in_Space.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}lecube(){var t=this;const e=new me("Lecube",[j.music("lecube",`${this.pathRoot}/Lecube.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}introduction(){var t=this;const e="Introduction",i=new me(e,[j.music(e,`${this.pathToDirTribeOfOranges}${e}.aac`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),`${this.pathToDirTribeOfOranges}${e}.jpg`,this.aboutIntroduction);return i}get aboutIntroduction(){return"<b>Sindri Bergmann Thorarinsson</b> and me made this for a theatre play,<br>\nand it was played at the start of it, and thus it's named <b>Introduction</b>.<br>\nFor the artwork I chose the 'the indian head', which is a valuable family artifact.\n"}routine(){var t=this;const e=new me("Routine",[j.music("routine",`${this.pathRoot}/Routine.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}hhiCommercial(){var t=this;const e=new me("Song for HHI commercial",[j.music("hhiCommercial",`${this.pathRoot}/Song_for_HHI_commercial.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}pirringur(){var t=this;const e="Pirringur",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai,this.aboutPirringur);return i}get artworkKuai(){return`${this.pathToDirKuai}KUAI.jpg`}get aboutPirringur(){return""}apollo(){var t=this;const e="Apollo",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}andsetinn(){var t=this;const e="Andsetinn",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}hamskipti(){var t=this;const e="Hamskipti",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}rover(){var t=this;const e="Rover",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}andefni(){var t=this;const e="Andefni",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}agndofa(){var t=this;const e="Agndofa",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}ofurte(){var t=this;const e="Ofurte",i=new me(e,[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}lesblindaI(){var t=this;const e="Lesblinda-I",i=new me(e.split("-").join(" "),[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}lesblindaII(){var t=this;const e="Lesblinda-II",i=new me(e.split("-").join(" "),[j.music(e,`${this.pathToDirKuai}${e}.ogg`)],()=>De(function*(){const r=t.soundManager.instance.getSound(i.soundDatas[0].key),{instance:s,endedPromise:o}=yield r.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l(!0))}),e.toLowerCase(),this.artworkKuai);return i}godsruleLayered(){var t=this;const e=new $a("Godsrule: Village",[j.musicLoop("godsruleEnvironmentLayer",`${this.pathGame}/loton_MusicVillageEnvironmentLayer.ogg`,.075),j.musicLoop("godsruleStringLayer",`${this.pathGame}/loton_MusicVillageStringLayer.ogg`,.55),j.musicLoop("godsruleHarpLayer",`${this.pathGame}/loton_MusicVillageHarpLayer.ogg`,.4),j.musicLoop("godsrulePianoLayer",`${this.pathGame}/loton_MusicVillagePianoLayer.ogg`,.35)],()=>De(function*(){const i=[t.soundManager.instance.getSound(e.soundDatas[0].key),t.soundManager.instance.getSound(e.soundDatas[1].key),t.soundManager.instance.getSound(e.soundDatas[2].key),t.soundManager.instance.getSound(e.soundDatas[3].key)],r=[];for(let s=0;s<i.length;s++){const o=i[s],{instance:l}=yield o.play();r.push(l),t.instancePlayedListeners.forEach(u=>u(l))}e.layeredMusicController.start(r)}),new B1(this.instanceEndedListeners,this.logService.log));return e}votLayered(){var t=this;const e=new $a("Vikings of Thule: Map",[j.musicLoop("votWindLayer",`${this.pathGame}/VOT_InterfaceMusic_0.mp3`),j.musicLoop("votChoirLayer",`${this.pathGame}/VOT_InterfaceMusic_3.ogg`),j.musicLoop("votHarpLayer",`${this.pathGame}/VOT_InterfaceMusic_2.ogg`),j.musicLoop("votMelodyLayer",`${this.pathGame}/VOT_InterfaceMusic_1.ogg`)],()=>De(function*(){const i=[t.soundManager.instance.getSound(e.soundDatas[0].key),t.soundManager.instance.getSound(e.soundDatas[1].key),t.soundManager.instance.getSound(e.soundDatas[2].key),t.soundManager.instance.getSound(e.soundDatas[3].key)],r=[];for(let s=0;s<i.length;s++){const o=i[s],{instance:l}=yield o.play();r.push(l),t.instancePlayedListeners.forEach(u=>u(l))}e.layeredMusicController.start(r)}),new B1(this.instanceEndedListeners,this.logService.log));return e}cakePopParty(){var t=this;const e=new me("Cake Pop Party",[j.music("cppMusicIntro",`${this.pathGame}/CPP_workMusicIntroScreen.ogg`,.7),j.music("cppMusicScaleBeat",`${this.pathGame}/CPP_musicTransitionBeatFade.ogg`,.6),j.music("cppMusicMakePop",`${this.pathGame}/CPP_workMusicMakePopLoop.ogg`,.7)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key);let o,l=2;do{o=yield i.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield i.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield r.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield s.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u(1===l)),l--}while(l>0)}));return e}symbol6(){var t=this;const e=new me("Symbol 6",[j.music("ssixMenu",`${this.pathGame}/SSIX_menu.ogg`),j.music("ssixGame",`${this.pathGame}/SSIX_game.ogg`),j.music("ssixHexago",`${this.pathGame}/SSIX_HexagoTune.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key);let o,l=2;do{o=yield i.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield r.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield s.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u(1===l)),l--}while(l>0)}));return e}softFreakFiesta(){var t=this;const e=new me("Soft Freak Fiesta",[j.music("sffIntroMenuMusic",`${this.pathGame}/SFF_IntroMenuMusic.ogg`,.9),j.music("sffMenuMusic",`${this.pathGame}/SFF_MenuMusic.ogg`,.9),j.music("sffLevelMusicNoEnv",`${this.pathGame}/SFF_LevelMusic_noEnv.ogg`),j.music("sffLevelMusicBubbling",`${this.pathGame}/SFF_LevelMusic_bubbling.ogg`),j.music("sffLoseJingle",`${this.pathGame}/SFF_LoseJingle.ogg`,.9),j.music("sffWinJingle",`${this.pathGame}/SFF_WinJingle.ogg`,.9)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key),o=t.soundManager.instance.getSound(e.soundDatas[3].key),l=t.soundManager.instance.getSound(e.soundDatas[4].key),u=t.soundManager.instance.getSound(e.soundDatas[5].key);let f,h=!0;f=yield i.play(),t.instancePlayedListeners.forEach(m=>m(f.instance)),yield f.endedPromise,t.instanceEndedListeners.forEach(m=>m());let g=2;do{f=yield r.play(),t.instancePlayedListeners.forEach(m=>m(f.instance)),yield f.endedPromise,t.instanceEndedListeners.forEach(m=>m()),f=yield s.play(),t.instancePlayedListeners.forEach(m=>m(f.instance)),yield f.endedPromise,t.instanceEndedListeners.forEach(m=>m()),f=yield o.play(),t.instancePlayedListeners.forEach(m=>m(f.instance)),yield f.endedPromise,t.instanceEndedListeners.forEach(m=>m()),f=h?yield l.play():yield u.play(),h=!h,t.instancePlayedListeners.forEach(m=>m(f.instance)),yield f.endedPromise,t.instanceEndedListeners.forEach(m=>m(1===g)),--g}while(g>0)}));return e}habitarium(){var t=this;const e=new me("Habitarium",[j.music("habitariumMainTheme",`${this.pathGame}/Habitarium_main_theme.ogg`,.9),j.music("habitariumInGameLoop",`${this.pathGame}/Habitarium_InGameLoop.ogg`,.8)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key);let s,o=2;do{s=yield i.play(),t.instancePlayedListeners.forEach(l=>l(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(l=>l()),s=yield r.play(),t.instancePlayedListeners.forEach(l=>l(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(l=>l(1===o)),o--}while(o>0)}));return e}tinyPlaces(){var t=this;const e=new me("Tiny Places",[j.music("tpMainThemeIntro",`${this.pathGame}/TP_mainThemeIntro.ogg`,.8),j.music("tpMainThemeBridge",`${this.pathGame}/TP_mainThemeBridge.ogg`,.8),j.music("tpSpaceWorld",`${this.pathGame}/TP_spaceWorld.ogg`,.8),j.music("tpTomb",`${this.pathGame}/TP_tomb.ogg`,.8),j.music("tpLazyStyle",`${this.pathGame}/TP_lazyStyle.ogg`,.8),j.music("tpCutScene",`${this.pathGame}/TP_cutScene.ogg`,.8),j.music("tpInGame",`${this.pathGame}/TP_inGame.ogg`,.8),j.music("tpOutOfTime",`${this.pathGame}/TP_outoftime.ogg`,.8)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key),o=t.soundManager.instance.getSound(e.soundDatas[3].key),l=t.soundManager.instance.getSound(e.soundDatas[4].key),u=t.soundManager.instance.getSound(e.soundDatas[5].key),h=t.soundManager.instance.getSound(e.soundDatas[6].key),f=t.soundManager.instance.getSound(e.soundDatas[7].key);let g;g=yield i.play(),t.instancePlayedListeners.forEach(y=>y(g.instance));const m=i.audioCtx.currentTime;g.instance.gainWrapper.setValueAtTime(.4,m).exponentialRampToValueAtTime(.8,m+.3),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield r.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield s.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield s.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield o.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield o.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield l.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield l.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield u.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield h.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y()),g=yield f.play(),t.instancePlayedListeners.forEach(y=>y(g.instance)),yield g.endedPromise,t.instanceEndedListeners.forEach(y=>y(!0))}));return e}jol2008(){var t=this;const e=new me("Christmas Game 2008",[j.music("jol2008mainMusic",`${this.pathGame}/jolagogo2008_main_music.ogg`),j.music("jol2008gameOver",`${this.pathGame}/jolagogo2008_game_over.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key);let s;s=yield i.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield i.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield r.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}jol2009(){var t=this;const e=new me("Christmas Game 2009",[j.music("jol2009bridge",`${this.pathGame}/jolagogo2009_Bridge.ogg`),j.music("jol2009chorus",`${this.pathGame}/jolagogo2009_Chorus.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key);let s,o=2;do{if(s=yield i.play(),t.instancePlayedListeners.forEach(l=>l(s.instance)),2===o){const l=i.audioCtx.currentTime;s.instance.gainWrapper.setValueAtTime(.1,l).exponentialRampToValueAtTime(1,l+.25)}yield s.endedPromise,t.instanceEndedListeners.forEach(l=>l()),s=yield r.play(),t.instancePlayedListeners.forEach(l=>l(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(l=>l(1===o)),o--}while(o>0)}));return e}whosYourFriend(){var t=this;const e=new me("Who's Your Friend",[j.music("wyf",`${this.pathGame}/WYF_ThemeSong.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),{instance:r,endedPromise:s}=yield i.play();t.instancePlayedListeners.forEach(o=>o(r)),yield s,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}knowYourFriend(){var t=this;const e=new me("Know Your Friend",[j.music("kyfIntroMusic",`${this.pathGame}/KYF_IntroMusic_WithAudience.ogg`),j.music("kyf90secMusic",`${this.pathGame}/KYF_90secondsMusic.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key);let s;s=yield r.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield i.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield i.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield r.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o(!0))}));return e}stackem(){var t=this;const e=new me("Stack'em",[j.music("stackem",`${this.pathGame}/Stackem_Tune_loop.ogg`,.9)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key);let r=2;do{const{instance:s,endedPromise:o}=yield i.play();t.instancePlayedListeners.forEach(l=>l(s)),yield o,t.instanceEndedListeners.forEach(l=>l()),r--}while(r>0)}));return e}glowbulleville(){var t=this;const e=new me("Glowbulleville",[j.music("glowMainMusic",`${this.pathGame}/GLOB_main_music.mp3`,.8),j.music("glowVillageMusic",`${this.pathGame}/GLOB_village_music.mp3`),j.music("glowWack",`${this.pathGame}/GLOB_wack_a_mole.mp3`,.8)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key);let o,l=2;do{o=yield i.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield i.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield r.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield r.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u()),o=yield s.play(),t.instancePlayedListeners.forEach(u=>u(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(u=>u(1===l)),l--}while(l>0)}));return e}godsrule(){var t=this;const e=new me("Godsrule: Battle",[j.music("godsruleBattle",`${this.pathGame}/LOTON_BattleBaseLayer.ogg`),j.music("godsruleDefeat",`${this.pathGame}/LOTON_CombatDefeatMusic.ogg`),j.music("godsruleVictory",`${this.pathGame}/LOTON_CombatVictory.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key);let o,l=2;do{o=yield i.play(),t.instancePlayedListeners.forEach(f=>f(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(f=>f()),o=yield r.play(),t.instancePlayedListeners.forEach(f=>f(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(f=>f()),o=yield s.play(),t.instancePlayedListeners.forEach(f=>f(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(f=>f()),l--}while(l>0);o=yield i.play(),t.instancePlayedListeners.forEach(f=>f(o.instance));const h=o.instance.sourceNode.buffer?.duration||10;o.instance.gainWrapper.setTargetAtTime(0,i.audioCtx.currentTime+h/2,h/6),yield o.endedPromise,t.instanceEndedListeners.forEach(f=>f(!0))}));return e}vot(){var t=this;const e=new me("Vikings of Thule: Feud",[j.music("votFeudDrums",`${this.pathGame}/VOT_FeudMusic_drums.ogg`),j.music("votFeud",`${this.pathGame}/VOT_FeudMusic.ogg`),j.music("votFeudEnding",`${this.pathGame}/VOT_FeudEnding.ogg`)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key),s=t.soundManager.instance.getSound(e.soundDatas[2].key);let o;o=yield i.play(),t.instancePlayedListeners.forEach(f=>f(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(f=>f()),o=yield r.play(),t.instancePlayedListeners.forEach(f=>f(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(f=>f()),o=yield r.play(),t.instancePlayedListeners.forEach(f=>f(o.instance)),o.instance.gainWrapper.setTargetAtTime(0,r.audioCtx.currentTime+(o.instance.sourceNode.buffer?.duration||10)-.799,1);const h=function(){var f=De(function*(){t.instanceEndedListeners.forEach(g=>g()),o=yield s.play(),t.instancePlayedListeners.forEach(g=>g(o.instance)),yield o.endedPromise,t.instanceEndedListeners.forEach(g=>g(!0))});return function(){return f.apply(this,arguments)}}();t.timeout=setTimeout(()=>{h()},1e3*(o.instance.sourceNode.buffer?.duration||10)-799)}));return e}crisisGame(){var t=this;const e=new me("The Crisis Game",[j.music("crisisBegin",`${this.pathGame}/Krepp_Byrjun.ogg`,.9),j.music("crisisEnd",`${this.pathGame}/Krepp_Endir.ogg`,.9)],()=>De(function*(){const i=t.soundManager.instance.getSound(e.soundDatas[0].key),r=t.soundManager.instance.getSound(e.soundDatas[1].key);let s;s=yield i.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield i.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o()),s=yield r.play(),t.instancePlayedListeners.forEach(o=>o(s.instance)),yield s.endedPromise,t.instanceEndedListeners.forEach(o=>o())}));return e}static#e=this.\u0275fac=function(e){return new(e||za)(P(es),P(ki))};static#t=this.\u0275prov=z({token:za,factory:za.\u0275fac,providedIn:"root"})}class j1{}class Wa{constructor(){this.highestUniqueBorder=1,this.uniqueNumberTracking=!1,this.uniqueNumbers=new Map}generateRandomNumber(t){return Math.floor(t*Math.random())}startUniqueNumberTracking(t){if(t<=0)throw new $1($1.msgNumberMustBeHigherThanZero);this.uniqueNumberTracking=!0,this.highestUniqueBorder=t,this.uniqueNumbers.clear()}stopUniqueNumberTracking(){this.uniqueNumberTracking=!1,this.uniqueNumbers.clear()}generateUniqueRandomNumber(){if(!this.uniqueNumberTracking)return-1;this.uniqueNumbers.size===this.highestUniqueBorder&&this.uniqueNumbers.clear();let t=0;if(this.uniqueNumbers.size===this.highestUniqueBorder-1){for(let e=0;e<=this.uniqueNumbers.size;e++)if(!this.uniqueNumbers.has(e)){t=e;break}}else do{t=this.generateRandomNumber(this.highestUniqueBorder)}while(this.uniqueNumbers.has(t));return this.uniqueNumbers.set(t,!0),t}static#e=this.\u0275fac=function(e){return new(e||Wa)};static#t=this.\u0275prov=z({token:Wa,factory:Wa.\u0275fac,providedIn:"root"})}class $1{constructor(t){this.name="RandomNumberError",this.message=t}static#e=this.msgNumberMustBeHigherThanZero="Number must be > 0"}class io{constructor(t,e,i,r,s){this.soundManager=t,this.windowRef=e,this.myTracks=i,this.randomNumber=r,this.logService=s,this.label="MusicService",this._playState="Stopped",this._playStateChangeListener=()=>{},this._isShuffle=!0,this.setupInstanceListeners(),this.soundManager.instance.init(this.windowRef.nativeWindow,s.log),this.myTracks.init(),this._byTracks=i.byTracks,this.tracks=i.flatTracks,this._isShuffle?(r.startUniqueNumberTracking(this.tracks.length),this.nextSelectedTrack=this.tracks[r.generateUniqueRandomNumber()]):this.nextSelectedTrack=this.tracks[0],this._selectedTrack=this.nextSelectedTrack}get selectedTrack(){return this._selectedTrack}get byTracks(){return this._byTracks}setSelectTrackByRootUrl(t){let e=this.myTracks.getTrackByRootUrl(t);void 0===e&&(this.logService.log("Error",`could not get track by rootUrl ${t}, returning first track`),e=this.tracks[0]),this._selectedTrack=this.nextSelectedTrack=e,this._isShuffle=!1}get playState(){return this._playState}get isShuffle(){return this._isShuffle}toggleShuffle(){this._isShuffle=!this._isShuffle,this._isShuffle&&this.randomNumber.startUniqueNumberTracking(this.tracks.length)}play(t){if("Loading"===this._playState)return;this.stop();const e=this.nextSelectedTrack;if(!this.soundManager.instance.hasSound(e.soundDatas[0].key))for(let i=0;i<e.soundDatas.length;i++)this.soundManager.instance.addSound(e.soundDatas[i]),this.logService.log("Info",`[${this.label}]`,"adding sounds");this._playState="Loading",e.play()(),e instanceof $a&&(e.layeredMusicController.gainsDisabled=t),this._selectedTrack=e}stop(){this.soundManager.instance.stopMusic();const t=this._selectedTrack;t instanceof $a&&t.layeredMusicController&&t.layeredMusicController.stop(),this.myTracks.instanceEndedListeners.forEach(e=>e(!0,!0))}nextTrack(){let t;t=this._isShuffle?this.randomNumber.generateUniqueRandomNumber():this._selectedTrack.index===this.tracks.length-1?0:this._selectedTrack.index+1,this.logService.log("Info","nextIndex",t),this.nextSelectedTrack=this.tracks[t]}setupInstanceListeners(){this.addInstancePlayedListener(`${this.label} playedListener`,t=>{this._playState="Playing",this._playStateChangeListener()}),this.addInstanceEndedListener(`${this.label} endedListener`,(t,e)=>{this.myTracks.timeout&&(clearTimeout(this.myTracks.timeout),this.myTracks.timeout=void 0),t&&(this._playState="Stopped")})}addInstancePlayedListener(t,e){this.myTracks.instancePlayedListeners.set(t,e)}addInstanceEndedListener(t,e){this.myTracks.instanceEndedListeners.set(t,e)}addPlayStateChangeListener(t){this._playStateChangeListener=t}removeInstancePlayedListener(t){this.myTracks.instancePlayedListeners.delete(t)}removeInstanceEndedListener(t){this.myTracks.instanceEndedListeners.delete(t)}static#e=this.\u0275fac=function(e){return new(e||io)(P(es),P(Ga),P(za),P(j1),P(ki))};static#t=this.\u0275prov=z({token:io,factory:io.\u0275fac,providedIn:"root"})}class ro{constructor(){this.subject=new V}sendMessage(t){this.subject.next(t)}onMessage(){return this.subject.asObservable()}static#e=this.\u0275fac=function(e){return new(e||ro)};static#t=this.\u0275prov=z({token:ro,factory:ro.\u0275fac,providedIn:"root"})}const CV=["canvas0"],DV=["canvas1"],EV=["canvas2"],MV=["canvas3"],TV=["topLine"],G1=function(n){return{nodeSelected:n}};function IV(n,t){if(1&n){const e=dr();c(0,"div",24),je("click",function(){const s=sr(e).$implicit;return or(be(3).onTrackClick(s))}),a(1),d()}if(2&n){const e=t.$implicit,i=be(3);E("ngClass",Us(2,G1,e.name===i.selectedTrack.name)),v(1),Pe(" ",e.name," ")}}function SV(n,t){if(1&n&&(c(0,"div",22),ve(1,IV,2,4,"div",23),d()),2&n){const e=be().$implicit;v(1),E("ngForOf",e.tracks)}}const AV=function(n,t){return{branchAnimateClose:n,branchAnimateOpen:t}};function kV(n,t){if(1&n){const e=dr();c(0,"div")(1,"div",17),je("click",function(){const s=sr(e).index;return or(be().onByClick(s))}),c(2,"div",18),p(3,"div",19),d(),c(4,"span",20),a(5),d()(),ve(6,SV,2,1,"div",21),d()}if(2&n){const e=t.$implicit,i=t.index,r=be();v(3),E("ngClass",ta(4,AV,r.openedUiByIndex!=i,r.openedUiByIndex===i)),v(1),E("ngClass",Us(7,G1,r.selectedTrack.artistName===e.name)),v(1),He(e.name),v(1),E("ngIf",r.openedUiByIndex===i)}}function xV(n,t){if(1&n&&(c(0,"span",25)(1,"a",26),p(2,"img",27),d()()),2&n){const e=be();v(1),Nt("href",e.selectedTrack.soundcloudUrl,lr),v(1),qo("alt","play track ",e.selectedTrack.name," on SoundCloud")("title","play track ",e.selectedTrack.name," on SoundCloud")}}function PV(n,t){if(1&n&&(c(0,"span",25)(1,"a",26),p(2,"img",28),d()()),2&n){const e=be();v(1),Nt("href",e.selectedTrack.spotifyUrl,lr),v(1),qo("alt","play track ",e.selectedTrack.name," on Spotify")("title","play track ",e.selectedTrack.name," on Spotify")}}function OV(n,t){if(1&n&&(c(0,"span",25)(1,"a",29),a(2,"Buy"),d()()),2&n){const e=be();v(1),Nt("href",e.selectedTrack.buyUrl,lr)}}function LV(n,t){if(1&n&&(c(0,"div")(1,"h4"),a(2),d(),p(3,"p",30),d()),2&n){const e=be();v(2),Pe("About ",e.selectedTrack.name,""),v(1),E("innerHTML",e.selectedTrack.about,Yn)}}function RV(n,t){if(1&n&&(c(0,"div")(1,"h4"),a(2),d(),p(3,"p",30),d()),2&n){const e=be();v(2),Pe("About ",e.selectedTrack.artistName,""),v(1),E("innerHTML",e.selectedTrack.artistAbout,Yn)}}class qa{constructor(t,e,i,r,s){this.musicService=t,this.messageService=e,this.logService=i,this.route=r,this.location=s,this.label="MusicPage",this.drawVisuals=[],this.playedListenerName=`${this.label} playedListener`,this.endedListenerName=`${this.label} endedListener`,this.musicGain=1,this.musicMuted=!1,this.sfxGain=1,this.sfxMuted=!1,this.highMaxNrPlaying=24,this.mediumMaxNrPlaying=16,this.lowMaxNrPlaying=8,this.value=0,this.highValue=1,this.range=this.highValue-this.value,this.selectedByIndex=0,this.openedUiByIndex=-1,this.currentCanvasNr=0,this.canvasNrAscending=!1,this.urlPathRoot="music/"}get byTracks(){return this.musicService.byTracks}get selectedTrack(){return this.musicService.selectedTrack}ngOnInit(){this.musicService.addInstancePlayedListener(this.playedListenerName,t=>{const e=this.getNextCanvas(),i=this.tryGetCanvasContext(e);i&&(this.topLine.nativeElement.classList.add("hide"),this.visualize(t,e,i,this.drawVisuals)),this.replaceUrlState()}),this.musicService.addInstanceEndedListener(this.endedListenerName,()=>{this.topLine.nativeElement.classList.remove("hide"),this.clearVisuals()}),this.route.paramMap.subscribe(t=>{const e=t.get("trackName");null!==e?this.musicService.setSelectTrackByRootUrl(e):this.replaceUrlState()}),this.canvases=[this.canvas0,this.canvas1,this.canvas2,this.canvas3]}replaceUrlState(){this.location.replaceState(`${this.urlPathRoot}${this.selectedTrack.rootUrl}`)}ngOnDestroy(){this.musicService.removeInstancePlayedListener(this.playedListenerName),this.musicService.removeInstanceEndedListener(this.endedListenerName)}onTrackClick(t){"Loading"!==this.musicService.playState?(this.musicService.nextSelectedTrack=t,this.messageService.sendMessage({type:"Play"})):this.logService.log("Info","onTrackClick: is loading, returning without processing")}onByClick(t){this.openedUiByIndex=this.openedUiByIndex===t?-1:t}get layerText(){if(this.musicService.selectedTrack instanceof $a&&this.musicService.selectedTrack.layeredMusicController.layerSoundInstances){const t=this.musicService.selectedTrack.layeredMusicController.layerSoundInstances;if(t[t.length-1].gainWrapper.instanceMuted)return"add layer"}return"keep layer"}getNextCanvas(){return 0===this.currentCanvasNr?(this.currentCanvasNr++,this.canvasNrAscending=!0):3===this.currentCanvasNr?(this.currentCanvasNr--,this.canvasNrAscending=!1):this.canvasNrAscending?this.currentCanvasNr++:this.currentCanvasNr--,this.canvases[this.currentCanvasNr]}tryGetCanvasContext(t){const e=t.nativeElement.getContext("2d");return e||this.logService.log("Error",'"canvasContext" was "null"'),e}visualize(t,e,i,r){const s=t.analyzerNode;s.fftSize=2048;const o=s.fftSize,l=new Uint8Array(o),u=e.nativeElement.width,h=e.nativeElement.height;i.clearRect(0,0,u,h),e.nativeElement.classList.remove("hide");const f=()=>{r.push(requestAnimationFrame(f)),s.getByteTimeDomainData(l),i.fillStyle="#111",i.fillRect(0,0,u,h),i.lineWidth=3,i.strokeStyle="#B9CA4A",i.beginPath();const g=1*u/o;let m=0;for(let y=0;y<o;y++){const D=l[y]/128*h/2;0===y?i.moveTo(m,D):i.lineTo(m,D),m+=g}i.lineTo(u,h/2),i.stroke()};f()}clearVisuals(){this.drawVisuals.forEach(t=>{window.cancelAnimationFrame(t)}),this.drawVisuals=[],this.canvases.forEach(t=>{this.tryGetCanvasContext(t)?.clearRect(0,0,t.nativeElement.width,t.nativeElement.height),t.nativeElement.classList.add("hide")}),this.currentCanvasNr=1,this.canvasNrAscending=!1}onSoundCloudClick(){}static#e=this.\u0275fac=function(e){return new(e||qa)(C(io),C(ro),C(ki),C(wr),C(ua))};static#t=this.\u0275cmp=lt({type:qa,selectors:[["app-music-page"]],viewQuery:function(e,i){if(1&e&&(Vt(CV,7),Vt(DV,7),Vt(EV,7),Vt(MV,7),Vt(TV,7)),2&e){let r;gt(r=mt())&&(i.canvas0=r.first),gt(r=mt())&&(i.canvas1=r.first),gt(r=mt())&&(i.canvas2=r.first),gt(r=mt())&&(i.canvas3=r.first),gt(r=mt())&&(i.topLine=r.first)}},features:[qe([ua,{provide:fr,useClass:Mf}])],decls:25,vars:11,consts:[[1,"treeContainer","noSelect"],[4,"ngFor","ngForOf"],[1,"horizontalLine"],["topLine",""],[1,"canvas","hide"],["canvas0",""],["canvas1",""],["canvas2",""],["canvas3",""],[1,"trackLeftContainer"],[1,"trackLeftInner"],[1,"artworkImage",3,"src","alt","title"],[1,"buttonContainer"],["class","iconButton",4,"ngIf"],[1,"trackRightContainer"],[1,"trackRightInner"],[4,"ngIf"],[1,"branchContainer",3,"click"],[1,"branchIconContainer"],[1,"branchIcon",3,"ngClass"],[3,"ngClass"],["class","nodeContainer nodeFadeIn",4,"ngIf"],[1,"nodeContainer","nodeFadeIn"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"],[1,"iconButton"],["target","\u201d_blank\u201d",3,"href"],["src","https://upload.wikimedia.org/wikipedia/commons/7/78/Soundcloud_logo.svg",1,"soundcloudIcon",3,"alt","title"],["src","https://upload.wikimedia.org/wikipedia/commons/2/26/Spotify_logo_with_text.svg ",1,"spotifyIcon",3,"alt","title"],["target","\u201d_blank\u201d",1,"IconLink",3,"href"],[3,"innerHTML"]],template:function(e,i){1&e&&(c(0,"div",0),ve(1,kV,7,9,"div",1),d(),p(2,"div",2,3),c(4,"div"),p(5,"canvas",4,5)(7,"canvas",4,6)(9,"canvas",4,7)(11,"canvas",4,8),d(),c(13,"div",9)(14,"div",10)(15,"figure"),p(16,"img",11),d(),c(17,"div",12),ve(18,xV,3,3,"span",13),ve(19,PV,3,3,"span",13),ve(20,OV,3,1,"span",13),d()()(),c(21,"div",14)(22,"div",15),ve(23,LV,4,2,"div",16),ve(24,RV,4,2,"div",16),d()()),2&e&&(v(1),E("ngForOf",i.byTracks),v(15),Nt("src",i.selectedTrack.artworkPath,lr),Vh("alt","Artwork for ",i.selectedTrack.name," by ",i.selectedTrack.artistName,"")("title","Artwork for ",i.selectedTrack.name," by ",i.selectedTrack.artistName,""),v(2),E("ngIf",""!==i.selectedTrack.soundcloudUrl),v(1),E("ngIf",""!==i.selectedTrack.spotifyUrl),v(1),E("ngIf",""!==i.selectedTrack.buyUrl),v(3),E("ngIf",""!==i.selectedTrack.about),v(1),E("ngIf",""!==i.selectedTrack.artistAbout))},dependencies:[ha,fa,an],styles:[".canvas[_ngcontent-%COMP%]{width:100%;height:30px;border:1px solid var(--colorGrayLight);border-radius:.3em}.trackLeftContainer[_ngcontent-%COMP%]{float:left;width:50%}.buttonContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:1em}.artworkImage[_ngcontent-%COMP%]{width:100%;max-width:400px;border-radius:5%;display:block;margin:0 auto}.trackRightContainer[_ngcontent-%COMP%]{float:right;width:50%}.trackRightInner[_ngcontent-%COMP%]{float:left;margin-left:2%}.iconButton[_ngcontent-%COMP%]{width:100px;height:30px;border:1px solid var(--colorGrayLight);border-radius:1em;text-align:center;padding-top:3px;margin-left:1em;margin-right:1em}.spotifyIcon[_ngcontent-%COMP%]{height:90%;width:80%}.soundcloudIcon[_ngcontent-%COMP%]{height:90%;width:96%}.IconLink[_ngcontent-%COMP%]{vertical-align:middle}@keyframes _ngcontent-%COMP%_lds-ripple{0%{top:36px;left:36px;width:0;height:0;opacity:1}to{top:0;left:0;width:72px;height:72px;opacity:0}}@media screen and (max-width: 451px){.trackLeftContainer[_ngcontent-%COMP%]{width:100%}.trackLeftInner[_ngcontent-%COMP%]{float:none;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:3px;margin-right:3px}}@media screen and (min-width: 452px) and (max-width: 703px){.canvas[_ngcontent-%COMP%]{margin-left:2%;margin-right:2%;width:96%}.trackLeftContainer[_ngcontent-%COMP%]{width:100%}.trackLeftInner[_ngcontent-%COMP%]{float:none;margin-right:0%}.trackRightContainer[_ngcontent-%COMP%]{width:100%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}}@media screen and (min-width: 704px) and (max-width: 1053px){.canvas[_ngcontent-%COMP%]{margin-left:4%;margin-right:4%;width:92%}.iconButton[_ngcontent-%COMP%]{margin-left:.5em;margin-right:.5em}.trackLeftInner[_ngcontent-%COMP%]{margin-right:10px}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.canvas[_ngcontent-%COMP%]{margin-left:6%;margin-right:6%;width:88%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.canvas[_ngcontent-%COMP%]{margin-left:8%;margin-right:8%;width:84%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}@media screen and (min-width: 2001px){.canvas[_ngcontent-%COMP%]{margin-left:10%;margin-right:10%;width:80%}p[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{margin-left:0%;margin-right:0%}}"]})}class Tc{static#e=this.\u0275fac=function(e){return new(e||Tc)};static#t=this.\u0275cmp=lt({type:Tc,selectors:[["app-pagenotfound"]],decls:2,vars:0,template:function(e,i){1&e&&(c(0,"h1"),a(1,"Page not found for this url"),d())},encapsulation:2})}class ti{constructor(t){this.blogService=t}get post(){return this.blogService.selectedPost}get publishedDateToString(){return this.dateToString(this.post.publishedDate)}get hasUpdatedDate(){return void 0!==this.post.updatedDate}get updatedDateToString(){return void 0===this.post.updatedDate?"":this.dateToString(this.post.updatedDate)}dateToString(t){const i=new Ff("en-US").transform(t,"YYYY MMM dd");return null===i?"":i}get aboutCodeHtml(){return'<h2>The code</h2>\n<p>\n\tThe code shown below is focused on the current cycle step, thus only showing the relevant lines\t.<br>\n\tThe complete code and the Unity project is on <a href="https://github.com/EgillAntonsson/tdd-avatar-health-in-unity">GitHub</a>.\n</p>'}get completeRequirementListHtml(){return'<sup>The complete requirement list from the user perspective is in <a href="./blog/tdd-health/part2">Part 2</a></sup>'}get rewordRequirement(){return"Let's reword this focusing on the domain model and using its terminology:"}static#e=this.\u0275fac=function(e){return new(e||ti)(C(Xs))};static#t=this.\u0275cmp=lt({type:ti,selectors:[["ng-component"]],decls:2,vars:0,template:function(e,i){1&e&&(c(0,"h1"),a(1,"base class template not used"),d())},encapsulation:2})}function NV(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class Ka extends ti{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(Ka)))(i||Ka)}}();static#t=this.\u0275cmp=lt({type:Ka,selectors:[["app-post-tdd-1"]],features:[we],decls:374,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","http://www.jamesshore.com/v2/blog/2005/red-green-refactor"],[1,"list"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],["href","https://pragmaticways.com/31-code-smells-you-must-know/"],["href","https://blog.cleancoder.com/uncle-bob/2014/12/17/TheCyclesOfTDD.html"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/25"],[1,"list","inline"],["href","https://livebook.manning.com/book/the-art-of-unit-testing-third-edition/chapter-1/v-6/193"],["href","https://effectivesoftwaredesign.com/2012/02/05/separation-of-concerns/"],["href","https://en.wikipedia.org/wiki/Coupling_(computer_programming)"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://dhh.dk/2014/tdd-is-dead-long-live-testing.html"],["href","https://www.youtube.com/watch?v=z9quxZsLcfo"],["href","https://blog.cleancoder.com/uncle-bob/2014/04/25/MonogamousTDD.html"],["href","https://www.linkedin.com/in/egillantonsson"],["href","http://xunitpatterns.com/Humble%20Object.html"],["href","https://enterprisecraftsmanship.com/posts/what-is-domain-logic/"],["href","https://enterprisecraftsmanship.com/posts/domain-model-isolation/"],["href","https://martinfowler.com/articles/practical-test-pyramid.html"],["href","https://understandlegacycode.com/blog/what-is-legacy-code-is-it-code-without-tests/#code-youre-not-comfortable-changing"],["href","http://xunitpatterns.com/Mocks,%20Fakes,%20Stubs%20and%20Dummies.html"],["href","https://medium.com/aia-sg-techblog/why-singleton-pattern-is-considered-as-anti-design-pattern-c81dd8b7e757"],["href","https://www.goodreads.com/book/show/44919.Working_Effectively_with_Legacy_Code"],["href","https://devon.global/starting-tdd-legacy-code/"],[1,"horizontalLine"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,NV,2,1,"small",1),d(),c(11,"h2"),a(12,"What is TDD ?"),d(),c(13,"p"),a(14," TDD is an acronym for "),c(15,"i"),a(16,"Test Driven Development"),d(),p(17,"br"),a(18," and is a workflow discipline / approach for developers, focused on "),c(19,"b"),a(20,"when"),d(),a(21," to write unit tests,"),p(22,"br"),a(23," and the heart of it is the "),c(24,"a",2),a(25,"RED / GREEN / REFACTOR cycle:"),d()(),c(26,"ol",3)(27,"li")(28,"span",4),a(29,"RED:"),d(),a(30," Write a test that fails"),d(),c(31,"li")(32,"span",5),a(33,"GREEN:"),d(),a(34," Get the test to pass, with minimal effort"),d(),c(35,"li")(36,"span",6),a(37,"REFACTOR:"),d(),a(38," Evaluate if refactoring is needed, e.g. remove a "),c(39,"a",7),a(40,"code smell"),d()()(),c(41,"p"),a(42,"The cycle should focus is on fulfilling a requirement on the SUT (Subject/Unit Under Test)"),p(43,"br"),a(44," repeating it until you are confident that the SUT has become generic enough to handle all meaningful cases"),p(45,"br"),a(46," (as the tests become more specific)."),p(47,"br"),a(48," At some interval you should stop and evaluate if the design of the overall system is sound, if not then refactor it."),p(49,"br"),a(50," (all tests run and passing as frequently as needed)."),p(51,"br"),a(52," This is my summarization of Uncle Bob's post "),c(53,"a",8),a(54,"The Cycles of TDD"),d(),a(55,"."),p(56,"br"),a(57," (Bob terms additional cycles within and around RED / GREEN / REFACTOR).\n"),d(),c(58,"h2"),a(59,"What is a good Unit Test ?"),d(),c(60,"p"),a(61," A good unit test is focused on a specific SUT requirement,"),p(62,"br"),a(63," of meaningful logic (e.g. don't test simple getter properties on their own)."),p(64,"br"),a(65," The test code should be kept as clean as the production code ("),c(66,"span",6),a(67,"REFACTOR"),d(),a(68," step in TDD applies to both)."),p(69,"br"),a(70," Here are definitions from "),c(71,"b"),a(72,"Roy Osherove"),d(),a(73," in "),c(74,"i"),a(75,"The Art of Unit testing, 3rd edition"),d(),p(76,"br"),a(77," (for him the word 'unit' in unit testing stands for 'unit of work'):\n"),d(),c(78,"h3")(79,"a",9),a(80,"Unit of Work definition"),d()(),c(81,"p"),a(82,"\nA "),c(83,"i"),a(84,"unit of work"),d(),a(85," is the sum of actions that take place between the invocation of an "),c(86,"i"),a(87,"entry point"),d(),p(88,"br"),a(89,"\nup until a noticeable end result through one or more "),c(90,"i"),a(91,"exit points"),d(),a(92,"."),p(93,"br"),a(94,"\nThe "),c(95,"i"),a(96,"entry point"),d(),a(97," is the thing we trigger."),p(98,"br"),a(99,"\nGiven a publicly visible function, for example:\n"),d(),c(100,"ul",10)(101,"li"),a(102,"The function's body is all or part of the "),c(103,"i"),a(104,"unit of work"),d(),a(105,"."),d(),c(106,"li"),a(107,"The function's declaration and signature are the "),c(108,"i"),a(109,"entry point"),d(),a(110," into the body."),d(),c(111,"li"),a(112,"The resulting outputs or behaviors of the function are its "),c(113,"i"),a(114,"exit points"),d(),a(115,"."),d()(),c(116,"h3")(117,"a",11),a(118,"Good Unit Test definition"),d()(),c(119,"p"),a(120,"\nA "),c(121,"i"),a(122,"unit test"),d(),a(123," is an automated piece of code that invokes the "),c(124,"i"),a(125,"unit of work"),d(),p(126,"br"),a(127,"\nthrough an "),c(128,"i"),a(129,"entry point"),d(),a(130,", and then checks one of its "),c(131,"i"),a(132,"exit points"),d(),a(133,"."),p(134,"br"),a(135,"\nIt can be written easily and runs quickly."),p(136,"br"),c(137,"b"),a(138,"It's trustworthy, readable & maintainable."),p(139,"br"),a(140,"\nIt is consistent as long as the production code we control has not changed."),d()(),c(141,"h2"),a(142,"Why do TDD ?"),d(),c(143,"p"),a(144,"Here is a my non-exhaustive list of the benefits of TDD in order of priority:"),d(),c(145,"ol",10)(146,"li"),a(147,"Ensures you'll have passing test suite with high production code coverage"),p(148,"br"),a(149," that runs fast (each case less than 0.1 sec) so you get feedback early,"),p(150,"br"),a(151," thus you can clean the code fast and continuously without fear of breaking it,"),p(152,"br"),a(153," thus have high confidence in the shipped product quality."),p(154,"br"),d(),c(155,"li"),a(156,"It pushes for good production code design and maintainability:"),d(),c(157,"ul")(158,"li")(159,"a",12),a(160,"Separation of Concerns (SoC)"),d()(),c(161,"li"),a(162,"code to be low "),c(163,"a",13),a(164,"coupled"),d(),a(165," / have few dependencies"),d(),c(166,"li"),a(167,"each unit / object has readable and requirement-focused interface"),p(168,"br"),a(169," (internals should be "),c(170,"a",14),a(171,"encapsulated"),d(),a(172,")"),d()(),c(173,"li"),a(174,"The tests are accurate and up-to-date (developer focused) documentation"),p(175,"br"),a(176," of the behavior of the tested units."),d(),c(177,"li"),a(178,"Less time spent in the debugger"),d()(),c(179,"p"),a(180," There are also criticisms on TDD, e.g. the post "),c(181,"a",15),a(182,"TDD is dead. Long live testing"),d(),a(183,","),p(184,"br"),a(185," and discussion about it, e.g. the YouTube series "),c(186,"a",16),a(187,"Is TDD dead ?"),d(),p(188,"br"),a(189," and responses to it, e.g the post "),c(190,"a",17),a(191,"Monogamous TDD"),d(),a(192,".\n"),d(),c(193,"h2"),a(194,"Is TDD suitable for all areas / situations ?"),d(),c(195,"p"),a(196," I have over a decade long "),c(197,"a",18),a(198,"developer work experience"),d(),p(199,"br"),a(200," mainly as front-end game developer, and shared game systems developer."),p(201,"br"),a(202," I've gained some experience in writing good unit tests (being 'not so good' at the start of the journey)."),p(203,"br"),a(204," but I've used TDD to a lesser degree, thus I'm currently not very seasoned in using TDD."),p(205,"br"),a(206," The reason why I haven't used TDD more is mainly two-fold:\n"),d(),c(207,"ul",10)(208,"li"),a(209,"Sometimes when facing many 'hard to influence' deadlines,"),p(210,"br"),a(211," I've chosen the (not ideal) 'get it done in time' approach (Thus writing unit tests later)."),d(),c(212,"li"),a(213,"I'm working in areas / situations where it is not so suited or easy to use TDD."),d()(),c(214,"p"),a(215," Below are areas / situations where it is not so suited or easy to use TDD"),p(216,"br"),a(217," (and some tips how to work TDD more into them).\n"),d(),c(218,"h3"),a(219,"Boundary layers"),d(),c(220,"p"),a(221," A big part of a game is the graphic user interface (GUI) and visual effects, user input and sound,"),p(222,"br"),a(223," should these parts be unit tested ?"),p(224,"br")(225,"br"),a(226," These parts can be described as layers close to the physical output/input boundaries (e.g. screen, speaker)"),p(227,"br"),a(228," The design can be driven to make these boundary layers thin and "),c(229,"a",19),a(230,"humble"),d(),a(231,","),p(232,"br"),a(233," focusing on the responsibility of the boundary (e.g. disable/enable button), and extracting other logic into other modules that can be easily tested."),p(234,"br")(235,"br"),a(236," It's likely that the logic to extract is in fact the "),c(237,"a",20),a(238,"domain logic"),d(),a(239," (a.k.a business logic),"),p(240,"br"),a(241," the code that makes (non-visual) game decisions (business)"),p(242,"br"),a(243," and thus belongs to the "),c(244,"a",21),a(245,"domain model"),d(),a(246," and then should be moved there"),p(247,"br"),a(248," (the domain model should not depend on any boundaries, thus be easily unit testable)."),p(249,"br")(250,"br"),a(251," The edges of the boundary layers can be manually tested, e.g making sure the button displays properly on the screen."),p(252,"br"),a(253," If boundary bugs begin slipping into the production as the project grows,"),p(254,"br"),a(255," then it's time to replace some of the manual testing effort with automated tests (e.g integration and/or UI tests)."),p(256,"br"),a(257," The "),c(258,"a",22),a(259,"Test Pyramid"),d(),a(260," could be a guide for that process.\n"),d(),c(261,"h3"),a(262,"Legacy Code"),d(),c(263,"p"),a(264," Legacy code in a sentence is "),c(265,"a",23),a(266,"valuable code you are afraid to change"),d(),p(267,"br"),a(268," It typically:\n"),d(),c(269,"ul",10)(270,"li"),a(271,"has been developed for some time"),d(),c(272,"li"),a(273,"is already 'working' (for most common scenarios / most of the time)"),d(),c(274,"li"),a(275,"has some bad code design that has crept in with time"),p(276,"br"),a(277," (e.g. high coupling / high dependency)"),d(),c(278,"li"),a(279,"is hard to read and understand and reason about"),d(),c(280,"li"),a(281,"has no or few good unit tests / very low test coverage"),p(282,"br"),a(283," (or many very bad and fragile tests that are hard to read and understand"),d()(),c(284,"p"),a(285," When you need to fix or change legacy code"),p(286,"br"),a(287," it is hard to do and have the confidence that the change did not break something else."),p(288,"br"),a(289," A breakage is discovered late (QA manual testing or live production) which can be very costly"),p(290,"br"),a(291," (and it always takes effort to get again into the context to fix the bug)."),p(292,"br")(293,"br"),a(294," It's possible to prevent bad code design to creep up"),p(295,"br"),a(296," by strictly upholding great design principles, without writing unit tests."),p(297,"br"),a(298," But using TDD complements this prevention very well (see "),c(299,"i"),a(300,"Why do TDD ?"),d(),a(301," section above)"),p(302,"br")(303,"br"),a(304," One of the negative consequence of legacy code is that it's very hard to write unit tests"),p(305,"br"),a(306," They likely need a lot of "),c(307,"a",24),a(308,"Test Doubles"),d(),a(309," to mute dependency interference"),p(310,"br"),a(311," (where static objects and "),c(312,"a",25),a(313,"Singletons"),d(),a(314," become very tricky)."),p(315,"br")(316,"br"),a(317," Legacy code needs to be carefully refactored (ideally first covered with tests) into a better state"),p(318,"br"),a(319," before TDD can be used effortlessly and to it's full potential."),p(320,"br"),a(321," Improving legacy code is a big topic thus I'll leave it here by"),p(322,"br"),a(323," referencing one book: "),c(324,"a",26),a(325,"Working Effectively with Legacy Code"),d(),a(326,","),p(327,"br"),a(328," and one post: "),c(329,"a",27),a(330,"Starting TDD with legacy code"),d(),a(331,".\n"),d(),c(332,"h3"),a(333,"Prototype code"),d(),c(334,"p"),a(335," The focus of prototyping is to get out an idea as fast as possible to get feedback on it."),p(336,"br"),a(337," It should be time boxed and at the end of the period it should be decided if the idea should become a real production project or not,"),p(338,"br"),a(339," and there should be a "),c(340,"b"),a(341,"clear agreement that the prototype code will be thrown away"),d(),a(342,"."),p(343,"br"),a(344," It is fine to not (or sparsely) use TDD in the prototyping phase, if the consensus is it slows things down,"),p(345,"br"),a(346," but TDD should be used when the production project codebase is started from scratch."),p(347,"br"),d(),p(348,"div",28),c(349,"h2"),a(350,"Comments"),d(),c(351,"h4"),a(352,"Fabio Paes Pedro"),d(),c(353,"p"),a(354," I'm no expert but the value TDD provides became clear to me quite fast."),p(355,"br"),a(356," I believe this requires a mindset/process change though,"),p(357,"br"),a(358," a different way of thinking things through that might extend outside of our team, into a company level."),p(359,"br"),a(360," I can't wait to read the rest of this series!\n"),d(),c(361,"h4"),a(362,"My response"),d(),c(363,"p"),a(364," Thank you for your comment Fabio."),p(365,"br"),a(366," I agree that TDD requires a mindset/process change,"),p(367,"br"),a(368," where ideally the whole team and the company are aligned on using TDD to reap its benefits,"),p(369,"br"),a(370," (synced on an approach that recognizes that in some areas / situations the value of TDD can be limited (as the sections above go through)."),p(371,"br"),a(372," I aim to continue writing blog post and complete this series, so stay tuned :)\n"),d(),p(373,"div",28)),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate))},dependencies:[an],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function FV(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class Ya extends ti{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(Ya)))(i||Ya)}}();static#t=this.\u0275cmp=lt({type:Ya,selectors:[["app-post-tdd-2"]],features:[we],decls:300,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://www.maginteractive.com"],["href","https://www.youtube.com/watch?v=R1aO4Tmw3zA&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b"],["href","https://zelda.fandom.com/wiki/Life_Gauge"],[1,"list","inline"],["href","https://egill.rocks/blog/tdd-health/part1"],["href","https://en.wikipedia.org/wiki/Live_coding"],["href","https://www.youtube.com/watch?v=_vd2JyX6C1Y&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=8"],["href","https://www.youtube.com/watch?v=LPlH87XaWC8&list=PLKERDLXpXl_jJQiQOHDLimnulasAK3T5b&index=9"],[1,"redFail"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"list"],[1,"noBulletinPoint"],[1,"center"],["href","./blog/tdd-health/part1"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,FV,2,1,"small",1),d(),c(11,"h2"),a(12,"Preparing the assignment"),d(),c(13,"h3"),a(14,"My workshop"),d(),c(15,"p"),a(16," I recently to do a short workshop about TDD at "),c(17,"a",2),a(18,"work"),d(),p(19,"br"),a(20," and for preparation I browsed the internet looking for a fitting assignment,"),p(21,"br"),a(22," and I came across "),c(23,"a",3),a(24,"TDD in Unity - Part 1"),d(),a(25," by Charles Amat, where he sets up his assignment:"),p(26,"br"),a(27," implementing the "),c(28,"i"),a(29,"Life Gauge"),d(),a(30," from "),c(31,"i"),a(32,"Zelda: Breath of the Wild"),d(),a(33," game."),p(34,"br")(35,"br"),a(36," I thought this assignment was fitting for the workshop,"),p(37,"br"),a(38," thus I read the "),c(39,"a",4),a(40,"Life Gauge page on the Zelda wiki"),d(),a(41," (which was linked in the 'Part 1' post),"),p(42,"br"),a(43," and also played the game a bit, focusing on the "),c(44,"i"),a(45,"Life Gauge"),d(),a(46," behavior."),p(47,"br"),a(48," But I did not go through the 'TDD in Unity' series, as I was running out of preparation time."),p(49,"br")(50,"br"),a(51," My focus and task order in both my preparations and workshop walk-through:"),p(52,"br"),d(),c(53,"ol",5)(54,"li"),a(55,"Write down the "),c(56,"i"),a(57,"Life Gauge"),d(),a(58," behavior from the user perspective"),p(59,"br"),a(60," (based on the wiki, and to a lesser degree my experience, as I'm not so good in "),c(61,"i"),a(62,"Zelda: Breath of the Wild"),d(),a(63,")"),d(),p(64,"br"),c(65,"li"),a(66,"Focus first on the (non visual) domain logic and implement all the requirements it should fulfill,"),p(67,"br"),a(68," as TDD is fully effective and effortless in the domain model"),d(),p(69,"br"),c(70,"li"),a(71,"Afterwards the focus would shift to the visual GUI,"),p(72,"br"),a(73," where the value of TDD likely would dwindle the closer I got to the physical boundary of the screen,"),p(74,"br"),a(75," ending with just manually testing with my eyes."),p(76,"br"),a(77," (Boundary layers section in "),c(78,"a",6),a(79,"Part 1"),d(),a(80," elaborates on 2. and 3.)"),d()(),c(81,"p"),a(82," I only had time prepare the first couple of domain logic requirements,"),p(83,"br"),a(84," and during the workshop we collaboratively completed those together"),p(85,"br"),a(86," (before the time was up)."),p(87,"br"),d(),c(88,"h3"),a(89,"Comparing approaches on the assignment"),d(),c(90,"p"),a(91," After the workshop I was curious how Charles Amat solved it,"),p(92,"br"),a(93," thus I watched on YouTube the whole "),c(94,"a",3),a(95,"TDD in Unity"),d(),a(96," series."),p(97,"br"),a(98," I both enjoyed and learned from watching Charles Amat "),c(99,"a",7),a(100,"live coding"),d(),a(101," and implementing the "),c(102,"i"),a(103,"Life Gauge"),d(),p(104,"br"),a(105," and his end result solution is good and sound, and I thank Charles for his contribution."),p(106,"br"),a(107," but I noticed that his focus and task order quite differed from mine, as he:"),p(108,"br"),d(),c(109,"ol",5)(110,"li"),a(111,"Starts planning how to create the heart container in Unity,"),p(112,"br"),a(113," from a GUI perspective"),d(),p(114,"br"),c(115,"li"),a(116,"Starts TDD-ing logic close to the GUI"),d(),p(117,"br"),c(118,"li"),a(119,"Ends with TDD-ing the domain logic ("),c(120,"a",8),a(121,"Part 7"),d(),a(122," and "),c(123,"a",9),a(124,"Part 8"),d(),a(125,")."),p(126,"br"),a(127," He simplifies the domain requirements from the "),c(128,"i"),a(129,"Breath of the Wild"),d(),p(130,"br"),a(131," as he states in the beginning"),p(132,"br"),c(133,"q"),a(134,"The Heart container depletes when the player takes damage"),p(135,"br"),a(136," and is replenished when the player consumes an item with a health effect. "),d()()(),c(137,"h3"),a(138,"Same assignment, but with a different focus"),d(),c(139,"p"),a(140," This is why I think it's worth doing another series with the same assignment,"),p(141,"br"),a(142," but with my focus, task order, and format."),p(143,"br")(144,"br"),a(145," My format will be blog posts focused on the TDD cycles"),p(146,"br"),a(147," displaying the appropriate code for each step."),p(148,"br"),a(149," I'll demonstrate how the requirements and the cycles"),p(150,"br"),a(151," guide and shape the code and my reasoning,"),p(152,"br"),a(153," that will read like poetry of rhythmic "),c(154,"span",10),a(155,"RED "),d(),c(156,"span",11),a(157,"GREEN "),d(),c(158,"span",12),a(159,"REFACTOR "),d(),a(160," loops,"),p(161,"br"),a(162," at least that's my ambition :)"),p(163,"br"),d(),c(164,"h2"),a(165,"The Life Gauge behavior"),d(),c(166,"p"),a(167,"\nThe below list is user perspective behaviour summary from"),p(168,"br"),a(169,"\nthe "),c(170,"a",4),a(171,"Life Gauge page on the Zelda Wiki"),d(),a(172," for the "),c(173,"i"),a(174,"Breath of the Wild"),d(),a(175," game."),p(176,"br"),a(177,"\nI've simplified some requirements to keep the scope within a sensible limit."),p(178,"br"),a(179,"\nI've also provided more detail where needed by playing and observing the game."),p(180,"br"),c(181,"span",13),a(182,"With real-live gameplay-in-development scenario,"),p(183,"br"),a(184,"\nit's important to get the needed details of the requirements as early as possible,"),p(185,"br"),a(186,"\nideally before starting the code implementation."),d()(),c(187,"ul",14)(188,"li",15)(189,"b"),a(190,"Definition and Start State"),d()(),c(191,"li"),a(192,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(193,"li"),a(194,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(195,"li"),a(196,"The Life Gauge starts with 3 Hearts"),d(),p(197,"br"),c(198,"li",15)(199,"b"),a(200,"Taking Damage and Dying"),d()(),c(201,"li"),a(202,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),p(203,"br"),a(204," equal to the damage points taken (always losing at least 1 fraction)"),d(),c(205,"li"),a(206,"When Link loses all of his Hearts the game ends"),d(),c(207,"li"),a(208,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),p(209,"br"),a(210," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(211,"ul")(212,"li"),a(213,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),d()(),p(214,"br"),c(215,"li",15)(216,"b"),a(217,"Replenish and Increase"),d()(),c(218,"li"),a(219,"The Life Gauge can be replenished by consuming certain items"),d(),c(220,"li"),a(221,"The Life Gauge can be increased by 1 Heart at a time"),d(),c(222,"ul")(223,"li"),a(224,"Link's health will become full with the increase"),d()(),c(225,"li"),a(226,"The maximum of Hearts is 30"),d()(),c(227,"h3"),a(228,"Model / View mapping of "),c(229,"i"),a(230,"Life Gauge"),d(),a(231," - "),c(232,"i"),a(233,"SoC"),d()(),c(234,"table")(235,"tr")(236,"th")(237,"b"),a(238,"Domain Model"),d()(),c(239,"th")(240,"b"),a(241,"View / GUI"),d()()(),c(242,"tr")(243,"td",16),a(244," (Avatar) Health "),d(),c(245,"td",16),a(246," Life Gauge "),d()(),c(247,"tr")(248,"td",16)(249,"i"),a(250,"TBD later"),d()(),c(251,"td",16),a(252," Heart (holds 4 Fractions) "),d()(),c(253,"tr")(254,"td",16),a(255," Points "),d(),c(256,"td",16),a(257," Heart Fractions "),d()()(),c(258,"p"),a(259,"\nThis mapping is good to establish early:"),p(260,"br"),a(261,"\nHeart Container (with its Hearts and fractions)"),p(262,"br"),a(263,"\nis a specific view representation of the Avatar Health, the domain model."),p(264,"br"),a(265,"\nThis is a good start of a "),c(266,"i"),a(267,"Separation of Concerns (SoC)"),d(),a(268," which I'll plot further on below."),p(269,"br")(270,"br"),a(271,"\nI'll apply the approach in the "),c(272,"i"),a(273,"Boundary layers"),d(),a(274," section in "),c(275,"a",17),a(276,"Part 1"),d(),a(277,","),p(278,"br"),a(279,"\nmaking sure that the code dependency is minimal and one-way:\n"),d(),c(280,"ul",5)(281,"li"),a(282,"the view can depend in minimal way on the model, but not vice-versa"),d(),c(283,"li"),a(284,"all the domain logic should be in the model"),d(),c(285,"li"),a(286,"the view should be thin and humble"),d()(),c(287,"p"),a(288,"\nThus when future change requests on the GUI arrive (which is likely, in a real-life scenario),"),p(289,"br"),a(290,"\nit will be effortless to handle as:\n"),d(),c(291,"ul",5)(292,"li"),a(293,"The domain and its logic will be unaffected"),d(),c(294,"li"),a(295,"The model naming and terms will be unaffected"),d()(),c(296,"p"),a(297,"\nThis also makes it effortless to display simultaneously more than one GUI representations"),p(298,"br"),a(299,"\nof the same model (which is quite common in game UI).\n"),d()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate))},dependencies:[an],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}class UV{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new HV(t,this.resultSelector))}}class HV extends Me{constructor(t,e,i=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Xt(t)?e.push(new jV(t)):e.push("function"==typeof t[Pt]?new BV(t[Pt]()):new $V(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let i=0;i<e;i++){let r=t[i];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,i=this.destination;for(let o=0;o<e;o++){let l=t[o];if("function"==typeof l.hasValue&&!l.hasValue())return}let r=!1;const s=[];for(let o=0;o<e;o++){let l=t[o],u=l.next();if(l.hasCompleted()&&(r=!0),u.done)return void i.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):i.next(s),r&&i.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(i){return void this.destination.error(i)}this.destination.next(e)}}class BV{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class jV{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[Pt](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class $V extends bt{constructor(t,e,i){super(t),this.parent=e,this.observable=i,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[Pt](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return $t(this.observable,new tt(this))}}class GV extends ke{constructor(t,e){super()}schedule(t,e=0){return this}}class z1 extends GV{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(s){i=!0,r=!!s&&s||new Error(s)}if(i)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}let W1=(()=>{class n{constructor(e,i=n.now){this.SchedulerAction=e,this.now=i}schedule(e,i=0,r){return new this.SchedulerAction(this,e).schedule(r,i)}}return n.now=()=>Date.now(),n})();class Xi extends W1{constructor(t,e=W1.now){super(t,()=>Xi.delegate&&Xi.delegate!==this?Xi.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,i){return Xi.delegate&&Xi.delegate!==this?Xi.delegate.schedule(t,e,i):super.schedule(t,e,i)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let i;this.active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const ng=new class WV extends Xi{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let i,r=-1,s=e.length;t=t||e.shift();do{if(i=t.execute(t.state,t.delay))break}while(++r<s&&(t=e.shift()));if(this.active=!1,i){for(;++r<s&&(t=e.shift());)t.unsubscribe();throw i}}}(class zV extends z1{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,i=0){if(null!==i&&i>0||null===i&&this.delay>0)return super.recycleAsyncId(t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}),Ic=new U("HIGHLIGHT_OPTIONS");let qV=(()=>{class n{constructor(e,i,r){this.doc=e,this._options=r,this._ready=new Hn(null),this.ready=this._ready.asObservable().pipe(vn(s=>!!s),R(s=>s),Kr(1)),Aw(i)&&(e.defaultView.hljs?this._ready.next(e.defaultView.hljs):this._loadLibrary().pipe(Bn(s=>this._options&&this._options.lineNumbersLoader?(e.defaultView.hljs=s,this.loadLineNumbers().pipe(Je(()=>this._ready.next(s)))):(this._ready.next(s),gr)),br(s=>(console.error("[HLJS] ",s),gr))).subscribe(),this._options.themePath&&this.loadTheme(this._options.themePath))}_loadLibrary(){if(this._options){if(this._options.fullLibraryLoader&&this._options.coreLibraryLoader)return Si("The full library and the core library were imported, only one of them should be imported!");if(this._options.fullLibraryLoader&&this._options.languages)return Si("The highlighting languages were imported they are not needed!");if(this._options.coreLibraryLoader&&!this._options.languages)return Si("The highlighting languages were not imported!");if(!this._options.coreLibraryLoader&&this._options.languages)return Si("The core library was not imported!");if(this._options.fullLibraryLoader)return this.loadFullLibrary();if(this._options.coreLibraryLoader&&this._options.languages&&Object.keys(this._options.languages).length)return this.loadCoreLibrary().pipe(Bn(e=>this._loadLanguages(e)))}return Si("Highlight.js library was not imported!")}_loadLanguages(e){return function VV(...n){const t=n[n.length-1];return"function"==typeof t&&n.pop(),It(n,void 0).lift(new UV(t))}(...Object.entries(this._options.languages).map(([r,s])=>Sc(s()).pipe(Je(o=>e.registerLanguage(r,o))))).pipe(R(()=>e))}loadCoreLibrary(){return Sc(this._options.coreLibraryLoader())}loadFullLibrary(){return Sc(this._options.fullLibraryLoader())}loadLineNumbers(){return Sc(this._options.lineNumbersLoader())}setTheme(e){this._themeLinkElement.href=e}loadTheme(e){this._themeLinkElement=this.doc.createElement("link"),this._themeLinkElement.href=e,this._themeLinkElement.type="text/css",this._themeLinkElement.rel="stylesheet",this._themeLinkElement.media="screen,print",this.doc.head.appendChild(this._themeLinkElement)}}return n.\u0275fac=function(e){return new(e||n)(P(ct),P(aa),P(Ic,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Sc=n=>J(n).pipe(vn(t=>!!t&&!!t.default),R(t=>t.default));let KV=(()=>{class n{constructor(e,i){this._loader=e,this._hljs=null,e.ready.subscribe(r=>{this._hljs=r,i&&i.config&&(r.configure(i.config),r.listLanguages().length<1&&console.error("[HighlightJS]: No languages were registered!"))})}get hljs(){return this._hljs}highlight(e,{language:i,ignoreIllegals:r}){return this._loader.ready.pipe(R(s=>s.highlight(e,{language:i,ignoreIllegals:r})))}highlightAuto(e,i){return this._loader.ready.pipe(R(r=>r.highlightAuto(e,i)))}highlightElement(e){return this._loader.ready.pipe(R(i=>i.highlightElement(e)))}highlightAll(){return this._loader.ready.pipe(R(e=>e.highlightAll()))}configure(e){return this._loader.ready.pipe(R(i=>i.configure(e)))}registerLanguage(e,i){return this._loader.ready.pipe(Je(r=>r.registerLanguage(e,i)))}unregisterLanguage(e){return this._loader.ready.pipe(Je(i=>i.unregisterLanguage(e)))}registerAliases(e,{languageName:i}){return this._loader.ready.pipe(Je(r=>r.registerAliases(e,{languageName:i})))}listLanguages(){return this._loader.ready.pipe(R(e=>e.listLanguages()))}getLanguage(e){return this._loader.ready.pipe(R(i=>i.getLanguage(e)))}safeMode(){return this._loader.ready.pipe(R(e=>e.safeMode()))}debugMode(){return this._loader.ready.pipe(R(e=>e.debugMode()))}lineNumbersBlock(e){return this._loader.ready.pipe(vn(i=>!!i.lineNumbersBlock),Je(i=>i.lineNumbersBlock(e)))}}return n.\u0275fac=function(e){return new(e||n)(P(qV),P(Ic,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),so=(()=>{class n{constructor(e,i,r,s){this._hljs=i,this._sanitizer=r,this._options=s,this.highlighted=new Le,this._nativeElement=e.nativeElement}ngOnChanges(e){this.code&&e?.code?.currentValue&&e.code.currentValue!==e.code.previousValue&&this.highlightElement(this.code,this.languages)}highlightElement(e,i){this.setTextContent(e),this._hljs.highlightAuto(e,i).subscribe(r=>{this.setInnerHTML(r.value||null),this.lineNumbers&&this._options&&this._options.lineNumbersLoader&&this.addLineNumbers(),this.highlighted.emit(r)})}addLineNumbers(){this.destroyLineNumbersObserver(),ng.schedule(()=>{this._hljs.lineNumbersBlock(this._nativeElement).subscribe(),this._lineNumbersObs=new MutationObserver(()=>{this._nativeElement.firstElementChild&&"TABLE"===this._nativeElement.firstElementChild.tagName.toUpperCase()&&this._nativeElement.classList.add("hljs-line-numbers"),this.destroyLineNumbersObserver()}),this._lineNumbersObs.observe(this._nativeElement,{childList:!0})})}destroyLineNumbersObserver(){this._lineNumbersObs&&(this._lineNumbersObs.disconnect(),this._lineNumbersObs=null)}setTextContent(e){ng.schedule(()=>this._nativeElement.textContent=e)}setInnerHTML(e){ng.schedule(()=>this._nativeElement.innerHTML=this._sanitizer.sanitize(We.HTML,e)||"")}}return n.\u0275fac=function(e){return new(e||n)(C(_t),C(KV),C(tC),C(Ic,8))},n.\u0275dir=ie({type:n,selectors:[["","highlight",""]],hostVars:2,hostBindings:function(e,i){2&e&&Un("hljs",!0)},inputs:{code:["highlight","code"],languages:"languages",lineNumbers:"lineNumbers"},outputs:{highlighted:"highlighted"},features:[Dn]}),n})(),YV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({}),n})();function ZV(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class Za extends ti{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\nusing NUnit.Framework;\n\npublic class HealthTest\n{\n\tpublic class Constructor\n\t{\n\t\t[Test]\n\t\tpublic void Points_HasStartingValue()\n\t\t{\n\t\t\tvar health = new Health();\n\t\t\tAssert.That(health.Points, Is.EqualTo(12));\n\t\t}\n\t}\n}\n",this.test_1_Red2="// Health.cs\npublic class Health\n{\n\tpublic int Points;\n}\n",this.impl_1_Green="// Health.cs\npublic class Health\n{\n\tpublic int Points = 12;\n}\n",this.test_1_refactor="// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void CurrentPoints_HasStartingValue()\n{\n\tint startingPoints = 12;\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_1_refactor="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic Health(int startingPoints)\n{\n\tCurrentPoints = startingPoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested Constructor class.\n[Test]\npublic void ThrowsError_WhenStartingPointsIsInvalid()\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(0);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='//Health.cs\npublic int CurrentPoints { get;  private set; }\n\npublic Health(int startingPoints)\n{\n\tif (startingPoints < 1)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), "Invalid value");\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.impl_2_Refactor='//Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n',this.test_3_Green='// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingPoints));\n}\n\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenStartingPointsIsInvalid(int startingPoints)\n{\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\tnew Health(startingPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(Za)))(i||Za)}}();static#t=this.\u0275cmp=lt({type:Za,selectors:[["app-post-tdd-3"]],features:[we],decls:458,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],["href","https://nunit.org"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/index.html"],[1,"list","inline"],["href","https://docs.unity3d.com/Packages/com.unity.test-framework@1.1/manual/edit-mode-vs-play-mode-tests.html"],[1,"redFail"],[3,"highlight"],["href","./blog/tdd-health/part1"],["href","https://daedtech.com/tdd-and-modeling-a-chess-game/"],["href","https://haacked.com/archive/2012/01/02/structuring-unit-tests.aspx/"],["href","https://docs.nunit.org/articles/nunit/writing-tests/assertions/assertions.html#two-models"],["src","../assets/images/blog/tdd/TestRunner_first-test-fails.PNG","alt","Unity Test Runner: first test fail (the nested class displays nicely)","title","Unity Test Runner: first test fail (the nested class displays nicely)",1,"imageSmallText"],[1,"greenPass"],[1,"greenRefactor"],[1,"outOfScope"],[1,"code"],["href","https://medium.com/swlh/the-importance-of-code-encapsulation-ce19efbcfe57"],["href","https://github.com/EgillAntonsson/tdd-avatar-health-in-unity"],["href","https://docs.nunit.org/articles/nunit/technical-notes/usage/Parameterized-Tests.html"],["href","https://docs.nunit.org/articles/nunit/writing-tests/attributes/testcase.html"],["src","../assets/images/blog/tdd/TestRunner_tests-using-TestCase.PNG","alt","Unity Test Runner: tests using TestCase attribute","title","Unity Test Runner: tests using TestCase attribute",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,ZV,2,1,"small",1),d(),c(11,"h2"),a(12,"Setting up Unity"),d(),c(13,"p"),a(14," I create a new Unity (3D) project and keep the default config,"),p(15,"br"),a(16," except that I update "),c(17,"i"),a(18,"Test Framework"),d(),a(19," package to latest version (currently 1.1.31),"),p(20,"br"),a(21," it uses a Unity integration of "),c(22,"a",2),a(23,"NUnit"),d(),a(24," library."),p(25,"br"),a(26," The "),c(27,"i"),a(28,"Test Framework "),d(),c(29,"a",3),a(30,"docs"),d(),a(31," details how to setup tests for a project."),p(32,"br")(33,"br"),a(34," My project structure starts very simple:\n"),d(),c(35,"ul",4)(36,"li"),a(37,"The test code is in: "),c(38,"i"),a(39,"Scripts/Tests/EditMode/[ClassName]Test.cs"),d()(),c(40,"li"),a(41,"The production code is in: "),c(42,"i"),a(43,"Scripts/Runtime/[ClassName].cs"),d()()(),c(44,"p"),a(45," As the folder structure implies,"),p(46,"br"),a(47," I'm doing "),c(48,"i"),a(49,"EditMode"),d(),a(50," tests for the production "),c(51,"i"),a(52,"Runtime"),d(),a(53," code."),p(54,"br"),c(55,"i"),a(56,"EditMode"),d(),a(57," test have access to both: "),d(),c(58,"ul",4)(59,"li"),a(60,"the "),c(61,"i"),a(62,"Editor"),d(),a(63," code (only about extending the Unity editor)"),d(),c(64,"li"),a(65,"the "),c(66,"i"),a(67,"Runtime"),d(),a(68," code (of the targeted platform, e.g iOS)."),d()(),c(69,"p"),a(70," My main reason to prefer "),c(71,"i"),a(72,"EditMode"),d(),a(73," tests for "),c(74,"i"),a(75,"Runtime"),d(),a(76," code"),p(77,"br"),a(78," is that they run faster (Player startup and run in editor not done)."),p(79,"br"),a(80," Also the domain logic should not need the "),c(81,"i"),a(82,"PlayMode"),d(),a(83," tests features"),p(84,"br"),a(85," (tests don't need to run as Unity "),c(86,"i"),a(87,"Coroutine"),d(),a(88," to 'step' through the code)."),p(89,"br"),a(90," The doc page "),c(91,"a",5),a(92,"EditMode vs. PlayMode tests"),d(),a(93," explains the difference further. "),d(),c(94,"h2"),a(95,"The requirements for "),c(96,"i"),a(97,"definition and start state"),d()(),c(98,"p"),a(99," Let's recap these requirements from the user perspective:\n"),d(),c(100,"ul",4)(101,"li"),a(102,"The Life Gauge measures Link's (the avatar) current amount of health"),d(),c(103,"li"),a(104,"Health is visually represented in the form of Hearts, and they are in fractions of 4"),d(),c(105,"li"),a(106,"The Life Gauge starts with 3 Hearts"),d()(),c(107,"p"),a(108," Let's filter and transform this into a requirement that's focused only on the domain"),p(109,"br"),a(110," (as GUI will be done later):\n"),d(),c(111,"ul",4)(112,"li"),a(113,"Avatar Health starts with 12 Health Points"),p(114,"br"),a(115," (equals to visual representation of 3 Hearts * 4 Fractions)"),d()(),c(116,"h2"),a(117,"Health Points starting value"),d(),c(118,"h3")(119,"span",6),a(120,"RED (does not compile)"),d()(),c(121,"p"),a(122," The domain model focus will be the "),c(123,"code"),a(124,"Health"),d(),a(125," class (not created yet),"),p(126,"br"),a(127," Thus I create test file "),c(128,"code"),a(129,"HealthTest.cs"),d(),a(130," and write the first test,"),p(131,"br"),a(132," that fails as the code does not compile.\n"),d(),c(133,"pre"),p(134,"code",7),d(),c(135,"h3"),a(136,"Test code naming / structure convention"),d(),c(137,"p"),a(138," I use and name nested class after the "),c(139,"i"),a(140,"entry point"),d(),a(141," of the test"),p(142,"br"),a(143," ("),c(144,"i"),a(145,"entry point"),d(),a(146," is defined in "),c(147,"i"),a(148,"What is a good Unit Test section"),d(),a(149," in "),c(150,"a",8),a(151,"Part 1"),d(),a(152,"),"),p(153,"br"),a(154," which in this particular case is named "),c(155,"code"),a(156,"Constructor"),d(),a(157,"."),p(158,"br"),a(159," I got the idea from Erik Dietrich via "),c(160,"a",9),a(161,"TDD and modeling a chess game"),d(),p(162,"br"),a(163," that references Phil Haack via "),c(164,"a",10),a(165,"Structuring Unit Tests"),d(),p(166,"br")(167,"br"),a(168," I'm using the "),c(169,"a",11),a(170,"Constraint Model of Assertions."),d(),a(171,".\n"),d(),c(172,"h3")(173,"span",6),a(174,"RED (test fails)"),d()(),c(175,"p"),a(176," I want to run the test and see it fail."),p(177,"br"),a(178," This is done to verify that the test is not passing when it should not"),p(179,"br"),a(180," (provides more value for more complex scenario)."),p(181,"br"),a(182," Thus I write the needed production code for the compiler to compile successfully,"),p(183,"br"),a(184," then run the tests via Unity Test Runner (menu item "),c(185,"i"),a(186,"Window > General > Test Runner"),d(),a(187,")."),p(188,"br"),d(),c(189,"pre"),p(190,"code",7),d(),c(191,"figure"),p(192,"img",12),c(193,"figcaption"),a(194," Unity Test Runner: first test fail (the nested class displays nicely) "),d()(),c(195,"p"),a(196," Going forward I will skip demonstrating both steps"),p(197,"br"),a(198," 'does not compile' and 'test fails' (although I do them both when coding),"),p(199,"br"),a(200," thus demonstrating only one "),c(201,"span",6),a(202,"RED"),d(),a(203," step.\n"),d(),c(204,"h3")(205,"span",13),a(206,"GREEN"),d()(),c(207,"p"),a(208,"Let's make the test pass with a very simple implementation.\n"),d(),c(209,"pre"),p(210,"code",7),d(),c(211,"h3")(212,"span",14),a(213,"REFACTOR"),d()(),c(214,"p"),a(215,"Now it comes to mind that from a game design perspective"),p(216,"br"),a(217," it's good to be able to tweak the starting points for game balancing,"),p(218,"br"),a(219," thus I refactor the value to be passed as parameter into the constructor."),p(220,"br"),c(221,"span",15),a(222,"An advanced system would have an accessible"),p(223,"br"),a(224," game balancing config that the code would read the values"),p(225,"br"),a(226," and then pass them into the "),c(227,"span",16),a(228,"Health"),d(),a(229," constructor."),d(),p(230,"br")(231,"br"),a(232," I name the passed in parameter "),c(233,"span",16),a(234,"startingPoints"),d(),a(235,"."),p(236,"br"),a(237," I also rename the property to "),c(238,"span",16),a(239,"CurrentPoints"),d(),a(240," (and thus the test case) to further clarify the logic:"),p(241,"br"),c(242,"i"),a(243,"starting points is passed into the constructor which sets the current points."),d(),p(244,"br"),d(),c(245,"pre"),p(246,"code",7),d(),c(247,"p"),a(248," I also encapsulate "),c(249,"span",16),a(250,"CurrentPoints"),d(),a(251," into a 'getter, private setter'."),p(252,"br"),a(253," In general I want to "),c(254,"a",17),a(255,"encapsulate"),d(),a(256," the production code as much as possible."),p(257,"br"),a(258," The only exposed interface should come from"),p(259,"br"),a(260," the requirements that the TDD cycles will drive,"),p(261,"br"),a(262," and if the tests need additional exposure no top of that"),p(263,"br"),a(264," (should be kept to a minimum).\n"),d(),c(265,"pre"),p(266,"code",7),d(),c(267,"p"),a(268," From now on the code will mostly be presented as a part of the class,"),p(269,"br"),a(270," focused on the current TDD cycle."),p(271,"br"),a(272," The code in its entirety and the Unity project is on "),c(273,"a",18),a(274,"GitHub"),d(),a(275,".\n"),d(),c(276,"h2"),a(277,"Handle invalid "),c(278,"span",16),a(279,"StartingPoints"),d(),a(280," values"),d(),c(281,"p"),a(282," Now it comes to mind that invalid values can be passed in,"),p(283,"br"),a(284," as our avatar should never start with less than 1 points"),p(285,"br"),a(286," (because otherwise Link would start up being dead :P )."),p(287,"br"),a(288," Thus I'll throw an exception when the value is invalid."),p(289,"br"),c(290,"span",15),a(291,"Invalid values should also be handled where they are defined,"),p(292,"br"),a(293," in the previously mentioned game balancing config."),d()(),c(294,"h3")(295,"span",6),a(296,"RED"),d()(),c(297,"pre"),p(298,"code",7),d(),c(299,"p"),a(300," I deem I can use existing "),c(301,"span",16),a(302,"ArgumentOutOfRangeException"),d(),a(303," from "),c(304,"span",16),a(305,"System"),d(),p(306,"br"),a(307," if I include an informative message for my case."),p(308,"br"),a(309,' I assert that the message contains "invalid",'),p(310,"br"),a(311," intentionally not being more specific"),p(312,"br"),a(313," so the assert does not fail later because of potential rewording."),p(314,"br")(315,"br"),a(316," I chose the value "),c(317,"code"),a(318,"0"),d(),a(319," as it's on the edge of invalidation (as "),c(320,"code"),a(321,"1"),d(),a(322," is valid)."),p(323,"br"),d(),c(324,"h3"),a(325,"Test code naming / structure convention"),d(),c(326,"p"),a(327," Elaborating further, I use my template:"),p(328,"br")(329,"br"),a(330," ["),c(331,"i"),a(332,"exit point"),d(),a(333,"]_[will be in state]"),p(334,"br"),a(335," or"),p(336,"br"),a(337," ["),c(338,"i"),a(339,"exit point"),d(),a(340,"]_When[Scenario]"),p(341,"br"),a(342," or"),p(343,"br"),a(344," [expected behavior of "),c(345,"i"),a(346,"Unit of Work"),d(),a(347,"]_When[Scenario]"),p(348,"br")(349,"br"),a(350," _When is used for other scenarios than the 'happy path' / basic one."),p(351,"br"),a(352," ("),c(353,"i"),a(354,"exit point"),d(),a(355," is defined in "),c(356,"i"),a(357,"What is a good Unit Test section"),d(),a(358," in "),c(359,"a",8),a(360,"Part 1"),d(),a(361,"),"),p(362,"br")(363,"br"),a(364," Thus these two test cases are named accordingly:"),p(365,"br"),c(366,"code"),a(367,"CurrentPoints_HasStartingValue"),d(),p(368,"br"),c(369,"code"),a(370,"ThrowsError_WhenStartingPointsIsInvalid"),d()(),c(371,"h3")(372,"span",13),a(373,"GREEN"),d()(),c(374,"pre"),p(375,"code",7),d(),c(376,"p"),a(377," I'm confident that the implementation of the conditional"),p(378,"br"),a(379," is the proper generic solution for this requirement."),p(380,"br"),a(381," However I just did the bare minimum for the exception message,"),p(382,"br"),a(383," and I will refactor it in the next step."),p(384,"br"),d(),c(385,"h3")(386,"span",14),a(387,"REFACTOR"),d()(),c(388,"pre"),p(389,"code",7),d(),c(390,"p"),a(391," I define "),c(392,"code"),a(393,"lowestValidValue"),d(),a(394," and use it both in the condition and the message."),p(395,"br"),a(396," This both makes the exception message more readable"),p(397,"br"),a(398," and makes sure the conditional and message will always be in-sync."),p(399,"br"),a(400," I get the name of the sent in parameter with "),c(401,"code"),a(402,"nameof(startingPoints)"),d(),a(403,"."),p(404,"br")(405,"br"),a(406," I check the message in TestRunner by temporarily commenting out"),p(407,"br"),a(408," all lines in the test except the constructor invocation."),p(409,"br"),a(410," The message displays when value "),c(411,"code"),a(412,"0"),d(),a(413," was passed in:"),p(414,"br"),c(415,"code"),a(416,"System.ArgumentOutOfRangeException : Value '0' is invalid, it should be equal or higher than '1'"),p(417,"br"),a(418," Parameter name: startingPoints"),d(),p(419,"br")(420,"br"),a(421," That's reads pretty clear to me.\n"),d(),c(422,"h2"),a(423,"Let's test a few more values"),d(),c(424,"p"),a(425,"I'm confident that the implementation of the requirement"),p(426,"br"),a(427," will work for any passed-in parameter value."),p(428,"br"),a(429," But I'll test a few more values to verify it,"),p(430,"br"),a(431," and to demonstrate how to do it in a clean and maintainable way.\n"),d(),c(432,"h3")(433,"span",14),a(434,"REFACTOR"),d()(),c(435,"p"),a(436,"Refactoring the tests to add test cases"),p(437,"br"),a(438," where the value is close to the valid or invalid edge,"),p(439,"br"),a(440," using "),c(441,"a",19),a(442,"Parameterized Tests"),d(),a(443," with inline "),c(444,"a",20),a(445,"TestCase"),d(),a(446," attribute.\n"),d(),c(447,"pre"),p(448,"code",7),d(),c(449,"p"),a(450," This runs in total 4 test cases and Unity Test Runner looks like this:\n"),d(),c(451,"figure"),p(452,"img",21),c(453,"figcaption"),a(454," Unity Test Runner: tests using "),c(455,"i"),a(456,"TestCase"),d(),a(457," attribute "),d()()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate),v(124),E("highlight",i.test_1_Red),v(56),E("highlight",i.test_1_Red2),v(20),E("highlight",i.impl_1_Green),v(36),E("highlight",i.test_1_refactor),v(20),E("highlight",i.impl_1_refactor),v(32),E("highlight",i.test_2_Red),v(77),E("highlight",i.impl_2_Green),v(14),E("highlight",i.impl_2_Refactor),v(59),E("highlight",i.test_3_Green))},dependencies:[an,so],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function QV(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class Qa extends ti{constructor(){super(...arguments),this.test_1_Red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void CurrentPoints_Decrease()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.impl_1_Green="// Health.cs\npublic int CurrentPoints { get; private set; }\n\npublic void TakeDamage(int damagePoints)\n{\n\tCurrentPoints -= damagePoints;\n}\n",this.test_2_Red='// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenDamagePointsIsInvalid(int damagePoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.TakeDamage(damagePoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.impl_2_Green='// Health.cs\npublic Health(int startingPoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (startingPoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {startingPoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(startingPoints), message);\n\t}\n\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tconst int lowestValidValue = 1;\n\tif (damagePoints < lowestValidValue)\n\t{\n\t\tvar message = $"Value {damagePoints} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(damagePoints), message);\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n',this.impl_2_Refactor='// Health.cs\npublic Health(int startingPoints)\n{\n\tValidatePoints(startingPoints, 1);\n\tCurrentPoints = startingPoints;\n}\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1);\n\tCurrentPoints -= damagePoints;\n}\n\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\tif (points < lowestValidValue)\n\t{\n\t\tvar message = $"Value {points} is invalid, it should be equal or higher than {lowestValidValue}";\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), message);\n\t}\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(Qa)))(i||Qa)}}();static#t=this.\u0275cmp=lt({type:Qa,selectors:[["app-post-tdd-4"]],features:[we],decls:232,vars:12,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],["href","./blog/tdd-health/part3"],[3,"highlight"],[1,"greenPass"],[1,"greenRefactor"],["href","https://www.jetbrains.com/resharper/"],["href","https://www.jetbrains.com/help/resharper/2022.1/MemberCanBeMadeStatic.Local.html"],["src","../assets/images/blog/tdd/TestRunner_after-refactoring-ThrowsError-impl.PNG","alt","Unity Test Runner: after refactoring 'ThrowsError' implementation","title","Unity Test Runner: after refactoring 'ThrowsError' implementation",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,QV,2,1,"small",1),d(),c(11,"h2"),a(12,"The first Taking Damage requirement"),d(),c(13,"p"),a(14," Let's recap the first requirement under "),c(15,"i"),a(16,"Taking Damage and Dying"),d(),a(17," from the user perspective:\n"),d(),c(18,"ul",2)(19,"li"),a(20,"Whenever Link takes damage he will lose a certain amount of Heart fractions"),p(21,"br"),a(22," equal to the damage points taken (always losing at least 1 fraction)"),d()(),p(23,"div",3),c(24,"p"),a(25),d(),c(26,"ul",2)(27,"li"),a(28,"Avatar will lose Health "),c(29,"code"),a(30,"CurrentPoints"),d(),a(31," equal to Damage Points taken (always losing at last 1 Health Point)"),d()(),p(32,"div",3),c(33,"h2"),a(34,"Take Damage cycling"),d(),c(35,"h3")(36,"span",4),a(37,"RED"),d()(),c(38,"p"),a(39," I start by writing the test."),p(40,"br"),a(41," The entry point will be a new method named "),c(42,"code"),a(43,"TakeDamage"),d(),a(44,","),p(45,"br"),a(46," thus I write a nested class with same name,"),p(47,"br"),a(48," and within it I write the test case "),c(49,"code"),a(50,"CurrentPointsDecrease"),d(),p(51,"br"),a(52," (according to my naming convention, explained in "),c(53,"a",5),a(54,"Part 3"),d(),a(55,")."),p(56,"br"),d(),c(57,"pre"),p(58,"code",6),d(),c(59,"p"),a(60," The test fails as the "),c(61,"code"),a(62,"TakeDamage"),d(),a(63," method is not defined.\n"),d(),c(64,"h3")(65,"span",7),a(66,"GREEN"),d()(),c(67,"pre"),p(68,"code",6),d(),c(69,"p"),a(70," I'm confident that this effortless implementation"),p(71,"br"),a(72," fulfills the requirement for all valid inputs."),p(73,"br"),a(74," It's clean and thus does not need a "),c(75,"span",8),a(76,"REFACTOR"),d(),a(77," step."),p(78,"br"),a(79," But invalid values can be passed in, so I'll do a cycle for handling those.\n"),d(),c(80,"h2"),a(81,"Handle invalid input values"),d(),c(82,"h3")(83,"span",4),a(84,"RED"),d()(),c(85,"p"),a(86," A minus value for "),c(87,"code"),a(88,"damagePoints"),d(),a(89," is clearly invalid but what about "),c(90,"code"),a(91,"0"),d(),a(92," ?"),p(93,"br"),a(94," I conclude that "),c(95,"code"),a(96,"0"),d(),a(97," is also invalid,"),p(98,"br"),a(99," as an outside 'damage calculator' logic should take care of this earlier"),p(100,"br"),a(101," (thus "),c(102,"code"),a(103,"TakeDamage won't be invoked)"),d(),a(104,"."),p(105,"br"),a(106," This also makes the design streamlined as it ensures that"),p(107,"br"),c(108,"code"),a(109,"CurrentPoints"),d(),a(110," will always decrease on "),c(111,"code"),a(112,"TakeDamage"),d(),a(113," call."),p(114,"br")(115,"br"),a(116," This will be a similar test as the existing "),c(117,"code"),a(118,"ThrowsError_WhenStartingPointsIsInvalid"),d(),p(119,"br"),a(120," but now the "),c(121,"i"),a(122,"entry point"),d(),a(123," is method "),c(124,"code"),a(125,"TakeDamage"),d(),a(126,","),p(127,"br"),a(128," and thus it will be inside the nested class "),c(129,"code"),a(130,"TakeDamage."),d()(),c(131,"pre"),p(132,"code",6),d(),c(133,"p"),a(134," The value I pass into the constructor has no significance to this test,"),p(135,"br"),a(136," and thus is not a "),c(137,"i"),a(138,"TestCase"),d(),a(139," parameter.\n"),d(),c(140,"h3")(141,"span",7),a(142,"GREEN"),d()(),c(143,"p"),a(144,"I make the test pass by"),p(145,"br"),a(146," duplicating the exception throwing code from the constructor,"),p(147,"br"),a(148," and then renaming the parameter to "),c(149,"code"),a(150,"damagePoints"),d(),p(151,"br"),a(152," (knowing that I'll refactor this code smell right away in the next step).\n"),d(),c(153,"pre"),p(154,"code",6),d(),p(155,"br"),c(156,"h3")(157,"span",8),a(158,"REFACTOR"),d()(),c(159,"p"),a(160," I refactor the duplicated code smell away."),p(161,"br"),d(),c(162,"pre"),p(163,"code",6),d(),c(164,"p"),a(165," When exception is thrown,"),p(166,"br"),a(167," the message is followed by the stack trace in the console,"),p(168,"br"),a(169," and therefore it is sufficient that the param name will simply be "),c(170,"i"),a(171,"points"),d(),p(172,"br"),a(173," as you can follow the trace to see which method called "),c(174,"code"),a(175,"ValidatePoints"),d(),a(176,"."),p(177,"br")(178,"br"),a(179," Having "),c(180,"code"),a(181,"lowestValidValue"),d(),a(182," as sent in parameter for method "),c(183,"code"),a(184,"ValidatePoints"),d(),p(185,"br"),a(186," makes the method easy to reuse,"),p(187,"br"),a(188," if another case comes later with different "),c(189,"code"),a(190,"lowestValidValue"),d(),a(191,"."),p(192,"br")(193,"br"),c(194,"a",9),a(195,"ReSharper"),d(),a(196," hints that "),c(197,"code"),a(198,"ValidatePoints"),d(),a(199," method can be made "),c(200,"code"),a(201,"static"),d(),a(202,","),p(203,"br"),a(204," and I agree, as it doesn't hinder testability nor design (it's "),c(205,"code"),a(206,"private"),d(),a(207,")."),p(208,"br"),a(209," Making it "),c(210,"code"),a(211,"static "),d(),c(212,"a",10),a(213,"can yield a small performance benefit"),d(),a(214,"."),p(215,"br")(216,"br"),a(217," I ignore ReSharper's hint to 'invert "),c(218,"code"),a(219,"if"),d(),a(220," statement' as the current format"),p(221,"br"),a(222," is more readable IMO and the nested braces are only one-level deep."),p(223,"br")(224,"br"),a(225," I run all the tests (and also did as needed while refactoring) to verify everything works."),p(226,"br"),a(227," Now the Test Runner looks like this:\n"),d(),c(228,"figure"),p(229,"img",11),c(230,"figcaption"),a(231," Unity Test Runner: after refactoring 'ThrowsError' implementation "),d()()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate),v(13),E("innerHTML",i.completeRequirementListHtml,Yn),v(2),Pe(" ",i.rewordRequirement,"\n"),v(7),E("innerHTML",i.aboutCodeHtml,Yn),v(26),E("highlight",i.test_1_Red),v(10),E("highlight",i.impl_1_Green),v(64),E("highlight",i.test_2_Red),v(22),E("highlight",i.impl_2_Green),v(9),E("highlight",i.impl_2_Refactor))},dependencies:[an,so],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function JV(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class Ja extends ti{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Constructor\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = new Health(12);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.impl_1_green="// Health.cs\npublic bool IsDead => false;\n",this.test_2_red="// HealthTest.cs\n// inside nested class TakeDamage\n[Test]\npublic void IsDead_AfterTwoInvocations()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(11);\n\tAssert.That(health.IsDead, Is.False);\n\n\thealth.TakeDamage(1);\n\tAssert.That(health.IsDead, Is.True);\n}\n",this.impl_2_green="// Health.cs\npublic bool IsDead => CurrentPoints < 1;\n",this.test_3_red="// HealthTest.cs\n// inside nested class Constructor\n[TestCase(12)]\n[TestCase(1)]\npublic void FullPoints_HasStartingValue(int startingPoints)\n{\n\tvar health = new Health(startingPoints);\n\tAssert.That(health.FullPoints, Is.EqualTo(startingPoints));\n}\n",this.impl_3_green="// Health.cs\npublic class Health\n{\n\tpublic int CurrentPoints { get; private set; }\n\tpublic int FullPoints { get; private set; }\n\n\tpublic Health(int startingPoints)\n\t{\n\t\tValidatePoints(startingPoints, 1); // method not shown\n\t\tFullPoints = CurrentPoints = startingPoints;\n\t}\n}\n",this.test_4_red="// HealthTest.cs\n// inside nested class TakeDamage\n[TestCase(1, 4, 4)]\n[TestCase(1, 4, 5)]\n[TestCase(1, 4, 24)]\n[TestCase(-21, 4, 25)]\npublic void CurrentPoints_WhenStartingPoints_ThenDamagePoints(\n\tint currentPoints,\n\tint startingPoints,\n\tint damagePoints)\n{\n\tvar health = new Health(startingPoints);\n\thealth.TakeDamage(damagePoints);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(currentPoints));\n}\n",this.impl_4_green="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints < FullPoints\n\t\t|| CurrentPoints > damagePoints\n\t\t|| damagePoints > CurrentPoints + 20)\n\t{\n\t\tCurrentPoints -= damagePoints;\n\t}\n\telse\n\t{\n\t\tCurrentPoints = 1;\n\t}\n}\n",this.impl_4_refactor="// Health.cs\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints + 20)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n",this.impl_4_refactor_2="// Health.cs\npublic const int MaxNegativePointsForInstantKillProtection = -20;\n\npublic void TakeDamage(int damagePoints)\n{\n\tValidatePoints(damagePoints, 1); //method not shown\n\n\tif (CurrentPoints == FullPoints\n\t\t&& damagePoints >= FullPoints\n\t\t&& damagePoints <= FullPoints - MaxNegativePointsForInstantKillProtection)\n\t{\n\t\tCurrentPoints = 1;\n\t\treturn;\n\t}\n\n\tCurrentPoints -= damagePoints;\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(Ja)))(i||Ja)}}();static#t=this.\u0275cmp=lt({type:Ja,selectors:[["app-post-tdd-5"]],features:[we],decls:338,vars:17,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["href","./blog/tdd-health/part1"],[1,"list","inline"],[1,"greenRefactor"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,JV,2,1,"small",1),d(),c(11,"h2"),a(12,"The Dying requirements"),d(),c(13,"p"),a(14," Let's recap the rest of the "),c(15,"i"),a(16,"Taking Damage and Dying"),d(),a(17," requirements from the user perspective:\n"),d(),c(18,"ul",2)(19,"li"),a(20,"When Link loses all of his Hearts the game ends"),d(),c(21,"li"),a(22,"Link is protected from any damage that would instantly kill him as long as his Life Gauge is full"),p(23,"br"),a(24," and will instead be left alive with Hearth 1 fraction remaining"),d(),c(25,"ul")(26,"li"),a(27,"However, if the damage is more than 5 Hearts in addition to his full Life Gauge, he will still die"),d()()(),p(28,"div",3),c(29,"p"),a(30),d(),c(31,"ul",2)(32,"li"),a(33,"When Avatar loses all of his Health Points he dies (and game ends)"),d(),c(34,"li"),a(35,"The Avatar is protected from any damage that would instantly kill him as long as his Health Points are full"),p(36,"br"),a(37," and will instead be left alive with 1 Health Points remaining"),d(),c(38,"ul")(39,"li"),a(40,"However, if the damage is more than 20 points in addition to his full Health Points, he will still die"),d()()(),p(41,"div",3),c(42,"h2"),a(43,"Death cycling"),d(),c(44,"p"),a(45," I start cycling the first dying requirement."),p(46,"br"),a(47," The domain model focus will be a new property named "),c(48,"code"),a(49,"IsDead"),d(),a(50,".\n"),d(),c(51,"h3")(52,"span",4),a(53,"RED"),d()(),c(54,"p"),a(55," I write a new test case and it fails as "),c(56,"code"),a(57,"IsDead"),d(),a(58," is not defined.\n"),d(),c(59,"pre"),p(60,"code",5),d(),c(61,"h3")(62,"span",6),a(63,"GREEN"),d()(),c(64,"p"),a(65," I make "),c(66,"code"),a(67,"IsDead"),d(),a(68," simply return "),c(69,"code"),a(70,"false"),d(),a(71," to pass the test.\n"),d(),c(72,"pre"),p(73,"code",5),d(),c(74,"p"),a(75," I encapsulated the property into a 'getter' via "),c(76,"a",7),a(77,"Expression-Bodied Members syntax"),d(),a(78,"."),p(79,"br")(80,"br"),a(81," I know that simply returning "),c(82,"code"),a(83,"false"),d(),a(84," for "),c(85,"code"),a(86,"IsDead"),d(),a(87," will not hold as the generic solution that satisfies all cases,"),p(88,"br"),a(89," thus I'll now do a new cycle to achieve that."),p(90,"br"),d(),c(91,"h3")(92,"span",4),a(93,"RED"),d()(),c(94,"p"),a(95," Still Focusing on the first dying requirement, but also having the 'protected from instant kill' case in mind,"),p(96,"br"),a(97," I write a new test case that reduces the "),c(98,"code"),a(99,"CurrentPoints"),d(),a(100," to "),c(101,"code"),a(102,"0"),d(),a(103," after two "),c(104,"code"),a(105,"TakeDamage"),d(),a(106," invocations,"),p(107,"br"),a(108," as I know that that case should always kill the Avatar."),p(109,"br"),d(),c(110,"pre"),p(111,"code",5),d(),c(112,"p"),a(113," The "),c(114,"code"),a(115,"_After"),d(),a(116," in the name suits well for this scenario (better than "),c(117,"code"),a(118,"_When"),d(),a(119,")."),p(120,"br"),a(121," The test still checks only one exit point, although it asserts it twice."),p(122,"br"),a(123," As the test is readable, focused and meaningful,"),p(124,"br"),a(125," I'm still in line IMO with "),c(126,"i"),a(127,"What is a good Unit Test"),d(),a(128," section in "),c(129,"a",8),a(130,"Part 1"),d(),a(131,")."),p(132,"br")(133,"br"),a(134," The test fails as currently the Avatar is immortal!"),p(135,"br"),a(136," Of course that's no good, so let's fix that and make the test pass.\n"),d(),c(137,"h3")(138,"span",6),a(139,"GREEN"),d()(),c(140,"p"),a(141," I change the implementation of the "),c(142,"code"),a(143,"IsDead"),d(),a(144," property that makes the test (and the previous test) pass."),p(145,"br"),d(),c(146,"pre"),p(147,"code",5),d(),c(148,"p"),a(149," I'm confident that now I have the generic solution for this property,"),p(150,"br"),a(151," Thus I'll start a new cycle for the next requirement.\n"),d(),c(152,"h2"),a(153,"Protected from instant kill"),d(),c(154,"p"),a(155," Now focusing on the latter requirement (listed at start of this post),"),p(156,"br"),a(157," I now take further note of the concept 'full Health Points' in the requirement,"),p(158,"br"),a(159," and realize it is a definition with it's own simple requirement"),p(160,"br"),a(161," Let's cycle this, and then get back to the dying part.\n"),d(),c(162,"ul",9)(163,"li"),a(164,"Link starts with Full Health -> "),c(165,"code"),a(166,"FullPoints"),d(),a(167," start with same value as "),c(168,"code"),a(169,"startingPoints"),d()()(),c(170,"h2"),a(171,"Full Health Points cycle"),d(),c(172,"p"),a(173," The domain model focus will be a new property named "),c(174,"code"),a(175,"FullPoints"),d(),a(176,".\n"),d(),c(177,"h3")(178,"span",4),a(179,"RED"),d()(),c(180,"pre"),p(181,"code",5),d(),c(182,"p"),a(183," The test is very similar to the existing test for "),c(184,"i"),a(185,"exit point"),d(),c(186,"code"),a(187," CurrentPoints"),d(),p(188,"br"),a(189," but the key difference is that it's testing a different "),c(190,"i"),a(191,"exit point"),d(),a(192," (see "),c(193,"i"),a(194,"Good Unit Test definition"),d(),a(195," in "),c(196,"a",8),a(197,"part 1"),d(),a(198,").\n"),d(),c(199,"h3")(200,"span",6),a(201,"GREEN"),d()(),c(202,"pre"),p(203,"code",5),d(),c(204,"p"),a(205," I set "),c(206,"code"),a(207,"FullPoints"),d(),a(208," to the "),c(209,"code"),a(210,"startingPoints"),d(),a(211," parameter value (same as "),c(212,"code"),a(213,"CurrentPoints"),d(),a(214,")."),p(215,"br")(216,"br"),a(217," I also encapsulate "),c(218,"code"),a(219,"CurrentPoints"),d(),a(220," into a 'getter, private setter'."),p(221,"br")(222,"br"),a(223," This "),c(224,"code"),a(225,"FullPoints"),d(),a(226," implementation satisfies the current requirements,"),p(227,"br"),a(228," but likely will be extended on later with the Replenishing requirements."),p(229,"br"),a(230," Thus now I'll start a new cycle to fulfill the 'Protected from instant kill' requirement."),p(231,"br"),d(),c(232,"h2"),a(233,"Protected from instant kill cycling"),d(),c(234,"h3")(235,"span",4),a(236,"RED"),d()(),c(237,"pre"),p(238,"code",5),d(),c(239,"p"),a(240," I assert on the output "),c(241,"code"),a(242,"CurrentPoints"),d(),a(243," as the 'protected from instant kill' case should leave the value at "),c(244,"code"),a(245,"1"),d(),a(246,"."),p(247,"br"),a(248," The last "),c(249,"code"),a(250,"TestCase"),d(),a(251," tests the 'exception' case:"),p(252,"br"),a(253," when the damage is so much that it kills the Avatar regardless."),p(254,"br"),d(),c(255,"h3"),a(256,"Test code naming / structure convention"),d(),c(257,"p"),a(258," Elaborating further, the scenario starting with "),c(259,"code"),a(260,"_When"),d(),p(261,"br"),a(262," can continue with "),c(263,"code"),a(264,"_Then"),d(),a(265," as needed."),p(266,"br"),a(267," The whole scenario 'plays out' before the assertion / "),c(268,"i"),a(269,"exit point"),d(),a(270," check."),p(271,"br"),a(272," ("),c(273,"code"),a(274,"_Then"),d(),a(275," indicates occurring later in the internal scenario order).\n"),d(),c(276,"h2"),a(277,"Experience the value of TDD"),d(),c(278,"p"),a(279," Now the value of TDD starts to shine"),p(280,"br"),a(281," as my first attempts to make test pass failed and/or failed existing ones."),p(282,"br"),a(283," I suggest you try it out yourself before reading my "),c(284,"span",6),a(285,"GREEN"),d(),a(286," solution below.\n"),d(),c(287,"p"),a(288," Have you tried it out ?"),p(289,"br"),a(290," Great !"),p(291,"br"),a(292," Then you can compare with my solution below :)\n"),d(),c(293,"h3")(294,"span",6),a(295,"GREEN"),d()(),c(296,"pre"),p(297,"code",5),d(),c(298,"p"),a(299," I got all tests passing with this solution, but it could be cleaned up,"),p(300,"br"),a(301," thus onward to the refactoring step.\n"),d(),c(302,"h3")(303,"span",10),a(304,"REFACTOR"),d()(),c(305,"pre"),p(306,"code",5),d(),c(307,"p"),a(308," I 'flipped' the "),c(309,"code"),a(310,"if"),d(),a(311," check, which then checks for the 'protection' case,"),p(312,"br"),a(313," and returns early (instead of having "),c(314,"code"),a(315,"else"),d(),a(316,")."),p(317,"br"),a(318," This makes the code more readable and streamlined, IMO."),p(319,"br")(320,"br"),a(321," I don't like that the number "),c(322,"code"),a(323,"20"),d(),a(324," has no explanation to it ('magic' number),"),p(325,"br"),a(326," so I'll do an iteration on it.\n"),d(),c(327,"h3")(328,"span",10),a(329,"REFACTOR (2nd iteration)"),d()(),c(330,"pre"),p(331,"code",5),d(),c(332,"p"),a(333," I replaced the 'magic' number with a constant member"),p(334,"br"),a(335," and gave it a meaningful name that explains the number."),p(336,"br"),a(337," A negative value aligns with the naming of the const, so I 'flip' the value.\n"),d()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate),v(18),E("innerHTML",i.completeRequirementListHtml,Yn),v(2),Pe(" ",i.rewordRequirement,"\n"),v(11),E("innerHTML",i.aboutCodeHtml,Yn),v(19),E("highlight",i.test_1_red),v(13),E("highlight",i.impl_1_green),v(38),E("highlight",i.test_2_red),v(36),E("highlight",i.impl_2_green),v(34),E("highlight",i.test_3_red),v(22),E("highlight",i.impl_3_green),v(35),E("highlight",i.test_4_red),v(59),E("highlight",i.impl_4_green),v(9),E("highlight",i.impl_4_refactor),v(25),E("highlight",i.impl_4_refactor_2))},dependencies:[an,so],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function XV(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class Xa extends ti{constructor(){super(...arguments),this.test_1_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(12));\n}\n",this.impl_1_green="// Health.cs\npublic void Replenish(int replenishPoints) { }\n",this.test_2_red="// HealthTest.cs\n// inside nested class Replenish\n[Test]\npublic void CurrentPoints_WhenNotFullHealth()\n{\n\tvar health = new Health(12);\n\thealth.TakeDamage(2);\n\thealth.Replenish(1);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(11));\n}\n",this.test_2_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n",this.test_invalid_input_red='// HealthTest.cs\n// inside nested class Replenish\n[TestCase(0)]\n[TestCase(-1)]\npublic void ThrowsError_WhenReplenishPointsIsInvalid(int replenishPoints)\n{\n\tvar health = new Health(12);\n\tvar exception = Assert.Throws(Is.TypeOf<ArgumentOutOfRangeException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.Replenish(replenishPoints);\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.test_invalid_input_green="// Health.cs\npublic void Replenish(int replenishPoints)\n{\n\tValidatePoints(replenishPoints, 1); // method not shown\n\tCurrentPoints = Math.Min(replenishPoints + CurrentPoints, FullPoints);\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(Xa)))(i||Xa)}}();static#t=this.\u0275cmp=lt({type:Xa,selectors:[["app-post-tdd-6"]],features:[we],decls:164,vars:13,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list"],[3,"innerHTML"],[1,"redFail"],[3,"highlight"],[1,"greenPass"],["src","../assets/images/blog/tdd/TestRunner_after-replenish-tests.PNG","alt","Unity Test Runner: after adding Replenish tests","title","Unity Test Runner: after adding Replenish tests",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,XV,2,1,"small",1),d(),c(11,"h2"),a(12,"The requirement"),d(),c(13,"p"),a(14," Let's recap it from the user perspective:\n"),d(),c(15,"ul",2)(16,"li"),a(17,"Link's Life Gauge can be replenished by consuming certain food"),d()(),p(18,"div",3),c(19,"p"),a(20),d(),c(21,"ul",2)(22,"li"),a(23,"Avatar Health / "),c(24,"code"),a(25,"CurrentPoints"),d(),a(26," can be replenished by consuming food"),d()(),p(27,"div",3),c(28,"h2"),a(29,"Replenish cycling"),d(),c(30,"p"),a(31," The domain model focus will be a new method named "),c(32,"code"),a(33,"Replenish"),d(),a(34,"."),p(35,"br"),d(),c(36,"h3")(37,"span",4),a(38,"RED"),d()(),c(39,"p"),a(40," One case is if the player decides to make the Avatar"),p(41,"br"),a(42," use an item that replenishes when Health is full,"),p(43,"br"),a(44," a complete waste of an item as "),c(45,"code"),a(46,"CurrentPoints"),d(),a(47," don't increase,"),p(48,"br"),a(49," but a valid case regardless.\n"),d(),c(50,"pre"),p(51,"code",5),d(),c(52,"h3")(53,"span",6),a(54,"GREEN"),d()(),c(55,"p"),a(56," I effortlessly pass the test by adding an empty "),c(57,"code"),a(58,"Replenish"),d(),a(59," method.\n"),d(),c(60,"pre"),p(61,"code",5),d(),c(62,"p"),a(63," Of course this will not hold for other cases,"),p(64,"br"),a(65," so I'll cycle in more test cases to drive the implementation.\n"),d(),c(66,"h3")(67,"span",4),a(68,"RED"),d()(),c(69,"p"),a(70," Let's do a test for a more sensible valid case,"),p(71,"br"),a(72," when replenish will actually increase the "),c(73,"code"),a(74,"CurrentPoints"),d(),a(75,".\n"),d(),c(76,"pre"),p(77,"code",5),d(),c(78,"p"),a(79," I use the existing method "),c(80,"code"),a(81,"TakeDamage"),d(),a(82," to decrease the "),c(83,"code"),a(84,"CurrentPoints"),d(),p(85,"br"),a(86," before the method "),c(87,"code"),a(88,"Replenish"),d(),a(89," is invoked (the "),c(90,"i"),a(91,"entry point"),d(),a(92," of this test)."),p(93,"br"),a(94," ("),c(95,"code"),a(96,"TakeDamage"),d(),a(97," has already been tested and thus will work as expected).\n"),d(),c(98,"h3")(99,"span",6),a(100,"GREEN"),d()(),c(101,"pre"),p(102,"code",5),d(),c(103,"p"),a(104," I'm confident that this is the generic solution for any valid input"),p(105,"br"),a(106," so don't add more tests cases."),p(107,"br")(108,"br"),a(109," But I have to handle invalid input, so let's do a cycle for those.\n"),d(),c(110,"h2"),a(111,"Handle invalid input values"),d(),c(112,"h3")(113,"span",4),a(114,"RED"),d()(),c(115,"p"),a(116," As this will be similar to the 'take damage' handling,"),p(117,"br"),a(118," I copy the existing 'take damage throws error' test"),p(119,"br"),a(120," and paste it under the nested "),c(121,"code"),a(122,"Replenish"),d(),a(123," class"),p(124,"br"),a(125," and change to 'replenish' appropriately.\n"),d(),c(126,"pre"),p(127,"code",5),d(),c(128,"p"),a(129," This test case 'copy / paste' is valid"),p(130,"br"),a(131," as it's tests the same handling for a different "),c(132,"i"),a(133,"entry point"),d(),a(134," and "),c(135,"i"),a(136,"input"),d(),a(137,".\n"),d(),c(138,"h3")(139,"span",6),a(140,"GREEN"),d()(),c(141,"p"),a(142," I invoke the existing "),c(143,"code"),a(144,"ValidatePoints"),d(),a(145," method"),p(146,"br"),a(147," passing in "),c(148,"code"),a(149,"replenishPoints"),d(),a(150," and "),c(151,"code"),a(152,"1"),d(),a(153," for "),c(154,"code"),a(155,"lowestValidValue"),d()(),c(156,"pre"),p(157,"code",5),d(),c(158,"p"),a(159," Now the Unity Test Runner looks like this:\n"),d(),c(160,"figure"),p(161,"img",7),c(162,"figcaption"),a(163," Unity Test Runner: after adding Replenish tests "),d()()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate),v(8),E("innerHTML",i.completeRequirementListHtml,Yn),v(2),Pe(" ",i.rewordRequirement,"\n"),v(7),E("innerHTML",i.aboutCodeHtml,Yn),v(24),E("highlight",i.test_1_red),v(10),E("highlight",i.impl_1_green),v(16),E("highlight",i.test_2_red),v(25),E("highlight",i.test_2_green),v(25),E("highlight",i.test_invalid_input_red),v(30),E("highlight",i.test_invalid_input_green))},dependencies:[an,so],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function e3(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class el extends ti{constructor(){super(...arguments),this.refactorHealth="// Health.cs\npublic const int PointsPerUnit = 4;\npublic const int MaxNegativeUnitsForInstantKillProtection = -5;\n\npublic Health(int startingUnits)\n{\n\tValidatePoints(startingUnits, 1);\n\tFullPoints = CurrentPoints = startingUnits * PointsPerUnit;\n}\n\n// PointsPerUnit also used in InstantKillProtection calculation,\n// which is not shown.\n",this.refactorHealthTest="// HealthTest.cs\n[TestCase(3)]\n[TestCase(1)]\npublic void CurrentPoints_HasStartingValue(int startingUnits)\n{\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.CurrentPoints, Is.EqualTo(startingUnits * health.PointsPerUnit));\n}\n\n// other similar refactoring not shown.\n",this.red_increaseByUnit_fullPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void FullPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.FullPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_fullPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n}\n",this.red_increaseByUnit_currentPointsIncrease="// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void CurrentPoints_Increase()\n{\n\tvar health = new Health(3);\n\thealth.IncreaseByUnit();\n\tAssert.That(health.CurrentPoints, Is.EqualTo(16));\n}\n",this.green_increaseByUnit_currentPointsIncrease="// Health.cs\npublic void IncreaseByUnit()\n{\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n",this.red_IsMaxUnitsReached="// HealthTest.cs\n// inside nested class IsMaxUnitsReached\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n\n[Test]\npublic void ReturnsFalse_WhenStartingUnitsNotAtMax()\n{\n\tint startingUnits = Health.MaxUnits - 1;\n\tvar health = new Health(startingUnits);\n\tAssert.That(health.IsMaxUnitsReached, Is.False);\n}\n",this.green_IsMaxUnitsReached="// Health.cs\npublic const int MaxUnits = 30;\n\npublic bool IsMaxUnitsReached => MaxUnits == FullPoints / PointsPerUnit;\n",this.red_IncreaseByUnit_ThrowsError='// HealthTest.cs\n// inside nested class IncreaseByUnit\n[Test]\npublic void ThrowsError_WhenMaxUnitsReached()\n{\n\tint startingUnits = Health.MaxUnits;\n\tvar health = new Health(startingUnits);\n\tvar exception = Assert.Throws(Is.TypeOf<InvalidOperationException>(),\n\t\tdelegate\n\t\t{\n\t\t\thealth.IncreaseByUnit();\n\t\t});\n\tAssert.That(exception.Message, Does.Match("invalid").IgnoreCase);\n}\n',this.green_IncreaseByUnit_ThrowsError='// Health.cs\npublic void IncreaseByUnit()\n{\n\tif (IsMaxUnitsReached)\n\t{\n\t\tvar message = $"Method invocation is invalid as {nameof(IsMaxUnitsReached)} is true";\n\t\tthrow new InvalidOperationException(message);\n\t}\n\n\tFullPoints += PointsPerUnit;\n\tCurrentPoints = FullPoints;\n}\n'}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(el)))(i||el)}}();static#t=this.\u0275cmp=lt({type:el,selectors:[["app-post-tdd-7"]],features:[we],decls:440,vars:16,consts:[[1,"byAndDate"],[4,"ngIf"],[1,"list","inline"],[3,"innerHTML"],[1,"center"],[1,"greenRefactor"],[3,"highlight"],[1,"redFail"],[1,"greenPass"],["href","./blog/tdd-health/part1"],["href","https://docs.microsoft.com/en-us/dotnet/csharp/programming-guide/statements-expressions-operators/expression-bodied-members"],["src","../assets/images/blog/tdd/TestRunner_after-increase-tests.png","alt","Unity Test Runner: after Increase and Max requirements","title","Unity Test Runner: after Increase and Max requirements",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,e3,2,1,"small",1),d(),c(11,"h2"),a(12,"The requirements"),d(),c(13,"p"),a(14," Let's recap this requirements from the user perspective:\n"),d(),c(15,"ul",2)(16,"li"),a(17,"The Life Gauge can be increased by 1 Heart at a time"),d(),c(18,"ul")(19,"li"),a(20,"Link's health will become full with the increase"),d()(),c(21,"li"),a(22,"The maximum of Hearts is 30"),d()(),c(23,"p"),a(24,"\nIncreasing the Health is a significant gameplay event In "),c(25,"i"),a(26,"Breath of the Wild"),d(),p(27,"br"),a(28,"\n(solving puzzles in shrines to get Spirit Orbs, then find and pray to a Goddess Statue),"),p(29,"br"),a(30,"\nand thus the increase is always 1 Heart each time, no more or less.\n"),d(),p(31,"div",3),c(32,"p"),a(33," Now it makes sense to define a new unit in "),c(34,"code"),a(35,"Health"),d(),a(36," that equals 4 "),c(37,"code"),a(38,"Points,"),d(),p(39,"br"),a(40,"\nthat is visually represented as a Heart (or something else),"),p(41,"br"),a(42," as the increase should always be in that unit."),p(43,"br"),d(),c(44,"h2"),a(45,"Domain / View mapping (revisited)"),d(),c(46,"p"),a(47," I add a new domain definition "),c(48,"i"),a(49,"Unit"),d(),a(50," that maps to the visualized "),c(51,"i"),a(52,"Heart"),d()(),c(53,"table")(54,"tr")(55,"th")(56,"b"),a(57,"Domain Model"),d()(),c(58,"th")(59,"b"),a(60,"View / GUI"),d()()(),c(61,"tr")(62,"td",4),a(63," (Avatar) Health "),d(),c(64,"td",4),a(65," Life Gauge "),d()(),c(66,"tr")(67,"td",4)(68,"b")(69,"i"),a(70,"Unit"),d()()(),c(71,"td",4),a(72," Heart (holds 4 Fractions) "),d()(),c(73,"tr")(74,"td",4),a(75," Points "),d(),c(76,"td",4),a(77," Heart Fractions "),d()()(),c(78,"p"),a(79,"\nWith "),c(80,"i"),a(81,"Unit"),d(),a(82," defined, I realize that it's beneficial to redefine some 'points' variables into 'unit':"),p(83,"br"),d(),c(84,"ul",2)(85,"li")(86,"code"),a(87,"startingPoints"),d(),a(88," -> "),c(89,"code"),a(90,"startingUnits"),d()(),c(91,"ul")(92,"li"),a(93,"In "),c(94,"i"),a(95,"Breath of the Wild"),d(),a(96," Link starts with 3 "),c(97,"code"),a(98,"Units"),d(),a(99,", thus fits the "),c(100,"code"),a(101,"Units"),d(),a(102," constraint"),d(),c(103,"li"),a(104,"This is also a very reasonable game-balance constraint, and will simplify the logic"),d(),c(105,"li"),a(106,"Note that for "),c(107,"code"),a(108,"FullPoints"),d(),a(109,", it makes sense to stay as points"),p(110,"br"),a(111," but will always be equivalent to a whole Unit/s, due to its requirements (via 'starting' and 'increasing')"),d()(),c(112,"li")(113,"code"),a(114,"MaxNegativePointsForInstantKillProtection"),d(),a(115," -> "),c(116,"code"),a(117,"MaxNegativeUnits..."),d()(),c(118,"ul")(119,"li"),a(120,"In "),c(121,"i"),a(122,"Breath of the Wild"),d(),a(123," it is 5 "),c(124,"code"),a(125,"Units"),d(),a(126,", thus fits the "),c(127,"code"),a(128,"Units"),d(),a(129," constraint"),d(),c(130,"li"),a(131,"This is also a very reasonable game-balance constraint, and will simplify the logic"),d()()(),c(132,"p"),a(133,"\nNow let's reword the requirements focusing on the domain model and using its updated terminology:\n"),d(),c(134,"ul",2)(135,"li")(136,"code"),a(137,"FullPoints"),d(),a(138," can be increased by 1 "),c(139,"code"),a(140,"Unit"),d(),a(141," at a time"),d(),c(142,"ul")(143,"li")(144,"code"),a(145,"CurrentPoints"),d(),a(146," get same value as "),c(147,"code"),a(148,"FullPoints"),d()()(),c(149,"li")(150,"code"),a(151,"MaxUnits"),d(),a(152," (hereby named) is 30"),d()(),p(153,"div",3),c(154,"h2"),a(155,"A wholistic refactoring"),d(),c(156,"p"),a(157,"\nWhen doing a wholistic refactoring with a clear goal,"),p(158,"br"),a(159,"it might make more sense to start with the production code, as is the case now.\n"),d(),c(160,"h3")(161,"span",5),a(162,"Refactor "),c(163,"code"),a(164,"Health"),d()()(),c(165,"p"),a(166,"\nI forsee that it will be beneficial to define a new constant "),c(167,"code"),a(168,"PointsPerUnits"),d(),a(169," in "),c(170,"code"),a(171,"Health"),d(),a(172," to make points <-> units conversation easy and readable."),p(173,"br"),a(174,"\nI then rename the variable names and convert the values using "),c(175,"code"),a(176,"PointsPerUnits"),d()(),c(177,"pre"),p(178,"code",6),d(),c(179,"h3")(180,"span",5),a(181,"Refactor "),c(182,"code"),a(183,"HealthTest"),d()()(),c(184,"p"),a(185,"\nNow obviously many tests "),c(186,"span",7),a(187,"fail"),d(),a(188," as the values need to converted to units."),p(189,"br"),a(190,"\nI rename accordingly and convert the values, using "),c(191,"code"),a(192,"PointsPerUnits"),d(),a(193," where appropriate."),p(194,"br"),d(),c(195,"pre"),p(196,"code",6),d(),c(197,"p"),a(198,"\nNow all the tests "),c(199,"span",5),a(200,"pass"),d(),a(201," again, and all is well in the universe.\n"),d(),c(202,"h2"),a(203,"TDD Cycling "),c(204,"code"),a(205,"IncreaseByUnit"),d()(),c(206,"p"),a(207," The domain model focus will be a new method named "),c(208,"code"),a(209,"IncreaseByUnit"),d(),a(210,"."),p(211,"br"),d(),c(212,"h3")(213,"span",7),a(214,"RED (exit point "),c(215,"code"),a(216,"FullPoints"),d(),a(217,")"),d()(),c(218,"p"),a(219," Focusing first on the "),c(220,"code"),a(221,"FullPoints"),d(),a(222," property.\n"),d(),c(223,"pre"),p(224,"code",6),d(),c(225,"h3")(226,"span",8),a(227,"GREEN"),d()(),c(228,"p"),a(229," I pass the test by using the defined constant "),c(230,"code"),a(231,"PointsPerUnit"),d()(),c(232,"pre"),p(233,"code",6),d(),c(234,"p"),a(235," Now I focus on the other "),c(236,"i"),a(237,"exit point"),d(),a(238,", the "),c(239,"code"),a(240,"CurrentPoints"),d(),a(241," property."),p(242,"br"),a(243," It ideally should be a new tests as it's about a different "),c(244,"i"),a(245,"exit point"),d(),p(246,"br"),a(247," (see Good Unit Test definition in "),c(248,"a",9),a(249,"part 1"),d(),a(250,").\n"),d(),c(251,"h3")(252,"span",7),a(253,"RED (exit point "),c(254,"code"),a(255,"CurrentPoints"),d(),a(256,")"),d()(),c(257,"pre"),p(258,"code",6),d(),c(259,"h3")(260,"span",8),a(261,"GREEN"),d()(),c(262,"pre"),p(263,"code",6),d(),c(264,"p"),a(265,"\nI simply add the line "),c(266,"code"),a(267,"CurrentPoints = FullPoints"),d(),a(268,","),p(269,"br"),a(270,"\nwhich is also the proper solution as the requirement is:"),p(271,"br"),a(272,"\n'"),c(273,"code"),a(274,"CurrentPoints"),d(),a(275," get same value as "),c(276,"code"),a(277,"FullPoints"),d(),a(278," (on increase)'.\n"),d(),c(279,"h2"),a(280,"Cycling the maximum"),d(),c(281,"p"),a(282,"\nAll that is left is the maximum requirement."),p(283,"br"),a(284,"\nThe game will only give the user the option to increase the health"),p(285,"br"),a(286,"\nif the "),c(287,"code"),a(288,"MaxUnits"),d(),a(289," has not been reached (and it costs 4 "),c(290,"i"),a(291,"Spirit Orbs"),d(),a(292,"),"),p(293,"br"),a(294,"\nThus the outside code should query "),c(295,"code"),a(296,"Health"),d(),a(297," if maximum has been reached,"),p(298,"br"),a(299,"\nand if not, only then invoke "),c(300,"code"),a(301,"IncreaseByUnit"),d(),a(302,"."),p(303,"br"),c(304,"code"),a(305,"IncreaseByUnit"),d(),a(306," should though also handle improper usage in this regard,"),p(307,"br"),a(308,"\nand I'll add this handling at the end of this post.\n"),d(),c(309,"h3")(310,"span",7),a(311,"RED"),d()(),c(312,"p"),a(313," The "),c(314,"i"),a(315,"entry point"),d(),a(316," will be a new property named "),c(317,"code"),a(318,"IsMaxUnitsReached"),d(),a(319,"."),p(320,"br"),d(),c(321,"pre"),p(322,"code",6),d(),c(323,"p"),a(324,"\nI added 2 test easily at the same time,"),p(325,"br"),a(326,"\nwhich should suffice to drive in the proper production implementation."),p(327,"br")(328,"br"),a(329,"\nHere I can concise the test names"),p(330,"br"),a(331,"\nas the "),c(332,"i"),a(333,"exit point"),d(),a(334," is the same as the "),c(335,"i"),a(336,"entry point"),d(),a(337,","),p(338,"br"),a(339,"\nthus I skip the "),c(340,"i"),a(341,"exit point"),d(),a(342," in the name (nested class already names it)."),p(343,"br")(344,"br"),a(345,"\nThere are compile errors as both"),p(346,"br"),c(347,"code"),a(348,"MaxFullPoints"),d(),a(349," and "),c(350,"code"),a(351,"IsMaxUnitsReached"),d(),a(352," are not defined.\n"),d(),c(353,"h3")(354,"span",8),a(355,"GREEN"),d()(),c(356,"pre"),p(357,"code",6),d(),c(358,"p"),a(359,"\nI define the constant and give it the proper value,"),p(360,"br"),a(361,"\nand I implement the read-only property as an "),c(362,"a",10),a(363,"Expression-Bodied Member"),d(),a(364,"."),p(365,"br"),d(),c(366,"h2"),a(367,"Handle improper usage of "),c(368,"code"),a(369,"IncreaseByUnit"),d()(),c(370,"p"),a(371,"\nIf the outside code invokes "),c(372,"code"),a(373,"IncreaseByUnit"),d(),a(374," when "),c(375,"code"),a(376,"IsMaxUnitsReached"),d(),a(377," is "),c(378,"code"),a(379,"true"),d(),a(380,","),p(381,"br"),a(382,"\nthe method should handle this improper usage.\n"),d(),c(383,"h3")(384,"span",7),a(385,"RED"),d()(),c(386,"pre"),p(387,"code",6),d(),c(388,"p"),a(389," I deem I can use existing "),c(390,"code"),a(391,"InvalidOperationException"),d(),a(392," from "),c(393,"code"),a(394,"System"),d(),a(395,","),p(396,"br"),a(397," if I include an informative message for my case."),p(398,"br")(399,"br"),a(400," I assert that the message contains string "),c(401,"i"),a(402,"invalid"),d(),a(403,", ignoring case."),p(404,"br"),a(405," I'm intentionally not being more specific"),p(406,"br"),a(407," to later minimize the chance the assert fails if the message is reworded."),p(408,"br"),a(409," This simple "),c(410,"i"),a(411,"Resistance to refactoring"),d(),a(412," makes this a better unit test."),p(413,"br"),a(414," (book "),c(415,"a",10),a(416,"Unit Testing Principles, Practices, and Patterns"),d(),a(417," by Vladimir Khorikov,"),p(418,"br"),a(419," lists "),c(420,"i"),a(421,"Resistance to refactoring"),d(),a(422," as one of the 4 pillars of good unit test).\n"),d(),c(423,"h3")(424,"span",8),a(425,"GREEN"),d()(),c(426,"pre"),p(427,"code",6),d(),c(428,"p"),a(429," I pass the test by adding the "),c(430,"i"),a(431,"if"),d(),a(432," condition at the start of the method."),p(433,"br")(434,"br"),a(435," Now the requirements hao been fulfilled and the Unity Test Runner looks like this:\n"),d(),c(436,"figure"),p(437,"img",11),c(438,"figcaption"),a(439," Unity Test Runner: after Increase and Max requirements "),d()()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate),v(21),E("innerHTML",i.completeRequirementListHtml,Yn),v(122),E("innerHTML",i.aboutCodeHtml,Yn),v(25),E("highlight",i.refactorHealth),v(18),E("highlight",i.refactorHealthTest),v(28),E("highlight",i.red_increaseByUnit_fullPointsIncrease),v(9),E("highlight",i.green_increaseByUnit_fullPointsIncrease),v(25),E("highlight",i.red_increaseByUnit_currentPointsIncrease),v(5),E("highlight",i.green_increaseByUnit_currentPointsIncrease),v(59),E("highlight",i.red_IsMaxUnitsReached),v(35),E("highlight",i.green_IsMaxUnitsReached),v(30),E("highlight",i.red_IncreaseByUnit_ThrowsError),v(40),E("highlight",i.green_IncreaseByUnit_ThrowsError))},dependencies:[an,so],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function t3(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class tl extends ti{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, int.MinValue, -1)]\n\t\t[TestCase(-1, int.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, int.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, int.MinValue, -1)]\n\t\t[TestCase(1, int.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = int.MaxValue)\n\t{\n\t\tvar message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == int.MaxValue ? lowestValidV : highestValidV;\n\n\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingUnits, 1);\n\tStartingUnits = ProcessValidation(v, nameof(StartingUnits));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativeUnitsForInstantKillProtection, int.MinValue, -1);\n\tMaxNegativeUnitsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativeUnitsForInstantKillProtection));\n\n\tv = Validation.Validate(MaxUnits, StartingUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string fieldName)\n{\n\tif (!validation.IsValid)\n\t{\n\t\tDebug.LogWarning(validation.FailMessage + $\", for '{fieldName}'. Will set value to {validation.Value}.\");\n\t}\n\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.healthRefactor="// Health.cs\nprivate readonly GameConfig config;\n\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit => config.PointsPerUnit;\npublic int MaxUnits => config.MaxUnits;\npublic int MaxNegativeUnitsForInstantKillProtection => config.MaxNegativeUnitsForInstantKillProtection;\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tvar config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(tl)))(i||tl)}}();static#t=this.\u0275cmp=lt({type:tl,selectors:[["app-post-tdd-8"]],features:[we],decls:453,vars:15,consts:[[1,"byAndDate"],[4,"ngIf"],["href","./blog/tdd-health/part1"],[1,"list","inline"],["href","https://docs.unity3d.com/Manual/class-ScriptableObject.html"],[3,"highlight"],["src","../assets/images/blog/tdd/MenuItem_GameConfigInstance.png","alt","Create Game Config Instance via menu item","title","Create Game Config Instance via menu item",1,"imageSmallText"],["src","../assets/images/blog/tdd/Inspector_GameConfigInstance.png","alt","Game Config Instance via the Inspector window","title","Game Config Instance via the Inspector window",1,"imageSmallText"],[1,"redFail"],[1,"greenPass"],["src","../assets/images/blog/tdd/Unity_config-validation.gif","alt","Unity: Config Validation in the Inspector and Console","title","Unity: Config Validation in the Inspector and Console",1,"imageSmallText"],["src","../assets/images/blog/tdd/Unity_MaxUnits-validation.gif","alt","Unity: MaxUnits Validation in the Inspector and Console","title","Unity: MaxUnits Validation in the Inspector and Console",1,"imageSmallText"],[1,"greenRefactor"],["src","../assets/images/blog/tdd/TestRunner_after-config-added.png","alt","Test Runner after config added and used","title","Test Runner after config added and used",1,"imageSmallText"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,t3,2,1,"small",1),d(),c(11,"h2"),a(12,"The game balancing config"),d(),c(13,"p"),a(14,"\nThe thought came early (in "),c(15,"a",2),a(16,"part 3"),d(),a(17,") that a game balance config for values like "),c(18,"code"),a(19,"StartingUnits"),d(),a(20,","),p(21,"br"),a(22,"\nwould be valuable to have for balancing out during the development period."),p(23,"br"),a(24,"\nThe config should be accessible and validate the values (ideally immediately when changed),"),p(25,"br"),a(26,"\nand then later at runtime be injected to the "),c(27,"code"),a(28,"Health"),d(),a(29," instance."),p(30,"br"),a(31,"\nThere are other values in "),c(32,"code"),a(33,"Health"),d(),a(34," that are suitable, thus the config will include:\n"),d(),c(35,"ul",3)(36,"li")(37,"code"),a(38,"StartingUnits"),d()(),c(39,"li")(40,"code"),a(41,"PointsPerUnit"),d()(),c(42,"li")(43,"code"),a(44,"MaxUnits"),d()(),c(45,"li")(46,"code"),a(47,"MaxNegativeUnitsForInstantKillProtection"),d()()(),c(48,"h2"),a(49,"Using "),c(50,"code"),a(51,"ScriptableObject"),d()(),c(52,"p"),a(53,"\nAssuming that the game designer can do basic work in Unity and the version control system,"),p(54,"br"),a(55,"\nwe can keep the config solution completely within Unity."),p(56,"br"),a(57,"\nI'll thus base it on Unity's "),c(58,"a",4),a(59,"ScriptableObject"),d(),a(60,","),p(61,"br"),a(62,"\na data container that can be used to save large amounts of data."),p(63,"br"),a(64,"\nI create folder "),c(65,"i"),a(66,"ScriptableObjects/"),d(),a(67," at "),c(68,"i"),a(69,"Assets/Scripts/Runtime/"),d(),a(70," and create script "),c(71,"code"),a(72,"GameConfig"),d(),a(73," within it.\n"),d(),c(74,"pre"),p(75,"code",5),d(),c(76,"p"),a(77,"\nI create another folder "),c(78,"i"),a(79,"ScriptableObjectsInstances/"),d(),a(80," at "),c(81,"i"),a(82,"Assets/"),d(),p(83,"br"),a(84,"\nand because of the code above I can now right click on the folder / click at "),c(85,"i"),a(86,"Assets"),d(),a(87," at top menu,"),p(88,"br"),a(89,"\nand select menu item "),c(90,"i"),a(91,"Create > Avatar Health > Create GameConfig Instance"),d(),a(92,"."),p(93,"br"),a(94,"\nAs the name applies this creates a scriptable object instance based on the "),c(95,"code"),a(96,"GameConfig"),d(),a(97," class 'template'."),p(98,"br"),a(99,"\nI use the given default filename "),c(100,"code"),a(101,"GameConfigInstance"),d(),a(102," (file ends with "),c(103,"i"),a(104,".asset"),d(),a(105,").\n"),d(),c(106,"figure"),p(107,"img",6),c(108,"figcaption"),a(109,"Create GameConfig Instance via menu item"),d()(),c(110,"p"),a(111," I can now view and edit the "),c(112,"i"),a(113,"Game Config Instance"),d(),a(114," via the Inspector window.\n"),d(),c(115,"figure"),p(116,"img",7),c(117,"figcaption"),a(118,"Game Config Instance via the Inspector window"),d()(),c(119,"p"),a(120," I can change the values as I see fit and the change will be saved on the instance."),p(121,"br"),a(122," But there is no domain validation for the values, so I TDD cycle it.\n"),d(),c(123,"h2"),a(124,"TDD-ing the validation"),d(),c(125,"p"),a(126," Unit testing logic in scriptable objects can quickly become complicated."),p(127,"br"),a(128," For this reason, and also for Reusability and Separation of Concern,"),p(129,"br"),a(130," I will implement the generic validation logic in a utility class which will be easy to TDD."),p(131,"br"),a(132," Then I'll make the config process the validation using the utility logic.\n"),d(),c(133,"h3")(134,"span",8),a(135,"RED"),d()(),c(136,"p"),a(137," I create the folder "),c(138,"i"),a(139,"Utils"),d(),a(140," in the test folder"),p(141,"br"),a(142," ("),c(143,"i"),a(144,"Assets/Scripts/Tests/EditMode/"),d(),a(145,") and create script "),c(146,"code"),a(147,"ValidationTest"),d(),a(148," within it."),p(149,"br"),a(150," I take into consideration the requirements for both the config"),p(151,"br"),a(152," and the other validations that "),c(153,"code"),a(154,"Health"),d(),a(155," does, and then write the tests. "),d(),c(156,"pre"),p(157,"code",5),d(),c(158,"p"),a(159,"\nI wrote tests for all meaningful cases based on the requirements in one step."),p(160,"br"),a(161,"\nThe validation logic returns a tuple:\n"),d(),c(162,"pre"),p(163,"code",5),d(),c(164,"p"),a(165,"\nThe using code should then decide what to do.\n"),d(),c(166,"h3")(167,"span",9),a(168,"GREEN"),d()(),c(169,"p"),a(170,"\nI mirror the location of the test, thus create the folder "),c(171,"i"),a(172,"Utils"),d(),a(173," in the production code folder ("),c(174,"i"),a(175,"Assets/Scripts/Runtime/"),d(),a(176,") and create script "),c(177,"code"),a(178,"Validation"),d(),a(179," within it."),p(180,"br"),a(181,"\nI implement it gradually until I get all the tests passing.\n"),d(),c(182,"pre"),p(183,"code",5),d(),c(184,"h2"),a(185,"Processing the validation in the config"),d(),c(186,"p"),a(187,"\nI want to make sure the validation can't be bypassed"),p(188,"br"),a(189,"\nthus I'll prevent the game designer from saving invalid values to the config,"),p(190,"br"),a(191,"\nand provide some message in the Unity editor when an invalid value is corrected.\n"),d(),c(192,"pre"),p(193,"code",5),d(),c(194,"p"),a(195,"\nI use "),c(196,"code"),a(197,"OnValidate"),d(),a(198,", a editor-only function that Unity calls when the script is loaded or a value changes in the Inspector"),p(199,"br"),a(200,"\n(part of the "),c(201,"a",4),a(202,"ScriptableObject"),d(),a(203,").\n"),d(),c(204,"h2"),a(205,"The validation at work"),d(),c(206,"figure"),p(207,"img",10),c(208,"figcaption"),a(209,"Unity: Config Validation in the Inspector and Console"),d()(),c(210,"p"),a(211," As the gif shows above, the logic accepts valid values (the first one)"),p(212,"br"),a(213," but prevents invalid values being set by reverting to the valid 'edge' value, and logging a message to the Console."),p(214,"br"),d(),c(215,"ul",3)(216,"li"),a(217,"reverts to "),c(218,"code"),a(219,"1"),d(),a(220," for "),c(221,"code"),a(222,"StartingUnits"),d()(),c(223,"li"),a(224,"reverts to "),c(225,"code"),a(226,"2"),d(),a(227," for "),c(228,"code"),a(229,"PointsPerUnit"),d()(),c(230,"li"),a(231,"reverts to "),c(232,"code"),a(233,"-1"),d(),a(234," for "),c(235,"code"),a(236,"MaxNegativePointsForInstantKillProtection"),d()()(),c(237,"p"),a(238," Below is the gif for the "),c(239,"code"),a(240,"MaxUnits"),d(),a(241," validation.\n"),d(),c(242,"figure"),p(243,"img",11),c(244,"figcaption"),a(245,"Unity: MaxUnits Validation in the Inspector and Console"),d()(),c(246,"p")(247,"code"),a(248,"MaxUnits"),d(),a(249," validation is based on the values of "),c(250,"code"),a(251,"StartingUnits"),d(),p(252,"br"),a(253," thus "),c(254,"code"),a(255,"MaxUnits"),d(),a(256," can become invalid when "),c(257,"code"),a(258,"StartingUnits"),d(),a(259," is set to a valid value,"),p(260,"br"),a(261," (as the latter half of the gif conveys)."),p(262,"br"),a(263," The logged message in the Console clarifies this occurrence.\n"),d(),c(264,"h2"),a(265,"Make "),c(266,"code"),a(267,"Health"),d(),a(268," use the config"),d(),c(269,"p"),a(270,"\nI want "),c(271,"code"),a(272,"Health"),d(),a(273," to use the config"),p(274,"br"),a(275,"\nand not provide another way to inject those values,"),p(276,"br"),a(277,"\nthus I don't need to validate those values again in "),c(278,"code"),a(279,"Health"),d(),a(280,"."),p(281,"br"),a(282,"\n(I have ownership of the config code and"),p(283,"br"),a(284,"\nI am confident that its validation will always work as expected)."),p(285,"br")(286,"br"),a(287,"\nI will refactor the health code in the steps presented below."),p(288,"br"),a(289,"\nThis is about a design change in the production code (wholistic refactoring),"),p(290,"br"),a(291,"\nand it this case it makes more sense to start with the production code.\n"),d(),c(292,"h3")(293,"span",12),a(294,"Refactor "),c(295,"code"),a(296,"Health"),d()()(),c(297,"pre"),p(298,"code",5),d(),c(299,"p"),a(300,"\nI inject the "),c(301,"code"),a(302,"GameConfig"),d(),a(303," instance into the constructor,"),p(304,"br"),a(305,"\nand store it in a member and then access the values from the member."),p(306,"br"),a(307,"\nThe member is "),c(308,"code"),a(309,"private readonly"),d(),a(310," and thus encapsulated and immutable within the class."),p(311,"br"),a(312,"\nI remove the old "),c(313,"code"),a(314,"startingUnits"),d(),a(315," validation (as the config is already validated)."),p(316,"br"),d(),c(317,"pre"),p(318,"code",5),d(),c(319,"p"),a(320,"\nI refactor these constants into read-only properties,"),p(321,"br"),a(322,"\ngetting the value from the config."),p(323,"br"),a(324,"\nThis way the config values can't be set via the "),c(325,"code"),a(326,"Health"),d(),a(327," instance (encapsulation).\n"),d(),c(328,"h3")(329,"span",12),a(330,"Refactor "),c(331,"code"),a(332,"HealthTest"),d()()(),c(333,"p"),a(334," Now many tests will "),c(335,"span",8),a(336,"fail"),d(),a(337,","),p(338,"br"),a(339," mainly because they are not injecting the config into the constructor."),p(340,"br"),a(341," Let's refactor and fix them.\n"),d(),c(342,"pre"),p(343,"code",5),d(),c(344,"p"),a(345,"\nI create these helper methods above."),p(346,"br")(347,"br"),c(348,"code"),a(349,"MakeConfig"),d(),a(350," creates the config"),p(351,"br"),a(352,"\nand sets the "),c(353,"code"),a(354,"startingUnits"),d(),a(355," via parameter."),p(356,"br"),a(357,"\nIt also sets the other values for better "),c(358,"i"),a(359,"Resistance to refactoring"),d(),p(360,"br"),a(361,"\n(the tests will still work if the default values are changed in the scriptable object)."),p(362,"br")(363,"br"),c(364,"code"),a(365,"MakeHealth"),d(),a(366," creates and return a "),c(367,"code"),a(368,"Health"),d(),a(369," instance (using "),c(370,"code"),a(371,"MakeConfig"),d(),a(372,")."),p(373,"br")(374,"br"),a(375,"\nFor most tests it is sufficient to swap the "),c(376,"code"),a(377,"MakeHeath"),d(),p(378,"br"),a(379,"\nfor the "),c(380,"code"),a(381,"new Health"),d(),a(382," construction, as shown below"),p(383,"br"),a(384,"\n(one command execution with the IDE).\n"),d(),c(385,"pre"),p(386,"code",5),d(),c(387,"p"),a(388,"\nThere are 3 tests that refer to "),c(389,"code"),a(390,"maxUnits"),d(),a(391," to set up "),c(392,"code"),a(393,"StartingUnits"),d(),a(394," the the test."),p(395,"br"),a(396,"\nThese tests use "),c(397,"code"),a(398,"MakeConfig"),d(),a(399," directly and then create the "),c(400,"code"),a(401,"Health"),d(),a(402," instance."),p(403,"br"),d(),c(404,"pre"),p(405,"code",5),d(),c(406,"p"),a(407,"\nNow only test "),c(408,"code"),a(409,"ThrowsError_WhenStartingPointsIsInvalid"),d(),c(410,"span",8),a(411," fails"),d(),a(412,"."),p(413,"br"),a(414,"\nI remove it as I'm no longer validating "),c(415,"code"),a(416,"StartingUnits"),d(),a(417," in "),c(418,"code"),a(419,"Health"),d(),a(420,"."),p(421,"br"),a(422,"\nNow all the tests "),c(423,"span",9),a(424,"pass"),d(),a(425," again.\n"),d(),c(426,"h2"),a(427,"Reuse the utility "),c(428,"code"),a(429,"Validation"),d()(),c(430,"p"),a(431," Since now I have a utility "),c(432,"code"),a(433,"Validation"),d(),a(434," class"),p(435,"br"),a(436," I want to reuse it in the "),c(437,"code"),a(438,"Health"),d(),a(439," methods,"),p(440,"br"),a(441," thus I refactor the "),c(442,"code"),a(443,"ValidatePoints"),d(),a(444," method:\n"),d(),c(445,"pre"),p(446,"code",5),d(),c(447,"p"),a(448,"Now the config has been added and used, the Unity Test Runner looks like this:"),d(),c(449,"figure"),p(450,"img",13),c(451,"figcaption"),a(452,"Test Runner after config added and used"),d()()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate),v(65),E("highlight",i.gameConfigCs),v(82),E("highlight",i.redValidationTest),v(6),E("highlight",i.validationReturn),v(20),E("highlight",i.greenValidation),v(10),E("highlight",i.hookValidationIntoConfig),v(105),E("highlight",i.healthRefactor),v(20),E("highlight",i.healthRefactor1),v(25),E("highlight",i.healthTestRefactor),v(43),E("highlight",i.healthTestRefactorMostCases),v(19),E("highlight",i.healthTestUseMakeConfig),v(41),E("highlight",i.healthReuseValidation))},dependencies:[an,so],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}function n3(n,t){if(1&n&&(c(0,"small"),a(1),d()),2&n){const e=be();v(1),Pe(" updated on ",e.updatedDateToString," ")}}class nl extends ti{constructor(){super(...arguments),this.gameConfigCs='// GameConfig.cs\nusing UnityEngine;\n\n[CreateAssetMenu(fileName = "GameConfigInstance",\nmenuName = "Avatar Health/Create GameConfig Instance",\norder = 1)]\npublic class GameConfig : ScriptableObject {\n\tpublic int StartingUnits = 3;\n\tpublic int PointsPerUnit = 4;\n\tpublic int MaxUnits = 30;\n\tpublic int MaxNegativeUnitsForInstantKillProtection = -5\n}\n',this.redValidationTest='// ValidationTest.cs\nusing NUnit.Framework;\nusing System;\n\n[TestFixture]\npublic class ValidationTest\n{\n\tpublic class Validate\n\t{\n\t\t[TestCase(12, 1)]\n\t\t[TestCase(1, 1)]\n\t\t[TestCase(4, 2)]\n\t\t[TestCase(2, 2)]\n\t\t[TestCase(-20, Int32.MinValue, -1)]\n\t\t[TestCase(-1, Int32.MinValue, -1)]\n\t\tpublic void Passes(int v, int lowestValidV, int highestValidV = Int32.MaxValue)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.True);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(v));\n\t\t\tAssert.That(ret.Item3, Is.EqualTo(""));\n\t\t}\n\n\t\t[TestCase(0, 1)]\n\t\t[TestCase(-1, 0)]\n\t\tpublic void Fails_WhenValueLower(int v, int lowestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, Int32.MaxValue);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(lowestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\n\t\t[TestCase(0, Int32.MinValue, -1)]\n\t\t[TestCase(1, Int32.MinValue, 0)]\n\t\tpublic void Fails_WhenValueHigher(int v, int lowestValidV, int highestValidV)\n\t\t{\n\t\t\t(bool, int, string) ret = Validation.Validate(v, lowestValidV, highestValidV);\n\t\t\tAssert.That(ret.Item1, Is.False);\n\t\t\tAssert.That(ret.Item2, Is.EqualTo(highestValidV));\n\t\t\tAssert.That(ret.Item3, Does.Match("invalid").IgnoreCase);\n\t\t}\n\t}\n}\n',this.greenValidation='// Validation.cs\nusing System;\n\npublic static class Validation\n{\n\tpublic static (bool, int, string) Validate(int v, int lowestValidV, int highestValidV = Int32.MaxValue)\n\t{\n\t\tstring message = "";\n\t\tif (v >= lowestValidV && v <= highestValidV)\n\t\t{\n\t\t\treturn (true, v, message);\n\t\t}\n\n\t\tmessage = $"Value {v} is invalid, it should be within the range of {lowestValidV} and {highestValidV}";\n\t\tint retV = highestValidV == Int32.MaxValue ? lowestValidV : highestValidV;\n\t\t\treturn (false, retV, message);\n\t}\n}\n',this.hookValidationIntoConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar validation = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(validation, nameof(StartingPoints));\n\n\tvalidation = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(validation, nameof(PointsPerUnit));\n\n\tvalidation = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(validation, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tvalidation = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(validation, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) validation, string propertyName)\n{\n\tif (!validation.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(validation.FailMessage + $\", for '{propertyName}'. Will set value to {validation.Value}.\");\n\t\t}\n\t\treturn validation.Value;\n}\n",this.validationReturn='/*success*/(bool IsValid = true, int Value, string failMessage = "")\n/*fail*/(bool IsValid = false, int Value /*corrected to valid edge*/, string failMessage)\n',this.hookingValidationInConfig="// GameConfig.cs\nprivate void OnValidate()\n{\n\tvar v = Validation.Validate(StartingPoints, 1);\n\tStartingPoints = ProcessValidation(v, nameof(StartingPoints));\n\n\tv = Validation.Validate(PointsPerUnit, 2);\n\tPointsPerUnit = ProcessValidation(v, nameof(PointsPerUnit));\n\n\tv = Validation.Validate(MaxNegativePointsForInstantKillProtection, Int32.MinValue, -1);\n\tMaxNegativePointsForInstantKillProtection = ProcessValidation(v, nameof(MaxNegativePointsForInstantKillProtection));\n\n\tdouble lowestMaxUnits = Math.Ceiling((double)StartingPoints / (double)PointsPerUnit);\n\tv = Validation.Validate(MaxUnits, (int)lowestMaxUnits);\n\tMaxUnits = ProcessValidation(v, nameof(MaxUnits));\n}\n\nprivate int ProcessValidation((bool IsValid, int Value, string FailMessage) v, string fieldName)\n{\n\tif (!v.IsValid)\n\t\t{\n\t\t\tDebug.LogWarning(v.FailMessage + $\", for '{fieldName}'. Will set value to {v.Value}.\");\n\t\t}\n\t\treturn v.Value;\n}\n",this.healthRefactor="// Health.cs\npublic Health(GameConfig gameConfig)\n{\n\tconfig = gameConfig;\n\tFullPoints = CurrentPoints = config.StartingUnits * config.PointsPerUnit;\n}\n",this.healthRefactor1="// Health.cs\npublic int PointsPerUnit\n{\n\tget { return config.PointsPerUnit; }\n}\npublic int MaxUnits\n{\n\tget { return config.MaxUnits; }\n}\n\tpublic int MaxNegativeUnitsForInstantKillProtection\n{\n\tget { return config.MaxNegativeUnitsForInstantKillProtection; }\n}\n",this.healthTestRefactor="// HealthTest.cs\npublic class HealthTest\n{\n\tpublic static Health MakeHealth(int startingUnits)\n\t{\n\t\t\tvar config = MakeConfig(startingUnits);\n\t\t\tvar health = new Health(config);\n\t\t\treturn health;\n\t}\n\n\tpublic static GameConfig MakeConfig(int startingUnits = 3)\n\t{\n\t\t\tGameConfig config = ScriptableObject.CreateInstance<GameConfig>();\n\t\t\tconfig.StartingUnits = startingUnits;\n\t\t\tconfig.PointsPerUnit = 4;\n\t\t\tconfig.MaxUnits = 30;\n\t\t\treturn config;\n\t}\n",this.healthTestRefactorMostCases=" HealthTest.cs\n[Test]\npublic void IsDead_IsFalse()\n{\n\tvar health = MakeHealth(3);\n\tAssert.That(health.IsDead, Is.False);\n}\n",this.healthTestUseMakeConfig="// HealthTest.cs\n[Test]\npublic void ReturnsTrue_WhenStartingUnitsAtMax()\n{\n\tvar config = MakeConfig();\n\tconfig.StartingUnits = config.MaxUnits;\n\tvar health = new Health(config);\n\tAssert.That(health.IsMaxUnitsReached, Is.True);\n}\n",this.healthReuseValidation="// Health.cs\nprivate static void ValidatePoints(int points, int lowestValidValue)\n{\n\t(bool IsValid, int Value, string FailMessage) v = Validation.Validate(points, lowestValidValue);\n\tif (!v.IsValid)\n\t{\n\t\tthrow new ArgumentOutOfRangeException(nameof(points), v.FailMessage);\n\t}\n}\n"}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=ze(nl)))(i||nl)}}();static#t=this.\u0275cmp=lt({type:nl,selectors:[["app-post-tdd-9"]],features:[we],decls:13,vars:4,consts:[[1,"byAndDate"],[4,"ngIf"]],template:function(e,i){1&e&&(c(0,"h1"),a(1),d(),c(2,"h2"),a(3),d(),c(4,"div",0)(5,"small"),a(6,"by Egill Antonsson"),p(7,"br"),a(8),p(9,"br"),d(),ve(10,n3,2,1,"small",1),d(),c(11,"h2"),a(12,"SMU"),d()),2&e&&(v(1),He(i.post.seriesTitle),v(2),He(i.post.title),v(5),Pe(" published on ",i.publishedDateToString,""),v(2),E("ngIf",i.hasUpdatedDate))},dependencies:[an],styles:[".redFail[_ngcontent-%COMP%]{color:var(--colorRed)}.greenPass[_ngcontent-%COMP%]{color:var(--colorGreenLight)}.greenRefactor[_ngcontent-%COMP%]{color:var(--colorGreenLightMed)}.outOfScope[_ngcontent-%COMP%]{color:var(--colorGrayLight)}.byAndDate[_ngcontent-%COMP%]{text-align:center}.noBulletinPoint[_ngcontent-%COMP%]{list-style:none}"]})}const r3=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:sc},{path:"blog",component:oc,children:[{path:"tdd-health/part1",component:Ka},{path:"tdd-health/part2",component:Ya},{path:"tdd-health/part3",component:Za},{path:"tdd-health/part4",component:Qa},{path:"tdd-health/part5",component:Ja},{path:"tdd-health/part6",component:Xa},{path:"tdd-health/part7",component:el},{path:"tdd-health/part8",component:tl},{path:"tdd-health/part9",component:nl}]},{path:"music",component:qa},{path:"music/:trackName",component:qa},{path:"lifting",component:Ec},{path:"**",component:Tc}];class Ac{static#e=this.\u0275fac=function(e){return new(e||Ac)};static#t=this.\u0275mod=Zt({type:Ac});static#n=this.\u0275inj=Gt({imports:[yD.forRoot(r3,{enableTracing:!1}),yD]})}let ig;try{ig=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ig=!1}let il=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Aw(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ig)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(P(aa))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class p3{constructor(t){this.total=t}call(t,e){return e.subscribe(new g3(t,this.total))}}class g3 extends Me{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function og(n,t){return e=>e.lift(new m3(n,t))}class m3{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new y3(t,this.compare,this.keySelector))}}class y3 extends Me{constructor(t,e,i){super(t),this.keySelector=i,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:r}=this;e=r?r(t):t}catch(r){return this.destination.error(r)}let i=!1;if(this.hasKey)try{const{compare:r}=this;i=r(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))}}function Y1(n){return t=>t.lift(new v3(n))}class v3{constructor(t){this.notifier=t}call(t,e){const i=new b3(t),r=$t(this.notifier,new tt(i));return r&&!i.seenValue?(i.add(r),e.subscribe(i)):i}}class b3 extends bt{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Z1(n){return Array.isArray(n)?n:[n]}const Q1=new Xi(z1);class C3{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new D3(t,this.dueTime,this.scheduler))}}class D3 extends Me{constructor(t,e,i){super(t),this.dueTime=e,this.scheduler=i,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(E3,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function E3(n){n.debouncedNext()}const J1=new Set;let lo,M3=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):I3}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function T3(n){if(!J1.has(n))try{lo||(lo=document.createElement("style"),lo.setAttribute("type","text/css"),document.head.appendChild(lo)),lo.sheet&&(lo.sheet.insertRule(`@media ${n} {body{ }}`,0),J1.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(P(il))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function I3(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let S3=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new V}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return X1(Z1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Yf(X1(Z1(e)).map(o=>this._registerQuery(o).observable));return s=Vu(s.pipe(Kr(1)),s.pipe(function K1(n){return t=>t.lift(new p3(n))}(1),function w3(n,t=Q1){return e=>e.lift(new C3(n,t))}(0))),s.pipe(R(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:u,query:h})=>{l.matches=l.matches||u,l.breakpoints[h]=u}),l}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new F(o=>{const l=u=>this._zone.run(()=>o.next(u));return i.addListener(l),()=>{i.removeListener(l)}}).pipe(oC(i),R(({matches:o})=>({query:e,matches:o})),Y1(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(P(M3),P(it))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X1(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const oE="cdk-high-contrast-black-on-white",aE="cdk-high-contrast-white-on-black",ag="cdk-high-contrast-active";let j3=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=Se(S3).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(ag,oE,aE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(ag,oE):2===i&&e.add(ag,aE)}}}return n.\u0275fac=function(e){return new(e||n)(P(il),P(ct))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({}),n})();const q3=new U("mat-sanity-checks",{providedIn:"root",factory:function W3(){return!0}});let Pc=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!function l3(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(P(j3),P(q3,8),P(ct))},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[lE,lE]}),n})(),pE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[Pc,Pc]}),n})(),lU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[Pc,pE,Pc]}),n})();const bE={leading:!0,trailing:!1};function Oc(n,t=Q1,e=bE){return i=>i.lift(new dU(n,t,e.leading,e.trailing))}class dU{constructor(t,e,i,r){this.duration=t,this.scheduler=e,this.leading=i,this.trailing=r}call(t,e){return e.subscribe(new hU(t,this.duration,this.scheduler,this.leading,this.trailing))}}class hU extends Me{constructor(t,e,i,r,s){super(t),this.duration=e,this.scheduler=i,this.leading=r,this.trailing=s,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(fU,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function fU(n){const{subscriber:t}=n;t.clearThrottle()}var _E=yt(8089);const pU=["tooltipTemplate"],gU=["leftOuterSelectionBar"],mU=["rightOuterSelectionBar"],yU=["fullBar"],vU=["selectionBar"],bU=["minHandle"],_U=["maxHandle"],wU=["floorLabel"],CU=["ceilLabel"],DU=["minHandleLabel"],EU=["maxHandleLabel"],MU=["combinedLabel"],TU=["ticksElement"];function IU(n,t){if(1&n&&p(0,"ngx-slider-tooltip-wrapper",31),2&n){const e=be().$implicit;E("template",be().tooltipTemplate)("tooltip",e.valueTooltip)("placement",e.valueTooltipPlacement)("content",e.value)}}function SU(n,t){1&n&&p(0,"span",32),2&n&&E("innerHTML",be().$implicit.legend,Yn)}const AU=function(n){return{"ngx-slider-selected":n}};function kU(n,t){if(1&n&&(c(0,"span",27),p(1,"ngx-slider-tooltip-wrapper",28),ve(2,IU,1,4,"ngx-slider-tooltip-wrapper",29),ve(3,SU,1,1,"span",30),d()),2&n){const e=t.$implicit,i=be();E("ngClass",Us(7,AU,e.selected))("ngStyle",e.style),v(1),E("template",i.tooltipTemplate)("tooltip",e.tooltip)("placement",e.tooltipPlacement),v(1),E("ngIf",null!=e.value),v(1),E("ngIf",null!=e.legend)}}function xU(n,t){}function PU(n,t){1&n&&ve(0,xU,0,0,"ng-template")}const OU=function(n,t,e){return{tooltip:n,placement:t,content:e}};function LU(n,t){if(1&n&&(Go(0),ve(1,PU,1,0,null,1),zo()),2&n){const e=be();v(1),E("ngTemplateOutlet",e.template)("ngTemplateOutletContext",Kh(2,OU,e.tooltip,e.placement,e.content))}}function RU(n,t){if(1&n&&(Go(0),c(1,"div",2),a(2),d(),zo()),2&n){const e=be();v(1),on("title",e.tooltip)("data-tooltip-placement",e.placement),v(1),Pe(" ",e.content," ")}}const Bt={Low:0,High:1,Floor:2,Ceil:3,TickValue:4};Bt[Bt.Low]="Low",Bt[Bt.High]="High",Bt[Bt.Floor]="Floor",Bt[Bt.Ceil]="Ceil",Bt[Bt.TickValue]="TickValue";class Lc{constructor(){this.floor=0,this.ceil=null,this.step=1,this.minRange=null,this.maxRange=null,this.pushRange=!1,this.minLimit=null,this.maxLimit=null,this.translate=null,this.combineLabels=null,this.getLegend=null,this.stepsArray=null,this.bindIndexForStepsArray=!1,this.draggableRange=!1,this.draggableRangeOnly=!1,this.showSelectionBar=!1,this.showSelectionBarEnd=!1,this.showSelectionBarFromValue=null,this.showOuterSelectionBars=!1,this.hidePointerLabels=!1,this.hideLimitLabels=!1,this.autoHideLimitLabels=!0,this.readOnly=!1,this.disabled=!1,this.mouseEventsInterval=50,this.touchEventsInterval=50,this.inputEventsInterval=100,this.outputEventsInterval=100,this.showTicks=!1,this.showTicksValues=!1,this.tickStep=null,this.tickValueStep=null,this.ticksArray=null,this.ticksTooltip=null,this.ticksValuesTooltip=null,this.vertical=!1,this.getSelectionBarColor=null,this.getTickColor=null,this.getPointerColor=null,this.keyboardSupport=!0,this.scale=1,this.enforceStep=!0,this.enforceRange=!0,this.enforceStepsArray=!0,this.noSwitching=!1,this.onlyBindHandles=!1,this.rightToLeft=!1,this.reversedControls=!1,this.boundPointerLabels=!0,this.logScale=!1,this.customValueToPosition=null,this.customPositionToValue=null,this.precisionLimit=12,this.selectionBarGradient=null,this.ariaLabel=null,this.ariaLabelledBy=null,this.ariaLabelHigh=null,this.ariaLabelledByHigh=null,this.handleDimension=null,this.barDimension=null,this.animate=!0,this.animateOnMove=!1}}const W={Min:0,Max:1};W[W.Min]="Min",W[W.Max]="Max";class NU{}class T{static isNullOrUndefined(t){return null==t}static areArraysEqual(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}static linearValueToPosition(t,e,i){return(t-e)/(i-e)}static logValueToPosition(t,e,i){return((t=Math.log(t))-(e=Math.log(e)))/((i=Math.log(i))-e)}static linearPositionToValue(t,e,i){return t*(i-e)+e}static logPositionToValue(t,e,i){return e=Math.log(e),i=Math.log(i),Math.exp(t*(i-e)+e)}static findStepIndex(t,e){const i=e.map(s=>Math.abs(t-s.value));let r=0;for(let s=0;s<e.length;s++)i[s]!==i[r]&&i[s]<i[r]&&(r=s);return r}}class Ir{static isTouchEvent(t){return void 0!==window.TouchEvent?t instanceof TouchEvent:void 0!==t.touches}static isResizeObserverAvailable(){return void 0!==window.ResizeObserver}}class Dt{static roundToPrecisionLimit(t,e){return+t.toPrecision(e)}static isModuloWithinPrecisionLimit(t,e,i){const r=Math.pow(10,-i);return Math.abs(t%e)<=r||Math.abs(Math.abs(t%e)-e)<=r}static clampToRange(t,e,i){return Math.min(Math.max(t,e),i)}}class wE{constructor(){this.eventName=null,this.events=null,this.eventsSubscription=null,this.teardownCallback=null}}class CE{constructor(t){this.renderer=t}attachPassiveEventListener(t,e,i,r){if(!0!==_E.Z.hasSupport)return this.attachEventListener(t,e,i,r);const s=new wE;s.eventName=e,s.events=new V;const o=l=>{s.events.next(l)};return t.addEventListener(e,o,{passive:!0,capture:!1}),s.teardownCallback=()=>{t.removeEventListener(e,o,{passive:!0,capture:!1})},s.eventsSubscription=s.events.pipe(T.isNullOrUndefined(r)?Je(()=>{}):Oc(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{i(l)}),s}detachEventListener(t){T.isNullOrUndefined(t.eventsSubscription)||(t.eventsSubscription.unsubscribe(),t.eventsSubscription=null),T.isNullOrUndefined(t.events)||(t.events.complete(),t.events=null),T.isNullOrUndefined(t.teardownCallback)||(t.teardownCallback(),t.teardownCallback=null)}attachEventListener(t,e,i,r){const s=new wE;return s.eventName=e,s.events=new V,s.teardownCallback=this.renderer.listen(t,e,l=>{s.events.next(l)}),s.eventsSubscription=s.events.pipe(T.isNullOrUndefined(r)?Je(()=>{}):Oc(r,void 0,{leading:!0,trailing:!0})).subscribe(l=>{i(l)}),s}}let Sr=(()=>{class n{constructor(e,i,r){this.elemRef=e,this.renderer=i,this.changeDetectionRef=r,this._position=0,this._dimension=0,this._alwaysHide=!1,this._vertical=!1,this._scale=1,this.opacity=1,this.visibility="visible",this.left="",this.bottom="",this.height="",this.width="",this.eventListeners=[],this.eventListenerHelper=new CE(this.renderer)}get position(){return this._position}get dimension(){return this._dimension}get alwaysHide(){return this._alwaysHide}get vertical(){return this._vertical}get scale(){return this._scale}setAlwaysHide(e){this._alwaysHide=e,this.visibility=e?"hidden":"visible"}hide(){this.opacity=0}show(){this.alwaysHide||(this.opacity=1)}isVisible(){return!this.alwaysHide&&0!==this.opacity}setVertical(e){this._vertical=e,this._vertical?(this.left="",this.width=""):(this.bottom="",this.height="")}setScale(e){this._scale=e}setPosition(e){this._position!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._position=e,this._vertical?this.bottom=Math.round(e)+"px":this.left=Math.round(e)+"px"}calculateDimension(){const e=this.getBoundingClientRect();this._dimension=this.vertical?(e.bottom-e.top)*this.scale:(e.right-e.left)*this.scale}setDimension(e){this._dimension!==e&&!this.isRefDestroyed()&&this.changeDetectionRef.markForCheck(),this._dimension=e,this._vertical?this.height=Math.round(e)+"px":this.width=Math.round(e)+"px"}getBoundingClientRect(){return this.elemRef.nativeElement.getBoundingClientRect()}on(e,i,r){const s=this.eventListenerHelper.attachEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}onPassive(e,i,r){const s=this.eventListenerHelper.attachPassiveEventListener(this.elemRef.nativeElement,e,i,r);this.eventListeners.push(s)}off(e){let i,r;T.isNullOrUndefined(e)?(i=[],r=this.eventListeners):(i=this.eventListeners.filter(s=>s.eventName!==e),r=this.eventListeners.filter(s=>s.eventName===e));for(const s of r)this.eventListenerHelper.detachEventListener(s);this.eventListeners=i}isRefDestroyed(){return T.isNullOrUndefined(this.changeDetectionRef)||this.changeDetectionRef.destroyed}}return n.\u0275fac=function(e){return new(e||n)(C(_t),C(Nn),C(pi))},n.\u0275dir=ie({type:n,selectors:[["","ngxSliderElement",""]],hostVars:12,hostBindings:function(e,i){2&e&&iu("opacity",i.opacity)("visibility",i.visibility)("left",i.left)("bottom",i.bottom)("height",i.height)("width",i.width)}}),n})(),ug=(()=>{class n extends Sr{constructor(e,i,r){super(e,i,r),this.active=!1,this.role="",this.tabindex="",this.ariaOrientation="",this.ariaLabel="",this.ariaLabelledBy="",this.ariaValueNow="",this.ariaValueText="",this.ariaValueMin="",this.ariaValueMax=""}focus(){this.elemRef.nativeElement.focus()}}return n.\u0275fac=function(e){return new(e||n)(C(_t),C(Nn),C(pi))},n.\u0275dir=ie({type:n,selectors:[["","ngxSliderHandle",""]],hostVars:11,hostBindings:function(e,i){2&e&&(on("role",i.role)("tabindex",i.tabindex)("aria-orientation",i.ariaOrientation)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-valuenow",i.ariaValueNow)("aria-valuetext",i.ariaValueText)("aria-valuemin",i.ariaValueMin)("aria-valuemax",i.ariaValueMax),Un("ngx-slider-active",i.active))},features:[we]}),n})(),co=(()=>{class n extends Sr{constructor(e,i,r){super(e,i,r),this._value=null}get value(){return this._value}setValue(e){let i=!1;!this.alwaysHide&&(T.isNullOrUndefined(this.value)||this.value.length!==e.length||this.value.length>0&&0===this.dimension)&&(i=!0),this._value=e,this.elemRef.nativeElement.innerHTML=e,i&&this.calculateDimension()}}return n.\u0275fac=function(e){return new(e||n)(C(_t),C(Nn),C(pi))},n.\u0275dir=ie({type:n,selectors:[["","ngxSliderLabel",""]],features:[we]}),n})();class FU{constructor(){this.selected=!1,this.style={},this.tooltip=null,this.tooltipPlacement=null,this.value=null,this.valueTooltip=null,this.valueTooltipPlacement=null,this.legend=null}}class DE{constructor(){this.active=!1,this.value=0,this.difference=0,this.position=0,this.lowLimit=0,this.highLimit=0}}class Rc{static compare(t,e){return!(T.isNullOrUndefined(t)&&T.isNullOrUndefined(e)||T.isNullOrUndefined(t)!==T.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue}}class EE extends Rc{static compare(t,e){return!(T.isNullOrUndefined(t)&&T.isNullOrUndefined(e)||T.isNullOrUndefined(t)!==T.isNullOrUndefined(e))&&t.value===e.value&&t.highValue===e.highValue&&t.forceChange===e.forceChange}}const VU={provide:ei,useExisting:Be(()=>ME),multi:!0};let ME=(()=>{class n{constructor(e,i,r,s){this.renderer=e,this.elementRef=i,this.changeDetectionRef=r,this.zone=s,this.value=null,this.valueChange=new Le,this.highValue=null,this.highValueChange=new Le,this.options=new Lc,this.userChangeStart=new Le,this.userChange=new Le,this.userChangeEnd=new Le,this.initHasRun=!1,this.inputModelChangeSubject=new V,this.inputModelChangeSubscription=null,this.outputModelChangeSubject=new V,this.outputModelChangeSubscription=null,this.viewLowValue=null,this.viewHighValue=null,this.viewOptions=new Lc,this.handleHalfDimension=0,this.maxHandlePosition=0,this.currentTrackingPointer=null,this.currentFocusPointer=null,this.firstKeyDown=!1,this.touchId=null,this.dragging=new DE,this.sliderElementVerticalClass=!1,this.sliderElementAnimateClass=!1,this.sliderElementWithLegendClass=!1,this.sliderElementDisabledAttr=null,this.barStyle={},this.minPointerStyle={},this.maxPointerStyle={},this.fullBarTransparentClass=!1,this.selectionBarDraggableClass=!1,this.ticksUnderValuesClass=!1,this.intermediateTicks=!1,this.ticks=[],this.eventListenerHelper=null,this.onMoveEventListener=null,this.onEndEventListener=null,this.moving=!1,this.resizeObserver=null,this.onTouchedCallback=null,this.onChangeCallback=null,this.eventListenerHelper=new CE(this.renderer)}set manualRefresh(e){this.unsubscribeManualRefresh(),this.manualRefreshSubscription=e.subscribe(()=>{setTimeout(()=>this.calculateViewDimensionsAndDetectChanges())})}set triggerFocus(e){this.unsubscribeTriggerFocus(),this.triggerFocusSubscription=e.subscribe(i=>{this.focusPointer(i)})}get range(){return!T.isNullOrUndefined(this.value)&&!T.isNullOrUndefined(this.highValue)}get showTicks(){return this.viewOptions.showTicks}ngOnInit(){this.viewOptions=new Lc,Object.assign(this.viewOptions,this.options),this.updateDisabledState(),this.updateVerticalState()}ngAfterViewInit(){this.applyOptions(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval),this.subscribeOutputModelChangeSubject(this.viewOptions.outputEventsInterval),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.updateVerticalState(),this.manageElementsStyle(),this.updateDisabledState(),this.calculateViewDimensions(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),this.initHandles(),this.manageEventsBindings(),this.subscribeResizeObserver(),this.initHasRun=!0,this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}ngOnChanges(e){T.isNullOrUndefined(e.options)||this.onChangeOptions(),(!T.isNullOrUndefined(e.value)||!T.isNullOrUndefined(e.highValue))&&this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}ngOnDestroy(){this.unbindEvents(),this.unsubscribeResizeObserver(),this.unsubscribeInputModelChangeSubject(),this.unsubscribeOutputModelChangeSubject(),this.unsubscribeManualRefresh(),this.unsubscribeTriggerFocus()}writeValue(e){e instanceof Array?(this.value=e[0],this.highValue=e[1]):this.value=e,this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!1})}registerOnChange(e){this.onChangeCallback=e}registerOnTouched(e){this.onTouchedCallback=e}setDisabledState(e){this.viewOptions.disabled=e,this.updateDisabledState()}onResize(e){this.calculateViewDimensionsAndDetectChanges()}subscribeInputModelChangeSubject(e){this.inputModelChangeSubscription=this.inputModelChangeSubject.pipe(og(EE.compare),vn(i=>!i.forceChange&&!i.internalChange),T.isNullOrUndefined(e)?Je(()=>{}):Oc(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.applyInputModelChange(i))}subscribeOutputModelChangeSubject(e){this.outputModelChangeSubscription=this.outputModelChangeSubject.pipe(og(EE.compare),T.isNullOrUndefined(e)?Je(()=>{}):Oc(e,void 0,{leading:!0,trailing:!0})).subscribe(i=>this.publishOutputModelChange(i))}subscribeResizeObserver(){Ir.isResizeObserverAvailable()&&(this.resizeObserver=new ResizeObserver(()=>this.calculateViewDimensionsAndDetectChanges()),this.resizeObserver.observe(this.elementRef.nativeElement))}unsubscribeResizeObserver(){Ir.isResizeObserverAvailable()&&null!==this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unsubscribeOnMove(){T.isNullOrUndefined(this.onMoveEventListener)||(this.eventListenerHelper.detachEventListener(this.onMoveEventListener),this.onMoveEventListener=null)}unsubscribeOnEnd(){T.isNullOrUndefined(this.onEndEventListener)||(this.eventListenerHelper.detachEventListener(this.onEndEventListener),this.onEndEventListener=null)}unsubscribeInputModelChangeSubject(){T.isNullOrUndefined(this.inputModelChangeSubscription)||(this.inputModelChangeSubscription.unsubscribe(),this.inputModelChangeSubscription=null)}unsubscribeOutputModelChangeSubject(){T.isNullOrUndefined(this.outputModelChangeSubscription)||(this.outputModelChangeSubscription.unsubscribe(),this.outputModelChangeSubscription=null)}unsubscribeManualRefresh(){T.isNullOrUndefined(this.manualRefreshSubscription)||(this.manualRefreshSubscription.unsubscribe(),this.manualRefreshSubscription=null)}unsubscribeTriggerFocus(){T.isNullOrUndefined(this.triggerFocusSubscription)||(this.triggerFocusSubscription.unsubscribe(),this.triggerFocusSubscription=null)}getPointerElement(e){return e===W.Min?this.minHandleElement:e===W.Max?this.maxHandleElement:null}getCurrentTrackingValue(){return this.currentTrackingPointer===W.Min?this.viewLowValue:this.currentTrackingPointer===W.Max?this.viewHighValue:null}modelValueToViewValue(e){return T.isNullOrUndefined(e)?NaN:T.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?+e:T.findStepIndex(+e,this.viewOptions.stepsArray)}viewValueToModelValue(e){return T.isNullOrUndefined(this.viewOptions.stepsArray)||this.viewOptions.bindIndexForStepsArray?e:this.getStepValue(e)}getStepValue(e){const i=this.viewOptions.stepsArray[e];return T.isNullOrUndefined(i)?NaN:i.value}applyViewChange(){this.value=this.viewValueToModelValue(this.viewLowValue),this.range&&(this.highValue=this.viewValueToModelValue(this.viewHighValue)),this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,userEventInitiated:!0,forceChange:!1}),this.inputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!1,internalChange:!0})}applyInputModelChange(e){const i=this.normaliseModelValues(e),r=!Rc.compare(e,i);r&&(this.value=i.value,this.highValue=i.highValue),this.viewLowValue=this.modelValueToViewValue(i.value),this.viewHighValue=this.range?this.modelValueToViewValue(i.highValue):null,this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCombinedLabel(),this.outputModelChangeSubject.next({value:i.value,highValue:i.highValue,forceChange:r,userEventInitiated:!1})}publishOutputModelChange(e){const i=()=>{this.valueChange.emit(e.value),this.range&&this.highValueChange.emit(e.highValue),T.isNullOrUndefined(this.onChangeCallback)||this.onChangeCallback(this.range?[e.value,e.highValue]:e.value),T.isNullOrUndefined(this.onTouchedCallback)||this.onTouchedCallback(this.range?[e.value,e.highValue]:e.value)};e.userEventInitiated?(i(),this.userChange.emit(this.getChangeContext())):setTimeout(()=>{i()})}normaliseModelValues(e){const i=new Rc;if(i.value=e.value,i.highValue=e.highValue,!T.isNullOrUndefined(this.viewOptions.stepsArray)){if(this.viewOptions.enforceStepsArray){const r=T.findStepIndex(i.value,this.viewOptions.stepsArray);if(i.value=this.viewOptions.stepsArray[r].value,this.range){const s=T.findStepIndex(i.highValue,this.viewOptions.stepsArray);i.highValue=this.viewOptions.stepsArray[s].value}}return i}if(this.viewOptions.enforceStep&&(i.value=this.roundStep(i.value),this.range&&(i.highValue=this.roundStep(i.highValue))),this.viewOptions.enforceRange&&(i.value=Dt.clampToRange(i.value,this.viewOptions.floor,this.viewOptions.ceil),this.range&&(i.highValue=Dt.clampToRange(i.highValue,this.viewOptions.floor,this.viewOptions.ceil)),this.range&&e.value>e.highValue))if(this.viewOptions.noSwitching)i.value=i.highValue;else{const r=e.value;i.value=e.highValue,i.highValue=r}return i}renormaliseModelValues(){const e={value:this.value,highValue:this.highValue},i=this.normaliseModelValues(e);Rc.compare(i,e)||(this.value=i.value,this.highValue=i.highValue,this.outputModelChangeSubject.next({value:this.value,highValue:this.highValue,forceChange:!0,userEventInitiated:!1}))}onChangeOptions(){if(!this.initHasRun)return;const e=this.viewOptions.inputEventsInterval,i=this.viewOptions.outputEventsInterval,r=this.getOptionsInfluencingEventBindings(this.viewOptions);this.applyOptions();const s=this.getOptionsInfluencingEventBindings(this.viewOptions),o=!T.areArraysEqual(r,s);e!==this.viewOptions.inputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.inputEventsInterval)),i!==this.viewOptions.outputEventsInterval&&(this.unsubscribeInputModelChangeSubject(),this.subscribeInputModelChangeSubject(this.viewOptions.outputEventsInterval)),this.renormaliseModelValues(),this.viewLowValue=this.modelValueToViewValue(this.value),this.viewHighValue=this.range?this.modelValueToViewValue(this.highValue):null,this.resetSlider(o)}applyOptions(){if(this.viewOptions=new Lc,Object.assign(this.viewOptions,this.options),this.viewOptions.draggableRange=this.range&&this.viewOptions.draggableRange,this.viewOptions.draggableRangeOnly=this.range&&this.viewOptions.draggableRangeOnly,this.viewOptions.draggableRangeOnly&&(this.viewOptions.draggableRange=!0),this.viewOptions.showTicks=this.viewOptions.showTicks||this.viewOptions.showTicksValues||!T.isNullOrUndefined(this.viewOptions.ticksArray),this.viewOptions.showTicks&&(!T.isNullOrUndefined(this.viewOptions.tickStep)||!T.isNullOrUndefined(this.viewOptions.ticksArray))&&(this.intermediateTicks=!0),this.viewOptions.showSelectionBar=this.viewOptions.showSelectionBar||this.viewOptions.showSelectionBarEnd||!T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue),T.isNullOrUndefined(this.viewOptions.stepsArray)?this.applyFloorCeilOptions():this.applyStepsArrayOptions(),T.isNullOrUndefined(this.viewOptions.combineLabels)&&(this.viewOptions.combineLabels=(e,i)=>e+" - "+i),this.viewOptions.logScale&&0===this.viewOptions.floor)throw Error("Can't use floor=0 with logarithmic scale")}applyStepsArrayOptions(){this.viewOptions.floor=0,this.viewOptions.ceil=this.viewOptions.stepsArray.length-1,this.viewOptions.step=1,T.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(this.viewOptions.bindIndexForStepsArray?this.getStepValue(e):e))}applyFloorCeilOptions(){if(T.isNullOrUndefined(this.viewOptions.step)?this.viewOptions.step=1:(this.viewOptions.step=+this.viewOptions.step,this.viewOptions.step<=0&&(this.viewOptions.step=1)),T.isNullOrUndefined(this.viewOptions.ceil)||T.isNullOrUndefined(this.viewOptions.floor))throw Error("floor and ceil options must be supplied");this.viewOptions.ceil=+this.viewOptions.ceil,this.viewOptions.floor=+this.viewOptions.floor,T.isNullOrUndefined(this.viewOptions.translate)&&(this.viewOptions.translate=e=>String(e))}resetSlider(e=!0){this.manageElementsStyle(),this.addAccessibility(),this.updateCeilLabel(),this.updateFloorLabel(),e&&(this.unbindEvents(),this.manageEventsBindings()),this.updateDisabledState(),this.calculateViewDimensions(),this.refocusPointerIfNeeded()}focusPointer(e){e!==W.Min&&e!==W.Max&&(e=W.Min),e===W.Min?this.minHandleElement.focus():this.range&&e===W.Max&&this.maxHandleElement.focus()}refocusPointerIfNeeded(){T.isNullOrUndefined(this.currentFocusPointer)||(this.onPointerFocus(this.currentFocusPointer),this.getPointerElement(this.currentFocusPointer).focus())}manageElementsStyle(){this.updateScale(),this.floorLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels),this.ceilLabelElement.setAlwaysHide(this.viewOptions.showTicksValues||this.viewOptions.hideLimitLabels);const e=this.viewOptions.showTicksValues&&!this.intermediateTicks;this.minHandleLabelElement.setAlwaysHide(e||this.viewOptions.hidePointerLabels),this.maxHandleLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.combinedLabelElement.setAlwaysHide(e||!this.range||this.viewOptions.hidePointerLabels),this.selectionBarElement.setAlwaysHide(!this.range&&!this.viewOptions.showSelectionBar),this.leftOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.rightOuterSelectionBarElement.setAlwaysHide(!this.range||!this.viewOptions.showOuterSelectionBars),this.fullBarTransparentClass=this.range&&this.viewOptions.showOuterSelectionBars,this.selectionBarDraggableClass=this.viewOptions.draggableRange&&!this.viewOptions.onlyBindHandles,this.ticksUnderValuesClass=this.intermediateTicks&&this.options.showTicksValues,this.sliderElementVerticalClass!==this.viewOptions.vertical&&(this.updateVerticalState(),setTimeout(()=>{this.resetSlider()})),this.sliderElementAnimateClass!==this.viewOptions.animate&&setTimeout(()=>{this.sliderElementAnimateClass=this.viewOptions.animate})}manageEventsBindings(){this.viewOptions.disabled||this.viewOptions.readOnly?this.unbindEvents():this.bindEvents()}updateDisabledState(){this.sliderElementDisabledAttr=this.viewOptions.disabled?"disabled":null}updateVerticalState(){this.sliderElementVerticalClass=this.viewOptions.vertical;for(const e of this.getAllSliderElements())T.isNullOrUndefined(e)||e.setVertical(this.viewOptions.vertical)}updateScale(){for(const e of this.getAllSliderElements())e.setScale(this.viewOptions.scale)}getAllSliderElements(){return[this.leftOuterSelectionBarElement,this.rightOuterSelectionBarElement,this.fullBarElement,this.selectionBarElement,this.minHandleElement,this.maxHandleElement,this.floorLabelElement,this.ceilLabelElement,this.minHandleLabelElement,this.maxHandleLabelElement,this.combinedLabelElement,this.ticksElement]}initHandles(){this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.range&&this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateSelectionBar(),this.range&&this.updateCombinedLabel(),this.updateTicksScale()}addAccessibility(){this.updateAriaAttributes(),this.minHandleElement.role="slider",this.minHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.minHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",T.isNullOrUndefined(this.viewOptions.ariaLabel)?T.isNullOrUndefined(this.viewOptions.ariaLabelledBy)||(this.minHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledBy):this.minHandleElement.ariaLabel=this.viewOptions.ariaLabel,this.range&&(this.maxHandleElement.role="slider",this.maxHandleElement.tabindex=!this.viewOptions.keyboardSupport||this.viewOptions.readOnly||this.viewOptions.disabled?"":"0",this.maxHandleElement.ariaOrientation=this.viewOptions.vertical?"vertical":"horizontal",T.isNullOrUndefined(this.viewOptions.ariaLabelHigh)?T.isNullOrUndefined(this.viewOptions.ariaLabelledByHigh)||(this.maxHandleElement.ariaLabelledBy=this.viewOptions.ariaLabelledByHigh):this.maxHandleElement.ariaLabel=this.viewOptions.ariaLabelHigh)}updateAriaAttributes(){this.minHandleElement.ariaValueNow=(+this.value).toString(),this.minHandleElement.ariaValueText=this.viewOptions.translate(+this.value,Bt.Low),this.minHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.minHandleElement.ariaValueMax=this.viewOptions.ceil.toString(),this.range&&(this.maxHandleElement.ariaValueNow=(+this.highValue).toString(),this.maxHandleElement.ariaValueText=this.viewOptions.translate(+this.highValue,Bt.High),this.maxHandleElement.ariaValueMin=this.viewOptions.floor.toString(),this.maxHandleElement.ariaValueMax=this.viewOptions.ceil.toString())}calculateViewDimensions(){T.isNullOrUndefined(this.viewOptions.handleDimension)?this.minHandleElement.calculateDimension():this.minHandleElement.setDimension(this.viewOptions.handleDimension);const e=this.minHandleElement.dimension;this.handleHalfDimension=e/2,T.isNullOrUndefined(this.viewOptions.barDimension)?this.fullBarElement.calculateDimension():this.fullBarElement.setDimension(this.viewOptions.barDimension),this.maxHandlePosition=this.fullBarElement.dimension-e,this.initHasRun&&(this.updateFloorLabel(),this.updateCeilLabel(),this.initHandles())}calculateViewDimensionsAndDetectChanges(){this.calculateViewDimensions(),this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}isRefDestroyed(){return this.changeDetectionRef.destroyed}updateTicksScale(){if(!this.viewOptions.showTicks)return void setTimeout(()=>{this.sliderElementWithLegendClass=!1});const e=T.isNullOrUndefined(this.viewOptions.ticksArray)?this.getTicksArray():this.viewOptions.ticksArray,i=this.viewOptions.vertical?"translateY":"translateX";this.viewOptions.rightToLeft&&e.reverse();const r=T.isNullOrUndefined(this.viewOptions.tickValueStep)?T.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep:this.viewOptions.tickValueStep;let s=!1;const o=e.map(l=>{let u=this.valueToPosition(l);this.viewOptions.vertical&&(u=this.maxHandlePosition-u);const h=i+"("+Math.round(u)+"px)",f=new FU;f.selected=this.isTickSelected(l),f.style={"-webkit-transform":h,"-moz-transform":h,"-o-transform":h,"-ms-transform":h,transform:h},f.selected&&!T.isNullOrUndefined(this.viewOptions.getSelectionBarColor)&&(f.style["background-color"]=this.getSelectionBarColor()),!f.selected&&!T.isNullOrUndefined(this.viewOptions.getTickColor)&&(f.style["background-color"]=this.getTickColor(l)),T.isNullOrUndefined(this.viewOptions.ticksTooltip)||(f.tooltip=this.viewOptions.ticksTooltip(l),f.tooltipPlacement=this.viewOptions.vertical?"right":"top"),this.viewOptions.showTicksValues&&!T.isNullOrUndefined(r)&&Dt.isModuloWithinPrecisionLimit(l,r,this.viewOptions.precisionLimit)&&(f.value=this.getDisplayValue(l,Bt.TickValue),T.isNullOrUndefined(this.viewOptions.ticksValuesTooltip)||(f.valueTooltip=this.viewOptions.ticksValuesTooltip(l),f.valueTooltipPlacement=this.viewOptions.vertical?"right":"top"));let g=null;if(T.isNullOrUndefined(this.viewOptions.stepsArray))T.isNullOrUndefined(this.viewOptions.getLegend)||(g=this.viewOptions.getLegend(l));else{const m=this.viewOptions.stepsArray[l];T.isNullOrUndefined(m)||(g=m.legend)}return T.isNullOrUndefined(g)||(f.legend=g,s=!0),f});if(setTimeout(()=>{this.sliderElementWithLegendClass=s}),T.isNullOrUndefined(this.ticks)||this.ticks.length!==o.length)this.ticks=o;else for(let l=0;l<o.length;++l)Object.assign(this.ticks[l],o[l]);this.isRefDestroyed()||this.changeDetectionRef.detectChanges()}getTicksArray(){const e=T.isNullOrUndefined(this.viewOptions.tickStep)?this.viewOptions.step:this.viewOptions.tickStep,i=[],r=1+Math.floor(Dt.roundToPrecisionLimit(Math.abs(this.viewOptions.ceil-this.viewOptions.floor)/e,this.viewOptions.precisionLimit));for(let s=0;s<r;++s)i.push(Dt.roundToPrecisionLimit(this.viewOptions.floor+e*s,this.viewOptions.precisionLimit));return i}isTickSelected(e){if(!this.range)if(T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)){if(this.viewOptions.showSelectionBarEnd){if(e>=this.viewLowValue)return!0}else if(this.viewOptions.showSelectionBar&&e<=this.viewLowValue)return!0}else{const i=this.viewOptions.showSelectionBarFromValue;if(this.viewLowValue>i&&e>=i&&e<=this.viewLowValue)return!0;if(this.viewLowValue<i&&e<=i&&e>=this.viewLowValue)return!0}return!!(this.range&&e>=this.viewLowValue&&e<=this.viewHighValue)}updateFloorLabel(){this.floorLabelElement.alwaysHide||(this.floorLabelElement.setValue(this.getDisplayValue(this.viewOptions.floor,Bt.Floor)),this.floorLabelElement.calculateDimension(),this.floorLabelElement.setPosition(this.viewOptions.rightToLeft?this.fullBarElement.dimension-this.floorLabelElement.dimension:0))}updateCeilLabel(){this.ceilLabelElement.alwaysHide||(this.ceilLabelElement.setValue(this.getDisplayValue(this.viewOptions.ceil,Bt.Ceil)),this.ceilLabelElement.calculateDimension(),this.ceilLabelElement.setPosition(this.viewOptions.rightToLeft?0:this.fullBarElement.dimension-this.ceilLabelElement.dimension))}updateHandles(e,i){e===W.Min?this.updateLowHandle(i):e===W.Max&&this.updateHighHandle(i),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCombinedLabel()}getHandleLabelPos(e,i){const r=e===W.Min?this.minHandleLabelElement.dimension:this.maxHandleLabelElement.dimension,s=i-r/2+this.handleHalfDimension,o=this.fullBarElement.dimension-r;return this.viewOptions.boundPointerLabels?this.viewOptions.rightToLeft&&e===W.Min||!this.viewOptions.rightToLeft&&e===W.Max?Math.min(s,o):Math.min(Math.max(s,0),o):s}updateLowHandle(e){this.minHandleElement.setPosition(e),this.minHandleLabelElement.setValue(this.getDisplayValue(this.viewLowValue,Bt.Low)),this.minHandleLabelElement.setPosition(this.getHandleLabelPos(W.Min,e)),T.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.minPointerStyle={backgroundColor:this.getPointerColor(W.Min)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateHighHandle(e){this.maxHandleElement.setPosition(e),this.maxHandleLabelElement.setValue(this.getDisplayValue(this.viewHighValue,Bt.High)),this.maxHandleLabelElement.setPosition(this.getHandleLabelPos(W.Max,e)),T.isNullOrUndefined(this.viewOptions.getPointerColor)||(this.maxPointerStyle={backgroundColor:this.getPointerColor(W.Max)}),this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}updateFloorAndCeilLabelsVisibility(){if(this.viewOptions.hidePointerLabels)return;let e=!1,i=!1;const r=this.isLabelBelowFloorLabel(this.minHandleLabelElement),s=this.isLabelAboveCeilLabel(this.minHandleLabelElement),o=this.isLabelAboveCeilLabel(this.maxHandleLabelElement),l=this.isLabelBelowFloorLabel(this.combinedLabelElement),u=this.isLabelAboveCeilLabel(this.combinedLabelElement);if(r?(e=!0,this.floorLabelElement.hide()):(e=!1,this.floorLabelElement.show()),s?(i=!0,this.ceilLabelElement.hide()):(i=!1,this.ceilLabelElement.show()),this.range){const h=this.combinedLabelElement.isVisible()?u:o,f=this.combinedLabelElement.isVisible()?l:r;h?this.ceilLabelElement.hide():i||this.ceilLabelElement.show(),f?this.floorLabelElement.hide():e||this.floorLabelElement.show()}}isLabelBelowFloorLabel(e){const i=e.position,s=this.floorLabelElement.position;return this.viewOptions.rightToLeft?i+e.dimension>=s-2:i<=s+this.floorLabelElement.dimension+2}isLabelAboveCeilLabel(e){const i=e.position,s=this.ceilLabelElement.position;return this.viewOptions.rightToLeft?i<=s+this.ceilLabelElement.dimension+2:i+e.dimension>=s-2}updateSelectionBar(){let e=0,i=0;const r=this.viewOptions.rightToLeft?!this.viewOptions.showSelectionBarEnd:this.viewOptions.showSelectionBarEnd,s=this.viewOptions.rightToLeft?this.maxHandleElement.position+this.handleHalfDimension:this.minHandleElement.position+this.handleHalfDimension;if(this.range)i=Math.abs(this.maxHandleElement.position-this.minHandleElement.position),e=s;else if(T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue))r?(i=Math.ceil(Math.abs(this.maxHandlePosition-this.minHandleElement.position)+this.handleHalfDimension),e=Math.floor(this.minHandleElement.position+this.handleHalfDimension)):(i=this.minHandleElement.position+this.handleHalfDimension,e=0);else{const o=this.viewOptions.showSelectionBarFromValue,l=this.valueToPosition(o);(this.viewOptions.rightToLeft?this.viewLowValue<=o:this.viewLowValue>o)?(i=this.minHandleElement.position-l,e=l+this.handleHalfDimension):(i=l-this.minHandleElement.position,e=this.minHandleElement.position+this.handleHalfDimension)}if(this.selectionBarElement.setDimension(i),this.selectionBarElement.setPosition(e),this.range&&this.viewOptions.showOuterSelectionBars&&(this.viewOptions.rightToLeft?(this.rightOuterSelectionBarElement.setDimension(e),this.rightOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.leftOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.leftOuterSelectionBarElement.setPosition(e+i)):(this.leftOuterSelectionBarElement.setDimension(e),this.leftOuterSelectionBarElement.setPosition(0),this.fullBarElement.calculateDimension(),this.rightOuterSelectionBarElement.setDimension(this.fullBarElement.dimension-(e+i)),this.rightOuterSelectionBarElement.setPosition(e+i))),T.isNullOrUndefined(this.viewOptions.getSelectionBarColor)){if(!T.isNullOrUndefined(this.viewOptions.selectionBarGradient)){const o=T.isNullOrUndefined(this.viewOptions.showSelectionBarFromValue)?0:this.valueToPosition(this.viewOptions.showSelectionBarFromValue),l=o-e>0&&!r||o-e<=0&&r;this.barStyle={backgroundImage:"linear-gradient(to "+(this.viewOptions.vertical?l?"bottom":"top":l?"left":"right")+", "+this.viewOptions.selectionBarGradient.from+" 0%,"+this.viewOptions.selectionBarGradient.to+" 100%)"},this.viewOptions.vertical?(this.barStyle.backgroundPosition="center "+(o+i+e+(l?-this.handleHalfDimension:0))+"px",this.barStyle.backgroundSize="100% "+(this.fullBarElement.dimension-this.handleHalfDimension)+"px"):(this.barStyle.backgroundPosition=o-e+(l?this.handleHalfDimension:0)+"px center",this.barStyle.backgroundSize=this.fullBarElement.dimension-this.handleHalfDimension+"px 100%")}}else{const o=this.getSelectionBarColor();this.barStyle={backgroundColor:o}}}getSelectionBarColor(){return this.range?this.viewOptions.getSelectionBarColor(this.value,this.highValue):this.viewOptions.getSelectionBarColor(this.value)}getPointerColor(e){return this.viewOptions.getPointerColor(e===W.Max?this.highValue:this.value,e)}getTickColor(e){return this.viewOptions.getTickColor(e)}updateCombinedLabel(){let e=null;if(e=this.viewOptions.rightToLeft?this.minHandleLabelElement.position-this.minHandleLabelElement.dimension-10<=this.maxHandleLabelElement.position:this.minHandleLabelElement.position+this.minHandleLabelElement.dimension+10>=this.maxHandleLabelElement.position,e){const i=this.getDisplayValue(this.viewLowValue,Bt.Low),r=this.getDisplayValue(this.viewHighValue,Bt.High),s=this.viewOptions.rightToLeft?this.viewOptions.combineLabels(r,i):this.viewOptions.combineLabels(i,r);this.combinedLabelElement.setValue(s);const o=this.viewOptions.boundPointerLabels?Math.min(Math.max(this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2,0),this.fullBarElement.dimension-this.combinedLabelElement.dimension):this.selectionBarElement.position+this.selectionBarElement.dimension/2-this.combinedLabelElement.dimension/2;this.combinedLabelElement.setPosition(o),this.minHandleLabelElement.hide(),this.maxHandleLabelElement.hide(),this.combinedLabelElement.show()}else this.updateHighHandle(this.valueToPosition(this.viewHighValue)),this.updateLowHandle(this.valueToPosition(this.viewLowValue)),this.maxHandleLabelElement.show(),this.minHandleLabelElement.show(),this.combinedLabelElement.hide();this.viewOptions.autoHideLimitLabels&&this.updateFloorAndCeilLabelsVisibility()}getDisplayValue(e,i){return!T.isNullOrUndefined(this.viewOptions.stepsArray)&&!this.viewOptions.bindIndexForStepsArray&&(e=this.getStepValue(e)),this.viewOptions.translate(e,i)}roundStep(e,i){const r=T.isNullOrUndefined(i)?this.viewOptions.step:i;let s=Dt.roundToPrecisionLimit((e-this.viewOptions.floor)/r,this.viewOptions.precisionLimit);return s=Math.round(s)*r,Dt.roundToPrecisionLimit(this.viewOptions.floor+s,this.viewOptions.precisionLimit)}valueToPosition(e){let i=T.linearValueToPosition;T.isNullOrUndefined(this.viewOptions.customValueToPosition)?this.viewOptions.logScale&&(i=T.logValueToPosition):i=this.viewOptions.customValueToPosition;let r=i(e=Dt.clampToRange(e,this.viewOptions.floor,this.viewOptions.ceil),this.viewOptions.floor,this.viewOptions.ceil);return T.isNullOrUndefined(r)&&(r=0),this.viewOptions.rightToLeft&&(r=1-r),r*this.maxHandlePosition}positionToValue(e){let i=e/this.maxHandlePosition;this.viewOptions.rightToLeft&&(i=1-i);let r=T.linearPositionToValue;T.isNullOrUndefined(this.viewOptions.customPositionToValue)?this.viewOptions.logScale&&(r=T.logPositionToValue):r=this.viewOptions.customPositionToValue;const s=r(i,this.viewOptions.floor,this.viewOptions.ceil);return T.isNullOrUndefined(s)?0:s}getEventXY(e,i){if(e instanceof MouseEvent)return this.viewOptions.vertical?e.clientY:e.clientX;let r=0;const s=e.touches;if(!T.isNullOrUndefined(i))for(let o=0;o<s.length;o++)if(s[o].identifier===i){r=o;break}return this.viewOptions.vertical?s[r].clientY:s[r].clientX}getEventPosition(e,i){const r=this.elementRef.nativeElement.getBoundingClientRect(),s=this.viewOptions.vertical?r.bottom:r.left;let o=0;return o=this.viewOptions.vertical?-this.getEventXY(e,i)+s:this.getEventXY(e,i)-s,o*this.viewOptions.scale-this.handleHalfDimension}getNearestHandle(e){if(!this.range)return W.Min;const i=this.getEventPosition(e),r=Math.abs(i-this.minHandleElement.position),s=Math.abs(i-this.maxHandleElement.position);return r<s?W.Min:r>s?W.Max:this.viewOptions.rightToLeft?i>this.minHandleElement.position?W.Min:W.Max:i<this.minHandleElement.position?W.Min:W.Max}bindEvents(){const e=this.viewOptions.draggableRange;this.viewOptions.onlyBindHandles||this.selectionBarElement.on("mousedown",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.on("mousedown",i=>this.onBarStart(W.Min,e,i,!0,!0)),this.maxHandleElement.on("mousedown",i=>this.onBarStart(W.Max,e,i,!0,!0))):(this.minHandleElement.on("mousedown",i=>this.onStart(W.Min,i,!0,!0)),this.range&&this.maxHandleElement.on("mousedown",i=>this.onStart(W.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.on("mousedown",i=>this.onStart(null,i,!0,!0,!0,!0)))),this.viewOptions.onlyBindHandles||this.selectionBarElement.onPassive("touchstart",i=>this.onBarStart(null,e,i,!0,!0,!0)),this.viewOptions.draggableRangeOnly?(this.minHandleElement.onPassive("touchstart",i=>this.onBarStart(W.Min,e,i,!0,!0)),this.maxHandleElement.onPassive("touchstart",i=>this.onBarStart(W.Max,e,i,!0,!0))):(this.minHandleElement.onPassive("touchstart",i=>this.onStart(W.Min,i,!0,!0)),this.range&&this.maxHandleElement.onPassive("touchstart",i=>this.onStart(W.Max,i,!0,!0)),this.viewOptions.onlyBindHandles||(this.fullBarElement.onPassive("touchstart",i=>this.onStart(null,i,!0,!0,!0)),this.ticksElement.onPassive("touchstart",i=>this.onStart(null,i,!1,!1,!0,!0)))),this.viewOptions.keyboardSupport&&(this.minHandleElement.on("focus",()=>this.onPointerFocus(W.Min)),this.range&&this.maxHandleElement.on("focus",()=>this.onPointerFocus(W.Max)))}getOptionsInfluencingEventBindings(e){return[e.disabled,e.readOnly,e.draggableRange,e.draggableRangeOnly,e.onlyBindHandles,e.keyboardSupport]}unbindEvents(){this.unsubscribeOnMove(),this.unsubscribeOnEnd();for(const e of this.getAllSliderElements())T.isNullOrUndefined(e)||e.off()}onBarStart(e,i,r,s,o,l,u){i?this.onDragStart(e,r,s,o):this.onStart(e,r,s,o,l,u)}onStart(e,i,r,s,o,l){i.stopPropagation(),(!Ir.isTouchEvent(i)||!_E.Z.hasSupport)&&i.preventDefault(),this.moving=!1,this.calculateViewDimensions(),T.isNullOrUndefined(e)&&(e=this.getNearestHandle(i)),this.currentTrackingPointer=e;const u=this.getPointerElement(e);if(u.active=!0,this.viewOptions.keyboardSupport&&u.focus(),r){this.unsubscribeOnMove();const h=f=>this.dragging.active?this.onDragMove(f):this.onMove(f);this.onMoveEventListener=Ir.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchmove",h,this.viewOptions.touchEventsInterval):this.eventListenerHelper.attachEventListener(document,"mousemove",h,this.viewOptions.mouseEventsInterval)}if(s){this.unsubscribeOnEnd();const h=f=>this.onEnd(f);this.onEndEventListener=Ir.isTouchEvent(i)?this.eventListenerHelper.attachPassiveEventListener(document,"touchend",h):this.eventListenerHelper.attachEventListener(document,"mouseup",h)}this.userChangeStart.emit(this.getChangeContext()),Ir.isTouchEvent(i)&&!T.isNullOrUndefined(i.changedTouches)&&T.isNullOrUndefined(this.touchId)&&(this.touchId=i.changedTouches[0].identifier),o&&this.onMove(i,!0),l&&this.onEnd(i)}onMove(e,i){let r=null;if(Ir.isTouchEvent(e)){const h=e.changedTouches;for(let f=0;f<h.length;f++)if(h[f].identifier===this.touchId){r=h[f];break}if(T.isNullOrUndefined(r))return}this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0;const s=T.isNullOrUndefined(r)?this.getEventPosition(e):this.getEventPosition(e,r.identifier);let o;s<=0?o=this.viewOptions.rightToLeft?this.viewOptions.ceil:this.viewOptions.floor:s>=this.maxHandlePosition?o=this.viewOptions.rightToLeft?this.viewOptions.floor:this.viewOptions.ceil:(o=this.positionToValue(s),o=i&&!T.isNullOrUndefined(this.viewOptions.tickStep)?this.roundStep(o,this.viewOptions.tickStep):this.roundStep(o)),this.positionTrackingHandle(o)}onEnd(e){Ir.isTouchEvent(e)&&e.changedTouches[0].identifier!==this.touchId||(this.moving=!1,this.viewOptions.animate&&(this.sliderElementAnimateClass=!0),this.touchId=null,this.viewOptions.keyboardSupport||(this.minHandleElement.active=!1,this.maxHandleElement.active=!1,this.currentTrackingPointer=null),this.dragging.active=!1,this.unsubscribeOnMove(),this.unsubscribeOnEnd(),this.userChangeEnd.emit(this.getChangeContext()))}onPointerFocus(e){const i=this.getPointerElement(e);i.on("blur",()=>this.onPointerBlur(i)),i.on("keydown",r=>this.onKeyboardEvent(r)),i.on("keyup",()=>this.onKeyUp()),i.active=!0,this.currentTrackingPointer=e,this.currentFocusPointer=e,this.firstKeyDown=!0}onKeyUp(){this.firstKeyDown=!0,this.userChangeEnd.emit(this.getChangeContext())}onPointerBlur(e){e.off("blur"),e.off("keydown"),e.off("keyup"),e.active=!1,T.isNullOrUndefined(this.touchId)&&(this.currentTrackingPointer=null,this.currentFocusPointer=null)}getKeyActions(e){const i=this.viewOptions.ceil-this.viewOptions.floor;let r=e+this.viewOptions.step,s=e-this.viewOptions.step,o=e+i/10,l=e-i/10;this.viewOptions.reversedControls&&(r=e-this.viewOptions.step,s=e+this.viewOptions.step,o=e-i/10,l=e+i/10);const u={UP:r,DOWN:s,LEFT:s,RIGHT:r,PAGEUP:o,PAGEDOWN:l,HOME:this.viewOptions.reversedControls?this.viewOptions.ceil:this.viewOptions.floor,END:this.viewOptions.reversedControls?this.viewOptions.floor:this.viewOptions.ceil};return this.viewOptions.rightToLeft&&(u.LEFT=r,u.RIGHT=s,this.viewOptions.vertical&&(u.UP=s,u.DOWN=r)),u}onKeyboardEvent(e){const i=this.getCurrentTrackingValue(),r=T.isNullOrUndefined(e.keyCode)?e.which:e.keyCode,u=this.getKeyActions(i)[{38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"}[r]];if(T.isNullOrUndefined(u)||T.isNullOrUndefined(this.currentTrackingPointer))return;e.preventDefault(),this.firstKeyDown&&(this.firstKeyDown=!1,this.userChangeStart.emit(this.getChangeContext()));const h=Dt.clampToRange(u,this.viewOptions.floor,this.viewOptions.ceil),f=this.roundStep(h);if(this.viewOptions.draggableRangeOnly){const g=this.viewHighValue-this.viewLowValue;let m,y;this.currentTrackingPointer===W.Min?(m=f,y=f+g,y>this.viewOptions.ceil&&(y=this.viewOptions.ceil,m=y-g)):this.currentTrackingPointer===W.Max&&(y=f,m=f-g,m<this.viewOptions.floor&&(m=this.viewOptions.floor,y=m+g)),this.positionTrackingBar(m,y)}else this.positionTrackingHandle(f)}onDragStart(e,i,r,s){const o=this.getEventPosition(i);this.dragging=new DE,this.dragging.active=!0,this.dragging.value=this.positionToValue(o),this.dragging.difference=this.viewHighValue-this.viewLowValue,this.dragging.lowLimit=this.viewOptions.rightToLeft?this.minHandleElement.position-o:o-this.minHandleElement.position,this.dragging.highLimit=this.viewOptions.rightToLeft?o-this.maxHandleElement.position:this.maxHandleElement.position-o,this.onStart(e,i,r,s)}getMinValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor:this.viewOptions.ceil-this.dragging.difference:s?this.viewOptions.ceil-this.dragging.difference:this.viewOptions.floor:this.positionToValue(s?e+this.dragging.lowLimit:e-this.dragging.lowLimit),this.roundStep(o)}getMaxValue(e,i,r){const s=this.viewOptions.rightToLeft;let o=null;return o=i?r?s?this.viewOptions.floor+this.dragging.difference:this.viewOptions.ceil:s?this.viewOptions.ceil:this.viewOptions.floor+this.dragging.difference:s?this.positionToValue(e+this.dragging.lowLimit)+this.dragging.difference:this.positionToValue(e-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(o)}onDragMove(e){const i=this.getEventPosition(e);let r,s,o,l;this.viewOptions.animate&&!this.viewOptions.animateOnMove&&this.moving&&(this.sliderElementAnimateClass=!1),this.moving=!0,this.viewOptions.rightToLeft?(r=this.dragging.lowLimit,s=this.dragging.highLimit,o=this.maxHandleElement,l=this.minHandleElement):(r=this.dragging.highLimit,s=this.dragging.lowLimit,o=this.minHandleElement,l=this.maxHandleElement);const h=i>=this.maxHandlePosition-r;let f,g;if(i<=s){if(0===o.position)return;f=this.getMinValue(i,!0,!1),g=this.getMaxValue(i,!0,!1)}else if(h){if(l.position===this.maxHandlePosition)return;g=this.getMaxValue(i,!0,!0),f=this.getMinValue(i,!0,!0)}else f=this.getMinValue(i,!1,!1),g=this.getMaxValue(i,!1,!1);this.positionTrackingBar(f,g)}positionTrackingBar(e,i){!T.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit&&(i=Dt.roundToPrecisionLimit((e=this.viewOptions.minLimit)+this.dragging.difference,this.viewOptions.precisionLimit)),!T.isNullOrUndefined(this.viewOptions.maxLimit)&&i>this.viewOptions.maxLimit&&(e=Dt.roundToPrecisionLimit((i=this.viewOptions.maxLimit)-this.dragging.difference,this.viewOptions.precisionLimit)),this.viewLowValue=e,this.viewHighValue=i,this.applyViewChange(),this.updateHandles(W.Min,this.valueToPosition(e)),this.updateHandles(W.Max,this.valueToPosition(i))}positionTrackingHandle(e){e=this.applyMinMaxLimit(e),this.range&&(this.viewOptions.pushRange?e=this.applyPushRange(e):(this.viewOptions.noSwitching&&(this.currentTrackingPointer===W.Min&&e>this.viewHighValue?e=this.applyMinMaxRange(this.viewHighValue):this.currentTrackingPointer===W.Max&&e<this.viewLowValue&&(e=this.applyMinMaxRange(this.viewLowValue))),e=this.applyMinMaxRange(e),this.currentTrackingPointer===W.Min&&e>this.viewHighValue?(this.viewLowValue=this.viewHighValue,this.applyViewChange(),this.updateHandles(W.Min,this.maxHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=W.Max,this.minHandleElement.active=!1,this.maxHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.maxHandleElement.focus()):this.currentTrackingPointer===W.Max&&e<this.viewLowValue&&(this.viewHighValue=this.viewLowValue,this.applyViewChange(),this.updateHandles(W.Max,this.minHandleElement.position),this.updateAriaAttributes(),this.currentTrackingPointer=W.Min,this.maxHandleElement.active=!1,this.minHandleElement.active=!0,this.viewOptions.keyboardSupport&&this.minHandleElement.focus()))),this.getCurrentTrackingValue()!==e&&(this.currentTrackingPointer===W.Min?(this.viewLowValue=e,this.applyViewChange()):this.currentTrackingPointer===W.Max&&(this.viewHighValue=e,this.applyViewChange()),this.updateHandles(this.currentTrackingPointer,this.valueToPosition(e)),this.updateAriaAttributes())}applyMinMaxLimit(e){return!T.isNullOrUndefined(this.viewOptions.minLimit)&&e<this.viewOptions.minLimit?this.viewOptions.minLimit:!T.isNullOrUndefined(this.viewOptions.maxLimit)&&e>this.viewOptions.maxLimit?this.viewOptions.maxLimit:e}applyMinMaxRange(e){const r=Math.abs(e-(this.currentTrackingPointer===W.Min?this.viewHighValue:this.viewLowValue));if(!T.isNullOrUndefined(this.viewOptions.minRange)&&r<this.viewOptions.minRange){if(this.currentTrackingPointer===W.Min)return Dt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.minRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===W.Max)return Dt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.minRange,this.viewOptions.precisionLimit)}if(!T.isNullOrUndefined(this.viewOptions.maxRange)&&r>this.viewOptions.maxRange){if(this.currentTrackingPointer===W.Min)return Dt.roundToPrecisionLimit(this.viewHighValue-this.viewOptions.maxRange,this.viewOptions.precisionLimit);if(this.currentTrackingPointer===W.Max)return Dt.roundToPrecisionLimit(this.viewLowValue+this.viewOptions.maxRange,this.viewOptions.precisionLimit)}return e}applyPushRange(e){const i=this.currentTrackingPointer===W.Min?this.viewHighValue-e:e-this.viewLowValue,r=T.isNullOrUndefined(this.viewOptions.minRange)?this.viewOptions.step:this.viewOptions.minRange,s=this.viewOptions.maxRange;return i<r?(this.currentTrackingPointer===W.Min?(this.viewHighValue=Dt.roundToPrecisionLimit(Math.min(e+r,this.viewOptions.ceil),this.viewOptions.precisionLimit),e=Dt.roundToPrecisionLimit(this.viewHighValue-r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(W.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===W.Max&&(this.viewLowValue=Dt.roundToPrecisionLimit(Math.max(e-r,this.viewOptions.floor),this.viewOptions.precisionLimit),e=Dt.roundToPrecisionLimit(this.viewLowValue+r,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(W.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()):!T.isNullOrUndefined(s)&&i>s&&(this.currentTrackingPointer===W.Min?(this.viewHighValue=Dt.roundToPrecisionLimit(e+s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(W.Max,this.valueToPosition(this.viewHighValue))):this.currentTrackingPointer===W.Max&&(this.viewLowValue=Dt.roundToPrecisionLimit(e-s,this.viewOptions.precisionLimit),this.applyViewChange(),this.updateHandles(W.Min,this.valueToPosition(this.viewLowValue))),this.updateAriaAttributes()),e}getChangeContext(){const e=new NU;return e.pointerType=this.currentTrackingPointer,e.value=+this.value,this.range&&(e.highValue=+this.highValue),e}}return n.\u0275fac=function(e){return new(e||n)(C(Nn),C(_t),C(pi),C(it))},n.\u0275cmp=lt({type:n,selectors:[["ngx-slider"]],contentQueries:function(e,i,r){if(1&e&&du(r,pU,5),2&e){let s;gt(s=mt())&&(i.tooltipTemplate=s.first)}},viewQuery:function(e,i){if(1&e&&(Vt(gU,5,Sr),Vt(mU,5,Sr),Vt(yU,5,Sr),Vt(vU,5,Sr),Vt(bU,5,ug),Vt(_U,5,ug),Vt(wU,5,co),Vt(CU,5,co),Vt(DU,5,co),Vt(EU,5,co),Vt(MU,5,co),Vt(TU,5,Sr)),2&e){let r;gt(r=mt())&&(i.leftOuterSelectionBarElement=r.first),gt(r=mt())&&(i.rightOuterSelectionBarElement=r.first),gt(r=mt())&&(i.fullBarElement=r.first),gt(r=mt())&&(i.selectionBarElement=r.first),gt(r=mt())&&(i.minHandleElement=r.first),gt(r=mt())&&(i.maxHandleElement=r.first),gt(r=mt())&&(i.floorLabelElement=r.first),gt(r=mt())&&(i.ceilLabelElement=r.first),gt(r=mt())&&(i.minHandleLabelElement=r.first),gt(r=mt())&&(i.maxHandleLabelElement=r.first),gt(r=mt())&&(i.combinedLabelElement=r.first),gt(r=mt())&&(i.ticksElement=r.first)}},hostAttrs:[1,"ngx-slider"],hostVars:7,hostBindings:function(e,i){1&e&&je("resize",function(s){return i.onResize(s)},0,by),2&e&&(on("disabled",i.sliderElementDisabledAttr),Un("vertical",i.sliderElementVerticalClass)("animate",i.sliderElementAnimateClass)("with-legend",i.sliderElementWithLegendClass))},inputs:{value:"value",highValue:"highValue",options:"options",manualRefresh:"manualRefresh",triggerFocus:"triggerFocus"},outputs:{valueChange:"valueChange",highValueChange:"highValueChange",userChangeStart:"userChangeStart",userChange:"userChange",userChangeEnd:"userChangeEnd"},features:[qe([VU]),Dn],decls:29,vars:13,consts:[["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-left-out-selection"],["leftOuterSelectionBar",""],[1,"ngx-slider-span","ngx-slider-bar"],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-right-out-selection"],["rightOuterSelectionBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-full-bar"],["fullBar",""],["ngxSliderElement","",1,"ngx-slider-span","ngx-slider-bar-wrapper","ngx-slider-selection-bar"],["selectionBar",""],[1,"ngx-slider-span","ngx-slider-bar","ngx-slider-selection",3,"ngStyle"],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-min",3,"ngStyle"],["minHandle",""],["ngxSliderHandle","",1,"ngx-slider-span","ngx-slider-pointer","ngx-slider-pointer-max",3,"ngStyle"],["maxHandle",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-floor"],["floorLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-limit","ngx-slider-ceil"],["ceilLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-value"],["minHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-model-high"],["maxHandleLabel",""],["ngxSliderLabel","",1,"ngx-slider-span","ngx-slider-bubble","ngx-slider-combined"],["combinedLabel",""],["ngxSliderElement","",1,"ngx-slider-ticks",3,"hidden"],["ticksElement",""],["class","ngx-slider-tick",3,"ngClass","ngStyle",4,"ngFor","ngForOf"],[1,"ngx-slider-tick",3,"ngClass","ngStyle"],[3,"template","tooltip","placement"],["class","ngx-slider-span ngx-slider-tick-value",3,"template","tooltip","placement","content",4,"ngIf"],["class","ngx-slider-span ngx-slider-tick-legend",3,"innerHTML",4,"ngIf"],[1,"ngx-slider-span","ngx-slider-tick-value",3,"template","tooltip","placement","content"],[1,"ngx-slider-span","ngx-slider-tick-legend",3,"innerHTML"]],template:function(e,i){1&e&&(c(0,"span",0,1),p(2,"span",2),d(),c(3,"span",3,4),p(5,"span",2),d(),c(6,"span",5,6),p(8,"span",2),d(),c(9,"span",7,8),p(11,"span",9),d(),p(12,"span",10,11)(14,"span",12,13)(16,"span",14,15)(18,"span",16,17)(20,"span",18,19)(22,"span",20,21)(24,"span",22,23),c(26,"span",24,25),ve(28,kU,4,9,"span",26),d()),2&e&&(v(6),Un("ngx-slider-transparent",i.fullBarTransparentClass),v(3),Un("ngx-slider-draggable",i.selectionBarDraggableClass),v(2),E("ngStyle",i.barStyle),v(1),E("ngStyle",i.minPointerStyle),v(2),iu("display",i.range?"inherit":"none"),E("ngStyle",i.maxPointerStyle),v(12),Un("ngx-slider-ticks-values-under",i.ticksUnderValuesClass),E("hidden",!i.showTicks),v(2),E("ngForOf",i.ticks))},dependencies:function(){return[ha,fa,an,Ew,Sr,ug,co,UU]},styles:[".ngx-slider{display:inline-block;position:relative;height:4px;width:100%;margin:35px 0 15px;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;touch-action:pan-y}  .ngx-slider.with-legend{margin-bottom:40px}  .ngx-slider[disabled]{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-pointer{cursor:not-allowed;background-color:#d8e0f3}  .ngx-slider[disabled] .ngx-slider-draggable{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-selection{background:#8b91a2}  .ngx-slider[disabled] .ngx-slider-tick{cursor:not-allowed}  .ngx-slider[disabled] .ngx-slider-tick.ngx-slider-selected{background:#8b91a2}  .ngx-slider .ngx-slider-span{white-space:nowrap;position:absolute;display:inline-block}  .ngx-slider .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider .ngx-slider-bar-wrapper{left:0;box-sizing:border-box;margin-top:-16px;padding-top:16px;width:100%;height:32px;z-index:1}  .ngx-slider .ngx-slider-draggable{cursor:move}  .ngx-slider .ngx-slider-bar{left:0;width:100%;height:4px;z-index:1;background:#d8e0f3;border-radius:2px}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-transparent .ngx-slider-bar{background:0 0}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-left-out-selection .ngx-slider-bar{background:#df002d}  .ngx-slider .ngx-slider-bar-wrapper.ngx-slider-right-out-selection .ngx-slider-bar{background:#03a688}  .ngx-slider .ngx-slider-selection{z-index:2;background:#0db9f0;border-radius:2px}  .ngx-slider .ngx-slider-pointer{cursor:pointer;width:32px;height:32px;top:-14px;background-color:#0db9f0;z-index:3;border-radius:16px}  .ngx-slider .ngx-slider-pointer:after{content:'';width:8px;height:8px;position:absolute;top:12px;left:12px;border-radius:4px;background:#fff}  .ngx-slider .ngx-slider-pointer:hover:after{background-color:#fff}  .ngx-slider .ngx-slider-pointer.ngx-slider-active{z-index:4}  .ngx-slider .ngx-slider-pointer.ngx-slider-active:after{background-color:#451aff}  .ngx-slider .ngx-slider-bubble{cursor:default;bottom:16px;padding:1px 3px;color:#55637d;font-size:16px}  .ngx-slider .ngx-slider-bubble.ngx-slider-limit{color:#55637d}  .ngx-slider .ngx-slider-ticks{box-sizing:border-box;width:100%;height:0;position:absolute;left:0;top:-3px;margin:0;z-index:1;list-style:none}  .ngx-slider .ngx-slider-ticks-values-under .ngx-slider-tick-value{top:auto;bottom:-36px}  .ngx-slider .ngx-slider-tick{text-align:center;cursor:pointer;width:10px;height:10px;background:#d8e0f3;border-radius:50%;position:absolute;top:0;left:0;margin-left:11px}  .ngx-slider .ngx-slider-tick.ngx-slider-selected{background:#0db9f0}  .ngx-slider .ngx-slider-tick-value{position:absolute;top:-34px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0)}  .ngx-slider .ngx-slider-tick-legend{position:absolute;top:24px;-webkit-transform:translate(-50%,0);transform:translate(-50%,0);max-width:50px;white-space:normal}  .ngx-slider.vertical{position:relative;width:4px;height:100%;margin:0 20px;padding:0;vertical-align:baseline;touch-action:pan-x}  .ngx-slider.vertical .ngx-slider-base{width:100%;height:100%;padding:0}  .ngx-slider.vertical .ngx-slider-bar-wrapper{top:auto;left:0;margin:0 0 0 -16px;padding:0 0 0 16px;height:100%;width:32px}  .ngx-slider.vertical .ngx-slider-bar{bottom:0;left:auto;width:4px;height:100%}  .ngx-slider.vertical .ngx-slider-pointer{left:-14px!important;top:auto;bottom:0}  .ngx-slider.vertical .ngx-slider-bubble{left:16px!important;bottom:0}  .ngx-slider.vertical .ngx-slider-ticks{height:100%;width:0;left:-3px;top:0;z-index:1}  .ngx-slider.vertical .ngx-slider-tick{vertical-align:middle;margin-left:auto;margin-top:11px}  .ngx-slider.vertical .ngx-slider-tick-value{left:24px;top:auto;-webkit-transform:translate(0,-28%);transform:translate(0,-28%)}  .ngx-slider.vertical .ngx-slider-tick-legend{top:auto;right:24px;-webkit-transform:translate(0,-28%);transform:translate(0,-28%);max-width:none;white-space:nowrap}  .ngx-slider.vertical .ngx-slider-ticks-values-under .ngx-slider-tick-value{bottom:auto;left:auto;right:24px}  .ngx-slider *{transition:none}  .ngx-slider.animate .ngx-slider-bar-wrapper{transition:.3s linear}  .ngx-slider.animate .ngx-slider-selection{transition:background-color .3s linear}  .ngx-slider.animate .ngx-slider-pointer{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble{transition:.3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-limit{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-bubble.ngx-slider-combined{transition:opacity .3s linear}  .ngx-slider.animate .ngx-slider-tick{transition:background-color .3s linear}"]}),n})(),UU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=lt({type:n,selectors:[["ngx-slider-tooltip-wrapper"]],inputs:{template:"template",tooltip:"tooltip",placement:"placement",content:"content"},decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ngx-slider-inner-tooltip"]],template:function(e,i){1&e&&(ve(0,LU,2,6,"ng-container",0),ve(1,RU,3,3,"ng-container",0)),2&e&&(E("ngIf",i.template),v(1),E("ngIf",!i.template))},dependencies:[an,Mw],styles:[".ngx-slider-inner-tooltip[_ngcontent-%COMP%]{height:100%}"]}),n})(),HU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=Zt({type:n}),n.\u0275inj=Gt({imports:[Iw]}),n})();class BU extends eg.EventEmitter{constructor(t){super(),this._value=t}get value(){return this._value}set value(t){this._value=t}}const jU=function(n,t,e){return{playing:n,loading:t,stopped:e}},$U=function(n,t){return{shuffleOn:n,shuffleOff:t}},GU=function(n,t,e,i){return{mute:n,unmute:t,muteDisabled:e,unmuteDisabled:i}};class Nc{constructor(t,e,i,r){this.musicService=t,this.soundManager=e,this.messageService=i,this.changeDetectorRef=r,this.label="MusicPlayer",this.masterMuted=!1,this._gainsDisabled=new BU(!1),this.optionsMasterGain={floor:0,ceil:1,step:.01,showSelectionBar:!0,getSelectionBarColor:this.sliderColors,getPointerColor:this.sliderColors,hideLimitLabels:!0,hidePointerLabels:!0},this.enableGains=s=>{this.optionsMasterGain=Object.assign({},this.optionsMasterGain,s?{disabled:!0,getSelectionBarColor:this.sliderColorsDisabled,getPointerColor:this.sliderColorsDisabled}:{disabled:!1,getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors})},this._gainsDisabled.on("Change",this.enableGains),this.subscription=this.messageService.onMessage().subscribe(s=>{"Play"===s.type&&this.play()}),this.musicService.addInstanceEndedListener(`${this.label} endedListener`,(s,o)=>{s&&!o&&this.onNext()}),this.musicService.addPlayStateChangeListener(()=>{this.changeDetectorRef.detectChanges()})}get selectedTrack(){return this.musicService.selectedTrack}get playState(){return this.musicService.playState}get isShuffle(){return this.musicService.isShuffle}get masterGain(){return this.soundManager.instance.masterGain}set masterGain(t){this.soundManager.instance.masterGain=t}get gainsDisabled(){return this._gainsDisabled.value}sliderColors(t){return t<=.2?"#394A00":t<=.4?"#596A06":t<=.6?"#798A0A":t<=.8?"#99AA2A":"#B9CA4A"}sliderColorsMuted(t){return t<=.2?"#5D0800":t<=.4?"#7D2800":t<=.6?"#9D4800":t<=.8?"#BD6800":"#DD8800"}sliderColorsDisabled(t){return"#8B91A2"}onPlayStop(){"Loading"!==this.musicService.playState&&("Playing"===this.musicService.playState?this.musicService.stop():this.play())}onNext(){this.musicService.nextTrack(),this.play()}onShuffle(){this.musicService.toggleShuffle()}play(){this.musicService.play(this._gainsDisabled)}onMasterMuteChange(){this._gainsDisabled.value||(this.soundManager.instance.masterMuted=this.masterMuted=!this.masterMuted,this.optionsMasterGain=Object.assign({},this.optionsMasterGain,{getSelectionBarColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors,getPointerColor:this.masterMuted?this.sliderColorsMuted:this.sliderColors}))}static#e=this.\u0275fac=function(e){return new(e||Nc)(C(io),C(es),C(ro),C(pi))};static#t=this.\u0275cmp=lt({type:Nc,selectors:[["app-music-player"]],decls:17,vars:18,consts:[[1,"playerContainer","noSelect"],[1,"playIconContainer",3,"click"],[3,"ngClass"],[1,"nextContainer",3,"click"],[1,"next_triangle"],[1,"next_line"],[1,"trackName"],[1,"playerRightButtonsContainer"],[1,"shuffleContainer",3,"click"],[1,"shuffle",3,"ngClass"],[1,"muteContainer",3,"click"],[1,"sliderContainer"],[1,"slider"],[3,"value","options","valueChange"]],template:function(e,i){1&e&&(c(0,"div",0)(1,"span",1),je("click",function(){return i.onPlayStop()}),p(2,"div",2),d(),c(3,"span",3),je("click",function(){return i.onNext()}),p(4,"div",4)(5,"div",5),d(),c(6,"span",6)(7,"span"),a(8),d()(),c(9,"span",7)(10,"span",8),je("click",function(){return i.onShuffle()}),p(11,"div",9),d(),c(12,"span",10),je("click",function(){return i.onMasterMuteChange()}),p(13,"div",2),d(),c(14,"span",11)(15,"span",12)(16,"ngx-slider",13),je("valueChange",function(s){return i.masterGain=s}),d()()()()()),2&e&&(v(2),E("ngClass",Kh(6,jU,"Playing"===i.playState,"Loading"===i.playState,"Stopped"===i.playState)),v(6),He(i.selectedTrack.name),v(3),E("ngClass",ta(10,$U,i.isShuffle,!i.isShuffle)),v(2),E("ngClass",function Jb(n,t,e,i,r,s,o){return n_(S(),fn(),n,t,e,i,r,s,o)}(13,GU,i.masterMuted,!i.masterMuted,i.gainsDisabled&&i.masterMuted,i.gainsDisabled&&!i.masterMuted)),v(3),E("value",i.masterGain)("options",i.optionsMasterGain))},dependencies:[ha,ME],styles:['.playerContainer[_ngcontent-%COMP%]{position:fixed;cursor:pointer;border:1px solid var(--colorGrayLightMed);border-radius:1em;padding-top:9px;padding-bottom:7px;z-index:2;transform:translateY(40px);width:90%}.trackName[_ngcontent-%COMP%]{position:fixed;margin-top:1.25px}.playIconContainer[_ngcontent-%COMP%]{float:left;transform:translateY(3px);padding-left:3.5%;width:6%;height:23px}.stopped[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:23px;height:15px;transform:translate(-10%) translateY(10%) rotate(90deg);transition:all .2s}.loading[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);transition:all .2s;animation:_ngcontent-%COMP%_rotationFastReverse .5s infinite linear}@keyframes _ngcontent-%COMP%_rotationFastReverse{0%{transform:rotate(0)}to{transform:rotate(359deg)}}.playing[_ngcontent-%COMP%]{width:16px;height:16px;background-color:var(--colorWhiteLightMed);transform:translate(8%,4%);animation:_ngcontent-%COMP%_rotation 3s infinite linear;transition:all .2s}@keyframes _ngcontent-%COMP%_rotation{0%{transform:rotate(0)}to{transform:rotate(-359deg)}}.nextContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:translateY(5px);padding-right:5%}.next_triangle[_ngcontent-%COMP%]{clip-path:polygon(50% 0%,0% 100%,100% 100%);background:var(--colorWhiteLightMed);width:16px;height:10px;transform:translate(-10%) translateY(10%) rotate(90deg)}.next_line[_ngcontent-%COMP%]{width:10px;height:16px;border-right:3px solid var(--colorWhiteLightMed);transform:translateY(-12px)}.playerRightButtonsContainer[_ngcontent-%COMP%]{padding-right:0%;width:42%;height:24px;float:right}.shuffleContainer[_ngcontent-%COMP%]{float:left;height:16px;transform:scaleX(.8)}.shuffle[_ngcontent-%COMP%]{width:22px;height:22px;display:block;transform:translateY(-1px)}.shuffleOn[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-on.svg) center top no-repeat}.shuffleOff[_ngcontent-%COMP%]{background:transparent url(/assets/images/music/shuffle-off.svg) center top no-repeat}.timer[_ngcontent-%COMP%]{float:right;padding-right:2.5%;padding-top:1.5px}ul[_ngcontent-%COMP%]{list-style:none;cursor:pointer}.buttonRow[_ngcontent-%COMP%]{float:right;width:100%}.button[_ngcontent-%COMP%]{background:var(--colorGreyDark);color:#ccc;font-weight:700;font-family:Arial,Helvetica,sans-serif;height:2em;margin-right:5%;float:right;border:1px solid #999;border-radius:.5em;cursor:pointer;transition-duration:.4s}.button[_ngcontent-%COMP%]:hover{background:var(--colorPending);border-color:var(--colorPending);color:var(--colorBlackLight)}.button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition-duration:.4s}.button[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{background:transparent url(/assets/soundcloud_black.png) center top no-repeat}.button[_ngcontent-%COMP%]:active{background:var(--colorActive);border-color:var(--colorActive)}.trackDescription[_ngcontent-%COMP%]{float:left}.byBio[_ngcontent-%COMP%]{float:right}.gainOuterContainer[_ngcontent-%COMP%]{height:71px;margin-top:1.3em}.muteAndSliderContainer[_ngcontent-%COMP%]{width:40%;height:24px}.muteContainer[_ngcontent-%COMP%]{transform:translateY(-8%);transform:translate(25px);display:block;padding-left:3.5%}.sliderContainer[_ngcontent-%COMP%]{width:65%;padding-right:3.5%;float:right;position:relative;transform:translateY(-49px)}.mute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABS0lEQVRIie2UPU7DQBCFv9mkQBwgDVA5BYWpOAASFg0/1+AGEU5BoEssXwBuQcGPhGQKSiQqXIBkd1S5QrCHInLkBOR4IRJCyutmNPPe25nRwhL/BknAaTrgzbavWaco7XOOcmZvC0wtcvkZ+VyB35JDxYjmkad9HhFWtcF+u8MQIAlpmZwrVUaOz86UQDrgALgE1mpZE1aAbcmJkhAPQHIiVVzg6bsXXNQmB7TBoeREKK7kROMkLkKshqOirryD9brkAO0OwzxjF3hBcRk7fzXCXjGyWYGFQEZIOS4LvNsQJSEt0+AB2EKIEWJgM2tyn4S0vggoHNuISMZNaeaeGjyEGMWVjOuibrLkts8dsFHE885U4UPgWc3UmXqScauQTYxUuUz7nCAMyjnHr+6ZReWSnS4Bim9DaCWwCJFaZ+p0CVTogf13vcTf4xMPJ2kt0pqBpgAAAABJRU5ErkJggg==)}.unmute[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA5klEQVRIie2TQQ7BUBRFzxO7IJbByJjWQuxBgqQ2IfZBfHMD7dzEVCzDM1I/pe1/IhGJM2vTf3tu3n/w52fYZdHEZfHReq4ZFJ5GU1VJQr51abxXleuwt+4DNILCCQsHUJWriOr9Wazhg+7m6UzR2qe0gcW8aO2T27gsilBZAp2qsHuDKmufx5BVVkA7xLjO+vUPDOEAvrnfxnyLQvDblN4il8ZnoFUXZp1B3kBVxqCXd6yrKN2DbTpKBJ0W339sD4bd9UyRRZ0hBO5BGcUmrxr4mG+RpQmEz+bZLIvn7jA6mQ/++To3A0mcQN4dZgYAAAAASUVORK5CYII=)}.muteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABVUlEQVRIie2UvUrDUBiGnxPSIF5AF3V3iJMXIBhc/LmE1k3oYLsYdPFntJypXaKj6Q04+ANCHRwFJzvo7tQ7MG39XJISK6Q5WBGhLxxCDuc875vv+whM9W+kGxeHuhG+mt6zc8JPQB0bpwKs34SPNfgpHDJKNA6uG+EDqFkcWfcr5S6ADsIiPS4R1fNrpZUvBrrZ2kDkHJjLGW4GZJmItg5CD4CINuAq5PH7F4icGcDBYTMBxk8AF+iIw1ZyLN2D+dxwwK+Uuz3VXxV4jsEu8CL2YC0p2ajBRFSIbJV+Txu8mYB0EBYLYt8rWAI68VrsW3Kng7D4zUBZsmNk8s41cc1x8HDwYhOXiKvk2LDJe7vbt8DCMOGYMRUlfYX1NDKmHpG6ET4Gw+BZIXWztY/IaXrPr5Uz74wqs8l+tVRHqQMToJHBJExyjalfLdVBjgDj3/VUf69PUIJ04GzYQ0wAAAAASUVORK5CYII=)}.unmuteDisabled[_ngcontent-%COMP%]{width:24px;height:24px;background:url\\(\\d\\a("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAAA50lEQVRIie2TPQrCQBCFvxVvoXgTD+AhTGuZKo0QBe1cC6ON2JmcxSvY2IrHyNqYuIn52RFBBL9uw8zLe8wM/PkZVptkqqP4LO3ruhTp6BiCWbjVxicgDXxvCNBxE1dO4g9SwGQPJRUPfO+lp+zapjaB0HnBtU3uZr07jkyq9sCgSSlL0OTaJh+ySdUB6Ds6hgbXlT8QimM7t9OIt8gRO031FukovgK9NiXpDJ4JlJqAub3pupbaO9BRsgATlr9/7A4CfzwDtWxz+KD9DuooJ6lKUKwXbpEwCTjOpsJZMtfb+CJu/PN17hYIbgHrvkxYAAAAAElFTkSuQmCC")}@media screen and (max-width: 451px){.playIconContainer[_ngcontent-%COMP%]{width:7%}.nextContainer[_ngcontent-%COMP%]{padding-right:2%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 452px) and (max-width: 703px){.playerContainer[_ngcontent-%COMP%]{margin:5px 0%}.playIconContainer[_ngcontent-%COMP%]{width:6%}.nextContainer[_ngcontent-%COMP%]{padding-right:3%}.sliderContainer[_ngcontent-%COMP%]{display:none}.playerRightButtonsContainer[_ngcontent-%COMP%]{float:right;padding-right:3.5%;width:50px}}@media screen and (min-width: 704px) and (max-width: 1053px){.playerContainer[_ngcontent-%COMP%]{margin:10px 5%;width:80%}.playIconContainer[_ngcontent-%COMP%]{width:5%}.nextContainer[_ngcontent-%COMP%]{padding-right:4%}.buttonRow[_ngcontent-%COMP%]{margin-right:5%}}@media screen and (min-width: 1054px) and (max-width: 1403px){.playerContainer[_ngcontent-%COMP%]{margin:15px 10%;width:70%}}@media screen and (min-width: 1404px) and (max-width: 2000px){.playerContainer[_ngcontent-%COMP%]{margin:20px 15%;width:60%}}@media screen and (min-width: 2001px){.playerContainer[_ngcontent-%COMP%]{margin:25px 20%;width:50%}}']})}function zU(n,t){1&n&&(c(0,"div")(1,"label"),a(2,"Has to be a valid email address"),d()())}function WU(n,t){if(1&n&&(c(0,"div",21),ve(1,zU,3,0,"div",18),d()),2&n){const e=be(3);v(1),E("ngIf",null==e.emailControl.errors?null:e.emailControl.errors.pattern)}}function qU(n,t){if(1&n&&(c(0,"div")(1,"label"),a(2,"* Your Email:"),d(),p(3,"br")(4,"input",17),ve(5,WU,2,1,"div",20),p(6,"br")(7,"br"),d()),2&n){const e=be(2);v(4),Nt("placeholder",e.placeholderEmail),Nt("formControlName",e.emailName),Nt("name",e.emailName),v(1),E("ngIf",e.emailControl.invalid)}}function KU(n,t){if(1&n){const e=dr();c(0,"div",13)(1,"form",14),p(2,"input",15),c(3,"label"),a(4),d(),p(5,"br")(6,"textarea",16)(7,"br")(8,"br"),c(9,"label"),a(10,"* Your Name / Handle:"),d(),p(11,"br")(12,"input",17)(13,"br")(14,"br"),ve(15,qU,8,4,"div",18),c(16,"button",19),je("click",function(){return sr(e),or(be().onSendClick())}),a(17,"Send"),d()()()}if(2&n){const e=be();v(1),Nt("name",e.formName),E("formGroup",e.messageForm),v(1),Nt("value",e.formName),v(2),He(e.messageLabel),v(2),Nt("placeholder",e.placeholderText),Nt("formControlName",e.messageName),Nt("name",e.messageName),E("maxlength",300),v(6),Nt("placeholder",e.placeholderHandle),Nt("formControlName",e.handleName),Nt("name",e.handleName),v(3),E("ngIf","/home"===e.urlEnd),v(1),E("disabled",e.messageForm.invalid)}}class Fc{constructor(t,e,i,r){this.fb=t,this.http=e,this.router=i,this.logService=r,this.placeholderComment="This is a required field.\nAfter you press 'Send' button:\n* your comment will pend for moderation\n* this Comment-form will become hidden\nAfter approval I will publish your comment,\nI might also include a short response.",this.placeholderMessage="This is a required field.\nAfter you press 'Send' button\nthis Contact form will become hidden.\nI have your email as a means to get back to you,\nI'll never give it to 3rd party or display it publicly.",this.placeholderText="",this.placeholderHandle="This is a required field",this.placeholderEmail="Required field, I will never give to 3rd party",this.showCommentForm=!0,this.headerText="",this.formName="MessageForm",this.netlifyFormName="form-name",this.messageName="Message",this.messageLabel="",this.handleName="Handle",this.emailName="Email",this.honeyLabel="Do not, fill this field out if you are human",this.honeyValue="Do not, fill this field out if you are human",this.emailRegex=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,this.urlEndName="UrlEnd",this.urlEnd="",this.formType="Contact",this.router.events.pipe(vn(s=>s instanceof Ki)).subscribe(s=>{this.showCommentForm=!0,this.urlEnd=s.urlAfterRedirects,this.formType="/home"===this.urlEnd?"Contact":"Comment",this.logService.log("Info","urlEnd:",this.urlEnd),"Contact"===this.formType?(this.headerText="Contact",this.messageLabel="* Your Message:",this.placeholderText=this.placeholderMessage,this.emailControl.addValidators(Mr.required)):(this.headerText="Write a Comment",this.messageLabel="* Your Comment:",this.placeholderText=this.placeholderComment,this.emailControl.removeValidators(Mr.required)),this.messageForm.reset()}),this.messageForm=this.fb.group({[this.messageName]:["",[Mr.required]],[this.handleName]:["",[Mr.required]],[this.emailName]:["",[Mr.pattern(this.emailRegex)]]}),this.emailControl=this.messageForm.controls[this.emailName]}onSendClick(){let t=(new Qi).set(this.netlifyFormName,this.formName).append(this.messageName,this.messageForm.value[this.messageName]).append(this.handleName,this.messageForm.value[this.handleName]).append(this.urlEndName,this.urlEnd);t=t.append(this.emailName,"Contact"===this.formType?this.messageForm.value[this.emailName]:"notusedforcomment@gmail.com"),this.logService.log("Info","form send clicked and doing http post with:"),this.logService.log("Info","messageForm:"),this.logService.log("Info",this.messageForm),this.logService.log("Info","body:",t),this.http.post("/",t.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).subscribe(e=>{this.logService.log("Info","result handler:",e),this.showCommentForm=!1,this.headerText="Thank you for sending :)"},e=>{this.showCommentForm=!1,e instanceof ErrorEvent?(this.logService.log("Error","Client side error: Something went wrong when sending your comment:",e.error),this.headerText="Something went wrong with sending"):200===e.status?(this.headerText="Thank you for sending :)",this.logService.log("Info","Your comment has been successfully sent (status == 200)")):(this.headerText="Something went wrong with sending",this.logService.log("Error","Backend side error: Something went wrong when sending your comment:"),this.logService.log("Error","Error status:",e.status),this.logService.log("Error","Error body:",e.error))}),this.messageForm.reset()}static#e=this.\u0275fac=function(e){return new(e||Fc)(C(D1),C(Jp),C(Wt),C(ki))};static#t=this.\u0275cmp=lt({type:Fc,selectors:[["app-root"]],decls:29,vars:2,consts:[[1,"headerContainer"],[1,"headerBackground"],[1,"noSelect"],["routerLink","/home","routerLinkActive","active"],["routerLink","/music","routerLinkActive","active"],["routerLink","/blog","routerLinkActive","active"],["routerLink","/lifting","routerLinkActive","active"],[1,"footer"],[1,"horizontalLine"],["class","messageForm",4,"ngIf"],[1,"tribute"],["href","https://icons8.com/icon/102034/mute"],["href","https://icons8.com/icon/108731/sound"],[1,"messageForm"],["method","POST",3,"formGroup","name"],["type","hidden","name","form-name",3,"value"],["type","text","rows","6",1,"formTextFields",3,"placeholder","formControlName","name","maxlength"],["type","text","maxlength","32",1,"formTextFields",3,"placeholder","formControlName","name"],[4,"ngIf"],["type","submit",3,"disabled","click"],["class","alert",4,"ngIf"],[1,"alert"]],template:function(e,i){1&e&&(c(0,"div",0),p(1,"div",1),c(2,"nav",2)(3,"li")(4,"a",3),a(5,"Home"),d()(),c(6,"li")(7,"a",4),a(8,"Music"),d()(),c(9,"li")(10,"a",5),a(11,"Blog"),d()(),c(12,"li")(13,"a",6),a(14,"Lifting"),d()()(),p(15,"app-music-player"),d(),p(16,"router-outlet"),c(17,"div",7),p(18,"div",8),c(19,"h2"),a(20),d(),ve(21,KU,18,13,"div",9),c(22,"div",10)(23,"small")(24,"a",11),a(25,"Mute icon by Icons8"),d(),p(26,"br"),c(27,"a",12),a(28,"Sound icon by Icons8"),d()()()()),2&e&&(v(20),He(i.headerText),v(1),E("ngIf",i.showCommentForm))},dependencies:[Zu,rc,uD,an,Up,xa,Tp,Ip,bc,Ua,vc,Nc],encapsulation:2})}class Vc{static#e=this.\u0275fac=function(e){return new(e||Vc)};static#t=this.\u0275mod=Zt({type:Vc,bootstrap:[Fc]});static#n=this.\u0275inj=Gt({providers:[{provide:j1,useExisting:Wa},{provide:Ic,useValue:{coreLibraryLoader:()=>yt.e(112).then(yt.bind(yt,9112)),languages:{typescript:()=>yt.e(852).then(yt.bind(yt,9852))}}}],imports:[Ac,EO,aV,pE,HU,lU,qp,YV]})}DO().bootstrapModule(Vc)},8089:(ni,Tn)=>{"use strict";var jt={update:function(){if(typeof window<"u"&&"function"==typeof window.addEventListener){var Et=!1,K=Object.defineProperty({},"passive",{get:function(){Et=!0}}),qt=function(){};window.addEventListener("testPassiveEventSupport",qt,K),window.removeEventListener("testPassiveEventSupport",qt,K),jt.hasSupport=Et}}};jt.update(),Tn.Z=jt},9069:ni=>{"use strict";var jt,Tn="object"==typeof Reflect?Reflect:null,yt=Tn&&"function"==typeof Tn.apply?Tn.apply:function(L,H,F){return Function.prototype.apply.call(L,H,F)};jt=Tn&&"function"==typeof Tn.ownKeys?Tn.ownKeys:Object.getOwnPropertySymbols?function(L){return Object.getOwnPropertyNames(L).concat(Object.getOwnPropertySymbols(L))}:function(L){return Object.getOwnPropertyNames(L)};var Et=Number.isNaN||function(L){return L!=L};function K(){K.init.call(this)}ni.exports=K,ni.exports.once=function ns(N,L){return new Promise(function(H,F){function X(_){N.removeListener(L,ne),F(_)}function ne(){"function"==typeof N.removeListener&&N.removeListener("error",X),H([].slice.call(arguments))}$n(N,L,ne,{once:!0}),"error"!==L&&function Pi(N,L,H){"function"==typeof N.on&&$n(N,"error",L,H)}(N,X,{once:!0})})},K.EventEmitter=K,K.prototype._events=void 0,K.prototype._eventsCount=0,K.prototype._maxListeners=void 0;var qt=10;function Xt(N){if("function"!=typeof N)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof N)}function ii(N){return void 0===N._maxListeners?K.defaultMaxListeners:N._maxListeners}function ho(N,L,H,F){var X,ne,_;if(Xt(H),void 0===(ne=N._events)?(ne=N._events=Object.create(null),N._eventsCount=0):(void 0!==ne.newListener&&(N.emit("newListener",L,H.listener?H.listener:H),ne=N._events),_=ne[L]),void 0===_)_=ne[L]=H,++N._eventsCount;else if("function"==typeof _?_=ne[L]=F?[H,_]:[_,H]:F?_.unshift(H):_.push(H),(X=ii(N))>0&&_.length>X&&!_.warned){_.warned=!0;var w=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(L)+" listeners added. Use emitter.setMaxListeners() to increase limit");w.name="MaxListenersExceededWarning",w.emitter=N,w.type=L,w.count=_.length,function yi(N){console&&console.warn&&console.warn(N)}(w)}return N}function ue(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function ke(N,L,H){var F={fired:!1,wrapFn:void 0,target:N,type:L,listener:H},X=ue.bind(F);return X.listener=H,F.wrapFn=X,X}function un(N,L,H){var F=N._events;if(void 0===F)return[];var X=F[L];return void 0===X?[]:"function"==typeof X?H?[X.listener||X]:[X]:H?function xi(N){for(var L=new Array(N.length),H=0;H<L.length;++H)L[H]=N[H].listener||N[H];return L}(X):er(X,X.length)}function jn(N){var L=this._events;if(void 0!==L){var H=L[N];if("function"==typeof H)return 1;if(void 0!==H)return H.length}return 0}function er(N,L){for(var H=new Array(L),F=0;F<L;++F)H[F]=N[F];return H}function $n(N,L,H,F){if("function"==typeof N.on)F.once?N.once(L,H):N.on(L,H);else{if("function"!=typeof N.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof N);N.addEventListener(L,function X(ne){F.once&&N.removeEventListener(L,X),H(ne)})}}Object.defineProperty(K,"defaultMaxListeners",{enumerable:!0,get:function(){return qt},set:function(N){if("number"!=typeof N||N<0||Et(N))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+N+".");qt=N}}),K.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},K.prototype.setMaxListeners=function(L){if("number"!=typeof L||L<0||Et(L))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+L+".");return this._maxListeners=L,this},K.prototype.getMaxListeners=function(){return ii(this)},K.prototype.emit=function(L){for(var H=[],F=1;F<arguments.length;F++)H.push(arguments[F]);var X="error"===L,ne=this._events;if(void 0!==ne)X=X&&void 0===ne.error;else if(!X)return!1;if(X){var _;if(H.length>0&&(_=H[0]),_ instanceof Error)throw _;var w=new Error("Unhandled error."+(_?" ("+_.message+")":""));throw w.context=_,w}var x=ne[L];if(void 0===x)return!1;if("function"==typeof x)yt(x,this,H);else{var V=x.length,Y=er(x,V);for(F=0;F<V;++F)yt(Y[F],this,H)}return!0},K.prototype.on=K.prototype.addListener=function(L,H){return ho(this,L,H,!1)},K.prototype.prependListener=function(L,H){return ho(this,L,H,!0)},K.prototype.once=function(L,H){return Xt(H),this.on(L,ke(this,L,H)),this},K.prototype.prependOnceListener=function(L,H){return Xt(H),this.prependListener(L,ke(this,L,H)),this},K.prototype.off=K.prototype.removeListener=function(L,H){var F,X,ne,_,w;if(Xt(H),void 0===(X=this._events))return this;if(void 0===(F=X[L]))return this;if(F===H||F.listener===H)0==--this._eventsCount?this._events=Object.create(null):(delete X[L],X.removeListener&&this.emit("removeListener",L,F.listener||H));else if("function"!=typeof F){for(ne=-1,_=F.length-1;_>=0;_--)if(F[_]===H||F[_].listener===H){w=F[_].listener,ne=_;break}if(ne<0)return this;0===ne?F.shift():function Me(N,L){for(;L+1<N.length;L++)N[L]=N[L+1];N.pop()}(F,ne),1===F.length&&(X[L]=F[0]),void 0!==X.removeListener&&this.emit("removeListener",L,w||H)}return this},K.prototype.removeAllListeners=function(L){var H,F,X;if(void 0===(F=this._events))return this;if(void 0===F.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==F[L]&&(0==--this._eventsCount?this._events=Object.create(null):delete F[L]),this;if(0===arguments.length){var _,ne=Object.keys(F);for(X=0;X<ne.length;++X)"removeListener"!==(_=ne[X])&&this.removeAllListeners(_);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(H=F[L]))this.removeListener(L,H);else if(void 0!==H)for(X=H.length-1;X>=0;X--)this.removeListener(L,H[X]);return this},K.prototype.listeners=function(L){return un(this,L,!0)},K.prototype.rawListeners=function(L){return un(this,L,!1)},K.listenerCount=function(N,L){return"function"==typeof N.listenerCount?N.listenerCount(L):jn.call(N,L)},K.prototype.listenerCount=jn,K.prototype.eventNames=function(){return this._eventsCount>0?jt(this._events):[]}},3028:function(ni,Tn){var yt,yi;yt=function Et(){"use strict";var K=typeof self<"u"?self:typeof window<"u"?window:void 0!==K?K:{},qt=!K.document&&!!K.postMessage,Xt=qt&&/blob:/i.test((K.location||{}).protocol),ii={},ho=0,ue={parse:function(_,w){var x=(w=w||{}).dynamicTyping||!1;if(ne(x)&&(w.dynamicTypingFunction=x,x={}),w.dynamicTyping=x,w.transform=!!ne(w.transform)&&w.transform,w.worker&&ue.WORKERS_SUPPORTED){var V=function(){if(!ue.WORKERS_SUPPORTED)return!1;var xt,st,he=(xt=K.URL||K.webkitURL||null,st=Et.toString(),ue.BLOB_URL||(ue.BLOB_URL=xt.createObjectURL(new Blob(["(",st,")();"],{type:"text/javascript"})))),R=new K.Worker(he);return R.onmessage=N,R.id=ho++,ii[R.id]=R}();return V.userStep=w.step,V.userChunk=w.chunk,V.userComplete=w.complete,V.userError=w.error,w.step=ne(w.step),w.chunk=ne(w.chunk),w.complete=ne(w.complete),w.error=ne(w.error),delete w.worker,void V.postMessage({input:_,config:w,workerId:V.id})}var Y=null;return"string"==typeof _?Y=w.download?new jn(w):new Me(w):!0===_.readable&&ne(_.read)&&ne(_.on)?Y=new xi(w):(K.File&&_ instanceof File||_ instanceof Object)&&(Y=new er(w)),Y.stream(_)},unparse:function(_,w){var x=!1,V=!0,Y=",",he="\r\n",R='"',xt=R+R,st=!1,Q=null,ht=!1;!function(){if("object"==typeof w){if("string"!=typeof w.delimiter||ue.BAD_DELIMITERS.filter(function(q){return-1!==w.delimiter.indexOf(q)}).length||(Y=w.delimiter),("boolean"==typeof w.quotes||"function"==typeof w.quotes||Array.isArray(w.quotes))&&(x=w.quotes),"boolean"!=typeof w.skipEmptyLines&&"string"!=typeof w.skipEmptyLines||(st=w.skipEmptyLines),"string"==typeof w.newline&&(he=w.newline),"string"==typeof w.quoteChar&&(R=w.quoteChar),"boolean"==typeof w.header&&(V=w.header),Array.isArray(w.columns)){if(0===w.columns.length)throw new Error("Option columns is empty");Q=w.columns}void 0!==w.escapeChar&&(xt=w.escapeChar+R),"boolean"==typeof w.escapeFormulae&&(ht=w.escapeFormulae)}}();var ce=new RegExp(Pi(R),"g");if("string"==typeof _&&(_=JSON.parse(_)),Array.isArray(_)){if(!_.length||Array.isArray(_[0]))return Pt(null,_,st);if("object"==typeof _[0])return Pt(Q||Object.keys(_[0]),_,st)}else if("object"==typeof _)return"string"==typeof _.data&&(_.data=JSON.parse(_.data)),Array.isArray(_.data)&&(_.fields||(_.fields=_.meta&&_.meta.fields),_.fields||(_.fields=Array.isArray(_.data[0])?_.fields:"object"==typeof _.data[0]?Object.keys(_.data[0]):[]),Array.isArray(_.data[0])||"object"==typeof _.data[0]||(_.data=[_.data])),Pt(_.fields||[],_.data||[],st);throw new Error("Unable to serialize unrecognized input");function Pt(q,Xe,at){var Ot="";"string"==typeof q&&(q=JSON.parse(q)),"string"==typeof Xe&&(Xe=JSON.parse(Xe));var vt=Array.isArray(q)&&0<q.length,Mt=!Array.isArray(Xe[0]);if(vt&&V){for(var Tt=0;Tt<q.length;Tt++)0<Tt&&(Ot+=Y),Ot+=Kt(q[Tt],Tt);0<Xe.length&&(Ot+=he)}for(var re=0;re<Xe.length;re++){var Ne=vt?q.length:Xe[re].length,Ke=!1,et=vt?0===Object.keys(Xe[re]).length:0===Xe[re].length;if(at&&!vt&&(Ke="greedy"===at?""===Xe[re].join("").trim():1===Xe[re].length&&0===Xe[re][0].length),"greedy"===at&&vt){for(var xe=[],J=0;J<Ne;J++)xe.push(Xe[re][Mt?q[J]:J]);Ke=""===xe.join("").trim()}if(!Ke){for(var de=0;de<Ne;de++)0<de&&!et&&(Ot+=Y),Ot+=Kt(Xe[re][vt&&Mt?q[de]:de],de);re<Xe.length-1&&(!at||0<Ne&&!et)&&(Ot+=he)}}return Ot}function Kt(q,Xe){if(null==q)return"";if(q.constructor===Date)return JSON.stringify(q).slice(1,25);!0===ht&&"string"==typeof q&&null!==q.match(/^[=+\-@].*$/)&&(q="'"+q);var at=q.toString().replace(ce,xt);return"boolean"==typeof x&&x||"function"==typeof x&&x(q,Xe)||Array.isArray(x)&&x[Xe]||function(vt,Mt){for(var Tt=0;Tt<Mt.length;Tt++)if(-1<vt.indexOf(Mt[Tt]))return!0;return!1}(at,ue.BAD_DELIMITERS)||-1<at.indexOf(Y)||" "===at.charAt(0)||" "===at.charAt(at.length-1)?R+at+R:at}}};if(ue.RECORD_SEP=String.fromCharCode(30),ue.UNIT_SEP=String.fromCharCode(31),ue.BYTE_ORDER_MARK="\ufeff",ue.BAD_DELIMITERS=["\r","\n",'"',ue.BYTE_ORDER_MARK],ue.WORKERS_SUPPORTED=!qt&&!!K.Worker,ue.NODE_STREAM_INPUT=1,ue.LocalChunkSize=10485760,ue.RemoteChunkSize=5242880,ue.DefaultDelimiter=",",ue.Parser=$n,ue.ParserHandle=ns,ue.NetworkStreamer=jn,ue.FileStreamer=er,ue.StringStreamer=Me,ue.ReadableStreamStreamer=xi,K.jQuery){var ke=K.jQuery;ke.fn.parse=function(_){var w=_.config||{},x=[];return this.each(function(he){if("INPUT"!==ke(this).prop("tagName").toUpperCase()||"file"!==ke(this).attr("type").toLowerCase()||!K.FileReader||!this.files||0===this.files.length)return!0;for(var R=0;R<this.files.length;R++)x.push({file:this.files[R],inputElem:this,instanceConfig:ke.extend({},w)})}),V(),this;function V(){if(0!==x.length){var R,xt,st,Q=x[0];if(ne(_.before)){var ht=_.before(Q.file,Q.inputElem);if("object"==typeof ht){if("abort"===ht.action)return"AbortError",R=Q.file,xt=Q.inputElem,st=ht.reason,void(ne(_.error)&&_.error({name:"AbortError"},R,xt,st));if("skip"===ht.action)return void Y();"object"==typeof ht.config&&(Q.instanceConfig=ke.extend(Q.instanceConfig,ht.config))}else if("skip"===ht)return void Y()}var ce=Q.instanceConfig.complete;Q.instanceConfig.complete=function(Pt){ne(ce)&&ce(Pt,Q.file,Q.inputElem),Y()},ue.parse(Q.file,Q.instanceConfig)}else ne(_.complete)&&_.complete()}function Y(){x.splice(0,1),V()}}}function un(_){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(w){var x=F(w);x.chunkSize=parseInt(x.chunkSize),w.step||w.chunk||(x.chunkSize=null),this._handle=new ns(x),(this._handle.streamer=this)._config=x}.call(this,_),this.parseChunk=function(w,x){if(this.isFirstChunk&&ne(this._config.beforeFirstChunk)){var V=this._config.beforeFirstChunk(w);void 0!==V&&(w=V)}this.isFirstChunk=!1,this._halted=!1;var Y=this._partialLine+w;this._partialLine="";var he=this._handle.parse(Y,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var R=he.meta.cursor;this._finished||(this._partialLine=Y.substring(R-this._baseIndex),this._baseIndex=R),he&&he.data&&(this._rowCount+=he.data.length);var xt=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(Xt)K.postMessage({results:he,workerId:ue.WORKER_ID,finished:xt});else if(ne(this._config.chunk)&&!x){if(this._config.chunk(he,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);he=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(he.data),this._completeResults.errors=this._completeResults.errors.concat(he.errors),this._completeResults.meta=he.meta),this._completed||!xt||!ne(this._config.complete)||he&&he.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),xt||he&&he.meta.paused||this._nextChunk(),he}this._halted=!0},this._sendError=function(w){ne(this._config.error)?this._config.error(w):Xt&&this._config.error&&K.postMessage({workerId:ue.WORKER_ID,error:w,finished:!1})}}function jn(_){var w;(_=_||{}).chunkSize||(_.chunkSize=ue.RemoteChunkSize),un.call(this,_),this._nextChunk=qt?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(w=new XMLHttpRequest,this._config.withCredentials&&(w.withCredentials=this._config.withCredentials),qt||(w.onload=X(this._chunkLoaded,this),w.onerror=X(this._chunkError,this)),w.open(this._config.downloadRequestBody?"POST":"GET",this._input,!qt),this._config.downloadRequestHeaders){var x=this._config.downloadRequestHeaders;for(var V in x)w.setRequestHeader(V,x[V])}this._config.chunkSize&&w.setRequestHeader("Range","bytes="+this._start+"-"+(this._start+this._config.chunkSize-1));try{w.send(this._config.downloadRequestBody)}catch(he){this._chunkError(he.message)}qt&&0===w.status&&this._chunkError()}},this._chunkLoaded=function(){var V;4===w.readyState&&(w.status<200||400<=w.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:w.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(V=w.getResponseHeader("Content-Range"))?-1:parseInt(V.substring(V.lastIndexOf("/")+1))),this.parseChunk(w.responseText)))},this._chunkError=function(x){this._sendError(new Error(w.statusText||x))}}function er(_){var w,x;(_=_||{}).chunkSize||(_.chunkSize=ue.LocalChunkSize),un.call(this,_);var V=typeof FileReader<"u";this.stream=function(Y){this._input=Y,x=Y.slice||Y.webkitSlice||Y.mozSlice,V?((w=new FileReader).onload=X(this._chunkLoaded,this),w.onerror=X(this._chunkError,this)):w=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var Y=this._input;if(this._config.chunkSize){var he=Math.min(this._start+this._config.chunkSize,this._input.size);Y=x.call(Y,this._start,he)}var R=w.readAsText(Y,this._config.encoding);V||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(Y){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(Y.target.result)},this._chunkError=function(){this._sendError(w.error)}}function Me(_){var w;un.call(this,_=_||{}),this.stream=function(x){return w=x,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var x,V=this._config.chunkSize;return V?(x=w.substring(0,V),w=w.substring(V)):(x=w,w=""),this._finished=!w,this.parseChunk(x)}}}function xi(_){un.call(this,_=_||{});var w=[],x=!0,V=!1;this.pause=function(){un.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){un.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(Y){this._input=Y,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){V&&1===w.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),w.length?this.parseChunk(w.shift()):x=!0},this._streamData=X(function(Y){try{w.push("string"==typeof Y?Y:Y.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(w.shift()))}catch(he){this._streamError(he)}},this),this._streamError=X(function(Y){this._streamCleanUp(),this._sendError(Y)},this),this._streamEnd=X(function(){this._streamCleanUp(),V=!0,this._streamData("")},this),this._streamCleanUp=X(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function ns(_){var w,x,V,Y=Math.pow(2,53),he=-Y,R=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,xt=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,st=this,Q=0,ht=0,ce=!1,Pt=!1,Kt=[],q={data:[],errors:[],meta:{}};if(ne(_.step)){var Xe=_.step;_.step=function(re){if(q=re,vt())Ot();else{if(Ot(),0===q.data.length)return;Q+=re.data.length,_.preview&&Q>_.preview?x.abort():(q.data=q.data[0],Xe(q,st))}}}function at(re){return"greedy"===_.skipEmptyLines?""===re.join("").trim():1===re.length&&0===re[0].length}function Ot(){if(q&&V&&(Tt("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+ue.DefaultDelimiter+"'"),V=!1),_.skipEmptyLines)for(var re=0;re<q.data.length;re++)at(q.data[re])&&q.data.splice(re--,1);return vt()&&function(){if(q)if(Array.isArray(q.data[0])){for(var Ke=0;vt()&&Ke<q.data.length;Ke++)q.data[Ke].forEach(Ne);q.data.splice(0,1)}else q.data.forEach(Ne);function Ne(et,xe){ne(_.transformHeader)&&(et=_.transformHeader(et,xe)),Kt.push(et)}}(),function(){if(!q||!_.header&&!_.dynamicTyping&&!_.transform)return q;function Ne(et,xe){var J,tt=_.header?{}:[];for(J=0;J<et.length;J++){var de=J,bt=et[J];_.header&&(de=J>=Kt.length?"__parsed_extra":Kt[J]),_.transform&&(bt=_.transform(bt,de)),bt=Mt(de,bt),"__parsed_extra"===de?(tt[de]=tt[de]||[],tt[de].push(bt)):tt[de]=bt}return _.header&&(J>Kt.length?Tt("FieldMismatch","TooManyFields","Too many fields: expected "+Kt.length+" fields but parsed "+J,ht+xe):J<Kt.length&&Tt("FieldMismatch","TooFewFields","Too few fields: expected "+Kt.length+" fields but parsed "+J,ht+xe)),tt}var Ke=1;return!q.data.length||Array.isArray(q.data[0])?(q.data=q.data.map(Ne),Ke=q.data.length):q.data=Ne(q.data,0),_.header&&q.meta&&(q.meta.fields=Kt),ht+=Ke,q}()}function vt(){return _.header&&0===Kt.length}function Mt(re,Ne){return Ke=re,_.dynamicTypingFunction&&void 0===_.dynamicTyping[Ke]&&(_.dynamicTyping[Ke]=_.dynamicTypingFunction(Ke)),!0===(_.dynamicTyping[Ke]||_.dynamicTyping)?"true"===Ne||"TRUE"===Ne||"false"!==Ne&&"FALSE"!==Ne&&(function(et){if(R.test(et)){var xe=parseFloat(et);if(he<xe&&xe<Y)return!0}return!1}(Ne)?parseFloat(Ne):xt.test(Ne)?new Date(Ne):""===Ne?null:Ne):Ne;var Ke}function Tt(re,Ne,Ke,et){var xe={type:re,code:Ne,message:Ke};void 0!==et&&(xe.row=et),q.errors.push(xe)}this.parse=function(re,Ne,Ke){if(_.newline||(_.newline=function(tt,de){tt=tt.substring(0,1048576);var bt=new RegExp(Pi(de)+"([^]*?)"+Pi(de),"gm"),Gn=(tt=tt.replace(bt,"")).split("\r"),$t=tt.split("\n");if(1===Gn.length||1<$t.length&&$t[0].length<Gn[0].length)return"\n";for(var zn=0,_n=0;_n<Gn.length;_n++)"\n"===Gn[_n][0]&&zn++;return zn>=Gn.length/2?"\r\n":"\r"}(re,_.quoteChar||'"')),V=!1,_.delimiter)ne(_.delimiter)&&(_.delimiter=_.delimiter(re),q.meta.delimiter=_.delimiter);else{var xe=function(tt,de,bt,Gn,$t){var nt,zn,_n,Yt;$t=$t||[",","\t","|",";",ue.RECORD_SEP,ue.UNIT_SEP];for(var cn=0;cn<$t.length;cn++){var It=$t[cn],tr=0,wn=0,ll=0;_n=void 0;for(var Ar=new $n({comments:Gn,delimiter:It,newline:de,preview:10}).parse(tt),nr=0;nr<Ar.data.length;nr++)if(bt&&at(Ar.data[nr]))ll++;else{var kr=Ar.data[nr].length;wn+=kr,void 0!==_n?0<kr&&(tr+=Math.abs(kr-_n),_n=kr):_n=kr}0<Ar.data.length&&(wn/=Ar.data.length-ll),(void 0===zn||tr<=zn)&&(void 0===Yt||Yt<wn)&&1.99<wn&&(zn=tr,nt=It,Yt=wn)}return{successful:!!(_.delimiter=nt),bestDelimiter:nt}}(re,_.newline,_.skipEmptyLines,_.comments,_.delimitersToGuess);xe.successful?_.delimiter=xe.bestDelimiter:(V=!0,_.delimiter=ue.DefaultDelimiter),q.meta.delimiter=_.delimiter}var J=F(_);return _.preview&&_.header&&J.preview++,w=re,x=new $n(J),q=x.parse(w,Ne,Ke),Ot(),ce?{meta:{paused:!0}}:q||{meta:{paused:!1}}},this.paused=function(){return ce},this.pause=function(){ce=!0,x.abort(),w=ne(_.chunk)?"":w.substring(x.getCharIndex())},this.resume=function(){st.streamer._halted?(ce=!1,st.streamer.parseChunk(w,!0)):setTimeout(st.resume,3)},this.aborted=function(){return Pt},this.abort=function(){Pt=!0,x.abort(),q.meta.aborted=!0,ne(_.complete)&&_.complete(q),w=""}}function Pi(_){return _.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $n(_){var w,x=(_=_||{}).delimiter,V=_.newline,Y=_.comments,he=_.step,R=_.preview,xt=_.fastMode,st=w=void 0===_.quoteChar?'"':_.quoteChar;if(void 0!==_.escapeChar&&(st=_.escapeChar),("string"!=typeof x||-1<ue.BAD_DELIMITERS.indexOf(x))&&(x=","),Y===x)throw new Error("Comment character same as delimiter");!0===Y?Y="#":("string"!=typeof Y||-1<ue.BAD_DELIMITERS.indexOf(Y))&&(Y=!1),"\n"!==V&&"\r"!==V&&"\r\n"!==V&&(V="\n");var Q=0,ht=!1;this.parse=function(ce,Pt,Kt){if("string"!=typeof ce)throw new Error("Input must be a string");var q=ce.length,Xe=x.length,at=V.length,Ot=Y.length,vt=ne(he),Mt=[],Tt=[],re=[],Ne=Q=0;if(!ce)return Yt();if(xt||!1!==xt&&-1===ce.indexOf(w)){for(var Ke=ce.split(V),et=0;et<Ke.length;et++){if(Q+=(re=Ke[et]).length,et!==Ke.length-1)Q+=V.length;else if(Kt)return Yt();if(!Y||re.substring(0,Ot)!==Y){if(vt){if(Mt=[],$t(re.split(x)),cn(),ht)return Yt()}else $t(re.split(x));if(R&&R<=et)return Mt=Mt.slice(0,R),Yt(!0)}}return Yt()}for(var xe=ce.indexOf(x,Q),J=ce.indexOf(V,Q),tt=new RegExp(Pi(st)+Pi(w),"g"),de=ce.indexOf(w,Q);;)if(ce[Q]!==w)if(Y&&0===re.length&&ce.substring(Q,Q+Ot)===Y){if(-1===J)return Yt();J=ce.indexOf(V,Q=J+at),xe=ce.indexOf(x,Q)}else if(-1!==xe&&(xe<J||-1===J))re.push(ce.substring(Q,xe)),xe=ce.indexOf(x,Q=xe+Xe);else{if(-1===J)break;if(re.push(ce.substring(Q,J)),_n(J+at),vt&&(cn(),ht))return Yt();if(R&&Mt.length>=R)return Yt(!0)}else for(de=Q,Q++;;){if(-1===(de=ce.indexOf(w,de+1)))return Kt||Tt.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:Mt.length,index:Q}),zn();if(de===q-1)return zn(ce.substring(Q,de).replace(tt,w));if(w!==st||ce[de+1]!==st){if(w===st||0===de||ce[de-1]!==st){-1!==xe&&xe<de+1&&(xe=ce.indexOf(x,de+1)),-1!==J&&J<de+1&&(J=ce.indexOf(V,de+1));var bt=nt(-1===J?xe:Math.min(xe,J));if(ce[de+1+bt]===x){re.push(ce.substring(Q,de).replace(tt,w)),ce[Q=de+1+bt+Xe]!==w&&(de=ce.indexOf(w,Q)),xe=ce.indexOf(x,Q),J=ce.indexOf(V,Q);break}var Gn=nt(J);if(ce.substring(de+1+Gn,de+1+Gn+at)===V){if(re.push(ce.substring(Q,de).replace(tt,w)),_n(de+1+Gn+at),xe=ce.indexOf(x,Q),de=ce.indexOf(w,Q),vt&&(cn(),ht))return Yt();if(R&&Mt.length>=R)return Yt(!0);break}Tt.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:Mt.length,index:Q}),de++}}else de++}return zn();function $t(It){Mt.push(It),Ne=Q}function nt(It){var tr=0;if(-1!==It){var wn=ce.substring(de+1,It);wn&&""===wn.trim()&&(tr=wn.length)}return tr}function zn(It){return Kt||(void 0===It&&(It=ce.substring(Q)),re.push(It),Q=q,$t(re),vt&&cn()),Yt()}function _n(It){Q=It,$t(re),re=[],J=ce.indexOf(V,Q)}function Yt(It){return{data:Mt,errors:Tt,meta:{delimiter:x,linebreak:V,aborted:ht,truncated:!!It,cursor:Ne+(Pt||0)}}}function cn(){he(Yt()),Mt=[],Tt=[]}},this.abort=function(){ht=!0},this.getCharIndex=function(){return Q}}function N(_){var w=_.data,x=ii[w.workerId],V=!1;if(w.error)x.userError(w.error,w.file);else if(w.results&&w.results.data){var Y={abort:function(){V=!0,L(w.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:H,resume:H};if(ne(x.userStep)){for(var he=0;he<w.results.data.length&&(x.userStep({data:w.results.data[he],errors:w.results.errors,meta:w.results.meta},Y),!V);he++);delete w.results}else ne(x.userChunk)&&(x.userChunk(w.results,Y,w.file),delete w.results)}w.finished&&!V&&L(w.workerId,w.results)}function L(_,w){var x=ii[_];ne(x.userComplete)&&x.userComplete(w),x.terminate(),delete ii[_]}function H(){throw new Error("Not implemented.")}function F(_){if("object"!=typeof _||null===_)return _;var w=Array.isArray(_)?[]:{};for(var x in _)w[x]=F(_[x]);return w}function X(_,w){return function(){_.apply(w,arguments)}}function ne(_){return"function"==typeof _}return Xt&&(K.onmessage=function(_){var w=_.data;if(void 0===ue.WORKER_ID&&w&&(ue.WORKER_ID=w.workerId),"string"==typeof w.input)K.postMessage({workerId:ue.WORKER_ID,results:ue.parse(w.input,w.config),finished:!0});else if(K.File&&w.input instanceof File||w.input instanceof Object){var x=ue.parse(w.input,w.config);x&&K.postMessage({workerId:ue.WORKER_ID,results:x,finished:!0})}}),(jn.prototype=Object.create(un.prototype)).constructor=jn,(er.prototype=Object.create(un.prototype)).constructor=er,(Me.prototype=Object.create(Me.prototype)).constructor=Me,(xi.prototype=Object.create(un.prototype)).constructor=xi,ue},void 0!==(yi=yt.apply(Tn,[]))&&(ni.exports=yi)},305:ni=>{"use strict";ni.exports=JSON.parse('[{"name":"Gold dragon","kg":580600,"url":"http://forgottenrealms.wikia.com/wiki/Gold_dragon"},{"name":"Silver dragon","kg":580599,"url":"https://forgottenrealms.fandom.com/wiki/Silver_dragon"},{"name":"Bronze dragon","kg":72575,"url":"https://forgottenrealms.fandom.com/wiki/Bronze_dragon"},{"name":"Copper dragon","kg":72574,"url":"https://forgottenrealms.fandom.com/wiki/Copper_dragon"},{"kg":27216,"name":"Brass dragon","url":"https://forgottenrealms.fandom.com/wiki/Brass_dragon"},{"name":"Blue whale","kg":136000},{"name":"Tarrasque","kg":130000,"url":"http://forgottenrealms.wikia.com/wiki/Tarrasque"},{"kg":100000,"name":"Bowhead (whale)"},{"kg":96400,"name":"Argentinosaurus huinculensis (dinosaur)"},{"kg":80000,"name":"\'Antarctosaurus\' giganteus (dinosaur)"},{"kg":75900,"name":"Notocolossus gonzalezparejasi (dinosaur)"},{"kg":75000,"name":"Mamenchisaurus sinocanadorum (dinosaur)"},{"kg":72600,"name":"Apatosaurus ajax (dinosaur)"},{"kg":70000,"name":"Fin whale"},{"kg":69000,"name":"Patagotitan mayorum (dinosaur)"},{"kg":60000,"name":"Sauroposeidon proteles (dinosaur)"},{"kg":59300,"name":"Dreadnoughtus schrani (dinosaur)"},{"kg":59000,"name":"Paralititan stromeri (dinosaur)"},{"kg":45000,"name":"Southern right whale"},{"kg":30000,"name":"Humpback whale"},{"kg":28500,"name":"Gray whale"},{"name":"Northen right whale","kg":23000,"url":"https://en.wikipedia.org/wiki/North_Atlantic_right_whale"},{"kg":20900,"name":"Spinosaurus aegyptiacus (dinosaur)"},{"kg":20000,"name":"Sei whale"},{"kg":18500,"name":"Tyrannosaurus rex (dinosaur)"},{"kg":16000,"name":"Bryde\'s whale"},{"kg":15100,"name":"Carcharodontosaurus saharicus (dinosaur)"},{"kg":13800,"name":"Giganotosaurus carolinii (dinosaur)"},{"kg":11380,"name":"Baird\'s beaked whale"},{"kg":7500,"name":"Minke whale"},{"kg":7300,"name":"Acrocanthosaurus atokensis (dinosaur)"},{"kg":7000,"name":"Oxalaia quilombensis (dinosaur)"},{"kg":6999,"name":"Tyrannotitan chubutensis (dinosaur)"},{"kg":6500,"name":"Northen bottlenose whale"},{"kg":6400,"name":"Deinocheirus mirificus (dinosaur)"},{"kg":6000,"name":"Chilantaisaurus tashuikouensis (dinosaur)"},{"kg":5600,"name":"Gervais\'s beaked whale"},{"kg":5200,"name":"Suchomimus tenerensis (dinosaur)"},{"kg":4800,"name":"African elephant"},{"kg":3988,"name":"Killer whale"},{"kg":3750,"name":"Hippopotamus"},{"kg":7500,"name":"Asian elephant"},{"kg":2701,"name":"Cuvier\'s beaked whale"},{"kg":2200,"name":"Short-finned pilot whale"},{"kg":2175,"name":"White rhinoceros"},{"name":"Javan rhinoceros","kg":1750,"url":"https://en.wikipedia.org/wiki/Javan_rhinoceros"},{"kg":1602,"name":"Indian rhinoceros"},{"kg":1600,"name":"Northen elephant seal"},{"kg":1430,"name":"Beluga"},{"kg":1400,"name":"Southern elephant seal"},{"kg":1260,"name":"Sumatran rhinoceros"},{"kg":1250,"name":"Narwhal"},{"kg":1100,"name":"Black rhinoceros"},{"kg":1088,"name":"Blainville\'s beaked whale"},{"kg":1060,"name":"Long-finned pilot whale"},{"kg":1013,"name":"Walrus"},{"kg":825,"name":"Gaur"},{"kg":800,"name":"Giraffe"},{"kg":748,"name":"False killer whale"},{"kg":725,"name":"Water buffalo"},{"kg":700,"name":"African buffalo"},{"kg":667,"name":"Yak"},{"kg":630,"name":"American bison"},{"kg":610,"name":"European bison"},{"kg":480,"name":"Amazonian manatee"},{"kg":475,"name":"Polar bear"},{"kg":475,"name":"Bactrian camel"},{"kg":425,"name":"Risso\'s dolphin"},{"kg":415,"name":"Northen sea lion"},{"kg":405,"name":"Hooded seal"},{"kg":386,"name":"Moose"},{"kg":425,"name":"Grevy\'s zebra"},{"kg":373,"name":"Bearded seal"},{"kg":368,"name":"Leopard seal"},{"kg":360,"name":"Dugong"},{"kg":322,"name":"Caribbean manatee"},{"kg":315,"name":"Muskox"},{"kg":308,"name":"Bongo"},{"kg":300,"name":"Baird\'s tapir"},{"kg":296,"name":"Mountain zebra"},{"name":"Indo-Pacific humpbacked dolphin","kg":280,"url":"https://en.wikipedia.org/wiki/Indian_Ocean_humpback_dolphin"},{"kg":278,"name":"grizzly bear"},{"kg":275,"name":"Kiang"},{"kg":268,"name":"Gray seal"},{"kg":250,"name":"Malayan tapir"},{"kg":240,"name":"Tamaraw"},{"kg":230,"name":"Kulan"},{"kg":225,"name":"Roan antelope"},{"kg":223,"name":"Hawaiian monk seal"},{"kg":218,"name":"Greater kudu"},{"kg":215,"name":"Pygmy hippopotamus"},{"kg":208,"name":"Southern sea lion"},{"kg":206,"name":"Melon-headed whale"},{"kg":203,"name":"Giant forest hog"},{"kg":200,"name":"Red deer"},{"kg":190,"name":"Australian sea lion"},{"kg":188,"name":"New Zealand sea lion"},{"kg":187,"name":"Pere David\'s deer"},{"kg":185,"name":"Sambar"},{"kg":180,"name":"Wild boar"},{"kg":178,"name":"Scimitar-horned oryx"},{"kg":177,"name":"Ross seal"},{"kg":175,"name":"Lion"},{"kg":170,"name":"Gemsbok"},{"kg":166,"name":"Northern fur seal"},{"kg":165,"name":"Blue wildebeest"},{"kg":164,"name":"Fraser\'s dolphin"},{"kg":160,"name":"Argali"},{"kg":159,"name":"Hartebeest"},{"kg":155,"name":"Anoa"},{"kg":154,"name":"American black bear"},{"kg":150,"name":"Mountain anoa"},{"kg":149,"name":"Mountain tapir"},{"kg":140,"name":"Gorilla"},{"kg":135,"name":"Thorold\'s deer"},{"kg":132,"name":"Black wildebeest"},{"kg":128,"name":"South African fur seal"},{"kg":123,"name":"Eld\'s deer"},{"kg":121,"name":"Arabian oryx"},{"kg":120,"name":"Tiger"},{"kg":118,"name":"Giant panda"},{"kg":115,"name":"Harbor seal"},{"kg":114,"name":"Rough-toothed dolphin"},{"kg":113,"name":"Striped dolphin"},{"kg":110,"name":"Topi"},{"kg":109,"name":"Spectacled bear"},{"kg":105,"name":"Kob"},{"kg":104,"name":"Asiatic black bear"},{"kg":103,"name":"Bearded pig"},{"kg":101,"name":"Reindeer"},{"kg":100,"name":"Sloth bear"},{"kg":95,"name":"Lechwe"},{"kg":93,"name":"Addax"},{"kg":90,"name":"Mountain goat"},{"kg":88,"name":"Bushpig"},{"kg":87,"name":"White-tailed deer"},{"kg":86,"name":"Caspian seal"},{"kg":85,"name":"Spotted seal"},{"kg":84,"name":"Amazon dolphin"},{"kg":83,"name":"Ibex"},{"kg":81,"name":"Jaguar"},{"kg":80,"name":"Short-beaked saddleback dolphin"},{"kg":76,"name":"Javan pig"},{"kg":75,"name":"Nilgiri tahr"},{"kg":73,"name":"Dall\'s sheep"},{"kg":72,"name":"Babirusa"},{"kg":70,"name":"Bighorn sheep"},{"kg":67,"name":"Grant\'s gazelle"},{"kg":64,"name":"Orangutan"},{"kg":63,"name":"Cougar"},{"kg":62,"name":"Yellow-backed duiker"},{"kg":60,"name":"Aardvark"},{"kg":58,"name":"Southern reedbuck"},{"kg":57,"name":"Mule deer"},{"kg":56,"name":"Hector\'s dolphin"},{"kg":55,"name":"Red kangaroo"},{"kg":54,"name":"Leopard"},{"kg":53,"name":"Harbor porpoise"},{"kg":50,"name":"Snow leopard"},{"kg":49,"name":"Rhim gazelle"},{"kg":47,"name":"River dolphin"},{"kg":46,"name":"Sun bear"},{"kg":45,"name":"Chimpanzee"},{"kg":44,"name":"Gerenuk"},{"kg":42,"name":"Brown hyena"},{"kg":41,"name":"Calamian deer"},{"kg":40,"name":"Bonono"},{"kg":39,"name":"Eastern roe deer"},{"kg":38,"name":"Blackbuck"},{"kg":36,"name":"Chital"},{"kg":35,"name":"Himalayan tahr"},{"kg":34,"name":"Tufted deer"},{"kg":33,"name":"Giant armadillo"},{"kg":32,"name":"Goral"},{"kg":31,"name":"Northern hairy-nosed wombat"},{"kg":30,"name":"Mongolian gazelle"},{"kg":29,"name":"Giant anteater"},{"kg":28,"name":"Western gray kangaroo"},{"kg":27,"name":"Gray wolf"},{"kg":26,"name":"Hairy-nosed wobat"},{"kg":25,"name":"European beaver"},{"kg":24,"name":"Giant otter"},{"kg":23,"name":"Lynx"},{"kg":22,"name":"Maned wolf"},{"kg":21,"name":"Indian muntjac"},{"kg":20,"name":"Clouded leopard"},{"kg":19,"name":"Four-horned antelope"},{"kg":18,"name":"Hamadryas baboon"},{"kg":17,"name":"Whiptail wallaby"},{"kg":16,"name":"Wolverine"},{"kg":15,"name":"Proboscis monkey"},{"kg":14,"name":"Asiatic golden cat"},{"kg":13,"name":"Coyote"},{"kg":12,"name":"Chinese water deer"},{"kg":11,"name":"Grizzled tree kangaroo"},{"kg":10,"name":"Doria\'s tree kangaroo"},{"kg":9,"name":"Bobcat"},{"kg":8,"name":"Black spider monkey"},{"kg":7,"name":"Tasmanian devil"},{"name":"Common raccon","kg":6,"url":"https://en.wikipedia.org/wiki/Raccoon"},{"kg":5,"name":"Gray fox"},{"kg":4,"name":"Striped skunk"},{"kg":3,"name":"Large bamboo rat"},{"kg":2,"name":"Red giant flying squirrel"},{"kg":1,"name":"Guinea pig"},{"kg":0.5,"name":"African hedgehog"}]')}},ni=>{ni(ni.s=1997)}]);